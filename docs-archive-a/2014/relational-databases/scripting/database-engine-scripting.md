---
title: Scripting del motor de base de datos
ms.custom: seo-lt-2019
ms.date: 06/13/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: database-engine
ms.topic: conceptual
helpviewer_keywords:
- scripts [SQL Server], PowerShell
- scripts [SQL Server]
- scripting [SQL Server Database Engine]
- scripting [SQL Server Database Engine], PowerShell
ms.assetid: 9978a884-59a2-4e7f-a82a-335149f3a261
author: rothja
ms.author: jroth
ms.openlocfilehash: 79dca27e2aa5f2c0bc473534e0a8b204345b3993
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 08/04/2020
ms.locfileid: "87661890"
---
# <a name="database-engine-scripting"></a><span data-ttu-id="bb5b8-102">Scripting del motor de base de datos</span><span class="sxs-lookup"><span data-stu-id="bb5b8-102">Database Engine Scripting</span></span>
  <span data-ttu-id="bb5b8-103">El [!INCLUDE[ssDEnoversion](../../includes/ssdenoversion-md.md)] admite el entorno de scripting de [!INCLUDE[msCoName](../../includes/msconame-md.md)] PowerShell para administrar las instancias del [!INCLUDE[ssDE](../../includes/ssde-md.md)] y los objetos en las instancias.</span><span class="sxs-lookup"><span data-stu-id="bb5b8-103">The [!INCLUDE[ssDEnoversion](../../includes/ssdenoversion-md.md)] supports the [!INCLUDE[msCoName](../../includes/msconame-md.md)] PowerShell scripting environment to manage instances of the [!INCLUDE[ssDE](../../includes/ssde-md.md)] and the objects in the instances.</span></span> <span data-ttu-id="bb5b8-104">También puede generar y ejecutar consultas de [!INCLUDE[ssDE](../../includes/ssde-md.md)] que contengan [!INCLUDE[tsql](../../includes/tsql-md.md)] y XQuery en entornos muy similares a los de scripts.</span><span class="sxs-lookup"><span data-stu-id="bb5b8-104">You can also build and run [!INCLUDE[ssDE](../../includes/ssde-md.md)] queries that contain [!INCLUDE[tsql](../../includes/tsql-md.md)] and XQuery in environments very similar to scripting environments.</span></span>  
  
## <a name="sql-server-powershell"></a><span data-ttu-id="bb5b8-105">SQL Server PowerShell</span><span class="sxs-lookup"><span data-stu-id="bb5b8-105">SQL Server PowerShell</span></span>  
 [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] <span data-ttu-id="bb5b8-106">incluye dos complementos de [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] PowerShell que implementan:</span><span class="sxs-lookup"><span data-stu-id="bb5b8-106">includes two [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] PowerShell snap-ins that implement:</span></span>  
  
-   <span data-ttu-id="bb5b8-107">Un proveedor de [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] PowerShell que expone las jerarquías del modelo de objetos de administración de [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] como rutas de acceso de PowerShell que son similares a las rutas de acceso al sistema de archivos.</span><span class="sxs-lookup"><span data-stu-id="bb5b8-107">A [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] PowerShell provider that exposes the [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] management object model hierarchies as PowerShell paths that are similar to file system paths.</span></span> <span data-ttu-id="bb5b8-108">Puede utilizar las clases del modelo de objetos de administración de [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] para administrar los objetos representados en cada nodo de la ruta de acceso.</span><span class="sxs-lookup"><span data-stu-id="bb5b8-108">You can use the [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] management object model classes to manage the objects represented at each node of the path.</span></span>  
  
-   <span data-ttu-id="bb5b8-109">Un conjunto de cmdlets de [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] que implementan los comandos de [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] .</span><span class="sxs-lookup"><span data-stu-id="bb5b8-109">A set of [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] cmdlets that implement [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] commands.</span></span> <span data-ttu-id="bb5b8-110">Uno de los cmdlets es **Invoke-Sqlcmd**.</span><span class="sxs-lookup"><span data-stu-id="bb5b8-110">One of the cmdlets is **Invoke-Sqlcmd**.</span></span> <span data-ttu-id="bb5b8-111">Se utiliza para ejecutar [!INCLUDE[ssDE](../../includes/ssde-md.md)] scripts de consulta que se ejecutarán con la `sqlcmd` utilidad.</span><span class="sxs-lookup"><span data-stu-id="bb5b8-111">This is used to run [!INCLUDE[ssDE](../../includes/ssde-md.md)] Query scripts to be run with the `sqlcmd` utility.</span></span>  
  
 [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] <span data-ttu-id="bb5b8-112">proporciona estas características para ejecutar PowerShell:</span><span class="sxs-lookup"><span data-stu-id="bb5b8-112">provides these features for running PowerShell:</span></span>  
  
-   <span data-ttu-id="bb5b8-113">El módulo **sqlps** de PowerShell, que se puede importar en una sesión de PowerShell y que carga los complementos de [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] . Puede ejecutar interactivamente los comandos de PowerShell ad hoc.</span><span class="sxs-lookup"><span data-stu-id="bb5b8-113">The **sqlps** PowerShell module that can be imported to a PowerShell session, the module then loads the [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] snap-ins. You can interactively run ad hoc PowerShell commands.</span></span> <span data-ttu-id="bb5b8-114">Puede ejecutar archivos de script utilizando un comando como .\MyFolder\MyScript.ps1.</span><span class="sxs-lookup"><span data-stu-id="bb5b8-114">You can run script files using a command such as .\MyFolder\MyScript.ps1.</span></span>  
  
-   <span data-ttu-id="bb5b8-115">Los archivos de script de PowerShell se pueden utilizar como entrada de los pasos de trabajo de PowerShell del Agente [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] que ejecutan los scripts a intervalos programados o como respuesta a los eventos del sistema.</span><span class="sxs-lookup"><span data-stu-id="bb5b8-115">PowerShell script files can be used as input to [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] Agent PowerShell job steps that run the scripts either at scheduled intervals or in response to system events.</span></span>  
  
-   <span data-ttu-id="bb5b8-116">La utilidad **sqlps** que inicia PowerShell e importa el módulo de [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] .</span><span class="sxs-lookup"><span data-stu-id="bb5b8-116">The **sqlps** utility that starts PowerShell and imports the [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] module.</span></span> <span data-ttu-id="bb5b8-117">Después puede realizar todas las acciones que admite el módulo.</span><span class="sxs-lookup"><span data-stu-id="bb5b8-117">You can then perform all actions supported by the module.</span></span> <span data-ttu-id="bb5b8-118">Puede iniciar la utilidad **sqlps** en un símbolo del sistema o haciendo clic con el botón derecho en los nodos del árbol del Explorador de objetos de [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] Management Studio y seleccionando **Iniciar PowerShell**.</span><span class="sxs-lookup"><span data-stu-id="bb5b8-118">You can start the **sqlps** utility either in a command prompt or by right-clicking on the nodes in the [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] Management Studio Object Explorer tree and selecting **Start PowerShell**.</span></span>  
  
## <a name="database-engine-queries"></a><span data-ttu-id="bb5b8-119">Consultas del motor de base de datos</span><span class="sxs-lookup"><span data-stu-id="bb5b8-119">Database Engine Queries</span></span>  
 [!INCLUDE[ssDE](../../includes/ssde-md.md)] <span data-ttu-id="bb5b8-120">contienen tres tipos de elementos:</span><span class="sxs-lookup"><span data-stu-id="bb5b8-120">query scripts contain three types of elements:</span></span>  
  
-   [!INCLUDE[tsql](../../includes/tsql-md.md)] <span data-ttu-id="bb5b8-121">.</span><span class="sxs-lookup"><span data-stu-id="bb5b8-121">language statements.</span></span>  
  
-   <span data-ttu-id="bb5b8-122">Instrucciones del lenguaje XQuery</span><span class="sxs-lookup"><span data-stu-id="bb5b8-122">XQuery language statements</span></span>  
  
-   <span data-ttu-id="bb5b8-123">Comandos y variables de la `sqlcmd` utilidad.</span><span class="sxs-lookup"><span data-stu-id="bb5b8-123">Commands and variables from the `sqlcmd` utility.</span></span>  
  
 [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] <span data-ttu-id="bb5b8-124">proporciona tres entornos para generar y ejecutar consultas de [!INCLUDE[ssDE](../../includes/ssde-md.md)] :</span><span class="sxs-lookup"><span data-stu-id="bb5b8-124">provides three environments for building and running [!INCLUDE[ssDE](../../includes/ssde-md.md)] queries:</span></span>  
  
-   <span data-ttu-id="bb5b8-125">Puede ejecutar y depurar interactivamente consultas de [!INCLUDE[ssDE](../../includes/ssde-md.md)] en el Editor de consultas de [!INCLUDE[ssDE](../../includes/ssde-md.md)] en [!INCLUDE[ssManStudioFull](../../includes/ssmanstudiofull-md.md)].</span><span class="sxs-lookup"><span data-stu-id="bb5b8-125">You can interactively run and debug [!INCLUDE[ssDE](../../includes/ssde-md.md)] queries in the [!INCLUDE[ssDE](../../includes/ssde-md.md)] Query Editor in [!INCLUDE[ssManStudioFull](../../includes/ssmanstudiofull-md.md)].</span></span> <span data-ttu-id="bb5b8-126">Puede codificar y depurar varias instrucciones en una sesión; a continuación, puede guardar todas las instrucciones en un único archivo de script.</span><span class="sxs-lookup"><span data-stu-id="bb5b8-126">You can code and debug several statements in one session, then save all of the statements in a single script file.</span></span>  
  
-   <span data-ttu-id="bb5b8-127">La `sqlcmd` utilidad del símbolo del sistema le permite ejecutar consultas de forma interactiva [!INCLUDE[ssDE](../../includes/ssde-md.md)] y también ejecutar [!INCLUDE[ssDE](../../includes/ssde-md.md)] archivos de script de consulta existentes.</span><span class="sxs-lookup"><span data-stu-id="bb5b8-127">The `sqlcmd` command prompt utility lets you interactively run [!INCLUDE[ssDE](../../includes/ssde-md.md)] queries, and also run existing [!INCLUDE[ssDE](../../includes/ssde-md.md)] query script files.</span></span>  
  
 [!INCLUDE[ssDE](../../includes/ssde-md.md)] <span data-ttu-id="bb5b8-128">se suelen codificar interactivamente en [!INCLUDE[ssManStudioFull](../../includes/ssmanstudiofull-md.md)] usando el Editor de consultas de [!INCLUDE[ssDE](../../includes/ssde-md.md)] .</span><span class="sxs-lookup"><span data-stu-id="bb5b8-128">query script files are typically coded interactively in [!INCLUDE[ssManStudioFull](../../includes/ssmanstudiofull-md.md)] by using the [!INCLUDE[ssDE](../../includes/ssde-md.md)] Query Editor.</span></span> <span data-ttu-id="bb5b8-129">El archivo se puede abrir después en uno de estos entornos:</span><span class="sxs-lookup"><span data-stu-id="bb5b8-129">The file can later be opened in one of these environments:</span></span>  
  
-   <span data-ttu-id="bb5b8-130">Use el menú [!INCLUDE[ssManStudioFull](../../includes/ssmanstudiofull-md.md)] **Archivo**/**Abrir** para abrir el archivo en una nueva ventana del Editor de consultas de [!INCLUDE[ssDE](../../includes/ssde-md.md)].</span><span class="sxs-lookup"><span data-stu-id="bb5b8-130">Use the [!INCLUDE[ssManStudioFull](../../includes/ssmanstudiofull-md.md)] **File**/**Open** menu to open the file in a new [!INCLUDE[ssDE](../../includes/ssde-md.md)] Query Editor window.</span></span>  
  
-   <span data-ttu-id="bb5b8-131">Utilice el parámetro **-i**_input_file_ para ejecutar el archivo con la `sqlcmd` utilidad.</span><span class="sxs-lookup"><span data-stu-id="bb5b8-131">Use the **-i**_input_file_ parameter to run the file with the `sqlcmd` utility.</span></span>  
  
-   <span data-ttu-id="bb5b8-132">Use el parámetro **-QueryFromFile** para ejecutar el archivo con el cmdlet **Invoke-Sqlcmd** en los scripts de [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] PowerShell.</span><span class="sxs-lookup"><span data-stu-id="bb5b8-132">Use the **-QueryFromFile** parameter to run the file with the **Invoke-Sqlcmd** cmdlet in [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] PowerShell scripts.</span></span>  
  
-   <span data-ttu-id="bb5b8-133">Utilice los pasos de trabajo de [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] del Agente [!INCLUDE[tsql](../../includes/tsql-md.md)] para ejecutar los scripts a intervalos programados o en respuesta a los eventos del sistema.</span><span class="sxs-lookup"><span data-stu-id="bb5b8-133">Use [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] Agent [!INCLUDE[tsql](../../includes/tsql-md.md)] job steps to run the scripts either at scheduled intervals or in response to system events.</span></span>  
  
 <span data-ttu-id="bb5b8-134">Además, puede utilizar el Asistente para scripts de [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] con el fin de generar scripts de [!INCLUDE[tsql](../../includes/tsql-md.md)] .</span><span class="sxs-lookup"><span data-stu-id="bb5b8-134">In addition, you can use the [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] Generate Script Wizard to generate [!INCLUDE[tsql](../../includes/tsql-md.md)] scripts.</span></span> <span data-ttu-id="bb5b8-135">Puede hacer clic con el botón derecho en los objetos del Explorador de objetos de [!INCLUDE[ssManStudioFull](../../includes/ssmanstudiofull-md.md)] y, después, seleccionar el elemento de menú **Generar script** .</span><span class="sxs-lookup"><span data-stu-id="bb5b8-135">You can right-click objects in the [!INCLUDE[ssManStudioFull](../../includes/ssmanstudiofull-md.md)] Object Explorer, then select the **Generate Script** menu item.</span></span> <span data-ttu-id="bb5b8-136">**Generar script** inicia el asistente, que le guía a través del proceso de creación de un script.</span><span class="sxs-lookup"><span data-stu-id="bb5b8-136">**Generate Script** launches the wizard, which guides you through the process of creating a script.</span></span>  
  
## <a name="database-engine-scripting-tasks"></a><span data-ttu-id="bb5b8-137">Scripting del motor de base de datos</span><span class="sxs-lookup"><span data-stu-id="bb5b8-137">Database Engine Scripting Tasks</span></span>  
  
|<span data-ttu-id="bb5b8-138">Descripción de la tarea</span><span class="sxs-lookup"><span data-stu-id="bb5b8-138">Task Description</span></span>|<span data-ttu-id="bb5b8-139">Tema</span><span class="sxs-lookup"><span data-stu-id="bb5b8-139">Topic</span></span>|  
|----------------------|-----------|  
|<span data-ttu-id="bb5b8-140">Describe cómo usar el código y los editores de texto en [!INCLUDE[ssManStudio](../../includes/ssmanstudio-md.md)] para desarrollar, para depurar, y ejecutar interactivamente los scripts de [!INCLUDE[tsql](../../includes/tsql-md.md)] .</span><span class="sxs-lookup"><span data-stu-id="bb5b8-140">Describes how to use the code and text editors in [!INCLUDE[ssManStudio](../../includes/ssmanstudio-md.md)] to interactively develop, debug, and run [!INCLUDE[tsql](../../includes/tsql-md.md)] scripts</span></span>|[<span data-ttu-id="bb5b8-141">Editores de consultas y texto &#40;SQL Server Management Studio&#41;</span><span class="sxs-lookup"><span data-stu-id="bb5b8-141">Query and Text Editors &#40;SQL Server Management Studio&#41;</span></span>](../scripting/query-and-text-editors-sql-server-management-studio.md)|  
|<span data-ttu-id="bb5b8-142">Describe cómo usar la utilidad de `sqlcmd` para ejecutar scripts de [!INCLUDE[tsql](../../includes/tsql-md.md)] del símbolo del sistema, incluida la capacidad de desarrollar de forma interactiva los scripts.</span><span class="sxs-lookup"><span data-stu-id="bb5b8-142">Describes how to use the `sqlcmd` utility to run [!INCLUDE[tsql](../../includes/tsql-md.md)] scripts from the command prompt, including the ability to interactively develop scripts.</span></span>|[<span data-ttu-id="bb5b8-143">Temas de procedimientos sobre sqlcmd</span><span class="sxs-lookup"><span data-stu-id="bb5b8-143">sqlcmd How-to Topics</span></span>](../../database-engine/sqlcmd-how-to-topics.md)|  
|<span data-ttu-id="bb5b8-144">Describe cómo integrar los componentes de SQL Server en un entorno de Windows PowerShell 2.0 y, a continuación, compilar scripts de PowerShell y administrar instancias y objetos de SQL Server.</span><span class="sxs-lookup"><span data-stu-id="bb5b8-144">Describes how to integrate the SQL Server components into a Windows PowerShell 2.0 environment and then build PowerShell scripts for managing SQL Server instances and objects.</span></span>|[<span data-ttu-id="bb5b8-145">SQL Server PowerShell</span><span class="sxs-lookup"><span data-stu-id="bb5b8-145">SQL Server PowerShell</span></span>](../../powershell/sql-server-powershell.md)|  
|<span data-ttu-id="bb5b8-146">Describe cómo usar el asistente de **Generar y publicar scripts** para crear scripts de [!INCLUDE[tsql](../../includes/tsql-md.md)] que vuelven a crear los objetos de una base de datos.</span><span class="sxs-lookup"><span data-stu-id="bb5b8-146">Describes how to use the **Generate and Publish Scripts** wizard to create [!INCLUDE[tsql](../../includes/tsql-md.md)] scripts that recreate one or more of the objects from a database.</span></span>|[<span data-ttu-id="bb5b8-147">Generar scripts &#40;SQL Server Management Studio&#41;</span><span class="sxs-lookup"><span data-stu-id="bb5b8-147">Generate Scripts &#40;SQL Server Management Studio&#41;</span></span>](generate-scripts-sql-server-management-studio.md)|  
  
## <a name="see-also"></a><span data-ttu-id="bb5b8-148">Consulte también</span><span class="sxs-lookup"><span data-stu-id="bb5b8-148">See Also</span></span>  
 <span data-ttu-id="bb5b8-149">[sqlcmd (utilidad)](../../tools/sqlcmd-utility.md) </span><span class="sxs-lookup"><span data-stu-id="bb5b8-149">[sqlcmd Utility](../../tools/sqlcmd-utility.md) </span></span>  
 [<span data-ttu-id="bb5b8-150">Tutorial: Escribir instrucciones Transact-SQL</span><span class="sxs-lookup"><span data-stu-id="bb5b8-150">Tutorial: Writing Transact-SQL Statements</span></span>](../../t-sql/tutorial-writing-transact-sql-statements.md)  
  
  
