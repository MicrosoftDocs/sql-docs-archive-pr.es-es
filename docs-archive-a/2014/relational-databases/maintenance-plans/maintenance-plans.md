---
title: Planes de mantenimiento | Microsoft Docs
ms.custom: ''
ms.date: 06/13/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: supportability
ms.topic: conceptual
f1_keywords:
- SQL12.AG.MAINTPLAN.LEGACY.F1
helpviewer_keywords:
- maintenance plans [SQL Server], about database maintenance plans
- maintenance plans [SQL Server], database compatibility level displayed in designer
- maintenance plans [SQL Server]
ms.assetid: 5982ca65-74fe-44e3-aef9-00a65a0db169
author: MikeRayMSFT
ms.author: mikeray
ms.openlocfilehash: 2f614e2cfad78cb1efddc49cc897ca57087fec68
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 08/04/2020
ms.locfileid: "87662019"
---
# <a name="maintenance-plans"></a><span data-ttu-id="0eb59-102">Planes de mantenimiento</span><span class="sxs-lookup"><span data-stu-id="0eb59-102">Maintenance Plans</span></span>
  <span data-ttu-id="0eb59-103">Los planes de mantenimiento crean un flujo de trabajo de las tareas necesarias para asegurarse de que la base de datos está optimizada, se realizan copias de seguridad de la misma con regularidad y no tiene incoherencias.</span><span class="sxs-lookup"><span data-stu-id="0eb59-103">Maintenance plans create a workflow of the tasks required to make sure that your database is optimized, regularly backed up, and free of inconsistencies.</span></span> <span data-ttu-id="0eb59-104">El Asistente para planes de mantenimiento también crea planes de mantenimiento principales, pero la creación manual de planes le da mucha más flexibilidad.</span><span class="sxs-lookup"><span data-stu-id="0eb59-104">The Maintenance Plan Wizard also creates core maintenance plans, but creating plans manually gives you much more flexibility.</span></span>  
  
## <a name="benefits-of-maintenance-plans"></a><span data-ttu-id="0eb59-105">Ventajas de los planes de mantenimiento</span><span class="sxs-lookup"><span data-stu-id="0eb59-105">Benefits of Maintenance Plans</span></span>  
 <span data-ttu-id="0eb59-106">En [!INCLUDE[ssDECurrent](../../includes/ssdecurrent-md.md)], los planes de mantenimiento crean un paquete de [!INCLUDE[ssISnoversion](../../includes/ssisnoversion-md.md)] , que ejecuta un trabajo del Agente [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] .</span><span class="sxs-lookup"><span data-stu-id="0eb59-106">In [!INCLUDE[ssDECurrent](../../includes/ssdecurrent-md.md)], maintenance plans create an [!INCLUDE[ssISnoversion](../../includes/ssisnoversion-md.md)] package, which is run by a [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] Agent job.</span></span> <span data-ttu-id="0eb59-107">Los planes de mantenimiento se pueden ejecutar manual o automáticamente a intervalos programados.</span><span class="sxs-lookup"><span data-stu-id="0eb59-107">Maintenance plans can be run manually or automatically at scheduled intervals.</span></span>  
  
 <span data-ttu-id="0eb59-108">Los planes de mantenimiento de [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)] proporcionan las características siguientes:</span><span class="sxs-lookup"><span data-stu-id="0eb59-108">[!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)] maintenance plans provide the following features:</span></span>  
  
-   <span data-ttu-id="0eb59-109">Creación de flujos de trabajo con diferentes tareas de mantenimiento típicas.</span><span class="sxs-lookup"><span data-stu-id="0eb59-109">Workflow creation using a variety of typical maintenance tasks.</span></span> <span data-ttu-id="0eb59-110">También puede crear sus propios scripts [!INCLUDE[tsql](../../includes/tsql-md.md)] personalizados.</span><span class="sxs-lookup"><span data-stu-id="0eb59-110">You can also create your own custom [!INCLUDE[tsql](../../includes/tsql-md.md)] scripts.</span></span>  
  
-   <span data-ttu-id="0eb59-111">Jerarquías conceptuales.</span><span class="sxs-lookup"><span data-stu-id="0eb59-111">Conceptual hierarchies.</span></span> <span data-ttu-id="0eb59-112">Cada plan le permite crear o editar flujos de trabajo de tareas.</span><span class="sxs-lookup"><span data-stu-id="0eb59-112">Each plan lets you create or edit task workflows.</span></span> <span data-ttu-id="0eb59-113">Las tareas de cada plan se pueden agrupar en subplanes, que se pueden programar para ejecutarse a horas diferentes.</span><span class="sxs-lookup"><span data-stu-id="0eb59-113">Tasks in each plan can be grouped into subplans, which can be scheduled to run at different times.</span></span>  
  
-   <span data-ttu-id="0eb59-114">Compatibilidad con planes multiservidor que se pueden utilizar en entornos de servidor maestro o servidor de destino.</span><span class="sxs-lookup"><span data-stu-id="0eb59-114">Support for multiserver plans that can be used in master server/target server environments.</span></span>  
  
-   <span data-ttu-id="0eb59-115">Compatibilidad con el historial de planes de registro en los servidores remotos.</span><span class="sxs-lookup"><span data-stu-id="0eb59-115">Support for logging plan history to remote servers.</span></span>  
  
-   <span data-ttu-id="0eb59-116">Compatibilidad con la autenticación de Windows y la autenticación de [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)].</span><span class="sxs-lookup"><span data-stu-id="0eb59-116">Support for Windows Authentication and [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] Authentication.</span></span> [!INCLUDE[ssNoteWinAuthentication](../../includes/ssnotewinauthentication-md.md)]  
  
## <a name="maintenace-plan-functionality"></a><span data-ttu-id="0eb59-117">Funcionalidad de plan de mantenimiento</span><span class="sxs-lookup"><span data-stu-id="0eb59-117">Maintenace Plan Functionality</span></span>  
 <span data-ttu-id="0eb59-118">Los planes de mantenimiento se pueden crear para realizar las tareas siguientes:</span><span class="sxs-lookup"><span data-stu-id="0eb59-118">Maintenance plans can be created to perform the following tasks:</span></span>  
  
-   <span data-ttu-id="0eb59-119">Reorganizar los datos de las páginas de datos y de índices mediante una nueva generación de los índices con un nuevo factor de relleno.</span><span class="sxs-lookup"><span data-stu-id="0eb59-119">Reorganize the data on the data and index pages by rebuilding indexes with a new fill factor.</span></span> <span data-ttu-id="0eb59-120">Al volver a crear índices con un nuevo factor de relleno se asegura que las páginas de la base de datos contienen una cantidad de datos y espacio disponible distribuidos por igual.</span><span class="sxs-lookup"><span data-stu-id="0eb59-120">Rebuilding indexes with a new fill factor makes sure that database pages contain an equally distributed amount of data and free space.</span></span> <span data-ttu-id="0eb59-121">También permite un crecimiento más rápido en el futuro.</span><span class="sxs-lookup"><span data-stu-id="0eb59-121">It also enables faster growth in the future.</span></span> <span data-ttu-id="0eb59-122">Para obtener más información, vea [Especificar el factor de relleno para un índice](../indexes/specify-fill-factor-for-an-index.md).</span><span class="sxs-lookup"><span data-stu-id="0eb59-122">For more information, see [Specify Fill Factor for an Index](../indexes/specify-fill-factor-for-an-index.md).</span></span>  
  
-   <span data-ttu-id="0eb59-123">Comprimir archivos de datos mediante la eliminación de las páginas de base de datos que estén vacías.</span><span class="sxs-lookup"><span data-stu-id="0eb59-123">Compress data files by removing empty database pages.</span></span>  
  
-   <span data-ttu-id="0eb59-124">Actualizar las estadísticas de los índices para asegurarse de que el optimizador de consultas dispone de información actualizada acerca de la distribución de los valores de los datos en las tablas.</span><span class="sxs-lookup"><span data-stu-id="0eb59-124">Update index statistics to make sure the query optimizer has current information about the distribution of data values in the tables.</span></span> <span data-ttu-id="0eb59-125">Esto permite al optimizador de consultas elegir el método más adecuado para obtener acceso a los datos, ya que dispone de más información acerca de los datos almacenados en la base de datos.</span><span class="sxs-lookup"><span data-stu-id="0eb59-125">This enables the query optimizer to make better judgments about the best way to access data, because it has more information about the data stored in the database.</span></span> <span data-ttu-id="0eb59-126">Aunque [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] actualiza periódicamente las estadísticas de los índices de forma automática, esta opción puede obligar a que se actualicen inmediatamente.</span><span class="sxs-lookup"><span data-stu-id="0eb59-126">Although index statistics are automatically updated by [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] periodically, this option can force the statistics to update immediately.</span></span>  
  
-   <span data-ttu-id="0eb59-127">Realizar comprobaciones de coherencia interna de los datos y de las páginas de datos de la base de datos para asegurarse de que no se han dañado debido a un problema de software o del sistema.</span><span class="sxs-lookup"><span data-stu-id="0eb59-127">Perform internal consistency checks of the data and data pages within the database to make sure that a system or software problem has not damaged data.</span></span>  
  
-   <span data-ttu-id="0eb59-128">Realizar copias de seguridad de la base de datos y de los archivos de registro de transacciones.</span><span class="sxs-lookup"><span data-stu-id="0eb59-128">Back up the database and transaction log files.</span></span> <span data-ttu-id="0eb59-129">Las copias de seguridad de la base de datos y del registro pueden mantenerse durante un período especificado.</span><span class="sxs-lookup"><span data-stu-id="0eb59-129">Database and log backups can be retained for a specified period.</span></span> <span data-ttu-id="0eb59-130">Esto le permite crear un historial de copias de seguridad para utilizarlo si tiene que restaurar la base de datos a una fecha anterior a la de la última copia de seguridad de la base de datos.</span><span class="sxs-lookup"><span data-stu-id="0eb59-130">This lets you create a history of backups to be used if you have to restore the database to a time earlier than the last database backup.</span></span> <span data-ttu-id="0eb59-131">También puede realizar copias de seguridad diferenciales.</span><span class="sxs-lookup"><span data-stu-id="0eb59-131">You can also perform differential backups.</span></span>  
  
-   <span data-ttu-id="0eb59-132">Ejecutar trabajos del Agente [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] .</span><span class="sxs-lookup"><span data-stu-id="0eb59-132">Run [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] Agent jobs.</span></span> <span data-ttu-id="0eb59-133">Se puede usar para crear trabajos que realicen diversas acciones y los planes de mantenimiento para ejecutar esos trabajos.</span><span class="sxs-lookup"><span data-stu-id="0eb59-133">This can be used to create jobs that perform a variety of actions and the maintenance plans to run those jobs.</span></span>  
  
 <span data-ttu-id="0eb59-134">Los resultados generados por las tareas de mantenimiento se pueden escribir como informe en un archivo de texto en las tablas del plan de mantenimiento (`sysmaintplan_log` y `sysmaintplan_logdetail`) en `msdb`.</span><span class="sxs-lookup"><span data-stu-id="0eb59-134">The results generated by the maintenance tasks can be written as a report to a text file or to the maintenance plan tables (`sysmaintplan_log` and `sysmaintplan_logdetail`) in `msdb`.</span></span> <span data-ttu-id="0eb59-135">Para ver los resultados en el visor de archivos de registro, haga clic con el botón derecho en **Planes de mantenimiento** y, luego, haga clic en **Ver historial**.</span><span class="sxs-lookup"><span data-stu-id="0eb59-135">To view the results in the log file viewer, right-click **Maintenance Plans**, and then click **View History**.</span></span>  
  
## <a name="related-tasks"></a><span data-ttu-id="0eb59-136">Related Tasks</span><span class="sxs-lookup"><span data-stu-id="0eb59-136">Related Tasks</span></span>  
 <span data-ttu-id="0eb59-137">Use los temas siguientes para empezar a trabajar con planes de mantenimiento.</span><span class="sxs-lookup"><span data-stu-id="0eb59-137">Use the following topics to get started with maintenance plans.</span></span>  
  
|||  
|-|-|  
|<span data-ttu-id="0eb59-138">**Descripción**</span><span class="sxs-lookup"><span data-stu-id="0eb59-138">**Description**</span></span>|<span data-ttu-id="0eb59-139">**Tema.**</span><span class="sxs-lookup"><span data-stu-id="0eb59-139">**Topic**</span></span>|  
|<span data-ttu-id="0eb59-140">Describe cómo crear un plan de mantenimiento mediante [!INCLUDE[ssManStudioFull](../../includes/ssmanstudiofull-md.md)] o [!INCLUDE[tsql](../../includes/tsql-md.md)].</span><span class="sxs-lookup"><span data-stu-id="0eb59-140">Describes how to create a maintenance plan by using [!INCLUDE[ssManStudioFull](../../includes/ssmanstudiofull-md.md)] or [!INCLUDE[tsql](../../includes/tsql-md.md)].</span></span>|[<span data-ttu-id="0eb59-141">Crear un plan de mantenimiento</span><span class="sxs-lookup"><span data-stu-id="0eb59-141">Create a Maintenance Plan</span></span>](create-a-maintenance-plan.md)|  
|<span data-ttu-id="0eb59-142">Describe cómo crear un plan de mantenimiento mediante la superficie de diseño Plan de mantenimiento.</span><span class="sxs-lookup"><span data-stu-id="0eb59-142">Describes how to create a maintenance plan by using the Maintenance Plan Design Surface.</span></span>|[<span data-ttu-id="0eb59-143">Crear un plan de mantenimiento &#40;superficie de diseño del plan de mantenimiento&#41;</span><span class="sxs-lookup"><span data-stu-id="0eb59-143">Create a Maintenance Plan &#40;Maintenance Plan Design Surface&#41;</span></span>](create-a-maintenance-plan-maintenance-plan-design-surface.md)|  
|<span data-ttu-id="0eb59-144">Documenta la funcionalidad de los planes de mantenimiento disponible en el Explorador de objetos.</span><span class="sxs-lookup"><span data-stu-id="0eb59-144">Documents maintenance plan functionality available in Object Explorer.</span></span>|[<span data-ttu-id="0eb59-145">Planes de mantenimiento &#40;nodo del Explorador de objetos&#41;</span><span class="sxs-lookup"><span data-stu-id="0eb59-145">Maintenance Plans Node &#40;Object Explorer&#41;</span></span>](../../ssms/object/object-explorer.md)|  
  
  
