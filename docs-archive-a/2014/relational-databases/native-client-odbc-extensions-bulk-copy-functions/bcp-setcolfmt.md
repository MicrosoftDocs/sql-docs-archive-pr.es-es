---
title: bcp_setcolfmt | Microsoft Docs
ms.custom: ''
ms.date: 06/13/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: native-client
ms.topic: reference
api_name:
- bcp_setcolfmt
api_location:
- sqlncli11.dll
topic_type:
- apiref
helpviewer_keywords:
- bcp_setcolfmt function
ms.assetid: afb47987-39e7-4079-ad66-e0abf4d4c72b
author: rothja
ms.author: jroth
ms.openlocfilehash: bb3b1da62ab4e98ed4497dd11fcc20163025058b
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 08/04/2020
ms.locfileid: "87674094"
---
# <a name="bcp_setcolfmt"></a><span data-ttu-id="76226-102">bcp_setcolfmt</span><span class="sxs-lookup"><span data-stu-id="76226-102">bcp_setcolfmt</span></span>
  <span data-ttu-id="76226-103">La función **bcp_setcolfmt** reemplaza a [bcp_colfmt](bcp-colfmt.md).</span><span class="sxs-lookup"><span data-stu-id="76226-103">The **bcp_setcolfmt** function supersedes the [bcp_colfmt](bcp-colfmt.md).</span></span> <span data-ttu-id="76226-104">Para especificar la intercalación de columna, se debe usar la función **bcp_setcolfmt** .</span><span class="sxs-lookup"><span data-stu-id="76226-104">In specifying the column collation, the **bcp_setcolfmt** function must be used.</span></span> <span data-ttu-id="76226-105">[bcp_setbulkmode](bcp-setbulkmode.md) se puede utilizar para especificar más de un formato de columna.</span><span class="sxs-lookup"><span data-stu-id="76226-105">[bcp_setbulkmode](bcp-setbulkmode.md) can be used to specify more than one column format.</span></span>  
  
 <span data-ttu-id="76226-106">Esta función proporciona un enfoque flexible para especificar el formato de columna en una operación de copia masiva.</span><span class="sxs-lookup"><span data-stu-id="76226-106">This function provides a flexible approach to specifying the column format in a bulk copy operation.</span></span> <span data-ttu-id="76226-107">Se utiliza para establecer los atributos de formato de columna individuales.</span><span class="sxs-lookup"><span data-stu-id="76226-107">It is used to set individual column format attributes.</span></span> <span data-ttu-id="76226-108">Cada llamada a **bcp_setcolfmt** establece un atributo de formato de columna.</span><span class="sxs-lookup"><span data-stu-id="76226-108">Each call to **bcp_setcolfmt** sets one column format attribute.</span></span>  
  
 <span data-ttu-id="76226-109">La función **bcp_setcolfmt** especifica el formato de origen o de destino de los datos de un archivo de usuario.</span><span class="sxs-lookup"><span data-stu-id="76226-109">The **bcp_setcolfmt** function specifies the source or target format of the data in a user file.</span></span> <span data-ttu-id="76226-110">Cuando se utiliza como formato de origen, **bcp_setcolfmt** especifica el formato de un archivo de datos existente utilizado como un origen de datos de una copia masiva en una tabla de [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)].</span><span class="sxs-lookup"><span data-stu-id="76226-110">When used as a source format, **bcp_setcolfmt** specifies the format of an existing data file used as a data source of data in a bulk copy to a table in [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)].</span></span> <span data-ttu-id="76226-111">Cuando se utiliza como formato de destino, se crea el archivo de datos utilizando los formatos de columna especificados con **bcp_setcolfmt**.</span><span class="sxs-lookup"><span data-stu-id="76226-111">When used as a target format, the data file is created using the column formats specified with **bcp_setcolfmt**.</span></span>  
  
## <a name="syntax"></a><span data-ttu-id="76226-112">Sintaxis</span><span class="sxs-lookup"><span data-stu-id="76226-112">Syntax</span></span>  
  
```  
  
RETCODE bcp_setcolfmt (  
HDBC   
hdbc  
,  
INT   
field  
,  
INT   
property  
,  
void*   
pValue  
,  
INT   
cbValue  
);  
  
```  
  
## <a name="arguments"></a><span data-ttu-id="76226-113">Argumentos</span><span class="sxs-lookup"><span data-stu-id="76226-113">Arguments</span></span>  
 <span data-ttu-id="76226-114">*hdbc*</span><span class="sxs-lookup"><span data-stu-id="76226-114">*hdbc*</span></span>  
 <span data-ttu-id="76226-115">Es el identificador de la conexión ODBC habilitada para la copia masiva.</span><span class="sxs-lookup"><span data-stu-id="76226-115">Is the bulk copy-enabled ODBC connection handle.</span></span>  
  
 <span data-ttu-id="76226-116">*campo*</span><span class="sxs-lookup"><span data-stu-id="76226-116">*field*</span></span>  
 <span data-ttu-id="76226-117">Es el número de columnas ordinal para el que se establece la propiedad.</span><span class="sxs-lookup"><span data-stu-id="76226-117">Is the ordinal column number for which the property is being set.</span></span>  
  
 <span data-ttu-id="76226-118">*property*</span><span class="sxs-lookup"><span data-stu-id="76226-118">*property*</span></span>  
 <span data-ttu-id="76226-119">Es una de las constantes de propiedad.</span><span class="sxs-lookup"><span data-stu-id="76226-119">Is one of the property constants.</span></span> <span data-ttu-id="76226-120">Las constantes de propiedad se definen en esta tabla.</span><span class="sxs-lookup"><span data-stu-id="76226-120">Property constants are defined in this table.</span></span>  
  
|<span data-ttu-id="76226-121">Propiedad</span><span class="sxs-lookup"><span data-stu-id="76226-121">Property</span></span>|<span data-ttu-id="76226-122">Value</span><span class="sxs-lookup"><span data-stu-id="76226-122">Value</span></span>|<span data-ttu-id="76226-123">Descripción</span><span class="sxs-lookup"><span data-stu-id="76226-123">Description</span></span>|  
|--------------|-----------|-----------------|  
|<span data-ttu-id="76226-124">BCP_FMT_TYPE</span><span class="sxs-lookup"><span data-stu-id="76226-124">BCP_FMT_TYPE</span></span>|<span data-ttu-id="76226-125">BYTE</span><span class="sxs-lookup"><span data-stu-id="76226-125">BYTE</span></span>|<span data-ttu-id="76226-126">Es el tipo de datos de esta columna del archivo de usuario.</span><span class="sxs-lookup"><span data-stu-id="76226-126">Is the data type of this column in the user file.</span></span> <span data-ttu-id="76226-127">Si es distinto del tipo de datos de la columna correspondiente de la tabla de base de datos, la copia masiva convierte los datos si es posible.</span><span class="sxs-lookup"><span data-stu-id="76226-127">If different from the data type of the corresponding column in the database table, bulk copy converts the data if possible.</span></span><br /><br /> <span data-ttu-id="76226-128">Los tokens de tipo de datos de SQL Server enumeran el parámetro BCP_FMT_TYPE en sqlncli.h, en lugar de los enumeradores de tipo de datos de ODBC C.</span><span class="sxs-lookup"><span data-stu-id="76226-128">The BCP_FMT_TYPE parameter is enumerated by the SQL Server data type tokens in sqlncli.h, rather than the ODBC C data type enumerators.</span></span> <span data-ttu-id="76226-129">Por ejemplo, puede especificar una cadena de caracteres, tipo SQL_C_CHAR de ODBC, utilizando el tipo específico SQLCHARACTER de [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)].</span><span class="sxs-lookup"><span data-stu-id="76226-129">For example, you can specify a character string, ODBC type SQL_C_CHAR, using the SQLCHARACTER type specific to [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)].</span></span><br /><br /> <span data-ttu-id="76226-130">Para especificar la representación de datos predeterminada para el tipo de datos de [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] , establezca este parámetro en 0.</span><span class="sxs-lookup"><span data-stu-id="76226-130">To specify the default data representation for the [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] data type, set this parameter to 0.</span></span><br /><br /> <span data-ttu-id="76226-131">Para la salida de copia masiva de SQL Server en un archivo, cuando BCP_FMT_TYPE es SQLDECIMAL o SQLNUMERIC:</span><span class="sxs-lookup"><span data-stu-id="76226-131">For a bulk copy out of SQL Server into a file, when BCP_FMT_TYPE is SQLDECIMAL or SQLNUMERIC:</span></span><br /><br /> <span data-ttu-id="76226-132">-Si la columna de origen no es **decimal** o **numérica**, se utilizan la precisión y la escala predeterminadas.</span><span class="sxs-lookup"><span data-stu-id="76226-132">-   If the source column is not **decimal** or **numeric**, the default precision and scale are used.</span></span><br /><span data-ttu-id="76226-133">-Si la columna de origen es **decimal** o **numérica**, se utilizan la precisión y la escala de la columna de origen.</span><span class="sxs-lookup"><span data-stu-id="76226-133">-   If the source column is **decimal** or **numeric**, the precision and scale of the source column are used.</span></span>|  
|<span data-ttu-id="76226-134">BCP_FMT_INDICATOR_LEN</span><span class="sxs-lookup"><span data-stu-id="76226-134">BCP_FMT_INDICATOR_LEN</span></span>|<span data-ttu-id="76226-135">INT</span><span class="sxs-lookup"><span data-stu-id="76226-135">INT</span></span>|<span data-ttu-id="76226-136">Es la longitud en bytes del indicador (prefijo).</span><span class="sxs-lookup"><span data-stu-id="76226-136">Is the length in bytes of the indicator (prefix).</span></span><br /><br /> <span data-ttu-id="76226-137">Es la longitud, en bytes, de un indicador de longitud o nulo en los datos de columna.</span><span class="sxs-lookup"><span data-stu-id="76226-137">It is the length, in bytes, of a length/null indicator within the column data.</span></span> <span data-ttu-id="76226-138">Los valores de longitud de indicador válidos son 0 (cuando no se utiliza ningún indicador), 1, 2 ó 4.</span><span class="sxs-lookup"><span data-stu-id="76226-138">Valid indicator length values are 0 (when using no indicator), 1, 2, or 4.</span></span><br /><br /> <span data-ttu-id="76226-139">Para especificar el uso del indicador de copia masiva predeterminado, establezca este parámetro en SQL_VARLEN_DATA.</span><span class="sxs-lookup"><span data-stu-id="76226-139">To specify default bulk copy indicator usage, set this parameter to SQL_VARLEN_DATA.</span></span><br /><br /> <span data-ttu-id="76226-140">Los indicadores aparecen directamente en memoria antes de cualquier dato y en el archivo de datos directamente antes de los datos a los que se aplican.</span><span class="sxs-lookup"><span data-stu-id="76226-140">Indicators appear in memory directly before any data, and in the data file directly before the data to which they apply.</span></span><br /><br /> <span data-ttu-id="76226-141">Si se utiliza más de un medio de especificar una longitud de columna del archivo de datos (como un indicador y una longitud máxima de columna o un indicador y una secuencia de terminador) , la copia masiva elige aquél por el que se copia la cantidad mínima de datos.</span><span class="sxs-lookup"><span data-stu-id="76226-141">If more than one means of specifying a data file column length is used (such as an indicator and a maximum column length, or an indicator and a terminator sequence), bulk copy chooses the one that results in the least amount of data being copied.</span></span><br /><br /> <span data-ttu-id="76226-142">Los archivos de datos generados mediante la copia masiva cuando ninguna intervención de usuario ajusta el formato de los datos contienen indicadores acerca de cuándo los datos de columna pueden variar en longitud o cuándo la columna puede aceptar como valores los valores NULL.</span><span class="sxs-lookup"><span data-stu-id="76226-142">Data files generated by bulk copy when no user intervention adjusts the format of the data contain indicators when the column data can vary in length or the column can accept NULL as a value.</span></span>|  
|<span data-ttu-id="76226-143">BCP_FMT_DATA_LEN</span><span class="sxs-lookup"><span data-stu-id="76226-143">BCP_FMT_DATA_LEN</span></span>|<span data-ttu-id="76226-144">DBINT</span><span class="sxs-lookup"><span data-stu-id="76226-144">DBINT</span></span>|<span data-ttu-id="76226-145">Es la longitud en bytes de los datos (longitud de columna).</span><span class="sxs-lookup"><span data-stu-id="76226-145">Is the length in bytes of the data (column length)</span></span><br /><br /> <span data-ttu-id="76226-146">Es la longitud máxima, en bytes, de los datos de esta columna del archivo de usuario, sin incluir la longitud de los indicadores de longitud o terminadores.</span><span class="sxs-lookup"><span data-stu-id="76226-146">It is the maximum length, in bytes, of this column's data in the user file, not including the length of any length indicator or terminator.</span></span><br /><br /> <span data-ttu-id="76226-147">Establecer BCP_FMT_DATA_LEN en SQL_NULL_DATA indica que todos los valores de columna del archivo de datos son NULL o deben establecerse en NULL.</span><span class="sxs-lookup"><span data-stu-id="76226-147">Setting BCP_FMT_DATA_LEN to SQL_NULL_DATA indicates that all values in the data file column are, or should be set to, NULL.</span></span><br /><br /> <span data-ttu-id="76226-148">Establecer BCP_FMT_DATA_LEN en SQL_VARLEN_DATA indica que el sistema debe determinar la longitud de los datos de cada columna.</span><span class="sxs-lookup"><span data-stu-id="76226-148">Setting BCP_FMT_DATA_LEN to SQL_VARLEN_DATA indicates that the system should determine the length of data in each column.</span></span> <span data-ttu-id="76226-149">Para algunas columnas, esto podría significar que se genera un indicador de longitud/nulo para preceder los datos en una copia de [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)]o que se espera el indicador en los datos copiados en [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)].</span><span class="sxs-lookup"><span data-stu-id="76226-149">For some columns, this could mean that a length/null indicator is generated to precede data on a copy from [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)], or that the indicator is expected in data copied to [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)].</span></span><br /><br /> <span data-ttu-id="76226-150">Para los tipos de datos de caracteres y binarios de [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] ,  BCP_FMT_DATA_LEN puede ser SQL_VARLEN_DATA, SQL_NULL_DATA, algún valor positivo o 0.</span><span class="sxs-lookup"><span data-stu-id="76226-150">For [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] character and binary data types, BCP_FMT_DATA_LEN can be SQL_VARLEN_DATA, SQL_NULL_DATA, 0, or some positive value.</span></span> <span data-ttu-id="76226-151">Si BCP_FMT_DATA_LEN  es SQL_VARLEN_DATA, el sistema utiliza un indicador de longitud, si lo hay, o una secuencia de terminador para determinar la longitud de los datos.</span><span class="sxs-lookup"><span data-stu-id="76226-151">If BCP_FMT_DATA_LEN is SQL_VARLEN_DATA, the system uses either the length indicator, if present, or a terminator sequence to determine the length of the data.</span></span> <span data-ttu-id="76226-152">Si se proporciona un indicador de longitud y una secuencia de terminador, la copia masiva usa aquél por el que se copia la mínima cantidad de datos.</span><span class="sxs-lookup"><span data-stu-id="76226-152">If both a length indicator and a terminator sequence are supplied, bulk copy uses the one that results in the least amount of data being copied.</span></span> <span data-ttu-id="76226-153">Si BCP_FMT_DATA_LEN es SQL_VARLEN_DATA, el tipo de datos es carácter o binario de [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] y no se especifica un indicador de longitud ni una secuencia de terminador, el sistema devuelve un mensaje de error.</span><span class="sxs-lookup"><span data-stu-id="76226-153">If BCP_FMT_DATA_LEN is SQL_VARLEN_DATA, the data type is an [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] character or binary type, and neither a length indicator nor a terminator sequence is specified, the system returns an error message.</span></span><br /><br /> <span data-ttu-id="76226-154">Si BCP_FMT_DATA_LEN es 0 o un valor positivo, el sistema utiliza BCP_FMT_DATA_LEN como la longitud máxima de los datos.</span><span class="sxs-lookup"><span data-stu-id="76226-154">If BCP_FMT_DATA_LEN is 0 or a positive value, the system uses BCP_FMT_DATA_LEN as the maximum data length.</span></span> <span data-ttu-id="76226-155">Sin embargo, si además de un valor de BCP_FMT_DATA_LEN positivo, se proporciona un indicador de longitud o una secuencia de terminador, el sistema determina la longitud de los datos mediante el método por el cuál se copia la mínima cantidad de datos.</span><span class="sxs-lookup"><span data-stu-id="76226-155">However, if, in addition to a positive BCP_FMT_DATA_LEN, a length indicator or terminator sequence is provided, the system determines the data length by using the method that results in the least amount of data being copied.</span></span><br /><br /> <span data-ttu-id="76226-156">El valor de BCP_FMT_DATA_LEN representa el recuento de bytes de datos.</span><span class="sxs-lookup"><span data-stu-id="76226-156">The BCP_FMT_DATA_LEN value represents the count of bytes of data.</span></span> <span data-ttu-id="76226-157">Si los datos de caracteres se representan mediante caracteres anchos de Unicode, un valor del parámetro BCP_FMT_DATA_LEN positivo representa el número de caracteres multiplicado por el tamaño, en bytes, de cada carácter.</span><span class="sxs-lookup"><span data-stu-id="76226-157">If character data is represented by Unicode wide characters, then a positive BCP_FMT_DATA_LEN parameter value represents the number of characters multiplied by the size, in bytes, of each character.</span></span>|  
|<span data-ttu-id="76226-158">BCP_FMT_TERMINATOR</span><span class="sxs-lookup"><span data-stu-id="76226-158">BCP_FMT_TERMINATOR</span></span>|<span data-ttu-id="76226-159">LPCBYTE</span><span class="sxs-lookup"><span data-stu-id="76226-159">LPCBYTE</span></span>|<span data-ttu-id="76226-160">Puntero al flujo de terminador (ANSI o Unicode según corresponda) que se va a utilizar para esta columna.</span><span class="sxs-lookup"><span data-stu-id="76226-160">Pointer to the terminator sequence (either ANSI or Unicode as appropriate) to be used for this column.</span></span> <span data-ttu-id="76226-161">Este parámetro es principalmente útil para los tipos de datos de caracteres porque todos los demás tipos son de longitud fija o, en el caso de los datos binarios, requieren un indicador de longitud que grabe con precisión el número de bytes presentes.</span><span class="sxs-lookup"><span data-stu-id="76226-161">This parameter is useful mainly for character data types because all other types are of fixed length or, in the case of binary data, require an indicator of length to accurately record the number of bytes present.</span></span><br /><br /> <span data-ttu-id="76226-162">Para evitar la terminación de los datos extraídos o indicar que no se terminen los datos de un archivo de usuario, establezca este parámetro en NULL.</span><span class="sxs-lookup"><span data-stu-id="76226-162">To avoid terminating extracted data, or to indicate that data in a user file is not terminated, set this parameter to NULL.</span></span><br /><br /> <span data-ttu-id="76226-163">Si se usa más de un medio para especificar una longitud de columna de usuario (como un terminador y un indicador de longitud, o un terminador y una longitud máxima de columna), la copia masiva elige aquél por el que se copia la cantidad mínima de datos.</span><span class="sxs-lookup"><span data-stu-id="76226-163">If more than one means of specifying a user-file column length is used (such as a terminator and a length indicator, or a terminator and a maximum column length), bulk copy chooses the one that results in the least amount of data being copied.</span></span><br /><br /> <span data-ttu-id="76226-164">La API de copia masiva realiza la conversión de caracteres Unicode a MBCS según sea necesario.</span><span class="sxs-lookup"><span data-stu-id="76226-164">The bulk copy API performs Unicode-to-MBCS character conversion as required.</span></span> <span data-ttu-id="76226-165">Se deben extremar las precauciones para asegurarse de que se establece correctamente la cadena de bytes del terminador y la longitud de la cadena de bytes.</span><span class="sxs-lookup"><span data-stu-id="76226-165">Care must be taken to ensure that both the terminator byte string and the length of the byte string are set correctly.</span></span>|  
|<span data-ttu-id="76226-166">BCP_FMT_SERVER_COL</span><span class="sxs-lookup"><span data-stu-id="76226-166">BCP_FMT_SERVER_COL</span></span>|<span data-ttu-id="76226-167">INT</span><span class="sxs-lookup"><span data-stu-id="76226-167">INT</span></span>|<span data-ttu-id="76226-168">Posición ordinal de la columna en la base de datos.</span><span class="sxs-lookup"><span data-stu-id="76226-168">Ordinal position of the column in the database</span></span>|  
|<span data-ttu-id="76226-169">BCP_FMT_COLLATION</span><span class="sxs-lookup"><span data-stu-id="76226-169">BCP_FMT_COLLATION</span></span>|<span data-ttu-id="76226-170">LPCSTR</span><span class="sxs-lookup"><span data-stu-id="76226-170">LPCSTR</span></span>|<span data-ttu-id="76226-171">Nombre de intercalación.</span><span class="sxs-lookup"><span data-stu-id="76226-171">Collation name.</span></span>|  
  
 <span data-ttu-id="76226-172">*pValue*</span><span class="sxs-lookup"><span data-stu-id="76226-172">*pValue*</span></span>  
 <span data-ttu-id="76226-173">Es el puntero al valor que se va a asociar a la *property*.</span><span class="sxs-lookup"><span data-stu-id="76226-173">Is the pointer to the value to associate to the *property*.</span></span> <span data-ttu-id="76226-174">Permite establecer cada propiedad de formato de columna individualmente.</span><span class="sxs-lookup"><span data-stu-id="76226-174">It allows each column format property to be set individually.</span></span>  
  
 <span data-ttu-id="76226-175">*cbvalue*</span><span class="sxs-lookup"><span data-stu-id="76226-175">*cbvalue*</span></span>  
 <span data-ttu-id="76226-176">Es la longitud del búfer de propiedad en bytes.</span><span class="sxs-lookup"><span data-stu-id="76226-176">Is the length of the property buffer in bytes.</span></span>  
  
## <a name="returns"></a><span data-ttu-id="76226-177">Devoluciones</span><span class="sxs-lookup"><span data-stu-id="76226-177">Returns</span></span>  
 <span data-ttu-id="76226-178">SUCCEED o FAIL.</span><span class="sxs-lookup"><span data-stu-id="76226-178">SUCCEED or FAIL.</span></span>  
  
## <a name="remarks"></a><span data-ttu-id="76226-179">Observaciones</span><span class="sxs-lookup"><span data-stu-id="76226-179">Remarks</span></span>  
 <span data-ttu-id="76226-180">Esta función reemplaza la función **bcp_colfmt** .</span><span class="sxs-lookup"><span data-stu-id="76226-180">This function supersedes the **bcp_colfmt** function.</span></span> <span data-ttu-id="76226-181">Toda la funcionalidad de **bcp_colfmt** se proporciona en la función **bcp_setcolfmt** .</span><span class="sxs-lookup"><span data-stu-id="76226-181">All the functionality of **bcp_colfmt** is provided in **bcp_setcolfmt** function.</span></span> <span data-ttu-id="76226-182">Además, también se proporciona compatibilidad con la intercalación de columna.</span><span class="sxs-lookup"><span data-stu-id="76226-182">In addition, support for column collation is also provided.</span></span> <span data-ttu-id="76226-183">Se recomienda que los atributos de formato de columna siguientes se establezcan en el orden proporcionado a continuación:</span><span class="sxs-lookup"><span data-stu-id="76226-183">It is recommended that the following column format attributes be set in the order given below:</span></span>  
  
 <span data-ttu-id="76226-184">BCP_FMT_SERVER_COL</span><span class="sxs-lookup"><span data-stu-id="76226-184">BCP_FMT_SERVER_COL</span></span>  
  
 <span data-ttu-id="76226-185">BCP_FMT_DATA_LEN</span><span class="sxs-lookup"><span data-stu-id="76226-185">BCP_FMT_DATA_LEN</span></span>  
  
 <span data-ttu-id="76226-186">BCP_FMT_TYPE</span><span class="sxs-lookup"><span data-stu-id="76226-186">BCP_FMT_TYPE</span></span>  
  
 <span data-ttu-id="76226-187">La función **bcp_setcolfmt** le permite especificar el formato de archivo de usuario para las copias masivas.</span><span class="sxs-lookup"><span data-stu-id="76226-187">The **bcp_setcolfmt** function allows you to specify the user-file format for bulk copies.</span></span> <span data-ttu-id="76226-188">Para la copia masiva, un formato contiene los componentes siguientes:</span><span class="sxs-lookup"><span data-stu-id="76226-188">For bulk copy, a format contains the following parts:</span></span>  
  
-   <span data-ttu-id="76226-189">Una asignación de las columnas de archivo de usuario a las columnas de base de datos.</span><span class="sxs-lookup"><span data-stu-id="76226-189">A mapping from user-file columns to database columns.</span></span>  
  
-   <span data-ttu-id="76226-190">El tipo de datos de cada columna del archivo de usuario.</span><span class="sxs-lookup"><span data-stu-id="76226-190">The data type of each user-file column.</span></span>  
  
-   <span data-ttu-id="76226-191">La longitud del indicador opcional para cada columna.</span><span class="sxs-lookup"><span data-stu-id="76226-191">The length of the optional indicator for each column.</span></span>  
  
-   <span data-ttu-id="76226-192">La longitud máxima de los datos por columna de archivo de usuario.</span><span class="sxs-lookup"><span data-stu-id="76226-192">The maximum length of data per user-file column.</span></span>  
  
-   <span data-ttu-id="76226-193">Secuencia de bytes de terminación opcional para cada columna.</span><span class="sxs-lookup"><span data-stu-id="76226-193">The optional terminating byte sequence for each column.</span></span>  
  
-   <span data-ttu-id="76226-194">La longitud de la secuencia de bytes de terminación opcional.</span><span class="sxs-lookup"><span data-stu-id="76226-194">The length of the optional terminating byte sequence.</span></span>  
  
 <span data-ttu-id="76226-195">Cada llamada a **bcp_setcolfmt** especifica el formato de una columna de archivo de usuario.</span><span class="sxs-lookup"><span data-stu-id="76226-195">Each call to **bcp_setcolfmt** specifies the format for one user-file column.</span></span> <span data-ttu-id="76226-196">Por ejemplo, para cambiar la configuración predeterminada de tres columnas de un archivo de datos de usuario de cinco columnas, primero llame a [bcp_columns](bcp-columns.md)**(5)** y, a continuación, llame a **bcp_setcolfmt** cinco veces y con tres de esas llamadas establezca el formato personalizado.</span><span class="sxs-lookup"><span data-stu-id="76226-196">For example, to change the default settings for three columns in a five-column user data file, first call [bcp_columns](bcp-columns.md)**(5)**, and then call **bcp_setcolfmt** five times, with three of those calls setting your custom format.</span></span> <span data-ttu-id="76226-197">Para las dos llamadas restantes, establezca BCP_FMT_TYPE en 0 y establezca respectivamente BCP_FMT_INDICATOR_LENGTH, BCP_FMT_DATA_LEN y *cbValue* en 0, SQL_VARLEN_DATA y 0.</span><span class="sxs-lookup"><span data-stu-id="76226-197">For the remaining two calls, set BCP_FMT_TYPE to 0, and set BCP_FMT_INDICATOR_LENGTH, BCP_FMT_DATA_LEN, and *cbValue* to 0, SQL_VARLEN_DATA, and 0 respectively.</span></span> <span data-ttu-id="76226-198">Este procedimiento copia las cinco columnas, tres con el formato personalizado y dos con el formato predeterminado.</span><span class="sxs-lookup"><span data-stu-id="76226-198">This procedure copies all five columns, three with your customized format and two with the default format.</span></span>  
  
 <span data-ttu-id="76226-199">Se debe llamar a la función **bcp_columns** antes de llamar a **bcp_setcolfmt**.</span><span class="sxs-lookup"><span data-stu-id="76226-199">The **bcp_columns** function must be called before calling **bcp_setcolfmt**.</span></span>  
  
 <span data-ttu-id="76226-200">Debe llamar una vez a **bcp_setcolfmt** para cada propiedad de cada columna del archivo de usuario.</span><span class="sxs-lookup"><span data-stu-id="76226-200">You must call **bcp_setcolfmt** once for each property of each column in the user file.</span></span>  
  
 <span data-ttu-id="76226-201">No tiene que copiar todos los datos de un archivo de usuario en la tabla de SQL Server.</span><span class="sxs-lookup"><span data-stu-id="76226-201">You do not need to copy all data in a user file to the SQL Server table.</span></span> <span data-ttu-id="76226-202">Para omitir una columna, especifique el formato de los datos de la columna, para ello establezca el parámetro BCP_FMT_SERVER_COL en 0.</span><span class="sxs-lookup"><span data-stu-id="76226-202">To skip a column, specify the format of the data for the column, setting the BCP_FMT_SERVER_COL parameter to 0.</span></span> <span data-ttu-id="76226-203">Si desea omitir una columna, debe especificar su tipo.</span><span class="sxs-lookup"><span data-stu-id="76226-203">If you want to skip a column, you must specify its type.</span></span>  
  
 <span data-ttu-id="76226-204">La función [bcp_writefmt](bcp-writefmt.md) se puede utilizar para conservar la especificación de formato.</span><span class="sxs-lookup"><span data-stu-id="76226-204">The [bcp_writefmt](bcp-writefmt.md) function can be used to persist the format specification.</span></span>  
  
## <a name="bcp_setcolfmt-support-for-enhanced-date-and-time-features"></a><span data-ttu-id="76226-205">bcp_setcolfmt admite las características mejoradas de fecha y hora</span><span class="sxs-lookup"><span data-stu-id="76226-205">bcp_setcolfmt Support for Enhanced Date and Time Features</span></span>  
 <span data-ttu-id="76226-206">Los tipos utilizados con la propiedad BCP_FMT_TYPE para los tipos de fecha y hora se especifican en [cambios de copia masiva para los tipos de fecha y hora mejorados &#40;OLE DB y&#41;ODBC ](../native-client-odbc-date-time/bulk-copy-changes-for-enhanced-date-and-time-types-ole-db-and-odbc.md).</span><span class="sxs-lookup"><span data-stu-id="76226-206">The types used with the BCP_FMT_TYPE property for date/time types are as specified in [Bulk Copy Changes for Enhanced Date and Time Types &#40;OLE DB and ODBC&#41;](../native-client-odbc-date-time/bulk-copy-changes-for-enhanced-date-and-time-types-ole-db-and-odbc.md).</span></span>  
  
 <span data-ttu-id="76226-207">Para obtener más información, vea [mejoras de fecha y hora &#40;ODBC&#41;](../native-client-odbc-date-time/date-and-time-improvements-odbc.md).</span><span class="sxs-lookup"><span data-stu-id="76226-207">For more information, see [Date and Time Improvements &#40;ODBC&#41;](../native-client-odbc-date-time/date-and-time-improvements-odbc.md).</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="76226-208">Consulte también</span><span class="sxs-lookup"><span data-stu-id="76226-208">See Also</span></span>  
 [<span data-ttu-id="76226-209">Bulk Copy Functions</span><span class="sxs-lookup"><span data-stu-id="76226-209">Bulk Copy Functions</span></span>](sql-server-driver-extensions-bulk-copy-functions.md)  
  
  
