---
title: Información general sobre la integración CLR | Microsoft Docs
ms.custom: ''
ms.date: 06/13/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: clr
ms.topic: reference
helpviewer_keywords:
- common language runtime [SQL Server], about CLR integration
- extended stored procedures [SQL Server], vs. managed code
- objects [CLR integration]
- Transact-SQL vs. managed code
- managed code [SQL Server], vs. Transact-SQL
- managed code [SQL Server], vs. extended stored procedures
- execution at client vs. execution at server [CLR integration]
ms.assetid: 5aa176da-3652-4afa-a742-4c40c77ce5c3
author: rothja
ms.author: jroth
ms.openlocfilehash: ab7bb50109fa6b0a313da24f0e6164350a6160e3
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 08/04/2020
ms.locfileid: "87747617"
---
# <a name="overview-of-clr-integration"></a><span data-ttu-id="fa24d-102">Información general de la integración CLR</span><span class="sxs-lookup"><span data-stu-id="fa24d-102">Overview of CLR Integration</span></span>
  <span data-ttu-id="fa24d-103">Common Language Runtime (CLR) es el núcleo de Microsoft .NET Framework y proporciona el entorno de ejecución de todo el código de .NET Framework.</span><span class="sxs-lookup"><span data-stu-id="fa24d-103">The common language runtime (CLR) is the heart of the Microsoft .NET Framework and provides the execution environment for all .NET Framework code.</span></span> <span data-ttu-id="fa24d-104">Se hace referencia al código que se ejecuta en CLR como código administrado.</span><span class="sxs-lookup"><span data-stu-id="fa24d-104">Code that runs within the CLR is referred to as managed code.</span></span> <span data-ttu-id="fa24d-105">CLR proporciona varias funciones y servicios necesarios para la ejecución de programas, que incluyen la compilación Just-In-Time (JIT), la asignación y administración de memoria, el forzado de la seguridad de tipos, el control de excepciones, la administración de subprocesos y la seguridad.</span><span class="sxs-lookup"><span data-stu-id="fa24d-105">The CLR provides various functions and services required for program execution, including just-in-time (JIT) compilation, allocating and managing memory, enforcing type safety, exception handling, thread management, and security.</span></span>  <span data-ttu-id="fa24d-106">Para obtener información, vea .NET Framework SDK.</span><span class="sxs-lookup"><span data-stu-id="fa24d-106">See the .NET Framework SDK for more information.</span></span>  
  
 <span data-ttu-id="fa24d-107">Con CLR hospedado en Microsoft SQL Server (denominado integración CLR), puede crear procedimientos almacenados, desencadenadores, funciones definidas por el usuario, tipos definidos por el usuario y agregados definidos por el usuario en código administrado.</span><span class="sxs-lookup"><span data-stu-id="fa24d-107">With the CLR hosted in Microsoft SQL Server (called CLR integration), you can author stored procedures, triggers, user-defined functions, user-defined types, and user-defined aggregates in managed code.</span></span> <span data-ttu-id="fa24d-108">Dado que el código administrado se compila a código nativo antes de la ejecución, puede lograr un aumento importante del rendimiento en algunas situaciones.</span><span class="sxs-lookup"><span data-stu-id="fa24d-108">Because managed code compiles to native code prior to execution, you can achieve significant performance increases in some scenarios.</span></span>  
  
 <span data-ttu-id="fa24d-109">El código administrado utiliza Seguridad de acceso del código (CAS) para evitar que los ensamblados realicen ciertas operaciones.</span><span class="sxs-lookup"><span data-stu-id="fa24d-109">Managed code uses Code Access Security (CAS) to prevent assemblies from performing certain operations.</span></span> [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] <span data-ttu-id="fa24d-110">usa CAS para ayudar a proteger el código administrado y evitar poner en peligro el sistema operativo o el servidor de bases de datos.</span><span class="sxs-lookup"><span data-stu-id="fa24d-110">uses CAS to help secure the managed code and prevent compromise of the operating system or database server.</span></span>  
  
## <a name="advantages-of-clr-integration"></a><span data-ttu-id="fa24d-111">Ventajas de la integración CLR</span><span class="sxs-lookup"><span data-stu-id="fa24d-111">Advantages of CLR Integration</span></span>  
 [!INCLUDE[tsql](../../../includes/tsql-md.md)] <span data-ttu-id="fa24d-112">está diseñado específicamente para el acceso directo a los datos y la manipulación de la base de datos.</span><span class="sxs-lookup"><span data-stu-id="fa24d-112">is specifically designed for direct data access and manipulation in the database.</span></span> <span data-ttu-id="fa24d-113">Aunque [!INCLUDE[tsql](../../../includes/tsql-md.md)] destaca en el acceso y administración de datos, no es un lenguaje de programación completo.</span><span class="sxs-lookup"><span data-stu-id="fa24d-113">While [!INCLUDE[tsql](../../../includes/tsql-md.md)] excels at data access and management, it is not a full-fledged programming language.</span></span> <span data-ttu-id="fa24d-114">Por ejemplo, [!INCLUDE[tsql](../../../includes/tsql-md.md)] no admite matrices, colecciones, bucles for-each, desplazamiento bit a bit o clases.</span><span class="sxs-lookup"><span data-stu-id="fa24d-114">For example, [!INCLUDE[tsql](../../../includes/tsql-md.md)] does not support arrays, collections, for-each loops, bit shifting, or classes.</span></span> <span data-ttu-id="fa24d-115">Aunque algunas de estas construcciones se pueden simular en [!INCLUDE[tsql](../../../includes/tsql-md.md)], el código administrado tiene compatibilidad integrada para estas construcciones.</span><span class="sxs-lookup"><span data-stu-id="fa24d-115">While some of these constructs can be simulated in [!INCLUDE[tsql](../../../includes/tsql-md.md)], managed code has integrated support for these constructs.</span></span> <span data-ttu-id="fa24d-116">Dependiendo de la situación, estas características pueden proporcionar una razón de peso para implementar cierta funcionalidad de base de datos en el código administrado.</span><span class="sxs-lookup"><span data-stu-id="fa24d-116">Depending on the scenario, these features can provide a compelling reason to implement certain database functionality in managed code.</span></span>  
  
 <span data-ttu-id="fa24d-117">Microsoft Visual Basic .NET y Microsoft Visual C# proporcionan capacidades orientadas a objetos como la encapsulación, la herencia y el polimorfismo.</span><span class="sxs-lookup"><span data-stu-id="fa24d-117">Microsoft Visual Basic .NET and Microsoft Visual C# offer object-oriented capabilities such as encapsulation, inheritance, and polymorphism.</span></span> <span data-ttu-id="fa24d-118">El código relacionado se puede organizar ahora con facilidad en las clases y espacios de nombres.</span><span class="sxs-lookup"><span data-stu-id="fa24d-118">Related code can now be easily organized into classes and namespaces.</span></span> <span data-ttu-id="fa24d-119">Cuando trabaje con grandes cantidades de código del servidor, esto le permitirá organizar y mantener más fácilmente el código.</span><span class="sxs-lookup"><span data-stu-id="fa24d-119">When you are working with large amounts of server code, this allows you to more easily organize and maintain your code.</span></span>  
  
 <span data-ttu-id="fa24d-120">El código administrado es más adecuado que [!INCLUDE[tsql](../../../includes/tsql-md.md)] para los cálculos y la lógica de ejecución complicada y presenta una amplia compatibilidad para muchas tareas complejas, como son el tratamiento de cadenas y las expresiones regulares.</span><span class="sxs-lookup"><span data-stu-id="fa24d-120">Managed code is better suited than [!INCLUDE[tsql](../../../includes/tsql-md.md)] for calculations and complicated execution logic, and features extensive support for many complex tasks, including string handling and regular expressions.</span></span> <span data-ttu-id="fa24d-121">Con la funcionalidad incluida en la biblioteca de .NET Framework, tiene acceso a miles de clases y rutinas previamente integradas.</span><span class="sxs-lookup"><span data-stu-id="fa24d-121">With the functionality found in the .NET Framework Library, you have access to thousands of pre-built classes and routines.</span></span> <span data-ttu-id="fa24d-122">Se puede tener acceso a éstas con facilidad desde cualquier procedimiento almacenado, desencadenador o función definida por el usuario.</span><span class="sxs-lookup"><span data-stu-id="fa24d-122">These can be easily accessed from any stored procedure, trigger or user defined function.</span></span> <span data-ttu-id="fa24d-123">La Biblioteca de clases base (BCL) incluye las clases que proporcionan la funcionalidad para la manipulación de cadenas de caracteres, operaciones matemáticas avanzadas, el acceso a archivos, criptografía, etc.</span><span class="sxs-lookup"><span data-stu-id="fa24d-123">The Base Class Library (BCL) includes classes that provide functionality for string manipulation, advanced math operations, file access, cryptography, and more.</span></span>  
  
> [!NOTE]  
>  <span data-ttu-id="fa24d-124">Mientras muchas de estas clases están disponibles para su uso desde el código CLR en SQL Server, las que no son adecuadas para su uso en el servidor (por ejemplo, las clases de selección de ventana), no están disponibles.</span><span class="sxs-lookup"><span data-stu-id="fa24d-124">While many of these classes are available for use from within CLR code in SQL Server, those that are not appropriate for server-side use (for example, windowing classes), are not available.</span></span> <span data-ttu-id="fa24d-125">Para obtener más información, consulte [supported .NET Framework Libraries](database-objects/supported-net-framework-libraries.md).</span><span class="sxs-lookup"><span data-stu-id="fa24d-125">For more information, see [Supported .NET Framework Libraries](database-objects/supported-net-framework-libraries.md).</span></span>  
  
 <span data-ttu-id="fa24d-126">Uno de las ventajas del código administrado es la seguridad de tipos o la garantía de que el código tiene acceso a los tipos solo de maneras bien definidas y permitidas.</span><span class="sxs-lookup"><span data-stu-id="fa24d-126">One of the benefits of managed code is type safety, or the assurance that code accesses types only in well-defined, permissible ways.</span></span> <span data-ttu-id="fa24d-127">Antes de que se ejecute el código administrado, CLR comprueba que el código es seguro.</span><span class="sxs-lookup"><span data-stu-id="fa24d-127">Before managed code is executed, the CLR verifies that the code is safe.</span></span> <span data-ttu-id="fa24d-128">Por ejemplo, se comprueba el código para asegurarse de que no se lea ninguna memoria que no se haya escrito previamente.</span><span class="sxs-lookup"><span data-stu-id="fa24d-128">For example, the code is checked to ensure that no memory is read that has not previously been written.</span></span> <span data-ttu-id="fa24d-129">CLR puede ayudar también a asegurarse de que el código no manipula la memoria no administrada.</span><span class="sxs-lookup"><span data-stu-id="fa24d-129">The CLR can also help ensure that code does not manipulate unmanaged memory.</span></span>  
  
 <span data-ttu-id="fa24d-130">La integración CLR proporciona el potencial para el rendimiento mejorado.</span><span class="sxs-lookup"><span data-stu-id="fa24d-130">CLR integration offers the potential for improved performance.</span></span> <span data-ttu-id="fa24d-131">Para obtener más información, vea [rendimiento de la integración CLR](clr-integration-architecture-performance.md).</span><span class="sxs-lookup"><span data-stu-id="fa24d-131">For information, see [Performance of CLR Integration](clr-integration-architecture-performance.md).</span></span>  
  
## <a name="choosing-between-transact-sql-and-managed-code"></a><span data-ttu-id="fa24d-132">Elegir entre Transact-SQL y el código administrado</span><span class="sxs-lookup"><span data-stu-id="fa24d-132">Choosing Between Transact-SQL and Managed Code</span></span>  
 <span data-ttu-id="fa24d-133">Al escribir procedimientos almacenados, desencadenadores y funciones definidas por el usuario, una decisión que debe tomar es si va a utilizar el lenguaje [!INCLUDE[tsql](../../../includes/tsql-md.md)] tradicional o un lenguaje .NET Framework como Visual Basic .NET o Visual C#.</span><span class="sxs-lookup"><span data-stu-id="fa24d-133">When writing stored procedures, triggers, and user-defined functions, one decision you must make is whether to use traditional [!INCLUDE[tsql](../../../includes/tsql-md.md)], or a .NET Framework language such as Visual Basic .NET or Visual C#.</span></span> <span data-ttu-id="fa24d-134">Use [!INCLUDE[tsql](../../../includes/tsql-md.md)] si el código va a realizar principalmente un acceso a los datos con poca o ninguna lógica de procedimientos.</span><span class="sxs-lookup"><span data-stu-id="fa24d-134">Use [!INCLUDE[tsql](../../../includes/tsql-md.md)] when the code will mostly perform data access with little or no procedural logic.</span></span> <span data-ttu-id="fa24d-135">Use el código administrado para las funciones con uso importante de CPU y procedimientos que presentan una lógica compleja o si desea utilizar la BCL de .NET Framework.</span><span class="sxs-lookup"><span data-stu-id="fa24d-135">Use managed code for CPU-intensive functions and procedures that feature complex logic, or when you want to make use of the BCL of the .NET Framework.</span></span>  
  
### <a name="choosing-between-execution-in-the-server-and-execution-in-the-client"></a><span data-ttu-id="fa24d-136">Elegir entre ejecución en el servidor y ejecución en el cliente</span><span class="sxs-lookup"><span data-stu-id="fa24d-136">Choosing Between Execution in the Server and Execution in the Client</span></span>  
 <span data-ttu-id="fa24d-137">Otro factor a la hora de decidirse sobre si se debe utilizar [!INCLUDE[tsql](../../../includes/tsql-md.md)] o el código administrado es la ubicación donde desea que resida el código, el equipo servidor o el equipo cliente.</span><span class="sxs-lookup"><span data-stu-id="fa24d-137">Another factor in your decision about whether to use [!INCLUDE[tsql](../../../includes/tsql-md.md)] or managed code is where you would like your code to reside, the server computer or the client computer.</span></span> <span data-ttu-id="fa24d-138">[!INCLUDE[tsql](../../../includes/tsql-md.md)] y el código administrado se pueden ejecutar en el servidor.</span><span class="sxs-lookup"><span data-stu-id="fa24d-138">Both [!INCLUDE[tsql](../../../includes/tsql-md.md)] and managed code can be run on the server.</span></span> <span data-ttu-id="fa24d-139">Esto sitúa el código y los datos juntos y le permite aprovechar la capacidad de procesamiento del servidor.</span><span class="sxs-lookup"><span data-stu-id="fa24d-139">This places code and data close together, and allows you to take advantage of the processing power of the server.</span></span> <span data-ttu-id="fa24d-140">Por otro lado, quizá prefiera evitar situar las tareas con un consumo de procesador elevado en el servidor de bases de datos.</span><span class="sxs-lookup"><span data-stu-id="fa24d-140">On the other hand, you may wish to avoid placing processor intensive tasks on your database server.</span></span> <span data-ttu-id="fa24d-141">La mayoría de los equipos cliente actuales son muy eficaces y quizá prefiera aprovechar esta capacidad de procesamiento situando cuanto más código sea posible en el cliente.</span><span class="sxs-lookup"><span data-stu-id="fa24d-141">Most client computers today are very powerful, and you may wish to take advantage of this processing power by placing as much code as possible on the client.</span></span> <span data-ttu-id="fa24d-142">El código administrado se puede ejecutar en un equipo cliente, mientras que [!INCLUDE[tsql](../../../includes/tsql-md.md)] no se puede.</span><span class="sxs-lookup"><span data-stu-id="fa24d-142">Managed code can run on a client computer, while [!INCLUDE[tsql](../../../includes/tsql-md.md)] cannot.</span></span>  
  
## <a name="choosing-between-extended-stored-procedures-and-managed-code"></a><span data-ttu-id="fa24d-143">Elegir entre los procedimientos almacenados extendidos y el código administrado</span><span class="sxs-lookup"><span data-stu-id="fa24d-143">Choosing Between Extended Stored Procedures and Managed Code</span></span>  
 <span data-ttu-id="fa24d-144">Se pueden crear procedimientos almacenados extendidos para llevar a cabo funcionalidades que no son posibles con los procedimientos almacenados de [!INCLUDE[tsql](../../../includes/tsql-md.md)].</span><span class="sxs-lookup"><span data-stu-id="fa24d-144">Extended stored procedures can be built to perform functionality not possible with [!INCLUDE[tsql](../../../includes/tsql-md.md)] stored procedures.</span></span> <span data-ttu-id="fa24d-145">Los procedimientos almacenados extendidos pueden, sin embargo, poner en peligro la integridad del proceso de [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)], mientras que el código administrado, cuya seguridad de tipos se comprueba, no puede.</span><span class="sxs-lookup"><span data-stu-id="fa24d-145">Extended stored procedures can, however, compromise the integrity of the [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] process, while managed code that is verified to be type-safe cannot.</span></span> <span data-ttu-id="fa24d-146">Además, la administración de memoria, la programación de subprocesos y fibras y los servicios de sincronización se integran más plenamente entre el código administrado de CLR y [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)].</span><span class="sxs-lookup"><span data-stu-id="fa24d-146">Further, memory management, scheduling of threads and fibers, and synchronization services are more deeply integrated between the managed code of the CLR and [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)].</span></span> <span data-ttu-id="fa24d-147">Con la integración CLR, tiene una manera más segura que los procedimientos almacenados extendidos de escribir los procedimientos almacenados necesarios para realizar las tareas que no son posibles en [!INCLUDE[tsql](../../../includes/tsql-md.md)].</span><span class="sxs-lookup"><span data-stu-id="fa24d-147">With CLR integration, you have a more secure way than extended stored procedures to write the stored procedures you need to perform tasks not possible in [!INCLUDE[tsql](../../../includes/tsql-md.md)].</span></span> <span data-ttu-id="fa24d-148">Para obtener más información acerca de la integración CLR y los procedimientos almacenados extendidos, vea [rendimiento de la integración CLR](clr-integration-architecture-performance.md).</span><span class="sxs-lookup"><span data-stu-id="fa24d-148">For more information about CLR integration and extended stored procedures, see [Performance of CLR Integration](clr-integration-architecture-performance.md).</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="fa24d-149">Consulte también</span><span class="sxs-lookup"><span data-stu-id="fa24d-149">See Also</span></span>  
 <span data-ttu-id="fa24d-150">[Instalación del .NET Framework](https://technet.microsoft.com/library/ms166014\(v=SQL.105\).aspx) </span><span class="sxs-lookup"><span data-stu-id="fa24d-150">[Installing the .NET Framework](https://technet.microsoft.com/library/ms166014\(v=SQL.105\).aspx) </span></span>  
 <span data-ttu-id="fa24d-151">[Arquitectura de la integración CLR](../../database-engine/dev-guide/architecture-of-clr-integration.md) </span><span class="sxs-lookup"><span data-stu-id="fa24d-151">[Architecture of CLR Integration](../../database-engine/dev-guide/architecture-of-clr-integration.md) </span></span>  
 <span data-ttu-id="fa24d-152">[Acceso a datos desde objetos de base de datos CLR](data-access/data-access-from-clr-database-objects.md) </span><span class="sxs-lookup"><span data-stu-id="fa24d-152">[Data Access from CLR Database Objects](data-access/data-access-from-clr-database-objects.md) </span></span>  
 [<span data-ttu-id="fa24d-153">Introducción a la integración CLR</span><span class="sxs-lookup"><span data-stu-id="fa24d-153">Getting Started with CLR Integration</span></span>](database-objects/getting-started-with-clr-integration.md)  
  
  
