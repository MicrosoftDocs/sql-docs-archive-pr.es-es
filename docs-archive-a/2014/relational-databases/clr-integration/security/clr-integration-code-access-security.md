---
title: Seguridad de acceso del código de integración CLR | Microsoft Docs
ms.custom: ''
ms.date: 06/13/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: clr
ms.topic: reference
helpviewer_keywords:
- UNSAFE assemblies
- permissions [CLR integration]
- common language runtime [SQL Server], security
- SAFE assemblies
- code access security [CLR integration]
- EXTERNAL_ACCESS assemblies
ms.assetid: 2111cfe0-d5e0-43b1-93c3-e994ac0e9729
author: rothja
ms.author: jroth
ms.openlocfilehash: 75b283da2760b39349351802a83caae04e546c06
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 08/04/2020
ms.locfileid: "87671575"
---
# <a name="clr-integration-code-access-security"></a><span data-ttu-id="571a9-102">Seguridad de acceso del código de integración CLR</span><span class="sxs-lookup"><span data-stu-id="571a9-102">CLR Integration Code Access Security</span></span>
  <span data-ttu-id="571a9-103">Common Language Runtime (CLR) admite un modelo de seguridad denominado seguridad de acceso del código para el código administrado.</span><span class="sxs-lookup"><span data-stu-id="571a9-103">The common language runtime (CLR) supports a security model called code access security for managed code.</span></span> <span data-ttu-id="571a9-104">En este modelo, se conceden permisos a los ensamblados basados en la identidad del código.</span><span class="sxs-lookup"><span data-stu-id="571a9-104">In this model, permissions are granted to assemblies based on the identity of the code.</span></span> <span data-ttu-id="571a9-105">Para obtener más información, vea la sección sobre seguridad de acceso del código en el kit de desarrollo de software de .NET Framework.</span><span class="sxs-lookup"><span data-stu-id="571a9-105">For more information, see the "Code Access Security" section in the .NET Framework software development kit.</span></span>  
  
 <span data-ttu-id="571a9-106">La directiva de seguridad que determina los permisos que se conceden a los ensamblados se define en tres sitios distintos:</span><span class="sxs-lookup"><span data-stu-id="571a9-106">The security policy that determines the permissions granted to assemblies is defined in three different places:</span></span>  
  
-   <span data-ttu-id="571a9-107">Directiva de equipo: es la directiva activa para todo el código administrado que se ejecuta en el equipo donde está instalado [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)].</span><span class="sxs-lookup"><span data-stu-id="571a9-107">Machine policy: This is the policy in effect for all managed code running in the machine on which [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] is installed.</span></span>  
  
-   <span data-ttu-id="571a9-108">Directiva de usuario: es la directiva activa para el código administrado que se hospeda en un proceso.</span><span class="sxs-lookup"><span data-stu-id="571a9-108">User policy: This is the policy in effect for managed code hosted by a process.</span></span> <span data-ttu-id="571a9-109">El [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] servicio se está ejecutando.</span><span class="sxs-lookup"><span data-stu-id="571a9-109">For [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] service is running.</span></span>  
  
-   <span data-ttu-id="571a9-110">Directiva de host: es la directiva configurada por el host de CLR (en este caso, [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)]) que está activa para el código administrado que se ejecuta en ese host.</span><span class="sxs-lookup"><span data-stu-id="571a9-110">Host policy: This is the policy set up by the host of the CLR (in this case, [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)]) that is in effect for managed code running in that host.</span></span>  
  
 <span data-ttu-id="571a9-111">El mecanismo de seguridad de acceso del código admitido por CLR se basa en el supuesto de que el tiempo de ejecución puede hospedar código de plena confianza y código de confianza parcial.</span><span class="sxs-lookup"><span data-stu-id="571a9-111">The code access security mechanism supported by the CLR is based on the assumption that the runtime can host both fully trusted and partially trusted code.</span></span> <span data-ttu-id="571a9-112">Los recursos protegidos por la seguridad de acceso del código de CLR suelen estar encapsulados por interfaces de programación de aplicaciones administradas que requirethe el permiso correspondiente antes de permitir el acceso al recurso.</span><span class="sxs-lookup"><span data-stu-id="571a9-112">The resources that are protected by CLR code access security are typically wrapped by managed application programming interfaces that requirethe corresponding permission before allowing access to the resource.</span></span> <span data-ttu-id="571a9-113">Demandfor el permiso solo se satisface si todos los llamadores (en el nivel de ensamblado) de la pila de llamadas tienen el permiso de recurso correspondiente.</span><span class="sxs-lookup"><span data-stu-id="571a9-113">The demandfor the permission is satisfied only if all the callers (at the assembly level) in the call stack have the corresponding resource permission.</span></span>  
  
 <span data-ttu-id="571a9-114">El conjunto de permisos de seguridad de acceso del código que se conceden al código administrado cuando se ejecuta dentro [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] de concede un conjunto de permisos a un ensamblado cargado en [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] , el conjunto eventual de permisos asignados al código de usuario puede estar restringido más por las directivas de nivel de usuario y de equipo.</span><span class="sxs-lookup"><span data-stu-id="571a9-114">The set of code access security permissions that are granted to managed code when running inside [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] grants a set of permissions to an assembly loaded in [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)], the eventual set of permissions given to user code may be restricted further by the user and machine-level policies.</span></span>  
  
## <a name="sql-server-host-policy-level-permission-sets"></a><span data-ttu-id="571a9-115">Conjuntos de permisos de nivel de directiva de host de SQL Server</span><span class="sxs-lookup"><span data-stu-id="571a9-115">SQL Server Host Policy Level Permission Sets</span></span>  
 <span data-ttu-id="571a9-116">El conjunto de permisos de seguridad de acceso del código que se concede a los ensamblados mediante el nivel de directiva de host de [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] viene determinado por el conjunto de permisos especificado al crear el ensamblado.</span><span class="sxs-lookup"><span data-stu-id="571a9-116">The set of code access security permissions granted to assemblies by the [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] host policy level is determined by the permission set specified when creating the assembly.</span></span> <span data-ttu-id="571a9-117">Hay tres conjuntos de permisos: `SAFE` `EXTERNAL_ACCESS` y `UNSAFE` (especificados mediante la opción **PERMISSION_SET** de[Create assembly &#40;Transact-SQL&#41;](/sql/t-sql/statements/create-assembly-transact-sql)).</span><span class="sxs-lookup"><span data-stu-id="571a9-117">There are three permission sets: `SAFE`, `EXTERNAL_ACCESS` and `UNSAFE` (specified using the **PERMISSION_SET** option of[CREATE ASSEMBLY &#40;Transact-SQL&#41;](/sql/t-sql/statements/create-assembly-transact-sql)).</span></span>  
  
 [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)]<span data-ttu-id="571a9-118">.</span><span class="sxs-lookup"><span data-stu-id="571a9-118">.</span></span> <span data-ttu-id="571a9-119">Esta directiva no está pensada para el dominio de aplicación predeterminado que estaría activo cuando [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] crea una instancia de CLR.</span><span class="sxs-lookup"><span data-stu-id="571a9-119">This policy is not meant for the default application domain that would be in effect when [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] creates an instance of the CLR.</span></span>  
  
 <span data-ttu-id="571a9-120">[!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)]Fixedpolicy para los ensamblados del sistema y la Directiva especificada por el usuario para los ensamblados de usuario.</span><span class="sxs-lookup"><span data-stu-id="571a9-120">The [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] fixedpolicy for system assemblies and user-specified policy for user assemblies.</span></span>  
  
 <span data-ttu-id="571a9-121">La directiva fija para ensamblados CLR y ensamblados del sistema de [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] les concede plena confianza.</span><span class="sxs-lookup"><span data-stu-id="571a9-121">The fixed policy for CLR assemblies and [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] system assemblies grants them full trust.</span></span>  
  
 <span data-ttu-id="571a9-122">La parte especificada por el usuario de la directiva de host de [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] depende de que el propietario de los ensamblados especifique uno de los tres depósitos de permisos para cada ensamblado.</span><span class="sxs-lookup"><span data-stu-id="571a9-122">The user-specified portion of the [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] host policy is based on the assembly owner specifying one of three permission buckets for each assembly.</span></span> <span data-ttu-id="571a9-123">Para obtener más información acerca de los permisos de seguridad que se muestran a continuación, vea el SDK de .NET Framework.</span><span class="sxs-lookup"><span data-stu-id="571a9-123">For more information about the security permissions listed below, see the .NET Framework SDK.</span></span>  
  
### <a name="safe"></a><span data-ttu-id="571a9-124">SAFE</span><span class="sxs-lookup"><span data-stu-id="571a9-124">SAFE</span></span>  
 <span data-ttu-id="571a9-125">Solo se permiten el cálculo interno y el acceso a datos local.</span><span class="sxs-lookup"><span data-stu-id="571a9-125">Only internal computation and local data access are allowed.</span></span> <span data-ttu-id="571a9-126">`SAFE` es el conjunto de permisos más restrictivo.</span><span class="sxs-lookup"><span data-stu-id="571a9-126">`SAFE` is the most restrictive permission set.</span></span> <span data-ttu-id="571a9-127">El código que ejecuta un ensamblado con permisos `SAFE` no puede tener acceso a recursos externos del sistema, como archivos, la red, variables de entorno o el Registro.</span><span class="sxs-lookup"><span data-stu-id="571a9-127">Code executed by an assembly with `SAFE` permissions cannot access external system resources such as files, the network, environment variables, or the registry.</span></span>  
  
 <span data-ttu-id="571a9-128">Los ensamblados `SAFE` tienen los siguientes permisos y valores:</span><span class="sxs-lookup"><span data-stu-id="571a9-128">`SAFE` assemblies have the following permissions and values:</span></span>  
  
|<span data-ttu-id="571a9-129">Permiso</span><span class="sxs-lookup"><span data-stu-id="571a9-129">Permission</span></span>|<span data-ttu-id="571a9-130">Valor(es)/descripción</span><span class="sxs-lookup"><span data-stu-id="571a9-130">Value(s)/Description</span></span>|  
|----------------|-----------------------------|  
|`SecurityPermission`|<span data-ttu-id="571a9-131">`Execution:` permiso para ejecutar el código administrado.</span><span class="sxs-lookup"><span data-stu-id="571a9-131">`Execution:` Permission to execute managed code.</span></span>|  
|`SqlClientPermission`|<span data-ttu-id="571a9-132">`Context connection = true`, `context connection = yes`: solo puede usarse la conexión de contexto (context-connection) y la cadena de conexión solo puede especificar un valor "context connection=true" o "context connection=yes".</span><span class="sxs-lookup"><span data-stu-id="571a9-132">`Context connection = true`, `context connection = yes`: Only the context-connection can be used and the connection string can only specify a value of "context connection=true" or "context connection=yes".</span></span><br /><br /> <span data-ttu-id="571a9-133">**AllowBlankPassword = false:**  No se permiten contraseñas en blanco.</span><span class="sxs-lookup"><span data-stu-id="571a9-133">**AllowBlankPassword = false:**  Blank passwords are not permitted.</span></span>|  
  
### <a name="external_access"></a><span data-ttu-id="571a9-134">EXTERNAL_ACCESS</span><span class="sxs-lookup"><span data-stu-id="571a9-134">EXTERNAL_ACCESS</span></span>  
 <span data-ttu-id="571a9-135">EXTERNAL_ACCESS ensamblados tienen los mismos permisos que los `SAFE` ensamblados, con la capacidad adicional para tener acceso a recursos externos del sistema, como archivos, redes, variables de entorno y el registro.</span><span class="sxs-lookup"><span data-stu-id="571a9-135">EXTERNAL_ACCESS assemblies have the same permissions as `SAFE` assemblies, with the additional ability to access external system resources such as files, networks, environmental variables, and the registry.</span></span>  
  
 <span data-ttu-id="571a9-136">Los ensamblados `EXTERNAL_ACCESS` también tienen los siguientes permisos y valores:</span><span class="sxs-lookup"><span data-stu-id="571a9-136">`EXTERNAL_ACCESS` assemblies also have the following permissions and values:</span></span>  
  
|<span data-ttu-id="571a9-137">Permiso</span><span class="sxs-lookup"><span data-stu-id="571a9-137">Permission</span></span>|<span data-ttu-id="571a9-138">Valor(es)/descripción</span><span class="sxs-lookup"><span data-stu-id="571a9-138">Value(s)/Description</span></span>|  
|----------------|-----------------------------|  
|`DistributedTransactionPermission`|<span data-ttu-id="571a9-139">`Unrestricted:`Se permiten las transacciones distribuidas.</span><span class="sxs-lookup"><span data-stu-id="571a9-139">`Unrestricted:` Distributed transactions are allowed.</span></span>|  
|`DNSPermission`|<span data-ttu-id="571a9-140">`Unrestricted:`Permiso para solicitar información de servidores de nombres de dominio.</span><span class="sxs-lookup"><span data-stu-id="571a9-140">`Unrestricted:` Permission to request information from Domain Name Servers.</span></span>|  
|`EnvironmentPermission`|<span data-ttu-id="571a9-141">`Unrestricted:` se permite un acceso total a las variables de entorno del sistema y del usuario.</span><span class="sxs-lookup"><span data-stu-id="571a9-141">`Unrestricted:` Full access to system and user environment variables is allowed.</span></span>|  
|`EventLogPermission`|<span data-ttu-id="571a9-142">`Administer:` se permiten las acciones siguientes: crear un origen de eventos, leer los registros existentes, eliminar orígenes o registros de eventos, responder a entradas, borrar un registro de eventos, escuchar eventos y obtener acceso a una colección de todos los registros de eventos.</span><span class="sxs-lookup"><span data-stu-id="571a9-142">`Administer:` The following actions are allowed: creating an event source, reading existing logs, deleting event sources or logs, responding to entries, clearing an event log, listening to events, and accessing a collection of all event logs.</span></span>|  
|`FileIOPermission`|<span data-ttu-id="571a9-143">`Unrestricted:` se permite un acceso total a los archivos y carpetas.</span><span class="sxs-lookup"><span data-stu-id="571a9-143">`Unrestricted:` Full access to files and folders is allowed.</span></span>|  
|`KeyContainerPermission`|<span data-ttu-id="571a9-144">`Unrestricted:` se permite un acceso total a los contenedores de claves.</span><span class="sxs-lookup"><span data-stu-id="571a9-144">`Unrestricted:` Full access to key containers is allowed.</span></span>|  
|`NetworkInformationPermission`|<span data-ttu-id="571a9-145">`Access:` se permite hacer ping.</span><span class="sxs-lookup"><span data-stu-id="571a9-145">`Access:` Pinging is permitted.</span></span>|  
|`RegistryPermission`|<span data-ttu-id="571a9-146">Permite derechos de lectura de `HKEY_CLASSES_ROOT`, `HKEY_LOCAL_MACHINE`, `HKEY_CURRENT_USER`, `HKEY_CURRENT_CONFIG` y `HKEY_USERS.`</span><span class="sxs-lookup"><span data-stu-id="571a9-146">Allows read rights to `HKEY_CLASSES_ROOT`, `HKEY_LOCAL_MACHINE`, `HKEY_CURRENT_USER`, `HKEY_CURRENT_CONFIG`, and `HKEY_USERS.`</span></span>|  
|`SecurityPermission`|<span data-ttu-id="571a9-147">`Assertion:` posibilidad de afirmar que todos los autores de llamadas de este código tienen el permiso necesario para la operación.</span><span class="sxs-lookup"><span data-stu-id="571a9-147">`Assertion:` Ability to assert that all the callers of this code have the requisite permission for the operation.</span></span><br /><br /> <span data-ttu-id="571a9-148">`ControlPrincipal:` posibilidad de manipular el objeto principal.</span><span class="sxs-lookup"><span data-stu-id="571a9-148">`ControlPrincipal:` Ability to manipulate the principal object.</span></span><br /><br /> <span data-ttu-id="571a9-149">`Execution:` permiso para ejecutar el código administrado.</span><span class="sxs-lookup"><span data-stu-id="571a9-149">`Execution:` Permission to execute managed code.</span></span><br /><br /> <span data-ttu-id="571a9-150">`SerializationFormatter:` posibilidad de ofrecer servicios de serialización.</span><span class="sxs-lookup"><span data-stu-id="571a9-150">`SerializationFormatter:` Ability to provide serialization services.</span></span>|  
|<span data-ttu-id="571a9-151">**SmtpPermission**</span><span class="sxs-lookup"><span data-stu-id="571a9-151">**SmtpPermission**</span></span>|<span data-ttu-id="571a9-152">`Access:` se permiten conexiones salientes al puerto 25 del host SMTP.</span><span class="sxs-lookup"><span data-stu-id="571a9-152">`Access:` Outbound connections to SMTP host port 25 are allowed.</span></span>|  
|`SocketPermission`|<span data-ttu-id="571a9-153">`Connect:` se permiten conexiones salientes (todos los puertos, todos los protocolos) en una dirección de transporte.</span><span class="sxs-lookup"><span data-stu-id="571a9-153">`Connect:` Outbound connections (all ports, all protocols) on a transport address are allowed.</span></span>|  
|`SqlClientPermission`|<span data-ttu-id="571a9-154">`Unrestricted:` se permite un acceso total al origen de datos.</span><span class="sxs-lookup"><span data-stu-id="571a9-154">`Unrestricted:` Full access to the datasource is allowed.</span></span>|  
|`StorePermission`|<span data-ttu-id="571a9-155">`Unrestricted:` se permite un acceso total a los almacenes de certificados X.509.</span><span class="sxs-lookup"><span data-stu-id="571a9-155">`Unrestricted:` Full access to X.509 certificate stores is allowed.</span></span>|  
|`WebPermission`|<span data-ttu-id="571a9-156">`Connect:` se permiten conexiones salientes a recursos web.</span><span class="sxs-lookup"><span data-stu-id="571a9-156">`Connect:` Outbound connections to web resources are allowed.</span></span>|  
  
### <a name="unsafe"></a><span data-ttu-id="571a9-157">UNSAFE</span><span class="sxs-lookup"><span data-stu-id="571a9-157">UNSAFE</span></span>  
 <span data-ttu-id="571a9-158">UNSAFE permite a los ensamblados un acceso sin límites a los recursos situados tanto dentro como fuera de [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)].</span><span class="sxs-lookup"><span data-stu-id="571a9-158">UNSAFE allows assemblies unrestricted access to resources, both within and outside [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)].</span></span> <span data-ttu-id="571a9-159">El código que se ejecuta desde un ensamblado `UNSAFE` también puede llamar a código no administrado.</span><span class="sxs-lookup"><span data-stu-id="571a9-159">Code executing from within an `UNSAFE` assembly can also call unmanaged code.</span></span>  
  
 <span data-ttu-id="571a9-160">A los ensamblados `UNSAFE` se les concede `FullTrust`.</span><span class="sxs-lookup"><span data-stu-id="571a9-160">`UNSAFE` assemblies are given `FullTrust`.</span></span>  
  
> [!IMPORTANT]  
>  <span data-ttu-id="571a9-161">`SAFE` es la configuración de permiso recomendada para los ensamblados que realizan tareas de administración de datos y cálculos sin tener acceso a los recursos fuera de [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)].</span><span class="sxs-lookup"><span data-stu-id="571a9-161">`SAFE` is the recommended permission setting for assemblies that perform computation and data management tasks without accessing resources outside [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)].</span></span> <span data-ttu-id="571a9-162">`EXTERNAL_ACCESS`los ensamblados se ejecutan de forma predeterminada como la [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] cuenta de servicio. el permiso para ejecutar `EXTERNAL_ACCESS` solo se debe proporcionar a los inicios de sesión de confianza para ejecutarse como la cuenta de servicio.</span><span class="sxs-lookup"><span data-stu-id="571a9-162">`EXTERNAL_ACCESS` assemblies by default execute as the [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] service account, permission to execute `EXTERNAL_ACCESS` should only be given to logins trusted to run as the service account.</span></span> <span data-ttu-id="571a9-163">Desde el punto de vista de la seguridad, los ensamblados `EXTERNAL_ACCESS` y `UNSAFE` son idénticos.</span><span class="sxs-lookup"><span data-stu-id="571a9-163">From a security perspective, `EXTERNAL_ACCESS` and `UNSAFE` assemblies are identical.</span></span> <span data-ttu-id="571a9-164">Sin embargo, los ensamblados `EXTERNAL_ACCESS` proporcionan diferentes protecciones de confiabilidad y solidez que no se incluyen en los ensamblados `UNSAFE`.</span><span class="sxs-lookup"><span data-stu-id="571a9-164">However, `EXTERNAL_ACCESS` assemblies provide various reliability and robustness protections that are not in `UNSAFE` assemblies.</span></span> <span data-ttu-id="571a9-165">La especificación `UNSAFE` permite que el código del ensamblado realice operaciones no válidas en [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] .</span><span class="sxs-lookup"><span data-stu-id="571a9-165">Specifying `UNSAFE` allows the code in the assembly to perform illegal operations against the [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)].</span></span> <span data-ttu-id="571a9-166">Para obtener más información sobre la creación de ensamblados CLR en [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] , vea [administrar ensamblados de integración CLR](../../../relational-databases/clr-integration/assemblies/managing-clr-integration-assemblies.md).</span><span class="sxs-lookup"><span data-stu-id="571a9-166">For more information about creating CLR assemblies in [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)], see [Managing CLR Integration Assemblies](../../../relational-databases/clr-integration/assemblies/managing-clr-integration-assemblies.md).</span></span>  
  
## <a name="accessing-external-resources"></a><span data-ttu-id="571a9-167">Obtener acceso a recursos externos</span><span class="sxs-lookup"><span data-stu-id="571a9-167">Accessing External Resources</span></span>  
 <span data-ttu-id="571a9-168">Si un tipo definido por el usuario (UDT), un procedimiento almacenado u otro tipo de ensamblado de construcción se registra con el conjunto de permisos `SAFE`, el código administrado que se ejecuta en la construcción no puede obtener acceso a los recursos externos.</span><span class="sxs-lookup"><span data-stu-id="571a9-168">If a user-defined type (UDT), stored procedure, or other type of construct assembly is registered with the `SAFE` permission set, then managed code executing in the construct is unable to access external resources.</span></span> <span data-ttu-id="571a9-169">Sin embargo, si se especifica cualquiera de los conjuntos de permisos `EXTERNAL_ACCESS` o `UNSAFE` y el código administrado intenta obtener acceso a recursos externos, [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] aplica las reglas siguientes:</span><span class="sxs-lookup"><span data-stu-id="571a9-169">However, if either the `EXTERNAL_ACCESS` or `UNSAFE` permission sets are specified, and managed code attempts to access external resources, [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] applies the following rules:</span></span>  
  
|<span data-ttu-id="571a9-170">Si</span><span class="sxs-lookup"><span data-stu-id="571a9-170">If</span></span>|<span data-ttu-id="571a9-171">Entonces</span><span class="sxs-lookup"><span data-stu-id="571a9-171">Then</span></span>|  
|--------|----------|  
|<span data-ttu-id="571a9-172">El contexto de ejecución corresponde a un inicio de sesión de [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)].</span><span class="sxs-lookup"><span data-stu-id="571a9-172">The execution context corresponds to a [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] login.</span></span>|<span data-ttu-id="571a9-173">Se deniegan los intentos de acceso a recursos externos y se inicia una excepción de seguridad.</span><span class="sxs-lookup"><span data-stu-id="571a9-173">Attempts to access external resources are denied and a security exception is raised.</span></span>|  
|<span data-ttu-id="571a9-174">El contexto de ejecución corresponde a un inicio de sesión de Windows y el contexto de ejecución es el autor de la llamada original.</span><span class="sxs-lookup"><span data-stu-id="571a9-174">The execution context corresponds to a Windows login and the execution context is the original caller.</span></span>|<span data-ttu-id="571a9-175">Se obtiene acceso al recurso externo en el contexto de seguridad de la cuenta de servicio de [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)].</span><span class="sxs-lookup"><span data-stu-id="571a9-175">The external resource is accessed under the security context of the [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] service account.</span></span>|  
|<span data-ttu-id="571a9-176">El autor de llamada no es el autor de llamada original.</span><span class="sxs-lookup"><span data-stu-id="571a9-176">The caller is not the original caller.</span></span>|<span data-ttu-id="571a9-177">Se deniega el acceso y se inicia una excepción de seguridad.</span><span class="sxs-lookup"><span data-stu-id="571a9-177">Access is denied and a security exception is raised.</span></span>|  
|<span data-ttu-id="571a9-178">El contexto de ejecución corresponde a un inicio de sesión de Windows y el contexto de ejecución es el autor de llamada original, y el autor de llamada ha sido suplantado.</span><span class="sxs-lookup"><span data-stu-id="571a9-178">The execution context corresponds to a Windows login and the execution context is the original caller and the caller has been impersonated.</span></span>|<span data-ttu-id="571a9-179">El acceso usa el contexto de seguridad del autor de llamada, no la cuenta de servicio.</span><span class="sxs-lookup"><span data-stu-id="571a9-179">Access uses the caller security context; not the service account.</span></span>|  
  
## <a name="permission-set-summary"></a><span data-ttu-id="571a9-180">Resumen del conjunto de permisos</span><span class="sxs-lookup"><span data-stu-id="571a9-180">Permission Set Summary</span></span>  
 <span data-ttu-id="571a9-181">En el gráfico siguiente se resumen las restricciones y los permisos concedidos a los conjuntos de permisos `SAFE`, `EXTERNAL_ACCESS` y `UNSAFE`.</span><span class="sxs-lookup"><span data-stu-id="571a9-181">The following chart summarizes the restrictions and permissions granted to the `SAFE`, `EXTERNAL_ACCESS`, and `UNSAFE` permission sets.</span></span>  
  
|||||  
|-|-|-|-|  
||`SAFE`|`EXTERNAL_ACCESS`|`UNSAFE`|  
|`Code Access Security Permissions`|<span data-ttu-id="571a9-182">Solo ejecución</span><span class="sxs-lookup"><span data-stu-id="571a9-182">Execute only</span></span>|<span data-ttu-id="571a9-183">Ejecución + acceso a recursos externos</span><span class="sxs-lookup"><span data-stu-id="571a9-183">Execute + access to external resources</span></span>|<span data-ttu-id="571a9-184">Sin restringir (se incluye P/Invoke)</span><span class="sxs-lookup"><span data-stu-id="571a9-184">Unrestricted (including P/Invoke)</span></span>|  
|`Programming model restrictions`|<span data-ttu-id="571a9-185">Sí</span><span class="sxs-lookup"><span data-stu-id="571a9-185">Yes</span></span>|<span data-ttu-id="571a9-186">Sí</span><span class="sxs-lookup"><span data-stu-id="571a9-186">Yes</span></span>|<span data-ttu-id="571a9-187">Sin restricciones</span><span class="sxs-lookup"><span data-stu-id="571a9-187">No restrictions</span></span>|  
|`Verifiability requirement`|<span data-ttu-id="571a9-188">Sí</span><span class="sxs-lookup"><span data-stu-id="571a9-188">Yes</span></span>|<span data-ttu-id="571a9-189">Sí</span><span class="sxs-lookup"><span data-stu-id="571a9-189">Yes</span></span>|<span data-ttu-id="571a9-190">No</span><span class="sxs-lookup"><span data-stu-id="571a9-190">No</span></span>|  
|`Local data access`|<span data-ttu-id="571a9-191">Sí</span><span class="sxs-lookup"><span data-stu-id="571a9-191">Yes</span></span>|<span data-ttu-id="571a9-192">Sí</span><span class="sxs-lookup"><span data-stu-id="571a9-192">Yes</span></span>|<span data-ttu-id="571a9-193">Sí</span><span class="sxs-lookup"><span data-stu-id="571a9-193">Yes</span></span>|  
|`Ability to call native code`|<span data-ttu-id="571a9-194">No</span><span class="sxs-lookup"><span data-stu-id="571a9-194">No</span></span>|<span data-ttu-id="571a9-195">No</span><span class="sxs-lookup"><span data-stu-id="571a9-195">No</span></span>|<span data-ttu-id="571a9-196">Sí</span><span class="sxs-lookup"><span data-stu-id="571a9-196">Yes</span></span>|  
  
## <a name="see-also"></a><span data-ttu-id="571a9-197">Consulte también</span><span class="sxs-lookup"><span data-stu-id="571a9-197">See Also</span></span>  
 <span data-ttu-id="571a9-198">[Seguridad de la integración CLR](clr-integration-security.md) </span><span class="sxs-lookup"><span data-stu-id="571a9-198">[CLR Integration Security](clr-integration-security.md) </span></span>  
 <span data-ttu-id="571a9-199">[Atributos de protección del host y programación de la integración CLR](../../clr-integration-security-host-protection-attributes/host-protection-attributes-and-clr-integration-programming.md) </span><span class="sxs-lookup"><span data-stu-id="571a9-199">[Host Protection Attributes and CLR Integration Programming](../../clr-integration-security-host-protection-attributes/host-protection-attributes-and-clr-integration-programming.md) </span></span>  
 <span data-ttu-id="571a9-200">[Restricciones del modelo de programación de la integración CLR](../../../relational-databases/clr-integration/database-objects/clr-integration-programming-model-restrictions.md) </span><span class="sxs-lookup"><span data-stu-id="571a9-200">[CLR Integration Programming Model Restrictions](../../../relational-databases/clr-integration/database-objects/clr-integration-programming-model-restrictions.md) </span></span>  
 [<span data-ttu-id="571a9-201">Entorno hospedado CLR</span><span class="sxs-lookup"><span data-stu-id="571a9-201">CLR Hosted Environment</span></span>](../clr-integration-architecture-clr-hosted-environment.md)  
  
  
