---
title: Creación y administración de índices de texto completo | Microsoft Docs
ms.custom: ''
ms.date: 06/13/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: search
ms.topic: conceptual
helpviewer_keywords:
- full-text indexes [SQL Server], about
ms.assetid: f8a98486-5438-44a8-b454-9e6ecbc74f83
author: MikeRayMSFT
ms.author: mikeray
ms.openlocfilehash: 603b5e6b929259dc8b1408c0c2a1afab383446e1
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 08/04/2020
ms.locfileid: "87746226"
---
# <a name="create-and-manage-full-text-indexes"></a><span data-ttu-id="b7e32-102">Crear y administrar índices de texto completo</span><span class="sxs-lookup"><span data-stu-id="b7e32-102">Create and Manage Full-Text Indexes</span></span>
  <span data-ttu-id="b7e32-103">El motor de búsqueda de texto completo utiliza la información de los índices de texto completo para compilar las consultas de texto completo que pueden buscar rápidamente en una tabla palabras o combinaciones de palabras determinadas.</span><span class="sxs-lookup"><span data-stu-id="b7e32-103">The information in full-text indexes is used by the Full-Text Engine to compile full-text queries that can quickly search a table for particular words or combinations of words.</span></span> <span data-ttu-id="b7e32-104">Un índice de texto completo almacena información sobre las palabras relevantes y su ubicación en una o varias columnas de la tabla de una base de datos.</span><span class="sxs-lookup"><span data-stu-id="b7e32-104">A full-text index stores information about significant words and their location within one or more columns of a database table.</span></span> <span data-ttu-id="b7e32-105">Un índice de texto completo es un tipo especial de índice funcional basado en token que el motor de texto completo genera y mantiene para [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)].</span><span class="sxs-lookup"><span data-stu-id="b7e32-105">A full-text index is a special type of token-based functional index that is built and maintained by the Full-Text Engine for [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)].</span></span> <span data-ttu-id="b7e32-106">El proceso de creación de un índice de texto completo difiere de la creación de otros tipos de índice.</span><span class="sxs-lookup"><span data-stu-id="b7e32-106">The process of building a full-text index differs from building other types of indexes.</span></span> <span data-ttu-id="b7e32-107">En lugar de crear una estructura de árbol B basada en un valor almacenado en una fila determinada, el motor de texto completo genera una estructura de índice invertida, apilada y comprimida que se basa en tokens individuales del texto que se indiza.</span><span class="sxs-lookup"><span data-stu-id="b7e32-107">Instead of constructing a B-tree structure based on a value stored in a particular row, the Full-Text Engine builds an inverted, stacked, compressed index structure based on individual tokens from the text being indexed.</span></span>  <span data-ttu-id="b7e32-108">El tamaño de un índice de texto completo solo está limitado por los recursos de memoria disponibles del equipo en el que se ejecuta la instancia de [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] .</span><span class="sxs-lookup"><span data-stu-id="b7e32-108">The size of a full-text index is limited only by the available memory resources of the computer on which the instance of [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] is running.</span></span>  
  
 <span data-ttu-id="b7e32-109">A partir de [!INCLUDE[ssKatmai](../../includes/sskatmai-md.md)], los índices de texto completo se integran con el motor de base de datos, en lugar de residir en el sistema de archivos como en versiones anteriores de [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)].</span><span class="sxs-lookup"><span data-stu-id="b7e32-109">Beginning in [!INCLUDE[ssKatmai](../../includes/sskatmai-md.md)], the full-text indexes are integrated with the Database Engine, instead of residing in the file system as in previous versions of [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)].</span></span> <span data-ttu-id="b7e32-110">Para una base de datos nueva, el catálogo de texto completo es ahora un objeto virtual que no pertenece a ningún grupo de archivos; es simplemente un concepto lógico que hace referencia al grupo de índices de texto completo.</span><span class="sxs-lookup"><span data-stu-id="b7e32-110">For a new database, the full-text catalog is now a virtual object that does not belong to any filegroup; it is merely a logical concept that refers to a group of the full-text indexes.</span></span> <span data-ttu-id="b7e32-111">Debe tener en cuenta que, durante la actualización de una base de datos de [!INCLUDE[ssVersion2005](../../includes/ssversion2005-md.md)] , para cualquier catálogo de texto completo que contenga archivos de datos, se crea un nuevo grupo de archivos. Para obtener más información, vea [Actualizar la búsqueda de texto completo](upgrade-full-text-search.md).</span><span class="sxs-lookup"><span data-stu-id="b7e32-111">Note, however, that during upgrade of a [!INCLUDE[ssVersion2005](../../includes/ssversion2005-md.md)] database, any full-text catalog that contains data files, a new filegroup is created; for more information, see [Upgrade Full-Text Search](upgrade-full-text-search.md).</span></span>  
  
> [!NOTE]  
>  <span data-ttu-id="b7e32-112">En [!INCLUDE[ssKatmai](../../includes/sskatmai-md.md)] y versiones posteriores, el motor de texto completo reside en el proceso de [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] , en lugar de en un servicio independiente.</span><span class="sxs-lookup"><span data-stu-id="b7e32-112">In [!INCLUDE[ssKatmai](../../includes/sskatmai-md.md)] and later versions, the Full-Text Engine resides in the [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] process, rather than in a separate service.</span></span> <span data-ttu-id="b7e32-113">Al integrar el motor de texto completo en el motor de base de datos, se mejora la capacidad de administración de texto completo, la optimización de consultas mixtas y el rendimiento total.</span><span class="sxs-lookup"><span data-stu-id="b7e32-113">Integrating the Full-Text Engine into the Database Engine improves full-text manageability, optimization of mixed query, and overall performance.</span></span>  
  
 <span data-ttu-id="b7e32-114">Solo se permite un índice de texto completo por cada tabla.</span><span class="sxs-lookup"><span data-stu-id="b7e32-114">Only one full-text index is allowed per table.</span></span> <span data-ttu-id="b7e32-115">Para crear un índice de texto completo en una tabla, ésta debe tener una única columna que no contenga valores NULL.</span><span class="sxs-lookup"><span data-stu-id="b7e32-115">For a full-text index to be created on a table, the table must have a single, unique nonnull column.</span></span> <span data-ttu-id="b7e32-116">Puede generar un índice de texto completo en las columnas del tipo `char`, `varchar`, `nchar`, `nvarchar`, `text`, `ntext`, `image`, `xml`, `varbinary` y `varbinary(max)` se puede indexar para la búsqueda de texto completo.</span><span class="sxs-lookup"><span data-stu-id="b7e32-116">You can build a full-text index on columns of type `char`, `varchar`, `nchar`, `nvarchar`, `text`, `ntext`, `image`, `xml`, `varbinary`, and `varbinary(max)` can be indexed for full-text search.</span></span> <span data-ttu-id="b7e32-117">Si se crea un índice de texto completo en una columna cuyo tipo de datos es `varbinary`, es preciso especificar una columna de tipo para `varbinary(max)`, `image` o `xml`.</span><span class="sxs-lookup"><span data-stu-id="b7e32-117">Creating a full-text index on a column whose data type is  `varbinary`, `varbinary(max)`, `image`, or `xml` requires that you specify a type column.</span></span> <span data-ttu-id="b7e32-118">Una *columna de tipo* es una columna de tabla en la que se almacena la extensión de archivo (.doc, .pdf, .xls, etc.) del documento en cada fila.</span><span class="sxs-lookup"><span data-stu-id="b7e32-118">A *type column* is a table column in which you store the file extension (.doc, .pdf, .xls, and so forth) of the document in each row.</span></span>  
  
 <span data-ttu-id="b7e32-119">El proceso para crear y mantener un índice de texto completo se denomina *rellenado* (o *rastreo*).</span><span class="sxs-lookup"><span data-stu-id="b7e32-119">The process of creating and maintaining a full-text index is called a *population* (also known as a *crawl*).</span></span> <span data-ttu-id="b7e32-120">Hay tres tipos de rellenado del índice de texto completo: completo, basado en el seguimiento de cambios y basado en una marca de tiempo incremental.</span><span class="sxs-lookup"><span data-stu-id="b7e32-120">There are three types of full-text index population: full population, change tracking-based population, and incremental timestamp-based population.</span></span> <span data-ttu-id="b7e32-121">Para obtener más información, vea [Rellenar índices de texto completo](populate-full-text-indexes.md).</span><span class="sxs-lookup"><span data-stu-id="b7e32-121">For more information, see [Populate Full-Text Indexes](populate-full-text-indexes.md).</span></span>  
  
##  <a name="common-tasks"></a><a name="tasks"></a><span data-ttu-id="b7e32-122">Tareas comunes</span><span class="sxs-lookup"><span data-stu-id="b7e32-122">Common Tasks</span></span>  
 <span data-ttu-id="b7e32-123">**Para crear un índice de texto completo**</span><span class="sxs-lookup"><span data-stu-id="b7e32-123">**To create a full-text index**</span></span>  
  
-   [<span data-ttu-id="b7e32-124">CREATE FULLTEXT INDEX &#40;Transact-SQL&#41;</span><span class="sxs-lookup"><span data-stu-id="b7e32-124">CREATE FULLTEXT INDEX &#40;Transact-SQL&#41;</span></span>](/sql/t-sql/statements/create-fulltext-index-transact-sql)  
  
 <span data-ttu-id="b7e32-125">**Para alterar un índice de texto completo**</span><span class="sxs-lookup"><span data-stu-id="b7e32-125">**To alter a full-text index**</span></span>  
  
-   [<span data-ttu-id="b7e32-126">ALTER FULLTEXT INDEX &#40;Transact-SQL&#41;</span><span class="sxs-lookup"><span data-stu-id="b7e32-126">ALTER FULLTEXT INDEX &#40;Transact-SQL&#41;</span></span>](/sql/t-sql/statements/alter-fulltext-index-transact-sql)  
  
 <span data-ttu-id="b7e32-127">**Para quitar un índice de texto completo**</span><span class="sxs-lookup"><span data-stu-id="b7e32-127">**To drop a full-text index**</span></span>  
  
-   [<span data-ttu-id="b7e32-128">DROP FULLTEXT INDEX &#40;Transact-SQL&#41;</span><span class="sxs-lookup"><span data-stu-id="b7e32-128">DROP FULLTEXT INDEX &#40;Transact-SQL&#41;</span></span>](/sql/t-sql/statements/drop-fulltext-index-transact-sql)  
  
 [<span data-ttu-id="b7e32-129">En este tema</span><span class="sxs-lookup"><span data-stu-id="b7e32-129">In This Topic</span></span>](#top)  
  
##  <a name="full-text-index-structure"></a><a name="structure"></a><span data-ttu-id="b7e32-130">Estructura del índice de texto completo</span><span class="sxs-lookup"><span data-stu-id="b7e32-130">Full-Text Index Structure</span></span>  
 <span data-ttu-id="b7e32-131">Para comprender el funcionamiento del motor de texto completo, es necesario entender la estructura de un índice de texto completo.</span><span class="sxs-lookup"><span data-stu-id="b7e32-131">A good understanding of the structure of a full-text index will help you understand how the Full-Text Engine works.</span></span> <span data-ttu-id="b7e32-132">En este tema se utiliza el extracto siguiente de la tabla **Document** de [!INCLUDE[ssSampleDBCoShort](../../includes/sssampledbcoshort-md.md)] como tabla de ejemplo.</span><span class="sxs-lookup"><span data-stu-id="b7e32-132">This topic uses the following excerpt of the **Document** table in [!INCLUDE[ssSampleDBCoShort](../../includes/sssampledbcoshort-md.md)] as an example table.</span></span> <span data-ttu-id="b7e32-133">Este extracto muestra solo dos columnas, **DocumentID** y **Title** , y tres filas de la tabla.</span><span class="sxs-lookup"><span data-stu-id="b7e32-133">This excerpt shows only two columns, the **DocumentID** column and the **Title** column, and three rows from the table.</span></span>  
  
 <span data-ttu-id="b7e32-134">En este ejemplo se presupone que se ha creado un índice de texto completo en la columna **Title** .</span><span class="sxs-lookup"><span data-stu-id="b7e32-134">For this example, we will assume that a full-text index has been created on the **Title** column.</span></span>  
  
|<span data-ttu-id="b7e32-135">DocumentID</span><span class="sxs-lookup"><span data-stu-id="b7e32-135">DocumentID</span></span>|<span data-ttu-id="b7e32-136">Título</span><span class="sxs-lookup"><span data-stu-id="b7e32-136">Title</span></span>|  
|----------------|-----------|  
|<span data-ttu-id="b7e32-137">1</span><span class="sxs-lookup"><span data-stu-id="b7e32-137">1</span></span>|<span data-ttu-id="b7e32-138">Crank Arm and Tire Maintenance</span><span class="sxs-lookup"><span data-stu-id="b7e32-138">Crank Arm and Tire Maintenance</span></span>|  
|<span data-ttu-id="b7e32-139">2</span><span class="sxs-lookup"><span data-stu-id="b7e32-139">2</span></span>|<span data-ttu-id="b7e32-140">Front Reflector Bracket and Reflector Assembly 3</span><span class="sxs-lookup"><span data-stu-id="b7e32-140">Front Reflector Bracket and Reflector Assembly 3</span></span>|  
|<span data-ttu-id="b7e32-141">3</span><span class="sxs-lookup"><span data-stu-id="b7e32-141">3</span></span>|<span data-ttu-id="b7e32-142">Front Reflector Bracket Installation</span><span class="sxs-lookup"><span data-stu-id="b7e32-142">Front Reflector Bracket Installation</span></span>|  
  
 <span data-ttu-id="b7e32-143">Por ejemplo, en la tabla siguiente, en la que se muestra el fragmento 1, aparece el contenido del índice de texto completo creado en la columna **Title** de la tabla **Document** .</span><span class="sxs-lookup"><span data-stu-id="b7e32-143">For example, the following table, which shows Fragment 1, depicts the contents of the full-text index created on the **Title** column of the **Document** table.</span></span> <span data-ttu-id="b7e32-144">Los índices de texto completo contienen más información que la que se presenta en esta tabla.</span><span class="sxs-lookup"><span data-stu-id="b7e32-144">Full-text indexes contain more information than is presented in this table.</span></span> <span data-ttu-id="b7e32-145">La tabla es una representación lógica de un índice de texto completo y se proporciona solo como demostración.</span><span class="sxs-lookup"><span data-stu-id="b7e32-145">The table is a logical representation of a full-text index and is provided for demonstration purposes only.</span></span> <span data-ttu-id="b7e32-146">Las filas están almacenadas en un formato comprimido para optimizar el uso del disco.</span><span class="sxs-lookup"><span data-stu-id="b7e32-146">The rows are stored in a compressed format to optimize disk usage.</span></span>  
  
 <span data-ttu-id="b7e32-147">Observe que los datos se han invertido en comparación con los documentos originales.</span><span class="sxs-lookup"><span data-stu-id="b7e32-147">Notice that the data has been inverted from the original documents.</span></span> <span data-ttu-id="b7e32-148">La inversión se produce porque las palabras clave se asignan a los identificadores del documento.</span><span class="sxs-lookup"><span data-stu-id="b7e32-148">Inversion occurs because the keywords are mapped to the document IDs.</span></span> <span data-ttu-id="b7e32-149">Por esta razón, se suele hacer referencia a un índice de texto completo como índice invertido.</span><span class="sxs-lookup"><span data-stu-id="b7e32-149">For this reason, a full-text index is often referred to as an inverted index.</span></span>  
  
 <span data-ttu-id="b7e32-150">Observe también que la palabra clave "y" se ha quitado del índice de texto completo.</span><span class="sxs-lookup"><span data-stu-id="b7e32-150">Also notice that the keyword "and" has been removed from the full-text index.</span></span> <span data-ttu-id="b7e32-151">Se hace esto porque "y" es una palabra irrelevante y quitar las palabras irrelevantes de un índice de texto completo puede conllevar un ahorro sustancial en el espacio en disco y mejorar por tanto el rendimiento de las consultas.</span><span class="sxs-lookup"><span data-stu-id="b7e32-151">This is done because "and" is a stopword, and removing stopwords from a full-text index can lead to substantial savings in disk space thereby improving query performance.</span></span> <span data-ttu-id="b7e32-152">Para obtener más información sobre las palabras irrelevantes, vea [Configurar y administrar palabras irrelevantes y listas de palabras irrelevantes para la búsqueda de texto completo](configure-and-manage-stopwords-and-stoplists-for-full-text-search.md).</span><span class="sxs-lookup"><span data-stu-id="b7e32-152">For more information about stopwords, see [Configure and Manage Stopwords and Stoplists for Full-Text Search](configure-and-manage-stopwords-and-stoplists-for-full-text-search.md).</span></span>  
  
 <span data-ttu-id="b7e32-153">**Fragmento 1**</span><span class="sxs-lookup"><span data-stu-id="b7e32-153">**Fragment 1**</span></span>  
  
|<span data-ttu-id="b7e32-154">Palabra clave</span><span class="sxs-lookup"><span data-stu-id="b7e32-154">Keyword</span></span>|<span data-ttu-id="b7e32-155">ColId</span><span class="sxs-lookup"><span data-stu-id="b7e32-155">ColId</span></span>|<span data-ttu-id="b7e32-156">DocId</span><span class="sxs-lookup"><span data-stu-id="b7e32-156">DocId</span></span>|<span data-ttu-id="b7e32-157">Repetición</span><span class="sxs-lookup"><span data-stu-id="b7e32-157">Occurrence</span></span>|  
|-------------|-----------|-----------|----------------|  
|<span data-ttu-id="b7e32-158">Crank</span><span class="sxs-lookup"><span data-stu-id="b7e32-158">Crank</span></span>|<span data-ttu-id="b7e32-159">1</span><span class="sxs-lookup"><span data-stu-id="b7e32-159">1</span></span>|<span data-ttu-id="b7e32-160">1</span><span class="sxs-lookup"><span data-stu-id="b7e32-160">1</span></span>|<span data-ttu-id="b7e32-161">1</span><span class="sxs-lookup"><span data-stu-id="b7e32-161">1</span></span>|  
|<span data-ttu-id="b7e32-162">Arm</span><span class="sxs-lookup"><span data-stu-id="b7e32-162">Arm</span></span>|<span data-ttu-id="b7e32-163">1</span><span class="sxs-lookup"><span data-stu-id="b7e32-163">1</span></span>|<span data-ttu-id="b7e32-164">1</span><span class="sxs-lookup"><span data-stu-id="b7e32-164">1</span></span>|<span data-ttu-id="b7e32-165">2</span><span class="sxs-lookup"><span data-stu-id="b7e32-165">2</span></span>|  
|<span data-ttu-id="b7e32-166">Tire</span><span class="sxs-lookup"><span data-stu-id="b7e32-166">Tire</span></span>|<span data-ttu-id="b7e32-167">1</span><span class="sxs-lookup"><span data-stu-id="b7e32-167">1</span></span>|<span data-ttu-id="b7e32-168">1</span><span class="sxs-lookup"><span data-stu-id="b7e32-168">1</span></span>|<span data-ttu-id="b7e32-169">4</span><span class="sxs-lookup"><span data-stu-id="b7e32-169">4</span></span>|  
|<span data-ttu-id="b7e32-170">Mantenimiento</span><span class="sxs-lookup"><span data-stu-id="b7e32-170">Maintenance</span></span>|<span data-ttu-id="b7e32-171">1</span><span class="sxs-lookup"><span data-stu-id="b7e32-171">1</span></span>|<span data-ttu-id="b7e32-172">1</span><span class="sxs-lookup"><span data-stu-id="b7e32-172">1</span></span>|<span data-ttu-id="b7e32-173">5</span><span class="sxs-lookup"><span data-stu-id="b7e32-173">5</span></span>|  
|<span data-ttu-id="b7e32-174">Front</span><span class="sxs-lookup"><span data-stu-id="b7e32-174">Front</span></span>|<span data-ttu-id="b7e32-175">1</span><span class="sxs-lookup"><span data-stu-id="b7e32-175">1</span></span>|<span data-ttu-id="b7e32-176">2</span><span class="sxs-lookup"><span data-stu-id="b7e32-176">2</span></span>|<span data-ttu-id="b7e32-177">1</span><span class="sxs-lookup"><span data-stu-id="b7e32-177">1</span></span>|  
|<span data-ttu-id="b7e32-178">Front</span><span class="sxs-lookup"><span data-stu-id="b7e32-178">Front</span></span>|<span data-ttu-id="b7e32-179">1</span><span class="sxs-lookup"><span data-stu-id="b7e32-179">1</span></span>|<span data-ttu-id="b7e32-180">3</span><span class="sxs-lookup"><span data-stu-id="b7e32-180">3</span></span>|<span data-ttu-id="b7e32-181">1</span><span class="sxs-lookup"><span data-stu-id="b7e32-181">1</span></span>|  
|<span data-ttu-id="b7e32-182">Reflector</span><span class="sxs-lookup"><span data-stu-id="b7e32-182">Reflector</span></span>|<span data-ttu-id="b7e32-183">1</span><span class="sxs-lookup"><span data-stu-id="b7e32-183">1</span></span>|<span data-ttu-id="b7e32-184">2</span><span class="sxs-lookup"><span data-stu-id="b7e32-184">2</span></span>|<span data-ttu-id="b7e32-185">2</span><span class="sxs-lookup"><span data-stu-id="b7e32-185">2</span></span>|  
|<span data-ttu-id="b7e32-186">Reflector</span><span class="sxs-lookup"><span data-stu-id="b7e32-186">Reflector</span></span>|<span data-ttu-id="b7e32-187">1</span><span class="sxs-lookup"><span data-stu-id="b7e32-187">1</span></span>|<span data-ttu-id="b7e32-188">2</span><span class="sxs-lookup"><span data-stu-id="b7e32-188">2</span></span>|<span data-ttu-id="b7e32-189">5</span><span class="sxs-lookup"><span data-stu-id="b7e32-189">5</span></span>|  
|<span data-ttu-id="b7e32-190">Reflector</span><span class="sxs-lookup"><span data-stu-id="b7e32-190">Reflector</span></span>|<span data-ttu-id="b7e32-191">1</span><span class="sxs-lookup"><span data-stu-id="b7e32-191">1</span></span>|<span data-ttu-id="b7e32-192">3</span><span class="sxs-lookup"><span data-stu-id="b7e32-192">3</span></span>|<span data-ttu-id="b7e32-193">2</span><span class="sxs-lookup"><span data-stu-id="b7e32-193">2</span></span>|  
|<span data-ttu-id="b7e32-194">Bracket</span><span class="sxs-lookup"><span data-stu-id="b7e32-194">Bracket</span></span>|<span data-ttu-id="b7e32-195">1</span><span class="sxs-lookup"><span data-stu-id="b7e32-195">1</span></span>|<span data-ttu-id="b7e32-196">2</span><span class="sxs-lookup"><span data-stu-id="b7e32-196">2</span></span>|<span data-ttu-id="b7e32-197">3</span><span class="sxs-lookup"><span data-stu-id="b7e32-197">3</span></span>|  
|<span data-ttu-id="b7e32-198">Bracket</span><span class="sxs-lookup"><span data-stu-id="b7e32-198">Bracket</span></span>|<span data-ttu-id="b7e32-199">1</span><span class="sxs-lookup"><span data-stu-id="b7e32-199">1</span></span>|<span data-ttu-id="b7e32-200">3</span><span class="sxs-lookup"><span data-stu-id="b7e32-200">3</span></span>|<span data-ttu-id="b7e32-201">3</span><span class="sxs-lookup"><span data-stu-id="b7e32-201">3</span></span>|  
|<span data-ttu-id="b7e32-202">Assembly</span><span class="sxs-lookup"><span data-stu-id="b7e32-202">Assembly</span></span>|<span data-ttu-id="b7e32-203">1</span><span class="sxs-lookup"><span data-stu-id="b7e32-203">1</span></span>|<span data-ttu-id="b7e32-204">2</span><span class="sxs-lookup"><span data-stu-id="b7e32-204">2</span></span>|<span data-ttu-id="b7e32-205">6</span><span class="sxs-lookup"><span data-stu-id="b7e32-205">6</span></span>|  
|<span data-ttu-id="b7e32-206">3</span><span class="sxs-lookup"><span data-stu-id="b7e32-206">3</span></span>|<span data-ttu-id="b7e32-207">1</span><span class="sxs-lookup"><span data-stu-id="b7e32-207">1</span></span>|<span data-ttu-id="b7e32-208">2</span><span class="sxs-lookup"><span data-stu-id="b7e32-208">2</span></span>|<span data-ttu-id="b7e32-209">7</span><span class="sxs-lookup"><span data-stu-id="b7e32-209">7</span></span>|  
|<span data-ttu-id="b7e32-210">Instalación</span><span class="sxs-lookup"><span data-stu-id="b7e32-210">Installation</span></span>|<span data-ttu-id="b7e32-211">1</span><span class="sxs-lookup"><span data-stu-id="b7e32-211">1</span></span>|<span data-ttu-id="b7e32-212">3</span><span class="sxs-lookup"><span data-stu-id="b7e32-212">3</span></span>|<span data-ttu-id="b7e32-213">4</span><span class="sxs-lookup"><span data-stu-id="b7e32-213">4</span></span>|  
  
 <span data-ttu-id="b7e32-214">La columna **Keyword** contiene una representación de un solo token extraído durante la indización.</span><span class="sxs-lookup"><span data-stu-id="b7e32-214">The **Keyword** column contains a representation of a single token extracted at indexing time.</span></span> <span data-ttu-id="b7e32-215">Los separadores de palabras determinan en qué consiste un token.</span><span class="sxs-lookup"><span data-stu-id="b7e32-215">Word breakers determine what makes up a token.</span></span>  
  
 <span data-ttu-id="b7e32-216">La columna **ColId** contiene un valor correspondiente a una determinada tabla y columna indexada de texto completo.</span><span class="sxs-lookup"><span data-stu-id="b7e32-216">The **ColId** column contains a value that corresponds to a particular column that is full-text indexed.</span></span>  
  
 <span data-ttu-id="b7e32-217">La `DocId` columna contiene valores para un entero de ocho bytes que se asigna a un determinado valor de clave de texto completo en una tabla indizada de texto completo.</span><span class="sxs-lookup"><span data-stu-id="b7e32-217">The `DocId` column contains values for an eight-byte integer that maps to a particular full-text key value in a full-text indexed table.</span></span> <span data-ttu-id="b7e32-218">Esta asignación es necesaria cuando la clave de texto completo no es de un tipo de datos enteros.</span><span class="sxs-lookup"><span data-stu-id="b7e32-218">This mapping is necessary when the full-text key is not an integer data type.</span></span> <span data-ttu-id="b7e32-219">En tales casos, las asignaciones entre valores y valores de clave de texto completo `DocId` se mantienen en una tabla independiente denominada tabla de asignación de DocId.</span><span class="sxs-lookup"><span data-stu-id="b7e32-219">In such cases, mappings between full-text key values and `DocId` values are maintained in a separate table called the DocId Mapping table.</span></span> <span data-ttu-id="b7e32-220">Para consultar estas asignaciones, use el procedimiento almacenado del sistema [sp_fulltext_keymappings](/sql/relational-databases/system-stored-procedures/sp-fulltext-keymappings-transact-sql) .</span><span class="sxs-lookup"><span data-stu-id="b7e32-220">To query for these mappings use the [sp_fulltext_keymappings](/sql/relational-databases/system-stored-procedures/sp-fulltext-keymappings-transact-sql) system stored procedure.</span></span> <span data-ttu-id="b7e32-221">Para satisfacer una condición de búsqueda, los valores de DocId de la tabla anterior tienen que combinarse con la tabla de asignaciones de DocId para recuperar las filas de la tabla base que se consulta.</span><span class="sxs-lookup"><span data-stu-id="b7e32-221">To satisfy a search condition, DocId values from the above table need to be joined with the DocId Mapping table to retrieve rows from the base table being queried.</span></span> <span data-ttu-id="b7e32-222">Si el valor de la clave de texto completo de la tabla base es de un tipo entero, el valor actúa directamente como DocId y no se necesita ninguna asignación.</span><span class="sxs-lookup"><span data-stu-id="b7e32-222">If the full-text key value of the base table is an integer type, the value directly serves as the DocId and no mapping is necessary.</span></span> <span data-ttu-id="b7e32-223">Por consiguiente, utilizar valores de clave de texto completo enteros puede ayudar a optimizar las consultas de texto completo.</span><span class="sxs-lookup"><span data-stu-id="b7e32-223">Therefore, using integer full-text key values can help optimize full-text queries.</span></span>  
  
 <span data-ttu-id="b7e32-224">La columna **Occurrence** contiene un valor entero.</span><span class="sxs-lookup"><span data-stu-id="b7e32-224">The **Occurrence** column contains an integer value.</span></span> <span data-ttu-id="b7e32-225">Para cada valor de DocId hay una lista de valores de repetición correspondientes a las posiciones relativas de una palabra clave determinada en DocId.</span><span class="sxs-lookup"><span data-stu-id="b7e32-225">For each DocId value, there is a list of occurrence values that correspond to the relative word offsets of the particular keyword within that DocId.</span></span> <span data-ttu-id="b7e32-226">Los valores de repetición son útiles para determinar las coincidencias de frases o de proximidad, por ejemplo, frases que tienen valores de repetición adyacentes.</span><span class="sxs-lookup"><span data-stu-id="b7e32-226">Occurrence values are useful in determining phrase or proximity matches, for example, phrases have numerically adjacent occurrence values.</span></span> <span data-ttu-id="b7e32-227">También son útiles para calcular las puntuaciones de importancia; por ejemplo, el número de repeticiones de una palabra clave en una columna DocId se puede utilizar para determinar la puntuación.</span><span class="sxs-lookup"><span data-stu-id="b7e32-227">They are also useful in computing relevance scores; for example, the number of occurrences of a keyword in a DocId may be used in scoring.</span></span>  
  
 [<span data-ttu-id="b7e32-228">En este tema</span><span class="sxs-lookup"><span data-stu-id="b7e32-228">In This Topic</span></span>](#top)  
  
##  <a name="full-text-index-fragments"></a><a name="fragments"></a><span data-ttu-id="b7e32-229">Fragmentos de índice de texto completo</span><span class="sxs-lookup"><span data-stu-id="b7e32-229">Full-Text Index Fragments</span></span>  
 <span data-ttu-id="b7e32-230">El índice de texto completo lógico normalmente se divide entre varias tablas internas.</span><span class="sxs-lookup"><span data-stu-id="b7e32-230">The logical full-text index is usually split across multiple internal tables.</span></span> <span data-ttu-id="b7e32-231">Cada tabla interna se conoce como un fragmento del índice de texto completo.</span><span class="sxs-lookup"><span data-stu-id="b7e32-231">Each internal table is called a full-text index fragment.</span></span> <span data-ttu-id="b7e32-232">Algunos de estos fragmentos podrían contener datos más recientes que otros.</span><span class="sxs-lookup"><span data-stu-id="b7e32-232">Some of these fragments might contain newer data than others.</span></span> <span data-ttu-id="b7e32-233">Por ejemplo, si un usuario actualiza la fila siguiente cuyo DocId es 3 y la tabla se somete automáticamente a seguimiento de los cambios, se crea un fragmento nuevo.</span><span class="sxs-lookup"><span data-stu-id="b7e32-233">For example, if a user updates the following row whose DocId is 3 and the table is auto change-tracked, a new fragment is created.</span></span>  
  
|<span data-ttu-id="b7e32-234">DocumentID</span><span class="sxs-lookup"><span data-stu-id="b7e32-234">DocumentID</span></span>|<span data-ttu-id="b7e32-235">Título</span><span class="sxs-lookup"><span data-stu-id="b7e32-235">Title</span></span>|  
|----------------|-----------|  
|<span data-ttu-id="b7e32-236">3</span><span class="sxs-lookup"><span data-stu-id="b7e32-236">3</span></span>|<span data-ttu-id="b7e32-237">Rear Reflector</span><span class="sxs-lookup"><span data-stu-id="b7e32-237">Rear Reflector</span></span>|  
  
 <span data-ttu-id="b7e32-238">En el ejemplo siguiente, que muestra el fragmento 2, el fragmento contiene los datos más recientes sobre el DocId 3 comparados con el fragmento 1.</span><span class="sxs-lookup"><span data-stu-id="b7e32-238">In the following example, which shows Fragment 2, the fragment contains newer data about DocId 3 compared to Fragment 1.</span></span> <span data-ttu-id="b7e32-239">Por consiguiente, cuando el usuario consulta "Rear Reflector", se usan los datos del fragmento 2 correspondientes a DocId 3.</span><span class="sxs-lookup"><span data-stu-id="b7e32-239">Therefore, when the user queries for "Rear Reflector" the data from Fragment 2 is used for DocId 3.</span></span> <span data-ttu-id="b7e32-240">Cada fragmento se marca con una marca de tiempo de creación que se puede consultar usando la vista de catálogo [sys.fulltext_index_fragments](/sql/relational-databases/system-catalog-views/sys-fulltext-index-fragments-transact-sql) .</span><span class="sxs-lookup"><span data-stu-id="b7e32-240">Each fragment is marked with a creation timestamp that can be queried by using the [sys.fulltext_index_fragments](/sql/relational-databases/system-catalog-views/sys-fulltext-index-fragments-transact-sql) catalog view.</span></span>  
  
 <span data-ttu-id="b7e32-241">**Fragmento 2**</span><span class="sxs-lookup"><span data-stu-id="b7e32-241">**Fragment 2**</span></span>  
  
|<span data-ttu-id="b7e32-242">Palabra clave</span><span class="sxs-lookup"><span data-stu-id="b7e32-242">Keyword</span></span>|<span data-ttu-id="b7e32-243">ColId</span><span class="sxs-lookup"><span data-stu-id="b7e32-243">ColId</span></span>|<span data-ttu-id="b7e32-244">DocId</span><span class="sxs-lookup"><span data-stu-id="b7e32-244">DocId</span></span>|<span data-ttu-id="b7e32-245">Occ</span><span class="sxs-lookup"><span data-stu-id="b7e32-245">Occ</span></span>|  
|-------------|-----------|-----------|---------|  
|<span data-ttu-id="b7e32-246">Rear</span><span class="sxs-lookup"><span data-stu-id="b7e32-246">Rear</span></span>|<span data-ttu-id="b7e32-247">1</span><span class="sxs-lookup"><span data-stu-id="b7e32-247">1</span></span>|<span data-ttu-id="b7e32-248">3</span><span class="sxs-lookup"><span data-stu-id="b7e32-248">3</span></span>|<span data-ttu-id="b7e32-249">1</span><span class="sxs-lookup"><span data-stu-id="b7e32-249">1</span></span>|  
|<span data-ttu-id="b7e32-250">Reflector</span><span class="sxs-lookup"><span data-stu-id="b7e32-250">Reflector</span></span>|<span data-ttu-id="b7e32-251">1</span><span class="sxs-lookup"><span data-stu-id="b7e32-251">1</span></span>|<span data-ttu-id="b7e32-252">3</span><span class="sxs-lookup"><span data-stu-id="b7e32-252">3</span></span>|<span data-ttu-id="b7e32-253">2</span><span class="sxs-lookup"><span data-stu-id="b7e32-253">2</span></span>|  
  
 <span data-ttu-id="b7e32-254">Como se puede ver en el fragmento 2, las consultas de texto completo tienen que consultar cada fragmento internamente y descartar las entradas más antiguas.</span><span class="sxs-lookup"><span data-stu-id="b7e32-254">As can be seen from Fragment 2, full-text queries need to query each fragment internally and discard older entries.</span></span> <span data-ttu-id="b7e32-255">Por consiguiente, demasiados fragmentos del índice de texto completo pueden conducir a una degradación sustancial del rendimiento de las consultas.</span><span class="sxs-lookup"><span data-stu-id="b7e32-255">Therefore, too many full-text index fragments in the full-text index can lead to substantial degradation in query performance.</span></span> <span data-ttu-id="b7e32-256">Para reducir el número de fragmentos, reorganice el catálogo de texto completo mediante la opción REORGANIZE de la instrucción [ALTER FULLTEXT CATALOG](/sql/t-sql/statements/alter-fulltext-catalog-transact-sql)[!INCLUDE[tsql](../../includes/tsql-md.md)] .</span><span class="sxs-lookup"><span data-stu-id="b7e32-256">To reduce the number of fragments, reorganize the fulltext catalog by using the REORGANIZE option of the [ALTER FULLTEXT CATALOG](/sql/t-sql/statements/alter-fulltext-catalog-transact-sql)[!INCLUDE[tsql](../../includes/tsql-md.md)] statement.</span></span> <span data-ttu-id="b7e32-257">Esta instrucción lleva a cabo una *combinación maestra*, que combina todos los fragmentos en un único fragmento mayor y quita todas las entradas obsoletas del índice de texto completo.</span><span class="sxs-lookup"><span data-stu-id="b7e32-257">This statement performs a *master merge*, which merges the fragments into a single larger fragment and removes all obsolete entries from the full-text index.</span></span>  
  
 <span data-ttu-id="b7e32-258">Después de la reorganización, el índice del ejemplo contendría las filas siguientes:</span><span class="sxs-lookup"><span data-stu-id="b7e32-258">After being reorganized, the example index would contain the following rows:</span></span>  
  
|<span data-ttu-id="b7e32-259">Palabra clave</span><span class="sxs-lookup"><span data-stu-id="b7e32-259">Keyword</span></span>|<span data-ttu-id="b7e32-260">ColId</span><span class="sxs-lookup"><span data-stu-id="b7e32-260">ColId</span></span>|<span data-ttu-id="b7e32-261">DocId</span><span class="sxs-lookup"><span data-stu-id="b7e32-261">DocId</span></span>|<span data-ttu-id="b7e32-262">Occ</span><span class="sxs-lookup"><span data-stu-id="b7e32-262">Occ</span></span>|  
|-------------|-----------|-----------|---------|  
|<span data-ttu-id="b7e32-263">Crank</span><span class="sxs-lookup"><span data-stu-id="b7e32-263">Crank</span></span>|<span data-ttu-id="b7e32-264">1</span><span class="sxs-lookup"><span data-stu-id="b7e32-264">1</span></span>|<span data-ttu-id="b7e32-265">1</span><span class="sxs-lookup"><span data-stu-id="b7e32-265">1</span></span>|<span data-ttu-id="b7e32-266">1</span><span class="sxs-lookup"><span data-stu-id="b7e32-266">1</span></span>|  
|<span data-ttu-id="b7e32-267">Arm</span><span class="sxs-lookup"><span data-stu-id="b7e32-267">Arm</span></span>|<span data-ttu-id="b7e32-268">1</span><span class="sxs-lookup"><span data-stu-id="b7e32-268">1</span></span>|<span data-ttu-id="b7e32-269">1</span><span class="sxs-lookup"><span data-stu-id="b7e32-269">1</span></span>|<span data-ttu-id="b7e32-270">2</span><span class="sxs-lookup"><span data-stu-id="b7e32-270">2</span></span>|  
|<span data-ttu-id="b7e32-271">Tire</span><span class="sxs-lookup"><span data-stu-id="b7e32-271">Tire</span></span>|<span data-ttu-id="b7e32-272">1</span><span class="sxs-lookup"><span data-stu-id="b7e32-272">1</span></span>|<span data-ttu-id="b7e32-273">1</span><span class="sxs-lookup"><span data-stu-id="b7e32-273">1</span></span>|<span data-ttu-id="b7e32-274">4</span><span class="sxs-lookup"><span data-stu-id="b7e32-274">4</span></span>|  
|<span data-ttu-id="b7e32-275">Mantenimiento</span><span class="sxs-lookup"><span data-stu-id="b7e32-275">Maintenance</span></span>|<span data-ttu-id="b7e32-276">1</span><span class="sxs-lookup"><span data-stu-id="b7e32-276">1</span></span>|<span data-ttu-id="b7e32-277">1</span><span class="sxs-lookup"><span data-stu-id="b7e32-277">1</span></span>|<span data-ttu-id="b7e32-278">5</span><span class="sxs-lookup"><span data-stu-id="b7e32-278">5</span></span>|  
|<span data-ttu-id="b7e32-279">Front</span><span class="sxs-lookup"><span data-stu-id="b7e32-279">Front</span></span>|<span data-ttu-id="b7e32-280">1</span><span class="sxs-lookup"><span data-stu-id="b7e32-280">1</span></span>|<span data-ttu-id="b7e32-281">2</span><span class="sxs-lookup"><span data-stu-id="b7e32-281">2</span></span>|<span data-ttu-id="b7e32-282">1</span><span class="sxs-lookup"><span data-stu-id="b7e32-282">1</span></span>|  
|<span data-ttu-id="b7e32-283">Rear</span><span class="sxs-lookup"><span data-stu-id="b7e32-283">Rear</span></span>|<span data-ttu-id="b7e32-284">1</span><span class="sxs-lookup"><span data-stu-id="b7e32-284">1</span></span>|<span data-ttu-id="b7e32-285">3</span><span class="sxs-lookup"><span data-stu-id="b7e32-285">3</span></span>|<span data-ttu-id="b7e32-286">1</span><span class="sxs-lookup"><span data-stu-id="b7e32-286">1</span></span>|  
|<span data-ttu-id="b7e32-287">Reflector</span><span class="sxs-lookup"><span data-stu-id="b7e32-287">Reflector</span></span>|<span data-ttu-id="b7e32-288">1</span><span class="sxs-lookup"><span data-stu-id="b7e32-288">1</span></span>|<span data-ttu-id="b7e32-289">2</span><span class="sxs-lookup"><span data-stu-id="b7e32-289">2</span></span>|<span data-ttu-id="b7e32-290">2</span><span class="sxs-lookup"><span data-stu-id="b7e32-290">2</span></span>|  
|<span data-ttu-id="b7e32-291">Reflector</span><span class="sxs-lookup"><span data-stu-id="b7e32-291">Reflector</span></span>|<span data-ttu-id="b7e32-292">1</span><span class="sxs-lookup"><span data-stu-id="b7e32-292">1</span></span>|<span data-ttu-id="b7e32-293">2</span><span class="sxs-lookup"><span data-stu-id="b7e32-293">2</span></span>|<span data-ttu-id="b7e32-294">5</span><span class="sxs-lookup"><span data-stu-id="b7e32-294">5</span></span>|  
|<span data-ttu-id="b7e32-295">Reflector</span><span class="sxs-lookup"><span data-stu-id="b7e32-295">Reflector</span></span>|<span data-ttu-id="b7e32-296">1</span><span class="sxs-lookup"><span data-stu-id="b7e32-296">1</span></span>|<span data-ttu-id="b7e32-297">3</span><span class="sxs-lookup"><span data-stu-id="b7e32-297">3</span></span>|<span data-ttu-id="b7e32-298">2</span><span class="sxs-lookup"><span data-stu-id="b7e32-298">2</span></span>|  
|<span data-ttu-id="b7e32-299">Bracket</span><span class="sxs-lookup"><span data-stu-id="b7e32-299">Bracket</span></span>|<span data-ttu-id="b7e32-300">1</span><span class="sxs-lookup"><span data-stu-id="b7e32-300">1</span></span>|<span data-ttu-id="b7e32-301">2</span><span class="sxs-lookup"><span data-stu-id="b7e32-301">2</span></span>|<span data-ttu-id="b7e32-302">3</span><span class="sxs-lookup"><span data-stu-id="b7e32-302">3</span></span>|  
|<span data-ttu-id="b7e32-303">Assembly</span><span class="sxs-lookup"><span data-stu-id="b7e32-303">Assembly</span></span>|<span data-ttu-id="b7e32-304">1</span><span class="sxs-lookup"><span data-stu-id="b7e32-304">1</span></span>|<span data-ttu-id="b7e32-305">2</span><span class="sxs-lookup"><span data-stu-id="b7e32-305">2</span></span>|<span data-ttu-id="b7e32-306">6</span><span class="sxs-lookup"><span data-stu-id="b7e32-306">6</span></span>|  
|<span data-ttu-id="b7e32-307">3</span><span class="sxs-lookup"><span data-stu-id="b7e32-307">3</span></span>|<span data-ttu-id="b7e32-308">1</span><span class="sxs-lookup"><span data-stu-id="b7e32-308">1</span></span>|<span data-ttu-id="b7e32-309">2</span><span class="sxs-lookup"><span data-stu-id="b7e32-309">2</span></span>|<span data-ttu-id="b7e32-310">7</span><span class="sxs-lookup"><span data-stu-id="b7e32-310">7</span></span>|  
  
 [<span data-ttu-id="b7e32-311">En este tema</span><span class="sxs-lookup"><span data-stu-id="b7e32-311">In This Topic</span></span>](#top)  
  
  
