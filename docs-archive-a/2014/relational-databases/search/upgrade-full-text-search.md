---
title: Actualizar la búsqueda de texto completo | Microsoft Docs
ms.custom: ''
ms.date: 03/08/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: search
ms.topic: conceptual
helpviewer_keywords:
- full-text search [SQL Server], installing
- migrating full-text indexes [SQL Server]
- upgrading Full-Text Search
- installing Full-Text Search
- full-text search [SQL Server], upgrading
ms.assetid: 2fee4691-f2b5-472f-8ccc-fa625b654520
author: MikeRayMSFT
ms.author: mikeray
ms.openlocfilehash: d2bdf0bdee452101bbafb8108426faf6604e7626
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 08/04/2020
ms.locfileid: "87675253"
---
# <a name="upgrade-full-text-search"></a><span data-ttu-id="82ef8-102">Actualizar la búsqueda de texto completo</span><span class="sxs-lookup"><span data-stu-id="82ef8-102">Upgrade Full-Text Search</span></span>
  <span data-ttu-id="82ef8-103">La actualización de la búsqueda de texto completo a [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)] se realiza durante la instalación y al adjuntar, restaurar o copiar archivos de base de datos y catálogos de texto completo de la versión anterior de [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] mediante el Asistente para copiar bases de datos.</span><span class="sxs-lookup"><span data-stu-id="82ef8-103">Upgrading full-text search to [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)] is done during setup and when database files and full-text catalogs from the earlier version of [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] are attached, restored, or copied using the Copy Database Wizard.</span></span>  
  
 <span data-ttu-id="82ef8-104">En este tema, se describen los siguientes aspectos de la actualización de la búsqueda de texto completo:</span><span class="sxs-lookup"><span data-stu-id="82ef8-104">This topic discusses the following aspects of upgrading full-text search:</span></span>  
  
-   [<span data-ttu-id="82ef8-105">Actualizar una instancia del servidor</span><span class="sxs-lookup"><span data-stu-id="82ef8-105">Upgrading a Server Instance</span></span>](#Upgrade_Server)  
  
-   [<span data-ttu-id="82ef8-106">Opciones de actualización de texto completo</span><span class="sxs-lookup"><span data-stu-id="82ef8-106">Full-Text Upgrade Options</span></span>](#FT_Upgrade_Options)  
  
-   [<span data-ttu-id="82ef8-107">Consideraciones para elegir una opción de actualización de texto completo</span><span class="sxs-lookup"><span data-stu-id="82ef8-107">Considerations for Choosing a Full-Text Upgrade Option</span></span>](#Choosing_Upgade_Option)  
  
-   [<span data-ttu-id="82ef8-108">Migrar índices de texto completo al actualizar una base de datos a SQL Server 2014</span><span class="sxs-lookup"><span data-stu-id="82ef8-108">Migrating Full-Text Indexes When Upgrading a Database to SQL Server 2014</span></span>](#Upgrade_Db)  
  
-   [<span data-ttu-id="82ef8-109">Consideraciones sobre la restauración de un catálogo de texto completo de SQL Server 2005 en SQL Server 2014</span><span class="sxs-lookup"><span data-stu-id="82ef8-109">Considerations for Restoring a SQL Server 2005 Full-Text Catalog to SQL Server 2014</span></span>](#Considerations_for_Restore)  
  
-   [<span data-ttu-id="82ef8-110">Adjuntar una base de datos de SQL Server 2005 a SQL Server 2014</span><span class="sxs-lookup"><span data-stu-id="82ef8-110">Attaching a SQL Server 2005 database to SQL Server 2014</span></span>](#Attaching_2005_ft_catalogs)  
  
##  <a name="upgrading-a-server-instance"></a><a name="Upgrade_Server"></a><span data-ttu-id="82ef8-111">Actualizar una instancia de servidor</span><span class="sxs-lookup"><span data-stu-id="82ef8-111">Upgrading a Server Instance</span></span>  
 <span data-ttu-id="82ef8-112">Si se trata de una actualización en contexto, se instalan en paralelo una instancia de [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)] y la versión anterior de [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)], y se migran los datos.</span><span class="sxs-lookup"><span data-stu-id="82ef8-112">For an in-place upgrade, an instance of [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)] is set up side-by-side with the old version of [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)], and data is migrated.</span></span> <span data-ttu-id="82ef8-113">Si la versión anterior de [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] tenía instalada la función de búsqueda de texto completo, automáticamente se instala una nueva versión de dicha función.</span><span class="sxs-lookup"><span data-stu-id="82ef8-113">If the old version of [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] had full-text search installed, a new version of full-text search is automatically installed.</span></span> <span data-ttu-id="82ef8-114">Para poder realizar la instalación en paralelo, es necesaria la presencia de los componentes siguientes en cada instancia de [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)].</span><span class="sxs-lookup"><span data-stu-id="82ef8-114">Side-by-side install means that each of the following components exists at the instance-level of [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)].</span></span>  
  
 <span data-ttu-id="82ef8-115">Separadores de palabras, lematizadores y filtros</span><span class="sxs-lookup"><span data-stu-id="82ef8-115">Word breakers, stemmers, and filters</span></span>  
 <span data-ttu-id="82ef8-116">Ahora, cada instancia usa su propio conjunto de separadores de palabras, lematizadores y filtros en lugar de depender de la versión de estos componentes existente en el sistema operativo.</span><span class="sxs-lookup"><span data-stu-id="82ef8-116">Each instance now uses its own set of word breakers, stemmers, and filters, rather than relying on the operating system version of these components.</span></span> <span data-ttu-id="82ef8-117">También es más fácil registrar y configurar estos componentes en cada una de las instancias.</span><span class="sxs-lookup"><span data-stu-id="82ef8-117">These components are also easier to register and configure at a per-instance level.</span></span> <span data-ttu-id="82ef8-118">Para obtener más información, vea [Configurar y administrar separadores de palabras y lematizadores para la búsqueda](configure-and-manage-word-breakers-and-stemmers-for-search.md) y [Configurar y administrar filtros para búsquedas](configure-and-manage-filters-for-search.md).</span><span class="sxs-lookup"><span data-stu-id="82ef8-118">For more information, see [Configure and Manage Word Breakers and Stemmers for Search](configure-and-manage-word-breakers-and-stemmers-for-search.md) and [Configure and Manage Filters for Search](configure-and-manage-filters-for-search.md).</span></span>  
  
 <span data-ttu-id="82ef8-119">Host de demonio de filtro</span><span class="sxs-lookup"><span data-stu-id="82ef8-119">Filter daemon host</span></span>  
 <span data-ttu-id="82ef8-120">Los hosts de demonio de filtro de texto completo son procesos que cargan y controlan de forma segura los componentes extensibles externos que se usan en los índices y en las consultas, como por ejemplo, los separadores de palabras, los lematizadores y los filtros, sin poner en peligro la integridad del motor de búsqueda de texto completo.</span><span class="sxs-lookup"><span data-stu-id="82ef8-120">The full-text filter daemon hosts are processes that safely load and drive extensible external components used for index and query, such as word breakers, stemmers, and filters, without compromising the integrity of the Full-Text Engine.</span></span> <span data-ttu-id="82ef8-121">Una instancia del servidor utiliza un proceso multiproceso para todos los filtros multiproceso y un proceso de un solo subproceso para todos los filtros de un solo subproceso.</span><span class="sxs-lookup"><span data-stu-id="82ef8-121">A server instance uses a multithreaded process for all multithreaded filters and a single-threaded process for all single-threaded filters.</span></span>  
  
> [!NOTE]  
>  [!INCLUDE[ssKatmai](../../includes/sskatmai-md.md)] <span data-ttu-id="82ef8-122">introdujo una cuenta de servicio para el servicio del iniciador del FDHOST (MSSQLFDLauncher).</span><span class="sxs-lookup"><span data-stu-id="82ef8-122">introduced a service account for the FDHOST Launcher service (MSSQLFDLauncher).</span></span> <span data-ttu-id="82ef8-123">Este servicio propaga la información de la cuenta de servicio a los procesos del host de demonio de filtro de una instancia concreta de [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)].</span><span class="sxs-lookup"><span data-stu-id="82ef8-123">This service propagates the service account information to the filter daemon host processes of a specific instance of [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)].</span></span> <span data-ttu-id="82ef8-124">Para obtener más información sobre cómo configurar la cuenta de servicio, vea [Establecer la cuenta del servicio para el selector del demonio de filtro completo](set-the-service-account-for-the-full-text-filter-daemon-launcher.md).</span><span class="sxs-lookup"><span data-stu-id="82ef8-124">For information about setting the service account, see [Set the Service Account for the Full-text Filter Daemon Launcher](set-the-service-account-for-the-full-text-filter-daemon-launcher.md).</span></span>  
  
 <span data-ttu-id="82ef8-125">En [!INCLUDE[ssVersion2005](../../includes/ssversion2005-md.md)], cada índice de texto completo reside en un catálogo de texto completo que pertenece a un grupo de archivos, tiene una ruta de acceso física y es tratado como un archivo de base de datos.</span><span class="sxs-lookup"><span data-stu-id="82ef8-125">In [!INCLUDE[ssVersion2005](../../includes/ssversion2005-md.md)], each full-text index resides in a full-text catalog that belongs to a filegroup, has a physical path, and is treated as a database file.</span></span> <span data-ttu-id="82ef8-126">En [!INCLUDE[ssKatmai](../../includes/sskatmai-md.md)] y versiones posteriores, un catálogo de texto completo es un concepto lógico o virtual que contiene un grupo de índices de texto completo.</span><span class="sxs-lookup"><span data-stu-id="82ef8-126">In [!INCLUDE[ssKatmai](../../includes/sskatmai-md.md)] and later versions, a full-text catalog is a logical or virtual object that contains a group of full-text indexes.</span></span> <span data-ttu-id="82ef8-127">Por consiguiente, no se trata a cada nuevo catálogo de texto completo como un archivo de base de datos con una ruta de acceso física.</span><span class="sxs-lookup"><span data-stu-id="82ef8-127">Therefore, a new full-text catalog is not treated as a database file with a physical path.</span></span> <span data-ttu-id="82ef8-128">Sin embargo, durante la actualización de cualquier catálogo de texto completo que contiene archivos de datos, se crea un nuevo grupo de archivos en el mismo disco.</span><span class="sxs-lookup"><span data-stu-id="82ef8-128">However, during upgrade of any full-text catalog that contains data files, a new filegroup is created on same disk.</span></span> <span data-ttu-id="82ef8-129">Esto conserva el comportamiento de E/S del disco antiguo después de la actualización.</span><span class="sxs-lookup"><span data-stu-id="82ef8-129">This maintains the old disk I/O behavior after upgrade.</span></span> <span data-ttu-id="82ef8-130">Si la ruta de acceso raíz existe, todos los índices de texto completo del catálogo se situarán en el nuevo grupo de archivos.</span><span class="sxs-lookup"><span data-stu-id="82ef8-130">Any full-text index from that catalog is placed in the new filegroup if the root path exists.</span></span> <span data-ttu-id="82ef8-131">Si la ruta de acceso al catálogo de texto completo anterior no es válida, la actualización mantiene el índice de texto completo en el mismo grupo de archivos que la tabla base o, si se trata de una tabla con particiones, en el grupo de archivos principal.</span><span class="sxs-lookup"><span data-stu-id="82ef8-131">If the old full-text catalog path is invalid, the upgrade keeps the full-text index in the same filegroup as the base table or, for a partitioned table, in the primary filegroup.</span></span>  
  
> [!NOTE]  
>  [!INCLUDE[ssVersion2005](../../includes/ssversion2005-md.md)]<span data-ttu-id="82ef8-132">Las [!INCLUDE[tsql](../../includes/tsql-md.md)] instrucciones DDL que especifican catálogos de texto completo continúan funcionando correctamente.</span><span class="sxs-lookup"><span data-stu-id="82ef8-132">[!INCLUDE[tsql](../../includes/tsql-md.md)] DDL statements that specify full-text catalogs continue to work correctly.</span></span>  
  
##  <a name="full-text-upgrade-options"></a><a name="FT_Upgrade_Options"></a><span data-ttu-id="82ef8-133">Opciones de actualización de texto completo</span><span class="sxs-lookup"><span data-stu-id="82ef8-133">Full-Text Upgrade Options</span></span>  
 <span data-ttu-id="82ef8-134">Durante la actualización de una instancia de servidor a [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)], la interfaz de usuario le permite elegir una de las opciones de actualización de texto completo siguientes.</span><span class="sxs-lookup"><span data-stu-id="82ef8-134">When upgrading a server instance to [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)], the user interface allows you to choose one of the following full-text upgrade options.</span></span>  
  
 <span data-ttu-id="82ef8-135">Importación</span><span class="sxs-lookup"><span data-stu-id="82ef8-135">Import</span></span>  
 <span data-ttu-id="82ef8-136">Se importan los catálogos de texto completo.</span><span class="sxs-lookup"><span data-stu-id="82ef8-136">Full-text catalogs are imported.</span></span> <span data-ttu-id="82ef8-137">Normalmente, el proceso de importación es significativamente más rápido que el de regeneración.</span><span class="sxs-lookup"><span data-stu-id="82ef8-137">Typically, import is significantly faster than rebuild.</span></span> <span data-ttu-id="82ef8-138">Por ejemplo, si se usa solo una CPU, importar es aproximadamente 10 veces más rápido que volver a generar.</span><span class="sxs-lookup"><span data-stu-id="82ef8-138">For example, when using only one CPU, import runs about 10 times faster than rebuild.</span></span> <span data-ttu-id="82ef8-139">Sin embargo, un catálogo de texto completo importado no usa los divisores de palabras nuevos instalados con la última versión de [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)].</span><span class="sxs-lookup"><span data-stu-id="82ef8-139">However, an imported full-text catalog does not use the new word breakers installed with the latest version of [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)].</span></span> <span data-ttu-id="82ef8-140">Para garantizar la coherencia de los resultados de consulta, los catálogos de texto completo se tienen que recompilar.</span><span class="sxs-lookup"><span data-stu-id="82ef8-140">To ensure consistency in query results, full-text catalogs have to be rebuilt.</span></span>  
  
> [!NOTE]  
>  <span data-ttu-id="82ef8-141">La recompilación se puede ejecutar en modo de varios subprocesos; además, si hay más de 10 CPU disponibles y permite que el proceso de recompilación las use todas, dicho proceso puede resultar más rápido que el de importación.</span><span class="sxs-lookup"><span data-stu-id="82ef8-141">Rebuild can run in multi-threaded mode, and if more than 10 CPUs are available, rebuild might run faster than import if you allow rebuild to use all of the CPUs.</span></span>  
  
 <span data-ttu-id="82ef8-142">Si un catálogo de texto completo no está disponible, se vuelven a generar los índices de texto completo asociados.</span><span class="sxs-lookup"><span data-stu-id="82ef8-142">If a full-text catalog is not available, the associated full-text indexes are rebuilt.</span></span> <span data-ttu-id="82ef8-143">Esta opción solo está disponible para bases de datos de [!INCLUDE[ssVersion2005](../../includes/ssversion2005-md.md)] .</span><span class="sxs-lookup"><span data-stu-id="82ef8-143">This option is available for only [!INCLUDE[ssVersion2005](../../includes/ssversion2005-md.md)] databases.</span></span>  
  
 <span data-ttu-id="82ef8-144">Para obtener información sobre el impacto de importar un índice de texto completo, vea "Consideraciones sobre la elección de una opción de actualización de texto completo" más adelante en este tema.</span><span class="sxs-lookup"><span data-stu-id="82ef8-144">For information about the impact of importing full-text index, see "Considerations for Choosing a Full-Text Upgrade Option," later in this topic.</span></span>  
  
 <span data-ttu-id="82ef8-145">Volver a generar</span><span class="sxs-lookup"><span data-stu-id="82ef8-145">Rebuild</span></span>  
 <span data-ttu-id="82ef8-146">Los catálogos de texto completo se vuelven a generar con los separadores de palabras nuevos y mejorados.</span><span class="sxs-lookup"><span data-stu-id="82ef8-146">Full-text catalogs are rebuilt using the new and enhanced word breakers.</span></span> <span data-ttu-id="82ef8-147">El proceso de recompilación de los índices puede llevar cierto tiempo y podría ser necesaria una cantidad significativa de CPU y de memoria después de la actualización.</span><span class="sxs-lookup"><span data-stu-id="82ef8-147">Rebuilding indexes can take a while, and a significant amount of CPU and memory might be required after the upgrade.</span></span>  
  
 <span data-ttu-id="82ef8-148">Reset</span><span class="sxs-lookup"><span data-stu-id="82ef8-148">Reset</span></span>  
 <span data-ttu-id="82ef8-149">Los catálogos de texto completo se restablecen.</span><span class="sxs-lookup"><span data-stu-id="82ef8-149">Full-text catalogs are reset.</span></span> <span data-ttu-id="82ef8-150">Cuando se actualizan desde [!INCLUDE[ssVersion2005](../../includes/ssversion2005-md.md)], los catálogos de texto completo se quitan, pero los metadatos de los catálogos de texto completo y los índices de texto completo se conservan.</span><span class="sxs-lookup"><span data-stu-id="82ef8-150">When upgrading from [!INCLUDE[ssVersion2005](../../includes/ssversion2005-md.md)], full-text catalog files are removed, but the metadata for full-text catalogs and full-text indexes is retained.</span></span> <span data-ttu-id="82ef8-151">Después de actualizarse, todos los índices de texto completo quedan deshabilitados para el seguimiento de cambios y los rastreos no se inician de forma automática.</span><span class="sxs-lookup"><span data-stu-id="82ef8-151">After being upgraded, all full-text indexes are disabled for change tracking and crawls are not started automatically.</span></span> <span data-ttu-id="82ef8-152">El catálogo permanecerá vacío hasta que se emita manualmente un rellenado completo después de que se complete la actualización.</span><span class="sxs-lookup"><span data-stu-id="82ef8-152">The catalog will remain empty until you manually issue a full population, after the upgrade completes.</span></span>  
  
##  <a name="considerations-for-choosing-a-full-text-upgrade-option"></a><a name="Choosing_Upgade_Option"></a><span data-ttu-id="82ef8-153">Consideraciones para elegir una opción de actualización de texto completo</span><span class="sxs-lookup"><span data-stu-id="82ef8-153">Considerations for Choosing a Full-Text Upgrade Option</span></span>  
 <span data-ttu-id="82ef8-154">Cuando elija la opción de actualización, tenga en cuenta lo siguiente:</span><span class="sxs-lookup"><span data-stu-id="82ef8-154">When choosing the upgrade option for your upgrade, consider the following:</span></span>  
  
-   <span data-ttu-id="82ef8-155">¿Necesita coherencia en los resultados de consulta?</span><span class="sxs-lookup"><span data-stu-id="82ef8-155">Do you require consistency in query results?</span></span>  
  
     [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)] <span data-ttu-id="82ef8-156">instala nuevos separadores de palabras para ser usados en la búsqueda de texto completo y la búsqueda semántica.</span><span class="sxs-lookup"><span data-stu-id="82ef8-156">installs new word breakers for use by Full-Text and Semantic Search.</span></span> <span data-ttu-id="82ef8-157">Los separadores de palabras se usan en el momento de la indización y en el momento de la consulta.</span><span class="sxs-lookup"><span data-stu-id="82ef8-157">The word breakers are used both at indexing time and at query time.</span></span> <span data-ttu-id="82ef8-158">Si no recompila los catálogos de texto completo, los resultados de la búsqueda pueden ser incoherentes.</span><span class="sxs-lookup"><span data-stu-id="82ef8-158">If you do not rebuild the full-text catalogs, your search results may be inconsistent.</span></span> <span data-ttu-id="82ef8-159">Si emite una consulta de texto completo que busca una frase que el separador de palabras de una versión anterior de [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] separó de forma diferente que el separador de palabras actual, es posible que no se recupere un documento o una fila que contengan la frase.</span><span class="sxs-lookup"><span data-stu-id="82ef8-159">If you issue a full-text query that looks for a phrase that is broken differently by the word breaker in a previous version of [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] and the current word breaker, a document or row containing the phrase might not be retrieved.</span></span> <span data-ttu-id="82ef8-160">Esto se debe a que las frases indizadas se separaron mediante una lógica diferente de la que está usando la consulta.</span><span class="sxs-lookup"><span data-stu-id="82ef8-160">This is because the indexed phrases were broken using different logic than the query is using.</span></span> <span data-ttu-id="82ef8-161">La solución es volver a rellenar (volver a generar) los catálogos de texto completo con los nuevos separadores de palabras de modo que los comportamientos en el momento de la indización y en el momento de la consulta sean idénticos.</span><span class="sxs-lookup"><span data-stu-id="82ef8-161">The solution is to repopulate (rebuild) the full-text catalogs with the new word breakers so that index time and query time behavior are identical.</span></span> <span data-ttu-id="82ef8-162">Puede elegir la opción Recompilar para realizar esta acción, o puede recompilar manualmente después de elegir la opción Importar.</span><span class="sxs-lookup"><span data-stu-id="82ef8-162">You can choose the Rebuild option to accomplish this, or you can rebuild manually after choosing the Import option.</span></span>  
  
-   <span data-ttu-id="82ef8-163">¿Se han generado índices de texto completo en columnas de clave de texto completo cuyo tipo de datos es Integer?</span><span class="sxs-lookup"><span data-stu-id="82ef8-163">Were any full-text indexes built on integer full-text key columns?</span></span>  
  
     <span data-ttu-id="82ef8-164">La regeneración realiza optimizaciones internas que, en algunos casos, mejoran el rendimiento de las consultas del índice de texto completo actualizado.</span><span class="sxs-lookup"><span data-stu-id="82ef8-164">Rebuilding performs internal optimizations that improve the query performance of the upgraded full-text index in some cases.</span></span> <span data-ttu-id="82ef8-165">En concreto, si tiene catálogos de texto completo que contienen índices de texto completo para los que la columna de clave de texto completo de la tabla base es un tipo de datos Integer, al volver a generarlos, se logra un rendimiento ideal de las consultas de texto completo después de la actualización.</span><span class="sxs-lookup"><span data-stu-id="82ef8-165">Specifically, if you have full-text catalogs that contain full-text indexes for which the full-text key column of the base table is an integer data type, rebuilding achieves ideal performance of full-text queries after upgrade.</span></span> <span data-ttu-id="82ef8-166">En este caso, es muy recomendable el uso de la opción **Volver a generar** .</span><span class="sxs-lookup"><span data-stu-id="82ef8-166">In this case, we highly recommend you to use the **Rebuild** option.</span></span>  
  
    > [!NOTE]  
    >  <span data-ttu-id="82ef8-167">Para los índices de texto completo de [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)], se recomienda que el tipo de datos de la columna que actúa como clave de texto completo sea Integer.</span><span class="sxs-lookup"><span data-stu-id="82ef8-167">For full-text indexes in [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)], we recommend that the column serving as the full-text key be an integer data type.</span></span> <span data-ttu-id="82ef8-168">Para obtener más información, vea [Mejorar el rendimiento de los índices de texto completo](improve-the-performance-of-full-text-indexes.md).</span><span class="sxs-lookup"><span data-stu-id="82ef8-168">For more information, see [Improve the Performance of Full-Text Indexes](improve-the-performance-of-full-text-indexes.md).</span></span>  
  
-   <span data-ttu-id="82ef8-169">¿Cuál es la prioridad para poner en línea la instancia del servidor?</span><span class="sxs-lookup"><span data-stu-id="82ef8-169">What is the priority for getting your server instance online?</span></span>  
  
     <span data-ttu-id="82ef8-170">El proceso de importación o regeneración durante la actualización consume muchos recursos de la CPU, lo que retrasa la actualización y puesta en línea del resto de la instancia del servidor.</span><span class="sxs-lookup"><span data-stu-id="82ef8-170">Importing or rebuilding during upgrade takes a lot of CPU resources, which delays getting the rest of the server instance upgraded and online.</span></span> <span data-ttu-id="82ef8-171">Si es importante poner en línea lo antes posible la instancia del servidor y desea ejecutar manualmente el rellenado después de la actualización, la opción **Restablecer** resulta adecuada.</span><span class="sxs-lookup"><span data-stu-id="82ef8-171">If getting the server instance online as soon as possible is important and if you are willing to run a manual population after the upgrade, **Reset** is suitable.</span></span>  
  
## <a name="ensuring-consistent-query-results-after-importing-a-sql-server-2005-full-text-index"></a><span data-ttu-id="82ef8-172">Garantizar resultados de consulta coherentes después de importar un índice de texto completo de SQL Server 2005</span><span class="sxs-lookup"><span data-stu-id="82ef8-172">Ensuring Consistent Query Results after Importing a SQL Server 2005 Full-Text Index</span></span>  
 <span data-ttu-id="82ef8-173">Si un catálogo de texto completo se ha importado al actualizar una base de datos de [!INCLUDE[ssVersion2005](../../includes/ssversion2005-md.md)] a [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)], podrían producirse discrepancias entre la consulta y el contenido del índice de texto completo debido a las diferencias de comportamiento entre los nuevos separadores de palabras y los anteriores.</span><span class="sxs-lookup"><span data-stu-id="82ef8-173">If a full-text catalog was imported when upgrading a [!INCLUDE[ssVersion2005](../../includes/ssversion2005-md.md)] database to [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)], mismatches between the query and the full-text index content might occur because of differences in the behavior of the old and new word breakers.</span></span> <span data-ttu-id="82ef8-174">En este caso, para garantizar una coincidencia total entre las consultas y el contenido del índice de texto completo, elija una de las opciones siguientes:</span><span class="sxs-lookup"><span data-stu-id="82ef8-174">In this case, to guarantee a total match between queries and the full-text index content, choose one of the following options:</span></span>  
  
-   <span data-ttu-id="82ef8-175">Recompile el catálogo de texto completo que contiene el índice de texto completo ([ALTER FULLTEXT CATALOG](/sql/t-sql/statements/alter-fulltext-catalog-transact-sql)*catalog_name* REBUILD)</span><span class="sxs-lookup"><span data-stu-id="82ef8-175">Rebuild the full-text catalog that contains the full-text index ([ALTER FULLTEXT CATALOG](/sql/t-sql/statements/alter-fulltext-catalog-transact-sql)*catalog_name* REBUILD)</span></span>  
  
-   <span data-ttu-id="82ef8-176">Emita un rellenado completo en el índice de texto completo ([ALTER FULLTEXT INDEX](/sql/t-sql/statements/alter-fulltext-index-transact-sql) ON *table_name* START FULL POPULATION).</span><span class="sxs-lookup"><span data-stu-id="82ef8-176">Issue a FULL POPULATION on the full-text index ([ALTER FULLTEXT INDEX](/sql/t-sql/statements/alter-fulltext-index-transact-sql) ON *table_name* START FULL POPULATION).</span></span>  
  
 <span data-ttu-id="82ef8-177">Para obtener más información sobre los separadores de palabras, vea [Configurar y administrar separadores de palabras y lematizadores para la búsqueda](configure-and-manage-word-breakers-and-stemmers-for-search.md).</span><span class="sxs-lookup"><span data-stu-id="82ef8-177">For more information about word breakers, see [Configure and Manage Word Breakers and Stemmers for Search](configure-and-manage-word-breakers-and-stemmers-for-search.md).</span></span>  
  
## <a name="upgrading-noise-word-files-to-stoplists"></a><span data-ttu-id="82ef8-178">Actualizar archivos de palabras irrelevantes a listas de palabras irrelevantes</span><span class="sxs-lookup"><span data-stu-id="82ef8-178">Upgrading Noise-Word Files to Stoplists</span></span>  
 <span data-ttu-id="82ef8-179">Las palabras irrelevantes de [!INCLUDE[ssVersion2005](../../includes/ssversion2005-md.md)] se han reemplazado por palabras irrelevantes en [!INCLUDE[ssKatmai](../../includes/sskatmai-md.md)] y versiones posteriores.</span><span class="sxs-lookup"><span data-stu-id="82ef8-179">[!INCLUDE[ssVersion2005](../../includes/ssversion2005-md.md)] noise words have been replaced by stopwords in [!INCLUDE[ssKatmai](../../includes/sskatmai-md.md)] and later versions.</span></span> <span data-ttu-id="82ef8-180">Cuando una base de datos se actualiza a [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)] a partir de [!INCLUDE[ssVersion2005](../../includes/ssversion2005-md.md)], los archivos de palabras irrelevantes de esa versión dejan de usarse.</span><span class="sxs-lookup"><span data-stu-id="82ef8-180">When a database is upgraded to [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)] from [!INCLUDE[ssVersion2005](../../includes/ssversion2005-md.md)], the noise-word files are no longer used.</span></span> <span data-ttu-id="82ef8-181">Sin embargo, los archivos de palabras irrelevantes antiguos se almacenan en la carpeta FTDATA\FTNoiseThesaurusBak para que los pueda usar posteriormente cuando actualice o genere las correspondientes listas de palabras irrelevantes de [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)] .</span><span class="sxs-lookup"><span data-stu-id="82ef8-181">However, the old noise-word files are stored in the FTDATA\ FTNoiseThesaurusBak folder, and you can use them later when updating or building the corresponding [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)] stoplists.</span></span>  
  
 <span data-ttu-id="82ef8-182">Después de la actualización a partir de [!INCLUDE[ssVersion2005](../../includes/ssversion2005-md.md)]:</span><span class="sxs-lookup"><span data-stu-id="82ef8-182">After upgrading from [!INCLUDE[ssVersion2005](../../includes/ssversion2005-md.md)]:</span></span>  
  
-   <span data-ttu-id="82ef8-183">Si nunca agregó, modificó ni eliminó archivos de palabras irrelevantes de la instalación de [!INCLUDE[ssVersion2005](../../includes/ssversion2005-md.md)], la lista de palabras irrelevantes del sistema será suficiente para cubrir sus necesidades.</span><span class="sxs-lookup"><span data-stu-id="82ef8-183">If you never added, modified, or deleted any noise-word files in your installation of [!INCLUDE[ssVersion2005](../../includes/ssversion2005-md.md)], the system stoplist should meet your needs.</span></span>  
  
-   <span data-ttu-id="82ef8-184">Si modificó los archivos de palabras irrelevantes en [!INCLUDE[ssVersion2005](../../includes/ssversion2005-md.md)], las modificaciones se perderán durante la actualización.</span><span class="sxs-lookup"><span data-stu-id="82ef8-184">If your noise-word files were modified in [!INCLUDE[ssVersion2005](../../includes/ssversion2005-md.md)], those modifications are lost during upgrade.</span></span> <span data-ttu-id="82ef8-185">Para volver a crear las modificaciones, debe hacerlo de forma manual en la lista de palabras irrelevantes de [!INCLUDE[ssKatmai](../../includes/sskatmai-md.md)] correspondiente.</span><span class="sxs-lookup"><span data-stu-id="82ef8-185">To re-create those updates, you must manually recreate those modifications in the corresponding [!INCLUDE[ssKatmai](../../includes/sskatmai-md.md)] stoplist.</span></span> <span data-ttu-id="82ef8-186">Para obtener más información, vea [ALTER FULLTEXT STOPLIST &#40;Transact-SQL&#41;](/sql/t-sql/statements/alter-fulltext-stoplist-transact-sql).</span><span class="sxs-lookup"><span data-stu-id="82ef8-186">For more information, see [ALTER FULLTEXT STOPLIST &#40;Transact-SQL&#41;](/sql/t-sql/statements/alter-fulltext-stoplist-transact-sql).</span></span>  
  
-   <span data-ttu-id="82ef8-187">Si no desea aplicar palabras irrelevantes a sus índices de texto completo (por ejemplo, si eliminó o borró los archivos de palabras irrelevantes de la instalación de [!INCLUDE[ssVersion2005](../../includes/ssversion2005-md.md)]), debe desactivar la lista de palabras irrelevantes para todos los índices de texto completo actualizados.</span><span class="sxs-lookup"><span data-stu-id="82ef8-187">If you do not want to apply any stopwords to your full-text indexes (for example, if you deleted or erased your noise-word files in your [!INCLUDE[ssVersion2005](../../includes/ssversion2005-md.md)] installation), you must turn off the stoplist for each upgraded full-text index.</span></span> <span data-ttu-id="82ef8-188">Ejecute la siguiente instrucción [!INCLUDE[tsql](../../includes/tsql-md.md)] (reemplace *database* por el nombre de la base de datos actualizada y *table* por el nombre de la *tabla*):</span><span class="sxs-lookup"><span data-stu-id="82ef8-188">Run the following [!INCLUDE[tsql](../../includes/tsql-md.md)] statement (replacing *database* with the name of the upgraded database and *table* with the name of the *table*):</span></span>  
  
    ```  
    Use database;   
    ALTER FULLTEXT INDEX ON table  
       SET STOPLIST OFF;  
    GO  
    ```  
  
     <span data-ttu-id="82ef8-189">La cláusula STOPLIST OFF quita el filtrado de palabras irrelevantes y desencadena un rellenado de la tabla sin filtrar las palabras consideradas como irrelevantes.</span><span class="sxs-lookup"><span data-stu-id="82ef8-189">The STOPLIST OFF clause removes stop-word filtering, and it will trigger a population of the table, without filtering any words considered to be noise.</span></span>  
  
## <a name="backup-and-imported-full-text-catalogs"></a><span data-ttu-id="82ef8-190">Las copias de seguridad y los catálogos de texto completo importados</span><span class="sxs-lookup"><span data-stu-id="82ef8-190">Backup and Imported Full-Text Catalogs</span></span>  
 <span data-ttu-id="82ef8-191">En los catálogos de texto completo que se vuelven a generar o que se restablecen durante la actualización (y para los nuevos catálogos de texto completo), el catálogo de texto completo es un concepto lógico y no reside en ningún grupo de archivos.</span><span class="sxs-lookup"><span data-stu-id="82ef8-191">For full-text catalogs that are rebuilt or reset during upgrade (and for new full-text catalogs), the fulltext catalog is a logical concept and does not reside in a filegroup.</span></span> <span data-ttu-id="82ef8-192">Por consiguiente, para hacer una copia de seguridad de un catálogo de texto completo en [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)], debe identificar cada grupo de archivos que contenga un índice de texto completo del catálogo y hacer una copia de seguridad de cada uno de ellos, uno por uno.</span><span class="sxs-lookup"><span data-stu-id="82ef8-192">Therefore, to back up a full-text catalog in [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)], you must identify every filegroup that contains a full-text index of the catalog and back each of them up, one by one.</span></span> <span data-ttu-id="82ef8-193">Para obtener más información, vea [Realizar copias de seguridad de los catálogos de texto completo y restaurarlos](back-up-and-restore-full-text-catalogs-and-indexes.md).</span><span class="sxs-lookup"><span data-stu-id="82ef8-193">For more information, see [Back Up and Restore Full-Text Catalogs and Indexes](back-up-and-restore-full-text-catalogs-and-indexes.md).</span></span>  
  
 <span data-ttu-id="82ef8-194">Para los catálogos de texto completo importados de [!INCLUDE[ssVersion2005](../../includes/ssversion2005-md.md)], el catálogo de texto completo sigue siendo un archivo de base de datos en su propio grupo de archivos.</span><span class="sxs-lookup"><span data-stu-id="82ef8-194">For full-text catalogs that have been imported from [!INCLUDE[ssVersion2005](../../includes/ssversion2005-md.md)], the full-text catalog is still a database file in its own filegroup.</span></span> <span data-ttu-id="82ef8-195">Se sigue aplicando el proceso de copia de seguridad de [!INCLUDE[ssVersion2005](../../includes/ssversion2005-md.md)] para los catálogos de texto completo, con la salvedad de que el servicio MSFTESQL no existe en [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)].</span><span class="sxs-lookup"><span data-stu-id="82ef8-195">The [!INCLUDE[ssVersion2005](../../includes/ssversion2005-md.md)] backup process for full-text catalogs still applies except that the MSFTESQL service does not exist in [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)].</span></span> <span data-ttu-id="82ef8-196">Para obtener información sobre el proceso de [!INCLUDE[ssVersion2005](../../includes/ssversion2005-md.md)] , vea [Backing Up and Restoring Full-Text Catalogs (Copia de seguridad y restauración de catálogos de texto completo)](https://go.microsoft.com/fwlink/?LinkId=209154) en los Libros en pantalla de SQL Server 2005.</span><span class="sxs-lookup"><span data-stu-id="82ef8-196">For information about the [!INCLUDE[ssVersion2005](../../includes/ssversion2005-md.md)] process, see [Backing Up and Restoring Full-Text Catalogs](https://go.microsoft.com/fwlink/?LinkId=209154) in SQL Server 2005 Books Online.</span></span>  
  
##  <a name="migrating-full-text-indexes-when-upgrading-a-database-to-sscurrent"></a><a name="Upgrade_Db"></a><span data-ttu-id="82ef8-197">Migrar índices de texto completo al actualizar una base de datos a[!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)]</span><span class="sxs-lookup"><span data-stu-id="82ef8-197">Migrating Full-Text Indexes When Upgrading a Database to [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)]</span></span>  
 <span data-ttu-id="82ef8-198">Los archivos de base de datos y los catálogos de texto completo de una versión anterior de [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] se pueden actualizar a una instancia del servidor de [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)] existente mediante operaciones de anexión o restauración, o con el Asistente para copiar bases de datos.</span><span class="sxs-lookup"><span data-stu-id="82ef8-198">Database files and full-text catalogs from a previous version of [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] can be upgraded to an existing [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)] server instance by using attach, restore, or the Copy Database Wizard.</span></span> [!INCLUDE[ssVersion2005](../../includes/ssversion2005-md.md)] <span data-ttu-id="82ef8-199">los índices de texto completo, si los hubiera, se importan, se restablecen o se vuelven a compilar.</span><span class="sxs-lookup"><span data-stu-id="82ef8-199">full-text indexes, if any, are either imported, reset, or rebuilt.</span></span> <span data-ttu-id="82ef8-200">La propiedad de servidor **upgrade_option** controla cuál de las opciones de actualización de texto completo usa la instancia del servidor durante estas actualizaciones de bases de datos.</span><span class="sxs-lookup"><span data-stu-id="82ef8-200">The **upgrade_option** server property controls which full-text upgrade option the server instance uses during these database upgrades.</span></span>  
  
 <span data-ttu-id="82ef8-201">Después de adjuntar, restaurar o copiar una base de datos de [!INCLUDE[ssVersion2005](../../includes/ssversion2005-md.md)] a [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)], queda disponible inmediatamente y se actualiza a continuación de forma automática.</span><span class="sxs-lookup"><span data-stu-id="82ef8-201">After you attach, restore, or copy any [!INCLUDE[ssVersion2005](../../includes/ssversion2005-md.md)] database to [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)], the database becomes available immediately and is then automatically upgraded.</span></span> <span data-ttu-id="82ef8-202">Dependiendo de la cantidad de datos que se indicen, la importación puede requerir varias horas y volver a generar puede requerir hasta diez veces más.</span><span class="sxs-lookup"><span data-stu-id="82ef8-202">Depending the amount of data being indexed, importing can take several hours, and rebuilding can take up to ten times longer.</span></span> <span data-ttu-id="82ef8-203">Tenga en cuenta también que si la opción de actualización se establece en importar y no hay disponible ningún catálogo de texto completo, se vuelven a generar los índices de texto completo asociados.</span><span class="sxs-lookup"><span data-stu-id="82ef8-203">Note also that when the upgrade option is set to import, if a full-text catalog is not available, the associated full-text indexes are rebuilt.</span></span>  
  
 <span data-ttu-id="82ef8-204">**Para cambiar el comportamiento de la actualización de texto completo en una instancia del servidor**</span><span class="sxs-lookup"><span data-stu-id="82ef8-204">**To change full-text upgrade behavior on a server instance**</span></span>  
  
-   [!INCLUDE[tsql](../../includes/tsql-md.md)]<span data-ttu-id="82ef8-205">: Use la acción de actualización de la \*\* \_ opción\*\* del [ \_ \_ servicio de texto completo SP](/sql/relational-databases/system-stored-procedures/sp-fulltext-service-transact-sql) .</span><span class="sxs-lookup"><span data-stu-id="82ef8-205">: Use the **upgrade\_option** action of [sp\_fulltext\_service](/sql/relational-databases/system-stored-procedures/sp-fulltext-service-transact-sql)</span></span>  
  
-   [!INCLUDE[ssManStudioFull](../../includes/ssmanstudiofull-md.md)] <span data-ttu-id="82ef8-206">**:** Use la **Opción de actualización de texto completo** del cuadro de diálogo **Propiedades del servidor** .</span><span class="sxs-lookup"><span data-stu-id="82ef8-206">**:** Use the **Full-Text Upgrade Option** of the **Server Properties** dialog box.</span></span> <span data-ttu-id="82ef8-207">Para obtener más información, vea [Administrar y supervisar la búsqueda de texto completo para una instancia de servidor](manage-and-monitor-full-text-search-for-a-server-instance.md).</span><span class="sxs-lookup"><span data-stu-id="82ef8-207">For more information, see [Manage and Monitor Full-Text Search for a Server Instance](manage-and-monitor-full-text-search-for-a-server-instance.md).</span></span>  
  
##  <a name="considerations-for-restoring-a-ssversion2005-full-text-catalog-to-sscurrent"></a><a name="Considerations_for_Restore"></a><span data-ttu-id="82ef8-208">Consideraciones para restaurar un [!INCLUDE[ssVersion2005](../../includes/ssversion2005-md.md)] Catálogo de texto completo en[!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)]</span><span class="sxs-lookup"><span data-stu-id="82ef8-208">Considerations for Restoring a [!INCLUDE[ssVersion2005](../../includes/ssversion2005-md.md)] Full-Text Catalog to [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)]</span></span>  
 <span data-ttu-id="82ef8-209">Una forma de actualizar los datos de texto completo de una base de datos de [!INCLUDE[ssVersion2005](../../includes/ssversion2005-md.md)] a [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)] consiste en restaurar una copia de seguridad completa de la base de datos en [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)].</span><span class="sxs-lookup"><span data-stu-id="82ef8-209">One method of upgrading fulltext data from a [!INCLUDE[ssVersion2005](../../includes/ssversion2005-md.md)] database to [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)] is to restore a full database backup to [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)].</span></span>  
  
 <span data-ttu-id="82ef8-210">Al importar un catálogo de texto completo de [!INCLUDE[ssVersion2005](../../includes/ssversion2005-md.md)] , puede hacer una copia de seguridad y restaurar la base de datos y el archivo de catálogo.</span><span class="sxs-lookup"><span data-stu-id="82ef8-210">While importing a [!INCLUDE[ssVersion2005](../../includes/ssversion2005-md.md)] full-text catalog, you can back up and restore the database and the catalog file.</span></span> <span data-ttu-id="82ef8-211">El comportamiento es el mismo que en [!INCLUDE[ssVersion2005](../../includes/ssversion2005-md.md)].</span><span class="sxs-lookup"><span data-stu-id="82ef8-211">The behavior is the same as in [!INCLUDE[ssVersion2005](../../includes/ssversion2005-md.md)]:</span></span>  
  
-   <span data-ttu-id="82ef8-212">La copia de seguridad completa de la base de datos incluirá el catálogo de texto completo.</span><span class="sxs-lookup"><span data-stu-id="82ef8-212">The full database backup will include the full-text catalog.</span></span> <span data-ttu-id="82ef8-213">Para hacer referencia al catálogo de texto completo, use su nombre de archivo de [!INCLUDE[ssVersion2005](../../includes/ssversion2005-md.md)] , sysft_+*catalog-name*.</span><span class="sxs-lookup"><span data-stu-id="82ef8-213">To refer to the full-text catalog, use its [!INCLUDE[ssVersion2005](../../includes/ssversion2005-md.md)] file name, sysft_+*catalog-name*.</span></span>  
  
-   <span data-ttu-id="82ef8-214">Si el catálogo de texto completo está sin conexión, se producirá un error en la copia de seguridad.</span><span class="sxs-lookup"><span data-stu-id="82ef8-214">If the full-text catalog is offline, the backup will fail.</span></span>  
  
 <span data-ttu-id="82ef8-215">Para obtener más información sobre las copias de seguridad y la restauración de catálogos de texto completo de [!INCLUDE[ssVersion2005](../../includes/ssversion2005-md.md)] , vea [Backing Up and Restoring Full-Text Catalogs (Copia de seguridad y restauración de catálogos de texto completo)](https://go.microsoft.com/fwlink/?LinkId=121052) y [File Backup and Restore and Full-Text Catalogs (Copia de seguridad y restauración de archivos y catálogos de texto completo)](https://go.microsoft.com/fwlink/?LinkId=121053)en los Libros en pantalla de [!INCLUDE[ssVersion2005](../../includes/ssversion2005-md.md)] .</span><span class="sxs-lookup"><span data-stu-id="82ef8-215">For more information about backing up and restoring [!INCLUDE[ssVersion2005](../../includes/ssversion2005-md.md)] full-text catalogs, see [Backing Up and Restoring Full-Text Catalogs](https://go.microsoft.com/fwlink/?LinkId=121052) and [File Backup and Restore and Full-Text Catalogs](https://go.microsoft.com/fwlink/?LinkId=121053)in [!INCLUDE[ssVersion2005](../../includes/ssversion2005-md.md)] Books Online.</span></span>  
  
 <span data-ttu-id="82ef8-216">Cuando la base de datos se restaura en [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)], se crea un nuevo archivo de base de datos para el catálogo de texto completo.</span><span class="sxs-lookup"><span data-stu-id="82ef8-216">When the database is restored on [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)], a new database file will be created for the full-text catalog.</span></span> <span data-ttu-id="82ef8-217">El nombre predeterminado de este archivo es ftrow_*catalog-name*.ndf.</span><span class="sxs-lookup"><span data-stu-id="82ef8-217">The default name of this file is ftrow_*catalog-name*.ndf.</span></span> <span data-ttu-id="82ef8-218">Por ejemplo, si *catalog-name* es `cat1`, el nombre predeterminado del archivo de base de datos de [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)] será `ftrow_cat1.ndf`.</span><span class="sxs-lookup"><span data-stu-id="82ef8-218">For example, if you *catalog-name* is `cat1`, the default name of the [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)] database file would be `ftrow_cat1.ndf`.</span></span> <span data-ttu-id="82ef8-219">Pero si el nombre predeterminado ya se usa en el directorio de destino, el nuevo archivo de base de datos se denominará GUID del `ftrow_` *nombre del catálogo* `{` *GUID* `}.ndf` , donde *GUID* es el identificador único global del nuevo archivo.</span><span class="sxs-lookup"><span data-stu-id="82ef8-219">But if the default name is already being used in the target directory, the new database file would be named `ftrow_`*catalog-name*`{`*GUID*`}.ndf`, where *GUID* is the Globally Unique Identifier of the new file.</span></span>  
  
 <span data-ttu-id="82ef8-220">Después de que se hayan importado los catálogos, los elementos **sys.database_files** y **sys.master_file**se actualizan para eliminar las entradas de catálogo, y la columna **path** de **sys.fulltext_catalogs** se establece en NULL.</span><span class="sxs-lookup"><span data-stu-id="82ef8-220">After the catalogs have been imported, the **sys.database_files** and **sys.master_file**s are updated to remove the catalog entries and the **path** column in **sys.fulltext_catalogs** is set to NULL.</span></span>  
  
 <span data-ttu-id="82ef8-221">**Para realizar una copia de seguridad de una base de datos**</span><span class="sxs-lookup"><span data-stu-id="82ef8-221">**To back up a database**</span></span>  
  
-   [<span data-ttu-id="82ef8-222">Copias de seguridad completas de bases de datos &#40;SQL Server&#41;</span><span class="sxs-lookup"><span data-stu-id="82ef8-222">Full Database Backups &#40;SQL Server&#41;</span></span>](../backup-restore/full-database-backups-sql-server.md)  
  
-   <span data-ttu-id="82ef8-223">[Copias de seguridad del registro de transacciones &#40;SQL Server&#41;](../backup-restore/transaction-log-backups-sql-server.md) (solo para el modelo de recuperación completa)</span><span class="sxs-lookup"><span data-stu-id="82ef8-223">[Transaction Log Backups &#40;SQL Server&#41;](../backup-restore/transaction-log-backups-sql-server.md) (full recovery model only)</span></span>  
  
 <span data-ttu-id="82ef8-224">**Para restaurar una copia de seguridad de base de datos**</span><span class="sxs-lookup"><span data-stu-id="82ef8-224">**To restore a database backup**</span></span>  
  
-   [<span data-ttu-id="82ef8-225">Restauraciones de base de datos completas &#40;modelo de recuperación simple&#41;</span><span class="sxs-lookup"><span data-stu-id="82ef8-225">Complete Database Restores &#40;Simple Recovery Model&#41;</span></span>](../backup-restore/complete-database-restores-simple-recovery-model.md)  
  
-   [<span data-ttu-id="82ef8-226">Restauraciones de base de datos completas &#40;modelo de recuperación completa&#41;</span><span class="sxs-lookup"><span data-stu-id="82ef8-226">Complete Database Restores &#40;Full Recovery Model&#41;</span></span>](../backup-restore/complete-database-restores-full-recovery-model.md)  
  
### <a name="example"></a><span data-ttu-id="82ef8-227">Ejemplo</span><span class="sxs-lookup"><span data-stu-id="82ef8-227">Example</span></span>  
 <span data-ttu-id="82ef8-228">En el ejemplo siguiente se usa la cláusula MOVE en la instrucción [RESTORE](/sql/t-sql/statements/restore-statements-transact-sql) para restaurar una base de datos de [!INCLUDE[ssVersion2005](../../includes/ssversion2005-md.md)] denominada `ftdb1`.</span><span class="sxs-lookup"><span data-stu-id="82ef8-228">The following example uses the MOVE clause in the [RESTORE](/sql/t-sql/statements/restore-statements-transact-sql) statement, to restore a [!INCLUDE[ssVersion2005](../../includes/ssversion2005-md.md)] database named `ftdb1`.</span></span> <span data-ttu-id="82ef8-229">La base de datos, el registro y los archivos de catálogo de [!INCLUDE[ssVersion2005](../../includes/ssversion2005-md.md)] se mueven a las nuevas ubicaciones de la instancia del servidor de [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)] de la manera siguiente:</span><span class="sxs-lookup"><span data-stu-id="82ef8-229">The [!INCLUDE[ssVersion2005](../../includes/ssversion2005-md.md)] database, log, and catalog files are moved to new locations on the [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)] server instance, as follows:</span></span>  
  
-   <span data-ttu-id="82ef8-230">El archivo de base de datos, `ftdb1.mdf`, se mueve a `C:\Program Files\Microsoft SQL Server\MSSQL.1MSSQL12.MSSQLSERVER\MSSQL\DATA\ftdb1.mdf`.</span><span class="sxs-lookup"><span data-stu-id="82ef8-230">The database file, `ftdb1.mdf`, is moved to `C:\Program Files\Microsoft SQL Server\MSSQL.1MSSQL12.MSSQLSERVER\MSSQL\DATA\ftdb1.mdf`.</span></span>  
  
-   <span data-ttu-id="82ef8-231">El archivo de registro, `ftdb1_log.ldf` , se mueve a un directorio de registro de la unidad de disco de registro *log_drive* `:\` *log_directory* `\ftdb1_log.ldf` .</span><span class="sxs-lookup"><span data-stu-id="82ef8-231">The log file, `ftdb1_log.ldf`, is moved to a log directory on your log disk drive, *log_drive*`:\`*log_directory*`\ftdb1_log.ldf`.</span></span>  
  
-   <span data-ttu-id="82ef8-232">Los archivos de catálogo que corresponden al catálogo de `sysft_cat90` se mueven a `C:\temp`.</span><span class="sxs-lookup"><span data-stu-id="82ef8-232">The catalog files that correspond to the `sysft_cat90` catalog are moved to `C:\temp`.</span></span> <span data-ttu-id="82ef8-233">Una vez importados los índices de texto completo, estos se sitúan automáticamente en un archivo de base de datos, C:\ftrow_sysft_cat90.ndf, y se eliminan de C:\temp.</span><span class="sxs-lookup"><span data-stu-id="82ef8-233">After the full-text indexes are imported, they will automatically be placed in a database file, C:\ftrow_sysft_cat90.ndf, and the C:\temp will be deleted.</span></span>  
  
```  
RESTORE DATABASE [ftdb1] FROM  DISK = N'C:\temp\ftdb1.bak' WITH  FILE = 1,  
   MOVE N'ftdb1' TO N'C:\Program Files\Microsoft SQL Server\MSSQL12.MSSQLSERVER\MSSQL\DATA\ftdb1.mdf',  
    MOVE N'ftdb1_log' TO N'log_drive:\log_directory\ftdb1_log.ldf',  
    MOVE N'sysft_cat90' TO N'C:\temp';  
```  
  
##  <a name="attaching-a-sql-server-2005-database-to-sscurrent"></a><a name="Attaching_2005_ft_catalogs"></a><span data-ttu-id="82ef8-234">Adjuntar una base de datos SQL Server 2005 a[!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)]</span><span class="sxs-lookup"><span data-stu-id="82ef8-234">Attaching a SQL Server 2005 Database to [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)]</span></span>  
 <span data-ttu-id="82ef8-235">En [!INCLUDE[ssKatmai](../../includes/sskatmai-md.md)] y versiones posteriores, un catálogo de texto completo es un concepto lógico que hace referencia a un grupo de índices de texto completo.</span><span class="sxs-lookup"><span data-stu-id="82ef8-235">In [!INCLUDE[ssKatmai](../../includes/sskatmai-md.md)] and later versions, a full-text catalog is a logical concept that refers to a group of full-text indexes.</span></span> <span data-ttu-id="82ef8-236">Un catálogo de texto completo es un objeto virtual y no pertenece a ningún grupo de archivos.</span><span class="sxs-lookup"><span data-stu-id="82ef8-236">The full-text catalog is a virtual object that does not belong to any filegroup.</span></span> <span data-ttu-id="82ef8-237">Sin embargo, al adjuntar una base de datos de [!INCLUDE[ssVersion2005](../../includes/ssversion2005-md.md)] que contiene archivos de catálogo de texto completo a una instancia del servidor de [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)] , los archivos de catálogo se adjuntan desde su ubicación anterior junto con los demás archivos de base de datos, igual que en [!INCLUDE[ssVersion2005](../../includes/ssversion2005-md.md)].</span><span class="sxs-lookup"><span data-stu-id="82ef8-237">However, when you attach a [!INCLUDE[ssVersion2005](../../includes/ssversion2005-md.md)] database that contains full-text catalog files onto a [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)] server instance, the catalog files are attached from their previous location along with the other database files, the same as in [!INCLUDE[ssVersion2005](../../includes/ssversion2005-md.md)].</span></span>  
  
 <span data-ttu-id="82ef8-238">El estado de cada catálogo de texto completo adjunto de [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)] es el mismo que el que tenía la base de datos cuando se separó de [!INCLUDE[ssVersion2005](../../includes/ssversion2005-md.md)].</span><span class="sxs-lookup"><span data-stu-id="82ef8-238">The state of each attached full-text catalog on [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)] is the same as when the database was detached from [!INCLUDE[ssVersion2005](../../includes/ssversion2005-md.md)].</span></span> <span data-ttu-id="82ef8-239">Si, durante la operación de separación, se suspendió cualquier tarea de rellenado de un índice de texto completo, ésta se reanudará en [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)], por lo que será posible realizar búsquedas de texto completo en dicho índice de texto completo.</span><span class="sxs-lookup"><span data-stu-id="82ef8-239">If any full-text index population was suspended by the detach operation, the population is resumed on [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)], and the full-text index becomes available for full-text search.</span></span>  
  
 <span data-ttu-id="82ef8-240">Si [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)] no puede localizar un archivo de catálogo de texto completo o si el archivo de texto completo se mueve durante la operación de separación sin especificar una nueva ubicación, el comportamiento dependerá de la opción de actualización de texto completo seleccionada.</span><span class="sxs-lookup"><span data-stu-id="82ef8-240">If [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)] cannot find a full-text catalog file or if the full-text file was moved during the attach operation without specifying a new location, the behavior depends on the selected full-text upgrade option.</span></span> <span data-ttu-id="82ef8-241">Si la opción de actualización de texto completo es **Importar** o **Volver a generar**, se vuelve a generar el catálogo de texto completo adjunto.</span><span class="sxs-lookup"><span data-stu-id="82ef8-241">If the full-text upgrade option is **Import** or **Rebuild**, the attached full-text catalog is rebuilt.</span></span> <span data-ttu-id="82ef8-242">Si la opción de actualización de texto completo es **Restablecer**, se restablece el catálogo de texto completo adjunto.</span><span class="sxs-lookup"><span data-stu-id="82ef8-242">If the full-text upgrade option is **Reset**, the attached full-text catalog is reset.</span></span>  
  
 <span data-ttu-id="82ef8-243">Para obtener más información sobre cómo separar y adjuntar una base de datos, vea [Adjuntar y separar bases de datos &#40;SQL Server&#41;](../databases/database-detach-and-attach-sql-server.md), [CREATE DATABASE &#40;Transact-SQL de SQL Server&#41;](/sql/t-sql/statements/create-database-sql-server-transact-sql), [sp_attach_db](/sql/relational-databases/system-stored-procedures/sp-attach-db-transact-sql) y [sp_detach_db &#40;Transact-SQL&#41;](/sql/relational-databases/system-stored-procedures/sp-detach-db-transact-sql).</span><span class="sxs-lookup"><span data-stu-id="82ef8-243">For more information about detaching and attaching a database, see [Database Detach and Attach &#40;SQL Server&#41;](../databases/database-detach-and-attach-sql-server.md), [CREATE DATABASE &#40;SQL Server Transact-SQL&#41;](/sql/t-sql/statements/create-database-sql-server-transact-sql), [sp_attach_db](/sql/relational-databases/system-stored-procedures/sp-attach-db-transact-sql), and [sp_detach_db &#40;Transact-SQL&#41;](/sql/relational-databases/system-stored-procedures/sp-detach-db-transact-sql).</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="82ef8-244">Consulte también</span><span class="sxs-lookup"><span data-stu-id="82ef8-244">See Also</span></span>  
 <span data-ttu-id="82ef8-245">[Introducción a la búsqueda de texto completo](get-started-with-full-text-search.md) </span><span class="sxs-lookup"><span data-stu-id="82ef8-245">[Get Started with Full-Text Search](get-started-with-full-text-search.md) </span></span>  
 <span data-ttu-id="82ef8-246">[Configurar y administrar separadores de palabras y lematizadores para la búsqueda](configure-and-manage-word-breakers-and-stemmers-for-search.md) </span><span class="sxs-lookup"><span data-stu-id="82ef8-246">[Configure and Manage Word Breakers and Stemmers for Search](configure-and-manage-word-breakers-and-stemmers-for-search.md) </span></span>  
 [<span data-ttu-id="82ef8-247">Configurar y administrar filtros para búsquedas</span><span class="sxs-lookup"><span data-stu-id="82ef8-247">Configure and Manage Filters for Search</span></span>](configure-and-manage-filters-for-search.md)  
  
  
