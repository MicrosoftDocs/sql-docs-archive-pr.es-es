---
title: Novedades de&#39;s en SQLXML 4,0 SP1 | Microsoft Docs
ms.custom: ''
ms.date: 03/09/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: xml
ms.topic: reference
helpviewer_keywords:
- registry keys [SQLXML]
- SQLNCLI, SQLXML
- what's new [SQLXML]
- SQLXML, what's new
- migrating SQLXML applications
- redistributing SQLXML
- SQL Server Native Client, SQLXML
- side-by-side installations [SQLXML]
ms.assetid: 48f7720b-1705-402d-93ce-097ff1737877
author: rothja
ms.author: jroth
ms.openlocfilehash: 880937520385fbe6ce64be3fdfcbbf7d11c73741
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 08/04/2020
ms.locfileid: "87744632"
---
# <a name="what39s-new-in-sqlxml-40-sp1"></a><span data-ttu-id="b746f-102">Novedades de SQLXML 4,0 SP1&#39;</span><span class="sxs-lookup"><span data-stu-id="b746f-102">What&#39;s New in SQLXML 4.0 SP1</span></span>
  [!INCLUDE[msCoName](../../includes/msconame-md.md)] <span data-ttu-id="b746f-103">SQLXML 4.0 SP1 incluye varias actualizaciones y mejoras.</span><span class="sxs-lookup"><span data-stu-id="b746f-103">SQLXML 4.0 SP1 includes various updates and enhancements.</span></span> <span data-ttu-id="b746f-104">En este tema se resumen las actualizaciones y se proporcionan vínculos a información más detallada, si está disponible.</span><span class="sxs-lookup"><span data-stu-id="b746f-104">This topic summarizes the updates and provides links to more detailed information, where available.</span></span> <span data-ttu-id="b746f-105">SQLXML 4.0 SP1 proporciona mejoras adicionales para admitir los nuevos tipos de datos introducidos de [!INCLUDE[ssKatmai](../../includes/sskatmai-md.md)].</span><span class="sxs-lookup"><span data-stu-id="b746f-105">SQLXML 4.0 SP1 provides additional enhancements to support the new data types introduced in [!INCLUDE[ssKatmai](../../includes/sskatmai-md.md)].</span></span> <span data-ttu-id="b746f-106">En esta sección se incluyen los siguientes temas:</span><span class="sxs-lookup"><span data-stu-id="b746f-106">This topic includes the following subjects:</span></span>  
  
-   <span data-ttu-id="b746f-107">Instalar SQLXML 4.0 SP1</span><span class="sxs-lookup"><span data-stu-id="b746f-107">Installing SQLXML 4.0 SP1</span></span>  
  
-   <span data-ttu-id="b746f-108">Problemas de la instalación simultánea</span><span class="sxs-lookup"><span data-stu-id="b746f-108">Side-by-Side Installation Issues</span></span>  
  
-   <span data-ttu-id="b746f-109">SQLXML 4.0 y MSXML</span><span class="sxs-lookup"><span data-stu-id="b746f-109">SQLXML 4.0 and MSXML</span></span>  
  
-   <span data-ttu-id="b746f-110">Redistribuir SQLXML 4.0</span><span class="sxs-lookup"><span data-stu-id="b746f-110">Redistributing SQLXML 4.0</span></span>  
  
-   <span data-ttu-id="b746f-111">Compatibilidad con [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] Native Client</span><span class="sxs-lookup"><span data-stu-id="b746f-111">Support for [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] Native Client</span></span>  
  
-   <span data-ttu-id="b746f-112">Compatibilidad con los tipos de datos introducidos en [!INCLUDE[ssVersion2005](../../includes/ssversion2005-md.md)]</span><span class="sxs-lookup"><span data-stu-id="b746f-112">Support for Data Types Introduced in [!INCLUDE[ssVersion2005](../../includes/ssversion2005-md.md)]</span></span>  
  
-   <span data-ttu-id="b746f-113">Cambios de carga masiva XML en SQLXML 4.0</span><span class="sxs-lookup"><span data-stu-id="b746f-113">XML Bulk Load Changes for SQLXML 4.0</span></span>  
  
-   <span data-ttu-id="b746f-114">Cambios de claves del Registro en SQLXML 4.0</span><span class="sxs-lookup"><span data-stu-id="b746f-114">Registry Key Changes for SQLXML 4.0</span></span>  
  
-   <span data-ttu-id="b746f-115">Problemas de migración</span><span class="sxs-lookup"><span data-stu-id="b746f-115">Migration Issues</span></span>  
  
## <a name="installing-sqlxml-40-sp1"></a><span data-ttu-id="b746f-116">Instalar SQLXML 4.0 SP1</span><span class="sxs-lookup"><span data-stu-id="b746f-116">Installing SQLXML 4.0 SP1</span></span>  
 <span data-ttu-id="b746f-117">Antes de [!INCLUDE[ssKatmai](../../includes/sskatmai-md.md)], SQLXML 4.0 se comercializó junto con SQL Server y formó parte de la instalación predeterminada de todas las versiones de SQL Server, salvo SQL Server Express.</span><span class="sxs-lookup"><span data-stu-id="b746f-117">Before [!INCLUDE[ssKatmai](../../includes/sskatmai-md.md)], SQLXML 4.0 was released with SQL Server and was part of the default installation of all SQL Server versions except for SQL Server Express.</span></span> <span data-ttu-id="b746f-118">A partir de [!INCLUDE[ssKatmai](../../includes/sskatmai-md.md)], la versión más reciente de SQLXML (SQLXML 4.0 SP1) ya no está incluida en SQL Server.</span><span class="sxs-lookup"><span data-stu-id="b746f-118">Starting with [!INCLUDE[ssKatmai](../../includes/sskatmai-md.md)], the latest version of SQLXML (SQLXML 4.0 SP1) is no longer included in SQL Server.</span></span> <span data-ttu-id="b746f-119">Para instalar SQLXML 4,0 SP1, descárguelo desde la [Ubicación de instalación de sqlxml 4,0 SP1](https://www.microsoft.com/download/details.aspx?id=30403).</span><span class="sxs-lookup"><span data-stu-id="b746f-119">To install SQLXML 4.0 SP1, download it from [Install Location for SQLXML 4.0 SP1](https://www.microsoft.com/download/details.aspx?id=30403).</span></span>  
  
 <span data-ttu-id="b746f-120">Los archivos de SQLXML 4.0 SP1 se instalan en la ubicación siguiente:</span><span class="sxs-lookup"><span data-stu-id="b746f-120">The SQLXML 4.0 SP1 files are installed in the following location:</span></span>  
  
 `%PROGRAMFILES%\SQLXML 4.0\`  
  
> [!NOTE]  
>  <span data-ttu-id="b746f-121">Como parte del proceso de instalación de SQLXML 4.0, se realiza una configuración adecuada del Registro.</span><span class="sxs-lookup"><span data-stu-id="b746f-121">All appropriate registry settings for SQLXML 4.0 are made as part of the installation process.</span></span>  
  
 <span data-ttu-id="b746f-122">Para permitir que las aplicaciones SQLXML de 32 bits se ejecutan bajo Windows on Windows (WOW64) en los sistemas operativos Windows de 64 bits, ejecute el paquete SQLXML 4.0 SP1 de 64 bits, llamado sqlxml4.msi, que puede encontrar en el Centro de descarga.</span><span class="sxs-lookup"><span data-stu-id="b746f-122">To allow 32-bit SQLXML applications to run under Windows on Windows (WOW64) on 64-bit Windows operating systems, run the 64-bit SQLXML 4.0 SP1 package, named sqlxml4.msi, which can be found on the Download Center.</span></span>  
  
#### <a name="uninstalling-sqlxml-40-sp1"></a><span data-ttu-id="b746f-123">Desinstalar SQLXML 4.0 SP1</span><span class="sxs-lookup"><span data-stu-id="b746f-123">Uninstalling SQLXML 4.0 SP1</span></span>  
 <span data-ttu-id="b746f-124">Existen claves del Registro compartidas entre SQLXML 3.0 SP3, SQLXML 4.0 y SQLXML 4.0 SP1.</span><span class="sxs-lookup"><span data-stu-id="b746f-124">Shared registry keys exist between SQLXML 3.0 SP3, SQLXML 4.0 and SQLXML 4.0 SP1.</span></span> <span data-ttu-id="b746f-125">Si las versiones más recientes de SQLXML se desinstalan en el mismo equipo que contiene SQLXML 3.0 SP3, podría necesitar reinstalar SQLXML 3.0 SP3.</span><span class="sxs-lookup"><span data-stu-id="b746f-125">If the later versions of SQLXML are uninstalled on the same computer which contains SQLXML 3.0 SP3, you might need to reinstall SQLXML 3.0 SP3.</span></span>  
  
## <a name="side-by-side-installation-issues"></a><span data-ttu-id="b746f-126">Problemas de la instalación simultánea</span><span class="sxs-lookup"><span data-stu-id="b746f-126">Side-by-Side Installation Issues</span></span>  
 <span data-ttu-id="b746f-127">El proceso de instalación de SQLXML 4.0 no quita los archivos instalados con versiones anteriores de SQLXML.</span><span class="sxs-lookup"><span data-stu-id="b746f-127">The installation process for SQLXML 4.0 does not remove the files that were installed by earlier versions of SQLXML.</span></span> <span data-ttu-id="b746f-128">Por lo tanto, es posible que el equipo tenga archivos DLL para instalaciones de SQLXML de distinta versión.</span><span class="sxs-lookup"><span data-stu-id="b746f-128">Therefore, you can have DLLs for several different version-distinctive installations of SQLXML on your computer.</span></span> <span data-ttu-id="b746f-129">Puede ejecutar las instalaciones simultáneamente.</span><span class="sxs-lookup"><span data-stu-id="b746f-129">You can run the installations side-by-side.</span></span> <span data-ttu-id="b746f-130">SQLXML 4.0 incluye PROGID independientes y dependientes de la versión.</span><span class="sxs-lookup"><span data-stu-id="b746f-130">SQLXML 4.0 includes both version-independent and version-dependent PROGIDs.</span></span> <span data-ttu-id="b746f-131">Todas las aplicaciones de producción deben usar PROGID dependientes de la versión.</span><span class="sxs-lookup"><span data-stu-id="b746f-131">All production applications should use version-dependent PROGIDs.</span></span>  
  
## <a name="sqlxml-40-sp1-and-msxml"></a><span data-ttu-id="b746f-132">SQLXML 4.0 SP1 y MSXML</span><span class="sxs-lookup"><span data-stu-id="b746f-132">SQLXML 4.0 SP1 and MSXML</span></span>  
 <span data-ttu-id="b746f-133">SQLXML 4.0 no instala MSXML.</span><span class="sxs-lookup"><span data-stu-id="b746f-133">SQLXML 4.0 does not install MSXML.</span></span> <span data-ttu-id="b746f-134">SQLXML 4.0 utiliza MSXML 6.0, que se instala como parte de la instalación de [!INCLUDE[ssVersion2005](../../includes/ssversion2005-md.md)] o una instalación posterior.</span><span class="sxs-lookup"><span data-stu-id="b746f-134">SQLXML 4.0 uses MSXML 6.0, which is installed as part of the [!INCLUDE[ssVersion2005](../../includes/ssversion2005-md.md)] or later installation.</span></span>  
  
## <a name="redistributing-sqlxml-40-sp1"></a><span data-ttu-id="b746f-135">Redistribuir SQLXML 4.0 SP1</span><span class="sxs-lookup"><span data-stu-id="b746f-135">Redistributing SQLXML 4.0 SP1</span></span>  
 <span data-ttu-id="b746f-136">Puede distribuir SQLXML 4.0 SP1 mediante el paquete de instalación redistribuible.</span><span class="sxs-lookup"><span data-stu-id="b746f-136">You can distribute SQLXML 4.0 SP1 using the redistributable installer package.</span></span> <span data-ttu-id="b746f-137">Una manera de instalar varios paquetes en lo que al usuario le parece ser una instalación única es usar tecnología de encadenador y arranque.</span><span class="sxs-lookup"><span data-stu-id="b746f-137">One way to install multiple packages in what seems to the user to be a single installation is to use chainer and bootstrapper technology.</span></span> <span data-ttu-id="b746f-138">Para obtener más información, vea la sección Crear un paquete de arranque personalizado para Visual Studio 2005 y Agregar requisitos previos personalizados.</span><span class="sxs-lookup"><span data-stu-id="b746f-138">For more information, see Authoring a Custom Bootstrapper Package for Visual Studio 2005 and Adding Custom Prerequisites.</span></span>  
  
 <span data-ttu-id="b746f-139">Si su aplicación está diseñada para una plataforma distinta de aquella en la que se desarrolló, puede descargar versiones de sqlncli.msi para x64, Itanium y x86 en el Centro de descarga de Microsoft.</span><span class="sxs-lookup"><span data-stu-id="b746f-139">If your application targets a platform other than the one it was developed on, you can download versions of sqlncli.msi for x64, Itanium, and x86 from the Microsoft Download Center.</span></span>  
  
 <span data-ttu-id="b746f-140">También existen programas de instalación de redistribución independientes para MSXML 6.0 (msxml6.msi).</span><span class="sxs-lookup"><span data-stu-id="b746f-140">There are also separate redistribution installation programs for MSXML 6.0 (msxml6.msi).</span></span> <span data-ttu-id="b746f-141">Puede encontrarlos en el CD de instalación de [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] en la ubicación siguiente:</span><span class="sxs-lookup"><span data-stu-id="b746f-141">These can be found on the [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] installation CD in the following location:</span></span>  
  
 `%CD%\Setup\`  
  
 <span data-ttu-id="b746f-142">Estos archivos de instalación pueden utilizarse para instalar MSXML 6.0 directamente desde el CD.</span><span class="sxs-lookup"><span data-stu-id="b746f-142">These installation files can be used to install MSXML 6.0 directly from the CD.</span></span> <span data-ttu-id="b746f-143">También pueden utilizarse para redistribuir libremente MSXML 6.0 junto con SQLXML 4.0 SP1 con sus propias aplicaciones personalizadas.</span><span class="sxs-lookup"><span data-stu-id="b746f-143">They can also be used to freely redistribute MSXML 6.0 along with SQLXML 4.0 SP1 with your own custom applications.</span></span>  
  
 <span data-ttu-id="b746f-144">También necesitará redistribuir [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] Native Client si lo utiliza como proveedor de datos con la aplicación.</span><span class="sxs-lookup"><span data-stu-id="b746f-144">You will also need to redistribute [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] Native Client if you are using it as the data provider with your application.</span></span> <span data-ttu-id="b746f-145">Para obtener más información, vea [Instalar SQL Server Native Client](../native-client/applications/installing-sql-server-native-client.md).</span><span class="sxs-lookup"><span data-stu-id="b746f-145">For more information, see [Installing SQL Server Native Client](../native-client/applications/installing-sql-server-native-client.md).</span></span>  
  
## <a name="support-for-sql-server-native-client"></a><span data-ttu-id="b746f-146">Compatibilidad con SQL Server Native Client</span><span class="sxs-lookup"><span data-stu-id="b746f-146">Support for SQL Server Native Client</span></span>  
 <span data-ttu-id="b746f-147">SQLXML 4,0 es compatible con los proveedores de SQLOLEDB y [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] Native Client.</span><span class="sxs-lookup"><span data-stu-id="b746f-147">SQLXML 4.0 supports both the SQLOLEDB and [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] Native Client providers.</span></span> <span data-ttu-id="b746f-148">Se recomienda que use la misma versión del proveedor de [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] Native Client y que [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] Native Client se desarrolle para admitir los nuevos tipos de datos que se distribuyen en el servidor, como los `Date, Time` `DateTime2` `dateTimeOffset` tipos de datos, y en [!INCLUDE[ssKatmai](../../includes/sskatmai-md.md)] y compatibles con [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)] Native Client.</span><span class="sxs-lookup"><span data-stu-id="b746f-148">It is recommended that you use the same version of [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] Native Client provider and [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] because [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] Native Client is developed to support any new data types that ship in the server, such as the `Date, Time`, `DateTime2`, and `dateTimeOffset` data types in [!INCLUDE[ssKatmai](../../includes/sskatmai-md.md)] and supported by [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)] Native Client.</span></span>  
  
 [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] <span data-ttu-id="b746f-149">Native Client es una tecnología de acceso a datos introducida en [!INCLUDE[ssVersion2005](../../includes/ssversion2005-md.md)].</span><span class="sxs-lookup"><span data-stu-id="b746f-149">Native Client is a data access technology that was introduced in [!INCLUDE[ssVersion2005](../../includes/ssversion2005-md.md)].</span></span> <span data-ttu-id="b746f-150">Combina el proveedor SQLOLEDB y el controlador SQLODBC en una biblioteca de vínculos dinámicos (DLL) nativa, a la vez que ofrece una nueva funcionalidad independiente y distinta de Microsoft Data Access Components (MDAC).</span><span class="sxs-lookup"><span data-stu-id="b746f-150">It combines the SQLOLEDB Provider and the SQLODBC Driver into one native dynamic link library (DLL), while also providing new functionality that is separate and distinct from the Microsoft Data Access Components (MDAC).</span></span>  
  
 [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] <span data-ttu-id="b746f-151">Native Client puede utilizarse para crear nuevas aplicaciones o mejorar las aplicaciones existentes que necesitan aprovechar las características introducidas en [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] que no son compatibles con SQLOLEDB ni SQLODBC en MDAC y [!INCLUDE[msCoName](../../includes/msconame-md.md)] Windows.</span><span class="sxs-lookup"><span data-stu-id="b746f-151">Native Client can be used to create new applications or enhance existing applications that need to take advantage of features introduced in [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] that are not supported by SQLOLEDB and SQLODBC in MDAC and [!INCLUDE[msCoName](../../includes/msconame-md.md)] Windows.</span></span> <span data-ttu-id="b746f-152">Por ejemplo, es necesario usar [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] Native Client para las características SQLXML del lado cliente, como FOR XML, a fin de usar el tipo de datos `xml`.</span><span class="sxs-lookup"><span data-stu-id="b746f-152">For example, [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] Native Client is required for client-side SQLXML features, such as FOR XML, to use the `xml` data type.</span></span> <span data-ttu-id="b746f-153">Para obtener más información, vea [formato XML del lado cliente &#40;SQLXML 4,0&#41;](formatting/client-side-xml-formatting-sqlxml-4-0.md), [usar ado para ejecutar consultas SQLXML 4,0](using-ado-to-execute-sqlxml-4-0-queries.md)y [SQL Server Native Client programación](../native-client/sql-server-native-client-programming.md).</span><span class="sxs-lookup"><span data-stu-id="b746f-153">For more information, see [Client-side XML Formatting &#40;SQLXML 4.0&#41;](formatting/client-side-xml-formatting-sqlxml-4-0.md), [Using ADO to Execute SQLXML 4.0 Queries](using-ado-to-execute-sqlxml-4-0-queries.md), and [SQL Server Native Client Programming](../native-client/sql-server-native-client-programming.md).</span></span>  
  
> [!NOTE]  
>  <span data-ttu-id="b746f-154">SQLXML 4.0 no es totalmente compatible con versiones anteriores a SQLXML 3.0.</span><span class="sxs-lookup"><span data-stu-id="b746f-154">SQLXML 4.0 is not completely backward compatible with SQLXML 3.0.</span></span> <span data-ttu-id="b746f-155">Debido a algunas correcciones de errores y otros cambios funcionales, en especial la eliminación de la compatibilidad SQLXML ISAPI, no pueden utilizarse directorios virtuales de IIS con SQLXML 4.0.</span><span class="sxs-lookup"><span data-stu-id="b746f-155">Because of some bug fixes and other functional changes, particularly the removal of SQLXML ISAPI support, you cannot use IIS virtual directories with SQLXML 4.0.</span></span> <span data-ttu-id="b746f-156">Aunque la mayoría de las aplicaciones se ejecutarán con modificaciones menores, debe probarlas antes de pasarlas a producción con SQLXML 4.0.</span><span class="sxs-lookup"><span data-stu-id="b746f-156">Although most applications will run with minor modifications, you must test them before putting them into production with SQLXML 4.0.</span></span>  
  
## <a name="support-for-data-types-introduced-in-sql-server-2005-and-sql-server-2008"></a><span data-ttu-id="b746f-157">Compatibilidad con los tipos de datos en SQL Server 2005 y SQL Server 2008</span><span class="sxs-lookup"><span data-stu-id="b746f-157">Support for Data Types Introduced in SQL Server 2005 and SQL Server 2008</span></span>  
 [!INCLUDE[ssVersion2005](../../includes/ssversion2005-md.md)]<span data-ttu-id="b746f-158">presentó el `xml` tipo de datos y SQLXML 4,0 admite el `xml` tipo de datos.</span><span class="sxs-lookup"><span data-stu-id="b746f-158">introduced the `xml` data type, and SQLXML 4.0 supports the `xml` data type.</span></span> <span data-ttu-id="b746f-159">Para obtener más información, vea [compatibilidad con tipos de datos XML en SQLXML 4,0](xml-data-type-support-in-sqlxml-4-0.md).</span><span class="sxs-lookup"><span data-stu-id="b746f-159">For more information, see [xml Data Type Support in SQLXML 4.0](xml-data-type-support-in-sqlxml-4-0.md).</span></span>  
  
 <span data-ttu-id="b746f-160">Para obtener ejemplos sobre la forma de utilizar el tipo de datos `xml` en SQLXML al asignar vistas XML, cargar datos XML de forma masiva o ejecutar diagramas de actualización XML, vea los ejemplos que se incluyen en los temas siguientes.</span><span class="sxs-lookup"><span data-stu-id="b746f-160">For examples of how to use the `xml` data type in SQLXML when mapping XML views, bulk loading XML or executing XML updategrams, refer to examples provided in the following topics.</span></span>  
  
-   [<span data-ttu-id="b746f-161">Asignación predeterminada de elementos y atributos XSD a tablas y columnas</span><span class="sxs-lookup"><span data-stu-id="b746f-161">Default Mapping of XSD Elements and Attributes to Tables and Columns</span></span>](../sqlxml-annotated-xsd-schemas-using/default-mapping-of-xsd-elements-and-attributes-to-tables-and-columns-sqlxml-4-0.md)  
  
-   [<span data-ttu-id="b746f-162">Insertar datos con diagramas de actualización XML</span><span class="sxs-lookup"><span data-stu-id="b746f-162">Inserting Data by Using XML Updategrams</span></span>](../sqlxml-annotated-xsd-schemas-xpath-queries/updategrams/inserting-data-using-xml-updategrams-sqlxml-4-0.md)  
  
-   [<span data-ttu-id="b746f-163">Ejemplos de carga masiva de documentos XML</span><span class="sxs-lookup"><span data-stu-id="b746f-163">Examples of Bulk Loading XML Documents</span></span>](../sqlxml-annotated-xsd-schemas-xpath-queries/bulk-load-xml/xml-bulk-load-examples-sqlxml-4-0.md)  
  
 [!INCLUDE[ssKatmai](../../includes/sskatmai-md.md)]<span data-ttu-id="b746f-164">se introdujeron `Date, Time` los `DateTime2` tipos de datos, y **DateTimeOffset** .</span><span class="sxs-lookup"><span data-stu-id="b746f-164">introduced the `Date, Time`, `DateTime2`, and **DateTimeOffset** data types.</span></span> <span data-ttu-id="b746f-165">SQLXML 4.0 SP1 habilitará estos cuatro nuevos tipos de datos como tipos escalares integrados cuando se usan con el proveedor OLE DB (SQLNCLI.11) de [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)] Native Client, que se distribuye con [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)].</span><span class="sxs-lookup"><span data-stu-id="b746f-165">SQLXML 4.0 SP1 will enable these four new data types as built-in scalar types when used with [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)] Native Client OLE DB Provider (SQLNCLI11), which ships in [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)].</span></span>  
  
## <a name="xml-bulk-load-changes-for-sqlxml-40-sp1"></a><span data-ttu-id="b746f-166">Cambios de carga masiva XML en SQLXML 4.0 SP1</span><span class="sxs-lookup"><span data-stu-id="b746f-166">XML Bulk Load Changes for SQLXML 4.0 SP1</span></span>  
  
-   <span data-ttu-id="b746f-167">En SQLXML 4,0, el campo de desbordamiento SchemaGen se crea con el `xml` tipo de datos.</span><span class="sxs-lookup"><span data-stu-id="b746f-167">For SQLXML 4.0, the SchemaGen overflow field is created using the `xml` data type.</span></span> <span data-ttu-id="b746f-168">Para obtener más información, vea [SQL Server modelo de objetos de carga masiva XML](../sqlxml-annotated-xsd-schemas-xpath-queries/bulk-load-xml/sql-server-xml-bulk-load-object-model-sqlxml-4-0.md).</span><span class="sxs-lookup"><span data-stu-id="b746f-168">For more information, see [SQL Server XML Bulk Load Object Model](../sqlxml-annotated-xsd-schemas-xpath-queries/bulk-load-xml/sql-server-xml-bulk-load-object-model-sqlxml-4-0.md).</span></span>  
  
-   <span data-ttu-id="b746f-169">Si previamente ha creado aplicaciones de [!INCLUDE[msCoName](../../includes/msconame-md.md)] Visual Basic y desea usar SQLXML 4.0, debe volver a compilar la aplicación con referencia a Xblkld4.dll.</span><span class="sxs-lookup"><span data-stu-id="b746f-169">If you have previously created [!INCLUDE[msCoName](../../includes/msconame-md.md)] Visual Basic applications and you want to use SQLXML 4.0, you must recompile the application with reference to Xblkld4.dll.</span></span>  
  
-   <span data-ttu-id="b746f-170">En aplicaciones de Visual Basic Scripting Edition, deberá registrar el archivo DLL que desee utilizar.</span><span class="sxs-lookup"><span data-stu-id="b746f-170">For Visual Basic Scripting Edition applications, you must register the DLL you want to use.</span></span> <span data-ttu-id="b746f-171">En el ejemplo siguiente, si especifica PROGID independientes de la versión, la aplicación dependerá del último archivo DLL registrado:</span><span class="sxs-lookup"><span data-stu-id="b746f-171">In the following example, if you specify version-independent PROGIDs, the application depends on the last registered DLL:</span></span>  
  
    ```  
    set objBulkLoad = CreateObject("SQLXMLBulkLoad.SQLXMLBulkLoad")   
    ```  
  
    > [!NOTE]  
    >  <span data-ttu-id="b746f-172">El PROGID dependiente de la versión es SQLXMLBulkLoad.SQLXMLBulkLoad.4.0.</span><span class="sxs-lookup"><span data-stu-id="b746f-172">The version-dependent PROGID is SQLXMLBulkLoad.SQLXMLBulkLoad.4.0.</span></span>  
  
## <a name="registry-key-changes-for-sqlxml-40"></a><span data-ttu-id="b746f-173">Cambios de claves del Registro en SQLXML 4.0</span><span class="sxs-lookup"><span data-stu-id="b746f-173">Registry Key Changes for SQLXML 4.0</span></span>  
 <span data-ttu-id="b746f-174">En SQLXML 4.0, las claves del Registro han cambiado a los siguientes valores con respecto a versiones anteriores:</span><span class="sxs-lookup"><span data-stu-id="b746f-174">In SQLXML 4.0, the registry keys have changed from the earlier releases to the following:</span></span>  
  
 <span data-ttu-id="b746f-175">HKEY_LOCAL_MACHINE\SOFTWARE\Microsoft\MSSQLServer\Client\SQLXML4\TemplateCacheSize</span><span class="sxs-lookup"><span data-stu-id="b746f-175">HKEY_LOCAL_MACHINE\SOFTWARE\Microsoft\MSSQLServer\Client\SQLXML4\TemplateCacheSize</span></span>  
  
 <span data-ttu-id="b746f-176">HKEY_LOCAL_MACHINE\SOFTWARE\Microsoft\MSSQLServer\Client\SQLXML4\SchemaCacheSize</span><span class="sxs-lookup"><span data-stu-id="b746f-176">HKEY_LOCAL_MACHINE\SOFTWARE\Microsoft\MSSQLServer\Client\SQLXML4\SchemaCacheSize</span></span>  
  
 <span data-ttu-id="b746f-177">Debe cambiar los valores si desea que estas claves estén vigentes para SQLXML 4.0.</span><span class="sxs-lookup"><span data-stu-id="b746f-177">You must change the settings if you want these keys to be in effect for SQLXML 4.0.</span></span>  
  
 <span data-ttu-id="b746f-178">Además, SQLXML 4.0 introduce las siguientes claves del Registro:</span><span class="sxs-lookup"><span data-stu-id="b746f-178">In addition, SQLXML 4.0 introduces the following registry keys:</span></span>  
  
-   `HKEY_LOCAL_MACHINE\Software\Microsoft\MSSQLServer\Client\SQLXML4\ReportErrorsWithSQLInfo`  
  
     <span data-ttu-id="b746f-179">De forma predeterminada, SQLXML 4.0 devuelve la información de errores nativos que proporcionan OLE DB y [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] en lugar de un error SQLXML de alto nivel (como sucedía en versiones anteriores de SQLXML).</span><span class="sxs-lookup"><span data-stu-id="b746f-179">By default, SQLXML 4.0 returns native error information provided by OLE DB and [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] instead of a high-level SQLXML error (as was the case in earlier versions of SQLXML).</span></span> <span data-ttu-id="b746f-180">Si no desea usar este comportamiento, el valor de esta clave del Registro de tipo DWORD debe establecerse en 0 (el valor predeterminado es 1).</span><span class="sxs-lookup"><span data-stu-id="b746f-180">If you do not want this behavior, the value of this registry key of type DWORD must be set to 0 (default is 1).</span></span>  
  
-   <span data-ttu-id="b746f-181">HKEY_LOCAL_MACHINE\Software\Microsoft\MSSQLServer\Client\SQLXML4\FORXML_GenerateGUIDBraces</span><span class="sxs-lookup"><span data-stu-id="b746f-181">HKEY_LOCAL_MACHINE\Software\Microsoft\MSSQLServer\Client\SQLXML4\FORXML_GenerateGUIDBraces</span></span>  
  
     <span data-ttu-id="b746f-182">De forma predeterminada, SQLXML devuelve los valores GUID de SQL Server sin incluirlos entre llaves.</span><span class="sxs-lookup"><span data-stu-id="b746f-182">By default, SQLXML return SQL Server GUID values without the enclosing braces.</span></span> <span data-ttu-id="b746f-183">Si desea que el valor GUID se devuelva con las llaves (por ejemplo, {*some GUID*}), el valor de esta clave del registro debe establecerse en 1 (el valor predeterminado es 0).</span><span class="sxs-lookup"><span data-stu-id="b746f-183">If you want the GUID value returned with the braces (for example, {*some GUID*}), value of this registry key must be set to 1 (default is 0).</span></span>  
  
-   <span data-ttu-id="b746f-184">HKEY_LOCAL_MACHINE\Software\Microsoft\MSSQLServer\Client\SQLXML4\SQL2000CompatMode</span><span class="sxs-lookup"><span data-stu-id="b746f-184">HKEY_LOCAL_MACHINE\Software\Microsoft\MSSQLServer\Client\SQLXML4\SQL2000CompatMode</span></span>  
  
     <span data-ttu-id="b746f-185">De forma predeterminada, cuando el analizador XML carga los datos, los espacios en blanco se normalizan conforme a las reglas de XML 1.0.</span><span class="sxs-lookup"><span data-stu-id="b746f-185">By default, when the XML parser loads the data, white spaces are normalized according to the XML 1.0 rules.</span></span> <span data-ttu-id="b746f-186">Esto provoca la pérdida de algunos caracteres de espacio en blanco en los datos.</span><span class="sxs-lookup"><span data-stu-id="b746f-186">This results in loss of some of the white space characters in your data.</span></span> <span data-ttu-id="b746f-187">De este modo, es posible que la representación textual de los datos no sea la misma después del análisis, aunque semánticamente los datos sean los mismos.</span><span class="sxs-lookup"><span data-stu-id="b746f-187">Thus, the textual representation of your data may not be the same after parsing, although semantically the data is the same.</span></span>  
  
     <span data-ttu-id="b746f-188">Esta clave se incluye para que pueda elegir si desea mantener los caracteres de espacio en blanco en los datos.</span><span class="sxs-lookup"><span data-stu-id="b746f-188">This key is introduced so that you can choose to keep the white space characters in the data.</span></span> <span data-ttu-id="b746f-189">Si agrega esta clave del Registro y establece su valor en 0, los caracteres de espacio en blanco (LF, CR y tabulación) del código XML se devuelven codificados en el caso de los valores de atributo.</span><span class="sxs-lookup"><span data-stu-id="b746f-189">If you add this registry key and set its value to 0, white space characters (LF, CR, and tab) in the XML are returned encoded in case of attribute values.</span></span> <span data-ttu-id="b746f-190">En el caso de los valores de elemento, solamente CR se devuelve codificado.</span><span class="sxs-lookup"><span data-stu-id="b746f-190">In case of element values, only CR is returned encoded.</span></span>  
  
     <span data-ttu-id="b746f-191">Por ejemplo:</span><span class="sxs-lookup"><span data-stu-id="b746f-191">For example:</span></span>  
  
    ```  
    CREATE TABLE T( Col1 int, Col2 nvarchar(100));  
    GO  
    -- Insert data with tab, line feed and carriage return).  
    INSERT INTO T VALUES (1, 'This is a tab    . This is a line feed and CR   
     more text');  
    GO  
    -- Test this query (without the registry key).  
    SELECT * FROM T   
    FOR XML AUTO;  
    -- This is the result (no encoding of special characters).  
    <?xml version="1.0" encoding="utf-8" ?>  
    <r>  
      <T Col1="1"   
         Col2="This is a tab    . This is a line feed and CR   
     more text"/>  
    </r>  
    -- Now add registry key with value 0 and execute the query again.  
    -- Note the encoding for carriage return, line-feed and tab in the attribute value.  
    <?xml version="1.0" encoding="utf-8" ?>  
    <r>  
      <T Col1="1"   
         Col2="This is a tab    . This is a line feed and CR   
     more text"/>  
    </r>  
  
    -- Update the query and specify ELEMENTS directive  
    SELECT * FROM T  
    FOR XML AUTO, ELEMENTS  
    -- Only the carriage return is returned encoded.  
    <?xml version="1.0" encoding="utf-8" ?>  
    <r>  
       <T>  
          <Col1>1</Col1>  
          <Col2>This is a tab    . This is a line feed and CR   
     more text</Col2>  
       </T>  
    </r>  
    ```  
  
## <a name="migration-issues"></a><span data-ttu-id="b746f-192">Problemas de migración</span><span class="sxs-lookup"><span data-stu-id="b746f-192">Migration Issues</span></span>  
 <span data-ttu-id="b746f-193">A continuación se indican una serie de problemas que pueden afectar a la migración de aplicaciones SQLXML heredadas a SQLXML 4.0.</span><span class="sxs-lookup"><span data-stu-id="b746f-193">The following are issues that could impact migration of your legacy SQLXML applications to SQLXML 4.0.</span></span>  
  
### <a name="ado-and-sqlxml-40-queries"></a><span data-ttu-id="b746f-194">Consultas SQLXML 4.0 y ADO</span><span class="sxs-lookup"><span data-stu-id="b746f-194">ADO and SQLXML 4.0 Queries</span></span>  
 <span data-ttu-id="b746f-195">En versiones anteriores de SQLXML, se proporcionaba compatibilidad para la ejecución de consultas basadas en URL mediante el uso de directorios virtuales de IIS y el filtro SQLXML ISAPI.</span><span class="sxs-lookup"><span data-stu-id="b746f-195">In earlier versions of SQLXML, support for URL-based query execution using IIS virtual directories and the SQLXML ISAPI filter was provided.</span></span> <span data-ttu-id="b746f-196">En aplicaciones que utilizan SQLXML 4.0, esta compatibilidad ya no está disponible.</span><span class="sxs-lookup"><span data-stu-id="b746f-196">For applications that use SQLXML 4.0, this support is no longer available.</span></span>  
  
 <span data-ttu-id="b746f-197">Ahora, las consultas, plantillas y diagramas de actualización SQLXML pueden ejecutarse mediante las extensiones SQLXML a Objetos de datos ActiveX (ADO), que se introdujeron por primera vez en Microsoft Data Access Components (MDAC) 2.6 y versiones posteriores.</span><span class="sxs-lookup"><span data-stu-id="b746f-197">Instead, SQLXML queries, templates, and updategrams can be executed by using the SQLXML extensions to ActiveX Data Objects (ADO) first introduced in Microsoft Data Access Components (MDAC) 2.6 and later.</span></span>  
  
 <span data-ttu-id="b746f-198">Para obtener más información, vea [usar ado para ejecutar consultas SQLXML 4,0](using-ado-to-execute-sqlxml-4-0-queries.md).</span><span class="sxs-lookup"><span data-stu-id="b746f-198">For more information, see [Using ADO to Execute SQLXML 4.0 Queries](using-ado-to-execute-sqlxml-4-0-queries.md).</span></span>  
  
### <a name="supportability-for-sqlxml-30-isapi-and-data-types-introduced-in-sql-server-2005"></a><span data-ttu-id="b746f-199">Compatibilidad con SQLXML 3.0 ISAPI y tipos de datos introducidos en SQL Server 2005</span><span class="sxs-lookup"><span data-stu-id="b746f-199">Supportability for SQLXML 3.0 ISAPI and Data Types Introduced in SQL Server 2005</span></span>  
 <span data-ttu-id="b746f-200">Dado que la compatibilidad con ISAPI se ha quitado de SQLXML 4,0, si la solución requiere las características de tipos de datos mejoradas introducidas en, como [!INCLUDE[ssVersion2005](../../includes/ssversion2005-md.md)] el [tipo de datos XML](/sql/t-sql/xml/xml-transact-sql) o los [tipos de datos definidos por el usuario (UDT)](../../relational-databases/clr-integration-database-objects-user-defined-types/clr-user-defined-types.md) y el acceso basado en Web, deberá usar otra solución como [las clases administradas de SQLXML](../sqlxml-annotated-xsd-schemas-xpath-queries/net-framework-classes/sqlxml-4-0-net-framework-support-managed-classes.md) u otro tipo de controlador http, como los servicios Web XML nativos 2005 SQL Server para</span><span class="sxs-lookup"><span data-stu-id="b746f-200">Because ISAPI support has been removed from SQLXML 4.0, if your solution requires the enhanced data typing features introduced in [!INCLUDE[ssVersion2005](../../includes/ssversion2005-md.md)] such as the [xml data type](/sql/t-sql/xml/xml-transact-sql) or [user-defined data types (UDTs)](../../relational-databases/clr-integration-database-objects-user-defined-types/clr-user-defined-types.md) and Web-based access, you will need to use another solution such as [SQLXML managed classes](../sqlxml-annotated-xsd-schemas-xpath-queries/net-framework-classes/sqlxml-4-0-net-framework-support-managed-classes.md) or another type of HTTP handler, such as Native XML Web Services for SQL Server 2005.</span></span>  
  
 <span data-ttu-id="b746f-201">Como alternativa, si no necesita estas extensiones de tipo, puede seguir usando SQLXML 3,0 para conectarse a las instalaciones de [!INCLUDE[ssVersion2005](../../includes/ssversion2005-md.md)] y [!INCLUDE[ssKatmai](../../includes/sskatmai-md.md)] .</span><span class="sxs-lookup"><span data-stu-id="b746f-201">Alternately, if you do not require these type extensions, you can continue to use SQLXML 3.0 to connect to [!INCLUDE[ssVersion2005](../../includes/ssversion2005-md.md)] and [!INCLUDE[ssKatmai](../../includes/sskatmai-md.md)] installations.</span></span> <span data-ttu-id="b746f-202">La compatibilidad con SQLXML 3.0 ISAPI funcionará con estas versiones posteriores, pero no admitirá ni reconocerá los tipos de datos `xml` y UDT introducidos en [!INCLUDE[ssVersion2005](../../includes/ssversion2005-md.md)].</span><span class="sxs-lookup"><span data-stu-id="b746f-202">The SQLXML 3.0 ISAPI support will work against these later versions but does not support or recognize the `xml` data type or UDT type support introduced in [!INCLUDE[ssVersion2005](../../includes/ssversion2005-md.md)].</span></span>  
  
### <a name="xml-bulk-load-security-changes-for-temporary-files"></a><span data-ttu-id="b746f-203">Cambios de seguridad de la carga masiva XML para archivos temporales</span><span class="sxs-lookup"><span data-stu-id="b746f-203">XML Bulk Load Security Changes for Temporary Files</span></span>  
 <span data-ttu-id="b746f-204">En SQLXML 4.0 y [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)], los permisos de archivo de carga masiva XML se conceden al usuario que ejecuta la operación de carga masiva.</span><span class="sxs-lookup"><span data-stu-id="b746f-204">For SQLXML 4.0 and [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)], XML Bulk Load file permissions are granted to the user executing the bulk load operation.</span></span> <span data-ttu-id="b746f-205">Los permisos de lectura y escritura se heredan del sistema de archivos.</span><span class="sxs-lookup"><span data-stu-id="b746f-205">Read and Write permissions are inherited from the file system.</span></span> <span data-ttu-id="b746f-206">En versiones anteriores de SQLXML y SQL Server, la carga masiva XML en SQLXML creaba archivos temporales que no estaban protegidos y que podía leer cualquier usuario.</span><span class="sxs-lookup"><span data-stu-id="b746f-206">In previous releases of SQLXML and SQL Server, XML Bulk Load under SQLXML would create temporary files that were not secured and could be readable by anyone.</span></span>  
  
### <a name="migration-issues-for-client-side-for-xml"></a><span data-ttu-id="b746f-207">Problemas de migración en consultas FOR XML del lado cliente</span><span class="sxs-lookup"><span data-stu-id="b746f-207">Migration Issues for Client-Side FOR XML</span></span>  
 <span data-ttu-id="b746f-208">Debido a los cambios en el motor de ejecución, [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] puede devolver valores diferentes en los metadatos de una tabla base que se devolverían si la consulta for XML se ejecutara en [!INCLUDE[ssVersion2000](../../includes/ssversion2000-md.md)] .</span><span class="sxs-lookup"><span data-stu-id="b746f-208">Due to changes in the execution engine, [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] might return different values in the metadata for a base table than would be returned if the FOR XML query was executed under [!INCLUDE[ssVersion2000](../../includes/ssversion2000-md.md)].</span></span> <span data-ttu-id="b746f-209">En los casos en los que esto ocurre, el formato del lado cliente de los resultados de la consulta FOR XML será diferente según la versión en la que se ejecute la consulta.</span><span class="sxs-lookup"><span data-stu-id="b746f-209">In cases where this occurs, client-side formatting of the FOR XML query results will have differing output depending on which version the query is run against.</span></span>  
  
 <span data-ttu-id="b746f-210">Si una consulta FOR XML se ejecuta del lado cliente utilizando SQLXML 3.0 en una columna de tipo de datos `xml`, los datos de los resultados se devolverán como una cadena con entidades.</span><span class="sxs-lookup"><span data-stu-id="b746f-210">If a FOR XML query is executed client-side using SQLXML 3.0 over an `xml` data type column, the data in the results will come back as a fully entitized string.</span></span> <span data-ttu-id="b746f-211">En SQLXML 4.0, si se especifica [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] Native Client (SQLNCLI11) como proveedor, los datos se devolverán como XML.</span><span class="sxs-lookup"><span data-stu-id="b746f-211">In SQLXML 4.0, if the [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] Native Client (SQLNCLI11) is specified as the provider, the data will be returned as XML.</span></span>  
  
  
