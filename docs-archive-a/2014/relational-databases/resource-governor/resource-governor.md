---
title: Regulador de recursos | Microsoft Docs
ms.custom: ''
ms.date: 06/13/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: performance
ms.topic: conceptual
helpviewer_keywords:
- Resource Governor, overview
- Resource Governor
ms.assetid: 2bc89b66-e801-45ba-b30d-8ed197052212
author: MikeRayMSFT
ms.author: mikeray
ms.openlocfilehash: 7660446a176b9535883a001318c8f8fc981f99c1
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 08/04/2020
ms.locfileid: "87745683"
---
# <a name="resource-governor"></a><span data-ttu-id="43618-102">regulador de recursos</span><span class="sxs-lookup"><span data-stu-id="43618-102">Resource Governor</span></span>
  <span data-ttu-id="43618-103">El regulador de recursos de [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] es una característica que puede usarse para administrar la carga de trabajo y el consumo de recursos del sistema de [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)].</span><span class="sxs-lookup"><span data-stu-id="43618-103">[!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] Resource Governor is a feature than you can use to manage [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] workload and system resource consumption.</span></span> <span data-ttu-id="43618-104">Resource Governor permite especificar la cantidad máxima de CPU, E/S física y memoria que pueden usar las solicitudes de aplicación entrantes.</span><span class="sxs-lookup"><span data-stu-id="43618-104">Resource Governor enables you to specify limits on the amount of CPU, physical IO, and memory that incoming application requests can use.</span></span>  
  
## <a name="benefits-of-resource-governor"></a><span data-ttu-id="43618-105">Ventajas del regulador de recursos</span><span class="sxs-lookup"><span data-stu-id="43618-105">Benefits of Resource Governor</span></span>  
 <span data-ttu-id="43618-106">El regulador de recursos que permite administrar las cargas de trabajo y los recursos de [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] mediante la especificación de los límites del consumo de recursos por solicitudes entrantes.</span><span class="sxs-lookup"><span data-stu-id="43618-106">Resource Governor enables you to manage [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] workloads and resources by specifying limits on resource consumption by incoming requests.</span></span> <span data-ttu-id="43618-107">En el contexto del Regulador de recursos, la carga de trabajo es un conjunto de consultas o solicitudes de dimensiones similares que pueden (y deberían) tratarse como una entidad única.</span><span class="sxs-lookup"><span data-stu-id="43618-107">In the Resource Governor context, workload is a set of similarly sized queries or requests that can, and should be, treated as a single entity.</span></span> <span data-ttu-id="43618-108">No se trata de un requisito, pero cuanto más uniforme es el modelo del uso de recursos de una carga de trabajo, mayores son las ventajas que pueden obtenerse del Regulador de recursos.</span><span class="sxs-lookup"><span data-stu-id="43618-108">This is not a requirement, but the more uniform the resource usage pattern of a workload is, the more benefit you are likely to derive from Resource Governor.</span></span> <span data-ttu-id="43618-109">Los límites sobre los recursos pueden reconfigurarse en tiempo real con un impacto mínimo sobre las cargas de trabajo que se están ejecutando.</span><span class="sxs-lookup"><span data-stu-id="43618-109">Resource limits can be reconfigured in real time with minimal impact on workloads that are executing.</span></span>  
  
 <span data-ttu-id="43618-110">En un entorno donde varias cargas de trabajo distintas están presentes en el mismo servidor, el Regulador de recursos permite diferenciar estas cargas de trabajo y asignar los recursos compartidos a medida que se soliciten, en función de los límites que se especifiquen.</span><span class="sxs-lookup"><span data-stu-id="43618-110">In an environment where multiple distinct workloads are present on the same server, Resource Governor enables you to differentiate these workloads and allocate shared resources as they are requested, based on the limits that you specify.</span></span> <span data-ttu-id="43618-111">Estos recursos son CPU, E/S física y memoria.</span><span class="sxs-lookup"><span data-stu-id="43618-111">These resources are CPU, physical IO, and memory.</span></span>  
  
 <span data-ttu-id="43618-112">El uso del regulador de recursos permite:</span><span class="sxs-lookup"><span data-stu-id="43618-112">By using Resource Governor, you can:</span></span>  
  
-   <span data-ttu-id="43618-113">Proporcionar aislamiento de recursos y multiempresa cuando una sola instancia de SQL Server suministra servicios a cargas de trabajo de varios clientes.</span><span class="sxs-lookup"><span data-stu-id="43618-113">Provide multitenancy and resource isolation on single instances of SQL Server that serve multiple client workloads.</span></span> <span data-ttu-id="43618-114">Es decir, puede repartir los recursos disponibles en un servidor entre las cargas de trabajo y minimizar los problemas que pueden aparecer cuando las cargas de trabajo compiten por los recursos.</span><span class="sxs-lookup"><span data-stu-id="43618-114">That is, you can divide the available resources on a server among the workloads and minimize the problems that can occur when workloads compete for resources.</span></span>  
  
-   <span data-ttu-id="43618-115">Proporcionar un rendimiento predecible y cumplir los contratos de nivel de servicio para los distintos inquilinos de carga de trabajo en un entorno multiusuario y con varias cargas de trabajo.</span><span class="sxs-lookup"><span data-stu-id="43618-115">Provide predictable performance and support SLAs for workload tenants in a multi-workload and multi-user environment.</span></span>  
  
-   <span data-ttu-id="43618-116">Aislar y limitar las consultas descontroladas o regular los recursos de E/S para operaciones como DBCC CHECKDB que pueden saturar el subsistema de E/S y afectar negativamente a las otras cargas de trabajo.</span><span class="sxs-lookup"><span data-stu-id="43618-116">Isolate and limit runaway queries or throttle IO resources for operations such as DBCC CHECKDB that can saturate the IO subsystem and negatively impact other workloads.</span></span>  
  
-   <span data-ttu-id="43618-117">Agregar un seguimiento detallado de recursos para los reembolsos por uso de recursos y proporcionar una facturación predecible a los clientes de los recursos de servidor.</span><span class="sxs-lookup"><span data-stu-id="43618-117">Add fine-grained resource tracking for resource usage chargebacks and provide predictable billing to the consumers of the server resources.</span></span>  
  
## <a name="resource-governor-constraints"></a><span data-ttu-id="43618-118">Restricciones del Regulador de recursos</span><span class="sxs-lookup"><span data-stu-id="43618-118">Resource Governor Constraints</span></span>  
 <span data-ttu-id="43618-119">Esta versión del Regulador de recursos tiene las restricciones siguientes:</span><span class="sxs-lookup"><span data-stu-id="43618-119">This release of Resource Governor has the following constraints:</span></span>  
  
-   <span data-ttu-id="43618-120">La administración de recursos se limita a [!INCLUDE[ssDEnoversion](../../includes/ssdenoversion-md.md)].</span><span class="sxs-lookup"><span data-stu-id="43618-120">Resource management is limited to the [!INCLUDE[ssDEnoversion](../../includes/ssdenoversion-md.md)].</span></span> <span data-ttu-id="43618-121">L Regulador de recursos no se puede utilizar para [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)], [!INCLUDE[ssISnoversion](../../includes/ssisnoversion-md.md)]y [!INCLUDE[ssRSnoversion](../../includes/ssrsnoversion-md.md)].</span><span class="sxs-lookup"><span data-stu-id="43618-121">Resource Governor can not be used for [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)], [!INCLUDE[ssISnoversion](../../includes/ssisnoversion-md.md)], and [!INCLUDE[ssRSnoversion](../../includes/ssrsnoversion-md.md)].</span></span>  
  
-   <span data-ttu-id="43618-122">No hay ninguna supervisión o administración de las cargas de trabajo entre las instancias de SQL Server.</span><span class="sxs-lookup"><span data-stu-id="43618-122">There is no workload monitoring or workload management between SQL Server instances.</span></span>  
  
-   <span data-ttu-id="43618-123">El Regulador de recursos puede administrar las cargas de trabajo de OLTP pero estos tipos de consultas, que son normalmente muy cortas en duración, no siempre ocupan la CPU el tiempo suficiente como para aplicar los controles de ancho de banda.</span><span class="sxs-lookup"><span data-stu-id="43618-123">Resource Governor can manage OLTP workloads but these types of queries, which are typically very short in duration, are not always on the CPU long enough to apply bandwidth controls.</span></span> <span data-ttu-id="43618-124">Este hecho puede sesgar las estadísticas obtenidas para el porcentaje de uso de la CPU.</span><span class="sxs-lookup"><span data-stu-id="43618-124">This may skew in the statistics returned for CPU usage %.</span></span>  
  
-   <span data-ttu-id="43618-125">La capacidad de regular la E/S física solo se aplica a las operaciones de usuario y no a las tareas del sistema.</span><span class="sxs-lookup"><span data-stu-id="43618-125">The ability to govern physical IO only applies to user operations and not system tasks.</span></span> <span data-ttu-id="43618-126">Las tareas del sistema incluyen operaciones de escritura en el registro de transacciones y operaciones diferidas de E/S de escritura.</span><span class="sxs-lookup"><span data-stu-id="43618-126">System tasks include write operations to the transaction log and Lazy Writer IO operations.</span></span> <span data-ttu-id="43618-127">El regulador de recursos se aplica principalmente a las operaciones de lectura de usuario porque la mayoría de las operaciones de escritura suelen ser realizadas por tareas del sistema.</span><span class="sxs-lookup"><span data-stu-id="43618-127">The Resource Govenor applies primarily to user read operations because most write operations are typically performed by system tasks.</span></span>  
  
-   <span data-ttu-id="43618-128">No puede establecer umbrales de E/S en el grupo de recursos de servidor interno.</span><span class="sxs-lookup"><span data-stu-id="43618-128">You cannot set IO thresholds on the internal resource pool.</span></span>  
  
## <a name="resource-concepts"></a><span data-ttu-id="43618-129">Conceptos de recursos</span><span class="sxs-lookup"><span data-stu-id="43618-129">Resource Concepts</span></span>  
 <span data-ttu-id="43618-130">Los tres conceptos siguientes son fundamentales para comprender y usar el regulador de recursos:</span><span class="sxs-lookup"><span data-stu-id="43618-130">The following three concepts are fundamental to understanding and using Resource Governor:</span></span>  
  
-   <span data-ttu-id="43618-131">**Grupos de recursos de servidor.**</span><span class="sxs-lookup"><span data-stu-id="43618-131">**Resource pools.**</span></span> <span data-ttu-id="43618-132">Un grupo de recursos de servidor representa los recursos físicos del servidor.</span><span class="sxs-lookup"><span data-stu-id="43618-132">A resource pool, represents the physical resources of the server.</span></span> <span data-ttu-id="43618-133">Puede pensar en un grupo como en una instancia virtual de [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] dentro de una instancia de [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] .</span><span class="sxs-lookup"><span data-stu-id="43618-133">You can think of a pool as a virtual [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] instance inside of a [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] instance.</span></span> <span data-ttu-id="43618-134">Cuando se instala [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] , se crean dos grupos de recursos de servidor (interno y predeterminado).</span><span class="sxs-lookup"><span data-stu-id="43618-134">Two resource pools (internal and default) are created when [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] is installed.</span></span> <span data-ttu-id="43618-135">El regulador de recursos también admite grupos de recursos de servidor definidos por el usuario.</span><span class="sxs-lookup"><span data-stu-id="43618-135">Resource Governor also supports user-defined resource pools.</span></span> <span data-ttu-id="43618-136">Para más información, consulte [Resource Governor Resource Pool](resource-governor-resource-pool.md).</span><span class="sxs-lookup"><span data-stu-id="43618-136">For more information, see [Resource Governor Resource Pool](resource-governor-resource-pool.md).</span></span>  
  
-   <span data-ttu-id="43618-137">**Grupos de carga de trabajo.**</span><span class="sxs-lookup"><span data-stu-id="43618-137">**Workload groups.**</span></span> <span data-ttu-id="43618-138">Un grupo de cargas de trabajo actúa como un contenedor de las solicitudes de sesión que tienen criterios de clasificación similares.</span><span class="sxs-lookup"><span data-stu-id="43618-138">A workload group serves as a container for session requests that have similar classification criteria.</span></span> <span data-ttu-id="43618-139">Una carga de trabajo permite la supervisión agregada de las sesiones y define directivas para estas.</span><span class="sxs-lookup"><span data-stu-id="43618-139">A workload allows for aggregate monitoring of the sessions, and defines policies for the sessions.</span></span> <span data-ttu-id="43618-140">Cada grupo de cargas de trabajo pertenece a un grupo de recursos de servidor.</span><span class="sxs-lookup"><span data-stu-id="43618-140">Each workload group is in a resource pool.</span></span> <span data-ttu-id="43618-141">Cuando se instala [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] , se crean dos grupos de cargas de trabajo (interno y predeterminado) y se asignan a sus grupos de recursos de servidor correspondientes.</span><span class="sxs-lookup"><span data-stu-id="43618-141">Two workload groups (internal and default) are created and mapped to their corresponding resource pools when [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] is installed.</span></span> <span data-ttu-id="43618-142">El regulador de recursos también admite grupos de cargas de trabajo definidos por el usuario.</span><span class="sxs-lookup"><span data-stu-id="43618-142">Resource Governor also supports user-defined workload groups.</span></span> <span data-ttu-id="43618-143">Para obtener más información, consulte [Resource Governor Workload Group](resource-governor-workload-group.md).</span><span class="sxs-lookup"><span data-stu-id="43618-143">For more information see, [Resource Governor Workload Group](resource-governor-workload-group.md).</span></span>  
  
-   <span data-ttu-id="43618-144">**Clasificación.**</span><span class="sxs-lookup"><span data-stu-id="43618-144">**Classification.**</span></span> <span data-ttu-id="43618-145">El proceso de clasificación asigna las sesiones de entrada a cada grupo de cargas de trabajo según las características de la sesión.</span><span class="sxs-lookup"><span data-stu-id="43618-145">The Classification process assigns incoming sessions to a workload group based on the characteristics of the session.</span></span> <span data-ttu-id="43618-146">Puede adaptar la lógica de clasificación escribiendo una función definida por el usuario, denominada función clasificadora.</span><span class="sxs-lookup"><span data-stu-id="43618-146">You can tailor the classification logic by writing a user-defined function, called a classifier function.</span></span> <span data-ttu-id="43618-147">El regulador de recursos también admite una función clasificadora definida por el usuario para implementar las reglas de la clasificación.</span><span class="sxs-lookup"><span data-stu-id="43618-147">Resource Governor also supports a classifier user-defined function for implementing classification rules.</span></span> <span data-ttu-id="43618-148">Para más información, consulte [Resource Governor Classifier Function](resource-governor-classifier-function.md).</span><span class="sxs-lookup"><span data-stu-id="43618-148">For more information, see [Resource Governor Classifier Function](resource-governor-classifier-function.md).</span></span>  
  
> [!NOTE]  
>  <span data-ttu-id="43618-149">El regulador de recursos no impone ningún control sobre las conexiones de administrador dedicadas (DAC).</span><span class="sxs-lookup"><span data-stu-id="43618-149">Resource Governor does not impose any controls on a dedicated administrator connection (DAC).</span></span> <span data-ttu-id="43618-150">No hay ninguna necesidad de clasificar las consultas de DAC, las cuales se ejecutan en el grupo de cargas de trabajo y en el grupo de recursos de servidor internos.</span><span class="sxs-lookup"><span data-stu-id="43618-150">There is no need to classify DAC queries, which run in the internal workload group and resource pool.</span></span>  
  
 <span data-ttu-id="43618-151">En el contexto del regulador de recursos, puede tratar los conceptos anteriores como componentes.</span><span class="sxs-lookup"><span data-stu-id="43618-151">In the context of Resource Governor, you can treat the preceding concepts as components.</span></span> <span data-ttu-id="43618-152">La ilustración siguiente muestra estos componentes y su relación entre sí, tal y como existen en el entorno del motor de base de datos.</span><span class="sxs-lookup"><span data-stu-id="43618-152">The following illustration shows these components and their relationship with each other as they exist in the database engine environment.</span></span> <span data-ttu-id="43618-153">Desde el punto de vista del procesamiento, el flujo simplificado es como sigue:</span><span class="sxs-lookup"><span data-stu-id="43618-153">From a processing perspective, the simplified flow is as follows:</span></span>  
  
-   <span data-ttu-id="43618-154">Existe una conexión entrante para una sesión (sesión 1 de *n*).</span><span class="sxs-lookup"><span data-stu-id="43618-154">There is an incoming connection for a session (Session 1 of *n*).</span></span>  
  
-   <span data-ttu-id="43618-155">La sesión está clasificada (Clasificación).</span><span class="sxs-lookup"><span data-stu-id="43618-155">The session is classified (Classification).</span></span>  
  
-   <span data-ttu-id="43618-156">La carga de trabajo de la sesión se enruta a un grupo de cargas de trabajo, por ejemplo, al Grupo 4.</span><span class="sxs-lookup"><span data-stu-id="43618-156">The session workload is routed to a workload group, for example, Group 4.</span></span>  
  
-   <span data-ttu-id="43618-157">El grupo de cargas de trabajo utiliza el grupo de recursos de servidor al que está asociado, por ejemplo, el Grupo 2.</span><span class="sxs-lookup"><span data-stu-id="43618-157">The workload group uses the resource pool it is associated with, for example, Pool 2.</span></span>  
  
-   <span data-ttu-id="43618-158">El grupo de recursos de servidor proporciona y limita los recursos requeridos por la aplicación, por ejemplo, la Aplicación 3.</span><span class="sxs-lookup"><span data-stu-id="43618-158">The resource pool provides and limits the resources required by the application, for example, Application 3.</span></span>  
  
 <span data-ttu-id="43618-159">![Componentes funcionales del regulador de recursos](../../database-engine/media/rg-basic-funct-components.gif "Componentes funcionales del regulador de recursos")</span><span class="sxs-lookup"><span data-stu-id="43618-159">![Resource Governor Functional Components](../../database-engine/media/rg-basic-funct-components.gif "Resource Governor Functional Components")</span></span>  
  
## <a name="resource-governor-tasks"></a><span data-ttu-id="43618-160">Tareas del regulador de recursos</span><span class="sxs-lookup"><span data-stu-id="43618-160">Resource Governor Tasks</span></span>  
  
|<span data-ttu-id="43618-161">Descripción de la tarea</span><span class="sxs-lookup"><span data-stu-id="43618-161">Task Description</span></span>|<span data-ttu-id="43618-162">Tema</span><span class="sxs-lookup"><span data-stu-id="43618-162">Topic</span></span>|  
|----------------------|-----------|  
|<span data-ttu-id="43618-163">Describe cómo habilitar el regulador de recursos.</span><span class="sxs-lookup"><span data-stu-id="43618-163">Describes how to enable Resource Governor.</span></span>|[<span data-ttu-id="43618-164">Habilitar el regulador de recursos</span><span class="sxs-lookup"><span data-stu-id="43618-164">Enable Resource Governor</span></span>](resource-governor.md)|  
|<span data-ttu-id="43618-165">Describe cómo deshabilitar el regulador de recursos.</span><span class="sxs-lookup"><span data-stu-id="43618-165">Describes how to disable Resource Governor.</span></span>|[<span data-ttu-id="43618-166">Deshabilitar el regulador de recursos</span><span class="sxs-lookup"><span data-stu-id="43618-166">Disable Resource Governor</span></span>](disable-resource-governor.md)|  
|<span data-ttu-id="43618-167">Describe cómo crear, modificar y quitar un grupo de recursos de servidor.</span><span class="sxs-lookup"><span data-stu-id="43618-167">Describes how to create, alter, and drop a resource pool.</span></span>|[<span data-ttu-id="43618-168">Grupo de recursos de servidor del regulador de recursos</span><span class="sxs-lookup"><span data-stu-id="43618-168">Resource Governor Resource Pool</span></span>](resource-governor-resource-pool.md)|  
|<span data-ttu-id="43618-169">Describe cómo crear, modificar, mover y quitar un grupo de carga de trabajo.</span><span class="sxs-lookup"><span data-stu-id="43618-169">Describes how to create, alter, move, and drop a workload group.</span></span>|[<span data-ttu-id="43618-170">Grupos de cargas de trabajo del regulador de recursos</span><span class="sxs-lookup"><span data-stu-id="43618-170">Resource Governor Workload Group</span></span>](resource-governor-workload-group.md)|  
|<span data-ttu-id="43618-171">Describe cómo crear y probar una función clasificadora definida por el usuario.</span><span class="sxs-lookup"><span data-stu-id="43618-171">Describes how to create and test a classifier user-defined function.</span></span>|[<span data-ttu-id="43618-172">Función clasificadora del regulador de recursos</span><span class="sxs-lookup"><span data-stu-id="43618-172">Resource Governor Classifier Function</span></span>](resource-governor-classifier-function.md)|  
|<span data-ttu-id="43618-173">Describe cómo configurar el regulador de recursos mediante una plantilla.</span><span class="sxs-lookup"><span data-stu-id="43618-173">Describes how to configure Resource Governor using a template.</span></span>|[<span data-ttu-id="43618-174">Configurar el regulador de recursos mediante una plantilla</span><span class="sxs-lookup"><span data-stu-id="43618-174">Configure Resource Governor Using a Template</span></span>](configure-resource-governor-using-a-template.md)|  
|<span data-ttu-id="43618-175">Describe cómo ver las propiedades del regulador de recursos.</span><span class="sxs-lookup"><span data-stu-id="43618-175">Describes how to view Resource Governor properties.</span></span>|[<span data-ttu-id="43618-176">Ver las propiedades del regulador de recursos</span><span class="sxs-lookup"><span data-stu-id="43618-176">View Resource Governor Properties</span></span>](view-resource-governor-properties.md)|  
  
## <a name="see-also"></a><span data-ttu-id="43618-177">Consulte también</span><span class="sxs-lookup"><span data-stu-id="43618-177">See Also</span></span>  
 [<span data-ttu-id="43618-178">Instancias del motor de base de datos &#40;SQL Server&#41;</span><span class="sxs-lookup"><span data-stu-id="43618-178">Database Engine Instances &#40;SQL Server&#41;</span></span>](../../database-engine/configure-windows/database-engine-instances-sql-server.md)  
  
  
