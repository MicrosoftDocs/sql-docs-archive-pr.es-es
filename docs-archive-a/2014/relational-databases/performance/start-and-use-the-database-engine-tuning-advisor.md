---
title: Iniciar y utilizar el Asistente para la optimización del motor de base de datos | Microsoft Docs
ms.custom: ''
ms.date: 06/13/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: performance
ms.topic: conceptual
f1_keywords:
- sql12.dta.advancedtuningoptions.f1
- sql12.dta.general.f1
- sql12.dta.tuningoptions.f1
- sql12.dta.workload.f1
- sql12.dta.progress.f1
- sql12.dta.options.f1
helpviewer_keywords:
- Database Engine Tuning Advisor [SQL Server], starting
ms.assetid: a4e3226a-3917-4ec8-bdf0-472879d231c9
author: MikeRayMSFT
ms.author: mikeray
ms.openlocfilehash: 46f8e49de657d7021d846c7e57022a580b877f8e
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 08/04/2020
ms.locfileid: "87746260"
---
# <a name="start-and-use-the-database-engine-tuning-advisor"></a><span data-ttu-id="90c32-102">Iniciar y utilizar el Asistente para la optimización de motor de base de datos</span><span class="sxs-lookup"><span data-stu-id="90c32-102">Start and Use the Database Engine Tuning Advisor</span></span>
  <span data-ttu-id="90c32-103">En este tema se describe cómo iniciar y usar el Asistente para la optimización de motor de base de datos en [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)].</span><span class="sxs-lookup"><span data-stu-id="90c32-103">This topic describes how to start and use Database Engine Tuning Advisor in [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)].</span></span> <span data-ttu-id="90c32-104">Para obtener más información sobre cómo ver y trabajar con los resultados después de optimizar una base de datos, vea [Ver y trabajar con la salida del Asistente para la optimización de motor de base de datos](database-engine-tuning-advisor.md).</span><span class="sxs-lookup"><span data-stu-id="90c32-104">For information about how to view and work with the results after you tune a database, see [View and Work with the Output from the Database Engine Tuning Advisor](database-engine-tuning-advisor.md).</span></span>  
  
##  <a name="initialize-the-database-engine-tuning-advisor"></a><a name="Initialize"></a> <span data-ttu-id="90c32-105">Inicializar el Asistente para la optimización de motor de base de datos</span><span class="sxs-lookup"><span data-stu-id="90c32-105">Initialize the Database Engine Tuning Advisor</span></span>  
 <span data-ttu-id="90c32-106">La primera vez que se utilice, un usuario que sea miembro del rol fijo de servidor **sysadmin** debe inicializar el Asistente para la optimización de motor de base de datos.</span><span class="sxs-lookup"><span data-stu-id="90c32-106">On first use, a user who is member of the **sysadmin** fixed server role must initialize the Database Engine Tuning Advisor.</span></span> <span data-ttu-id="90c32-107">Esto se debe a que varias tablas del sistema se deben crear en la base de datos de `msdb` para admitir las operaciones de optimización.</span><span class="sxs-lookup"><span data-stu-id="90c32-107">This is because several system tables must be created in the `msdb` database to support tuning operations.</span></span> <span data-ttu-id="90c32-108">La inicialización permite además que usuarios miembros del rol fijo de base de datos **db_owner** optimicen cargas de trabajo en tablas de bases de datos que son de su propiedad.</span><span class="sxs-lookup"><span data-stu-id="90c32-108">Initialization also enables users that are members of the **db_owner** fixed database role to tune workloads on tables in databases that they own.</span></span>  
  
 <span data-ttu-id="90c32-109">Un usuario que tenga permisos de administrador del sistema debe realizar una de las siguientes acciones:</span><span class="sxs-lookup"><span data-stu-id="90c32-109">A user that has system administrator permissions must perform either of the following actions:</span></span>  
  
-   <span data-ttu-id="90c32-110">Usar la interfaz gráfica de usuario del Asistente para la optimización de motor de base de datos para conectarse a una instancia de [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)].</span><span class="sxs-lookup"><span data-stu-id="90c32-110">Use the Database Engine Tuning Advisor graphical user interface to connect to an instance of [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)].</span></span> <span data-ttu-id="90c32-111">Para obtener más información, vea [Iniciar el Asistente para la optimización de motor de base de datos](#Start) más adelante en este tema.</span><span class="sxs-lookup"><span data-stu-id="90c32-111">For more information, see [Start the Database Engine Tuning Advisor](#Start) later in this topic.</span></span>  
  
-   <span data-ttu-id="90c32-112">Use la utilidad **dta** para optimizar la primera carga de trabajo.</span><span class="sxs-lookup"><span data-stu-id="90c32-112">Use the **dta** utility to tune the first workload.</span></span> <span data-ttu-id="90c32-113">Para obtener más información, vea [Usar la utilidad dta](#dta) más adelante en este tema.</span><span class="sxs-lookup"><span data-stu-id="90c32-113">For more information, see [Use the dta Utility](#dta) later in this topic.</span></span>  
  
##  <a name="start-the-database-engine-tuning-advisor"></a><a name="Start"></a> <span data-ttu-id="90c32-114">Iniciar el Asistente para la optimización de motor de base de datos</span><span class="sxs-lookup"><span data-stu-id="90c32-114">Start the Database Engine Tuning Advisor</span></span>  
 <span data-ttu-id="90c32-115">Puede iniciar la interfaz gráfica de usuario (GUI) del Asistente para la optimización de motor de base de datos de diferentes maneras con el fin de permitir la optimización de bases de datos en diversos escenarios.</span><span class="sxs-lookup"><span data-stu-id="90c32-115">You can start the Database Engine Tuning Advisor graphical user interface (GUI) in several different ways to support database tuning in a variety of scenarios.</span></span> <span data-ttu-id="90c32-116">Las distintas formas de iniciar el Asistente para la optimización de motor de base de datos son: desde el menú **Inicio** , desde el menú **Herramientas** de [!INCLUDE[ssManStudioFull](../../includes/ssmanstudiofull-md.md)], desde el Editor de consultas de [!INCLUDE[ssManStudioFull](../../includes/ssmanstudiofull-md.md)], y desde el menú **Herramientas** de [!INCLUDE[ssSqlProfiler](../../includes/sssqlprofiler-md.md)].</span><span class="sxs-lookup"><span data-stu-id="90c32-116">The different ways to start Database Engine Tuning Advisor include: from the **Start** menu, from the **Tools** menu in [!INCLUDE[ssManStudioFull](../../includes/ssmanstudiofull-md.md)], from the Query Editor in [!INCLUDE[ssManStudioFull](../../includes/ssmanstudiofull-md.md)], and from the **Tools** menu in [!INCLUDE[ssSqlProfiler](../../includes/sssqlprofiler-md.md)].</span></span> <span data-ttu-id="90c32-117">Al iniciar el Asistente para la optimización de motor de base de datos por primera vez, la aplicación muestra un cuadro de diálogo **Conectar al servidor** en el que se puede especificar la instancia de [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] a la que se desea conectar.</span><span class="sxs-lookup"><span data-stu-id="90c32-117">When you first start Database Engine Tuning Advisor, the application displays a **Connect to Server** dialog box where you can specify the [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] instance to which you want to connect.</span></span>  
  
> [!WARNING]  
>  <span data-ttu-id="90c32-118">No inicie el Asistente para la optimización de motor de base de datos si [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] se está ejecutando en modo de usuario único.</span><span class="sxs-lookup"><span data-stu-id="90c32-118">Do not start Database Engine Tuning Advisor when [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] is running in single-user mode.</span></span> <span data-ttu-id="90c32-119">Si intenta iniciarlo mientras el servidor está en modo de usuario único, aparecerá un error y el Asistente para la optimización de motor de base de datos no se iniciará.</span><span class="sxs-lookup"><span data-stu-id="90c32-119">If you attempt to start it while the server is in single-user mode, an error will be returned and Database Engine Tuning Advisor will not start.</span></span> <span data-ttu-id="90c32-120">Para obtener más información sobre el modo de usuario único, vea [Iniciar SQL Server en modo de usuario único](../../database-engine/configure-windows/start-sql-server-in-single-user-mode.md).</span><span class="sxs-lookup"><span data-stu-id="90c32-120">For more information about single-user mode, see [Start SQL Server in Single-User Mode](../../database-engine/configure-windows/start-sql-server-in-single-user-mode.md).</span></span>  
  
#### <a name="to-start-database-engine-tuning-advisor-from-the-windows-start-menu"></a><span data-ttu-id="90c32-121">Para iniciar el Asistente para la optimización de motor de base de datos desde el menú Inicio de Windows</span><span class="sxs-lookup"><span data-stu-id="90c32-121">To start Database Engine Tuning Advisor from the Windows Start menu</span></span>  
  
1.  <span data-ttu-id="90c32-122">En el menú **Inicio** , elija **Todos los programas**, **Microsoft SQL Server**, **Herramientas de rendimiento**y, a continuación, haga clic en **Asistente para la optimización de motor de base de datos**.</span><span class="sxs-lookup"><span data-stu-id="90c32-122">On the **Start** menu, point to **All Programs**, point to **Microsoft SQL Server**, point to **Performance Tools**, and then click **Database Engine Tuning Advisor**.</span></span>  
  
#### <a name="to-start-the-database-engine-tuning-advisor-in-sql-server-management-studio"></a><span data-ttu-id="90c32-123">Para iniciar el Asistente para la optimización de motor de base de datos en SQL Server Management Studio</span><span class="sxs-lookup"><span data-stu-id="90c32-123">To start the Database Engine Tuning Advisor in SQL Server Management Studio</span></span>  
  
1.  <span data-ttu-id="90c32-124">En el menú **Herramientas** de [!INCLUDE[ssManStudioFull](../../includes/ssmanstudiofull-md.md)], haga clic en **Asistente para la optimización de motor de base de datos**.</span><span class="sxs-lookup"><span data-stu-id="90c32-124">On the [!INCLUDE[ssManStudioFull](../../includes/ssmanstudiofull-md.md)] **Tools** menu, click **Database Engine Tuning Advisor**.</span></span>  
  
#### <a name="to-start-the-database-engine-tuning-advisor-from-the-sql-server-management-studio-query-editor"></a><span data-ttu-id="90c32-125">Para iniciar el Asistente para la optimización de motor de base de datos desde el Editor de consultas de SQL Server Management Studio</span><span class="sxs-lookup"><span data-stu-id="90c32-125">To start the Database Engine Tuning Advisor from the SQL Server Management Studio Query Editor</span></span>  
  
1.  <span data-ttu-id="90c32-126">Abra un archivo de script [!INCLUDE[tsql](../../includes/tsql-md.md)] en [!INCLUDE[ssManStudioFull](../../includes/ssmanstudiofull-md.md)].</span><span class="sxs-lookup"><span data-stu-id="90c32-126">Open a [!INCLUDE[tsql](../../includes/tsql-md.md)] script file in [!INCLUDE[ssManStudioFull](../../includes/ssmanstudiofull-md.md)].</span></span> <span data-ttu-id="90c32-127">Para obtener más información, vea [Editores de consultas y texto &#40;SQL Server Management Studio&#41;](../scripting/query-and-text-editors-sql-server-management-studio.md).</span><span class="sxs-lookup"><span data-stu-id="90c32-127">For more information, see [Query and Text Editors &#40;SQL Server Management Studio&#41;](../scripting/query-and-text-editors-sql-server-management-studio.md).</span></span>  
  
2.  <span data-ttu-id="90c32-128">Seleccione una consulta en el script [!INCLUDE[tsql](../../includes/tsql-md.md)] o seleccione el script completo, haga clic con el botón derecho en la selección y elija **Analizar la consulta en el Asistente para la optimización de motor de base de datos**.</span><span class="sxs-lookup"><span data-stu-id="90c32-128">Select a query in the [!INCLUDE[tsql](../../includes/tsql-md.md)] script, or select the entire script, right-click the selection, and choose **Analyze Query in Database Engine Tuning Advisor**.</span></span> <span data-ttu-id="90c32-129">Se abre la GUI del Asistente para la optimización de motor de base de datos e importa el script como una carga de trabajo de archivo XML.</span><span class="sxs-lookup"><span data-stu-id="90c32-129">The Database Engine Tuning Advisor GUI opens and imports the script as an XML file workload.</span></span> <span data-ttu-id="90c32-130">Puede especificar un nombre de sesión y opciones de optimización para optimizar las consultas [!INCLUDE[tsql](../../includes/tsql-md.md)] seleccionadas como carga de trabajo.</span><span class="sxs-lookup"><span data-stu-id="90c32-130">You can specify a session name and tuning options to tune the selected [!INCLUDE[tsql](../../includes/tsql-md.md)] queries as your workload.</span></span>  
  
#### <a name="to-start-the-database-engine-tuning-advisor-in-sql-server-profiler"></a><span data-ttu-id="90c32-131">Para iniciar el Asistente para la optimización de motor de base de datos en SQL Server Profiler</span><span class="sxs-lookup"><span data-stu-id="90c32-131">To start the Database Engine Tuning Advisor in SQL Server Profiler</span></span>  
  
1.  <span data-ttu-id="90c32-132">En el menú **Herramientas** de SQL Server Profiler, haga clic en **Asistente para la optimización de motor de base de datos**.</span><span class="sxs-lookup"><span data-stu-id="90c32-132">On the SQL Server Profiler **Tools** menu, click **Database Engine Tuning Advisor**.</span></span>  
  
##  <a name="create-a-workload"></a><a name="Create"></a> <span data-ttu-id="90c32-133">Crear una carga de trabajo</span><span class="sxs-lookup"><span data-stu-id="90c32-133">Create a Workload</span></span>  
 <span data-ttu-id="90c32-134">Una carga de trabajo es un conjunto de instrucciones [!INCLUDE[tsql](../../includes/tsql-md.md)] que se ejecuta en una o varias bases de datos que se desean optimizar.</span><span class="sxs-lookup"><span data-stu-id="90c32-134">A workload is a set of [!INCLUDE[tsql](../../includes/tsql-md.md)] statements that execute against a database or databases that you want to tune.</span></span> <span data-ttu-id="90c32-135">El Asistente para la optimización de motor de base de datos analiza estas cargas de trabajo y recomienda estrategias de partición o indización que mejorarán el rendimiento de las consultas del servidor.</span><span class="sxs-lookup"><span data-stu-id="90c32-135">Database Engine Tuning Advisor analyzes these workloads to recommend indexes or partitioning strategies that will improve your server's query performance.</span></span>  
  
 <span data-ttu-id="90c32-136">Puede crear una carga de trabajo mediante uno de los métodos siguientes.</span><span class="sxs-lookup"><span data-stu-id="90c32-136">You can create a workload by using one of the following methods.</span></span>  
  
-   <span data-ttu-id="90c32-137">Utilice la memoria caché del plan como carga de trabajo.</span><span class="sxs-lookup"><span data-stu-id="90c32-137">Use the plan cache as a workload.</span></span> <span data-ttu-id="90c32-138">De este modo, podrá evitar la necesidad de tener que crear manualmente una carga de trabajo.</span><span class="sxs-lookup"><span data-stu-id="90c32-138">By doing this, you can avoid having to manually create a workload.</span></span> <span data-ttu-id="90c32-139">Para obtener más información, vea [Optimizar una base de datos](#Tune) más adelante en este tema.</span><span class="sxs-lookup"><span data-stu-id="90c32-139">For more information, see [Tune a Database](#Tune) later in this topic.</span></span>  
  
-   <span data-ttu-id="90c32-140">Use el editor de consultas en [!INCLUDE[ssManStudioFull](../../includes/ssmanstudiofull-md.md)] o su editor de texto preferido para crear manualmente cargas de trabajo de scripts [!INCLUDE[tsql](../../includes/tsql-md.md)] .</span><span class="sxs-lookup"><span data-stu-id="90c32-140">Use the Query Editor in [!INCLUDE[ssManStudioFull](../../includes/ssmanstudiofull-md.md)] or your favorite text editor to manually create [!INCLUDE[tsql](../../includes/tsql-md.md)] script workloads.</span></span>  
  
-   <span data-ttu-id="90c32-141">Use [!INCLUDE[ssSqlProfiler](../../includes/sssqlprofiler-md.md)] para crear cargas de trabajo de tablas de seguimiento o archivos de seguimiento.</span><span class="sxs-lookup"><span data-stu-id="90c32-141">Use [!INCLUDE[ssSqlProfiler](../../includes/sssqlprofiler-md.md)] to create trace file or trace table workloads</span></span>  
  
    > [!NOTE]  
    >  <span data-ttu-id="90c32-142">Cuando use una tabla de seguimiento como una carga de trabajo, esa tabla debe existir en el mismo servidor en el que el Asistente para la optimización de motor de base de datos está realizando la optimización.</span><span class="sxs-lookup"><span data-stu-id="90c32-142">When using a trace table as a workload, that table must exist on the same server where Database Engine Tuning Advisor is tuning.</span></span> <span data-ttu-id="90c32-143">Si crea la tabla de seguimiento en otro servidor, muévala después al servidor en el que el Asistente para la optimización de motor de base de datos está realizando la optimización.</span><span class="sxs-lookup"><span data-stu-id="90c32-143">If you create the trace table on a different server, then move it to the server where Database Engine Tuning Advisor is tuning.</span></span>  
  
-   <span data-ttu-id="90c32-144">Las cargas de trabajo también pueden incrustarse en un archivo de entrada XML, en el que también se puede especificar un peso para cada evento.</span><span class="sxs-lookup"><span data-stu-id="90c32-144">Workloads can also be embedded in an XML input file, where you can also specify a weight for each event.</span></span> <span data-ttu-id="90c32-145">Para obtener más información sobre cómo especificar cargas de trabajo incrustadas, vea [Crear un archivo de entrada XML](#XMLInput) más adelante en este tema.</span><span class="sxs-lookup"><span data-stu-id="90c32-145">For more information about specifying embedded workloads, see [Create an XML Input File](#XMLInput) later in this topic.</span></span>  
  
###  <a name="to-create-transact-sql-script-workloads"></a><a name="SSMS"></a> <span data-ttu-id="90c32-146">Para crear cargas de trabajo de scripts Transact-SQL</span><span class="sxs-lookup"><span data-stu-id="90c32-146">To create Transact-SQL script workloads</span></span>  
  
1.  <span data-ttu-id="90c32-147">Inicie el Editor de consultas en [!INCLUDE[ssManStudioFull](../../includes/ssmanstudiofull-md.md)].</span><span class="sxs-lookup"><span data-stu-id="90c32-147">Launch the Query Editor in [!INCLUDE[ssManStudioFull](../../includes/ssmanstudiofull-md.md)].</span></span> <span data-ttu-id="90c32-148">Para obtener más información, vea [Editores de consultas y texto &#40;SQL Server Management Studio&#41;](../scripting/query-and-text-editors-sql-server-management-studio.md).</span><span class="sxs-lookup"><span data-stu-id="90c32-148">For more information, see [Query and Text Editors &#40;SQL Server Management Studio&#41;](../scripting/query-and-text-editors-sql-server-management-studio.md).</span></span>  
  
2.  <span data-ttu-id="90c32-149">Escriba el script [!INCLUDE[tsql](../../includes/tsql-md.md)] en el Editor de consultas.</span><span class="sxs-lookup"><span data-stu-id="90c32-149">Type your [!INCLUDE[tsql](../../includes/tsql-md.md)] script into the Query Editor.</span></span> <span data-ttu-id="90c32-150">Este script debe contener un conjunto de instrucciones [!INCLUDE[tsql](../../includes/tsql-md.md)] que se ejecutan en una o varias bases de datos que desea optimizar.</span><span class="sxs-lookup"><span data-stu-id="90c32-150">This script should contain a set of [!INCLUDE[tsql](../../includes/tsql-md.md)] statements that execute against the database or databases that you want to tune.</span></span>  
  
3.  <span data-ttu-id="90c32-151">Guarde el archivo con la extensión **.sql** .</span><span class="sxs-lookup"><span data-stu-id="90c32-151">Save the file with a **.sql** extension.</span></span> <span data-ttu-id="90c32-152">La utilidad **dta** de línea de comandos y la GUI del Asistente para la optimización de motor de base de datos pueden usar este script [!INCLUDE[tsql](../../includes/tsql-md.md)] como una carga de trabajo.</span><span class="sxs-lookup"><span data-stu-id="90c32-152">The Database Engine Tuning Advisor GUI and the command-line **dta** utility can use this [!INCLUDE[tsql](../../includes/tsql-md.md)] script as a workload.</span></span>  
  
###  <a name="to-create-trace-file-and-trace-table-workloads"></a><a name="Profiler"></a> <span data-ttu-id="90c32-153">Para crear cargas de trabajo de tablas de seguimiento o archivos de seguimiento</span><span class="sxs-lookup"><span data-stu-id="90c32-153">To create trace file and trace table workloads</span></span>  
  
1.  <span data-ttu-id="90c32-154">Inicie el [!INCLUDE[ssSqlProfiler](../../includes/sssqlprofiler-md.md)] mediante uno de los métodos siguientes:</span><span class="sxs-lookup"><span data-stu-id="90c32-154">Launch [!INCLUDE[ssSqlProfiler](../../includes/sssqlprofiler-md.md)] by using one of the following methods:</span></span>  
  
    -   <span data-ttu-id="90c32-155">En el menú **Inicio** , elija **Todos los programas**, **Microsoft SQL Server**, **Herramientas de rendimiento**y, a continuación, haga clic en **SQL Server Profiler**.</span><span class="sxs-lookup"><span data-stu-id="90c32-155">On the **Start** menu, point to **All Programs**, **Microsoft SQL Server**, **Performance Tools**, and then click **SQL Server Profiler**.</span></span>  
  
    -   <span data-ttu-id="90c32-156">En [!INCLUDE[ssManStudioFull](../../includes/ssmanstudiofull-md.md)], haga clic en el menú **Herramientas** y, a continuación, haga clic en **SQL Server Profiler**.</span><span class="sxs-lookup"><span data-stu-id="90c32-156">In [!INCLUDE[ssManStudioFull](../../includes/ssmanstudiofull-md.md)], click the **Tools** menu, and then click **SQL Server Profiler**.</span></span>  
  
2.  <span data-ttu-id="90c32-157">Cree un archivo o tabla de seguimiento, tal como se describe en los procedimientos siguientes, que use la plantilla **Tuning** de [!INCLUDE[ssSqlProfiler](../../includes/sssqlprofiler-md.md)]:</span><span class="sxs-lookup"><span data-stu-id="90c32-157">Create a trace file or table as described in the following procedures that uses the [!INCLUDE[ssSqlProfiler](../../includes/sssqlprofiler-md.md)] **Tuning** template:</span></span>  
  
    -   [<span data-ttu-id="90c32-158">Crear un seguimiento &#40;SQL Server Profiler&#41;</span><span class="sxs-lookup"><span data-stu-id="90c32-158">Create a Trace &#40;SQL Server Profiler&#41;</span></span>](../../tools/sql-server-profiler/create-a-trace-sql-server-profiler.md)  
  
    -   [<span data-ttu-id="90c32-159">Guardar los resultados de un seguimiento en un archivo &#40;SQL Server Profiler&#41;</span><span class="sxs-lookup"><span data-stu-id="90c32-159">Save Trace Results to a File &#40;SQL Server Profiler&#41;</span></span>](../../tools/sql-server-profiler/save-trace-results-to-a-file-sql-server-profiler.md)  
  
         <span data-ttu-id="90c32-160">El Asistente para la optimización de motor de base de datos considera que el archivo de seguimiento de la carga de trabajo es un archivo de sustitución incremental.</span><span class="sxs-lookup"><span data-stu-id="90c32-160">Database Engine Tuning Advisor assumes that the workload trace file is a rollover file.</span></span> <span data-ttu-id="90c32-161">Para obtener más información sobre los archivos de sustitución incremental, vea [Limit Trace File and Table Sizes](../sql-trace/limit-trace-file-and-table-sizes.md).</span><span class="sxs-lookup"><span data-stu-id="90c32-161">For more information about rollover files, see [Limit Trace File and Table Sizes](../sql-trace/limit-trace-file-and-table-sizes.md).</span></span>  
  
    -   [<span data-ttu-id="90c32-162">Guardar los resultados de un seguimiento en una tabla &#40;SQL Server Profiler&#41;</span><span class="sxs-lookup"><span data-stu-id="90c32-162">Save Trace Results to a Table &#40;SQL Server Profiler&#41;</span></span>](../../tools/sql-server-profiler/save-trace-results-to-a-table-sql-server-profiler.md)  
  
         <span data-ttu-id="90c32-163">Asegúrese de que el seguimiento se ha detenido antes de utilizar una tabla de seguimiento como carga de trabajo.</span><span class="sxs-lookup"><span data-stu-id="90c32-163">Make sure that tracing has stopped before using a trace table as a workload.</span></span>  
  
 <span data-ttu-id="90c32-164">Es recomendable usar la plantilla Tuning de SQL Server Profiler para capturar cargas de trabajo para el Asistente para la optimización de motor de base de datos.</span><span class="sxs-lookup"><span data-stu-id="90c32-164">We recommend that you use the SQL Server Profiler Tuning template for capturing workloads for Database Engine Tuning Advisor.</span></span>  
  
 <span data-ttu-id="90c32-165">Si desea utilizar su propia plantilla, asegúrese de que se capturan los siguientes eventos de seguimiento:</span><span class="sxs-lookup"><span data-stu-id="90c32-165">If you want to use your own template, ensure that the following trace events are captured:</span></span>  
  
-   <span data-ttu-id="90c32-166">**RPC:Completed**</span><span class="sxs-lookup"><span data-stu-id="90c32-166">**RPC:Completed**</span></span>  
  
-   <span data-ttu-id="90c32-167">**SQL:BatchCompleted**</span><span class="sxs-lookup"><span data-stu-id="90c32-167">**SQL:BatchCompleted**</span></span>  
  
-   <span data-ttu-id="90c32-168">**SP:StmtCompleted**</span><span class="sxs-lookup"><span data-stu-id="90c32-168">**SP:StmtCompleted**</span></span>  
  
 <span data-ttu-id="90c32-169">También puede utilizar las versiones **Starting** (inicio) de estos eventos de seguimiento.</span><span class="sxs-lookup"><span data-stu-id="90c32-169">You can also use the **Starting** versions of these trace events.</span></span> <span data-ttu-id="90c32-170">Por ejemplo, **SQL:BatchStarting**.</span><span class="sxs-lookup"><span data-stu-id="90c32-170">For example, **SQL:BatchStarting**.</span></span> <span data-ttu-id="90c32-171">Sin embargo, las versiones **Completed** (completado) de estos eventos de seguimiento incluyen la columna **Duration** , que permite al Asistente para la optimización de motor de base de datos optimizar de forma más eficaz la carga de trabajo.</span><span class="sxs-lookup"><span data-stu-id="90c32-171">However, the **Completed** versions of these trace events include the **Duration** column, which allows Database Engine Tuning Advisor to more effectively tune the workload.</span></span> <span data-ttu-id="90c32-172">El Asistente para la optimización de motor de base de datos no optimiza otros tipos de eventos de seguimiento.</span><span class="sxs-lookup"><span data-stu-id="90c32-172">Database Engine Tuning Advisor does not tune other types of trace events.</span></span> <span data-ttu-id="90c32-173">Para obtener más información acerca de estos eventos de seguimiento, vea [Stored Procedures Event Category](../event-classes/stored-procedures-event-category.md) y [TSQL Event Category](../event-classes/tsql-event-category.md).</span><span class="sxs-lookup"><span data-stu-id="90c32-173">For more information about these trace events, see [Stored Procedures Event Category](../event-classes/stored-procedures-event-category.md) and [TSQL Event Category](../event-classes/tsql-event-category.md).</span></span> <span data-ttu-id="90c32-174">Para obtener más información sobre cómo usar procedimientos almacenados de Seguimiento de SQL para crear una carga de trabajo de archivo de seguimiento, vea [Crear un seguimiento &#40;Transact-SQL&#41;](../sql-trace/create-a-trace-transact-sql.md).</span><span class="sxs-lookup"><span data-stu-id="90c32-174">For information about using the SQL Trace stored procedures to create a trace file workload, see [Create a Trace &#40;Transact-SQL&#41;](../sql-trace/create-a-trace-transact-sql.md).</span></span>  
  
### <a name="trace-file-or-trace-table-workloads-that-contain-the-loginname-data-column"></a><span data-ttu-id="90c32-175">Cargas de trabajo de archivos o tablas de seguimiento que contienen la columna de datos LoginName</span><span class="sxs-lookup"><span data-stu-id="90c32-175">Trace File or Trace Table Workloads That Contain the LoginName Data Column</span></span>  
 <span data-ttu-id="90c32-176">El Asistente para la optimización de motor de base de datos envía solicitudes de plan de presentación como parte del proceso de optimización.</span><span class="sxs-lookup"><span data-stu-id="90c32-176">Database Engine Tuning Advisor submits Showplan requests as part of the tuning process.</span></span> <span data-ttu-id="90c32-177">Cuando una tabla o un archivo de seguimiento que contiene la columna de datos **LoginName** se consume como una carga de trabajo, el Asistente para la optimización de motor de base de datos suplanta al usuario especificado en **LoginName**.</span><span class="sxs-lookup"><span data-stu-id="90c32-177">When a trace table or file that contains the **LoginName** data column is consumed as a workload, Database Engine Tuning Advisor impersonates the user specified in **LoginName**.</span></span> <span data-ttu-id="90c32-178">Si este usuario no dispone del permiso SHOWPLAN, que le permite ejecutar y generar planes de presentación para las instrucciones incluidas en el seguimiento, el Asistente para la optimización de motor de base de datos no optimizará esas instrucciones.</span><span class="sxs-lookup"><span data-stu-id="90c32-178">If this user has not been granted the SHOWPLAN permission, which enables the user to execute and produce Showplans for the statements contained in the trace, Database Engine Tuning Advisor will not tune those statements.</span></span>  
  
##### <a name="to-avoid-granting-the-showplan-permission-to-each-user-specified-in-the-loginname-column-of-the-trace"></a><span data-ttu-id="90c32-179">Para evitar conceder el permiso SHOWPLAN a cada usuario especificado en la columna LoginName del seguimiento</span><span class="sxs-lookup"><span data-stu-id="90c32-179">To avoid granting the SHOWPLAN permission to each user specified in the LoginName column of the trace</span></span>  
  
1.  <span data-ttu-id="90c32-180">Optimice la carga de trabajo del archivo o carga de seguimiento.</span><span class="sxs-lookup"><span data-stu-id="90c32-180">Tune the trace file or table workload.</span></span> <span data-ttu-id="90c32-181">Para obtener más información, vea [Optimizar una base de datos](#Tune) más adelante en este tema.</span><span class="sxs-lookup"><span data-stu-id="90c32-181">For more information, see [Tune a Database](#Tune) later in this topic.</span></span>  
  
2.  <span data-ttu-id="90c32-182">Utilice el registro de optimización para buscar instrucciones que no se hayan optimizado por causa de permisos inadecuados.</span><span class="sxs-lookup"><span data-stu-id="90c32-182">Check the tuning log for statements that were not tuned due to inadequate permissions.</span></span> <span data-ttu-id="90c32-183">Para obtener más información, vea [Ver y trabajar con la salida del Asistente para la optimización de motor de base de datos](database-engine-tuning-advisor.md).</span><span class="sxs-lookup"><span data-stu-id="90c32-183">For more information, see [View and Work with the Output from the Database Engine Tuning Advisor](database-engine-tuning-advisor.md).</span></span>  
  
3.  <span data-ttu-id="90c32-184">Cree una nueva carga de trabajo al eliminar la columna **LoginName** de los eventos que no se hayan optimizado y, a continuación, guarde únicamente los eventos no optimizados en un nuevo archivo o tabla de seguimiento.</span><span class="sxs-lookup"><span data-stu-id="90c32-184">Create a new workload by deleting the **LoginName** column from the events that were not tuned, and then save only the untuned events in a new trace file or table.</span></span> <span data-ttu-id="90c32-185">Para obtener más información sobre cómo eliminar columnas de datos de un seguimiento, vea [Especificar eventos y columnas de datos para un archivo de seguimiento &#40;SQL Server Profiler&#41;](../../tools/sql-server-profiler/specify-events-and-data-columns-for-a-trace-file-sql-server-profiler.md) o [Modificar un seguimiento existente &#40;Transact-SQL&#41;](../sql-trace/modify-an-existing-trace-transact-sql.md).</span><span class="sxs-lookup"><span data-stu-id="90c32-185">For more information about deleting data columns from a trace, see [Specify Events and Data Columns for a Trace File &#40;SQL Server Profiler&#41;](../../tools/sql-server-profiler/specify-events-and-data-columns-for-a-trace-file-sql-server-profiler.md) or [Modify an Existing Trace &#40;Transact-SQL&#41;](../sql-trace/modify-an-existing-trace-transact-sql.md).</span></span>  
  
4.  <span data-ttu-id="90c32-186">Vuelva a enviar la nueva carga de trabajo sin la columna **LoginName** al Asistente para la optimización de motor de base de datos.</span><span class="sxs-lookup"><span data-stu-id="90c32-186">Resubmit the new workload without the **LoginName** column to Database Engine Tuning Advisor.</span></span>  
  
 <span data-ttu-id="90c32-187">El Asistente para la optimización de motor de base de datos optimizará la nueva carga de trabajo debido a que no hay información de inicio de sesión especificada en el seguimiento.</span><span class="sxs-lookup"><span data-stu-id="90c32-187">Database Engine Tuning Advisor will tune the new workload because login information is not specified in the trace.</span></span> <span data-ttu-id="90c32-188">Si **LoginName** no existe en una instrucción, el Asistente para la optimización de motor de base de datos optimiza esa instrucción suplantando al usuario que inició la sesión de optimización (un miembro del rol fijo de servidor **sysadmin** o del rol fijo de base de datos **db_owner** ).</span><span class="sxs-lookup"><span data-stu-id="90c32-188">If the **LoginName** does not exist for a statement, Database Engine Tuning Advisor tunes that statement by impersonating the user who started the tuning session (a member of either the **sysadmin** fixed server role or the **db_owner** fixed database role).</span></span>  
  
##  <a name="tune-a-database"></a><a name="Tune"></a> <span data-ttu-id="90c32-189">Optimizar una base de datos</span><span class="sxs-lookup"><span data-stu-id="90c32-189">Tune a Database</span></span>  
 <span data-ttu-id="90c32-190">Para optimizar una base de datos, puede usar la GUI del Asistente para la optimización de motor de base de datos o la utilidad **dta** .</span><span class="sxs-lookup"><span data-stu-id="90c32-190">To tune a database, you can use the Database Engine Tuning Advisor GUI or the **dta** utility.</span></span>  
  
> [!NOTE]  
>  <span data-ttu-id="90c32-191">Asegúrese de que el seguimiento se ha detenido antes de usar una tabla de seguimiento como carga de trabajo para el Asistente para la optimización de motor de base de datos.</span><span class="sxs-lookup"><span data-stu-id="90c32-191">Make sure that tracing has stopped before using a trace table as a workload for Database Engine Tuning Advisor.</span></span> <span data-ttu-id="90c32-192">El Asistente para la optimización de motor de base de datos no permite el uso como carga de trabajo de una tabla de seguimiento en la que aún se están escribiendo eventos de seguimiento.</span><span class="sxs-lookup"><span data-stu-id="90c32-192">Database Engine Tuning Advisor does not support using a trace table to which trace events are still being written as a workload.</span></span>  
  
### <a name="use-the-database-engine-tuning-advisor-graphical-user-interface"></a><span data-ttu-id="90c32-193">Usar la interfaz gráfica de usuario del Asistente para la optimización de motor de base de datos</span><span class="sxs-lookup"><span data-stu-id="90c32-193">Use the Database Engine Tuning Advisor Graphical User Interface</span></span>  
 <span data-ttu-id="90c32-194">En la GUI del Asistente para la optimización de motor de base de datos puede optimizar una base de datos utilizando la memoria caché del plan, los archivos de carga de trabajo o las tablas de carga de trabajo.</span><span class="sxs-lookup"><span data-stu-id="90c32-194">On the Database Engine Tuning Advisor GUI, you can tune a database by using the plan cache, workload files, or workload tables.</span></span> <span data-ttu-id="90c32-195">Puede usar la GUI del Asistente para la optimización de motor de base de datos para ver fácilmente los resultados de la sesión de optimización actual y los resultados de sesiones anteriores.</span><span class="sxs-lookup"><span data-stu-id="90c32-195">You can use the Database Engine Tuning Advisor GUI to easily view the results of your current tuning session and results of previous tuning sessions.</span></span> <span data-ttu-id="90c32-196">Para obtener información sobre las opciones de la interfaz de usuario, vea [Descripciones de la interfaz de usuario](#UI) más adelante en este tema.</span><span class="sxs-lookup"><span data-stu-id="90c32-196">For information about user interface options, see [User Interface Descriptions](#UI) later in this topic.</span></span> <span data-ttu-id="90c32-197">Para obtener más información sobre cómo trabajar con la salida después de optimizar una base de datos, vea [Ver y trabajar con la salida del Asistente para la optimización de motor de base de datos](database-engine-tuning-advisor.md).</span><span class="sxs-lookup"><span data-stu-id="90c32-197">For more information about working with the output after you tune a database, see [View and Work with the Output from the Database Engine Tuning Advisor](database-engine-tuning-advisor.md).</span></span>  
  
####  <a name="to-tune-a-database-by-using-the-plan-cache"></a><a name="PlanCache"></a> <span data-ttu-id="90c32-198">Para optimizar una base de datos mediante caché de plan</span><span class="sxs-lookup"><span data-stu-id="90c32-198">To tune a database by using the plan cache</span></span>  
  
1.  <span data-ttu-id="90c32-199">Inicie el Asistente para la optimización de motor de base de datos e inicie sesión en una instancia de [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)].</span><span class="sxs-lookup"><span data-stu-id="90c32-199">Launch Database Engine Tuning Advisor, and log into an instance of [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)].</span></span> <span data-ttu-id="90c32-200">Para obtener más información, vea [Iniciar el Asistente para la optimización de motor de base de datos](#Start) anteriormente en este tema.</span><span class="sxs-lookup"><span data-stu-id="90c32-200">For more information, see [Start the Database Engine Tuning Advisor](#Start) earlier in this topic.</span></span>  
  
2.  <span data-ttu-id="90c32-201">En la pestaña **General** , escriba un nombre en **Nombre de sesión** para crear una nueva sesión de optimización.</span><span class="sxs-lookup"><span data-stu-id="90c32-201">On the **General** tab, type a name in **Session name** to create a new tuning session.</span></span> <span data-ttu-id="90c32-202">Deberá configurar los campos de la pestaña **General** antes de iniciar una sesión de optimización.</span><span class="sxs-lookup"><span data-stu-id="90c32-202">You must configure the fields in the **General** tab before starting a tuning session.</span></span> <span data-ttu-id="90c32-203">No es necesario modificar las opciones de la pestaña **Opciones de optimización** antes de iniciar una sesión de optimización.</span><span class="sxs-lookup"><span data-stu-id="90c32-203">It is not necessary to modify the settings of the **Tuning Options** tab before starting a tuning session.</span></span>  
  
3.  <span data-ttu-id="90c32-204">Seleccione **Caché del plan** como la opción de carga de trabajo.</span><span class="sxs-lookup"><span data-stu-id="90c32-204">Select **Plan Cache** as the workload option.</span></span> <span data-ttu-id="90c32-205">El Asistente para la optimización de motor de base de datos selecciona los 1.000 eventos principales de la memoria caché de plan para usarlos en el análisis.</span><span class="sxs-lookup"><span data-stu-id="90c32-205">Database Engine Tuning Advisor selects the top 1,000 events from the plan cache to use for analysis.</span></span>  
  
4.  <span data-ttu-id="90c32-206">Seleccione las bases de datos que desea optimizar y, opcionalmente, en **Tablas seleccionadas**, elija una o más tablas de cada base de datos.</span><span class="sxs-lookup"><span data-stu-id="90c32-206">Select the database or databases that you want to tune, and optionally from **Selected Tables**, choose one or more tables from each database.</span></span> <span data-ttu-id="90c32-207">Para incluir las entradas de caché de todas las bases de datos, en **Opciones de optimización**, haga clic en **Opciones avanzadas** y active **Incluir eventos de caché del plan de todas las bases de datos**.</span><span class="sxs-lookup"><span data-stu-id="90c32-207">To include cache entries for all databases, from **Tuning Options**, click **Advanced Options** and then check **Include plan cache events from all databases**.</span></span>  
  
5.  <span data-ttu-id="90c32-208">Seleccione **Guardar registro de optimización** para guardar una copia del registro de optimización.</span><span class="sxs-lookup"><span data-stu-id="90c32-208">Check **Save tuning log** to save a copy of the tuning log.</span></span> <span data-ttu-id="90c32-209">Desactive la casilla si no desea guardar una copia del registro de optimización.</span><span class="sxs-lookup"><span data-stu-id="90c32-209">Clear the check box if you do not want to save a copy of the tuning log.</span></span>  
  
     <span data-ttu-id="90c32-210">Puede ver el registro de optimización después del análisis; para ello, abra la sesión y seleccione la pestaña **Progreso** .</span><span class="sxs-lookup"><span data-stu-id="90c32-210">You can view the tuning log after analysis by opening the session and selecting the **Progress** tab.</span></span>  
  
6.  <span data-ttu-id="90c32-211">Haga clic en la pestaña **Opciones de optimización** y seleccione las opciones que figuran en la lista.</span><span class="sxs-lookup"><span data-stu-id="90c32-211">Click the **Tuning Options** tab and select from the options listed there.</span></span>  
  
7.  <span data-ttu-id="90c32-212">Haga clic en **Iniciar análisis**.</span><span class="sxs-lookup"><span data-stu-id="90c32-212">Click **Start Analysis**.</span></span>  
  
     <span data-ttu-id="90c32-213">Si desea detener la sesión de optimización una vez iniciada, en el menú **Acciones** elija una de las siguientes opciones:</span><span class="sxs-lookup"><span data-stu-id="90c32-213">If you want to stop the tuning session after it has started, choose one of the following options on the **Actions** menu:</span></span>  
  
    -   <span data-ttu-id="90c32-214">**Detener análisis (con recomendaciones)** detiene la sesión de optimización y pregunta al usuario si quiere que el Asistente para la optimización de motor de base de datos genere recomendaciones basadas en el análisis realizado hasta este punto.</span><span class="sxs-lookup"><span data-stu-id="90c32-214">**Stop Analysis (With Recommendations)** stops the tuning session and prompts you to decide whether you want Database Engine Tuning Advisor to generate recommendations based on the analysis done up to this point.</span></span>  
  
    -   <span data-ttu-id="90c32-215">**Detener análisis** detiene la sesión de optimización sin generar ninguna recomendación.</span><span class="sxs-lookup"><span data-stu-id="90c32-215">**Stop Analysis** stops the tuning session without generating any recommendations.</span></span>  
  
> [!NOTE]  
>  <span data-ttu-id="90c32-216">No se admite la detección del Asistente para la optimización de motor de base de datos.</span><span class="sxs-lookup"><span data-stu-id="90c32-216">Pausing Database Engine Tuning Advisor is not supported.</span></span> <span data-ttu-id="90c32-217">Si hace clic en el botón de la barra de herramientas **Iniciar análisis** después de hacer clic en el botón **Detener análisis** o **Detener análisis (con recomendaciones)** , el Asistente para la optimización de motor de base de datos inicia una sesión de optimización nueva.</span><span class="sxs-lookup"><span data-stu-id="90c32-217">If you click the **Start Analysis** toolbar button after clicking either the **Stop Analysis** or **Stop Analysis (With Recommendations)** toolbar buttons, Database Engine Tuning Advisor starts a new tuning session.</span></span>  
  
##### <a name="to-tune-a-database-using-a-workload-file-or-table-as-input"></a><span data-ttu-id="90c32-218">Para optimizar una base de datos mediante una tabla o archivo de carga de trabajo como entrada</span><span class="sxs-lookup"><span data-stu-id="90c32-218">To tune a database using a workload file or table as input</span></span>  
  
1.  <span data-ttu-id="90c32-219">Determine las características de la base de datos (índices, vistas indizadas, creación de particiones) que desee que el Asistente para la optimización de motor de base de datos pueda agregar, quitar o retener durante el análisis.</span><span class="sxs-lookup"><span data-stu-id="90c32-219">Determine the database features (indexes, indexed views, partitioning) you want Database Engine Tuning Advisor to consider adding, removing, or retaining during analysis.</span></span>  
  
2.  <span data-ttu-id="90c32-220">Cree una carga de trabajo.</span><span class="sxs-lookup"><span data-stu-id="90c32-220">Create a workload.</span></span> <span data-ttu-id="90c32-221">Para obtener más información, vea [Crear una carga de trabajo](#Create) , anteriormente en este tema.</span><span class="sxs-lookup"><span data-stu-id="90c32-221">For more information, see [Create a Workload](#Create) earlier in this topic.</span></span>  
  
3.  <span data-ttu-id="90c32-222">Inicie el Asistente para la optimización de motor de base de datos e inicie sesión en una instancia de [!INCLUDE[msCoName](../../includes/msconame-md.md)] [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)].</span><span class="sxs-lookup"><span data-stu-id="90c32-222">Launch Database Engine Tuning Advisor, and log into an instance of [!INCLUDE[msCoName](../../includes/msconame-md.md)] [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)].</span></span> <span data-ttu-id="90c32-223">Para obtener más información, vea [Iniciar el Asistente para la optimización de motor de base de datos](#Start) anteriormente en este tema.</span><span class="sxs-lookup"><span data-stu-id="90c32-223">For more information, see [Start the Database Engine Tuning Advisor](#Start) earlier in this topic.</span></span>  
  
4.  <span data-ttu-id="90c32-224">En la pestaña **General** , escriba un nombre en **Nombre de sesión** para crear una nueva sesión de optimización.</span><span class="sxs-lookup"><span data-stu-id="90c32-224">On the **General** tab, type a name in **Session name** to create a new tuning session.</span></span>  
  
5.  <span data-ttu-id="90c32-225">Elija **Archivo de carga de trabajo** o **Tabla** y escriba la ruta de acceso al archivo o el nombre de la tabla en el cuadro de texto adyacente.</span><span class="sxs-lookup"><span data-stu-id="90c32-225">Choose either a **Workload File** or **Table** and type either the path to the file, or the name of the table in the adjacent text box.</span></span>  
  
     <span data-ttu-id="90c32-226">El formato para especificar una tabla es:</span><span class="sxs-lookup"><span data-stu-id="90c32-226">The format for specifying a table is</span></span>  
  
    ```  
  
    database_name.schema_name.table_name  
    ```  
  
     <span data-ttu-id="90c32-227">Para buscar una tabla o archivo de carga de trabajo, haga clic en **Examinar**.</span><span class="sxs-lookup"><span data-stu-id="90c32-227">To search for a workload file or table, click **Browse**.</span></span> <span data-ttu-id="90c32-228">El Asistente para la optimización de motor de base de datos presupone que los archivos de carga de trabajo son archivos de sustitución incremental.</span><span class="sxs-lookup"><span data-stu-id="90c32-228">Database Engine Tuning Advisor assumes that workload files are rollover files.</span></span> <span data-ttu-id="90c32-229">Para obtener más información sobre los archivos de sustitución incremental, vea [Limit Trace File and Table Sizes](../sql-trace/limit-trace-file-and-table-sizes.md).</span><span class="sxs-lookup"><span data-stu-id="90c32-229">For more information about rollover files, see [Limit Trace File and Table Sizes](../sql-trace/limit-trace-file-and-table-sizes.md).</span></span>  
  
     <span data-ttu-id="90c32-230">Al usar una tabla de seguimiento como una carga de trabajo, esa tabla debe existir en el mismo servidor que el Asistente para la optimización de motor de base de datos está optimizando.</span><span class="sxs-lookup"><span data-stu-id="90c32-230">When using a trace table as a workload, that table must exist on the same server that Database Engine Tuning Advisor is tuning.</span></span> <span data-ttu-id="90c32-231">Si crea una tabla de seguimiento en otro servidor, muévala al servidor en el que el Asistente para la optimización de motor de base de datos está realizando la optimización antes de utilizarla como carga de trabajo.</span><span class="sxs-lookup"><span data-stu-id="90c32-231">If you create the trace table on a different server, move it to the server that Database Engine Tuning Advisor is tuning before using it as your workload.</span></span>  
  
6.  <span data-ttu-id="90c32-232">Seleccione las bases de datos y las tablas en las que desea ejecutar la carga de trabajo seleccionada en el paso 5.</span><span class="sxs-lookup"><span data-stu-id="90c32-232">Select the databases and tables against which you wish to run the workload that you selected in step 5.</span></span> <span data-ttu-id="90c32-233">Para seleccionar las tablas, haga clic en la flecha **Tablas seleccionadas** .</span><span class="sxs-lookup"><span data-stu-id="90c32-233">To select the tables, click the **Selected Tables** arrow.</span></span>  
  
7.  <span data-ttu-id="90c32-234">Seleccione **Guardar registro de optimización** para guardar una copia del registro de optimización.</span><span class="sxs-lookup"><span data-stu-id="90c32-234">Check **Save tuning log** to save a copy of the tuning log.</span></span> <span data-ttu-id="90c32-235">Desactive la casilla si no desea guardar una copia del registro de optimización.</span><span class="sxs-lookup"><span data-stu-id="90c32-235">Clear the check box if you do not want to save a copy of the tuning log.</span></span>  
  
     <span data-ttu-id="90c32-236">Puede ver el registro de optimización después del análisis; para ello, abra la sesión y seleccione la pestaña **Progreso** .</span><span class="sxs-lookup"><span data-stu-id="90c32-236">You can view the tuning log after analysis by opening the session and selecting the **Progress** tab.</span></span>  
  
8.  <span data-ttu-id="90c32-237">Haga clic en la pestaña **Opciones de optimización** y seleccione las opciones que figuran en la lista.</span><span class="sxs-lookup"><span data-stu-id="90c32-237">Click the **Tuning Options** tab and select from the options listed there.</span></span>  
  
9. <span data-ttu-id="90c32-238">Haga clic en el botón **Iniciar análisis** de la barra de herramientas.</span><span class="sxs-lookup"><span data-stu-id="90c32-238">Click the **Start Analysis** button in the toolbar.</span></span>  
  
     <span data-ttu-id="90c32-239">Si desea detener la sesión de optimización una vez iniciada, en el menú **Acciones** elija una de las siguientes opciones:</span><span class="sxs-lookup"><span data-stu-id="90c32-239">If you want to stop the tuning session after it has started, choose one of the following options on the **Actions** menu:</span></span>  
  
    -   <span data-ttu-id="90c32-240">**Detener análisis (con recomendaciones)** detiene la sesión de optimización y pregunta al usuario si quiere que el Asistente para la optimización de motor de base de datos genere recomendaciones basadas en el análisis realizado hasta este punto.</span><span class="sxs-lookup"><span data-stu-id="90c32-240">**Stop Analysis (With Recommendations)** stops the tuning session and prompts you to decide whether you want Database Engine Tuning Advisor to generate recommendations based on the analysis done up to this point.</span></span>  
  
    -   <span data-ttu-id="90c32-241">**Detener análisis** detiene la sesión de optimización sin generar ninguna recomendación.</span><span class="sxs-lookup"><span data-stu-id="90c32-241">**Stop Analysis** stops the tuning session without generating any recommendations.</span></span>  
  
> [!NOTE]  
>  <span data-ttu-id="90c32-242">No se admite la detección del Asistente para la optimización de motor de base de datos.</span><span class="sxs-lookup"><span data-stu-id="90c32-242">Pausing Database Engine Tuning Advisor is not supported.</span></span> <span data-ttu-id="90c32-243">Si hace clic en el botón de la barra de herramientas **Iniciar análisis** después de hacer clic en el botón **Detener análisis** o **Detener análisis (con recomendaciones)** , el Asistente para la optimización de motor de base de datos inicia una sesión de optimización nueva.</span><span class="sxs-lookup"><span data-stu-id="90c32-243">If you click the **Start Analysis** toolbar button after clicking either the **Stop Analysis** or **Stop Analysis (With Recommendations)** toolbar buttons, Database Engine Tuning Advisor starts a new tuning session.</span></span>  
  
###  <a name="use-the-dta-utility"></a><a name="dta"></a> <span data-ttu-id="90c32-244">Usar la utilidad dta</span><span class="sxs-lookup"><span data-stu-id="90c32-244">Use the dta Utility</span></span>  
 <span data-ttu-id="90c32-245">La [utilidad dta](../../tools/dta/dta-utility.md) proporciona un archivo ejecutable en el símbolo del sistema que puede usar para optimizar bases de datos.</span><span class="sxs-lookup"><span data-stu-id="90c32-245">The [dta utility](../../tools/dta/dta-utility.md) provides a command prompt executable file that you can use to tune databases.</span></span> <span data-ttu-id="90c32-246">Esto permite usar la funcionalidad del Asistente para la optimización de motor de base de datos en archivos por lotes y scripts.</span><span class="sxs-lookup"><span data-stu-id="90c32-246">It enables you to use Database Engine Tuning Advisor functionality in batch files and scripts.</span></span> <span data-ttu-id="90c32-247">La utilidad **dta** usa las entradas de caché del plan, los archivos de seguimiento, las tablas de seguimiento y los scripts [!INCLUDE[tsql](../../includes/tsql-md.md)] como cargas de trabajo.</span><span class="sxs-lookup"><span data-stu-id="90c32-247">The **dta** utility takes plan cache entries, trace files, trace tables, and [!INCLUDE[tsql](../../includes/tsql-md.md)] scripts as workloads.</span></span> <span data-ttu-id="90c32-248">También usa la entrada XML que se ajusta al esquema XML del Asistente para la optimización de motor de base de datos, que está disponible en este [sitio web de Microsoft](https://go.microsoft.com/fwlink/?linkid=43100).</span><span class="sxs-lookup"><span data-stu-id="90c32-248">It also takes XML input that conforms to the Database Engine Tuning Advisor XML schema, which is available at this [Microsoft Web site](https://go.microsoft.com/fwlink/?linkid=43100).</span></span>  
  
 <span data-ttu-id="90c32-249">Tenga en cuenta lo siguiente antes de optimizar una carga de trabajo con la utilidad **dta** :</span><span class="sxs-lookup"><span data-stu-id="90c32-249">Consider the following before you begin tuning a workload with the **dta** utility:</span></span>  
  
-   <span data-ttu-id="90c32-250">Al usar una tabla de seguimiento como una carga de trabajo, esa tabla debe existir en el mismo servidor que el Asistente para la optimización de motor de base de datos está optimizando.</span><span class="sxs-lookup"><span data-stu-id="90c32-250">When using a trace table as a workload, that table must exist on the same server that Database Engine Tuning Advisor is tuning.</span></span> <span data-ttu-id="90c32-251">Si crea la tabla de seguimiento en otro servidor, muévala al servidor que el Asistente para la optimización de motor de base de datos está optimizando.</span><span class="sxs-lookup"><span data-stu-id="90c32-251">If you create the trace table on a different server, then move it to the server that Database Engine Tuning Advisor is tuning.</span></span>  
  
-   <span data-ttu-id="90c32-252">Asegúrese de que el seguimiento se ha detenido antes de usar una tabla de seguimiento como carga de trabajo para el Asistente para la optimización de motor de base de datos.</span><span class="sxs-lookup"><span data-stu-id="90c32-252">Make sure that tracing has stopped before using a trace table as a workload for Database Engine Tuning Advisor.</span></span> <span data-ttu-id="90c32-253">El Asistente para la optimización de motor de base de datos no permite el uso como carga de trabajo de una tabla de seguimiento en la que aún se están escribiendo eventos de seguimiento.</span><span class="sxs-lookup"><span data-stu-id="90c32-253">Database Engine Tuning Advisor does not support using a trace table to which trace events are still being written as a workload.</span></span>  
  
-   <span data-ttu-id="90c32-254">Si una sesión de optimización continúa ejecutándose más tiempo del que había previsto, puede pulse CTRL+C para detener la sesión de optimización y generar recomendaciones basadas en el análisis que **dta** ha completado hasta ese momento.</span><span class="sxs-lookup"><span data-stu-id="90c32-254">If a tuning session continues running longer than you had anticipated it would run, you can press CTRL+C to stop the tuning session and generate recommendations based on the analysis **dta** has completed up to this point.</span></span> <span data-ttu-id="90c32-255">Se le solicitará que decida si desea o no generar recomendaciones.</span><span class="sxs-lookup"><span data-stu-id="90c32-255">You will be prompted to decide whether you want to generate recommendations or not.</span></span> <span data-ttu-id="90c32-256">Presione CTRL+C de nuevo para detener la sesión de optimización sin generar recomendaciones.</span><span class="sxs-lookup"><span data-stu-id="90c32-256">Press CTRL+C again to stop the tuning session without generating recommendations.</span></span>  
  
 <span data-ttu-id="90c32-257">Para más información sobre la sintaxis de la utilidad **dta** y ejemplos, vea [dta Utility](../../tools/dta/dta-utility.md).</span><span class="sxs-lookup"><span data-stu-id="90c32-257">For more information about **dta** utility syntax and examples, see [dta Utility](../../tools/dta/dta-utility.md).</span></span>  
  
##### <a name="to-tune-a-database-by-using-the-plan-cache"></a><span data-ttu-id="90c32-258">Para optimizar una base de datos mediante caché de plan</span><span class="sxs-lookup"><span data-stu-id="90c32-258">To tune a database by using the plan cache</span></span>  
  
1.  <span data-ttu-id="90c32-259">Especifique la opción **-ip** .</span><span class="sxs-lookup"><span data-stu-id="90c32-259">Specify the **-ip** option.</span></span> <span data-ttu-id="90c32-260">Se analizan los primeros 1.000 eventos de caché del plan para las bases de datos seleccionadas.</span><span class="sxs-lookup"><span data-stu-id="90c32-260">The top 1,000 plan cache events for the selected databases are analyzed.</span></span>  
  
     <span data-ttu-id="90c32-261">En el símbolo del sistema, escriba lo siguiente:</span><span class="sxs-lookup"><span data-stu-id="90c32-261">From a command prompt, enter the following:</span></span>  
  
    ```  
    dta -E -D DatabaseName -ip -s SessionName  
    ```  
  
2.  <span data-ttu-id="90c32-262">Para modificar el número de eventos que se van a usar para el análisis, especifique la opción **-n**.</span><span class="sxs-lookup"><span data-stu-id="90c32-262">To modify the number of events to use for analysis, specify the **-n** option.</span></span> <span data-ttu-id="90c32-263">El ejemplo siguiente aumenta el número de entradas de caché en 2.000.</span><span class="sxs-lookup"><span data-stu-id="90c32-263">The following example increases the number of cache entries to 2,000.</span></span>  
  
    ```  
    dta -E -D DatabaseName -ip -n 2000-s SessionName1  
    ```  
  
3.  <span data-ttu-id="90c32-264">Para analizar los eventos de todas las bases de datos de la instancia, especifique la opción **-ipf** .</span><span class="sxs-lookup"><span data-stu-id="90c32-264">To analyze events for all databases in the instance, specify the **-ipf** option.</span></span>  
  
    ```  
    dta -E -D DatabaseName -ip -ipf -n 2000 -s SessionName2  
    ```  
  
##### <a name="to-tune-a-database-by-using-a-workload-and-dta-utility-default-settings"></a><span data-ttu-id="90c32-265">Para optimizar una base de datos mediante una carga de trabajo y la configuración predeterminada de la utilidad dta</span><span class="sxs-lookup"><span data-stu-id="90c32-265">To tune a database by using a workload and dta utility default settings</span></span>  
  
1.  <span data-ttu-id="90c32-266">Determine las características de la base de datos (índices, vistas indizadas, creación de particiones) que desee que el Asistente para la optimización de motor de base de datos pueda agregar, quitar o retener durante el análisis.</span><span class="sxs-lookup"><span data-stu-id="90c32-266">Determine the database features (indexes, indexed views, partitioning) you want Database Engine Tuning Advisor to consider adding, removing, or retaining during analysis.</span></span>  
  
2.  <span data-ttu-id="90c32-267">Cree una carga de trabajo.</span><span class="sxs-lookup"><span data-stu-id="90c32-267">Create a workload.</span></span> <span data-ttu-id="90c32-268">Para obtener más información, vea [Crear una carga de trabajo](#Create) , anteriormente en este tema.</span><span class="sxs-lookup"><span data-stu-id="90c32-268">For more information, see [Create a Workload](#Create) earlier in this topic.</span></span>  
  
3.  <span data-ttu-id="90c32-269">En el símbolo del sistema, escriba lo siguiente:</span><span class="sxs-lookup"><span data-stu-id="90c32-269">From a command prompt, enter the following:</span></span>  
  
    ```  
    dta -E -D DatabaseName -if WorkloadFile -s SessionName  
    ```  
  
     <span data-ttu-id="90c32-270">donde `-E` especifica que la sesión de optimización utilice una conexión de confianza (en lugar de un identificador de inicio de sesión y una contraseña); `-D` especifica el nombre de la base de datos que desea optimizar.</span><span class="sxs-lookup"><span data-stu-id="90c32-270">where `-E` specifies that your tuning session uses a trusted connection (instead of a login ID and password), `-D` specifies the name of the database you want to tune.</span></span> <span data-ttu-id="90c32-271">De forma predeterminada, la utilidad se conecta a la instancia predeterminada de [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] en el equipo local.</span><span class="sxs-lookup"><span data-stu-id="90c32-271">By default, the utility connects to the default instance of [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] on the local computer.</span></span> <span data-ttu-id="90c32-272">(Use la opción `-S` para especificar una base de datos remota, como se muestra en el siguiente procedimiento, o bien para especificar una instancia con nombre.) La opción `-if` especifica el nombre y la ruta de acceso a un archivo de carga de trabajo (que puede ser un script [!INCLUDE[tsql](../../includes/tsql-md.md)] o un archivo de seguimiento) y `-s` especifica un nombre para la sesión de optimización.</span><span class="sxs-lookup"><span data-stu-id="90c32-272">(Use the `-S` option to specify a remote database as shown in the following procedure, or to specify a named instance.) The `-if` option specifies the name and path to a workload file (which can be a [!INCLUDE[tsql](../../includes/tsql-md.md)] script or a trace file), and `-s` specifies a name for your tuning session.</span></span>  
  
     <span data-ttu-id="90c32-273">Las cuatro opciones mostradas aquí (nombre de la base de datos, carga de trabajo, tipo de conexión y nombre de la sesión) son obligatorias.</span><span class="sxs-lookup"><span data-stu-id="90c32-273">The four options shown here (database name, workload, connection type, and session name) are mandatory.</span></span>  
  
##### <a name="to-tune-a-remote-database-or-a-named-instance-for-a-specific-duration"></a><span data-ttu-id="90c32-274">Para optimizar una base de datos remota o una instancia con nombre con una determinada duración</span><span class="sxs-lookup"><span data-stu-id="90c32-274">To tune a remote database or a named instance for a specific duration</span></span>  
  
1.  <span data-ttu-id="90c32-275">Determine las características de la base de datos (índices, vistas indizadas, creación de particiones) que desee que el Asistente para la optimización de motor de base de datos pueda agregar, quitar o retener durante el análisis.</span><span class="sxs-lookup"><span data-stu-id="90c32-275">Determine the database features (indexes, indexed views, partitioning) you want Database Engine Tuning Advisor to consider adding, removing, or retaining during analysis.</span></span>  
  
2.  <span data-ttu-id="90c32-276">Cree una carga de trabajo.</span><span class="sxs-lookup"><span data-stu-id="90c32-276">Create a workload.</span></span> <span data-ttu-id="90c32-277">Para obtener más información, vea [Crear una carga de trabajo](#Create) , anteriormente en este tema.</span><span class="sxs-lookup"><span data-stu-id="90c32-277">For more information, see [Create a Workload](#Create) earlier in this topic.</span></span>  
  
3.  <span data-ttu-id="90c32-278">En el símbolo del sistema, escriba lo siguiente:</span><span class="sxs-lookup"><span data-stu-id="90c32-278">From a command prompt, enter the following:</span></span>  
  
    ```  
    dta -S ServerName\Instance -D DatabaseName -it WorkloadTableName   
    -U LoginID -P Password -s SessionName -A TuningTimeInMinutes  
    ```  
  
     <span data-ttu-id="90c32-279">donde `-S` especifica el nombre de una instancia y un servidor remotos (o una instancia con nombre en el servidor local) y `-D` especifica el nombre de la base de datos que desea optimizar.</span><span class="sxs-lookup"><span data-stu-id="90c32-279">where `-S` specifies a remote server name and instance (or a named instance on the local server) and `-D` specifies the name of the database you want to tune.</span></span> <span data-ttu-id="90c32-280">La opción `-it` especifica el nombre de la tabla de carga de trabajo, `-U` y `-P` especifican el identificador de inicio de sesión y la contraseña de la base de datos remota, `-s` especifica el nombre de la sesión de optimización y `-A` especifica la duración de la sesión de optimización en minutos.</span><span class="sxs-lookup"><span data-stu-id="90c32-280">The `-it` option specifies the name of the workload table, `-U` and `-P` specify the login ID and password to the remote database, `-s` specifies the tuning session name, and `-A` specifies the tuning session duration in minutes.</span></span> <span data-ttu-id="90c32-281">La utilidad **dta** usa de forma predeterminada una duración de optimización de 8 horas.</span><span class="sxs-lookup"><span data-stu-id="90c32-281">By default, the **dta** utility uses an 8-hour tuning duration.</span></span> <span data-ttu-id="90c32-282">Si quiere que el Asistente para la optimización de motor de base de datos optimice una carga de trabajo durante un tiempo ilimitado, especifique **0** (cero) en la opción `-A` .</span><span class="sxs-lookup"><span data-stu-id="90c32-282">If you would like Database Engine Tuning Advisor to tune a workload for an unlimited amount of time, specify **0** (zero) with the `-A` option.</span></span>  
  
##### <a name="to-tune-a-database-using-an-xml-input-file"></a><span data-ttu-id="90c32-283">Para optimizar una base de datos mediante un archivo de entrada XML</span><span class="sxs-lookup"><span data-stu-id="90c32-283">To tune a database using an XML input file</span></span>  
  
1.  <span data-ttu-id="90c32-284">Determine las características de la base de datos (índices, vistas indizadas, creación de particiones) que desee que el Asistente para la optimización de motor de base de datos pueda agregar, quitar o retener durante el análisis.</span><span class="sxs-lookup"><span data-stu-id="90c32-284">Determine the database features (indexes, indexed views, partitioning) you want Database Engine Tuning Advisor to consider adding, removing, or retaining during analysis.</span></span>  
  
2.  <span data-ttu-id="90c32-285">Cree una carga de trabajo.</span><span class="sxs-lookup"><span data-stu-id="90c32-285">Create a workload.</span></span> <span data-ttu-id="90c32-286">Para obtener más información, vea [Crear una carga de trabajo](#Create) , anteriormente en este tema.</span><span class="sxs-lookup"><span data-stu-id="90c32-286">For more information, see [Create a Workload](#Create) earlier in this topic.</span></span>  
  
3.  <span data-ttu-id="90c32-287">Cree un archivo de entrada XML.</span><span class="sxs-lookup"><span data-stu-id="90c32-287">Create an XML input file.</span></span> <span data-ttu-id="90c32-288">Para obtener más información, vea [Crear archivos de entrada XML](#XMLInput) más adelante en este tema.</span><span class="sxs-lookup"><span data-stu-id="90c32-288">For more information, see [Create XML Input Files](#XMLInput) later in this topic.</span></span>  
  
4.  <span data-ttu-id="90c32-289">En el símbolo del sistema, escriba lo siguiente:</span><span class="sxs-lookup"><span data-stu-id="90c32-289">From a command prompt, enter the following:</span></span>  
  
    ```  
    dta -E -S ServerName\Instance -s SessionName -ix PathToXMLInputFile  
    ```  
  
     <span data-ttu-id="90c32-290">donde `-E` especifica una conexión de confianza, `-S` especifica una instancia y un servidor remotos o una instancia con nombre en el servidor local, `-s` especifica el nombre de la sesión de optimización e `-ix` especifica el archivo de entrada XML que se usará en la sesión de optimización.</span><span class="sxs-lookup"><span data-stu-id="90c32-290">where `-E` specifies a trusted connection, `-S` specifies a remote server and instance, or a named instance on the local server, `-s` specifies a tuning session name, and `-ix` specifies the XML input file to use for the tuning session.</span></span>  
  
5.  <span data-ttu-id="90c32-291">Cuando la utilidad termine de optimizar la carga de trabajo, puede ver los resultados de las sesiones de optimización mediante la GUI del Asistente para la optimización de motor de base de datos.</span><span class="sxs-lookup"><span data-stu-id="90c32-291">After the utility finishes tuning the workload, you can view the results of tuning sessions with the Database Engine Tuning Advisor GUI.</span></span> <span data-ttu-id="90c32-292">Otra posibilidad es especificar que las recomendaciones de optimización se escriban en un archivo XML con la opción **-ox** .</span><span class="sxs-lookup"><span data-stu-id="90c32-292">As an alternative, you can also specify that the tuning recommendations be written to an XML file with the **-ox** option.</span></span> <span data-ttu-id="90c32-293">Para obtener más información, consulte [dta Utility](../../tools/dta/dta-utility.md).</span><span class="sxs-lookup"><span data-stu-id="90c32-293">For more information, see [dta Utility](../../tools/dta/dta-utility.md).</span></span>  
  
##  <a name="create-an-xml-input-file"></a><a name="XMLInput"></a> <span data-ttu-id="90c32-294">Crear un archivo de entrada XML</span><span class="sxs-lookup"><span data-stu-id="90c32-294">Create an XML Input File</span></span>  
 <span data-ttu-id="90c32-295">Si el usuario es un desarrollador de XML experimentado, puede crear archivos con formato XML que el Asistente para la optimización de [!INCLUDE[ssDE](../../includes/ssde-md.md)] podrá utilizar para optimizar cargas de trabajo.</span><span class="sxs-lookup"><span data-stu-id="90c32-295">If you are an experienced XML developer, you can create XML-formatted files that [!INCLUDE[ssDE](../../includes/ssde-md.md)] Tuning Advisor can use to tune workloads.</span></span> <span data-ttu-id="90c32-296">Para crear estos archivos XML, utilice las herramientas XML para modificar un archivo de ejemplo o para generar una instancia del esquema XML del Asistente para la optimización de [!INCLUDE[ssDE](../../includes/ssde-md.md)] .</span><span class="sxs-lookup"><span data-stu-id="90c32-296">To create these XML files, use your favorite XML tools to edit a sample file or to generate an instance from the [!INCLUDE[ssDE](../../includes/ssde-md.md)] Tuning Advisor XML schema.</span></span>  
  
 <span data-ttu-id="90c32-297">El esquema XML del Asistente para la optimización de [!INCLUDE[ssDE](../../includes/ssde-md.md)] está disponible en la instalación de [!INCLUDE[msCoName](../../includes/msconame-md.md)] [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] en la ubicación siguiente:</span><span class="sxs-lookup"><span data-stu-id="90c32-297">The [!INCLUDE[ssDE](../../includes/ssde-md.md)] Tuning Advisor XML schema is available in your [!INCLUDE[msCoName](../../includes/msconame-md.md)] [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] installation in the following location:</span></span>  
  
 <span data-ttu-id="90c32-298">C:\Archivos de programa\Microsoft SQL Server\100\Tools\Binn\schemas\sqlserver\2004\07\dta\dtaschema.xsd</span><span class="sxs-lookup"><span data-stu-id="90c32-298">C:\Program Files\Microsoft SQL Server\100\Tools\Binn\schemas\sqlserver\2004\07\dta\dtaschema.xsd</span></span>  
  
 <span data-ttu-id="90c32-299">El esquema XML del Asistente para la optimización de [!INCLUDE[ssDE](../../includes/ssde-md.md)] también se encuentra disponible en línea en este [sitio web de Microsoft](https://go.microsoft.com/fwlink/?linkid=43100&clcid=0x409).</span><span class="sxs-lookup"><span data-stu-id="90c32-299">The [!INCLUDE[ssDE](../../includes/ssde-md.md)] Tuning Advisor XML schema is also available online at this [Microsoft Web site](https://go.microsoft.com/fwlink/?linkid=43100&clcid=0x409).</span></span>  
  
 <span data-ttu-id="90c32-300">Esta dirección URL le lleva a una página en la que encontrará muchos esquemas XML de [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] .</span><span class="sxs-lookup"><span data-stu-id="90c32-300">This URL takes you to a page where many [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] XML schemas are available.</span></span> <span data-ttu-id="90c32-301">Desplácese por la página hasta que llegue a la fila del Asistente para la optimización de [!INCLUDE[ssDE](../../includes/ssde-md.md)] .</span><span class="sxs-lookup"><span data-stu-id="90c32-301">Scroll down the page until you reach the row for [!INCLUDE[ssDE](../../includes/ssde-md.md)] Tuning Advisor.</span></span>  
  
#### <a name="to-create-an-xml-input-file-to-tune-workloads"></a><span data-ttu-id="90c32-302">Para crear un archivo de entrada XML para optimizar cargas de trabajo</span><span class="sxs-lookup"><span data-stu-id="90c32-302">To create an XML input file to tune workloads</span></span>  
  
1.  <span data-ttu-id="90c32-303">Cree una carga de trabajo.</span><span class="sxs-lookup"><span data-stu-id="90c32-303">Create a workload.</span></span> <span data-ttu-id="90c32-304">Puede utilizar una tabla o un archivo de seguimiento mediante la plantilla de optimización en el [!INCLUDE[ssSqlProfiler](../../includes/sssqlprofiler-md.md)], o bien crear un script [!INCLUDE[tsql](../../includes/tsql-md.md)] que reproduzca una carga de trabajo representativa para [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)].</span><span class="sxs-lookup"><span data-stu-id="90c32-304">You can use a trace file or table by using the tuning template in [!INCLUDE[ssSqlProfiler](../../includes/sssqlprofiler-md.md)], or create a [!INCLUDE[tsql](../../includes/tsql-md.md)] script that reproduces a representative workload for [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)].</span></span> <span data-ttu-id="90c32-305">Para obtener más información, vea [Crear una carga de trabajo](#Create) , anteriormente en este tema.</span><span class="sxs-lookup"><span data-stu-id="90c32-305">For more information, see [Create a Workload](#Create) earlier in this topic.</span></span>  
  
2.  <span data-ttu-id="90c32-306">Cree un archivo de entrada XML mediante uno de los métodos siguientes:</span><span class="sxs-lookup"><span data-stu-id="90c32-306">Create an XML input file by one of the following methods:</span></span>  
  
    -   <span data-ttu-id="90c32-307">Copie y pegue uno de los [ejemplos de archivos de entrada XML &#40;DTA&#41;](../../tools/dta/xml-input-file-samples-dta.md) en el editor XML que quiera.</span><span class="sxs-lookup"><span data-stu-id="90c32-307">Copy and paste one of the [XML Input File Samples &#40;DTA&#41;](../../tools/dta/xml-input-file-samples-dta.md) into your favorite XML editor.</span></span> <span data-ttu-id="90c32-308">Cambie los valores de forma que se especifiquen los argumentos apropiados para su instalación de [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] y guarde el archivo XML.</span><span class="sxs-lookup"><span data-stu-id="90c32-308">Change the values to specify the appropriate arguments for your [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] installation, and save the XML file.</span></span>  
  
    -   <span data-ttu-id="90c32-309">Mediante la herramienta XML que prefiera, genere una instancia desde el esquema XML del Asistente para la optimización de [!INCLUDE[ssDE](../../includes/ssde-md.md)] .</span><span class="sxs-lookup"><span data-stu-id="90c32-309">Using your favorite XML tool, generate an instance from the [!INCLUDE[ssDE](../../includes/ssde-md.md)] Tuning Advisor XML schema.</span></span>  
  
3.  <span data-ttu-id="90c32-310">Una vez creado el archivo de entrada XML, úselo como entrada de la utilidad de línea de comandos **dta** para optimizar la carga de trabajo.</span><span class="sxs-lookup"><span data-stu-id="90c32-310">After creating the XML input file, use it as input to the **dta** command-line utility to tune the workload.</span></span> <span data-ttu-id="90c32-311">Para obtener información sobre cómo utilizar los archivos de entrada XML con esta utilidad, vea la sección [Usar la utilidad dta](#dta) anteriormente en este tema.</span><span class="sxs-lookup"><span data-stu-id="90c32-311">For information about using XML input files with this utility, see the section [Use the dta Utililty](#dta) earlier in this topic.</span></span>  
  
> [!NOTE]  
>  <span data-ttu-id="90c32-312">Si quiere usar una carga de trabajo insertada, que es una carga de trabajo especificada directamente en el archivo de entrada XML, recurra al ejemplo que aparece en [Ejemplo de archivo de entrada XML con carga de trabajo insertada &#40;DTA&#41;](../../tools/dta/xml-input-file-sample-with-inline-workload-dta.md).</span><span class="sxs-lookup"><span data-stu-id="90c32-312">If you want to use an inline workload, which is a workload that is specified directly in the XML input file, use the sample [XML Input File Sample with Inline Workload &#40;DTA&#41;](../../tools/dta/xml-input-file-sample-with-inline-workload-dta.md).</span></span>  
  
##  <a name="user-interface-descriptions"></a><a name="UI"></a> <span data-ttu-id="90c32-313">Descripciones de la interfaz de usuario</span><span class="sxs-lookup"><span data-stu-id="90c32-313">User Interface Descriptions</span></span>  
  
### <a name="tools-menuoptions-page"></a><span data-ttu-id="90c32-314">Menú Herramientas/Página Opciones</span><span class="sxs-lookup"><span data-stu-id="90c32-314">Tools Menu/Options Page</span></span>  
 <span data-ttu-id="90c32-315">Utilice este cuadro de diálogo para especificar parámetros de configuración generales para el Asistente para la optimización de motor de base de datos.</span><span class="sxs-lookup"><span data-stu-id="90c32-315">Use this dialog box to specify general configuration parameters for the Database Engine Tuning Advisor.</span></span>  
  
 <span data-ttu-id="90c32-316">**Al iniciar**</span><span class="sxs-lookup"><span data-stu-id="90c32-316">**On startup**</span></span>  
 <span data-ttu-id="90c32-317">Especifique qué acción debería llevar a cabo el Asistente para la optimización de motor de base de datos al iniciarse: abrirse sin una conexión a bases de datos, mostrar un cuadro de diálogo **Nueva conexión** , mostrar una nueva sesión o cargar la última sesión cargada.</span><span class="sxs-lookup"><span data-stu-id="90c32-317">Specify what Database Engine Tuning Advisor should do when it is started: open without a database connection, show a **New Connection** dialog box, show a new session, or load the last loaded session.</span></span>  
  
 <span data-ttu-id="90c32-318">**Cambiar fuente**</span><span class="sxs-lookup"><span data-stu-id="90c32-318">**Change font**</span></span>  
 <span data-ttu-id="90c32-319">Especifica la fuente que se muestra y que utilizan las tablas del Asistente para la optimización de motor de base de datos.</span><span class="sxs-lookup"><span data-stu-id="90c32-319">Specify the display font used by Database Engine Tuning Advisor tables.</span></span>  
  
 <span data-ttu-id="90c32-320">**Número de elementos en las listas usadas más recientemente**</span><span class="sxs-lookup"><span data-stu-id="90c32-320">**Number of items in most recently used lists**</span></span>  
 <span data-ttu-id="90c32-321">Especifica el número de sesiones o archivos que se mostrarán en **Sesiones recientes** o **Archivos recientes** del menú **Archivo** .</span><span class="sxs-lookup"><span data-stu-id="90c32-321">Specify the number of sessions or files to display under **Recent Sessions** or **Recent Files** in the **File** menu.</span></span>  
  
 <span data-ttu-id="90c32-322">**Recordar mis últimas opciones de optimización**</span><span class="sxs-lookup"><span data-stu-id="90c32-322">**Remember my last tuning options**</span></span>  
 <span data-ttu-id="90c32-323">Conserva las opciones de optimización entre sesiones.</span><span class="sxs-lookup"><span data-stu-id="90c32-323">Retain tuning options between sessions.</span></span> <span data-ttu-id="90c32-324">La opción está seleccionada de forma predeterminada.</span><span class="sxs-lookup"><span data-stu-id="90c32-324">Selected by default.</span></span> <span data-ttu-id="90c32-325">Desactive esta casilla para empezar siempre con los valores predeterminados del Asistente para la optimización de motor de base de datos.</span><span class="sxs-lookup"><span data-stu-id="90c32-325">Clear this check box to always start with the Database Engine Tuning Advisor defaults.</span></span>  
  
 <span data-ttu-id="90c32-326">**Preguntar antes de eliminar permanentemente las sesiones**</span><span class="sxs-lookup"><span data-stu-id="90c32-326">**Ask before permanently deleting sessions**</span></span>  
 <span data-ttu-id="90c32-327">Muestra un cuadro de diálogo de confirmación antes de eliminar las sesiones.</span><span class="sxs-lookup"><span data-stu-id="90c32-327">Display a confirmation dialog box before deleting sessions.</span></span>  
  
 <span data-ttu-id="90c32-328">**Preguntar antes de detener análisis de sesión**</span><span class="sxs-lookup"><span data-stu-id="90c32-328">**Ask before stopping session analysis**</span></span>  
 <span data-ttu-id="90c32-329">Muestra un cuadro de diálogo de confirmación antes de detener el análisis de una carga de trabajo.</span><span class="sxs-lookup"><span data-stu-id="90c32-329">Display a confirmation dialog box before stopping analysis of a workload.</span></span>  
  
#### <a name="general-tab-options"></a><span data-ttu-id="90c32-330">Opciones de la pestaña General</span><span class="sxs-lookup"><span data-stu-id="90c32-330">General Tab Options</span></span>  
 <span data-ttu-id="90c32-331">Deberá configurar los campos de la pestaña **General** antes de iniciar una sesión de optimización.</span><span class="sxs-lookup"><span data-stu-id="90c32-331">You must configure the fields in the **General** tab before starting a tuning session.</span></span> <span data-ttu-id="90c32-332">No tiene que modificar las opciones de la pestaña **Opciones de optimización** antes de iniciar una sesión de optimización.</span><span class="sxs-lookup"><span data-stu-id="90c32-332">You do not have to modify the settings of the **Tuning Options** tab before starting a tuning session.</span></span>  
  
 <span data-ttu-id="90c32-333">**Nombre de sesión**</span><span class="sxs-lookup"><span data-stu-id="90c32-333">**Session name**</span></span>  
 <span data-ttu-id="90c32-334">Especifica un nombre para la sesión.</span><span class="sxs-lookup"><span data-stu-id="90c32-334">Specify a name for the session.</span></span> <span data-ttu-id="90c32-335">El nombre de sesión asocia un nombre a una sesión de optimización.</span><span class="sxs-lookup"><span data-stu-id="90c32-335">The session name associates a name with a tuning session.</span></span> <span data-ttu-id="90c32-336">Podrá hacer referencia a este nombre para revisar la sesión de optimización posteriormente.</span><span class="sxs-lookup"><span data-stu-id="90c32-336">You can refer to this name to review the tuning session later.</span></span>  
  
 <span data-ttu-id="90c32-337">**Archivo**</span><span class="sxs-lookup"><span data-stu-id="90c32-337">**File**</span></span>  
 <span data-ttu-id="90c32-338">Especifica un script .sql o un archivo de seguimiento para una carga de trabajo.</span><span class="sxs-lookup"><span data-stu-id="90c32-338">Specify a .sql script or trace file for a workload.</span></span> <span data-ttu-id="90c32-339">Especifique la ruta de acceso y el nombre de archivo en el cuadro de texto asociado.</span><span class="sxs-lookup"><span data-stu-id="90c32-339">Specify the path and filename in the associated text box.</span></span> <span data-ttu-id="90c32-340">El Asistente para la optimización de motor de base de datos considera que el archivo de seguimiento de la carga de trabajo es un archivo de sustitución incremental.</span><span class="sxs-lookup"><span data-stu-id="90c32-340">Database Engine Tuning Advisor assumes that the workload trace file is a rollover file.</span></span> <span data-ttu-id="90c32-341">Para obtener más información sobre los archivos de sustitución incremental, vea [Limit Trace File and Table Sizes](../sql-trace/limit-trace-file-and-table-sizes.md).</span><span class="sxs-lookup"><span data-stu-id="90c32-341">For more information about rollover files, see [Limit Trace File and Table Sizes](../sql-trace/limit-trace-file-and-table-sizes.md).</span></span>  
  
 <span data-ttu-id="90c32-342">**Table**</span><span class="sxs-lookup"><span data-stu-id="90c32-342">**Table**</span></span>  
 <span data-ttu-id="90c32-343">Especifica una tabla de seguimiento para una carga de trabajo.</span><span class="sxs-lookup"><span data-stu-id="90c32-343">Specify a trace table for a workload.</span></span> <span data-ttu-id="90c32-344">Especifique el nombre completo de la tabla de seguimiento en el cuadro de texto asociado, tal y como se indica a continuación:</span><span class="sxs-lookup"><span data-stu-id="90c32-344">Specify the fully qualified name of the trace table in the associated text box as follows:</span></span>  
  
```  
database_name.owner_name.table_name  
```  
  
-   <span data-ttu-id="90c32-345">Asegúrese de que el seguimiento se ha detenido antes de utilizar una tabla de seguimiento como carga de trabajo.</span><span class="sxs-lookup"><span data-stu-id="90c32-345">Make sure that tracing has stopped before using a trace table as a workload.</span></span>  
  
-   <span data-ttu-id="90c32-346">La tabla de seguimiento debe encontrarse en el mismo servidor que el Asistente para la optimización de motor de base de datos está optimizando.</span><span class="sxs-lookup"><span data-stu-id="90c32-346">The trace table must exist on the same server that Database Engine Tuning Advisor is tuning.</span></span> <span data-ttu-id="90c32-347">Si crea la tabla de seguimiento en otro servidor, muévala al servidor que el Asistente para la optimización de motor de base de datos está optimizando.</span><span class="sxs-lookup"><span data-stu-id="90c32-347">If you create the trace table on a different server, then move it to the server that Database Engine Tuning Advisor is tuning.</span></span>  
  
 <span data-ttu-id="90c32-348">**Caché del plan**</span><span class="sxs-lookup"><span data-stu-id="90c32-348">**Plan Cache**</span></span>  
 <span data-ttu-id="90c32-349">Especifique la memoria caché de plan como una carga de trabajo.</span><span class="sxs-lookup"><span data-stu-id="90c32-349">Specify the plan cache as a workload.</span></span> <span data-ttu-id="90c32-350">De este modo, podrá evitar la necesidad de tener que crear manualmente una carga de trabajo.</span><span class="sxs-lookup"><span data-stu-id="90c32-350">By doing this, you can avoid having to manually create a workload.</span></span> <span data-ttu-id="90c32-351">El Asistente para la optimización de motor de base de datos selecciona los 1.000 eventos principales que se usarán en el análisis.</span><span class="sxs-lookup"><span data-stu-id="90c32-351">Database Engine Tuning Advisor selects the top 1,000 events to use for analysis.</span></span>  
  
 <span data-ttu-id="90c32-352">**Xml**</span><span class="sxs-lookup"><span data-stu-id="90c32-352">**Xml**</span></span>  
 <span data-ttu-id="90c32-353">No aparecerá a menos que importe una consulta de carga de trabajo desde [!INCLUDE[ssManStudioFull](../../includes/ssmanstudiofull-md.md)].</span><span class="sxs-lookup"><span data-stu-id="90c32-353">This does not appear unless you import a workload query from [!INCLUDE[ssManStudioFull](../../includes/ssmanstudiofull-md.md)].</span></span>  
  
 <span data-ttu-id="90c32-354">Para importar una consulta de carga de trabajo desde [!INCLUDE[ssManStudioFull](../../includes/ssmanstudiofull-md.md)]:</span><span class="sxs-lookup"><span data-stu-id="90c32-354">To import a workload query from [!INCLUDE[ssManStudioFull](../../includes/ssmanstudiofull-md.md)]:</span></span>  
  
1.  <span data-ttu-id="90c32-355">Escriba una consulta en el Editor de consultas y resáltela.</span><span class="sxs-lookup"><span data-stu-id="90c32-355">Type a query into Query Editor and highlight it.</span></span>  
  
2.  <span data-ttu-id="90c32-356">Haga clic con el botón derecho en la consulta resaltada y haga clic en **Analizar la consulta en el Asistente para la optimización de motor de base de datos**.</span><span class="sxs-lookup"><span data-stu-id="90c32-356">Right-click the highlighted query and click **Analyze Query in Database Engine Tuning Advisor**.</span></span>  
  
 <span data-ttu-id="90c32-357">**Busque un archivo/una tabla de carga de trabajo**</span><span class="sxs-lookup"><span data-stu-id="90c32-357">**Browse for a workload [file or table]**</span></span>  
 <span data-ttu-id="90c32-358">Cuando haya seleccionado un **archivo** o una **tabla** como origen de la carga de trabajo, use este botón Examinar para seleccionar un destino.</span><span class="sxs-lookup"><span data-stu-id="90c32-358">When **File** or **Table** is selected as the workload source, use this browse button to select the target.</span></span>  
  
 <span data-ttu-id="90c32-359">**Obtenga una vista previa de la carga de trabajo XML**</span><span class="sxs-lookup"><span data-stu-id="90c32-359">**Preview the XML workload**</span></span>  
 <span data-ttu-id="90c32-360">Muestra una carga de trabajo con formato XML que se haya importado desde [!INCLUDE[ssManStudioFull](../../includes/ssmanstudiofull-md.md)].</span><span class="sxs-lookup"><span data-stu-id="90c32-360">View an XML-formatted workload that has been imported from [!INCLUDE[ssManStudioFull](../../includes/ssmanstudiofull-md.md)].</span></span>  
  
 <span data-ttu-id="90c32-361">**Base de datos para análisis de carga de trabajo**</span><span class="sxs-lookup"><span data-stu-id="90c32-361">**Database for workload analysis**</span></span>  
 <span data-ttu-id="90c32-362">Especifica la primera base de datos a la que se conecta el Asistente para la optimización de motor de base de datos al optimizar una carga de trabajo.</span><span class="sxs-lookup"><span data-stu-id="90c32-362">Specify the first database to which Database Engine Tuning Advisor connects when tuning a workload.</span></span> <span data-ttu-id="90c32-363">Una vez iniciada la optimización, el Asistente para la optimización de motor de base de datos se conecta a las bases de datos especificadas en las instrucciones `USE DATABASE` que contiene la carga de trabajo.</span><span class="sxs-lookup"><span data-stu-id="90c32-363">After tuning begins, Database Engine Tuning Advisor connects to the databases specified by the `USE DATABASE` statements contained in the workload.</span></span>  
  
 <span data-ttu-id="90c32-364">**Seleccionar bases de datos y tablas para optimizar**</span><span class="sxs-lookup"><span data-stu-id="90c32-364">**Select databases and tables to tune**</span></span>  
 <span data-ttu-id="90c32-365">Especifica las bases de datos y tablas que se deben optimizar.</span><span class="sxs-lookup"><span data-stu-id="90c32-365">Specify the databases and tables to be tuned.</span></span> <span data-ttu-id="90c32-366">Para especificar todas las bases de datos, seleccione la casilla del encabezado de columna **Nombre** .</span><span class="sxs-lookup"><span data-stu-id="90c32-366">To specify all of the databases, select the check box in the **Name** column heading.</span></span> <span data-ttu-id="90c32-367">Para especificar bases de datos específicas, seleccione la casilla situada junto al nombre de la base de datos.</span><span class="sxs-lookup"><span data-stu-id="90c32-367">To specify certain databases, select the check box next to the database name.</span></span> <span data-ttu-id="90c32-368">De forma predeterminada, todas las tablas de las bases de datos seleccionadas se incluyen automáticamente en la sesión de optimización.</span><span class="sxs-lookup"><span data-stu-id="90c32-368">By default, all of the tables for selected databases are automatically included in the tuning session.</span></span> <span data-ttu-id="90c32-369">Para excluir tablas, haga clic en la flecha de la columna **Tablas seleccionadas** y, a continuación, desactive las casillas situadas junto a las tablas que no desee optimizar.</span><span class="sxs-lookup"><span data-stu-id="90c32-369">To exclude tables, click the arrow in the **Selected Tables** column, and then clear the check boxes next to the tables that you do not want to tune.</span></span>  
  
 <span data-ttu-id="90c32-370">Flecha abajo de**Tablas seleccionadas**</span><span class="sxs-lookup"><span data-stu-id="90c32-370">**Selected Tables** down arrow</span></span>  
 <span data-ttu-id="90c32-371">Expande la lista de tablas para poder seleccionar tablas individuales para su optimización.</span><span class="sxs-lookup"><span data-stu-id="90c32-371">Expand the tables list to allow selecting individual tables for tuning.</span></span>  
  
 <span data-ttu-id="90c32-372">**Guardar registro de optimización**</span><span class="sxs-lookup"><span data-stu-id="90c32-372">**Save tuning log**</span></span>  
 <span data-ttu-id="90c32-373">Crea un registro y graba los errores que se producen durante la sesión.</span><span class="sxs-lookup"><span data-stu-id="90c32-373">Create a log and record errors during the session.</span></span>  
  
> [!NOTE]  
>  <span data-ttu-id="90c32-374">El Asistente para la optimización de motor de base de datos no actualiza de forma automática la información sobre las filas de las tablas que se muestran en la pestaña **General** . En lugar de ello, se basa en los metadatos de la base de datos.</span><span class="sxs-lookup"><span data-stu-id="90c32-374">Database Engine Tuning Advisor does not automatically update the rows information for the tables displayed on the **General** tab. Instead it relies upon the metadata in the database.</span></span> <span data-ttu-id="90c32-375">Si sospecha que la información sobre las filas está obsoleta, ejecute el comando DBCC UPDATEUSAGE para los objetos apropiados.</span><span class="sxs-lookup"><span data-stu-id="90c32-375">If you suspect that the rows information is outdated, run the DBCC UPDATEUSAGE command for the relevant objects.</span></span>  
  
##### <a name="tuning-tab-options"></a><span data-ttu-id="90c32-376">Pestaña Opciones de optimización</span><span class="sxs-lookup"><span data-stu-id="90c32-376">Tuning Tab Options</span></span>  
 <span data-ttu-id="90c32-377">Utilice la pestaña **Opciones de optimización** para modificar la configuración predeterminada de las opciones generales de optimización.</span><span class="sxs-lookup"><span data-stu-id="90c32-377">Use the **Tuning Options** tab to modify default settings of general tuning options.</span></span> <span data-ttu-id="90c32-378">No tiene que modificar las opciones de la pestaña **Opciones de optimización** antes de iniciar una sesión de optimización.</span><span class="sxs-lookup"><span data-stu-id="90c32-378">You do not have to modify the settings of the **Tuning Options** tab before starting a tuning session.</span></span>  
  
 <span data-ttu-id="90c32-379">**Limitar tiempo de optimización**</span><span class="sxs-lookup"><span data-stu-id="90c32-379">**Limit tuning time**</span></span>  
 <span data-ttu-id="90c32-380">Limita el tiempo de la sesión de optimización actual.</span><span class="sxs-lookup"><span data-stu-id="90c32-380">Limits the time for the current tuning session.</span></span> <span data-ttu-id="90c32-381">Si se proporciona más tiempo para la optimización se mejora la calidad de las recomendaciones.</span><span class="sxs-lookup"><span data-stu-id="90c32-381">Providing more time for turning improves the quality of the recommendations.</span></span> <span data-ttu-id="90c32-382">Para garantizar que se dispone de las mejores recomendaciones, no conviene activar esta opción.</span><span class="sxs-lookup"><span data-stu-id="90c32-382">To ensure the best recommendations, do not select this option.</span></span>  
  
> [!NOTE]  
>  [!INCLUDE[ssDE](../../includes/ssde-md.md)] <span data-ttu-id="90c32-383">consume recursos de sistema durante el análisis.</span><span class="sxs-lookup"><span data-stu-id="90c32-383">Tuning Advisor consumes system resources during analysis.</span></span> <span data-ttu-id="90c32-384">Utilice **Limitar tiempo de optimización** para detener la optimización antes de períodos de gran carga de trabajo prevista en el servidor que se optimiza.</span><span class="sxs-lookup"><span data-stu-id="90c32-384">Use **Limit tuning time** to stop tuning before periods of anticipated heavy workload on the server being tuned.</span></span>  
  
 <span data-ttu-id="90c32-385">**Opciones avanzadas**</span><span class="sxs-lookup"><span data-stu-id="90c32-385">**Advanced Options**</span></span>  
 <span data-ttu-id="90c32-386">Use el cuadro de diálogo **Opciones avanzadas de optimización** para configurar el espacio máximo, el número máximo de columnas de clave y las recomendaciones de índice en línea.</span><span class="sxs-lookup"><span data-stu-id="90c32-386">Use the **Advanced Tuning Options** dialog box to configure the maximum space, maximum key columns, and online index recommendations.</span></span>  
  
 <span data-ttu-id="90c32-387">**Definir espacio máximo para recomendaciones (MB)**</span><span class="sxs-lookup"><span data-stu-id="90c32-387">**Define max. space for recommendations (MB)**</span></span>  
 <span data-ttu-id="90c32-388">Especifique la cantidad máxima de espacio recomendado por el Asistente para la optimización de motor de base de datos que deben utilizar las estructuras de diseño físico.</span><span class="sxs-lookup"><span data-stu-id="90c32-388">Type the maximum amount of space to be used by physical design structures recommended by Database Engine Tuning Advisor.</span></span>  
  
 <span data-ttu-id="90c32-389">Si no se especifica ningún valor, el Asistente para la optimización de motor de base de datos asume el valor más pequeño de los límites de espacio siguientes:</span><span class="sxs-lookup"><span data-stu-id="90c32-389">If no value is entered here, Database Engine Tuning Advisor assumes the smaller of the following space limits:</span></span>  
  
-   <span data-ttu-id="90c32-390">Tres veces el tamaño actual de los datos sin procesar, lo que incluye el tamaño total de los montones e índices clúster de las tablas de la base de datos.</span><span class="sxs-lookup"><span data-stu-id="90c32-390">Three times the current raw data size, which includes the total size of heaps and clustered indexes on tables in the database.</span></span>  
  
-   <span data-ttu-id="90c32-391">El espacio disponible en todas las unidades de disco adjuntas más el tamaño de los datos sin procesar.</span><span class="sxs-lookup"><span data-stu-id="90c32-391">The free space on all attached disk drives plus the raw data size.</span></span>  
  
 <span data-ttu-id="90c32-392">**Incluir eventos de caché del plan de todas las bases de datos**</span><span class="sxs-lookup"><span data-stu-id="90c32-392">**Include plan cache events from all databases**</span></span>  
 <span data-ttu-id="90c32-393">Especifique que los eventos de caché del plan de todas las bases de datos están analizados.</span><span class="sxs-lookup"><span data-stu-id="90c32-393">Specify that plan cache events from all databases are analyzed.</span></span>  
  
 <span data-ttu-id="90c32-394">**Máximo de columnas por índice**</span><span class="sxs-lookup"><span data-stu-id="90c32-394">**Max. columns per index**</span></span>  
 <span data-ttu-id="90c32-395">Especifique el número máximo de columnas que deben incluirse en los índices.</span><span class="sxs-lookup"><span data-stu-id="90c32-395">Specify the maximum number of columns to include in any index.</span></span> <span data-ttu-id="90c32-396">El valor predeterminado es 1023.</span><span class="sxs-lookup"><span data-stu-id="90c32-396">The default is 1023.</span></span>  
  
 <span data-ttu-id="90c32-397">**Todas las recomendaciones están sin conexión**</span><span class="sxs-lookup"><span data-stu-id="90c32-397">**All recommendations are offline**</span></span>  
 <span data-ttu-id="90c32-398">Se generan las mejores recomendaciones posibles, pero no se recomienda crear en línea ninguna estructura de diseño físico.</span><span class="sxs-lookup"><span data-stu-id="90c32-398">Generate the best recommendations possible, but do not recommend that any physical design structures be created online.</span></span>  
  
 <span data-ttu-id="90c32-399">**Generar recomendaciones en línea si es posible**</span><span class="sxs-lookup"><span data-stu-id="90c32-399">**Generate online recommendations where possible**</span></span>  
 <span data-ttu-id="90c32-400">Cuando cree instrucciones [!INCLUDE[tsql](../../includes/tsql-md.md)] para implementar las recomendaciones, elija métodos que puedan implementarse con el servidor en línea, aun cuando haya un método sin conexión más rápido disponible.</span><span class="sxs-lookup"><span data-stu-id="90c32-400">When creating [!INCLUDE[tsql](../../includes/tsql-md.md)] statements to implement the recommendations, choose methods that can be implemented with the server online, even if a faster offline method is available.</span></span>  
  
 <span data-ttu-id="90c32-401">**Generar solo recomendaciones en línea**</span><span class="sxs-lookup"><span data-stu-id="90c32-401">**Generate only online recommendations**</span></span>  
 <span data-ttu-id="90c32-402">Solo se realizan recomendaciones que permiten que el servidor permanezca en línea.</span><span class="sxs-lookup"><span data-stu-id="90c32-402">Only make recommendations that allow the server to stay online.</span></span>  
  
 <span data-ttu-id="90c32-403">**Detener el**</span><span class="sxs-lookup"><span data-stu-id="90c32-403">**Stop at**</span></span>  
 <span data-ttu-id="90c32-404">Indique la fecha y hora en que debe detenerse el Asistente para la optimización de [!INCLUDE[ssDE](../../includes/ssde-md.md)] .</span><span class="sxs-lookup"><span data-stu-id="90c32-404">Provide the date and time when [!INCLUDE[ssDE](../../includes/ssde-md.md)] Tuning Advisor should stop.</span></span>  
  
 <span data-ttu-id="90c32-405">**Índices y vistas indizadas**</span><span class="sxs-lookup"><span data-stu-id="90c32-405">**Indexes and indexed views**</span></span>  
 <span data-ttu-id="90c32-406">Si activa esta casilla, incluye recomendaciones para agregar clúster, índices no clúster y vistas indizadas.</span><span class="sxs-lookup"><span data-stu-id="90c32-406">Check this box to include recommendations for adding clustered indexes, nonclustered indexes, and indexed views.</span></span>  
  
 <span data-ttu-id="90c32-407">**Vistas indizadas**</span><span class="sxs-lookup"><span data-stu-id="90c32-407">**Indexed views**</span></span>  
 <span data-ttu-id="90c32-408">Solo se incluyen recomendaciones para agregar vistas indizadas.</span><span class="sxs-lookup"><span data-stu-id="90c32-408">Only include recommendations for adding indexed views.</span></span> <span data-ttu-id="90c32-409">No se recomiendan los clúster y no clúster.</span><span class="sxs-lookup"><span data-stu-id="90c32-409">Clustered and nonclustered indexes will not be recommended.</span></span>  
  
 <span data-ttu-id="90c32-410">**Incluir índices filtrados**</span><span class="sxs-lookup"><span data-stu-id="90c32-410">**Include filtered indexes**</span></span>  
 <span data-ttu-id="90c32-411">Se incluyen recomendaciones para agregar índices filtrados.</span><span class="sxs-lookup"><span data-stu-id="90c32-411">Include recommendations for adding filtered indexes.</span></span> <span data-ttu-id="90c32-412">Esta opción está disponible si selecciona una de estas estructuras de diseño físico: **índices y vistas indexadas**, **índices** o **índices no agrupados**.</span><span class="sxs-lookup"><span data-stu-id="90c32-412">This option is available if you select one of these physical design structures: **Indexes and indexed views**, **Indexes**, or **Nonclustered indexes**.</span></span>  
  
 <span data-ttu-id="90c32-413">**Índices**</span><span class="sxs-lookup"><span data-stu-id="90c32-413">**Indexes**</span></span>  
 <span data-ttu-id="90c32-414">Solo se incluyen recomendaciones para agregar clúster y no clúster.</span><span class="sxs-lookup"><span data-stu-id="90c32-414">Only include recommendations for adding clustered and nonclustered indexes.</span></span> <span data-ttu-id="90c32-415">No se recomiendan las vistas indizadas.</span><span class="sxs-lookup"><span data-stu-id="90c32-415">Indexed views will not be recommended.</span></span>  
  
 <span data-ttu-id="90c32-416">**Índices no clúster**</span><span class="sxs-lookup"><span data-stu-id="90c32-416">**Nonclustered indexes**</span></span>  
 <span data-ttu-id="90c32-417">Solo se incluyen recomendaciones para los índices no clúster.</span><span class="sxs-lookup"><span data-stu-id="90c32-417">Include recommendations for only nonclustered indexes.</span></span> <span data-ttu-id="90c32-418">No se recomiendan los índices clúster ni las vistas indizadas.</span><span class="sxs-lookup"><span data-stu-id="90c32-418">Clustered indexes and indexed views will not be recommended.</span></span>  
  
 <span data-ttu-id="90c32-419">**Evaluar utilización solo de estructuras de diseño físico (PDS) existentes**</span><span class="sxs-lookup"><span data-stu-id="90c32-419">**Evaluate utilization of existing PDS only**</span></span>  
 <span data-ttu-id="90c32-420">Evalúa la efectividad de los índices actuales, pero no recomienda índices adicionales ni vistas indizadas.</span><span class="sxs-lookup"><span data-stu-id="90c32-420">Evaluate the effectiveness of the current indexes but do not recommend additional indexes or indexed views.</span></span>  
  
 <span data-ttu-id="90c32-421">**No crear particiones**</span><span class="sxs-lookup"><span data-stu-id="90c32-421">**No partitioning**</span></span>  
 <span data-ttu-id="90c32-422">No recomienda la creación de particiones.</span><span class="sxs-lookup"><span data-stu-id="90c32-422">Do not recommend partitioning.</span></span>  
  
 <span data-ttu-id="90c32-423">**Particiones completas**</span><span class="sxs-lookup"><span data-stu-id="90c32-423">**Full partitioning**</span></span>  
 <span data-ttu-id="90c32-424">Se incluyen recomendaciones para crear particiones.</span><span class="sxs-lookup"><span data-stu-id="90c32-424">Include recommendations for partitioning.</span></span>  
  
 <span data-ttu-id="90c32-425">**Particiones alineadas**</span><span class="sxs-lookup"><span data-stu-id="90c32-425">**Aligned partitioning**</span></span>  
 <span data-ttu-id="90c32-426">Las nuevas particiones recomendadas se alinearán para facilitar su mantenimiento.</span><span class="sxs-lookup"><span data-stu-id="90c32-426">New recommended partitions will be aligned to make partitions easy to maintain.</span></span>  
  
 <span data-ttu-id="90c32-427">**No mantener ninguna PDS existente**</span><span class="sxs-lookup"><span data-stu-id="90c32-427">**Do not keep any existing PDS**</span></span>  
 <span data-ttu-id="90c32-428">Recomienda la eliminación de índices, vistas y particiones existentes que no se necesiten.</span><span class="sxs-lookup"><span data-stu-id="90c32-428">Recommend dropping unnecessary existing indexes, views, and partitioning.</span></span> <span data-ttu-id="90c32-429">Si una estructura de diseño físico (PDS) existente es útil para la carga de trabajo, el Asistente para la optimización de [!INCLUDE[ssDE](../../includes/ssde-md.md)] no recomienda quitarla.</span><span class="sxs-lookup"><span data-stu-id="90c32-429">If an existing physical design structure (PDS) is useful to the workload, [!INCLUDE[ssDE](../../includes/ssde-md.md)] Tuning Advisor does not recommend dropping it.</span></span>  
  
 <span data-ttu-id="90c32-430">**Mantener solo índices**</span><span class="sxs-lookup"><span data-stu-id="90c32-430">**Keep indexes only**</span></span>  
 <span data-ttu-id="90c32-431">Mantiene todos los índices existentes, pero recomienda la eliminación de vistas indizadas y particiones innecesarias.</span><span class="sxs-lookup"><span data-stu-id="90c32-431">Keep all existing indexes but recommend dropping unnecessary indexed views, and partitioning.</span></span>  
  
 <span data-ttu-id="90c32-432">**Mantener todas las PDS existentes**</span><span class="sxs-lookup"><span data-stu-id="90c32-432">**Keep all existing PDS**</span></span>  
 <span data-ttu-id="90c32-433">Mantiene todos los índices, vistas indizadas y particiones existentes.</span><span class="sxs-lookup"><span data-stu-id="90c32-433">Keep all existing indexes, indexed views, and partitioning.</span></span>  
  
 <span data-ttu-id="90c32-434">**Mantener solo clúster**</span><span class="sxs-lookup"><span data-stu-id="90c32-434">**Keep clustered indexes only**</span></span>  
 <span data-ttu-id="90c32-435">Mantiene todos los clúster existentes, pero recomienda la eliminación de vistas indizadas, particiones e índices no clúster innecesarios.</span><span class="sxs-lookup"><span data-stu-id="90c32-435">Keep all existing clustered indexes but recommend dropping unnecessary indexed views, partitions, and nonclustered indexes.</span></span>  
  
 <span data-ttu-id="90c32-436">**Mantener particiones alineadas**</span><span class="sxs-lookup"><span data-stu-id="90c32-436">**Keep aligned partitioning**</span></span>  
 <span data-ttu-id="90c32-437">Mantiene las estructuras de particiones que están alineadas, pero recomienda la eliminación de vistas indizadas, índices y particiones no alineadas innecesarios.</span><span class="sxs-lookup"><span data-stu-id="90c32-437">Keep partitioning structures that are currently aligned, but recommend dropping unnecessary indexed views, indexes, and non-aligned partitioning.</span></span> <span data-ttu-id="90c32-438">Las particiones adicionales recomendadas se alinearán con el esquema de particiones actual.</span><span class="sxs-lookup"><span data-stu-id="90c32-438">Any additional partitioning recommended will align with the current partitioning scheme.</span></span>  
  
###### <a name="progress-tab-options"></a><span data-ttu-id="90c32-439">Opciones de la pestaña Progreso</span><span class="sxs-lookup"><span data-stu-id="90c32-439">Progress Tab Options</span></span>  
 <span data-ttu-id="90c32-440">La pestaña **Progreso** del Asistente para la optimización de motor de base de datos aparece una vez que este asistente comienza el análisis de la carga de trabajo.</span><span class="sxs-lookup"><span data-stu-id="90c32-440">The **Progress** tab of Database Engine Tuning Advisor appears after Database Engine Tuning Advisor begins analyzing a workload.</span></span>  
  
 <span data-ttu-id="90c32-441">Si desea detener la sesión de optimización una vez iniciada, en el menú **Acciones** elija una de las siguientes opciones:</span><span class="sxs-lookup"><span data-stu-id="90c32-441">If you want to stop the tuning session after it has started, choose one of the following options on the **Actions** menu:</span></span>  
  
-   <span data-ttu-id="90c32-442">**Detener análisis (con recomendaciones)** detiene la sesión de optimización y pregunta al usuario si quiere que el Asistente para la optimización de motor de base de datos genere recomendaciones basadas en el análisis realizado hasta este punto.</span><span class="sxs-lookup"><span data-stu-id="90c32-442">**Stop Analysis (With Recommendations)** stops the tuning session and prompts you to decide whether you want Database Engine Tuning Advisor to generate recommendations based on the analysis done up to this point.</span></span>  
  
-   <span data-ttu-id="90c32-443">**Detener análisis** detiene la sesión de optimización sin generar ninguna recomendación.</span><span class="sxs-lookup"><span data-stu-id="90c32-443">**Stop Analysis** stops the tuning session without generating any recommendations.</span></span>  
  
 <span data-ttu-id="90c32-444">**Progreso de la optimización**</span><span class="sxs-lookup"><span data-stu-id="90c32-444">**Tuning Progress**</span></span>  
 <span data-ttu-id="90c32-445">Indica el estado actual del progreso.</span><span class="sxs-lookup"><span data-stu-id="90c32-445">Indicates the current status of the progress.</span></span> <span data-ttu-id="90c32-446">Contiene el número de acciones realizadas y el número de mensajes de error, finalización correcta y advertencia que se reciben.</span><span class="sxs-lookup"><span data-stu-id="90c32-446">Contains the number of actions performed, and the number of error, success, and warning messages received.</span></span>  
  
 <span data-ttu-id="90c32-447">**Detalles**</span><span class="sxs-lookup"><span data-stu-id="90c32-447">**Details**</span></span>  
 <span data-ttu-id="90c32-448">Contiene un icono que indica el estado.</span><span class="sxs-lookup"><span data-stu-id="90c32-448">Contains an icon indicating status.</span></span>  
  
 <span data-ttu-id="90c32-449">**Acción**</span><span class="sxs-lookup"><span data-stu-id="90c32-449">**Action**</span></span>  
 <span data-ttu-id="90c32-450">Muestra los pasos que se llevan a cabo.</span><span class="sxs-lookup"><span data-stu-id="90c32-450">Displays the steps being performed.</span></span>  
  
 <span data-ttu-id="90c32-451">**Estado**</span><span class="sxs-lookup"><span data-stu-id="90c32-451">**Status**</span></span>  
 <span data-ttu-id="90c32-452">Muestra el estado del paso de la acción.</span><span class="sxs-lookup"><span data-stu-id="90c32-452">Displays the status of the action step.</span></span>  
  
 <span data-ttu-id="90c32-453">**Mensaje**</span><span class="sxs-lookup"><span data-stu-id="90c32-453">**Message**</span></span>  
 <span data-ttu-id="90c32-454">Contiene los mensajes generados por los pasos de la acción.</span><span class="sxs-lookup"><span data-stu-id="90c32-454">Contains any messages returned by the action steps.</span></span>  
  
 <span data-ttu-id="90c32-455">**Registro de optimización**</span><span class="sxs-lookup"><span data-stu-id="90c32-455">**Tuning Log**</span></span>  
 <span data-ttu-id="90c32-456">Contiene información sobre esta sesión de optimización.</span><span class="sxs-lookup"><span data-stu-id="90c32-456">Contains information regarding this tuning session.</span></span> <span data-ttu-id="90c32-457">Para imprimir este registro, haga clic con el botón derecho en él y, después, haga clic en **Imprimir**.</span><span class="sxs-lookup"><span data-stu-id="90c32-457">To print this log, right-click the log, and then click **Print**.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="90c32-458">Consulte también</span><span class="sxs-lookup"><span data-stu-id="90c32-458">See Also</span></span>  
 <span data-ttu-id="90c32-459">[Ver y trabajar con la salida del Asistente para la optimización de motor de base de datos](database-engine-tuning-advisor.md) </span><span class="sxs-lookup"><span data-stu-id="90c32-459">[View and Work with the Output from the Database Engine Tuning Advisor](database-engine-tuning-advisor.md) </span></span>  
 [<span data-ttu-id="90c32-460">dta (utilidad)</span><span class="sxs-lookup"><span data-stu-id="90c32-460">dta Utility</span></span>](../../tools/dta/dta-utility.md)  
  
  
