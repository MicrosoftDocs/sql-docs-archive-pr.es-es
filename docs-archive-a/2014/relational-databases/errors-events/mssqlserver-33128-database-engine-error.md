---
title: MSSQLSERVER_33128 | Microsoft Docs
ms.custom: ''
ms.date: 03/06/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: supportability
ms.topic: conceptual
helpviewer_keywords:
- 33128 (Database Engine error)
ms.assetid: 12c1096f-d120-439b-85f3-f794859503c9
author: MashaMSFT
ms.author: mathoma
ms.openlocfilehash: 158cc609a18cf3fe7b76708e351b78263cd80a9e
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 08/04/2020
ms.locfileid: "87672052"
---
# <a name="mssqlserver_33128"></a><span data-ttu-id="2727b-102">MSSQLSERVER_33128</span><span class="sxs-lookup"><span data-stu-id="2727b-102">MSSQLSERVER_33128</span></span>
    
## <a name="details"></a><span data-ttu-id="2727b-103">Detalles</span><span class="sxs-lookup"><span data-stu-id="2727b-103">Details</span></span>  
  
|||  
|-|-|  
|<span data-ttu-id="2727b-104">Nombre de producto</span><span class="sxs-lookup"><span data-stu-id="2727b-104">Product Name</span></span>|<span data-ttu-id="2727b-105">SQL Server</span><span class="sxs-lookup"><span data-stu-id="2727b-105">SQL Server</span></span>|  
|<span data-ttu-id="2727b-106">Id. de evento</span><span class="sxs-lookup"><span data-stu-id="2727b-106">Event ID</span></span>|<span data-ttu-id="2727b-107">33128</span><span class="sxs-lookup"><span data-stu-id="2727b-107">33128</span></span>|  
|<span data-ttu-id="2727b-108">Origen de eventos</span><span class="sxs-lookup"><span data-stu-id="2727b-108">Event Source</span></span>|<span data-ttu-id="2727b-109">MSSQLSERVER</span><span class="sxs-lookup"><span data-stu-id="2727b-109">MSSQLSERVER</span></span>|  
|<span data-ttu-id="2727b-110">Componente</span><span class="sxs-lookup"><span data-stu-id="2727b-110">Component</span></span>|<span data-ttu-id="2727b-111">SQLEngine</span><span class="sxs-lookup"><span data-stu-id="2727b-111">SQLEngine</span></span>|  
|<span data-ttu-id="2727b-112">Nombre simbólico</span><span class="sxs-lookup"><span data-stu-id="2727b-112">Symbolic Name</span></span>|<span data-ttu-id="2727b-113">SEC_DEPRECATED_ALGO</span><span class="sxs-lookup"><span data-stu-id="2727b-113">SEC_DEPRECATED_ALGO</span></span>|  
|<span data-ttu-id="2727b-114">Texto del mensaje</span><span class="sxs-lookup"><span data-stu-id="2727b-114">Message Text</span></span>|<span data-ttu-id="2727b-115">Error de cifrado.</span><span class="sxs-lookup"><span data-stu-id="2727b-115">Encryption failed.</span></span> <span data-ttu-id="2727b-116">La clave usa el algoritmo desusado “%.\*ls” que ya no se admite.</span><span class="sxs-lookup"><span data-stu-id="2727b-116">Key uses deprecated algorithm '%.\*ls' which is no longer supported.</span></span>|  
  
## <a name="explanation"></a><span data-ttu-id="2727b-117">Explicación</span><span class="sxs-lookup"><span data-stu-id="2727b-117">Explanation</span></span>  
 <span data-ttu-id="2727b-118">Este mensaje se produce cuando se hace referencia el algoritmo de cifrado RC4 (o RC4_128).</span><span class="sxs-lookup"><span data-stu-id="2727b-118">This message occurs when referencing the RC4 (or RC4_128) encryption algorithm.</span></span> <span data-ttu-id="2727b-119">RC4 y RC4_128 son algoritmos débiles y están desusados.</span><span class="sxs-lookup"><span data-stu-id="2727b-119">RC4 and RC4_128 are weak algorithms and are deprecated.</span></span> <span data-ttu-id="2727b-120">Use un algoritmo más seguro como uno de los algoritmos AES en su lugar.</span><span class="sxs-lookup"><span data-stu-id="2727b-120">Use a stronger algorithm such as one of the AES algorithms instead.</span></span>  
  
 <span data-ttu-id="2727b-121">Cuando el nivel de compatibilidad de la base de datos es 90 o 100, la operación se realiza correctamente, se genera el evento de degradación y el mensaje solamente aparece en el búfer en anillo.</span><span class="sxs-lookup"><span data-stu-id="2727b-121">When the database compatibility level is 90 or 100, the operation succeeds, the deprecation event is raised, and the message appears only in the ring buffer.</span></span>  
  
 <span data-ttu-id="2727b-122">Cuando el nivel de compatibilidad de la base de datos es 110 o superior, la operación de descifrado se realiza correctamente, se genera el evento de degradación y el mensaje solamente aparece en el búfer en anillo.</span><span class="sxs-lookup"><span data-stu-id="2727b-122">When the database compatibility level is 110 or higher, decryption operations succeed, the deprecation event is raised, and the message appears only in the ring buffer.</span></span> <span data-ttu-id="2727b-123">Las operaciones de cifrado producirán un error, se genera el evento de degradación, se muestra el mensaje al usuario y el mensaje aparece en el búfer en anillo.</span><span class="sxs-lookup"><span data-stu-id="2727b-123">Encryption operations will fail, the deprecation event is raised, and the message is displayed for the user, and the message appears in the ring buffer.</span></span>  
  
> [!NOTE]  
>  <span data-ttu-id="2727b-124">El búfer en anillo es un componente interno que no está completamente documentado y no está previsto que lo usen los clientes.</span><span class="sxs-lookup"><span data-stu-id="2727b-124">The ring buffer is an internal component which is not fully documented and is not intended to be used by customers.</span></span> <span data-ttu-id="2727b-125">Los mensajes de búfer en anillo son útiles para ponerse en contacto con el soporte técnico de [!INCLUDE[msCoName](../../includes/msconame-md.md)].</span><span class="sxs-lookup"><span data-stu-id="2727b-125">Messages from the ring buffer are useful when contacting [!INCLUDE[msCoName](../../includes/msconame-md.md)] Customer Support.</span></span> <span data-ttu-id="2727b-126">Para ver el búfer en anillo, consulte la vista de administración dinámica sys.dm_os_ring_buffers.</span><span class="sxs-lookup"><span data-stu-id="2727b-126">To view the ring buffer, query the sys.dm_os_ring_buffers dynamic management view.</span></span>  
  
|<span data-ttu-id="2727b-127">State</span><span class="sxs-lookup"><span data-stu-id="2727b-127">State</span></span>|<span data-ttu-id="2727b-128">Descripción</span><span class="sxs-lookup"><span data-stu-id="2727b-128">Description</span></span>|  
|-----------|-----------------|  
|<span data-ttu-id="2727b-129">1</span><span class="sxs-lookup"><span data-stu-id="2727b-129">1</span></span>|<span data-ttu-id="2727b-130">Una clave RC4 se usa en la función integrada encryptbykey().</span><span class="sxs-lookup"><span data-stu-id="2727b-130">A RC4 key is used in the built-in encryptbykey() function.</span></span> <span data-ttu-id="2727b-131">La función integrada devuelve NULL.</span><span class="sxs-lookup"><span data-stu-id="2727b-131">Built-in function returns NULL.</span></span> <span data-ttu-id="2727b-132">Este mensaje aparece únicamente en el búfer en anillo.</span><span class="sxs-lookup"><span data-stu-id="2727b-132">This message only appears in the ring buffer.</span></span>|  
|<span data-ttu-id="2727b-133">2</span><span class="sxs-lookup"><span data-stu-id="2727b-133">2</span></span>|<span data-ttu-id="2727b-134">Una clave RC4 se usa en la función integrada decryptbykey().</span><span class="sxs-lookup"><span data-stu-id="2727b-134">A RC4 key is used in by the built-in decryptbykey() function.</span></span> <span data-ttu-id="2727b-135">Este mensaje aparece únicamente en el búfer en anillo.</span><span class="sxs-lookup"><span data-stu-id="2727b-135">This message only appears in the ring buffer.</span></span>|  
|<span data-ttu-id="2727b-136">3</span><span class="sxs-lookup"><span data-stu-id="2727b-136">3</span></span>|<span data-ttu-id="2727b-137">Una clave RC4 desusada está cifrada mediante una clave simétrica.</span><span class="sxs-lookup"><span data-stu-id="2727b-137">A deprecated RC4 key is being encrypted by a symmetric key.</span></span> <span data-ttu-id="2727b-138">Vista por los usuarios y en el búfer en anillo.</span><span class="sxs-lookup"><span data-stu-id="2727b-138">Seen by users and in the ring buffer.</span></span> <span data-ttu-id="2727b-139">Las claves simétricas RC4 desusadas no se pueden modificar en el nivel de compatibilidad 110.</span><span class="sxs-lookup"><span data-stu-id="2727b-139">Deprecated RC4 symmetric keys cannot be altered in compatibility level 110.</span></span> <span data-ttu-id="2727b-140">Intente usar claves que no sean RC4 para las operaciones de cifrado.</span><span class="sxs-lookup"><span data-stu-id="2727b-140">Try to use non-RC4 keys for crypto operations.</span></span> <span data-ttu-id="2727b-141">Si fuera necesario, establezca el nivel de compatibilidad con versiones anteriores en 90 o 100.</span><span class="sxs-lookup"><span data-stu-id="2727b-141">If necessary, set backward compatibility level to a 90 or 100.</span></span>|  
|<span data-ttu-id="2727b-142">4</span><span class="sxs-lookup"><span data-stu-id="2727b-142">4</span></span>|<span data-ttu-id="2727b-143">Una clave que no es RC4 está cifrada mediante una clave simétrica RC4 desusada.</span><span class="sxs-lookup"><span data-stu-id="2727b-143">A non-RC4 key is being encrypted by a deprecated RC4 symmetric key.</span></span> <span data-ttu-id="2727b-144">Vista por los usuarios y en el búfer en anillo.</span><span class="sxs-lookup"><span data-stu-id="2727b-144">Seen by users and in the ring buffer.</span></span> <span data-ttu-id="2727b-145">Modificar la aplicación para usar las claves simétricas que no son RC4 o establecer el nivel de compatibilidad con versiones anteriores en 90 o 100.</span><span class="sxs-lookup"><span data-stu-id="2727b-145">Modify the application to use non-RC4 symmetric keys or set backward compatibility level to 90 or 100.</span></span>|  
|<span data-ttu-id="2727b-146">5</span><span class="sxs-lookup"><span data-stu-id="2727b-146">5</span></span>|<span data-ttu-id="2727b-147">Una clave RC4 desusada está descifrada mediante una clave simétrica.</span><span class="sxs-lookup"><span data-stu-id="2727b-147">A deprecated RC4 key is being decrypted by a symmetric key.</span></span> <span data-ttu-id="2727b-148">Este mensaje aparece únicamente en el búfer en anillo.</span><span class="sxs-lookup"><span data-stu-id="2727b-148">This message only appears in the ring buffer.</span></span>|  
|<span data-ttu-id="2727b-149">6</span><span class="sxs-lookup"><span data-stu-id="2727b-149">6</span></span>|<span data-ttu-id="2727b-150">Una clave que no es RC4 está descifrada mediante una clave simétrica RC4.</span><span class="sxs-lookup"><span data-stu-id="2727b-150">A non-RC4 key is being decrypted by an RC4 symmetric key.</span></span> <span data-ttu-id="2727b-151">Este mensaje aparece únicamente en el búfer en anillo.</span><span class="sxs-lookup"><span data-stu-id="2727b-151">This message only appears in the ring buffer.</span></span>|  
|<span data-ttu-id="2727b-152">7</span><span class="sxs-lookup"><span data-stu-id="2727b-152">7</span></span>|<span data-ttu-id="2727b-153">Una clave simétrica RC4 está cifrada mediante el certificado.</span><span class="sxs-lookup"><span data-stu-id="2727b-153">A RC4 symmetric key is being encrypted by the certificate.</span></span> <span data-ttu-id="2727b-154">Vista por los usuarios y en el búfer en anillo.</span><span class="sxs-lookup"><span data-stu-id="2727b-154">Seen by users and in the ring buffer.</span></span>|  
|<span data-ttu-id="2727b-155">8</span><span class="sxs-lookup"><span data-stu-id="2727b-155">8</span></span>|<span data-ttu-id="2727b-156">Una clave simétrica RC4 está descifrada mediante el certificado.</span><span class="sxs-lookup"><span data-stu-id="2727b-156">A RC4 symmetric key is being decrypted by the certificate.</span></span> <span data-ttu-id="2727b-157">Este mensaje aparece únicamente en el búfer en anillo.</span><span class="sxs-lookup"><span data-stu-id="2727b-157">This message only appears in the ring buffer.</span></span>|  
|<span data-ttu-id="2727b-158">9</span><span class="sxs-lookup"><span data-stu-id="2727b-158">9</span></span>|<span data-ttu-id="2727b-159">Una clave simétrica RC4 está cifrada mediante la clave EKM.</span><span class="sxs-lookup"><span data-stu-id="2727b-159">A RC4 symmetric key is being encrypted by the EKM key.</span></span>|  
|<span data-ttu-id="2727b-160">10</span><span class="sxs-lookup"><span data-stu-id="2727b-160">10</span></span>|<span data-ttu-id="2727b-161">Una clave simétrica RC4 está descifrada mediante la clave EKM.</span><span class="sxs-lookup"><span data-stu-id="2727b-161">A RC4 symmetric key is being decrypted by the EKM key.</span></span> <span data-ttu-id="2727b-162">Este mensaje aparece únicamente en el búfer en anillo.</span><span class="sxs-lookup"><span data-stu-id="2727b-162">This message only appears in the ring buffer.</span></span>|  
  
## <a name="user-action"></a><span data-ttu-id="2727b-163">Acción del usuario</span><span class="sxs-lookup"><span data-stu-id="2727b-163">User Action</span></span>  
 <span data-ttu-id="2727b-164">Use un algoritmo más seguro como uno de los algoritmos AES en su lugar.</span><span class="sxs-lookup"><span data-stu-id="2727b-164">Use a stronger algorithm such as one of the AES algorithms instead.</span></span> <span data-ttu-id="2727b-165">(Se recomienda)</span><span class="sxs-lookup"><span data-stu-id="2727b-165">(Recommended)</span></span>  
  
 <span data-ttu-id="2727b-166">Use ALTER DATABASE SET COMPATIBILITY_LEVEL para establecer el nivel de compatibilidad de la base de datos en 100.</span><span class="sxs-lookup"><span data-stu-id="2727b-166">Use ALTER DATABASE SET COMPATIBILITY_LEVEL to set the database to compatibility level 100.</span></span> <span data-ttu-id="2727b-167">(No se recomienda).</span><span class="sxs-lookup"><span data-stu-id="2727b-167">(Not recommended.)</span></span>  
  
  
