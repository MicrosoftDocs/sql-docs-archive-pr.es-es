---
title: OPENXML (SQL Server) | Microsoft Docs
ms.custom: ''
ms.date: 06/13/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: xml
ms.topic: conceptual
helpviewer_keywords:
- ColPattern [XML in SQL Server]
- OPENXML statement, about OPENXML statement
- writing XML, OPENXML statement
- OPENXML statement, querying XML
- attribute-centric mapping
- SELECT statement [SQL Server], OPENXML keyword
- column patterns [XML in SQL Server]
- row patterns [XML in SQL Server]
- rowpattern [XML in SQL Server]
- queries [XML in SQL Server], OPENXML statement
- XML [SQL Server], OPENXML statement
- element-centric mapping [SQL Server]
ms.assetid: 060126fc-ed0f-478f-830a-08e418d410dc
author: rothja
ms.author: jroth
ms.openlocfilehash: 1849029e6654fcd629499cceeff9957e5389370f
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 08/04/2020
ms.locfileid: "87751942"
---
# <a name="openxml-sql-server"></a><span data-ttu-id="3fdd0-102">OPENXML (SQL Server)</span><span class="sxs-lookup"><span data-stu-id="3fdd0-102">OPENXML (SQL Server)</span></span>
  <span data-ttu-id="3fdd0-103">OPENXML, palabra clave de [!INCLUDE[tsql](../../includes/tsql-md.md)] , proporciona un conjunto de filas en documentos XML en memoria que es similar a una tabla o una vista.</span><span class="sxs-lookup"><span data-stu-id="3fdd0-103">OPENXML, a [!INCLUDE[tsql](../../includes/tsql-md.md)] keyword, provides a rowset over in-memory XML documents that is similar to a table or a view.</span></span> <span data-ttu-id="3fdd0-104">OPENXML permite el acceso a los datos XML a pesar de ser un conjunto de filas relacional.</span><span class="sxs-lookup"><span data-stu-id="3fdd0-104">OPENXML allows access to XML data as though it is a relational rowset.</span></span> <span data-ttu-id="3fdd0-105">Para ello, proporciona una vista de conjunto de filas de la representación interna de un documento XML.</span><span class="sxs-lookup"><span data-stu-id="3fdd0-105">It does this by providing a rowset view of the internal representation of an XML document.</span></span> <span data-ttu-id="3fdd0-106">Los registros del conjunto de filas pueden almacenarse en tablas de base de datos.</span><span class="sxs-lookup"><span data-stu-id="3fdd0-106">The records in the rowset can be stored in database tables.</span></span>

 <span data-ttu-id="3fdd0-107">OPENXML puede utilizarse en instrucciones SELECT y SELECT INTO donde puedan aparecer como origen proveedores de conjuntos de filas, una vista u OPENROWSET.</span><span class="sxs-lookup"><span data-stu-id="3fdd0-107">OPENXML can be used in SELECT and SELECT INTO statements wherever rowset providers, a view, or OPENROWSET can appear as the source.</span></span> <span data-ttu-id="3fdd0-108">Para obtener más información sobre la sintaxis de OPENXML, vea [OPENXML &#40;Transact-SQL&#41;](/sql/t-sql/functions/openxml-transact-sql).</span><span class="sxs-lookup"><span data-stu-id="3fdd0-108">For information about the syntax of OPENXML, see [OPENXML &#40;Transact-SQL&#41;](/sql/t-sql/functions/openxml-transact-sql).</span></span>

 <span data-ttu-id="3fdd0-109">Para escribir consultas en un documento XML mediante OPENXML, primero debe llamar a `sp_xml_preparedocument` .</span><span class="sxs-lookup"><span data-stu-id="3fdd0-109">To write queries against an XML document by using OPENXML, you must first call `sp_xml_preparedocument`.</span></span> <span data-ttu-id="3fdd0-110">que analiza el documento XML y devuelve un identificador para el documento analizado que está listo para su uso.</span><span class="sxs-lookup"><span data-stu-id="3fdd0-110">This parses the XML document and returns a handle to the parsed document that is ready for consumption.</span></span> <span data-ttu-id="3fdd0-111">El documento analizado es una representación en árbol del modelo de objetos de documento (DOM) de los distintos nodos del documento XML.</span><span class="sxs-lookup"><span data-stu-id="3fdd0-111">The parsed document is a document object model (DOM) tree representation of various nodes in the XML document.</span></span> <span data-ttu-id="3fdd0-112">Este identificador de documento se pasa a OPENXML.</span><span class="sxs-lookup"><span data-stu-id="3fdd0-112">The document handle is passed to OPENXML.</span></span> <span data-ttu-id="3fdd0-113">A continuación, OPENXML proporciona una vista de conjunto de filas del documento, basándose en los parámetros que ha recibido.</span><span class="sxs-lookup"><span data-stu-id="3fdd0-113">OPENXML then provides a rowset view of the document, based on the parameters passed to it.</span></span>

> [!NOTE]
>  <span data-ttu-id="3fdd0-114">`sp_xml_preparedocument`usa una versión actualizada de SQL del analizador de MSXML Msxmlsql.dll.</span><span class="sxs-lookup"><span data-stu-id="3fdd0-114">`sp_xml_preparedocument` uses a SQL-updated version of the MSXML parser, Msxmlsql.dll.</span></span> <span data-ttu-id="3fdd0-115">Esta versión del analizador de MSXML se diseñó para admitir [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] y seguir siendo compatible con versiones anteriores con MSXML versión 2.6.</span><span class="sxs-lookup"><span data-stu-id="3fdd0-115">This version of the MSXML parser was designed to support [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] and remain backward compatible with MSXML version 2.6.</span></span>

 <span data-ttu-id="3fdd0-116">La representación interna de un documento XML se debe quitar de la memoria mediante una llamada al procedimiento almacenado del sistema **sp_xml_removedocument** para liberar la memoria.</span><span class="sxs-lookup"><span data-stu-id="3fdd0-116">The internal representation of an XML document must be removed from memory by calling the **sp_xml_removedocument** system stored procedure to free the memory.</span></span>

 <span data-ttu-id="3fdd0-117">La siguiente ilustración muestra el proceso.</span><span class="sxs-lookup"><span data-stu-id="3fdd0-117">The following illustration shows the process.</span></span>

 <span data-ttu-id="3fdd0-118">![Análisis de XML con OPENXML](../../database-engine/media/xmlsp.gif "Análisis de XML con OPENXML")</span><span class="sxs-lookup"><span data-stu-id="3fdd0-118">![Parsing XML with OPENXML](../../database-engine/media/xmlsp.gif "Parsing XML with OPENXML")</span></span>

 <span data-ttu-id="3fdd0-119">Tenga en cuenta que, para entender el funcionamiento de OPENXML, debe estar familiarizado con el uso de XML y las consultas Xpath.</span><span class="sxs-lookup"><span data-stu-id="3fdd0-119">Note that to understand OPENXML, familiarity with XPath queries and an understanding of XML is required.</span></span> <span data-ttu-id="3fdd0-120">Para obtener más información sobre la compatibilidad de XPath en SQL Server, vea [Utilizar consultas XPath en SQLXML 4.0](../sqlxml-annotated-xsd-schemas-xpath-queries/using-xpath-queries-in-sqlxml-4-0.md).</span><span class="sxs-lookup"><span data-stu-id="3fdd0-120">For more information about XPath support in SQL Server, see [Using XPath Queries in SQLXML 4.0](../sqlxml-annotated-xsd-schemas-xpath-queries/using-xpath-queries-in-sqlxml-4-0.md).</span></span>

> [!NOTE]
>  <span data-ttu-id="3fdd0-121">OpenXML permite parametrizar como variables los patrones XPath de fila y columna.</span><span class="sxs-lookup"><span data-stu-id="3fdd0-121">OpenXML allows the row and column XPath patterns to be parameterized as variables.</span></span> <span data-ttu-id="3fdd0-122">Esta parametrización podría provocar inyecciones de expresiones XPath si el programador expone los parámetros a usuarios externos (por ejemplo, si los parámetros se proporcionan a través de un procedimiento almacenado que se llama externamente).</span><span class="sxs-lookup"><span data-stu-id="3fdd0-122">Such parameterization could lead to XPath expression injections, if the programmer exposes the parameterization to outside users (for example, if the parameters are provided via an externally called stored procedure).</span></span> <span data-ttu-id="3fdd0-123">Para evitar estos posibles riesgos de seguridad, se recomienda no exponer los parámetros XPath a llamadores externos.</span><span class="sxs-lookup"><span data-stu-id="3fdd0-123">To avoid such potential security issues, it is recommended that XPath parameters should never be exposed to external callers.</span></span>

## <a name="example"></a><span data-ttu-id="3fdd0-124">Ejemplo</span><span class="sxs-lookup"><span data-stu-id="3fdd0-124">Example</span></span>
 <span data-ttu-id="3fdd0-125">El siguiente ejemplo muestra el uso de `OPENXML` en las instrucciones `INSERT` y `SELECT` .</span><span class="sxs-lookup"><span data-stu-id="3fdd0-125">The following example shows the use of `OPENXML` in an `INSERT` statement and a `SELECT` statement.</span></span> <span data-ttu-id="3fdd0-126">El documento de ejemplo XML contiene los elementos `<Customers>` y `<Orders>` .</span><span class="sxs-lookup"><span data-stu-id="3fdd0-126">The sample XML document contains `<Customers>` and `<Orders>` elements.</span></span>

 <span data-ttu-id="3fdd0-127">En primer lugar, el procedimiento almacenado `sp_xml_preparedocument` analiza el documento XML.</span><span class="sxs-lookup"><span data-stu-id="3fdd0-127">First, the `sp_xml_preparedocument` stored procedure parses the XML document.</span></span> <span data-ttu-id="3fdd0-128">Este documento analizado es una representación en árbol de varios nodos (elementos, atributos, texto y comentarios) en el documento XML.</span><span class="sxs-lookup"><span data-stu-id="3fdd0-128">The parsed document is a tree representation of the nodes (elements, attributes, text, and comments) in the XML document.</span></span> <span data-ttu-id="3fdd0-129">`OPENXML` a continuación, hace referencia a este documento XML analizado y proporciona una vista de conjunto de filas de todo o partes de este documento XML.</span><span class="sxs-lookup"><span data-stu-id="3fdd0-129">`OPENXML` then refers to this parsed XML document and provides a rowset view of all or parts of this XML document.</span></span> <span data-ttu-id="3fdd0-130">De esta forma, una instrucción `INSERT` puede insertar datos de dicho conjunto de filas en una tabla de la base de datos mediante `OPENXML` .</span><span class="sxs-lookup"><span data-stu-id="3fdd0-130">An `INSERT` statement using `OPENXML` can insert data from such a rowset into a database table.</span></span> <span data-ttu-id="3fdd0-131">Se pueden utilizar varias llamadas `OPENXML` para proporcionar una vista del conjunto de filas de diferentes partes del documento XML y procesarlas; por ejemplo, insertándolas en tablas diferentes.</span><span class="sxs-lookup"><span data-stu-id="3fdd0-131">Several `OPENXML` calls can be used to provide a rowset view of various parts of the XML document and process them, for example, by inserting them into different tables.</span></span> <span data-ttu-id="3fdd0-132">Este proceso también se conoce como "descomponer XML en tablas".</span><span class="sxs-lookup"><span data-stu-id="3fdd0-132">This process is also referred to as shredding XML into tables.</span></span>

 <span data-ttu-id="3fdd0-133">En el siguiente ejemplo, un documento XML se descompone de forma que los elementos `<Customers>` se almacenen en la tabla `Customers` y los elementos `<Orders>` en la tabla `Orders` , por medio de dos instrucciones `INSERT` .</span><span class="sxs-lookup"><span data-stu-id="3fdd0-133">In the following example, an XML document is shredded in a way that `<Customers>` elements are stored in the `Customers` table and `<Orders>` elements are stored in the `Orders` table by using two `INSERT` statements.</span></span> <span data-ttu-id="3fdd0-134">El ejemplo también muestra una instrucción `SELECT` con `OPENXML` que recupera `CustomerID` y `OrderDate` del documento XML.</span><span class="sxs-lookup"><span data-stu-id="3fdd0-134">The example also shows a `SELECT` statement with `OPENXML` that retrieves `CustomerID` and `OrderDate` from the XML document.</span></span> <span data-ttu-id="3fdd0-135">El último paso del proceso consiste en llamar a `sp_xml_removedocument`.</span><span class="sxs-lookup"><span data-stu-id="3fdd0-135">The last step in the process is to call `sp_xml_removedocument`.</span></span> <span data-ttu-id="3fdd0-136">Esto se lleva a cabo para liberar la memoria asignada a la representación interna en árbol XML que se creó durante la fase de análisis.</span><span class="sxs-lookup"><span data-stu-id="3fdd0-136">This is done in order to release the memory allocated to contain the internal XML tree representation that was created during the parse phase.</span></span>

```
-- Create tables for later population using OPENXML.
CREATE TABLE Customers (CustomerID varchar(20) primary key,
                ContactName varchar(20), 
                CompanyName varchar(20));
GO
CREATE TABLE Orders( CustomerID varchar(20), OrderDate datetime);
GO
DECLARE @docHandle int;
DECLARE @xmlDocument nvarchar(max); -- or xml type
SET @xmlDocument = N'<ROOT>
<Customers CustomerID="XYZAA" ContactName="Joe" CompanyName="Company1">
<Orders CustomerID="XYZAA" OrderDate="2000-08-25T00:00:00"/>
<Orders CustomerID="XYZAA" OrderDate="2000-10-03T00:00:00"/>
</Customers>
<Customers CustomerID="XYZBB" ContactName="Steve"
CompanyName="Company2">No Orders yet!
</Customers>
</ROOT>';
EXEC sp_xml_preparedocument @docHandle OUTPUT, @xmlDocument;
-- Use OPENXML to provide rowset consisting of customer data.
INSERT Customers 
SELECT * 
FROM OPENXML(@docHandle, N'/ROOT/Customers') 
  WITH Customers;
-- Use OPENXML to provide rowset consisting of order data.
INSERT Orders 
SELECT * 
FROM OPENXML(@docHandle, N'//Orders') 
  WITH Orders;
-- Using OPENXML in a SELECT statement.
SELECT * FROM OPENXML(@docHandle, N'/ROOT/Customers/Orders') WITH (CustomerID nchar(5) '../@CustomerID', OrderDate datetime);
-- Remove the internal representation of the XML document.
EXEC sp_xml_removedocument @docHandle; 
```

 <span data-ttu-id="3fdd0-137">La ilustración siguiente muestra el árbol XML analizado del documento XML anterior, creado con sp_xml_preparedocument.</span><span class="sxs-lookup"><span data-stu-id="3fdd0-137">The following illustration shows the parsed XML tree of the previous XML document that was created by using sp_xml_preparedocument.</span></span>

 <span data-ttu-id="3fdd0-138">![Árbol XML analizado](../../database-engine/media/xmlparsedtree.gif "Árbol XML analizado")</span><span class="sxs-lookup"><span data-stu-id="3fdd0-138">![Parsed XML tree](../../database-engine/media/xmlparsedtree.gif "Parsed XML tree")</span></span>

## <a name="openxml-parameters"></a><span data-ttu-id="3fdd0-139">Parámetros OPENXML</span><span class="sxs-lookup"><span data-stu-id="3fdd0-139">OPENXML Parameters</span></span>
 <span data-ttu-id="3fdd0-140">Los parámetros de OPENXML son los siguientes:</span><span class="sxs-lookup"><span data-stu-id="3fdd0-140">The parameters to OPENXML include the following:</span></span>

-   <span data-ttu-id="3fdd0-141">Un identificador de documento XML (*idoc*)</span><span class="sxs-lookup"><span data-stu-id="3fdd0-141">An XML document handle (*idoc*)</span></span>

-   <span data-ttu-id="3fdd0-142">Una expresión XPath que identifica los nodos que se asignarán a las filas (*rowpattern*)</span><span class="sxs-lookup"><span data-stu-id="3fdd0-142">An XPath expression to identify the nodes to be mapped to rows (*rowpattern*)</span></span>

-   <span data-ttu-id="3fdd0-143">Una descripción del conjunto de filas que se va a generar</span><span class="sxs-lookup"><span data-stu-id="3fdd0-143">A description of the rowset to be generated</span></span>

-   <span data-ttu-id="3fdd0-144">La asignación entre las columnas del conjunto de filas y los nodos XML</span><span class="sxs-lookup"><span data-stu-id="3fdd0-144">Mapping between the rowset columns and the XML nodes</span></span>

### <a name="xml-document-handle-idoc"></a><span data-ttu-id="3fdd0-145">Identificador del documento XML (idoc)</span><span class="sxs-lookup"><span data-stu-id="3fdd0-145">XML Document Handle (idoc)</span></span>
 <span data-ttu-id="3fdd0-146">El procedimiento almacenado devuelve el identificador del documento `sp_xml_preparedocument` .</span><span class="sxs-lookup"><span data-stu-id="3fdd0-146">The document handle is returned by the `sp_xml_preparedocument` stored procedure.</span></span>

### <a name="xpath-expression-to-identify-the-nodes-to-be-processed-rowpattern"></a><span data-ttu-id="3fdd0-147">Expresión XPath que identifica los nodos que se van a procesar (rowpattern)</span><span class="sxs-lookup"><span data-stu-id="3fdd0-147">XPath Expression to Identify the Nodes to Be Processed (rowpattern)</span></span>
 <span data-ttu-id="3fdd0-148">La expresión XPath especificada como *rowpattern* identifica un conjunto de nodos del documento XML.</span><span class="sxs-lookup"><span data-stu-id="3fdd0-148">The XPath expression specified as *rowpattern* identifies a set of nodes in the XML document.</span></span> <span data-ttu-id="3fdd0-149">Cada nodo identificado por *rowpattern* se corresponde con una única fila del conjunto de filas generado por OPENXML.</span><span class="sxs-lookup"><span data-stu-id="3fdd0-149">Each node that is identified by *rowpattern* corresponds to a single row in the rowset that is generated by OPENXML.</span></span>

 <span data-ttu-id="3fdd0-150">Los nodos identificados por la expresión XPath pueden ser cualquier nodo XML del documento XML.</span><span class="sxs-lookup"><span data-stu-id="3fdd0-150">The nodes identified by the XPath expression can be any XML node in the XML document.</span></span> <span data-ttu-id="3fdd0-151">Si *rowpattern* identifica un conjunto de elementos del documento XML, el conjunto de filas tiene una fila para cada nodo de elemento identificado.</span><span class="sxs-lookup"><span data-stu-id="3fdd0-151">If *rowpattern* identifies a set of elements in the XML document, there is one row in the rowset for each element node identified.</span></span> <span data-ttu-id="3fdd0-152">Por ejemplo, si *rowpattern* termina en un atributo, se crea una fila para cada nodo de atributo que *rowpattern*seleccione.</span><span class="sxs-lookup"><span data-stu-id="3fdd0-152">For example, if *rowpattern* ends in an attribute, a row is created for each attribute node selected by *rowpattern*.</span></span>

### <a name="description-of-the-rowset-to-be-generated"></a><span data-ttu-id="3fdd0-153">Descripción del conjunto de filas que se va a generar</span><span class="sxs-lookup"><span data-stu-id="3fdd0-153">Description of the Rowset to Be Generated</span></span>
 <span data-ttu-id="3fdd0-154">OPENXML utiliza un esquema de conjunto de filas para generar el conjunto de filas resultante.</span><span class="sxs-lookup"><span data-stu-id="3fdd0-154">A rowset schema is used by OPENXML to generate the resulting rowset.</span></span> <span data-ttu-id="3fdd0-155">Para especificar un esquema de conjunto de filas, se pueden utilizar las opciones siguientes.</span><span class="sxs-lookup"><span data-stu-id="3fdd0-155">You can use the following options when specifying a rowset schema.</span></span>

#### <a name="using-the-edge-table-format"></a><span data-ttu-id="3fdd0-156">Utilizar el formato de tabla irregular</span><span class="sxs-lookup"><span data-stu-id="3fdd0-156">Using the Edge Table Format</span></span>
 <span data-ttu-id="3fdd0-157">Se recomienda utilizar el formato de tabla irregular para especificar un esquema de conjunto de filas.</span><span class="sxs-lookup"><span data-stu-id="3fdd0-157">You should use the edge table format to specify a rowset schema.</span></span> <span data-ttu-id="3fdd0-158">No utilice la cláusula WITH.</span><span class="sxs-lookup"><span data-stu-id="3fdd0-158">Do not use the WITH clause.</span></span>

 <span data-ttu-id="3fdd0-159">OPENXML devuelve un conjunto de filas en formato de tabla irregular.</span><span class="sxs-lookup"><span data-stu-id="3fdd0-159">When you do this, OPENXML returns a rowset in the edge table format.</span></span> <span data-ttu-id="3fdd0-160">Se denomina tabla irregular porque todos los bordes del árbol del documento XML analizado se asignan a una fila del conjunto de filas.</span><span class="sxs-lookup"><span data-stu-id="3fdd0-160">This is referred to as an edge table, because every edge in the parsed XML document tree maps to a row in the rowset.</span></span>

 <span data-ttu-id="3fdd0-161">Las tablas irregulares representan, en una sola tabla, la estructura exacta del documento XML.</span><span class="sxs-lookup"><span data-stu-id="3fdd0-161">Edge tables represent within a single table the fine-grained XML document structure.</span></span> <span data-ttu-id="3fdd0-162">Esta estructura incluye los nombres de elementos y atributos, la jerarquía del documento, los espacios de nombres y las instrucciones de procesamiento.</span><span class="sxs-lookup"><span data-stu-id="3fdd0-162">This structure includes the element and attribute names, the document hierarchy, the namespaces, and the processing instructions.</span></span> <span data-ttu-id="3fdd0-163">El formato de tabla irregular permite obtener información adicional que no se muestra a través de las metapropiedades.</span><span class="sxs-lookup"><span data-stu-id="3fdd0-163">The edge table format allows you to obtain additional information that is not exposed through the metaproperties.</span></span> <span data-ttu-id="3fdd0-164">Para obtener más información acerca de las metapropiedades, vea [Specify Metaproperties in OPENXML](../xml/specify-metaproperties-in-openxml.md).</span><span class="sxs-lookup"><span data-stu-id="3fdd0-164">For more information about metaproperties, see [Specify Metaproperties in OPENXML](../xml/specify-metaproperties-in-openxml.md).</span></span>

 <span data-ttu-id="3fdd0-165">La información adicional proporcionada por una tabla irregular permite almacenar y consultar el tipo de datos de un elemento y atributo, y el tipo de nodo, así como almacenar y consultar información acerca de la estructura del documento XML.</span><span class="sxs-lookup"><span data-stu-id="3fdd0-165">The additional information provided by an edge table allows you to store and query the data type of an element and attribute, and the node type, and also store and query information about the XML document structure.</span></span> <span data-ttu-id="3fdd0-166">Con esta información adicional también se puede generar un sistema de administración de documentos XML propio.</span><span class="sxs-lookup"><span data-stu-id="3fdd0-166">With this additional information, it may also be possible to build your own XML document management system.</span></span>

 <span data-ttu-id="3fdd0-167">Cuando se utiliza una tabla irregular se pueden escribir procedimientos almacenados que utilicen documentos XML como entrada de objetos binarios grandes (BLOB), crear la tabla irregular y, después, extraer y analizar el documento más detalladamente.</span><span class="sxs-lookup"><span data-stu-id="3fdd0-167">By using an edge table, you can write stored procedures that take XML documents as binary large object (BLOB) input, produce the edge table, and then extract and analyze the document on a more detailed level.</span></span> <span data-ttu-id="3fdd0-168">En este proceso más detallado, se podrían buscar la jerarquía del documento, los nombres de elementos y atributos, los espacios de nombres y las instrucciones de procesamiento.</span><span class="sxs-lookup"><span data-stu-id="3fdd0-168">This detailed level could include finding the document hierarchy, the element and attribute names, the namespaces, and the processing instructions.</span></span>

 <span data-ttu-id="3fdd0-169">La tabla irregular también puede servir como formato de almacenamiento de documentos XML cuando no tiene sentido la asignación a otros formatos relacionales y un campo ntext no proporciona suficiente información estructural.</span><span class="sxs-lookup"><span data-stu-id="3fdd0-169">The edge table also can serve as a storage format for XML documents when mapping to other relational formats is not logical and an ntext field is not providing enough structural information.</span></span>

 <span data-ttu-id="3fdd0-170">Siempre que pueda utilizar un analizador XML para examinar un documento XML, podrá utilizar una tabla irregular para obtener la misma información.</span><span class="sxs-lookup"><span data-stu-id="3fdd0-170">In situations where you can use an XML parser to examine an XML document, you can use an edge table instead to obtain the same information.</span></span>

 <span data-ttu-id="3fdd0-171">En la tabla siguiente se describe la estructura de la tabla irregular.</span><span class="sxs-lookup"><span data-stu-id="3fdd0-171">The following table describes the structure of the edge table.</span></span>

|<span data-ttu-id="3fdd0-172">Nombre de la columna</span><span class="sxs-lookup"><span data-stu-id="3fdd0-172">Column name</span></span>|<span data-ttu-id="3fdd0-173">Tipo de datos</span><span class="sxs-lookup"><span data-stu-id="3fdd0-173">Data type</span></span>|<span data-ttu-id="3fdd0-174">Descripción</span><span class="sxs-lookup"><span data-stu-id="3fdd0-174">Description</span></span>|
|-----------------|---------------|-----------------|
|<span data-ttu-id="3fdd0-175">**id**</span><span class="sxs-lookup"><span data-stu-id="3fdd0-175">**id**</span></span>|<span data-ttu-id="3fdd0-176">**bigint**</span><span class="sxs-lookup"><span data-stu-id="3fdd0-176">**bigint**</span></span>|<span data-ttu-id="3fdd0-177">Es el id. único del nodo del documento.</span><span class="sxs-lookup"><span data-stu-id="3fdd0-177">Is the unique ID of the document node.</span></span><br /><br /> <span data-ttu-id="3fdd0-178">El elemento raíz tiene un valor de identificador de 0.</span><span class="sxs-lookup"><span data-stu-id="3fdd0-178">The root element has an ID value of 0.</span></span> <span data-ttu-id="3fdd0-179">Los valores de identificador negativos están reservados.</span><span class="sxs-lookup"><span data-stu-id="3fdd0-179">The negative ID values are reserved.</span></span>|
|<span data-ttu-id="3fdd0-180">**parentid**</span><span class="sxs-lookup"><span data-stu-id="3fdd0-180">**parentid**</span></span>|<span data-ttu-id="3fdd0-181">**bigint**</span><span class="sxs-lookup"><span data-stu-id="3fdd0-181">**bigint**</span></span>|<span data-ttu-id="3fdd0-182">Identifica el elemento primario del nodo.</span><span class="sxs-lookup"><span data-stu-id="3fdd0-182">Identifies the parent of the node.</span></span> <span data-ttu-id="3fdd0-183">El elemento primario identificado por este Id. no es necesariamente el elemento primario.</span><span class="sxs-lookup"><span data-stu-id="3fdd0-183">The parent identified by this ID is not necessarily the parent element.</span></span> <span data-ttu-id="3fdd0-184">Sin embargo, esto depende del valor de NodeType del nodo cuyo elemento primario identifique este identificador</span><span class="sxs-lookup"><span data-stu-id="3fdd0-184">However, this depends on the NodeType of the node whose parent is identified by this ID.</span></span> <span data-ttu-id="3fdd0-185">Por ejemplo, si se trata de un nodo de texto, su elemento primario puede ser un nodo de atributo.</span><span class="sxs-lookup"><span data-stu-id="3fdd0-185">For example, if the node is a text node, its parent may be an attribute node.</span></span><br /><br /> <span data-ttu-id="3fdd0-186">Si el nodo está en el nivel superior del documento XML, su **ParentID** es NULL.</span><span class="sxs-lookup"><span data-stu-id="3fdd0-186">If the node is at the top level in the XML document, its **ParentID** is NULL.</span></span>|
|<span data-ttu-id="3fdd0-187">**node type**</span><span class="sxs-lookup"><span data-stu-id="3fdd0-187">**node type**</span></span>|<span data-ttu-id="3fdd0-188">**int**</span><span class="sxs-lookup"><span data-stu-id="3fdd0-188">**int**</span></span>|<span data-ttu-id="3fdd0-189">Identifica el tipo de nodo y es un entero que se corresponde con la numeración del tipo de nodo del modelo de objetos de documento (DOM) XML.</span><span class="sxs-lookup"><span data-stu-id="3fdd0-189">Identifies the node type and is an integer that corresponds to the XML object model (DOM) node type numbering.</span></span><br /><br /> <span data-ttu-id="3fdd0-190">A continuación se ofrecen los valores que pueden aparecer en esta columna para indicar el tipo de nodo:</span><span class="sxs-lookup"><span data-stu-id="3fdd0-190">Following are the values that can appear in this column to indicate the node type:</span></span><br /><br /> <span data-ttu-id="3fdd0-191">**1** = nodo de elemento</span><span class="sxs-lookup"><span data-stu-id="3fdd0-191">**1** = Element node</span></span><br /><br /> <span data-ttu-id="3fdd0-192">**2** = nodo de atributo</span><span class="sxs-lookup"><span data-stu-id="3fdd0-192">**2** = Attribute node</span></span><br /><br /> <span data-ttu-id="3fdd0-193">**3** = nodo de texto</span><span class="sxs-lookup"><span data-stu-id="3fdd0-193">**3** = Text node</span></span><br /><br /> <span data-ttu-id="3fdd0-194">**4** = nodo de sección CDATA</span><span class="sxs-lookup"><span data-stu-id="3fdd0-194">**4** = CDATA section node</span></span><br /><br /> <span data-ttu-id="3fdd0-195">**5** = nodo de referencia de entidad</span><span class="sxs-lookup"><span data-stu-id="3fdd0-195">**5** = Entity reference node</span></span><br /><br /> <span data-ttu-id="3fdd0-196">**6** = nodo de entidad</span><span class="sxs-lookup"><span data-stu-id="3fdd0-196">**6** = Entity node</span></span><br /><br /> <span data-ttu-id="3fdd0-197">**7** = nodo de instrucción de procesamiento</span><span class="sxs-lookup"><span data-stu-id="3fdd0-197">**7** = Processing instruction node</span></span><br /><br /> <span data-ttu-id="3fdd0-198">**8** = nodo de comentario</span><span class="sxs-lookup"><span data-stu-id="3fdd0-198">**8** = Comment node</span></span><br /><br /> <span data-ttu-id="3fdd0-199">**9** = nodo de documento</span><span class="sxs-lookup"><span data-stu-id="3fdd0-199">**9** = Document node</span></span><br /><br /> <span data-ttu-id="3fdd0-200">**10** = nodo de tipo de documento</span><span class="sxs-lookup"><span data-stu-id="3fdd0-200">**10** = Document Type node</span></span><br /><br /> <span data-ttu-id="3fdd0-201">**11** = nodo de fragmento de documento</span><span class="sxs-lookup"><span data-stu-id="3fdd0-201">**11** = Document Fragment node</span></span><br /><br /> <span data-ttu-id="3fdd0-202">**12** = nodo de notación</span><span class="sxs-lookup"><span data-stu-id="3fdd0-202">**12** = Notation node</span></span><br /><br /> <span data-ttu-id="3fdd0-203">Para obtener más información, vea el tema donde se explica la propiedad nodeType en el SDK de Microsoft XML (MSXML).</span><span class="sxs-lookup"><span data-stu-id="3fdd0-203">For more information, see the "nodeType Property" topic in the Microsoft XML (MSXML) SDK.</span></span>|
|<span data-ttu-id="3fdd0-204">**localname**</span><span class="sxs-lookup"><span data-stu-id="3fdd0-204">**localname**</span></span>|<span data-ttu-id="3fdd0-205">**nvarchar(max)**</span><span class="sxs-lookup"><span data-stu-id="3fdd0-205">**nvarchar(max)**</span></span>|<span data-ttu-id="3fdd0-206">Proporciona el nombre local del elemento o atributo.</span><span class="sxs-lookup"><span data-stu-id="3fdd0-206">Gives the local name of the element or attribute.</span></span> <span data-ttu-id="3fdd0-207">Es NULL si el objeto DOM no tiene nombre.</span><span class="sxs-lookup"><span data-stu-id="3fdd0-207">Is NULL if the DOM object does not have a name.</span></span>|
|<span data-ttu-id="3fdd0-208">**prefijo**</span><span class="sxs-lookup"><span data-stu-id="3fdd0-208">**prefix**</span></span>|<span data-ttu-id="3fdd0-209">**nvarchar(max)**</span><span class="sxs-lookup"><span data-stu-id="3fdd0-209">**nvarchar(max)**</span></span>|<span data-ttu-id="3fdd0-210">Es el prefijo del espacio del nombre del nodo.</span><span class="sxs-lookup"><span data-stu-id="3fdd0-210">Is the namespace prefix of the node name.</span></span>|
|<span data-ttu-id="3fdd0-211">**namespaceuri**</span><span class="sxs-lookup"><span data-stu-id="3fdd0-211">**namespaceuri**</span></span>|<span data-ttu-id="3fdd0-212">**nvarchar(max)**</span><span class="sxs-lookup"><span data-stu-id="3fdd0-212">**nvarchar(max)**</span></span>|<span data-ttu-id="3fdd0-213">Es el URI del espacio de nombres del nodo.</span><span class="sxs-lookup"><span data-stu-id="3fdd0-213">Is the namespace URI of the node.</span></span> <span data-ttu-id="3fdd0-214">Si el valor es NULL, no hay ningún espacio de nombres.</span><span class="sxs-lookup"><span data-stu-id="3fdd0-214">If the value is NULL, no namespace is present.</span></span>|
|<span data-ttu-id="3fdd0-215">**datatype**</span><span class="sxs-lookup"><span data-stu-id="3fdd0-215">**datatype**</span></span>|<span data-ttu-id="3fdd0-216">**nvarchar(max)**</span><span class="sxs-lookup"><span data-stu-id="3fdd0-216">**nvarchar(max)**</span></span>|<span data-ttu-id="3fdd0-217">Es el tipo de datos real de la fila del elemento o atributo; en caso contrario, es NULL.</span><span class="sxs-lookup"><span data-stu-id="3fdd0-217">Is the actual data type of the element or attribute row and is otherwise NULL.</span></span> <span data-ttu-id="3fdd0-218">El tipo de datos se infiere a partir de las DTD insertadas o del esquema insertado.</span><span class="sxs-lookup"><span data-stu-id="3fdd0-218">The data type is inferred from the inline DTD or from the inline schema.</span></span>|
|<span data-ttu-id="3fdd0-219">**prev**</span><span class="sxs-lookup"><span data-stu-id="3fdd0-219">**prev**</span></span>|<span data-ttu-id="3fdd0-220">**bigint**</span><span class="sxs-lookup"><span data-stu-id="3fdd0-220">**bigint**</span></span>|<span data-ttu-id="3fdd0-221">Es el id. XML del anterior elemento del mismo nivel.</span><span class="sxs-lookup"><span data-stu-id="3fdd0-221">Is the XML ID of the previous sibling element.</span></span> <span data-ttu-id="3fdd0-222">Es NULL si no existe ningún elemento previo directo del mismo nivel.</span><span class="sxs-lookup"><span data-stu-id="3fdd0-222">Is NULL if there is no direct previous sibling.</span></span>|
|<span data-ttu-id="3fdd0-223">**text**</span><span class="sxs-lookup"><span data-stu-id="3fdd0-223">**text**</span></span>|<span data-ttu-id="3fdd0-224">**ntext**</span><span class="sxs-lookup"><span data-stu-id="3fdd0-224">**ntext**</span></span>|<span data-ttu-id="3fdd0-225">Contiene el valor del atributo o el contenido del elemento en formato de texto.</span><span class="sxs-lookup"><span data-stu-id="3fdd0-225">Contains the attribute value or the element content in text form.</span></span> <span data-ttu-id="3fdd0-226">Es NULL si la entrada de la tabla irregular no necesita ningún valor.</span><span class="sxs-lookup"><span data-stu-id="3fdd0-226">Or is NULL, if the edge table entry does not need a value.</span></span>|

#### <a name="using-the-with-clause-to-specify-an-existing-table"></a><span data-ttu-id="3fdd0-227">Utilizar la cláusula WITH para especificar una tabla existente</span><span class="sxs-lookup"><span data-stu-id="3fdd0-227">Using the WITH Clause to Specify an Existing Table</span></span>
 <span data-ttu-id="3fdd0-228">Se puede utilizar la cláusula WITH para especificar el nombre de una tabla existente.</span><span class="sxs-lookup"><span data-stu-id="3fdd0-228">You can use the WITH clause to specify the name of an existing table.</span></span> <span data-ttu-id="3fdd0-229">Para ello, solo es necesario especificar un nombre de tabla existente cuyo esquema pueda ser utilizado por OPENXML para generar el conjunto de filas.</span><span class="sxs-lookup"><span data-stu-id="3fdd0-229">To do this, just specify an existing table name whose schema can be used by OPENXML to generate the rowset.</span></span>

#### <a name="using-the-with-clause-to-specify-a-schema"></a><span data-ttu-id="3fdd0-230">Utilizar la cláusula WITH para especificar un esquema</span><span class="sxs-lookup"><span data-stu-id="3fdd0-230">Using the WITH Clause to Specify a Schema</span></span>
 <span data-ttu-id="3fdd0-231">Se puede utilizar la cláusula WITH para especificar un esquema completo.</span><span class="sxs-lookup"><span data-stu-id="3fdd0-231">You can use the WITH Clause to specify a complete schema.</span></span> <span data-ttu-id="3fdd0-232">Al especificar el esquema del conjunto de filas, se especifican los nombres de columna, sus tipos de datos y su asignación al documento XML.</span><span class="sxs-lookup"><span data-stu-id="3fdd0-232">In specifying the rowset schema, you specify the column names, their data types, and their mapping to the XML document.</span></span>

 <span data-ttu-id="3fdd0-233">Se puede especificar el patrón de columna mediante el parámetro ColPattern de SchemaDeclaration.</span><span class="sxs-lookup"><span data-stu-id="3fdd0-233">You can specify the column pattern by using the ColPattern parameter in the SchemaDeclaration.</span></span> <span data-ttu-id="3fdd0-234">El patrón de columna especificado se utiliza para asignar una columna del conjunto de filas al nodo XML identificado por rowpattern y también para determinar el tipo de asignación.</span><span class="sxs-lookup"><span data-stu-id="3fdd0-234">The specified column pattern is used to map a rowset column to the XML node that is identified by rowpattern and is also used to determine the type of mapping.</span></span>

 <span data-ttu-id="3fdd0-235">Si no se especifica ColPattern para una columna, la columna del conjunto de filas se asigna al nodo XML con el mismo nombre, según la asignación especificada en el parámetro *flags* .</span><span class="sxs-lookup"><span data-stu-id="3fdd0-235">If ColPattern is not specified for a column, the rowset column maps to the XML node with the same name, based on the mapping specified by the *flags* parameter.</span></span> <span data-ttu-id="3fdd0-236">No obstante, si se especifica ColPattern como parte de la especificación del esquema en la cláusula WITH, se sobrescribe la asignación especificada en el parámetro *flags* .</span><span class="sxs-lookup"><span data-stu-id="3fdd0-236">However, if ColPattern is specified as part of the schema specification in the WITH clause, it overwrites the mapping that is specified in the *flags* parameter.</span></span>

### <a name="mapping-between-the-rowset-columns-and-the-xml-nodes"></a><span data-ttu-id="3fdd0-237">La asignación entre las columnas del conjunto de filas y los nodos XML</span><span class="sxs-lookup"><span data-stu-id="3fdd0-237">Mapping Between the Rowset Columns and the XML Nodes</span></span>
 <span data-ttu-id="3fdd0-238">En la instrucción OPENXML, opcionalmente se puede especificar el tipo de asignación (centrada en atributos o centrada en elementos) que existe entre las columnas del conjunto de filas y los nodos XML identificados en *rowpattern*.</span><span class="sxs-lookup"><span data-stu-id="3fdd0-238">In the OPENXML statement, you can optionally specify the type of mapping, such as attribute-centric or element-centric, between the rowset columns and the XML nodes that are identified by the *rowpattern*.</span></span> <span data-ttu-id="3fdd0-239">Esta información se utiliza en la transformación entre los nodos XML y las columnas del conjunto de filas.</span><span class="sxs-lookup"><span data-stu-id="3fdd0-239">This information is used in the transformation between the XML nodes and the rowset columns.</span></span>

 <span data-ttu-id="3fdd0-240">Las asignaciones se pueden especificar de las dos maneras siguientes:</span><span class="sxs-lookup"><span data-stu-id="3fdd0-240">You can specify the mapping in two ways, and you can also specify both:</span></span>

-   <span data-ttu-id="3fdd0-241">Mediante el uso del parámetro *flags*</span><span class="sxs-lookup"><span data-stu-id="3fdd0-241">By using the *flags* parameter</span></span>

     <span data-ttu-id="3fdd0-242">La asignación que se especifica con el parámetro *flags* da por supuesto la correspondencia de nombres, según la cual los nodos XML se asignan a las columnas del conjunto de filas con el mismo nombre.</span><span class="sxs-lookup"><span data-stu-id="3fdd0-242">The mapping that is specified by the *flags* parameter assumes name correspondence in which the XML nodes map to the corresponding rowset columns with same name.</span></span>

-   <span data-ttu-id="3fdd0-243">Mediante el uso del parámetro *ColPattern*</span><span class="sxs-lookup"><span data-stu-id="3fdd0-243">By using the *ColPattern* parameter</span></span>

     <span data-ttu-id="3fdd0-244">*ColPattern*, una expresión XPath, se especifica como parte de *SchemaDeclaration* en la cláusula WITH.</span><span class="sxs-lookup"><span data-stu-id="3fdd0-244">*ColPattern*, an XPath expression, is specified as part of *SchemaDeclaration* in the WITH clause.</span></span> <span data-ttu-id="3fdd0-245">La asignación especificada en *ColPattern* sobrescribe la asignación que especifica el parámetro *flags* .</span><span class="sxs-lookup"><span data-stu-id="3fdd0-245">The mapping specified in *ColPattern* overwrites the mapping specified by the *flags* parameter.</span></span>

     <span data-ttu-id="3fdd0-246">*ColPattern* puede usarse para especificar el tipo de asignación, como centrada en atributos o centrada en elementos, que sobrescribe o mejora la asignación predeterminada indicada en *flags*.</span><span class="sxs-lookup"><span data-stu-id="3fdd0-246">*ColPattern* can be used to specify the type of mapping, such as attribute-centric or element-centric, that overwrites or enhances the default mapping indicated by the *flags*.</span></span>

     <span data-ttu-id="3fdd0-247">*ColPattern* se especifica en las siguientes circunstancias:</span><span class="sxs-lookup"><span data-stu-id="3fdd0-247">*ColPattern* is specified under the following circumstances:</span></span>

    -   <span data-ttu-id="3fdd0-248">El nombre de columna del conjunto de filas es diferente del nombre de elemento o atributo al que se asigna.</span><span class="sxs-lookup"><span data-stu-id="3fdd0-248">The column name in the rowset is different from the element or attribute name to which it is mapped.</span></span> <span data-ttu-id="3fdd0-249">En este caso, se utiliza *ColPattern* para identificar el nombre del elemento o atributo XML al que se asigna la columna del conjunto de filas.</span><span class="sxs-lookup"><span data-stu-id="3fdd0-249">In this case, *ColPattern* is used to identify the XML element and attribute name to which the rowset column maps.</span></span>

    -   <span data-ttu-id="3fdd0-250">Se desea asignar un atributo de metapropiedad a la columna.</span><span class="sxs-lookup"><span data-stu-id="3fdd0-250">You want to map a metaproperty attribute to the column.</span></span> <span data-ttu-id="3fdd0-251">En este caso, se utiliza *ColPattern* para identificar la metapropiedad a la que se asigna la columna del conjunto de filas.</span><span class="sxs-lookup"><span data-stu-id="3fdd0-251">In this case, *ColPattern* is used to identify the metaproperty to which the rowset column maps.</span></span> <span data-ttu-id="3fdd0-252">Para obtener más información sobre cómo usar las metapropiedades, vea [Especificar metapropiedades en OPENXML](../xml/specify-metaproperties-in-openxml.md).</span><span class="sxs-lookup"><span data-stu-id="3fdd0-252">For more information about how to use metaproperties, see [Specify Metaproperties in OPENXML](../xml/specify-metaproperties-in-openxml.md).</span></span>

 <span data-ttu-id="3fdd0-253">Los parámetros *flags* y *ColPattern* son opcionales.</span><span class="sxs-lookup"><span data-stu-id="3fdd0-253">Both the *flags* and *ColPattern* parameters are optional.</span></span> <span data-ttu-id="3fdd0-254">Si no se especifica ninguna asignación, se asume la asignación centrada en atributos.</span><span class="sxs-lookup"><span data-stu-id="3fdd0-254">If no mapping is specified, attribute-centric mapping is assumed.</span></span> <span data-ttu-id="3fdd0-255">La asignación centrada en atributos es el valor predeterminado del parámetro *flags* .</span><span class="sxs-lookup"><span data-stu-id="3fdd0-255">Attribute-centric mapping is the default value of the *flags* parameter.</span></span>

#### <a name="attribute-centric-mapping"></a><span data-ttu-id="3fdd0-256">asignación centrada en atributos</span><span class="sxs-lookup"><span data-stu-id="3fdd0-256">Attribute-centric Mapping</span></span>
 <span data-ttu-id="3fdd0-257">Al establecer el parámetro *flags* de OPENXML en 1 (XML_ATTRIBUTES), se especifica la asignación **centrada en atributos** .</span><span class="sxs-lookup"><span data-stu-id="3fdd0-257">Setting the *flags* parameter in OPENXML to 1 (XML_ATTRIBUTES) specifies **attribute-centric** mapping.</span></span> <span data-ttu-id="3fdd0-258">Si *flags* contiene XML_ ATTRIBUTES, el conjunto de filas expuesto proporciona o usa filas en las que cada elemento XML se representa como una fila.</span><span class="sxs-lookup"><span data-stu-id="3fdd0-258">If *flags* contains XML_ ATTRIBUTES, the exposed rowset provides or consumes rows where each XML element is represented as a row.</span></span> <span data-ttu-id="3fdd0-259">Los atributos XML se asignan a los atributos definidos en SchemaDeclaration o proporcionados por Tablename en la cláusula WITH, basándose en la correspondencia de nombres.</span><span class="sxs-lookup"><span data-stu-id="3fdd0-259">The XML attributes are mapped to the attributes that are defined in the SchemaDeclaration or that are provided by the Tablename of the WITH clause, based on name correspondence.</span></span> <span data-ttu-id="3fdd0-260">La correspondencia de nombres significa que los atributos XML de un nombre determinado se almacenan en una columna del conjunto de filas con el mismo nombre.</span><span class="sxs-lookup"><span data-stu-id="3fdd0-260">Name correspondence means that the XML attributes of a particular name are stored in a column in the rowset with the same name.</span></span>

 <span data-ttu-id="3fdd0-261">Si el nombre de columna es diferente del nombre de atributo al que se asigna, debe especificarse *ColPattern* .</span><span class="sxs-lookup"><span data-stu-id="3fdd0-261">If the column name is different from the attribute name that it maps to, *ColPattern* must be specified.</span></span>

 <span data-ttu-id="3fdd0-262">Si el atributo XML tiene un calificador de espacio de nombres, el nombre de la columna del conjunto de filas también debe tenerlo.</span><span class="sxs-lookup"><span data-stu-id="3fdd0-262">If the XML attribute has a namespace qualifier, the column name in the rowset must also have the qualifier.</span></span>

#### <a name="element-centric-mapping"></a><span data-ttu-id="3fdd0-263">Asignación centrada en elementos</span><span class="sxs-lookup"><span data-stu-id="3fdd0-263">Element-centric Mapping</span></span>
 <span data-ttu-id="3fdd0-264">Al establecer el parámetro *flags* de OPENXML en 2 (XML_ELEMENTS), se especifica la asignación **centrada en elementos** .</span><span class="sxs-lookup"><span data-stu-id="3fdd0-264">Setting the *flags* parameter in OPENXML to 2 (XML_ELEMENTS) specifies **element-centric** mapping.</span></span> <span data-ttu-id="3fdd0-265">Esta asignación es similar a la asignación **centrada en atributos** , con las siguientes diferencias:</span><span class="sxs-lookup"><span data-stu-id="3fdd0-265">It is similar to **attribute-centric** mapping, except for the following differences:</span></span>

-   <span data-ttu-id="3fdd0-266">Si existe la correspondencia de nombres de la asignación de ejemplo (una asignación de columna a un elemento XML con el mismo nombre), se eligen los subelementos no complejos, a menos que se especifique un patrón de nivel de columna.</span><span class="sxs-lookup"><span data-stu-id="3fdd0-266">The name correspondence of the mapping example, a column mapping to an XML element with the same name chooses the noncomplex subelements, unless a column-level pattern is specified.</span></span> <span data-ttu-id="3fdd0-267">En el proceso de recuperación, si el subelemento es complejo porque contiene más subelementos, la columna se establece en NULL.</span><span class="sxs-lookup"><span data-stu-id="3fdd0-267">In the retrieval process, if the subelement is complex because it contains additional subelements, the column is set to NULL.</span></span> <span data-ttu-id="3fdd0-268">En ese caso, se descartan los valores de atributo de los subelementos.</span><span class="sxs-lookup"><span data-stu-id="3fdd0-268">Attribute values of the subelements are then ignored.</span></span>

-   <span data-ttu-id="3fdd0-269">Si varios subelementos tienen el mismo nombre, se devuelve el primer nodo.</span><span class="sxs-lookup"><span data-stu-id="3fdd0-269">For multiple subelements that have the same name, the first node is returned.</span></span>

## <a name="see-also"></a><span data-ttu-id="3fdd0-270">Consulte también</span><span class="sxs-lookup"><span data-stu-id="3fdd0-270">See Also</span></span>
 <span data-ttu-id="3fdd0-271">[sp_xml_preparedocument &#40;&#41;de Transact-sql](/sql/relational-databases/system-stored-procedures/sp-xml-preparedocument-transact-sql) [sp_xml_removedocument &#40;transact-sql&#41;](/sql/relational-databases/system-stored-procedures/sp-xml-removedocument-transact-sql) [OPENXML &#40;Transact-SQL&#41;XML de](/sql/t-sql/functions/openxml-transact-sql) [datos](../xml/xml-data-sql-server.md) &#40;SQL Server&#41;</span><span class="sxs-lookup"><span data-stu-id="3fdd0-271">[sp_xml_preparedocument &#40;Transact-SQL&#41;](/sql/relational-databases/system-stored-procedures/sp-xml-preparedocument-transact-sql) [sp_xml_removedocument &#40;Transact-SQL&#41;](/sql/relational-databases/system-stored-procedures/sp-xml-removedocument-transact-sql) [OPENXML &#40;Transact-SQL&#41;](/sql/t-sql/functions/openxml-transact-sql) [XML Data &#40;SQL Server&#41;](../xml/xml-data-sql-server.md)</span></span>


