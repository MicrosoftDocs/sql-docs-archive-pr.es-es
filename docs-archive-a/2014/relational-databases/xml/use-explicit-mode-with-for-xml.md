---
title: Usar el modo EXPLICIT con FOR XML | Microsoft Docs
ms.custom: ''
ms.date: 06/13/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: xml
ms.topic: conceptual
helpviewer_keywords:
- EXPLICIT FOR XML mode
- FOR XML clause, EXPLICIT mode
- FOR XML EXPLICIT mode
ms.assetid: 8b26e8ce-5465-4e7a-b237-98d0f4578ab1
author: rothja
ms.author: jroth
ms.openlocfilehash: 7e3db80333c74166301fcff7bb25edea4aca38a2
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 08/04/2020
ms.locfileid: "87671953"
---
# <a name="use-explicit-mode-with-for-xml"></a><span data-ttu-id="0294f-102">Usar el modo EXPLICIT con FOR XML</span><span class="sxs-lookup"><span data-stu-id="0294f-102">Use EXPLICIT Mode with FOR XML</span></span>
  <span data-ttu-id="0294f-103">Como se describe en el tema [Generar XML mediante FOR XML](../xml/for-xml-sql-server.md), los modos RAW y AUTO no proporcionan demasiado control sobre la forma del XML generado a partir del resultado de una consulta.</span><span class="sxs-lookup"><span data-stu-id="0294f-103">As described in the topic, [Constructing XML Using FOR XML](../xml/for-xml-sql-server.md), RAW and AUTO mode do not provide much control over the shape of the XML generated from a query result.</span></span> <span data-ttu-id="0294f-104">Sin embargo, el modo EXPLICIT ofrece la máxima flexibilidad para generar el XML que se desee a partir del resultado de una consulta.</span><span class="sxs-lookup"><span data-stu-id="0294f-104">However, EXPLICIT mode provides the most flexibility in generating the XML you want from a query result.</span></span>  
  
 <span data-ttu-id="0294f-105">La consulta en modo EXPLICIT debe escribirse de una determinada manera para poder especificar explícitamente la información adicional sobre el XML requerido, como el anidamiento esperado en el XML, como parte de la propia consulta.</span><span class="sxs-lookup"><span data-stu-id="0294f-105">The EXPLICIT mode query must be written in a specific way so that the additional information about the required XML, such as expected nesting in the XML, is explicitly specified as part of the query.</span></span> <span data-ttu-id="0294f-106">Dependiendo del XML que se solicite, la escritura de consultas en modo EXPLICIT puede resultar complicada.</span><span class="sxs-lookup"><span data-stu-id="0294f-106">Depending on the XML you request, writing EXPLICIT mode queries can be cumbersome.</span></span> <span data-ttu-id="0294f-107">Tal vez, una alternativa más sencilla que escribir consultas en modo EXPLICIT sea [usar el modo PATH](../xml/use-path-mode-with-for-xml.md) con anidamiento.</span><span class="sxs-lookup"><span data-stu-id="0294f-107">You may find that [Using PATH Mode](../xml/use-path-mode-with-for-xml.md) with nesting is a simpler alternative to writing EXPLICIT mode queries.</span></span>  
  
 <span data-ttu-id="0294f-108">En modo EXPLICIT, el XML que se desea se describe como parte de la consulta, por lo que es necesario asegurarse de que el XML generado sea correcto y válido.</span><span class="sxs-lookup"><span data-stu-id="0294f-108">Because you describe the XML you want as part of the query in EXPLICIT mode, you must ensure that the generated XML is well formed and valid.</span></span>  
  
## <a name="rowset-processing-in-explicit-mode"></a><span data-ttu-id="0294f-109">Procesar conjuntos de filas en modo EXPLICIT</span><span class="sxs-lookup"><span data-stu-id="0294f-109">Rowset Processing in EXPLICIT Mode</span></span>  
 <span data-ttu-id="0294f-110">El modo EXPLICIT transforma en un documento XML el conjunto de filas resultante de la ejecución de la consulta.</span><span class="sxs-lookup"><span data-stu-id="0294f-110">The EXPLICIT mode transforms the rowset that results from the query execution into an XML document.</span></span> <span data-ttu-id="0294f-111">Para que el modo EXPLICIT pueda generar el documento XML, el conjunto de filas debe ajustarse a un determinado formato.</span><span class="sxs-lookup"><span data-stu-id="0294f-111">In order for EXPLICIT mode to produce the XML document, the rowset must have a specific format.</span></span> <span data-ttu-id="0294f-112">Por ello, es necesario escribir la consulta SELECT para generar el conjunto de filas, la **tabla universal**, con un formato específico que permita a la lógica del procesamiento generar el XML deseado.</span><span class="sxs-lookup"><span data-stu-id="0294f-112">This requires that you write the SELECT query to produce the rowset, the **universal table**, with a specific format so the processing logic can then produce the XML you want.</span></span>  
  
 <span data-ttu-id="0294f-113">En primer lugar, la consulta debe crear las dos columnas de metadatos siguientes:</span><span class="sxs-lookup"><span data-stu-id="0294f-113">First, the query must produce the following two metadata columns:</span></span>  
  
-   <span data-ttu-id="0294f-114">La primera columna debe proporcionar el número de etiqueta, el tipo de entero, del elemento actual, y el nombre de la columna debe ser **Tag**.</span><span class="sxs-lookup"><span data-stu-id="0294f-114">The first column must provide the tag number, integer type, of the current element, and the column name must be **Tag**.</span></span> <span data-ttu-id="0294f-115">La consulta debe proporcionar un número de etiqueta único para cada elemento que se vaya a construir a partir del conjunto de filas.</span><span class="sxs-lookup"><span data-stu-id="0294f-115">Your query must provide a unique tag number for each element that will be constructed from the rowset.</span></span>  
  
-   <span data-ttu-id="0294f-116">La segunda columna debe proporcionar un número de etiqueta del elemento primario, y el nombre de la columna debe ser **Parent**.</span><span class="sxs-lookup"><span data-stu-id="0294f-116">The second column must provide a tag number of the parent element, and this column name must be **Parent**.</span></span> <span data-ttu-id="0294f-117">De este modo, las columnas Tag y Parent ofrecen información sobre la jerarquía.</span><span class="sxs-lookup"><span data-stu-id="0294f-117">In this way, the Tag and the Parent column provide hierarchy information.</span></span>  
  
 <span data-ttu-id="0294f-118">Los valores de estas columnas de metadatos, junto con la información de los nombres de columna, se usan para generar el XML deseado.</span><span class="sxs-lookup"><span data-stu-id="0294f-118">These metadata column values, together with the information in the column names, are used to produce the XML you want.</span></span> <span data-ttu-id="0294f-119">Tenga en cuenta que la consulta debe proporcionar los nombres de columna de una manera determinada.</span><span class="sxs-lookup"><span data-stu-id="0294f-119">Note that your query must provide column names in a specific way.</span></span> <span data-ttu-id="0294f-120">Observe también que un valor 0 ó NULL en la columna **Parent** indica que el elemento correspondiente no tiene uno primario.</span><span class="sxs-lookup"><span data-stu-id="0294f-120">Also note that a 0 or NULL in the **Parent** column indicates that the corresponding element has no parent.</span></span> <span data-ttu-id="0294f-121">El elemento se agrega al XML como elemento de nivel superior.</span><span class="sxs-lookup"><span data-stu-id="0294f-121">The element is added to the XML as a top-level element.</span></span>  
  
 <span data-ttu-id="0294f-122">Para comprender cómo se procesa la tabla universal generada por una consulta para obtener el XML resultante, suponga que ha escrito una consulta que genera esta tabla universal:</span><span class="sxs-lookup"><span data-stu-id="0294f-122">To understand how the universal table generated by a query is processed into generating XML result, assume that you have written a query that produces this universal table:</span></span>  
  
 <span data-ttu-id="0294f-123">![Ejemplo de tabla universal](../../database-engine/media/xmlutable.gif "Ejemplo de tabla universal")</span><span class="sxs-lookup"><span data-stu-id="0294f-123">![Sample universal table](../../database-engine/media/xmlutable.gif "Sample universal table")</span></span>  
  
 <span data-ttu-id="0294f-124">Observe lo siguiente en esta tabla universal:</span><span class="sxs-lookup"><span data-stu-id="0294f-124">Note the following about this universal table:</span></span>  
  
-   <span data-ttu-id="0294f-125">Las dos primeras columnas son **Tag** y **Parent** y son de metadatos.</span><span class="sxs-lookup"><span data-stu-id="0294f-125">The first two columns are **Tag** and **Parent** and are meta columns.</span></span> <span data-ttu-id="0294f-126">Estos valores determinan la jerarquía.</span><span class="sxs-lookup"><span data-stu-id="0294f-126">These values determine the hierarchy.</span></span>  
  
-   <span data-ttu-id="0294f-127">Los nombres de columna se han especificado de una manera determinada, como se describe más adelante en este tema.</span><span class="sxs-lookup"><span data-stu-id="0294f-127">The column names are specified in a certain way, as described later in this topic.</span></span>  
  
-   <span data-ttu-id="0294f-128">Al generar el XML a partir de esta tabla universal, se crea una partición vertical de los datos de la tabla en grupos de columnas.</span><span class="sxs-lookup"><span data-stu-id="0294f-128">In generating the XML from this universal table, the data in this table is partitioned vertically into column groups.</span></span> <span data-ttu-id="0294f-129">La agrupación se determina en función del valor de **Tag** y los nombres de columna.</span><span class="sxs-lookup"><span data-stu-id="0294f-129">The grouping is determined based on the **Tag** value and the column names.</span></span> <span data-ttu-id="0294f-130">Al crear XML, la lógica de procesamiento selecciona un grupo de columnas para cada fila y construye un elemento.</span><span class="sxs-lookup"><span data-stu-id="0294f-130">In constructing XML, the processing logic selects one group of columns for each row and constructs an element.</span></span> <span data-ttu-id="0294f-131">En este ejemplo, se observa lo siguiente:</span><span class="sxs-lookup"><span data-stu-id="0294f-131">The following applies in this example:</span></span>  
  
    -   <span data-ttu-id="0294f-132">Para el valor 1 de la columna **Tag** en la primera fila, las columnas cuyos nombres incluyen el mismo número de etiqueta, **Customer!1!cid** y **Customer!1!name**, forman un grupo.</span><span class="sxs-lookup"><span data-stu-id="0294f-132">For **Tag** column value 1 in the first row, the columns whose names include the same tag number, **Customer!1!cid** and **Customer!1!name**, form a group.</span></span> <span data-ttu-id="0294f-133">Estas columnas se utilizan para procesar la fila, y se observa que la forma del elemento generado es <`Customer id=... name=...`>.</span><span class="sxs-lookup"><span data-stu-id="0294f-133">These columns are used in processing the row, and you may have noticed that the shape of the generated element is <`Customer id=... name=...`>.</span></span> <span data-ttu-id="0294f-134">El formato del nombre de columna se describe más adelante en este tema.</span><span class="sxs-lookup"><span data-stu-id="0294f-134">Column name format is described later in this topic.</span></span>  
  
    -   <span data-ttu-id="0294f-135">Para las filas con valor 2 en la columna **Tag**, las columnas **Order!2!id** y **Order!2!date** forman un grupo que se usa después para construir elementos, <`Order id=... date=... /`>.</span><span class="sxs-lookup"><span data-stu-id="0294f-135">For rows with **Tag** column value 2, columns **Order!2!id** and **Order!2!date** form a group that is then used in constructing elements, <`Order id=... date=... /`>.</span></span>  
  
    -   <span data-ttu-id="0294f-136">Para las filas con valor 3 en la columna **Tag** , las columnas **OrderDetail!3!id!id** y **OrderDetail!3!pid!idref** forman un grupo.</span><span class="sxs-lookup"><span data-stu-id="0294f-136">For rows with **Tag** column value 3, columns **OrderDetail!3!id!id** and **OrderDetail!3!pid!idref** form a group.</span></span> <span data-ttu-id="0294f-137">Cada una de estas filas genera un elemento, <`OrderDetail id=... pid=...`>, a partir de estas columnas.</span><span class="sxs-lookup"><span data-stu-id="0294f-137">Each of these rows generates an element, <`OrderDetail id=... pid=...`>, from these columns.</span></span>  
  
-   <span data-ttu-id="0294f-138">Tenga en cuenta que, al generar la jerarquía en XML, las filas se procesan por orden.</span><span class="sxs-lookup"><span data-stu-id="0294f-138">Note that in generating XML hierarchy, the rows are processed in order.</span></span> <span data-ttu-id="0294f-139">La jerarquía XML se determina como se indica a continuación:</span><span class="sxs-lookup"><span data-stu-id="0294f-139">The XML hierarchy is determined as shown in the following:</span></span>  
  
    -   <span data-ttu-id="0294f-140">La primera fila especifica el valor 1 en **Tag** y el valor NULL en **Parent** .</span><span class="sxs-lookup"><span data-stu-id="0294f-140">The first row specifies **Tag** value 1 and **Parent** value NULL.</span></span> <span data-ttu-id="0294f-141">Por lo tanto, el elemento correspondiente, <`Customer`>, se agrega al XML como elemento de nivel superior.</span><span class="sxs-lookup"><span data-stu-id="0294f-141">Therefore, the corresponding element, <`Customer`> element, is added as a top-level element in the XML.</span></span>  
  
        ```  
        <Customer cid="C1" name="Janine">  
        ```  
  
    -   <span data-ttu-id="0294f-142">La segunda fila identifica el valor 2 en **Tag** y el valor 1 en **Parent** .</span><span class="sxs-lookup"><span data-stu-id="0294f-142">The second row identifies **Tag** value 2 and **Parent** value 1.</span></span> <span data-ttu-id="0294f-143">Por tanto, se agrega un elemento <`Order`> como elemento secundario del elemento <`Customer`>.</span><span class="sxs-lookup"><span data-stu-id="0294f-143">Therefore, the element, <`Order`> element, is added as a child of the <`Customer`> element.</span></span>  
  
        ```  
        <Customer cid="C1" name="Janine">  
           <Order id="O1" date="1/20/1996">  
        ```  
  
    -   <span data-ttu-id="0294f-144">Las dos filas siguientes identifican el valor 3 en **Tag** y el valor 2 en **Parent** .</span><span class="sxs-lookup"><span data-stu-id="0294f-144">The next two rows identify **Tag** value 3 and **Parent** value 2.</span></span> <span data-ttu-id="0294f-145">Por tanto, se agregan dos elementos <`OrderDetail`> como elementos secundarios del elemento <`Order`>.</span><span class="sxs-lookup"><span data-stu-id="0294f-145">Therefore, the two elements, <`OrderDetail`> elements, are added as children of the <`Order`> element.</span></span>  
  
        ```  
        <Customer cid="C1" name="Janine">  
           <Order id="O1" date="1/20/1996">  
              <OrderDetail id="OD1" pid="P1"/>  
              <OrderDetail id="OD2" pid="P2"/>  
        ```  
  
    -   <span data-ttu-id="0294f-146">La última fila identifica 2 como número de etiqueta en **Tag** y 1 como número de etiqueta en **Parent** .</span><span class="sxs-lookup"><span data-stu-id="0294f-146">The last row identifies 2 as the **Tag** number and 1 as the **Parent** tag number.</span></span> <span data-ttu-id="0294f-147">Por lo tanto, se agrega otro elemento secundario <`Order`> al elemento primario <`Customer`>.</span><span class="sxs-lookup"><span data-stu-id="0294f-147">Therefore, another <`Order`> element child is added to the <`Customer`> parent element.</span></span>  
  
        ```  
        <Customer cid="C1" name="Janine">  
           <Order id="O1" date="1/20/1996">  
              <OrderDetail id="OD1" pid="P1"/>  
              <OrderDetail id="OD2" pid="P2"/>  
           </Order>  
           <Order id="O2" date="3/29/1997">  
        </Customer>  
        ```  
  
 <span data-ttu-id="0294f-148">En resumen, los valores de las columnas de metadatos **Tag** y **Parent** , la información proporcionada en los nombres de columna y el orden correcto de las filas generan el XML deseado al utilizar el modo EXPLICIT.</span><span class="sxs-lookup"><span data-stu-id="0294f-148">To summarize, the values in the **Tag** and **Parent** meta columns, the information provided in the column names, and the correct ordering of the rows produce the XML you want when you use EXPLICIT mode.</span></span>  
  
### <a name="universal-table-row-ordering"></a><span data-ttu-id="0294f-149">Ordenación de las filas en la tabla universal</span><span class="sxs-lookup"><span data-stu-id="0294f-149">Universal Table Row Ordering</span></span>  
 <span data-ttu-id="0294f-150">Al generar el XML, las filas de la tabla universal se procesan por orden.</span><span class="sxs-lookup"><span data-stu-id="0294f-150">In constructing the XML, the rows in the universal table are processed in order.</span></span> <span data-ttu-id="0294f-151">Por tanto, para recuperar las instancias secundarias correctas asociadas a su instancia primaria, las filas del conjunto de filas deben estar ordenadas de modo que a cada nodo principal le sigan directamente sus nodos secundarios.</span><span class="sxs-lookup"><span data-stu-id="0294f-151">Therefore, to retrieve the correct children instances associated with their parent, the rows in the rowset must be ordered so that each parent node is immediately followed by its children.</span></span>  
  
## <a name="specifying-column-names-in-a-universal-table"></a><span data-ttu-id="0294f-152">Especificar nombres de columna en una tabla universal</span><span class="sxs-lookup"><span data-stu-id="0294f-152">Specifying Column Names in a Universal Table</span></span>  
 <span data-ttu-id="0294f-153">Al escribir consultas en modo EXPLICIT, los nombres de columna del conjunto de filas resultante se deben especificar con este formato.</span><span class="sxs-lookup"><span data-stu-id="0294f-153">When writing EXPLICIT mode queries, column names in the resulting rowset must be specified by using this format.</span></span> <span data-ttu-id="0294f-154">Ofrecen información de transformación, incluidos nombres de elementos y atributos y otros datos, especificada mediante el uso de directivas.</span><span class="sxs-lookup"><span data-stu-id="0294f-154">They provide transformation information including element and attribute names and other additional information, specified by using directives.</span></span>  
  
 <span data-ttu-id="0294f-155">Éste es el formato general:</span><span class="sxs-lookup"><span data-stu-id="0294f-155">This is the general format:</span></span>  
  
```  
  
ElementName!TagNumber!AttributeName!Directive  
```  
  
 <span data-ttu-id="0294f-156">A continuación, se describe cada parte del formato.</span><span class="sxs-lookup"><span data-stu-id="0294f-156">Following is the description of the parts of the format.</span></span>  
  
 <span data-ttu-id="0294f-157">*ElementName*</span><span class="sxs-lookup"><span data-stu-id="0294f-157">*ElementName*</span></span>  
 <span data-ttu-id="0294f-158">Es el identificador genérico resultante del elemento.</span><span class="sxs-lookup"><span data-stu-id="0294f-158">Is the resulting generic identifier of the element.</span></span> <span data-ttu-id="0294f-159">Por ejemplo, si se especifica **Customers** como *ElementName*, se genera el elemento \<Customers>.</span><span class="sxs-lookup"><span data-stu-id="0294f-159">For example, if **Customers** is specified as *ElementName*, the \<Customers> element is generated.</span></span>  
  
 <span data-ttu-id="0294f-160">*TagNumber*</span><span class="sxs-lookup"><span data-stu-id="0294f-160">*TagNumber*</span></span>  
 <span data-ttu-id="0294f-161">Es un valor de etiqueta único asignado a un elemento.</span><span class="sxs-lookup"><span data-stu-id="0294f-161">Is a unique tag value assigned to an element.</span></span> <span data-ttu-id="0294f-162">Este valor, junto con las dos columnas de metadatos **Tag** y **Parent**, determina el anidamiento de los elementos en el XML resultante.</span><span class="sxs-lookup"><span data-stu-id="0294f-162">This value, with the help of the two metadata columns, **Tag** and **Parent**, determines the nesting of the elements in the resulting XML.</span></span>  
  
 <span data-ttu-id="0294f-163">*AttributeName*</span><span class="sxs-lookup"><span data-stu-id="0294f-163">*AttributeName*</span></span>  
 <span data-ttu-id="0294f-164">Proporciona el nombre del atributo que se va a crear en el identificador *ElementName*especificado.</span><span class="sxs-lookup"><span data-stu-id="0294f-164">Provides the name of the attribute to construct in the specified *ElementName*.</span></span> <span data-ttu-id="0294f-165">Éste es el comportamiento si no se especifica *Directive* .</span><span class="sxs-lookup"><span data-stu-id="0294f-165">This is the behavior if *Directive* is not specified.</span></span>  
  
 <span data-ttu-id="0294f-166">Si se especifica *Directive* y es **xml**, **cdata**o **element**, este valor se utiliza para crear un elemento secundario de *ElementName*, y se le agrega el valor de la columna.</span><span class="sxs-lookup"><span data-stu-id="0294f-166">If *Directive* is specified and it is **xml**, **cdata**, or **element**, this value is used to construct an element child of *ElementName*, and the column value is added to it.</span></span>  
  
 <span data-ttu-id="0294f-167">Si se especifica *Directive*, *AttributeName* puede estar vacío.</span><span class="sxs-lookup"><span data-stu-id="0294f-167">If you specify the *Directive*, the *AttributeName* can be empty.</span></span> <span data-ttu-id="0294f-168">Por ejemplo, ElementName!TagNumber!!Directive.</span><span class="sxs-lookup"><span data-stu-id="0294f-168">For example, ElementName!TagNumber!!Directive.</span></span> <span data-ttu-id="0294f-169">En este caso, el valor de la columna está incluido directamente en el *ElementName*.</span><span class="sxs-lookup"><span data-stu-id="0294f-169">In this case, the column value is directly contained by the *ElementName*.</span></span>  
  
 <span data-ttu-id="0294f-170">*Directive*</span><span class="sxs-lookup"><span data-stu-id="0294f-170">*Directive*</span></span>  
 <span data-ttu-id="0294f-171">*Directive* es opcional y se puede usar para proporcionar información adicional para generar el XML.</span><span class="sxs-lookup"><span data-stu-id="0294f-171">*Directive* is optional and you can use it to provide additional information for construction of the XML.</span></span> <span data-ttu-id="0294f-172">*Directive* tiene dos objetivos.</span><span class="sxs-lookup"><span data-stu-id="0294f-172">*Directive* has two purposes.</span></span>  
  
 <span data-ttu-id="0294f-173">Uno de los objetivos es codificar valores como ID, IDREF e IDREFS.</span><span class="sxs-lookup"><span data-stu-id="0294f-173">One of the purposes is to encode values as ID, IDREF, and IDREFS.</span></span> <span data-ttu-id="0294f-174">Puede especificar palabras clave **ID**, **IDREF**e **IDREFS** como valores de *Directive*.</span><span class="sxs-lookup"><span data-stu-id="0294f-174">You can specify **ID**, **IDREF**, and **IDREFS** keywords as *Directives*.</span></span> <span data-ttu-id="0294f-175">Estas directivas sobrescriben los tipos de atributo.</span><span class="sxs-lookup"><span data-stu-id="0294f-175">These directives overwrite the attribute types.</span></span> <span data-ttu-id="0294f-176">De este modo, puede crear vínculos entre documentos.</span><span class="sxs-lookup"><span data-stu-id="0294f-176">This allows you to create intra-document links.</span></span>  
  
 <span data-ttu-id="0294f-177">También puede usar *Directive* para indicar la forma de asignar los datos de cadena a XML.</span><span class="sxs-lookup"><span data-stu-id="0294f-177">Also, you can use *Directive* to indicate how to map the string data to XML.</span></span> <span data-ttu-id="0294f-178">Las palabras clave **hide**, **element, elementxsinil**, **xml**, **xmltext**y **cdata** se pueden usar como *Directive*.</span><span class="sxs-lookup"><span data-stu-id="0294f-178">The **hide**, **element, elementxsinil**, **xml**, **xmltext**, and **cdata** keywords can be used as the *Directive*.</span></span> <span data-ttu-id="0294f-179">La directiva **hide** oculta el nodo.</span><span class="sxs-lookup"><span data-stu-id="0294f-179">The **hide** directive hides the node.</span></span> <span data-ttu-id="0294f-180">Es útil cuando se recuperan valores solo para ordenarlos, sin incluirlos en el XML resultante.</span><span class="sxs-lookup"><span data-stu-id="0294f-180">This is useful when you retrieve values only for sorting purposes, but you do not want them in the resulting XML.</span></span>  
  
 <span data-ttu-id="0294f-181">La directiva **element** genera un elemento contenido en lugar de un atributo.</span><span class="sxs-lookup"><span data-stu-id="0294f-181">The **element** directive generates a contained element instead of an attribute.</span></span> <span data-ttu-id="0294f-182">Los datos contenidos se codifican como entidad.</span><span class="sxs-lookup"><span data-stu-id="0294f-182">The contained data is encoded as an entity.</span></span> <span data-ttu-id="0294f-183">Por ejemplo, el carácter **<** pasa a ser &lt;.</span><span class="sxs-lookup"><span data-stu-id="0294f-183">For example, the **<** character becomes &lt;.</span></span> <span data-ttu-id="0294f-184">En el caso de valores de columna NULL, no se genera ningún elemento.</span><span class="sxs-lookup"><span data-stu-id="0294f-184">For NULL column values, no element is generated.</span></span> <span data-ttu-id="0294f-185">Si desea que se genere un elemento para valores de columna NULL, puede especificar la directiva **elementxsinil** .</span><span class="sxs-lookup"><span data-stu-id="0294f-185">If you want an element generated for null column values, you can specify the **elementxsinil** directive.</span></span> <span data-ttu-id="0294f-186">De este modo, se generará un elemento con el atributo sxi:nil=TRUE.</span><span class="sxs-lookup"><span data-stu-id="0294f-186">This will generate an element that has the attribute xsi:nil=TRUE.</span></span>  
  
 <span data-ttu-id="0294f-187">La directiva **xml** es la misma que la directiva **element** , excepto en que no se produce la codificación de entidades.</span><span class="sxs-lookup"><span data-stu-id="0294f-187">The **xml** directive is the same as an **element** directive, except that no entity encoding occurs.</span></span> <span data-ttu-id="0294f-188">Observe que la directiva **element** se puede combinar con **ID**, **IDREF**o **IDREFS**, mientras que la directiva **xml** no se puede combinar con ninguna otra directiva, excepto **hide**.</span><span class="sxs-lookup"><span data-stu-id="0294f-188">Note that the **element** directive can be combined with **ID**, **IDREF**, or **IDREFS**, whereas the **xml** directive is not allowed with any other directive, except **hide**.</span></span>  
  
 <span data-ttu-id="0294f-189">La directiva **cdata** Incluye los datos englobándolos en una sección CDATA.</span><span class="sxs-lookup"><span data-stu-id="0294f-189">The **cdata** directive contains the data by wrapping it with a CDATA section.</span></span> <span data-ttu-id="0294f-190">El contenido no se codifica por entidad.</span><span class="sxs-lookup"><span data-stu-id="0294f-190">The content is not entity encoded.</span></span> <span data-ttu-id="0294f-191">El tipo de datos original debe ser de texto, como **varchar**, **nvarchar**, **text**o **ntext**.</span><span class="sxs-lookup"><span data-stu-id="0294f-191">The original data type must be a text type such as **varchar**, **nvarchar**, **text**, or **ntext**.</span></span> <span data-ttu-id="0294f-192">Esta directiva solo puede utilizarse con **hide**.</span><span class="sxs-lookup"><span data-stu-id="0294f-192">This directive can be used only with **hide**.</span></span> <span data-ttu-id="0294f-193">Si se utiliza esta directiva, no debe especificarse *AttributeName* .</span><span class="sxs-lookup"><span data-stu-id="0294f-193">When this directive is used, *AttributeName* must not be specified.</span></span>  
  
 <span data-ttu-id="0294f-194">La combinación de directivas entre estos dos grupos es válida en la mayoría de los casos, pero no se permite la combinación entre ellas mismas.</span><span class="sxs-lookup"><span data-stu-id="0294f-194">Combining directives between these two groups is allowed in most cases, but combining them among themselves is not allowed.</span></span>  
  
 <span data-ttu-id="0294f-195">Si no se especifican *Directive* ni *AttributeName* (por ejemplo, **Customer!1**), se implica una directiva **element** (como **Customer!1!!element**) y los datos de columna se incluyen en *ElementName*.</span><span class="sxs-lookup"><span data-stu-id="0294f-195">If the *Directive* and the *AttributeName* is not specified, for example, **Customer!1**, an **element** directive is implied, such as **Customer!1!!element**, and column data is contained in the *ElementName*.</span></span>  
  
 <span data-ttu-id="0294f-196">Si se especifica la directiva **xmltext** , el contenido de la columna se incluye en una única etiqueta que se integrará con el resto del documento.</span><span class="sxs-lookup"><span data-stu-id="0294f-196">If the **xmltext** directive is specified, the column content is wrapped in a single tag that is integrated with the rest of the document.</span></span> <span data-ttu-id="0294f-197">Esta directiva es útil para capturar los datos XML de desbordamiento no utilizados que OPENXML almacena en una columna.</span><span class="sxs-lookup"><span data-stu-id="0294f-197">This directive is useful in fetching overflow, unconsumed, XML data stored in a column by OPENXML.</span></span> <span data-ttu-id="0294f-198">Para obtener más información, vea [OPENXML &#40;SQL Server&#41;](../xml/openxml-sql-server.md).</span><span class="sxs-lookup"><span data-stu-id="0294f-198">For more information, see [OPENXML &#40;SQL Server&#41;](../xml/openxml-sql-server.md).</span></span>  
  
 <span data-ttu-id="0294f-199">Si se especifica *AttributeName* , el nombre de etiqueta se sustituye por el nombre especificado.</span><span class="sxs-lookup"><span data-stu-id="0294f-199">If *AttributeName* is specified, the tag name is replaced by the specified name.</span></span> <span data-ttu-id="0294f-200">En caso contrario, el atributo se agrega a la lista actual de atributos de los elementos que los incluyen colocando el contenido al principio del contenido sin codificación de entidades.</span><span class="sxs-lookup"><span data-stu-id="0294f-200">Otherwise, the attribute is appended to the current list of attributes of the enclosing elements by putting the content at the beginning of the containment without entity encoding.</span></span> <span data-ttu-id="0294f-201">La columna con esta directiva debe ser de tipo texto, como **varchar**, **nvarchar**, **char**, **nchar**, **text**o **ntext**.</span><span class="sxs-lookup"><span data-stu-id="0294f-201">The column with this directive must be a text type, such as **varchar**, **nvarchar**, **char**, **nchar**, **text**, or **ntext**.</span></span> <span data-ttu-id="0294f-202">Esta directiva solo puede utilizarse con **hide**.</span><span class="sxs-lookup"><span data-stu-id="0294f-202">This directive can be used only with **hide**.</span></span> <span data-ttu-id="0294f-203">Esta directiva es útil para capturar los datos de desbordamiento almacenados en una columna.</span><span class="sxs-lookup"><span data-stu-id="0294f-203">This directive is useful in fetching overflow data stored in a column.</span></span> <span data-ttu-id="0294f-204">Si el contexto no es un XML bien estructurado, el comportamiento no está definido.</span><span class="sxs-lookup"><span data-stu-id="0294f-204">If the content is not a well-formed XML, the behavior is undefined.</span></span>  
  
## <a name="in-this-section"></a><span data-ttu-id="0294f-205">En esta sección</span><span class="sxs-lookup"><span data-stu-id="0294f-205">In This Section</span></span>  
 <span data-ttu-id="0294f-206">Los siguientes ejemplos ilustran el uso del modo EXPLICIT.</span><span class="sxs-lookup"><span data-stu-id="0294f-206">The following examples illustrate the use of EXPLICIT mode.</span></span>  
  
-   [<span data-ttu-id="0294f-207">Ejemplo: Recuperación de información de los empleados</span><span class="sxs-lookup"><span data-stu-id="0294f-207">Example: Retrieving Employee Information</span></span>](../xml/example-retrieving-employee-information.md)  
  
-   [<span data-ttu-id="0294f-208">Ejemplo: Especificación de la directiva ELEMENT</span><span class="sxs-lookup"><span data-stu-id="0294f-208">Example: Specifying the ELEMENT Directive</span></span>](../xml/example-specifying-the-element-directive.md)  
  
-   [<span data-ttu-id="0294f-209">Ejemplo: Especificación de la directiva ELEMENTXSINIL</span><span class="sxs-lookup"><span data-stu-id="0294f-209">Example: Specifying the ELEMENTXSINIL Directive</span></span>](../xml/example-specifying-the-elementxsinil-directive.md)  
  
-   [<span data-ttu-id="0294f-210">Ejemplo: Construcción de elementos del mismo nivel con el modo EXPLICIT</span><span class="sxs-lookup"><span data-stu-id="0294f-210">Example: Constructing Siblings with EXPLICIT Mode</span></span>](../xml/example-constructing-siblings-with-explicit-mode.md)  
  
-   [<span data-ttu-id="0294f-211">Ejemplo: Especificación de las directivas ID e IDREF</span><span class="sxs-lookup"><span data-stu-id="0294f-211">Example: Specifying the ID and IDREF Directives</span></span>](../xml/example-specifying-the-id-and-idref-directives.md)  
  
-   [<span data-ttu-id="0294f-212">Ejemplo: Especificación de las directivas ID e IDREFS</span><span class="sxs-lookup"><span data-stu-id="0294f-212">Example: Specifying the ID and IDREFS Directives</span></span>](../xml/example-specifying-the-id-and-idrefs-directives.md)  
  
-   [<span data-ttu-id="0294f-213">Ejemplo: Especificación de la directiva HIDE</span><span class="sxs-lookup"><span data-stu-id="0294f-213">Example: Specifying the HIDE Directive</span></span>](../xml/example-specifying-the-hide-directive.md)  
  
-   [<span data-ttu-id="0294f-214">Ejemplo: Especificación de la directiva ELEMENT y la codificación de entidades</span><span class="sxs-lookup"><span data-stu-id="0294f-214">Example: Specifying the ELEMENT Directive and Entity Encoding</span></span>](../xml/example-specifying-the-element-directive-and-entity-encoding.md)  
  
-   [<span data-ttu-id="0294f-215">Ejemplo: Especificación de la directiva CDATA</span><span class="sxs-lookup"><span data-stu-id="0294f-215">Example: Specifying the CDATA Directive</span></span>](../xml/example-specifying-the-cdata-directive.md)  
  
-   [<span data-ttu-id="0294f-216">Ejemplo: Especificación de la directiva XMLTEXT</span><span class="sxs-lookup"><span data-stu-id="0294f-216">Example: Specifying the XMLTEXT Directive</span></span>](../xml/example-specifying-the-xmltext-directive.md)  
  
## <a name="see-also"></a><span data-ttu-id="0294f-217">Consulte también</span><span class="sxs-lookup"><span data-stu-id="0294f-217">See Also</span></span>  
 <span data-ttu-id="0294f-218">[Usar el modo RAW con FOR XML](../xml/use-raw-mode-with-for-xml.md) </span><span class="sxs-lookup"><span data-stu-id="0294f-218">[Use RAW Mode with FOR XML](../xml/use-raw-mode-with-for-xml.md) </span></span>  
 <span data-ttu-id="0294f-219">[Usar el modo AUTO con FOR XML](../xml/use-auto-mode-with-for-xml.md) </span><span class="sxs-lookup"><span data-stu-id="0294f-219">[Use AUTO Mode with FOR XML](../xml/use-auto-mode-with-for-xml.md) </span></span>  
 <span data-ttu-id="0294f-220">[Usar el modo PATH con FOR XML](../xml/use-path-mode-with-for-xml.md) </span><span class="sxs-lookup"><span data-stu-id="0294f-220">[Use PATH Mode with FOR XML](../xml/use-path-mode-with-for-xml.md) </span></span>  
 <span data-ttu-id="0294f-221">[SELECT &#40;Transact-SQL&#41;](/sql/t-sql/queries/select-transact-sql) </span><span class="sxs-lookup"><span data-stu-id="0294f-221">[SELECT &#40;Transact-SQL&#41;](/sql/t-sql/queries/select-transact-sql) </span></span>  
 [<span data-ttu-id="0294f-222">FOR XML &#40;SQL Server&#41;</span><span class="sxs-lookup"><span data-stu-id="0294f-222">FOR XML &#40;SQL Server&#41;</span></span>](../xml/for-xml-sql-server.md)  
  
  
