---
title: Mejoras de fecha y hora | Microsoft Docs
ms.custom: ''
ms.date: 03/06/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: native-client
ms.topic: reference
ms.assetid: 9b1d0d9d-1f6e-4399-8f61-e23f9a486a7a
author: rothja
ms.author: jroth
ms.openlocfilehash: 94f3fb5c00c15912840c494d3a6f6b0b05ea7257
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 08/04/2020
ms.locfileid: "87745259"
---
# <a name="date-and-time-improvements"></a><span data-ttu-id="8942d-102">Mejoras en la fecha y la hora</span><span class="sxs-lookup"><span data-stu-id="8942d-102">Date and Time Improvements</span></span>
  <span data-ttu-id="8942d-103">En este tema se describe la compatibilidad de [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] Native Client con los nuevos tipos de datos de fecha y hora que se introdujeron en [!INCLUDE[ssKatmai](../../../includes/sskatmai-md.md)].</span><span class="sxs-lookup"><span data-stu-id="8942d-103">This topic describes the [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] Native Client support for the date and time data types that were added in [!INCLUDE[ssKatmai](../../../includes/sskatmai-md.md)].</span></span>  
  
 <span data-ttu-id="8942d-104">Para obtener más información acerca de las mejoras de fecha y hora, vea mejoras de fecha [y hora &#40;OLE DB&#41;](../../native-client-ole-db-date-time/date-and-time-improvements-ole-db.md) y [mejoras de fecha y hora &#40;&#41;ODBC ](../../native-client-odbc-date-time/date-and-time-improvements-odbc.md).</span><span class="sxs-lookup"><span data-stu-id="8942d-104">For more information about date/time improvements, see [Date and Time Improvements &#40;OLE DB&#41;](../../native-client-ole-db-date-time/date-and-time-improvements-ole-db.md) and [Date and Time Improvements &#40;ODBC&#41;](../../native-client-odbc-date-time/date-and-time-improvements-odbc.md).</span></span>  
  
 <span data-ttu-id="8942d-105">Para obtener información sobre las aplicaciones de ejemplo que muestran esta característica, vea [Ejemplos de programación de datos de SQL Server](https://msftdpprodsamples.codeplex.com/).</span><span class="sxs-lookup"><span data-stu-id="8942d-105">For information about sample applications that demonstrate this feature, see [SQL Server Data Programming Samples](https://msftdpprodsamples.codeplex.com/).</span></span>  
  
## <a name="usage"></a><span data-ttu-id="8942d-106">Uso</span><span class="sxs-lookup"><span data-stu-id="8942d-106">Usage</span></span>  
 <span data-ttu-id="8942d-107">En las secciones siguientes se describen varios modos de usar los nuevos tipos de fecha y hora.</span><span class="sxs-lookup"><span data-stu-id="8942d-107">The following sections describe various ways of using the new date and time types.</span></span>  
  
### <a name="use-date-as-a-distinct-data-type"></a><span data-ttu-id="8942d-108">Usar date como un tipo de datos distinto</span><span class="sxs-lookup"><span data-stu-id="8942d-108">Use Date as a Distinct Data Type</span></span>  
 <span data-ttu-id="8942d-109">A partir de [!INCLUDE[ssKatmai](../../../includes/sskatmai-md.md)], la compatibilidad mejorada con los tipos de fecha y hora hace que el uso del tipo SQL_TYPE_DATE de ODBC (SQL_DATE en aplicaciones ODBC 2.0) y el tipo DBTYPE_DBDATE de OLE DB resulte más eficaz.</span><span class="sxs-lookup"><span data-stu-id="8942d-109">Beginning with [!INCLUDE[ssKatmai](../../../includes/sskatmai-md.md)], enhanced support for date/time types makes it more efficient to use the SQL_TYPE_DATE ODBC type (SQL_DATE for ODBC 2.0 applications) and the DBTYPE_DBDATE OLE DB type.</span></span>  
  
### <a name="use-time-as-a-distinct-data-type"></a><span data-ttu-id="8942d-110">Usar time como un tipo de datos distinto</span><span class="sxs-lookup"><span data-stu-id="8942d-110">Use Time as a Distinct Data Type</span></span>  
 <span data-ttu-id="8942d-111">OLE DB ya tiene un tipo de datos que solamente contiene la hora, DBTYPE_DBTIME, que ofrece una precisión de 1 segundo.</span><span class="sxs-lookup"><span data-stu-id="8942d-111">OLE DB already has a data type that just contains the time, DBTYPE_DBTIME, which has a precision of 1 second.</span></span> <span data-ttu-id="8942d-112">En ODBC, el tipo equivalente es SQL_TYPE_TIME (SQL_TIME para aplicaciones ODBC 2.0).</span><span class="sxs-lookup"><span data-stu-id="8942d-112">In ODBC, the equivalent type is SQL_TYPE_TIME (SQL_TIME for ODBC 2.0 applications).</span></span>  
  
 <span data-ttu-id="8942d-113">El nuevo tipo de datos de hora de [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] tiene una precisión de 100 nanosegundos para las fracciones de segundo.</span><span class="sxs-lookup"><span data-stu-id="8942d-113">The new [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] time data type has fractional seconds accurate to 100 nanoseconds.</span></span> <span data-ttu-id="8942d-114">Esto requiere nuevos tipos en [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] Native Client: DBTYPE_DBTIME2 (OLE DB) y SQL_SS_TIME2 (ODBC).</span><span class="sxs-lookup"><span data-stu-id="8942d-114">This requires new types in [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] Native Client: DBTYPE_DBTIME2 (OLE DB) and SQL_SS_TIME2 (ODBC).</span></span> <span data-ttu-id="8942d-115">Las aplicaciones existentes escritas para utilizar horas sin fracciones de segundo pueden utilizar columnas time(0).</span><span class="sxs-lookup"><span data-stu-id="8942d-115">Existing applications written to use times with no fractional seconds can use time(0) columns.</span></span> <span data-ttu-id="8942d-116">Los tipos existentes DBTYPE_TIME de OLE DB y SQL_TYPE_TIME de ODBC y sus estructuras correspondientes deben funcionar correctamente, a menos que las aplicaciones se basen en el tipo devuelto en los metadatos.</span><span class="sxs-lookup"><span data-stu-id="8942d-116">The existing OLE DB DBTYPE_TIME and ODBC SQL_TYPE_TIME types and their corresponding structs should work correctly, unless the applications rely on the type returned in metadata.</span></span>  
  
### <a name="use-time-as-a-distinct-data-type-with-extended-fractional-seconds-precision"></a><span data-ttu-id="8942d-117">Usar time como un tipo de datos distinto con una precisión ampliada para las fracciones de segundo</span><span class="sxs-lookup"><span data-stu-id="8942d-117">Use Time as a Distinct Data Type with Extended Fractional Seconds Precision</span></span>  
 <span data-ttu-id="8942d-118">Algunas aplicaciones, como las aplicaciones de fabricación y control de procesos, exigen la capacidad de controlar los datos de hora con una precisión de hasta 100 nanosegundos.</span><span class="sxs-lookup"><span data-stu-id="8942d-118">Some applications, such as process control and manufacturing applications, require the ability to handle time data with a precision of up to 100 nanoseconds.</span></span> <span data-ttu-id="8942d-119">Para este propósito, se han introducido los nuevos tipos DBTYPE_DBTIME2 (OLE DB) y SQL_SS_TIME2 (ODBC).</span><span class="sxs-lookup"><span data-stu-id="8942d-119">New types for this purpose are DBTYPE_DBTIME2 (OLE DB) and SQL_SS_TIME2 (ODBC).</span></span>  
  
### <a name="use-datetime-with-extended-fractional-seconds-precision"></a><span data-ttu-id="8942d-120">Usar el tipo datetime con una precisión ampliada para las fracciones de segundo</span><span class="sxs-lookup"><span data-stu-id="8942d-120">Use Datetime with Extended Fractional Seconds Precision</span></span>  
 <span data-ttu-id="8942d-121">OLE DB ya define un tipo con una precisión de hasta 1 nanosegundo.</span><span class="sxs-lookup"><span data-stu-id="8942d-121">OLE DB already defines a type with a precision of up to 1 nanosecond.</span></span> <span data-ttu-id="8942d-122">Sin embargo, este tipo ya se utiliza en aplicaciones [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] existentes y estas aplicaciones tienen una expectativa de tan solo 1/300 de precisión en segundos.</span><span class="sxs-lookup"><span data-stu-id="8942d-122">However, this type is already used by existing [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] applications and such applications have an expectation of only 1/300 of a second precision.</span></span> <span data-ttu-id="8942d-123">El nuevo tipo `datetime2(3)` no es directamente compatible con el tipo de fecha y hora existente.</span><span class="sxs-lookup"><span data-stu-id="8942d-123">The new `datetime2(3)` type is not directly compatible with the existing datetime type.</span></span> <span data-ttu-id="8942d-124">Si existe el riesgo de que esto afecte al comportamiento de la aplicación, las aplicaciones deben utilizar una nueva marca DBCOLUMN para determinar el tipo de servidor real.</span><span class="sxs-lookup"><span data-stu-id="8942d-124">If there is a risk that this will affect application behavior, applications must use a new DBCOLUMN flag to determine the actual server type.</span></span>  
  
 <span data-ttu-id="8942d-125">ODBC también define un tipo con una precisión de hasta 1 nanosegundo.</span><span class="sxs-lookup"><span data-stu-id="8942d-125">ODBC also defines a type with a precision of up to 1 nanosecond.</span></span> <span data-ttu-id="8942d-126">Sin embargo, este tipo ya se utiliza en aplicaciones [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] existentes y tales aplicaciones solo esperan una precisión de 3 milisegundos.</span><span class="sxs-lookup"><span data-stu-id="8942d-126">However, this type is already used by existing [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] applications and such applications expect only 3 millisecond precision.</span></span> <span data-ttu-id="8942d-127">El nuevo tipo `datetime2(3)` no es directamente compatible con el tipo `datetime` existente.</span><span class="sxs-lookup"><span data-stu-id="8942d-127">The new `datetime2(3)` type is not  directly compatible with the existing `datetime` type.</span></span> <span data-ttu-id="8942d-128">`datetime2(3)` tiene una precisión de un milisegundo y `datetime` tiene una precisión de 1/300 de segundo.</span><span class="sxs-lookup"><span data-stu-id="8942d-128">`datetime2(3)` has a precision of one millisecond, and `datetime` has a precision of 1/300 of a second.</span></span> <span data-ttu-id="8942d-129">En ODBC, las aplicaciones pueden determinar qué tipo de servidor se está usando con el campo descriptor SQL_DESC_TYPE_NAME.</span><span class="sxs-lookup"><span data-stu-id="8942d-129">In ODBC, applications can determine which server type is in use with the descriptor field SQL_DESC_TYPE_NAME.</span></span> <span data-ttu-id="8942d-130">Por lo tanto, el tipo SQL_TYPE_TIMESTAMP existente (SQL_TIMESTAMP para aplicaciones ODBC 2.0) puede utilizarse con ambos tipos.</span><span class="sxs-lookup"><span data-stu-id="8942d-130">Therefore, the existing type SQL_TYPE_TIMESTAMP (SQL_TIMESTAMP for ODBC 2.0 applications) can be used for both types.</span></span>  
  
### <a name="use-datetime-with-extended-fractional-seconds-precision-and-timezone"></a><span data-ttu-id="8942d-131">Usar el tipo datetime con una precisión ampliada para las fracciones de segundo y la zona horaria</span><span class="sxs-lookup"><span data-stu-id="8942d-131">Use Datetime with Extended Fractional Seconds Precision and Timezone</span></span>  
 <span data-ttu-id="8942d-132">Algunas aplicaciones requieren valores de fecha y hora con información de zona horaria.</span><span class="sxs-lookup"><span data-stu-id="8942d-132">Some applications require datetime values with timezone information.</span></span> <span data-ttu-id="8942d-133">Los nuevos tipos DBTYPE_DBTIMESTAMPOFFSET (OLE DB) y SQL_SS_TIMESTAMPOFFSET (ODBC) admiten este uso.</span><span class="sxs-lookup"><span data-stu-id="8942d-133">This is supported by the new DBTYPE_DBTIMESTAMPOFFSET (OLE DB) and SQL_SS_TIMESTAMPOFFSET (ODBC) types.</span></span>  
  
### <a name="use-datetimedatetimedatetimeoffset-data-with-client-side-conversions-consistent-with-existing-conversions"></a><span data-ttu-id="8942d-134">Usar datos de tipo date/time/datetime/datetimeoffset con conversiones de cliente coherentes con las conversiones existentes</span><span class="sxs-lookup"><span data-stu-id="8942d-134">Use Date/Time/Datetime/Datetimeoffset Data with Client-Side Conversions Consistent with Existing Conversions</span></span>  
 <span data-ttu-id="8942d-135">El estándar ODBC describe cómo funcionan las conversiones entre los tipos date, time y timestamp existentes.</span><span class="sxs-lookup"><span data-stu-id="8942d-135">The ODBC standard describes how conversions between existing date, time, and timestamp types work.</span></span> <span data-ttu-id="8942d-136">Estos tipos se han ampliada de modo coherente para incluir conversiones entre todos los tipos de fecha y hora introducidos en [!INCLUDE[ssKatmai](../../../includes/sskatmai-md.md)].</span><span class="sxs-lookup"><span data-stu-id="8942d-136">These are extended in a consistent manner to include conversions between all date and time types introduced in [!INCLUDE[ssKatmai](../../../includes/sskatmai-md.md)].</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="8942d-137">Consulte también</span><span class="sxs-lookup"><span data-stu-id="8942d-137">See Also</span></span>  
 [<span data-ttu-id="8942d-138">Características de SQL Server Native Client</span><span class="sxs-lookup"><span data-stu-id="8942d-138">SQL Server Native Client Features</span></span>](sql-server-native-client-features.md)  
  
