---
title: Cursores | Microsoft Docs
ms.custom: ''
ms.date: 06/13/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: ''
ms.topic: conceptual
helpviewer_keywords:
- results [SQL Server], cursors
- Transact-SQL cursors, about cursors
- cursors [SQL Server]
- data access [SQL Server], cursors
- result sets [SQL Server], cursors
- requesting cursors
- cursors [SQL Server], about cursors
ms.assetid: e668b40c-bd4d-4415-850d-20fc4872ee72
author: rothja
ms.author: jroth
ms.openlocfilehash: 055482a8cf64527f58ed983b449121a99960f566
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 08/04/2020
ms.locfileid: "87677678"
---
# <a name="cursors"></a><span data-ttu-id="c21e8-102">Cursores</span><span class="sxs-lookup"><span data-stu-id="c21e8-102">Cursors</span></span>
  <span data-ttu-id="c21e8-103">Las operaciones de una base de datos relacional actúan en un conjunto completo de filas.</span><span class="sxs-lookup"><span data-stu-id="c21e8-103">Operations in a relational database act on a complete set of rows.</span></span> <span data-ttu-id="c21e8-104">Por ejemplo, el conjunto de filas que devuelve una instrucción SELECT está compuesto por todas las filas que satisfacen las condiciones de la cláusula WHERE de la instrucción.</span><span class="sxs-lookup"><span data-stu-id="c21e8-104">For example, the set of rows returned by a SELECT statement consists of all the rows that satisfy the conditions in the WHERE clause of the statement.</span></span> <span data-ttu-id="c21e8-105">Este conjunto completo de filas que devuelve la instrucción se conoce como conjunto de resultados.</span><span class="sxs-lookup"><span data-stu-id="c21e8-105">This complete set of rows returned by the statement is known as the result set.</span></span> <span data-ttu-id="c21e8-106">Las aplicaciones, especialmente las aplicaciones interactivas en línea, no siempre trabajan de forma eficaz con el conjunto de resultados completo si lo toman como una unidad.</span><span class="sxs-lookup"><span data-stu-id="c21e8-106">Applications, especially interactive online applications, cannot always work effectively with the entire result set as a unit.</span></span> <span data-ttu-id="c21e8-107">Estas aplicaciones necesitan un mecanismo que trabaje con una fila o un pequeño bloque de filas cada vez.</span><span class="sxs-lookup"><span data-stu-id="c21e8-107">These applications need a mechanism to work with one row or a small block of rows at a time.</span></span> <span data-ttu-id="c21e8-108">Los cursores son una extensión de los conjuntos de resultados que proporcionan dicho mecanismo.</span><span class="sxs-lookup"><span data-stu-id="c21e8-108">Cursors are an extension to result sets that provide that mechanism.</span></span>  
  
 <span data-ttu-id="c21e8-109">Los cursores amplían el procesamiento de los resultados porque:</span><span class="sxs-lookup"><span data-stu-id="c21e8-109">Cursors extend result processing by:</span></span>  
  
-   <span data-ttu-id="c21e8-110">Permiten situarse en filas específicas del conjunto de resultados.</span><span class="sxs-lookup"><span data-stu-id="c21e8-110">Allowing positioning at specific rows of the result set.</span></span>  
  
-   <span data-ttu-id="c21e8-111">Recuperan una fila o un bloque de filas de la posición actual en el conjunto de resultados.</span><span class="sxs-lookup"><span data-stu-id="c21e8-111">Retrieving one row or block of rows from the current position in the result set.</span></span>  
  
-   <span data-ttu-id="c21e8-112">Aceptan modificaciones de los datos de las filas en la posición actual del conjunto de resultados.</span><span class="sxs-lookup"><span data-stu-id="c21e8-112">Supporting data modifications to the rows at the current position in the result set.</span></span>  
  
-   <span data-ttu-id="c21e8-113">Aceptan diferentes grados de visibilidad para los cambios que realizan otros usuarios en la información de la base de datos que se presenta en el conjunto de resultados.</span><span class="sxs-lookup"><span data-stu-id="c21e8-113">Supporting different levels of visibility to changes made by other users to the database data that is presented in the result set.</span></span>  
  
-   <span data-ttu-id="c21e8-114">Proporcionan instrucciones [!INCLUDE[tsql](../includes/tsql-md.md)] en scripts, procedimientos almacenados y acceso de desencadenadores a los datos de un conjunto de resultados.</span><span class="sxs-lookup"><span data-stu-id="c21e8-114">Providing [!INCLUDE[tsql](../includes/tsql-md.md)] statements in scripts, stored procedures, and triggers access to the data in a result set.</span></span>  
  
## <a name="concepts"></a><span data-ttu-id="c21e8-115">Conceptos</span><span class="sxs-lookup"><span data-stu-id="c21e8-115">Concepts</span></span>  
 <span data-ttu-id="c21e8-116">Implementaciones de cursores</span><span class="sxs-lookup"><span data-stu-id="c21e8-116">Cursor Implementations</span></span>  
 [!INCLUDE[ssNoVersion](../includes/ssnoversion-md.md)] <span data-ttu-id="c21e8-117">admite tres implementaciones de cursores.</span><span class="sxs-lookup"><span data-stu-id="c21e8-117">supports three cursor implementations.</span></span>  
  
 <span data-ttu-id="c21e8-118">cursores de Transact-SQL</span><span class="sxs-lookup"><span data-stu-id="c21e8-118">Transact-SQL cursors</span></span>  
 <span data-ttu-id="c21e8-119">Se basan en la sintaxis de DECLARE CURSOR y se usan principal en scripts de [!INCLUDE[tsql](../includes/tsql-md.md)] , procedimientos almacenados y desencadenadores.</span><span class="sxs-lookup"><span data-stu-id="c21e8-119">Are based on the DECLARE CURSOR syntax and are used mainly in [!INCLUDE[tsql](../includes/tsql-md.md)] scripts, stored procedures, and triggers.</span></span> [!INCLUDE[tsql](../includes/tsql-md.md)] <span data-ttu-id="c21e8-120">se implementan en el servidor y se administran mediante instrucciones [!INCLUDE[tsql](../includes/tsql-md.md)] enviadas del cliente al servidor.</span><span class="sxs-lookup"><span data-stu-id="c21e8-120">cursors are implemented on the server and are managed by [!INCLUDE[tsql](../includes/tsql-md.md)] statements sent from the client to the server.</span></span> <span data-ttu-id="c21e8-121">También se pueden encontrar en lotes, procedimientos almacenados o desencadenadores.</span><span class="sxs-lookup"><span data-stu-id="c21e8-121">They may also be contained in batches, stored procedures, or triggers.</span></span>  
  
 <span data-ttu-id="c21e8-122">Cursores de servidor de la API (Interfaz de programación de aplicaciones)</span><span class="sxs-lookup"><span data-stu-id="c21e8-122">Application programming interface (API) server cursors</span></span>  
 <span data-ttu-id="c21e8-123">Permiten las funciones de cursor de la API con OLE DB y ODBC.</span><span class="sxs-lookup"><span data-stu-id="c21e8-123">Support the API cursor functions in OLE DB and ODBC.</span></span> <span data-ttu-id="c21e8-124">Los cursores de servidor de la API están implementados en el servidor.</span><span class="sxs-lookup"><span data-stu-id="c21e8-124">API server cursors are implemented on the server.</span></span> <span data-ttu-id="c21e8-125">Cada vez que una aplicación cliente llama a una función de cursor de la API, el proveedor OLE DB de [!INCLUDE[ssNoVersion](../includes/ssnoversion-md.md)] Native Client o el controlador de ODBC transmite la solicitud al servidor para que realice una acción con el cursor de servidor de la API.</span><span class="sxs-lookup"><span data-stu-id="c21e8-125">Each time a client application calls an API cursor function, the [!INCLUDE[ssNoVersion](../includes/ssnoversion-md.md)] Native Client OLE DB provider or ODBC driver transmits the request to the server for action against the API server cursor.</span></span>  
  
 <span data-ttu-id="c21e8-126">Cursores del cliente</span><span class="sxs-lookup"><span data-stu-id="c21e8-126">Client cursors</span></span>  
 <span data-ttu-id="c21e8-127">Los implementan internamente el controlador ODBC de [!INCLUDE[ssNoVersion](../includes/ssnoversion-md.md)] Native Client y la DLL que implementa la API ADO.</span><span class="sxs-lookup"><span data-stu-id="c21e8-127">Are implemented internally by the [!INCLUDE[ssNoVersion](../includes/ssnoversion-md.md)] Native Client ODBC driver and by the DLL that implements the ADO API.</span></span> <span data-ttu-id="c21e8-128">Los cursores del cliente se implementan almacenando en caché todas las filas de conjuntos de resultados del cliente.</span><span class="sxs-lookup"><span data-stu-id="c21e8-128">Client cursors are implemented by caching all the result set rows on the client.</span></span> <span data-ttu-id="c21e8-129">Cada vez que una aplicación cliente llama a una función de cursor de la API, el controlador ODBC de [!INCLUDE[ssNoVersion](../includes/ssnoversion-md.md)] Native Client o la DLL de ADO realizan la operación de cursor en las filas del conjunto de resultados almacenadas en la memoria caché del cliente.</span><span class="sxs-lookup"><span data-stu-id="c21e8-129">Each time a client application calls an API cursor function, the [!INCLUDE[ssNoVersion](../includes/ssnoversion-md.md)] Native Client ODBC driver or the ADO DLL performs the cursor operation on the result set rows cached on the client.</span></span>  
  
 <span data-ttu-id="c21e8-130">Tipo de cursores</span><span class="sxs-lookup"><span data-stu-id="c21e8-130">Type of Cursors</span></span>  
 <span data-ttu-id="c21e8-131">Solo avance</span><span class="sxs-lookup"><span data-stu-id="c21e8-131">Forward-only</span></span>  
 <span data-ttu-id="c21e8-132">Un cursor de solo avance no admite el desplazamiento; solo admite la captura en serie de filas desde el inicio hasta el final del cursor.</span><span class="sxs-lookup"><span data-stu-id="c21e8-132">A forward-only cursor does not support scrolling; it supports only fetching the rows serially from the start to the end of the cursor.</span></span> <span data-ttu-id="c21e8-133">Las filas no se obtienen de la base de datos hasta que se han capturado.</span><span class="sxs-lookup"><span data-stu-id="c21e8-133">The rows are not retrieved from the database until they are fetched.</span></span> <span data-ttu-id="c21e8-134">Los efectos de todas las instrucciones INSERT, UPDATE y DELETE que ejecuta el usuario actual o que confirman otros usuarios y que afectan a las filas del conjunto de resultados se hacen visibles a medida que se capturan las filas del cursor.</span><span class="sxs-lookup"><span data-stu-id="c21e8-134">The effects of all INSERT, UPDATE, and DELETE statements made by the current user or committed by other users that affect rows in the result set are visible as the rows are fetched from the cursor.</span></span>  
  
 <span data-ttu-id="c21e8-135">Como el cursor no se puede desplazar hacia atrás, la mayoría de los cambios realizados en las filas de la base de datos tras capturar la fila no se pueden ver a través del cursor.</span><span class="sxs-lookup"><span data-stu-id="c21e8-135">Because the cursor cannot be scrolled backward, most changes made to rows in the database after the row was fetched are not visible through the cursor.</span></span> <span data-ttu-id="c21e8-136">En los casos en los que se modifica un valor utilizado para determinar la ubicación de la fila en el conjunto de resultados, por ejemplo, si se actualiza una columna abarcada por un índice clúster, el valor modificado se puede ver a través del cursor.</span><span class="sxs-lookup"><span data-stu-id="c21e8-136">In cases where a value used to determine the location of the row within the result set is modified, such as updating a column covered by a clustered index, the modified value is visible through the cursor.</span></span>  
  
 <span data-ttu-id="c21e8-137">Aunque los modelos de cursor de la API de base de datos consideran el cursor de solo avance como un tipo más, [!INCLUDE[ssNoVersion](../includes/ssnoversion-md.md)] no establece esta distinción.</span><span class="sxs-lookup"><span data-stu-id="c21e8-137">Although the database API cursor models consider a forward-only cursor to be a distinct type of cursor, [!INCLUDE[ssNoVersion](../includes/ssnoversion-md.md)] does not.</span></span> [!INCLUDE[ssNoVersion](../includes/ssnoversion-md.md)] <span data-ttu-id="c21e8-138">considera que las opciones de desplazamiento de solo avance y de desplazamiento son las que se pueden aplicar a los cursores estáticos, a los controlados por conjunto de claves y a los dinámicos.</span><span class="sxs-lookup"><span data-stu-id="c21e8-138">considers both forward-only and scroll as options that can be applied to static, keyset-driven, and dynamic cursors.</span></span> [!INCLUDE[tsql](../includes/tsql-md.md)] <span data-ttu-id="c21e8-139">cursores admiten cursores estáticos controlados por conjunto de claves y dinámicos que sean de solo avance.</span><span class="sxs-lookup"><span data-stu-id="c21e8-139">cursors support forward-only static, keyset-driven, and dynamic cursors.</span></span> <span data-ttu-id="c21e8-140">Los modelos de cursor de la API de bases de datos dan por sentado que los cursores estáticos, los controlados por conjunto de claves y los dinámicos siempre se pueden desplazar.</span><span class="sxs-lookup"><span data-stu-id="c21e8-140">The database API cursor models assume that static, keyset-driven, and dynamic cursors are always scrollable.</span></span> <span data-ttu-id="c21e8-141">Cuando se establece el atributo o propiedad de un cursor de la API de bases de datos como de solo avance, [!INCLUDE[ssNoVersion](../includes/ssnoversion-md.md)] lo implementa como cursor dinámico de solo avance.</span><span class="sxs-lookup"><span data-stu-id="c21e8-141">When a database API cursor attribute or property is set to forward-only, [!INCLUDE[ssNoVersion](../includes/ssnoversion-md.md)] implements this as a forward-only dynamic cursor.</span></span>  
  
 <span data-ttu-id="c21e8-142">estática</span><span class="sxs-lookup"><span data-stu-id="c21e8-142">Static</span></span>  
 <span data-ttu-id="c21e8-143">El conjunto de resultados completo de un cursor estático se genera en **tempdb** cuando se abre el cursor.</span><span class="sxs-lookup"><span data-stu-id="c21e8-143">The complete result set of a static cursor is built in **tempdb** when the cursor is opened.</span></span> <span data-ttu-id="c21e8-144">Un cursor estático siempre muestra el conjunto de resultados tal como estaba al abrir el cursor.</span><span class="sxs-lookup"><span data-stu-id="c21e8-144">A static cursor always displays the result set as it was when the cursor was opened.</span></span> <span data-ttu-id="c21e8-145">Los cursores estáticos detectan pocos cambios o ningún cambio, pero consumen relativamente pocos recursos al desplazarse.</span><span class="sxs-lookup"><span data-stu-id="c21e8-145">Static cursors detect few or no changes, but consume relatively few resources while scrolling.</span></span>  
  
 <span data-ttu-id="c21e8-146">El cursor no refleja las modificaciones realizadas en la base de datos que afectan a la pertenencia al conjunto de resultados o a los valores modificados en las columnas de las filas que forman el conjunto de resultados.</span><span class="sxs-lookup"><span data-stu-id="c21e8-146">The cursor does not reflect any changes made in the database that affect either the membership of the result set or changes to the values in the columns of the rows that make up the result set.</span></span> <span data-ttu-id="c21e8-147">Un cursor estático no muestra las nuevas filas insertadas en la base de datos después de abrir el cursor, aunque coincidan con las condiciones de búsqueda de la instrucción SELECT del cursor.</span><span class="sxs-lookup"><span data-stu-id="c21e8-147">A static cursor does not display new rows inserted in the database after the cursor was opened, even if they match the search conditions of the cursor SELECT statement.</span></span> <span data-ttu-id="c21e8-148">Si otros usuarios actualizan las filas que conforman el conjunto de resultados, los nuevos valores de datos no se muestran en el cursor estático.</span><span class="sxs-lookup"><span data-stu-id="c21e8-148">If rows making up the result set are updated by other users, the new data values are not displayed in the static cursor.</span></span> <span data-ttu-id="c21e8-149">El cursor estático muestra las filas eliminadas de la base de datos una vez que se ha abierto el cursor.</span><span class="sxs-lookup"><span data-stu-id="c21e8-149">The static cursor displays rows deleted from the database after the cursor was opened.</span></span> <span data-ttu-id="c21e8-150">Las operaciones UPDATE, INSERT o DELETE no se reflejan en un cursor estático (a menos que se cierre éste y se vuelva a abrir), ni tampoco las modificaciones realizadas con la misma conexión que abrió el cursor.</span><span class="sxs-lookup"><span data-stu-id="c21e8-150">No UPDATE, INSERT, or DELETE operations are reflected in a static cursor (unless the cursor is closed and reopened), not even modifications made using the same connection that opened the cursor.</span></span>  
  
 [!INCLUDE[ssNoVersion](../includes/ssnoversion-md.md)] <span data-ttu-id="c21e8-151">cursores estáticos son siempre de solo lectura.</span><span class="sxs-lookup"><span data-stu-id="c21e8-151">static cursors are always read-only.</span></span>  
  
 <span data-ttu-id="c21e8-152">Debido a que el conjunto de resultados de un cursor estático se almacena en una tabla de trabajo de **tempdb**, el tamaño de las filas del conjunto de resultados no puede exceder el tamaño máximo de fila en una tabla de [!INCLUDE[ssNoVersion](../includes/ssnoversion-md.md)] .</span><span class="sxs-lookup"><span data-stu-id="c21e8-152">Because the result set of a static cursor is stored in a work table in **tempdb**, the size of the rows in the result set cannot exceed the maximum row size for a [!INCLUDE[ssNoVersion](../includes/ssnoversion-md.md)] table.</span></span>  
  
 [!INCLUDE[tsql](../includes/tsql-md.md)] <span data-ttu-id="c21e8-153">utiliza el término INSENSITIVE para los cursores estáticos.</span><span class="sxs-lookup"><span data-stu-id="c21e8-153">uses the term insensitive for static cursors.</span></span> <span data-ttu-id="c21e8-154">Algunas API de base de datos los identifican como cursores de instantánea.</span><span class="sxs-lookup"><span data-stu-id="c21e8-154">Some database APIs identify them as snapshot cursors.</span></span>  
  
 <span data-ttu-id="c21e8-155">Keyset</span><span class="sxs-lookup"><span data-stu-id="c21e8-155">Keyset</span></span>  
 <span data-ttu-id="c21e8-156">La pertenencia y el orden de las filas en un cursor dinámico se fijan al abrir el cursor.</span><span class="sxs-lookup"><span data-stu-id="c21e8-156">The membership and order of rows in a keyset-driven cursor are fixed when the cursor is opened.</span></span> <span data-ttu-id="c21e8-157">Los cursores dinámicos se supervisan mediante un conjunto de identificadores únicos (claves) denominado conjunto de claves.</span><span class="sxs-lookup"><span data-stu-id="c21e8-157">Keyset-driven cursors are controlled by a set of unique identifiers, keys, known as the keyset.</span></span> <span data-ttu-id="c21e8-158">Las claves se generan a partir de un conjunto de columnas que identifican las filas del conjunto de resultados de forma unívoca.</span><span class="sxs-lookup"><span data-stu-id="c21e8-158">The keys are built from a set of columns that uniquely identify the rows in the result set.</span></span> <span data-ttu-id="c21e8-159">El conjunto de claves es el conjunto de valores de clave de todas las filas que han sido calificadas para la instrucción SELECT en el momento de abrirse el cursor.</span><span class="sxs-lookup"><span data-stu-id="c21e8-159">The keyset is the set of the key values from all the rows that qualified for the SELECT statement at the time the cursor was opened.</span></span> <span data-ttu-id="c21e8-160">El conjunto de claves de un cursor dinámico se genera en **tempdb** al abrir el cursor.</span><span class="sxs-lookup"><span data-stu-id="c21e8-160">The keyset for a keyset-driven cursor is built in **tempdb** when the cursor is opened.</span></span>  
  
 <span data-ttu-id="c21e8-161">Dinámica</span><span class="sxs-lookup"><span data-stu-id="c21e8-161">Dynamic</span></span>  
 <span data-ttu-id="c21e8-162">Los cursores dinámicos son los opuestos a los cursores estáticos.</span><span class="sxs-lookup"><span data-stu-id="c21e8-162">Dynamic cursors are the opposite of static cursors.</span></span> <span data-ttu-id="c21e8-163">Reflejan todas las modificaciones realizadas en las filas de su conjunto de resultados al desplazarse por el cursor.</span><span class="sxs-lookup"><span data-stu-id="c21e8-163">Dynamic cursors reflect all changes made to the rows in their result set when scrolling through the cursor.</span></span> <span data-ttu-id="c21e8-164">Los valores de datos, el orden y la pertenencia de las filas del conjunto de resultados pueden cambiar con cada captura.</span><span class="sxs-lookup"><span data-stu-id="c21e8-164">The data values, order, and membership of the rows in the result set can change on each fetch.</span></span> <span data-ttu-id="c21e8-165">Todas las instrucciones UPDATE, INSERT y DELETE que realizan todos los usuarios son visibles a través del cursor.</span><span class="sxs-lookup"><span data-stu-id="c21e8-165">All UPDATE, INSERT, and DELETE statements made by all users are visible through the cursor.</span></span> <span data-ttu-id="c21e8-166">Las actualizaciones se muestran inmediatamente si se realizan a través del cursor mediante una función API, como **SQLSetPos** o la cláusula WHERE CURRENT OF de [!INCLUDE[tsql](../includes/tsql-md.md)] .</span><span class="sxs-lookup"><span data-stu-id="c21e8-166">Updates are visible immediately if they are made through the cursor using either an API function such as **SQLSetPos** or the [!INCLUDE[tsql](../includes/tsql-md.md)] WHERE CURRENT OF clause.</span></span> <span data-ttu-id="c21e8-167">Las actualizaciones realizadas fuera del cursor no son visibles hasta que se confirman, a menos que el nivel de aislamiento de transacción del cursor sea de lectura no confirmada.</span><span class="sxs-lookup"><span data-stu-id="c21e8-167">Updates made outside the cursor are not visible until they are committed, unless the cursor transaction isolation level is set to read uncommitted.</span></span> <span data-ttu-id="c21e8-168">Los planes de cursor dinámico no utilizan nunca índices espaciales.</span><span class="sxs-lookup"><span data-stu-id="c21e8-168">Dynamic cursor plans never use spatial indexes.</span></span>  
  
## <a name="requesting-a-cursor"></a><span data-ttu-id="c21e8-169">Solicitar un cursor</span><span class="sxs-lookup"><span data-stu-id="c21e8-169">Requesting a Cursor</span></span>  
 [!INCLUDE[ssNoVersion](../includes/ssnoversion-md.md)] <span data-ttu-id="c21e8-170">admite dos métodos para solicitar un cursor:</span><span class="sxs-lookup"><span data-stu-id="c21e8-170">supports two methods for requesting a cursor:</span></span>  
  
-   [!INCLUDE[tsql](../includes/tsql-md.md)]  
  
     <span data-ttu-id="c21e8-171">El lenguaje [!INCLUDE[tsql](../includes/tsql-md.md)] admite una sintaxis para utilizar cursores modelada a partir de la sintaxis de cursores ISO.</span><span class="sxs-lookup"><span data-stu-id="c21e8-171">The [!INCLUDE[tsql](../includes/tsql-md.md)] language supports a syntax for using cursors modeled after the ISO cursor syntax.</span></span>  
  
-   <span data-ttu-id="c21e8-172">Funciones de cursor para interfaces de programación de aplicaciones (API) de bases de datos</span><span class="sxs-lookup"><span data-stu-id="c21e8-172">Database application programming interface (API) cursor functions</span></span>  
  
     [!INCLUDE[ssNoVersion](../includes/ssnoversion-md.md)] <span data-ttu-id="c21e8-173">admite la funcionalidad de cursores de las siguientes API de bases de datos:</span><span class="sxs-lookup"><span data-stu-id="c21e8-173">supports the cursor functionality of these database APIs:</span></span>  
  
    -   <span data-ttu-id="c21e8-174">ADO ([!INCLUDE[msCoName](../includes/msconame-md.md)] ActiveX Data Object)</span><span class="sxs-lookup"><span data-stu-id="c21e8-174">ADO ([!INCLUDE[msCoName](../includes/msconame-md.md)] ActiveX Data Object)</span></span>  
  
    -   <span data-ttu-id="c21e8-175">OLE DB</span><span class="sxs-lookup"><span data-stu-id="c21e8-175">OLE DB</span></span>  
  
    -   <span data-ttu-id="c21e8-176">ODBC (Conectividad abierta de bases de datos)</span><span class="sxs-lookup"><span data-stu-id="c21e8-176">ODBC (Open Database Connectivity)</span></span>  
  
 <span data-ttu-id="c21e8-177">Una aplicación nunca debe mezclar estos dos métodos de solicitud de cursores.</span><span class="sxs-lookup"><span data-stu-id="c21e8-177">An application should never mix these two methods of requesting a cursor.</span></span> <span data-ttu-id="c21e8-178">Una aplicación que ya ha utilizado la API para determinar el comportamiento de cursores no debe ejecutar una instrucción DECLARE CURSOR de [!INCLUDE[tsql](../includes/tsql-md.md)] para solicitar también un cursor [!INCLUDE[tsql](../includes/tsql-md.md)] .</span><span class="sxs-lookup"><span data-stu-id="c21e8-178">An application that has used the API to specify cursor behaviors should not then execute a [!INCLUDE[tsql](../includes/tsql-md.md)] DECLARE CURSOR statement to also request a [!INCLUDE[tsql](../includes/tsql-md.md)] cursor.</span></span> <span data-ttu-id="c21e8-179">Una aplicación solo debe ejecutar DECLARE CURSOR si antes ha vuelto a establecer todos los atributos de cursores de la API a sus valores predeterminados.</span><span class="sxs-lookup"><span data-stu-id="c21e8-179">An application should only execute DECLARE CURSOR if it has set all the API cursor attributes back to their defaults.</span></span>  
  
 <span data-ttu-id="c21e8-180">Si no se ha solicitado un cursor [!INCLUDE[tsql](../includes/tsql-md.md)] ni un cursor de la API, [!INCLUDE[ssNoVersion](../includes/ssnoversion-md.md)] devuelve de forma predeterminada un conjunto de resultados completo, conocido como conjunto de resultados predeterminado, a la aplicación.</span><span class="sxs-lookup"><span data-stu-id="c21e8-180">If neither a [!INCLUDE[tsql](../includes/tsql-md.md)] nor API cursor has been requested, [!INCLUDE[ssNoVersion](../includes/ssnoversion-md.md)] defaults to returning a complete result set, known as a default result set, to the application.</span></span>  
  
## <a name="cursor-process"></a><span data-ttu-id="c21e8-181">Proceso de cursores</span><span class="sxs-lookup"><span data-stu-id="c21e8-181">Cursor Process</span></span>  
 [!INCLUDE[tsql](../includes/tsql-md.md)] <span data-ttu-id="c21e8-182">y los cursores de la API poseen una sintaxis diferente, se utiliza el siguiente proceso general con todos los cursores de [!INCLUDE[ssNoVersion](../includes/ssnoversion-md.md)] :</span><span class="sxs-lookup"><span data-stu-id="c21e8-182">cursors and API cursors have different syntax, but the following general process is used with all [!INCLUDE[ssNoVersion](../includes/ssnoversion-md.md)] cursors:</span></span>  
  
1.  <span data-ttu-id="c21e8-183">Asigne un cursor al conjunto de resultados de una instrucción [!INCLUDE[tsql](../includes/tsql-md.md)] y defina características del cursor como, por ejemplo, si sus filas se pueden actualizar.</span><span class="sxs-lookup"><span data-stu-id="c21e8-183">Associate a cursor with the result set of a [!INCLUDE[tsql](../includes/tsql-md.md)] statement, and define characteristics of the cursor, such as whether the rows in the cursor can be updated.</span></span>  
  
2.  <span data-ttu-id="c21e8-184">Ejecute la instrucción [!INCLUDE[tsql](../includes/tsql-md.md)] para llenar el cursor.</span><span class="sxs-lookup"><span data-stu-id="c21e8-184">Execute the [!INCLUDE[tsql](../includes/tsql-md.md)] statement to populate the cursor.</span></span>  
  
3.  <span data-ttu-id="c21e8-185">Recupere las filas del cursor que desea ver.</span><span class="sxs-lookup"><span data-stu-id="c21e8-185">Retrieve the rows in the cursor you want to see.</span></span> <span data-ttu-id="c21e8-186">La operación de recuperación de una fila o un bloque de filas de un cursor recibe el nombre de captura.</span><span class="sxs-lookup"><span data-stu-id="c21e8-186">The operation to retrieve one row or one block of rows from a cursor is called a fetch.</span></span> <span data-ttu-id="c21e8-187">La realización de una serie de capturas para obtener filas, ya sea hacia adelante o hacia atrás, recibe el nombre de desplazamiento.</span><span class="sxs-lookup"><span data-stu-id="c21e8-187">Performing a series of fetches to retrieve rows in either a forward or backward direction is called scrolling.</span></span>  
  
4.  <span data-ttu-id="c21e8-188">Existe la opción de realizar operaciones de modificación (actualización o eliminación) en la fila de la posición actual del cursor.</span><span class="sxs-lookup"><span data-stu-id="c21e8-188">Optionally, perform modification operations (update or delete) on the row at the current position in the cursor.</span></span>  
  
5.  <span data-ttu-id="c21e8-189">Cierre el cursor.</span><span class="sxs-lookup"><span data-stu-id="c21e8-189">Close the cursor.</span></span>  
  
## <a name="related-content"></a><span data-ttu-id="c21e8-190">Contenido relacionado</span><span class="sxs-lookup"><span data-stu-id="c21e8-190">Related Content</span></span>  
 <span data-ttu-id="c21e8-191">[Comportamientos de los cursores](native-client-odbc-cursors/cursor-behaviors.md) [Cómo se implementan los cursores](native-client-odbc-cursors/implementation/how-cursors-are-implemented.md)</span><span class="sxs-lookup"><span data-stu-id="c21e8-191">[Cursor Behaviors](native-client-odbc-cursors/cursor-behaviors.md) [How Cursors Are Implemented](native-client-odbc-cursors/implementation/how-cursors-are-implemented.md)</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="c21e8-192">Consulte también</span><span class="sxs-lookup"><span data-stu-id="c21e8-192">See Also</span></span>  
 <span data-ttu-id="c21e8-193">[DECLARE CURSOR &#40;Transact-SQL&#41;](/sql/t-sql/language-elements/declare-cursor-transact-sql) </span><span class="sxs-lookup"><span data-stu-id="c21e8-193">[DECLARE CURSOR &#40;Transact-SQL&#41;](/sql/t-sql/language-elements/declare-cursor-transact-sql) </span></span>  
 <span data-ttu-id="c21e8-194">[Cursores &#40;Transact-SQL&#41;](/sql/t-sql/language-elements/cursors-transact-sql) </span><span class="sxs-lookup"><span data-stu-id="c21e8-194">[Cursors &#40;Transact-SQL&#41;](/sql/t-sql/language-elements/cursors-transact-sql) </span></span>  
 <span data-ttu-id="c21e8-195">[Funciones de cursor &#40;Transact-SQL&#41;](/sql/t-sql/functions/cursor-functions-transact-sql) </span><span class="sxs-lookup"><span data-stu-id="c21e8-195">[Cursor Functions &#40;Transact-SQL&#41;](/sql/t-sql/functions/cursor-functions-transact-sql) </span></span>  
 [<span data-ttu-id="c21e8-196">Procedimientos almacenados de cursor &#40;Transact-SQL&#41;</span><span class="sxs-lookup"><span data-stu-id="c21e8-196">Cursor Stored Procedures &#40;Transact-SQL&#41;</span></span>](/sql/relational-databases/system-stored-procedures/cursor-stored-procedures-transact-sql)  
  
  
