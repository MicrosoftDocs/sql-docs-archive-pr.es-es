---
title: Compresión de datos | Microsoft Docs
ms.custom: ''
ms.date: 06/13/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: performance
ms.topic: conceptual
helpviewer_keywords:
- page compression [Database Engine]
- indexes [SQL Server], compressed
- compressed indexes [SQL Server]
- storage compression [Database Engine]
- tables [SQL Server], compressed
- storage [SQL Server], compressed
- compression [SQL Server]
- row compression [Database Engine]
- compression [SQL Server], about compressed tables and indexes
- data compression [Database Engine]
- compressed tables [SQL Server]
ms.assetid: 5f33e686-e115-4687-bd39-a00c48646513
author: MikeRayMSFT
ms.author: mikeray
ms.openlocfilehash: 48c4b11963d8e05ff7787ce9200329daf2e899ba
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 08/04/2020
ms.locfileid: "87676003"
---
# <a name="data-compression"></a><span data-ttu-id="23c29-102">Data Compression</span><span class="sxs-lookup"><span data-stu-id="23c29-102">Data Compression</span></span>
  [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)] <span data-ttu-id="23c29-103">admite la compresión de fila y de página para las tablas e índices de almacén de filas, y admite la compresión de almacén de columnas y de archivo de almacén de columnas para las tablas e índices de almacén de columnas.</span><span class="sxs-lookup"><span data-stu-id="23c29-103">supports row and page compression for rowstore tables and indexes, and supports columnstore and columnstore archival compression for columnstore tables and indexes.</span></span>  
  
 <span data-ttu-id="23c29-104">Para las tablas e índices de almacén de filas, use la característica de compresión de datos como ayuda para reducir el tamaño de la base de datos.</span><span class="sxs-lookup"><span data-stu-id="23c29-104">For rowstore tables and indexes, use the data compression feature to help reduce the size of the database.</span></span> <span data-ttu-id="23c29-105">Además de ahorrar espacio, la compresión de datos puede contribuir a mejorar el rendimiento de las cargas de trabajo que hacen un uso intensivo de las operaciones de E/S porque los datos se almacenan en menos páginas y las consultas deben leer menos páginas del disco.</span><span class="sxs-lookup"><span data-stu-id="23c29-105">In addition to saving space, data compression can help improve performance of I/O intensive workloads because the data is stored in fewer pages and queries need to read fewer pages from disk.</span></span> <span data-ttu-id="23c29-106">No obstante, se requieren recursos de CPU adicionales en el servidor de base de datos para comprimir y descomprimir los datos, mientras los datos se intercambian con la aplicación.</span><span class="sxs-lookup"><span data-stu-id="23c29-106">However, extra CPU resources are required on the database server to compress and decompress the data, while data is exchanged with the application.</span></span> <span data-ttu-id="23c29-107">La compresión de fila y de página se puede configurar en los objetos de base de datos siguientes:</span><span class="sxs-lookup"><span data-stu-id="23c29-107">You can configure row and page compression on the following database objects:</span></span>  
  
-   <span data-ttu-id="23c29-108">Una tabla entera que está almacenada como un montón.</span><span class="sxs-lookup"><span data-stu-id="23c29-108">A whole table that is stored as a heap.</span></span>  
  
-   <span data-ttu-id="23c29-109">Una tabla entera que está almacenada como un índice clúster.</span><span class="sxs-lookup"><span data-stu-id="23c29-109">A whole table that is stored as a clustered index.</span></span>  
  
-   <span data-ttu-id="23c29-110">Un índice no clúster entero.</span><span class="sxs-lookup"><span data-stu-id="23c29-110">A whole nonclustered index.</span></span>  
  
-   <span data-ttu-id="23c29-111">Una vista indizada entera.</span><span class="sxs-lookup"><span data-stu-id="23c29-111">A whole indexed view.</span></span>  
  
-   <span data-ttu-id="23c29-112">Para las tablas e índices con particiones, la opción de compresión se puede configurar para cada partición y las diferentes particiones de un objeto no tienen por qué tener la misma configuración de compresión.</span><span class="sxs-lookup"><span data-stu-id="23c29-112">For partitioned tables and indexes, you can configure the compression option for each partition, and the various partitions of an object do not have to have the same compression setting.</span></span>  
  
 <span data-ttu-id="23c29-113">Para las tablas e índices de almacén de columnas, todos los índices y tablas de almacén de columnas usan siempre la compresión de almacén de columnas, que no es configurable por el usuario.</span><span class="sxs-lookup"><span data-stu-id="23c29-113">For columnstore tables and indexes, all columnstore tables and indexes always use columnstore compression and this is not user configurable.</span></span> <span data-ttu-id="23c29-114">Use la compresión de archivo de almacén de columnas para reducir más el tamaño de datos en los casos en que pueda permitirse emplear tiempo y recursos de CPU adicionales para almacenar y recuperar los datos.</span><span class="sxs-lookup"><span data-stu-id="23c29-114">Use columnstore archival compression to further reduce the data size for situations when you can afford extra time and CPU resources to store and retrieve the data.</span></span>  <span data-ttu-id="23c29-115">La compresión de archivo de almacén de columnas se puede configurar en los objetos de base de datos siguientes:</span><span class="sxs-lookup"><span data-stu-id="23c29-115">You can configure columnstore archival compression on the following database objects:</span></span>  
  
-   <span data-ttu-id="23c29-116">Una tabla entera de almacén de columnas o un índice entero de almacén de columnas en clúster.</span><span class="sxs-lookup"><span data-stu-id="23c29-116">A whole columnstore table or a whole clustered columnstore index.</span></span>  <span data-ttu-id="23c29-117">Puesto que una tabla de almacén de columnas se almacena como índice de almacén de columnas en clúster, ambos métodos tienen los mismos resultados.</span><span class="sxs-lookup"><span data-stu-id="23c29-117">Since a columnstore table is stored as a clustered columnstore index, both approaches have the same results.</span></span>  
  
-   <span data-ttu-id="23c29-118">Un índice entero de almacén de columnas no clúster.</span><span class="sxs-lookup"><span data-stu-id="23c29-118">A whole nonclustered columnstore index.</span></span>  
  
-   <span data-ttu-id="23c29-119">Para las tablas de almacén de columnas y los índices de almacén de columnas con particiones, la opción de compresión de archivo se puede configurar para cada partición y las diferentes particiones no tienen por qué tener la misma configuración de compresión de archivo.</span><span class="sxs-lookup"><span data-stu-id="23c29-119">For partitioned columnstore tables and columnstore indexes, you can configure the archival compression option for each partition, and the various partitions do not have to have the same archival compression setting.</span></span>  
  
## <a name="considerations-for-when-you-use-row-and-page-compression"></a><span data-ttu-id="23c29-120">Consideraciones sobre el uso de la compresión de filas y páginas</span><span class="sxs-lookup"><span data-stu-id="23c29-120">Considerations for When You Use Row and Page Compression</span></span>  
 <span data-ttu-id="23c29-121">Cuando utilice la compresión de filas y páginas, tenga en cuenta las consideraciones siguientes:</span><span class="sxs-lookup"><span data-stu-id="23c29-121">When you use row and page compression, be aware the following considerations:</span></span>  
  
-   <span data-ttu-id="23c29-122">Los detalles de la compresión de datos se pueden cambiar sin previo aviso en los Service Pack o versiones posteriores.</span><span class="sxs-lookup"><span data-stu-id="23c29-122">The details of data compression are subject to change without notice in service packs or subsequent releases.</span></span>  
  
-   <span data-ttu-id="23c29-123">La compresión no está disponible en todas las ediciones de [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)].</span><span class="sxs-lookup"><span data-stu-id="23c29-123">Compression is not available in every edition of [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)].</span></span> <span data-ttu-id="23c29-124">Para obtener más información, vea [características compatibles con las ediciones de SQL Server 2014](../../getting-started/features-supported-by-the-editions-of-sql-server-2014.md).</span><span class="sxs-lookup"><span data-stu-id="23c29-124">For more information, see [Features Supported by the Editions of SQL Server 2014](../../getting-started/features-supported-by-the-editions-of-sql-server-2014.md).</span></span>  
  
-   <span data-ttu-id="23c29-125">La compresión no está disponible para las tablas del sistema.</span><span class="sxs-lookup"><span data-stu-id="23c29-125">Compression is not available for system tables.</span></span>  
  
-   <span data-ttu-id="23c29-126">La compresión puede permitir que se almacenen más filas en una página, pero no cambia el tamaño máximo de filas de una tabla o índice.</span><span class="sxs-lookup"><span data-stu-id="23c29-126">Compression can allow more rows to be stored on a page, but does not change the maximum row size of a table or index.</span></span>  
  
-   <span data-ttu-id="23c29-127">Una tabla no se puede habilitar para su compresión cuando el tamaño máximo de filas más la sobrecarga de compresión supera el tamaño máximo de filas de 8060 bytes.</span><span class="sxs-lookup"><span data-stu-id="23c29-127">A table cannot be enabled for compression when the maximum row size plus the compression overhead exceeds the maximum row size of 8060 bytes.</span></span> <span data-ttu-id="23c29-128">Por ejemplo, una tabla que tiene las columnas C1 `char(8000)` y C2 `char(53)` no se puede comprimir debido a la sobrecarga de compresión adicional.</span><span class="sxs-lookup"><span data-stu-id="23c29-128">For example, a table that has the columns c1`char(8000)` and c2`char(53)` cannot be compressed because of the additional compression overhead.</span></span> <span data-ttu-id="23c29-129">Cuando se utiliza el formato de almacenamiento vardecimal, la comprobación del tamaño de filas se realiza cuando se habilita el formato.</span><span class="sxs-lookup"><span data-stu-id="23c29-129">When the vardecimal storage format is used, the row-size check is performed when the format is enabled.</span></span> <span data-ttu-id="23c29-130">Para la compresión de filas y páginas, la comprobación del tamaño de filas se realiza cuando el objeto se comprime inicialmente, y después se comprueba cuando se inserta o modifica cada fila.</span><span class="sxs-lookup"><span data-stu-id="23c29-130">For row and page compression, the row-size check is performed when the object is initially compressed, and then checked as each row is inserted or modified.</span></span> <span data-ttu-id="23c29-131">La compresión exige las dos reglas siguientes:</span><span class="sxs-lookup"><span data-stu-id="23c29-131">Compression enforces the following two rules:</span></span>  
  
    -   <span data-ttu-id="23c29-132">Una actualización a un tipo de longitud fija siempre debe tener éxito.</span><span class="sxs-lookup"><span data-stu-id="23c29-132">An update to a fixed-length type must always succeed.</span></span>  
  
    -   <span data-ttu-id="23c29-133">La deshabilitación de la compresión de datos siempre debe tener éxito.</span><span class="sxs-lookup"><span data-stu-id="23c29-133">Disabling data compression must always succeed.</span></span> <span data-ttu-id="23c29-134">Aunque la fila comprimida quepa en la página, lo que significa que tiene menos de 8060 bytes, [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] evita actualizaciones que no cabrían en la fila al descomprimirla.</span><span class="sxs-lookup"><span data-stu-id="23c29-134">Even if the compressed row fits on the page, which means that it is less than 8060 bytes; [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] prevents updates that would not fit on the row when it is uncompressed.</span></span>  
  
-   <span data-ttu-id="23c29-135">Cuando se especifica una lista de particiones, el tipo de compresión se puede establecer en ROW, PAGE o NONE en particiones individuales.</span><span class="sxs-lookup"><span data-stu-id="23c29-135">When a list of partitions is specified, the compression type can be set to ROW, PAGE, or NONE on individual partitions.</span></span> <span data-ttu-id="23c29-136">Si no se especifica la lista de particiones, todas las particiones se establecen con la propiedad de compresión de datos que se especifica en la instrucción.</span><span class="sxs-lookup"><span data-stu-id="23c29-136">If the list of partitions is not specified, all partitions are set with the data compression property that is specified in the statement.</span></span> <span data-ttu-id="23c29-137">Cuando se crea una tabla o índice, la compresión de datos se establece en NONE, a menos que se especifique lo contrario.</span><span class="sxs-lookup"><span data-stu-id="23c29-137">When a table or index is created, data compression is set to NONE unless otherwise specified.</span></span> <span data-ttu-id="23c29-138">Cuando se modifica una tabla, se conserva la compresión existente, a menos que se especifique lo contrario.</span><span class="sxs-lookup"><span data-stu-id="23c29-138">When a table is modified, the existing compression is preserved unless otherwise specified.</span></span>  
  
-   <span data-ttu-id="23c29-139">Si se especifica una lista de particiones o una partición que están fuera del intervalo, se generará un error.</span><span class="sxs-lookup"><span data-stu-id="23c29-139">If you specify a list of partitions or a partition that is out of range, an error will be generated.</span></span>  
  
-   <span data-ttu-id="23c29-140">Los índices no clúster no heredan la propiedad de compresión de la tabla.</span><span class="sxs-lookup"><span data-stu-id="23c29-140">Nonclustered indexes do not inherit the compression property of the table.</span></span> <span data-ttu-id="23c29-141">Para comprimir índices, se debe establecer explícitamente la propiedad de compresión de los índices.</span><span class="sxs-lookup"><span data-stu-id="23c29-141">To compress indexes, you must explicitly set the compression property of the indexes.</span></span> <span data-ttu-id="23c29-142">De forma predeterminada, el valor de compresión de índices se establecerá en NONE cuando se crea el índice.</span><span class="sxs-lookup"><span data-stu-id="23c29-142">By default, the compression setting for indexes will set to NONE when the index is created.</span></span>  
  
-   <span data-ttu-id="23c29-143">Cuando se crea un índice clúster en un montón, el índice clúster hereda el estado de compresión del montón, a menos que se especifique otro estado de compresión.</span><span class="sxs-lookup"><span data-stu-id="23c29-143">When a clustered index is created on a heap, the clustered index inherits the compression state of the heap unless an alternative compression state is specified.</span></span>  
  
-   <span data-ttu-id="23c29-144">Cuando un montón se configura para la compresión de nivel de página, las páginas solo reciben la compresión de nivel de página de las formas siguientes:</span><span class="sxs-lookup"><span data-stu-id="23c29-144">When a heap is configured for page-level compression, pages receive page-level compression only in the following ways:</span></span>  
  
    -   <span data-ttu-id="23c29-145">Los datos se importan de forma masiva con las optimizaciones masivas habilitadas.</span><span class="sxs-lookup"><span data-stu-id="23c29-145">Data is bulk imported with bulk optimizations enabled.</span></span>  
  
    -   <span data-ttu-id="23c29-146">Los datos se insertan utilizando la sintaxis INSERT INTO ... La sintaxis WITH (TABLOCK) y la tabla no tienen ningún índice no agrupado.</span><span class="sxs-lookup"><span data-stu-id="23c29-146">Data is inserted using INSERT INTO ... WITH (TABLOCK) syntax and the table does not have a nonclustered index.</span></span>  
  
    -   <span data-ttu-id="23c29-147">Una tabla se vuelve a generar ejecutando la instrucción ALTER TABLE... REBUILD con la opción de compresión PAGE.</span><span class="sxs-lookup"><span data-stu-id="23c29-147">A table is rebuilt by executing the ALTER TABLE ... REBUILD statement with the PAGE compression option.</span></span>  
  
-   <span data-ttu-id="23c29-148">Las nuevas páginas asignadas en un montón como parte de las operaciones DML no usarán la compresión PAGE hasta que se vuelva a generar el montón.</span><span class="sxs-lookup"><span data-stu-id="23c29-148">New pages allocated in a heap as part of DML operations will not use PAGE compression until the heap is rebuilt.</span></span> <span data-ttu-id="23c29-149">Para volver a generar el montón, quite y vuelva a aplicar la compresión, o cree y quite un índice clúster.</span><span class="sxs-lookup"><span data-stu-id="23c29-149">Rebuild the heap by removing and reapplying compression, or by creating and removing a clustered index.</span></span>  
  
-   <span data-ttu-id="23c29-150">El cambio del valor de compresión de un montón requiere que todos los índices no clúster de la tabla se vuelvan a generar de modo que tengan punteros a las nuevas ubicaciones de fila en el montón.</span><span class="sxs-lookup"><span data-stu-id="23c29-150">Changing the compression setting of a heap requires all nonclustered indexes on the table to be rebuilt so that they have pointers to the new row locations in the heap.</span></span>  
  
-   <span data-ttu-id="23c29-151">Puede habilitar o deshabilitar la compresión ROW o PAGE conectado o sin conexión.</span><span class="sxs-lookup"><span data-stu-id="23c29-151">You can enable or disable ROW or PAGE compression online or offline.</span></span> <span data-ttu-id="23c29-152">La habilitación de la compresión en un montón es de un solo subproceso para una operación en línea.</span><span class="sxs-lookup"><span data-stu-id="23c29-152">Enabling compression on a heap is single threaded for an online operation.</span></span>  
  
-   <span data-ttu-id="23c29-153">Los requisitos de espacio en disco para habilitar o deshabilitar la compresión de filas o páginas son los mismos que los necesarios para crear o volver a generar un índice.</span><span class="sxs-lookup"><span data-stu-id="23c29-153">The disk space requirements for enabling or disabling row or page compression are the same as for creating or rebuilding an index.</span></span> <span data-ttu-id="23c29-154">Para los datos con particiones, puede reducir el espacio que se requiere habilitando o deshabilitando la compresión para una partición cada vez.</span><span class="sxs-lookup"><span data-stu-id="23c29-154">For partitioned data, you can reduce the space that is required by enabling or disabling compression for one partition at a time.</span></span>  
  
-   <span data-ttu-id="23c29-155">Para determinar el estado de compresión de particiones en una tabla con particiones, consulte la columna data_compression de la vista de catálogo sys.partitions.</span><span class="sxs-lookup"><span data-stu-id="23c29-155">To determine the compression state of partitions in a partitioned table, query the data_compression column of the sys.partitions catalog view.</span></span>  
  
-   <span data-ttu-id="23c29-156">Cuando se comprimen índices, las páginas de nivel de hoja se pueden comprimir tanto con la compresión de filas como con la compresión de páginas.</span><span class="sxs-lookup"><span data-stu-id="23c29-156">When you are compressing indexes, leaf-level pages can be compressed with both row and page compression.</span></span> <span data-ttu-id="23c29-157">Las páginas que no están en el nivel hoja no reciben la compresión de páginas.</span><span class="sxs-lookup"><span data-stu-id="23c29-157">Non-leaf-level pages do not receive page compression.</span></span>  
  
-   <span data-ttu-id="23c29-158">Debido a su tamaño, los tipos de datos de valores grandes suelen almacenarse independientemente de los datos de fila normales en páginas con un fin específico.</span><span class="sxs-lookup"><span data-stu-id="23c29-158">Because of their size, large-value data types are sometimes stored separately from the normal row data on special purpose pages.</span></span> <span data-ttu-id="23c29-159">La compresión de datos no está disponible para los datos que se almacenan independientemente.</span><span class="sxs-lookup"><span data-stu-id="23c29-159">Data compression is not available for the data that is stored separately.</span></span>  
  
-   <span data-ttu-id="23c29-160">Las tablas que implementaron el formato de almacenamiento vardecimal en [!INCLUDE[ssVersion2005](../../includes/ssversion2005-md.md)] conservarán ese valor cuando se actualicen.</span><span class="sxs-lookup"><span data-stu-id="23c29-160">Tables which implemented the vardecimal storage format in [!INCLUDE[ssVersion2005](../../includes/ssversion2005-md.md)] will retain that setting when upgraded.</span></span> <span data-ttu-id="23c29-161">Puede aplicar la compresión de filas a una tabla que tenga el formato de almacenamiento vardecimal.</span><span class="sxs-lookup"><span data-stu-id="23c29-161">You can apply row compression to a table that has the vardecimal storage format.</span></span> <span data-ttu-id="23c29-162">Sin embargo, como la compresión de filas es un superconjunto del formato de almacenamiento vardecimal, no hay ninguna razón para conservar el formato de almacenamiento vardecimal.</span><span class="sxs-lookup"><span data-stu-id="23c29-162">However, because row compression is a superset of the vardecimal storage format, there is no reason to retain the vardecimal storage format.</span></span> <span data-ttu-id="23c29-163">Los valores decimales no obtienen una compresión adicional cuando se combina el formato de almacenamiento vardecimal con la compresión de filas.</span><span class="sxs-lookup"><span data-stu-id="23c29-163">Decimal values gain no additional compression when you combine the vardecimal storage format with row compression.</span></span> <span data-ttu-id="23c29-164">Puede aplicar la compresión de páginas a una tabla que tenga el formato de almacenamiento vardecimal; sin embargo, es probable que las columnas con formato de almacenamiento vardecimal no consigan una compresión adicional.</span><span class="sxs-lookup"><span data-stu-id="23c29-164">You can apply page compression to a table that has the vardecimal storage format; however, the vardecimal storage format columns probably will not achieve additional compression.</span></span>  
  
    > [!NOTE]  
    >  [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)] <span data-ttu-id="23c29-165">admite el formato de almacenamiento vardecimal; sin embargo, como la compresión de nivel de fila consigue los mismos objetivos, el formato de almacenamiento vardecimal ha quedado desusado.</span><span class="sxs-lookup"><span data-stu-id="23c29-165">supports the vardecimal storage format; however, because row-level compression achieves the same goals, the vardecimal storage format is deprecated.</span></span> [!INCLUDE[ssNoteDepFutureAvoid](../../includes/ssnotedepfutureavoid-md.md)]  
  
## <a name="using-columnstore-and-columnstore-archive-compression"></a><span data-ttu-id="23c29-166">Usar la compresión de almacén de columnas y de archivo de almacén de columnas</span><span class="sxs-lookup"><span data-stu-id="23c29-166">Using Columnstore and Columnstore Archive Compression</span></span>  
  
||  
|-|  
|<span data-ttu-id="23c29-167">**Se aplica a**: [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] ([!INCLUDE[ssSQL14](../../includes/sssql14-md.md)] a través de la [versión actual](https://go.microsoft.com/fwlink/p/?LinkId=299658)).</span><span class="sxs-lookup"><span data-stu-id="23c29-167">**Applies to**: [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] ([!INCLUDE[ssSQL14](../../includes/sssql14-md.md)] through [current version](https://go.microsoft.com/fwlink/p/?LinkId=299658)).</span></span>|  
  
### <a name="basics"></a><span data-ttu-id="23c29-168">Aspectos básicos</span><span class="sxs-lookup"><span data-stu-id="23c29-168">Basics</span></span>  
 <span data-ttu-id="23c29-169">Las tablas y los índices de almacén de columnas siempre se almacenan con compresión de almacén de columnas.</span><span class="sxs-lookup"><span data-stu-id="23c29-169">Columnstore tables and indexes are always stored with columnstore compression.</span></span> <span data-ttu-id="23c29-170">El tamaño de los datos de almacén de columnas se puede reducir más configurando una compresión adicional denominada compresión de archivo.</span><span class="sxs-lookup"><span data-stu-id="23c29-170">You can further reduce the size of columnstore data by configuring an additional compression called archival compression.</span></span>  <span data-ttu-id="23c29-171">Para realizar la compresión de archivo, [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] ejecuta el algoritmo de compresión de Microsoft XPRESS en los datos.</span><span class="sxs-lookup"><span data-stu-id="23c29-171">To perform archival compression, [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] runs the Microsoft XPRESS compression algorithm on the data.</span></span> <span data-ttu-id="23c29-172">La compresión de archivo se agrega o se quita mediante los tipos de compresión de datos siguientes:</span><span class="sxs-lookup"><span data-stu-id="23c29-172">Add or remove archival compression by using the following data compression types:</span></span>  
  
-   <span data-ttu-id="23c29-173">Use la compresión de datos de `COLUMNSTORE_ARCHIVE` para comprimir los datos de almacén de columnas con la compresión de archivo.</span><span class="sxs-lookup"><span data-stu-id="23c29-173">Use `COLUMNSTORE_ARCHIVE` data compression to compress columnstore data with archival compression.</span></span>  
  
-   <span data-ttu-id="23c29-174">Use la compresión de datos de **COLUMNSTORE** para descomprimir la compresión de archivo.</span><span class="sxs-lookup"><span data-stu-id="23c29-174">Use **COLUMNSTORE** data compression to decompress archival compression.</span></span> <span data-ttu-id="23c29-175">Estos datos resultantes seguirán comprimiéndose con la compresión de almacén de columnas.</span><span class="sxs-lookup"><span data-stu-id="23c29-175">This resulting data will continue to be compressed with columnstore compression.</span></span>  
  
 <span data-ttu-id="23c29-176">Para agregar la compresión de archivo, use [ALTER TABLE &#40;Transact-SQL&#41;](/sql/t-sql/statements/alter-table-transact-sql) o [ALTER INDEX &#40;Transact-SQL&#41;](/sql/t-sql/statements/alter-index-transact-sql) con la opción REBUILD y DATA COMPRESSION = COLUMNSTORE.</span><span class="sxs-lookup"><span data-stu-id="23c29-176">To add archival compression, use [ALTER TABLE &#40;Transact-SQL&#41;](/sql/t-sql/statements/alter-table-transact-sql) or [ALTER INDEX &#40;Transact-SQL&#41;](/sql/t-sql/statements/alter-index-transact-sql) with the REBUILD option and DATA COMPRESSION = COLUMNSTORE.</span></span>  
  
 <span data-ttu-id="23c29-177">Ejemplos:</span><span class="sxs-lookup"><span data-stu-id="23c29-177">Examples:</span></span>  
  
```  
ALTER TABLE ColumnstoreTable1   
REBUILD PARTITION = 1 WITH (DATA_COMPRESSION =  COLUMNSTORE_ARCHIVE) ;  
  
ALTER TABLE ColumnstoreTable1   
REBUILD PARTITION = ALL WITH (DATA_COMPRESSION =  COLUMNSTORE_ARCHIVE) ;  
  
ALTER TABLE ColumnstoreTable1   
REBUILD PARTITION = ALL WITH (DATA_COMPRESSION =  COLUMNSTORE_ARCHIVE ON PARTITIONS (2,4)) ;  
  
```  
  
 <span data-ttu-id="23c29-178">Para quitar la compresión de archivo y restaurar los datos a la compresión de almacén de columnas, use [ALTER TABLE &#40;Transact-SQL&#41;](/sql/t-sql/statements/alter-table-transact-sql) o [ALTER INDEX &#40;Transact-SQL&#41;](/sql/t-sql/statements/alter-index-transact-sql) con la opción REBUILD y DATA COMPRESSION = COLUMNSTORE.</span><span class="sxs-lookup"><span data-stu-id="23c29-178">To remove archival compression and restore the data to columnstore compression, use [ALTER TABLE &#40;Transact-SQL&#41;](/sql/t-sql/statements/alter-table-transact-sql) or [ALTER INDEX &#40;Transact-SQL&#41;](/sql/t-sql/statements/alter-index-transact-sql) with the REBUILD option and DATA COMPRESSION = COLUMNSTORE.</span></span>  
  
 <span data-ttu-id="23c29-179">Ejemplos:</span><span class="sxs-lookup"><span data-stu-id="23c29-179">Examples:</span></span>  
  
```  
ALTER TABLE ColumnstoreTable1   
REBUILD PARTITION = 1 WITH (DATA_COMPRESSION =  COLUMNSTORE) ;  
  
ALTER TABLE ColumnstoreTable1   
REBUILD PARTITION = ALL WITH (DATA_COMPRESSION =  COLUMNSTORE) ;  
  
ALTER TABLE ColumnstoreTable1   
REBUILD PARTITION = ALL WITH (DATA_COMPRESSION =  COLUMNSTORE ON PARTITIONS (2,4) ) ;  
  
```  
  
 <span data-ttu-id="23c29-180">En el ejemplo siguiente se establece la compresión de datos a almacén de columnas en algunas particiones y a archivo de almacén de columnas en otras particiones.</span><span class="sxs-lookup"><span data-stu-id="23c29-180">This next example sets the data compression to columnstore on some partitions, and to columnstore archival on other partitions.</span></span>  
  
```  
ALTER TABLE ColumnstoreTable1   
REBUILD PARTITION = ALL WITH (  
    DATA_COMPRESSION =  COLUMNSTORE ON PARTITIONS (4,5),  
    DATA COMPRESSION = COLUMNSTORE_ARCHIVE ON PARTITIONS (1,2,3)  
) ;  
```  
  
### <a name="performance"></a><span data-ttu-id="23c29-181">Rendimiento</span><span class="sxs-lookup"><span data-stu-id="23c29-181">Performance</span></span>  
 <span data-ttu-id="23c29-182">Al comprimir los índices de almacén de columnas con la compresión de archivo, el índice se ejecutará más lentamente que los índices de almacén de columnas que no tienen la compresión de archivo.</span><span class="sxs-lookup"><span data-stu-id="23c29-182">Compressing columnstore indexes with archival compression will cause the index to perform slower than columnstore indexes that do not have the archival compression.</span></span>  <span data-ttu-id="23c29-183">Use la compresión de archivo solo cuando se puede permitirse emplear tiempo y recursos de CPU adicionales para comprimir y recuperar los datos.</span><span class="sxs-lookup"><span data-stu-id="23c29-183">Use archival compression only when you can afford to use extra time and CPU resources to compress and retrieve the data.</span></span>  
  
 <span data-ttu-id="23c29-184">La contrapartida del rendimiento más lento es el almacenamiento reducido, que sirve para los datos que no son de acceso frecuente.</span><span class="sxs-lookup"><span data-stu-id="23c29-184">The benefit of slower performance is reduced storage which is useful for data that is not frequently accessed.</span></span> <span data-ttu-id="23c29-185">Por ejemplo, si tiene una partición para cada mes de datos y la mayor parte de la actividad tiene lugar en los meses más recientes, podría archivar los meses más antiguos para reducir los requisitos de almacenamiento.</span><span class="sxs-lookup"><span data-stu-id="23c29-185">For example, if you have a partition for each month of data, and most of your activity is for the most recent months, you could archive older months to reduce the storage requirements.</span></span>  
  
### <a name="metadata"></a><span data-ttu-id="23c29-186">Metadatos</span><span class="sxs-lookup"><span data-stu-id="23c29-186">Metadata</span></span>  
 <span data-ttu-id="23c29-187">Las vistas del sistema siguientes contienen información sobre la compresión de datos para los índices clúster:</span><span class="sxs-lookup"><span data-stu-id="23c29-187">The following system views contain information about data compression for clustered indexes:</span></span>  
  
-   <span data-ttu-id="23c29-188">[Sys. indexes &#40;Transact-SQL&#41;](/sql/relational-databases/system-catalog-views/sys-indexes-transact-sql) : las `type` `type_desc` columnas y incluyen el almacén de columnas en clúster y el almacén de columnas no agrupado.</span><span class="sxs-lookup"><span data-stu-id="23c29-188">[sys.indexes &#40;Transact-SQL&#41;](/sql/relational-databases/system-catalog-views/sys-indexes-transact-sql) - The `type` and `type_desc` columns include CLUSTERED COLUMNSTORE and NONCLUSTERED COLUMNSTORE.</span></span>  
  
-   <span data-ttu-id="23c29-189">[Sys. partitions &#40;Transact-SQL&#41;](/sql/relational-databases/system-catalog-views/sys-partitions-transact-sql) : las `data_compression` `data_compression_desc` columnas y incluyen el almacén de columnas y COLUMNSTORE_ARCHIVE.</span><span class="sxs-lookup"><span data-stu-id="23c29-189">[sys.partitions &#40;Transact-SQL&#41;](/sql/relational-databases/system-catalog-views/sys-partitions-transact-sql) - The `data_compression` and `data_compression_desc` columns include COLUMNSTORE and COLUMNSTORE_ARCHIVE.</span></span>  
  
 <span data-ttu-id="23c29-190">El procedimiento [sp_estimate_data_compression_savings &#40;Transact-SQL&#41;](/sql/relational-databases/system-stored-procedures/sp-estimate-data-compression-savings-transact-sql) no se aplica a los índices de almacén de columnas.</span><span class="sxs-lookup"><span data-stu-id="23c29-190">The procedure [sp_estimate_data_compression_savings &#40;Transact-SQL&#41;](/sql/relational-databases/system-stored-procedures/sp-estimate-data-compression-savings-transact-sql) does not apply to columnstore indexes.</span></span>  
  
## <a name="how-compression-affects-partitioned-tables-and-indexes"></a><span data-ttu-id="23c29-191">Cómo afecta la compresión a tablas e índices con particiones</span><span class="sxs-lookup"><span data-stu-id="23c29-191">How Compression Affects Partitioned Tables and Indexes</span></span>  
 <span data-ttu-id="23c29-192">Cuando use la compresión de datos con tablas e índices con particiones, tenga en cuenta las consideraciones siguientes:</span><span class="sxs-lookup"><span data-stu-id="23c29-192">When you use data compression with partitioned tables and indexes, be aware of the following considerations:</span></span>  
  
-   <span data-ttu-id="23c29-193">Cuando se divide una partición utilizando la instrucción ALTER PARTITION, ambas particiones heredan el atributo de compresión de datos de la partición original.</span><span class="sxs-lookup"><span data-stu-id="23c29-193">When partitions are split by using the ALTER PARTITION statement, both partitions inherit the data compression attribute of the original partition.</span></span>  
  
-   <span data-ttu-id="23c29-194">Cuando se combinan dos particiones, la partición resultante hereda el atributo de compresión de datos de la partición de destino.</span><span class="sxs-lookup"><span data-stu-id="23c29-194">When two partitions are merged, the resultant partition inherits the data compression attribute of the destination partition.</span></span>  
  
-   <span data-ttu-id="23c29-195">Para cambiar una partición, la propiedad de compresión de datos de la partición debe coincidir con la propiedad de compresión de la tabla.</span><span class="sxs-lookup"><span data-stu-id="23c29-195">To switch a partition, the data compression property of the partition must match the compression property of the table.</span></span>  
  
-   <span data-ttu-id="23c29-196">Hay dos variaciones de sintaxis que se pueden utilizar para modificar la compresión de una tabla o índice con particiones:</span><span class="sxs-lookup"><span data-stu-id="23c29-196">There are two syntax variations that you can use to modify the compression of a partitioned table or index:</span></span>  
  
    -   <span data-ttu-id="23c29-197">La sintaxis siguiente vuelve a generar solo la partición a la que se hace referencia:</span><span class="sxs-lookup"><span data-stu-id="23c29-197">The following syntax rebuilds only the referenced partition:</span></span>  
  
        ```  
        ALTER TABLE <table_name>   
        REBUILD PARTITION = 1 WITH (DATA_COMPRESSION =  <option>)  
        ```  
  
    -   <span data-ttu-id="23c29-198">La sintaxis siguiente vuelve a generar la tabla completa utilizando el valor de compresión existente para las particiones a las que no se haga referencia:</span><span class="sxs-lookup"><span data-stu-id="23c29-198">The following syntax rebuilds the whole table by using the existing compression setting for any partitions that are not referenced:</span></span>  
  
        ```  
        ALTER TABLE <table_name>   
        REBUILD PARTITION = ALL   
        WITH (DATA_COMPRESSION = PAGE ON PARTITIONS(<range>),  
        ... )  
        ```  
  
     <span data-ttu-id="23c29-199">Los índices con particiones siguen el mismo principio mediante el uso de ALTER INDEX.</span><span class="sxs-lookup"><span data-stu-id="23c29-199">Partitioned indexes follow the same principle using ALTER INDEX.</span></span>  
  
-   <span data-ttu-id="23c29-200">Cuando se quita un índice clúster, las particiones del montón correspondientes retienen su valor de compresión de datos, a menos que se modifique el esquema de partición.</span><span class="sxs-lookup"><span data-stu-id="23c29-200">When a clustered index is dropped, the corresponding heap partitions retain their data compression setting unless the partitioning scheme is modified.</span></span> <span data-ttu-id="23c29-201">Si se cambia el esquema de partición, todas las particiones se vuelven a generar en un estado sin comprimir.</span><span class="sxs-lookup"><span data-stu-id="23c29-201">If the partitioning scheme is changed, all partitions are rebuilt to an uncompressed state.</span></span> <span data-ttu-id="23c29-202">Para quitar un índice clúster y cambiar el esquema de partición es necesario realizar los pasos siguientes:</span><span class="sxs-lookup"><span data-stu-id="23c29-202">To drop a clustered index and change the partitioning scheme requires the following steps:</span></span>  
  
     1. <span data-ttu-id="23c29-203">Quitar el índice clúster.</span><span class="sxs-lookup"><span data-stu-id="23c29-203">Drop the clustered index.</span></span>  
  
     2. <span data-ttu-id="23c29-204">Modificar la tabla utilizando la opción ALTER TABLE ... REBUILD ... que especifica la opción de compresión.</span><span class="sxs-lookup"><span data-stu-id="23c29-204">Modify the table by using the ALTER TABLE ... REBUILD ... option that specifies the compression option.</span></span>  
  
     <span data-ttu-id="23c29-205">La operación de quitar un índice clúster OFFLINE es muy rápida porque solo se quitan los niveles superiores de índices clústeres.</span><span class="sxs-lookup"><span data-stu-id="23c29-205">To drop a clustered index OFFLINE is a very fast operation, because only the upper levels of clustered indexes are removed.</span></span> <span data-ttu-id="23c29-206">Cuando se quita un índice clúster ONLINE, [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] debe volver a generar el montón dos veces, una vez para el paso 1 y otra para el paso 2.</span><span class="sxs-lookup"><span data-stu-id="23c29-206">When a clustered index is dropped ONLINE, [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] must rebuild the heap two times, once for step 1 and once for step 2.</span></span>  
  
## <a name="how-compression-affects-replication"></a><span data-ttu-id="23c29-207">Cómo afecta la compresión a la replicación</span><span class="sxs-lookup"><span data-stu-id="23c29-207">How Compression Affects Replication</span></span>  
 <span data-ttu-id="23c29-208">Cuando utilice la compresión de datos con replicación, tenga en cuenta las consideraciones siguientes:</span><span class="sxs-lookup"><span data-stu-id="23c29-208">When you are using data compression with replication, be aware of the following considerations:</span></span>  
  
-   <span data-ttu-id="23c29-209">Cuando el Agente de instantáneas genera el script de esquema inicial, el nuevo esquema utilizará los mismos valores de compresión para la tabla y sus índices.</span><span class="sxs-lookup"><span data-stu-id="23c29-209">When the Snapshot Agent generates the initial schema script, the new schema will use the same compression settings for both the table and its indexes.</span></span> <span data-ttu-id="23c29-210">La compresión no se puede habilitar solo en la tabla y no en el índice.</span><span class="sxs-lookup"><span data-stu-id="23c29-210">Compression cannot be enabled on just the table and not the index.</span></span>  
  
-   <span data-ttu-id="23c29-211">Para la replicación transaccional, la opción de esquema de artículo determina para qué propiedades y objetos dependientes se van a generar scripts.</span><span class="sxs-lookup"><span data-stu-id="23c29-211">For transactional replication the article schema option determines what dependent objects and properties have to be scripted.</span></span> <span data-ttu-id="23c29-212">Para obtener más información, vea [sp_addarticle](/sql/relational-databases/system-stored-procedures/sp-addarticle-transact-sql).</span><span class="sxs-lookup"><span data-stu-id="23c29-212">For more information, see [sp_addarticle](/sql/relational-databases/system-stored-procedures/sp-addarticle-transact-sql).</span></span>  
  
     <span data-ttu-id="23c29-213">El Agente de distribución no comprueba los suscriptores de nivel inferior cuando aplica scripts.</span><span class="sxs-lookup"><span data-stu-id="23c29-213">The Distribution Agent does not check for down-level Subscribers when it applies scripts.</span></span> <span data-ttu-id="23c29-214">Si se selecciona la replicación de compresión, se producirá un error en la creación de la tabla en los suscriptores de nivel inferior.</span><span class="sxs-lookup"><span data-stu-id="23c29-214">If the replication of compression is selected, creating the table on down-level Subscribers will fail.</span></span> <span data-ttu-id="23c29-215">En el caso de una topología mixta, no se debe habilitar la replicación de compresión.</span><span class="sxs-lookup"><span data-stu-id="23c29-215">In the case of a mixed topology, do not enable the replication of compression.</span></span>  
  
-   <span data-ttu-id="23c29-216">Para la replicación de mezcla, el nivel de compatibilidad de la publicación invalida las opciones de esquema y determina los objetos de esquema para los que se crearán scripts.</span><span class="sxs-lookup"><span data-stu-id="23c29-216">For merge replication, publication compatibility level overrides the schema options and determines the schema objects that will be scripted.</span></span>  
  
     <span data-ttu-id="23c29-217">En el caso de una topología mixta, si no se requiere la admisión de las nuevas opciones de compresión, el nivel de compatibilidad de la publicación debe establecerse en la versión de suscriptor de nivel inferior.</span><span class="sxs-lookup"><span data-stu-id="23c29-217">In the case of a mixed topology, if it is not required to support the new compression options, the publication compatibility level should be set to the down-level Subscriber version.</span></span> <span data-ttu-id="23c29-218">En caso de que se requiera, se deben comprimir las tablas en el suscriptor una vez creadas.</span><span class="sxs-lookup"><span data-stu-id="23c29-218">If it is required, compress tables on the Subscriber after they have been created.</span></span>  
  
 <span data-ttu-id="23c29-219">La tabla siguiente muestra los valores de replicación que controlan la compresión durante la replicación.</span><span class="sxs-lookup"><span data-stu-id="23c29-219">The following table shows replication settings that control compression during replication.</span></span>  
  
|<span data-ttu-id="23c29-220">Intento del usuario</span><span class="sxs-lookup"><span data-stu-id="23c29-220">User intent</span></span>|<span data-ttu-id="23c29-221">Replicar el esquema de partición para una tabla o índice</span><span class="sxs-lookup"><span data-stu-id="23c29-221">Replicate partition scheme for a table or index</span></span>|<span data-ttu-id="23c29-222">Replicar los valores de compresión</span><span class="sxs-lookup"><span data-stu-id="23c29-222">Replicate compression settings</span></span>|<span data-ttu-id="23c29-223">Comportamiento de creación de script</span><span class="sxs-lookup"><span data-stu-id="23c29-223">Scripting behavior</span></span>|  
|-----------------|-----------------------------------------------------|------------------------------------|------------------------|  
|<span data-ttu-id="23c29-224">Replicar el esquema de partición y habilitar la compresión en el suscriptor en la partición.</span><span class="sxs-lookup"><span data-stu-id="23c29-224">To replicate the partition scheme and enable compression on the Subscriber on the partition.</span></span>|<span data-ttu-id="23c29-225">True</span><span class="sxs-lookup"><span data-stu-id="23c29-225">True</span></span>|<span data-ttu-id="23c29-226">True</span><span class="sxs-lookup"><span data-stu-id="23c29-226">True</span></span>|<span data-ttu-id="23c29-227">Se crean scripts tanto para el esquema de partición como para los valores de compresión.</span><span class="sxs-lookup"><span data-stu-id="23c29-227">Scripts both the partition scheme and the compression settings.</span></span>|  
|<span data-ttu-id="23c29-228">Replicar el esquema de partición pero no comprimir los datos en el suscriptor.</span><span class="sxs-lookup"><span data-stu-id="23c29-228">To replicate the partition scheme but not compress the data on the Subscriber.</span></span>|<span data-ttu-id="23c29-229">Verdadero</span><span class="sxs-lookup"><span data-stu-id="23c29-229">True</span></span>|<span data-ttu-id="23c29-230">Falso</span><span class="sxs-lookup"><span data-stu-id="23c29-230">False</span></span>|<span data-ttu-id="23c29-231">Se crean scripts para el esquema de partición pero no para los valores de compresión para la partición.</span><span class="sxs-lookup"><span data-stu-id="23c29-231">Scripts out the partition scheme but not the compression settings for the partition.</span></span>|  
|<span data-ttu-id="23c29-232">No replicar el esquema de partición y no comprimir los datos en el suscriptor.</span><span class="sxs-lookup"><span data-stu-id="23c29-232">To not replicate the partition scheme and not compress the data on the Subscriber.</span></span>|<span data-ttu-id="23c29-233">False</span><span class="sxs-lookup"><span data-stu-id="23c29-233">False</span></span>|<span data-ttu-id="23c29-234">False</span><span class="sxs-lookup"><span data-stu-id="23c29-234">False</span></span>|<span data-ttu-id="23c29-235">No se crean scripts para la partición o para los valores de compresión.</span><span class="sxs-lookup"><span data-stu-id="23c29-235">Does not script partition or compression settings.</span></span>|  
|<span data-ttu-id="23c29-236">Comprimir la tabla en el suscriptor si todas las particiones se comprimen en el publicador, pero no replicar el esquema de partición.</span><span class="sxs-lookup"><span data-stu-id="23c29-236">To compress the table on the Subscriber if all the partitions are compressed on the Publisher, but not replicate the partition scheme.</span></span>|<span data-ttu-id="23c29-237">Falso</span><span class="sxs-lookup"><span data-stu-id="23c29-237">False</span></span>|<span data-ttu-id="23c29-238">True</span><span class="sxs-lookup"><span data-stu-id="23c29-238">True</span></span>|<span data-ttu-id="23c29-239">Comprueba si todas las particiones están habilitadas para la compresión.</span><span class="sxs-lookup"><span data-stu-id="23c29-239">Checks if all the partitions are enabled for compression.</span></span><br /><br /> <span data-ttu-id="23c29-240">Se crean scripts para la compresión en el nivel de tabla.</span><span class="sxs-lookup"><span data-stu-id="23c29-240">Scripts out compression at the table level.</span></span>|  
  
## <a name="how-compression-affects-other-sql-server-components"></a><span data-ttu-id="23c29-241">Cómo afecta la compresión a los demás componentes de SQL Server</span><span class="sxs-lookup"><span data-stu-id="23c29-241">How Compression Affects Other SQL Server Components</span></span>  
 <span data-ttu-id="23c29-242">La compresión se produce en el motor de almacenamiento y los datos se presentan a la mayoría de los demás componentes de [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] en un estado sin comprimir.</span><span class="sxs-lookup"><span data-stu-id="23c29-242">Compression occurs in the storage engine and the data is presented to most of the other components of [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] in an uncompressed state.</span></span> <span data-ttu-id="23c29-243">Esto limita los efectos de la compresión en los demás componentes para lo siguiente:</span><span class="sxs-lookup"><span data-stu-id="23c29-243">This limits the effects of compression on the other components to the following:</span></span>  
  
-   <span data-ttu-id="23c29-244">Operaciones de exportación e importación masivas</span><span class="sxs-lookup"><span data-stu-id="23c29-244">Bulk import and export operations</span></span>  
  
     <span data-ttu-id="23c29-245">Cuando se exportan datos, incluso en formato nativo, los datos se envían en formato de fila sin comprimir.</span><span class="sxs-lookup"><span data-stu-id="23c29-245">When data is exported, even in native format, the data is output in the uncompressed row format.</span></span> <span data-ttu-id="23c29-246">Esto puede hacer que el tamaño del archivo de datos exportados sea significativamente mayor que el de los datos de origen.</span><span class="sxs-lookup"><span data-stu-id="23c29-246">This can cause the size of exported data file to be significantly larger than the source data.</span></span>  
  
     <span data-ttu-id="23c29-247">Cuando se importan datos, si la tabla de destino se ha habilitado para la compresión, el motor de almacenamiento convierte los datos a formato de fila comprimida.</span><span class="sxs-lookup"><span data-stu-id="23c29-247">When data is imported, if the target table has been enabled for compression, the data is converted by the storage engine into compressed row format.</span></span> <span data-ttu-id="23c29-248">Esto puede implicar un mayor uso de la CPU si se compara con la importación de datos en una tabla sin comprimir.</span><span class="sxs-lookup"><span data-stu-id="23c29-248">This can cause increased CPU usage compared to when data is imported into an uncompressed table.</span></span>  
  
     <span data-ttu-id="23c29-249">Cuando los datos se importan de forma masiva a un montón con compresión de página, la operación de importación masiva intentará comprimir los datos con compresión de página cuando se inserten los datos.</span><span class="sxs-lookup"><span data-stu-id="23c29-249">When data is bulk imported into a heap with page compression, the bulk import operation will try to compress the data with page compression when the data is inserted.</span></span>  
  
-   <span data-ttu-id="23c29-250">La compresión no afecta a las acciones de copias de seguridad y restauración.</span><span class="sxs-lookup"><span data-stu-id="23c29-250">Compression does not affect backup and restore.</span></span>  
  
-   <span data-ttu-id="23c29-251">La compresión no afecta al trasvase de registros.</span><span class="sxs-lookup"><span data-stu-id="23c29-251">Compression does not affect log shipping.</span></span>  
  
-   <span data-ttu-id="23c29-252">La compresión de datos es incompatible con las columnas dispersas.</span><span class="sxs-lookup"><span data-stu-id="23c29-252">Data compression is incompatible with sparse columns.</span></span> <span data-ttu-id="23c29-253">Por consiguiente, las tablas que contienen columnas dispersas no pueden comprimirse y las columnas dispersas no se pueden agregar a una tabla comprimida.</span><span class="sxs-lookup"><span data-stu-id="23c29-253">Therefore, tables containing sparse columns cannot be compressed nor can sparse columns be added to a compressed table.</span></span>  
  
-   <span data-ttu-id="23c29-254">Al habilitar la compresión, se puede hacer que los planes de consulta cambien porque los datos se almacenan utilizando un número diferente de páginas y de filas por cada página.</span><span class="sxs-lookup"><span data-stu-id="23c29-254">Enabling compression can cause query plans to change because the data is stored using a different number of pages and number of rows per page.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="23c29-255">Consulte también</span><span class="sxs-lookup"><span data-stu-id="23c29-255">See Also</span></span>  
 <span data-ttu-id="23c29-256">[Implementación de la compresión de fila](row-compression-implementation.md) </span><span class="sxs-lookup"><span data-stu-id="23c29-256">[Row Compression Implementation](row-compression-implementation.md) </span></span>  
 <span data-ttu-id="23c29-257">[Implementación de la compresión de página](page-compression-implementation.md) </span><span class="sxs-lookup"><span data-stu-id="23c29-257">[Page Compression Implementation](page-compression-implementation.md) </span></span>  
 <span data-ttu-id="23c29-258">[Implementación de la compresión Unicode](unicode-compression-implementation.md) </span><span class="sxs-lookup"><span data-stu-id="23c29-258">[Unicode Compression Implementation](unicode-compression-implementation.md) </span></span>  
 <span data-ttu-id="23c29-259">[CREATE PARTITION SCHEME &#40;Transact-SQL&#41;](/sql/t-sql/statements/create-partition-scheme-transact-sql) </span><span class="sxs-lookup"><span data-stu-id="23c29-259">[CREATE PARTITION SCHEME &#40;Transact-SQL&#41;](/sql/t-sql/statements/create-partition-scheme-transact-sql) </span></span>  
 <span data-ttu-id="23c29-260">[CREATE PARTITION FUNCTION &#40;Transact-SQL&#41;](/sql/t-sql/statements/create-partition-function-transact-sql) </span><span class="sxs-lookup"><span data-stu-id="23c29-260">[CREATE PARTITION FUNCTION &#40;Transact-SQL&#41;](/sql/t-sql/statements/create-partition-function-transact-sql) </span></span>  
 <span data-ttu-id="23c29-261">[CREATE TABLE &#40;Transact-SQL&#41;](/sql/t-sql/statements/create-table-transact-sql) </span><span class="sxs-lookup"><span data-stu-id="23c29-261">[CREATE TABLE &#40;Transact-SQL&#41;](/sql/t-sql/statements/create-table-transact-sql) </span></span>  
 <span data-ttu-id="23c29-262">[ALTER TABLE &#40;Transact-SQL&#41;](/sql/t-sql/statements/alter-table-transact-sql) </span><span class="sxs-lookup"><span data-stu-id="23c29-262">[ALTER TABLE &#40;Transact-SQL&#41;](/sql/t-sql/statements/alter-table-transact-sql) </span></span>  
 <span data-ttu-id="23c29-263">[CREATE INDEX &#40;Transact-SQL&#41;](/sql/t-sql/statements/create-index-transact-sql) </span><span class="sxs-lookup"><span data-stu-id="23c29-263">[CREATE INDEX &#40;Transact-SQL&#41;](/sql/t-sql/statements/create-index-transact-sql) </span></span>  
 [<span data-ttu-id="23c29-264">ALTER INDEX &#40;Transact-SQL&#41;</span><span class="sxs-lookup"><span data-stu-id="23c29-264">ALTER INDEX &#40;Transact-SQL&#41;</span></span>](/sql/t-sql/statements/alter-index-transact-sql)  
  
  
