---
title: Acerca del seguimiento de cambios (SQL Server) | Microsoft Docs
ms.custom: ''
ms.date: 06/13/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: ''
ms.topic: conceptual
helpviewer_keywords:
- data changes [SQL Server]
- tracking data changes [SQL Server]
- change tracking [SQL Server], about change tracking
- change tracking [SQL Server]
- data [SQL Server], changing
ms.assetid: 5e0ef05a-8317-4c98-be20-b19d4cd78f12
author: rothja
ms.author: jroth
ms.openlocfilehash: 4e8a817421aeca7906d31e4a70c25a12b6af7c0d
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 08/04/2020
ms.locfileid: "87674688"
---
# <a name="about-change-tracking-sql-server"></a><span data-ttu-id="c8286-102">Acerca del seguimiento de cambios (SQL Server)</span><span class="sxs-lookup"><span data-stu-id="c8286-102">About Change Tracking (SQL Server)</span></span>
  <span data-ttu-id="c8286-103">El seguimiento de cambios es una solución ligera que proporciona un mecanismo de seguimiento de cambios eficaz para las aplicaciones.</span><span class="sxs-lookup"><span data-stu-id="c8286-103">Change tracking is a lightweight solution that provides an efficient change tracking mechanism for applications.</span></span> <span data-ttu-id="c8286-104">Normalmente, para permitir que las aplicaciones consulten los cambios de los datos en una base de datos y tener acceso a la información relacionada con los mismos, los programadores de aplicaciones tenían que implementar mecanismos personalizados de seguimiento de cambios.</span><span class="sxs-lookup"><span data-stu-id="c8286-104">Typically, to enable applications to query for changes to data in a database and access information that is related to the changes, application developers had to implement custom change tracking mechanisms.</span></span> <span data-ttu-id="c8286-105">La creación de estos mecanismos normalmente implica mucho trabajo y, frecuentemente, se usa una combinación de desencadenadores, `timestamp` columnas, tablas nuevas para almacenar información de seguimiento y procesos de limpieza personalizados.</span><span class="sxs-lookup"><span data-stu-id="c8286-105">Creating these mechanisms usually involved a lot of work and frequently involved using a combination of triggers, `timestamp` columns, new tables to store tracking information, and custom cleanup processes.</span></span>  
  
 <span data-ttu-id="c8286-106">Los diferentes tipos de aplicaciones tienen requisitos distintos en cuanto a la cantidad de información que necesitan sobre los cambios.</span><span class="sxs-lookup"><span data-stu-id="c8286-106">Different types of applications have different requirements for how much information they need about the changes.</span></span> <span data-ttu-id="c8286-107">Las aplicaciones pueden utilizar el seguimiento de cambios para responder a las preguntas siguientes sobre las modificaciones que se han realizado en una tabla de usuario:</span><span class="sxs-lookup"><span data-stu-id="c8286-107">Applications can use change tracking to answer the following questions about the changes that have been made to a user table:</span></span>  
  
-   <span data-ttu-id="c8286-108">¿Qué filas han cambiado para una tabla de usuario?</span><span class="sxs-lookup"><span data-stu-id="c8286-108">What rows have changed for a user table?</span></span>  
  
    -   <span data-ttu-id="c8286-109">Solo se requiere el hecho de que una fila haya cambiado, no cuántas veces cambió o los valores de cualquier cambio intermedio.</span><span class="sxs-lookup"><span data-stu-id="c8286-109">Only the fact that a row has changed is required, not how many times the row has changed or the values of any intermediate changes.</span></span>  
  
    -   <span data-ttu-id="c8286-110">Los datos más recientes se pueden obtener directamente de la tabla de la que se realiza el seguimiento.</span><span class="sxs-lookup"><span data-stu-id="c8286-110">The latest data can be obtained directly from the table that is being tracked.</span></span>  
  
-   <span data-ttu-id="c8286-111">¿Ha cambiado una fila?</span><span class="sxs-lookup"><span data-stu-id="c8286-111">Has a row changed?</span></span>  
  
    -   <span data-ttu-id="c8286-112">El hecho de que una fila haya cambiado y la información sobre el cambio deben estar disponibles y grabarse en el momento en que el cambio se realice en la misma transacción.</span><span class="sxs-lookup"><span data-stu-id="c8286-112">The fact that a row has changed and information about the change must be available and recorded at the time that the change was made in the same transaction.</span></span>  
  
> [!NOTE]  
>  <span data-ttu-id="c8286-113">Si una aplicación requiere información sobre todas las modificaciones realizadas y los valores intermedios de los datos modificados, podría ser adecuado utilizar la detección de datos modificados en lugar del seguimiento de los cambios.</span><span class="sxs-lookup"><span data-stu-id="c8286-113">If an application requires information about all the changes that were made and the intermediate values of the changed data, using change data capture, instead of change tracking, might be appropriate.</span></span> <span data-ttu-id="c8286-114">Para obtener más información, vea [Acerca de la captura de datos modificados &#40;SQL Server&#41;](../track-changes/about-change-data-capture-sql-server.md).</span><span class="sxs-lookup"><span data-stu-id="c8286-114">For more information, see [About Change Data Capture &#40;SQL Server&#41;](../track-changes/about-change-data-capture-sql-server.md).</span></span>  
  
## <a name="one-way-and-two-way-synchronization-applications"></a><span data-ttu-id="c8286-115">Aplicaciones de sincronización unidireccionales y bidireccionales</span><span class="sxs-lookup"><span data-stu-id="c8286-115">One-Way and Two-Way Synchronization Applications</span></span>  
 <span data-ttu-id="c8286-116">Las aplicaciones que tienen que sincronizar los datos con una instancia de [!INCLUDE[ssDEnoversion](../../includes/ssdenoversion-md.md)] deben poder consultar los cambios.</span><span class="sxs-lookup"><span data-stu-id="c8286-116">Applications that have to synchronize data with an instance of the [!INCLUDE[ssDEnoversion](../../includes/ssdenoversion-md.md)] must be able to query for changes.</span></span> <span data-ttu-id="c8286-117">El seguimiento de cambios se puede utilizar como base para las aplicaciones de sincronización unidireccionales y bidireccionales.</span><span class="sxs-lookup"><span data-stu-id="c8286-117">Change tracking can be used as a foundation for both one-way and two-way synchronization applications.</span></span>  
  
### <a name="one-way-synchronization-applications"></a><span data-ttu-id="c8286-118">Aplicaciones de sincronización unidireccionales</span><span class="sxs-lookup"><span data-stu-id="c8286-118">One-Way Synchronization Applications</span></span>  
 <span data-ttu-id="c8286-119">Las aplicaciones de sincronización unidireccionales, como una aplicación de almacenamiento en caché de cliente o de capa media, pueden ser generadas de modo que usen el seguimiento de cambios.</span><span class="sxs-lookup"><span data-stu-id="c8286-119">One-way synchronization applications, such as a client or mid-tier caching application, can be built that use change tracking.</span></span> <span data-ttu-id="c8286-120">Como se muestra en la ilustración siguiente, una aplicación de almacenamiento en caché requiere que los datos se almacenen en [!INCLUDE[ssDE](../../includes/ssde-md.md)] y también que se almacenen en memoria caché en otros almacenes de datos.</span><span class="sxs-lookup"><span data-stu-id="c8286-120">As shown in the following illustration, a caching application requires data to be stored in the [!INCLUDE[ssDE](../../includes/ssde-md.md)] and to be cached in other data stores.</span></span> <span data-ttu-id="c8286-121">La aplicación debe poder mantener la memoria caché actualizada con cualquier cambio que se realice en las tablas de base de datos.</span><span class="sxs-lookup"><span data-stu-id="c8286-121">The application must be able to keep the cache up-to-date with any changes that have been made to the database tables.</span></span> <span data-ttu-id="c8286-122">No hay ningún cambio que devolver a [!INCLUDE[ssDE](../../includes/ssde-md.md)].</span><span class="sxs-lookup"><span data-stu-id="c8286-122">There are no changes to pass back to the [!INCLUDE[ssDE](../../includes/ssde-md.md)].</span></span>  
  
 <span data-ttu-id="c8286-123">![Muestra aplicaciones de sincronización unidireccionales](../../database-engine/media/one-waysync.gif "Muestra aplicaciones de sincronización unidireccionales")</span><span class="sxs-lookup"><span data-stu-id="c8286-123">![Shows one-way synchronization applications](../../database-engine/media/one-waysync.gif "Shows one-way synchronization applications")</span></span>  
  
### <a name="two-way-synchronization-applications"></a><span data-ttu-id="c8286-124">Aplicaciones de sincronización bidireccionales</span><span class="sxs-lookup"><span data-stu-id="c8286-124">Two-Way Synchronization Applications</span></span>  
 <span data-ttu-id="c8286-125">Las aplicaciones de sincronización bidireccionales también pueden generarse para usar el seguimiento de cambios.</span><span class="sxs-lookup"><span data-stu-id="c8286-125">Two-way synchronization applications can also be built that use change tracking.</span></span> <span data-ttu-id="c8286-126">En este escenario, los datos de una instancia de [!INCLUDE[ssDE](../../includes/ssde-md.md)] se sincronizan con uno o varios almacenes de datos.</span><span class="sxs-lookup"><span data-stu-id="c8286-126">In this scenario, the data in an instance of the [!INCLUDE[ssDE](../../includes/ssde-md.md)] is synchronized with one or more data stores.</span></span> <span data-ttu-id="c8286-127">Los datos de esos almacenes pueden actualizarse y los cambios se deben sincronizar de nuevo con [!INCLUDE[ssDE](../../includes/ssde-md.md)].</span><span class="sxs-lookup"><span data-stu-id="c8286-127">The data in those stores can be updated and the changes must be synchronized back to the [!INCLUDE[ssDE](../../includes/ssde-md.md)].</span></span>  
  
 <span data-ttu-id="c8286-128">![Muestra aplicaciones de sincronización bidireccionales](../../database-engine/media/two-waysync.gif "Muestra aplicaciones de sincronización bidireccionales")</span><span class="sxs-lookup"><span data-stu-id="c8286-128">![Shows two-way synchronization applications](../../database-engine/media/two-waysync.gif "Shows two-way synchronization applications")</span></span>  
  
 <span data-ttu-id="c8286-129">Un buen ejemplo de aplicación de sincronización bidireccional es aquella que se conecta ocasionalmente.</span><span class="sxs-lookup"><span data-stu-id="c8286-129">A good example of two-way synchronization application is an occasionally connected application.</span></span> <span data-ttu-id="c8286-130">En este tipo de aplicación, una aplicación cliente consulta y actualiza un almacén local.</span><span class="sxs-lookup"><span data-stu-id="c8286-130">In this type of application, a client application queries and updates a local store.</span></span> <span data-ttu-id="c8286-131">Cuando se disponga de una conexión entre un cliente y un servidor, la aplicación se sincronizará con un servidor y los datos que hayan cambiado circularán en ambas direcciones.</span><span class="sxs-lookup"><span data-stu-id="c8286-131">When a connection is available between a client and server, the application will synchronize with a server, and changed data flows in both directions.</span></span>  
  
 <span data-ttu-id="c8286-132">Las aplicaciones de sincronización bidireccionales deben ser capaces de detectar los conflictos.</span><span class="sxs-lookup"><span data-stu-id="c8286-132">The two-way synchronization applications must be able to detect conflicts.</span></span> <span data-ttu-id="c8286-133">Se produciría un conflicto si se cambiaran los mismos datos en ambos almacenes de datos en el período entre sincronizaciones.</span><span class="sxs-lookup"><span data-stu-id="c8286-133">A conflict would occur if the same data was changed in both data stores in the time between synchronizations.</span></span> <span data-ttu-id="c8286-134">Gracias a la capacidad para detectar conflictos, una aplicación puede asegurarse de que los cambios no se pierden.</span><span class="sxs-lookup"><span data-stu-id="c8286-134">With the ability to detect conflicts, an application can make sure that changes are not lost.</span></span>  
  
## <a name="how-change-tracking-works"></a><span data-ttu-id="c8286-135">Cómo funciona el seguimiento de cambios</span><span class="sxs-lookup"><span data-stu-id="c8286-135">How Change Tracking Works</span></span>  
 <span data-ttu-id="c8286-136">Para configurar el seguimiento de cambios, puede utilizar instrucciones de DDL o [!INCLUDE[ssManStudioFull](../../includes/ssmanstudiofull-md.md)].</span><span class="sxs-lookup"><span data-stu-id="c8286-136">To configure change tracking, you can use DDL statements or [!INCLUDE[ssManStudioFull](../../includes/ssmanstudiofull-md.md)].</span></span> <span data-ttu-id="c8286-137">Para obtener más información, vea [Habilitar y deshabilitar el seguimiento de cambios &#40;SQL Server&#41;](../track-changes/enable-and-disable-change-tracking-sql-server.md).</span><span class="sxs-lookup"><span data-stu-id="c8286-137">For more information, see [Enable and Disable Change Tracking &#40;SQL Server&#41;](../track-changes/enable-and-disable-change-tracking-sql-server.md).</span></span> <span data-ttu-id="c8286-138">Para poder realizar el seguimiento de los cambios, el seguimiento de cambios debe estar previamente habilitado para la base de datos y, a continuación, debe estar habilitado para las tablas de esa base de datos que desee someter a seguimiento.</span><span class="sxs-lookup"><span data-stu-id="c8286-138">To track changes, change tracking must first be enabled for the database and then enabled for the tables that you want to track within that database.</span></span> <span data-ttu-id="c8286-139">No es necesario cambiar la definición de tabla y no se crean desencadenadores.</span><span class="sxs-lookup"><span data-stu-id="c8286-139">The table definition does not have to be changed in any way, and no triggers are created.</span></span>  
  
 <span data-ttu-id="c8286-140">Una vez configurado el seguimiento de cambios para una tabla, cualquier instrucción DML que afecte a las filas en la tabla conllevará el registro de la información de seguimiento de cambios pertinente para cada fila modificada.</span><span class="sxs-lookup"><span data-stu-id="c8286-140">After change tracking is configured for a table, any DML statement that affects rows in the table will cause change tracking information for each modified row to be recorded.</span></span> <span data-ttu-id="c8286-141">Para consultar las filas que han cambiado y obtener información sobre los cambios, puede utilizar las [funciones de seguimiento de cambios](/sql/relational-databases/system-functions/change-tracking-functions-transact-sql).</span><span class="sxs-lookup"><span data-stu-id="c8286-141">To query for the rows that have changed and to obtain information about the changes, you can use [change tracking functions](/sql/relational-databases/system-functions/change-tracking-functions-transact-sql).</span></span>  
  
 <span data-ttu-id="c8286-142">Los valores de la columna de clave principal son la única información relativa a la tabla sometida a seguimiento que se registra con la información de los cambios.</span><span class="sxs-lookup"><span data-stu-id="c8286-142">The values of the primary key column is only information from the tracked table that is recorded with the change information.</span></span> <span data-ttu-id="c8286-143">Estos valores identifican las filas que se han cambiado.</span><span class="sxs-lookup"><span data-stu-id="c8286-143">These values identify the rows that have been changed.</span></span> <span data-ttu-id="c8286-144">Para obtener los datos más recientes de esas filas, una aplicación puede usar los valores de columna de clave principal para combinar la tabla de origen con la tabla sometida a seguimiento.</span><span class="sxs-lookup"><span data-stu-id="c8286-144">To obtain the latest data for those rows, an application can use the primary key column values to join the source table with the tracked table.</span></span>  
  
 <span data-ttu-id="c8286-145">La información sobre el cambio que se realizó en cada fila también se puede obtener utilizando el seguimiento de cambios.</span><span class="sxs-lookup"><span data-stu-id="c8286-145">Information about the change that was made to each row can also be obtained by using change tracking.</span></span> <span data-ttu-id="c8286-146">Por ejemplo, el tipo de operación de DML que produjo el cambio (inserción, actualización o eliminación) o las columnas que se cambiaron como parte de una operación de actualización.</span><span class="sxs-lookup"><span data-stu-id="c8286-146">For example, the type of DML operation that caused the change (insert, update, or delete) or the columns that were changed as part of an update operation.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="c8286-147">Consulte también</span><span class="sxs-lookup"><span data-stu-id="c8286-147">See Also</span></span>  
 <span data-ttu-id="c8286-148">[Habilitar y deshabilitar Change Tracking &#40;SQL Server&#41;](../track-changes/enable-and-disable-change-tracking-sql-server.md) </span><span class="sxs-lookup"><span data-stu-id="c8286-148">[Enable and Disable Change Tracking &#40;SQL Server&#41;](../track-changes/enable-and-disable-change-tracking-sql-server.md) </span></span>  
 <span data-ttu-id="c8286-149">[Trabajar con Change Tracking &#40;SQL Server&#41;](../track-changes/work-with-change-tracking-sql-server.md) </span><span class="sxs-lookup"><span data-stu-id="c8286-149">[Work with Change Tracking &#40;SQL Server&#41;](../track-changes/work-with-change-tracking-sql-server.md) </span></span>  
 <span data-ttu-id="c8286-150">[Administrar Change Tracking &#40;SQL Server&#41;](../track-changes/manage-change-tracking-sql-server.md) </span><span class="sxs-lookup"><span data-stu-id="c8286-150">[Manage Change Tracking &#40;SQL Server&#41;](../track-changes/manage-change-tracking-sql-server.md) </span></span>  
 [<span data-ttu-id="c8286-151">Seguimiento de cambios de datos &#40;SQL Server&#41;</span><span class="sxs-lookup"><span data-stu-id="c8286-151">Track Data Changes &#40;SQL Server&#41;</span></span>](../track-changes/track-data-changes-sql-server.md)  
  
  
