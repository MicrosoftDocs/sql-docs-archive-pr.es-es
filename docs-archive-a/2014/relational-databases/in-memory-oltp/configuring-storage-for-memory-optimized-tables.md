---
title: Configuración del almacenamiento para las tablas con optimización para memoria | Microsoft Docs
ms.custom: ''
ms.date: 06/13/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: in-memory-oltp
ms.topic: conceptual
ms.assetid: 6e005de0-3a77-4b91-b497-14cc0f9f6605
author: CarlRabeler
ms.author: carlrab
ms.openlocfilehash: 4e6e5f5a931669e2fc07cb957e60fd9c77b9b735
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 08/04/2020
ms.locfileid: "87749906"
---
# <a name="configuring-storage-for-memory-optimized-tables"></a><span data-ttu-id="80f11-102">Configurar el almacenamiento para las tablas con optimización para memoria</span><span class="sxs-lookup"><span data-stu-id="80f11-102">Configuring Storage for Memory-Optimized Tables</span></span>
  <span data-ttu-id="80f11-103">Debe configurar la capacidad de memoria y las operaciones de entrada/salida por segundo (IOPS).</span><span class="sxs-lookup"><span data-stu-id="80f11-103">You need to configure storage capacity and input/output operations per second (IOPS).</span></span>  
  
## <a name="storage-capacity"></a><span data-ttu-id="80f11-104">Capacidad de almacenamiento</span><span class="sxs-lookup"><span data-stu-id="80f11-104">Storage Capacity</span></span>  
 <span data-ttu-id="80f11-105">Use la información de [Estimar los requisitos de memoria para las tablas optimizadas para memoria](memory-optimized-tables.md) para calcular el tamaño en memoria de las tablas durables optimizadas para memoria de la base de datos.</span><span class="sxs-lookup"><span data-stu-id="80f11-105">Use the information in [Estimate Memory Requirements for Memory-Optimized Tables](memory-optimized-tables.md) to estimate the in-memory size of the database's durable memory-optimized tables.</span></span> <span data-ttu-id="80f11-106">Puesto que los índices no se conservan en las tablas optimizadas para memoria, no incluya el tamaño de los índices.</span><span class="sxs-lookup"><span data-stu-id="80f11-106">Because indexes are not persisted for memory-optimized tables, do not include the size of indexes.</span></span> <span data-ttu-id="80f11-107">Una vez que determine el tamaño, necesita proporcionar una cantidad de espacio en disco que sea cuatro veces el tamaño de tablas durables en memoria.</span><span class="sxs-lookup"><span data-stu-id="80f11-107">Once you determine the size, you need to provide disk space that is four times the size of durable, in-memory tables.</span></span>  
  
## <a name="storage-performance"></a><span data-ttu-id="80f11-108">Rendimiento del almacenamiento</span><span class="sxs-lookup"><span data-stu-id="80f11-108">Storage Performance</span></span>  
 [!INCLUDE[hek_2](../../includes/hek-2-md.md)] <span data-ttu-id="80f11-109">puede aumentar considerablemente el rendimiento de las cargas de trabajo.</span><span class="sxs-lookup"><span data-stu-id="80f11-109">can significantly increase your workload throughput.</span></span> <span data-ttu-id="80f11-110">Por tanto, es importante asegurarse de que la entrada/salida no es un cuello de botella.</span><span class="sxs-lookup"><span data-stu-id="80f11-110">Therefore, it is important to ensure that IO is not a bottleneck.</span></span>  
  
-   <span data-ttu-id="80f11-111">Al migrar tablas basadas en disco a tablas optimizadas para memoria, asegúrese de que el registro de transacciones esté en un medio de almacenamiento que pueda admitir mayor actividad del registro de transacciones.</span><span class="sxs-lookup"><span data-stu-id="80f11-111">When migrating disk-based tables to memory-optimized tables, make sure that the transaction log is on a storage media that can support increased transaction log activity.</span></span> <span data-ttu-id="80f11-112">Por ejemplo, si el medio de almacenamiento admite operaciones del registro de transacciones a 100 MB/s, y las tablas optimizadas para memoria producen un rendimiento cinco veces mayor, el medio de almacenamiento del registro de transacciones debe poder admitir una mejora del rendimiento cinco veces mayor para evitar que la actividad del registro de transacciones se convierta en un cuello de botella.</span><span class="sxs-lookup"><span data-stu-id="80f11-112">For example, if your storage media supports transaction log operations at 100 MB/sec, and memory-optimized tables result in five times greater performance, the transaction log's storage media must be able to also support five times performance improvement, to prevent the transaction log activity from becoming a performance bottleneck.</span></span>  
  
-   <span data-ttu-id="80f11-113">Las tablas con optimización para memoria se conservan en archivos distribuidos en uno o varios contenedores.</span><span class="sxs-lookup"><span data-stu-id="80f11-113">Memory-optimized tables are persisted in files distributed across one or more containers.</span></span> <span data-ttu-id="80f11-114">Cada contenedor se debe asignar normalmente a su propio eje, y se usa tanto para aumentar la capacidad de almacenamiento como para mejorar el rendimiento.</span><span class="sxs-lookup"><span data-stu-id="80f11-114">Each container should typically be mapped to its own spindle and is used both for increased storage capacity and improved performance.</span></span> <span data-ttu-id="80f11-115">Debe asegurarse de que la IOPS secuencial del medio de almacenamiento puede admitir un aumento de 3 veces en el rendimiento del registro de transacciones.</span><span class="sxs-lookup"><span data-stu-id="80f11-115">You need to ensure that sequential IOPS of the storage media can support a 3 times increase in transaction log throughput.</span></span>  
  
     <span data-ttu-id="80f11-116">Por ejemplo, si las tablas optimizadas para memoria generan 500 MB/s de actividad en el registro de transacciones, el almacenamiento de las tablas optimizadas para memoria debe admitir 1,5 GB/s. La necesidad de admitir un aumento de 3 veces en el rendimiento del registro de transacciones procede de la observación de que los pares de archivos Delta y de datos se escriben primero con los datos iniciales y, a continuación, se deben leer o volver a escribir como parte de una operación de combinación.</span><span class="sxs-lookup"><span data-stu-id="80f11-116">For example, if memory-optimized tables generate 500MB/sec of activity in the transaction log, the storage for memory-optimized tables must support 1.5GB/sec. The need to support a 3 times increase in transaction log throughput comes from the observation that the data and delta file pairs are first written with the initial data and then need to be read/re-written as part of a merge operation.</span></span>  
  
     <span data-ttu-id="80f11-117">Otro factor que hay que tener en cuenta para el rendimiento del almacenamiento es el tiempo de recuperación de las tablas optimizadas para memoria.</span><span class="sxs-lookup"><span data-stu-id="80f11-117">Another factor in estimating throughput for storage is the recovery time for memory-optimized tables.</span></span> <span data-ttu-id="80f11-118">Los datos de las tablas durables se deben leer en memoria antes de que una base de datos esté a disposición de las aplicaciones.</span><span class="sxs-lookup"><span data-stu-id="80f11-118">Data from durable tables must be read into memory before a database is made available to applications.</span></span> <span data-ttu-id="80f11-119">Normalmente, la carga de datos en las tablas optimizadas para memoria se puede realizar a la velocidad de la IOPS.</span><span class="sxs-lookup"><span data-stu-id="80f11-119">Commonly, loading data into memory-optimized tables can be done at the speed of IOPS.</span></span> <span data-ttu-id="80f11-120">Por tanto, si el almacenamiento total de las tablas durables optimizadas para memoria es de 60 GB y desea poder cargar estos datos en 1 minuto, la IOPS para el almacenamiento se debe establecer en 1 GB/s.</span><span class="sxs-lookup"><span data-stu-id="80f11-120">So if the total storage for durable, memory-optimized tables is 60 GB and you want to be able to load this data in 1 minute, the IOPS for the storage must be set at 1 GB/sec.</span></span>  
  
-   <span data-ttu-id="80f11-121">Si tiene número par de ejes, debe crear dos veces el número de contenedores y asignar cada par al mismo eje.</span><span class="sxs-lookup"><span data-stu-id="80f11-121">If you have even number of spindles, you should create two times the number of containers, each pair mapped to the same spindle.</span></span> <span data-ttu-id="80f11-122">Esto es necesario para distribuir la IOPS y el almacenamiento.</span><span class="sxs-lookup"><span data-stu-id="80f11-122">This is needed to spread the IOPS and the storage.</span></span> <span data-ttu-id="80f11-123">Para obtener más información, vea [el grupo de archivos optimizados para memoria](the-memory-optimized-filegroup.md).</span><span class="sxs-lookup"><span data-stu-id="80f11-123">For more information, see [The Memory Optimized Filegroup](the-memory-optimized-filegroup.md).</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="80f11-124">Consulte también</span><span class="sxs-lookup"><span data-stu-id="80f11-124">See Also</span></span>  
 [<span data-ttu-id="80f11-125">Crear y administrar el almacenamiento de objetos optimizados para memoria</span><span class="sxs-lookup"><span data-stu-id="80f11-125">Creating and Managing Storage for Memory-Optimized Objects</span></span>](creating-and-managing-storage-for-memory-optimized-objects.md)  
  
  
