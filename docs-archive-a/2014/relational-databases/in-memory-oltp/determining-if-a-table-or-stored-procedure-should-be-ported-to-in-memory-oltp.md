---
title: Determinar si una tabla o un procedimiento almacenado se debe pasar a OLTP en memoria | Microsoft Docs
ms.custom: ''
ms.date: 06/13/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: in-memory-oltp
ms.topic: conceptual
helpviewer_keywords:
- Analyze, Migrate, Report
- AMR
ms.assetid: c1ef96f1-290d-4952-8369-2f49f27afee2
author: rothja
ms.author: jroth
ms.openlocfilehash: 8e517cff394bc0c813e34763469f75147a0a16c5
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 08/04/2020
ms.locfileid: "87672973"
---
# <a name="determining-if-a-table-or-stored-procedure-should-be-ported-to-in-memory-oltp"></a><span data-ttu-id="d93b6-102">Determinar si una tabla o un procedimiento almacenado se debe pasar a OLTP en memoria</span><span class="sxs-lookup"><span data-stu-id="d93b6-102">Determining if a Table or Stored Procedure Should Be Ported to In-Memory OLTP</span></span>
  <span data-ttu-id="d93b6-103">El recopilador de rendimiento de las transacciones de [!INCLUDE[ssManStudioFull](../../../includes/ssmanstudiofull-md.md)] le ayuda a evaluar si OLTP en memoria mejorará el rendimiento de la aplicación de base de datos.</span><span class="sxs-lookup"><span data-stu-id="d93b6-103">The transaction performance collector in [!INCLUDE[ssManStudioFull](../../../includes/ssmanstudiofull-md.md)] helps you evaluate if In-Memory OLTP will improve your database application's performance.</span></span> <span data-ttu-id="d93b6-104">El informe de análisis del rendimiento de las transacciones indica también la cantidad de trabajo que debe realizar para habilitar OLTP en memoria en la aplicación.</span><span class="sxs-lookup"><span data-stu-id="d93b6-104">The transaction performance analysis report also indicates how much work you must do to enable In-Memory OLTP in your application.</span></span> <span data-ttu-id="d93b6-105">Después de identificar una tabla basada en disco para convertirla a OLTP en memoria, puede usar el [Asistente de optimización de memoria](memory-optimization-advisor.md)para que le ayude a migrar la tabla.</span><span class="sxs-lookup"><span data-stu-id="d93b6-105">After you identify a disk-based table to port to In-Memory OLTP, you can use the [Memory Optimization Advisor](memory-optimization-advisor.md), to help you migrate the table.</span></span> <span data-ttu-id="d93b6-106">De manera similar, el [Native Compilation Advisor](native-compilation-advisor.md) le permitirá convertir un procedimiento almacenado en un procedimiento almacenado compilado de forma nativa.</span><span class="sxs-lookup"><span data-stu-id="d93b6-106">Similarly, the [Native Compilation Advisor](native-compilation-advisor.md) will help you port a stored procedure to a natively compiled stored procedure.</span></span>  
  
 <span data-ttu-id="d93b6-107">En este tema se explicará cómo:</span><span class="sxs-lookup"><span data-stu-id="d93b6-107">This topic will discuss how to:</span></span>  
  
-   <span data-ttu-id="d93b6-108">Configurar el almacén de datos de administración.</span><span class="sxs-lookup"><span data-stu-id="d93b6-108">Configure Management Data Warehouse.</span></span>  
  
-   <span data-ttu-id="d93b6-109">Configurar la recopilación de datos.</span><span class="sxs-lookup"><span data-stu-id="d93b6-109">Configure data collection.</span></span>  
  
-   <span data-ttu-id="d93b6-110">Generar informes de análisis del rendimiento de las transacciones para identificar las tablas y los procedimientos almacenados críticos para el rendimiento.</span><span class="sxs-lookup"><span data-stu-id="d93b6-110">Generate transaction performance analysis reports to identify performance-critical tables and stored procedures.</span></span>  
  
 <span data-ttu-id="d93b6-111">Para obtener más información sobre las metodologías de migración, vea [OLTP en memoria: patrones de carga de trabajo comunes y consideraciones sobre la migración](https://msdn.microsoft.com/library/dn673538.aspx).</span><span class="sxs-lookup"><span data-stu-id="d93b6-111">For information about migration methodologies, see [In-Memory OLTP - Common Workload Patterns and Migration Considerations](https://msdn.microsoft.com/library/dn673538.aspx).</span></span>  
  
 <span data-ttu-id="d93b6-112">El recopilador de rendimiento de las transacciones y los informes de análisis del rendimiento de las transacciones la ayudan a lograr las tareas siguientes:</span><span class="sxs-lookup"><span data-stu-id="d93b6-112">The transaction performance collector and the transaction performance analysis reports help you accomplish the following tasks:</span></span>  
  
-   <span data-ttu-id="d93b6-113">Analizar la carga de trabajo para determinar si OLTP en memoria mejorará el rendimiento.</span><span class="sxs-lookup"><span data-stu-id="d93b6-113">Analyze your workload to determine if In-Memory OLTP will improve performance.</span></span> <span data-ttu-id="d93b6-114">El recopilador de rendimiento de las transacciones recopila y evalúa las características de rendimiento de la carga de trabajo.</span><span class="sxs-lookup"><span data-stu-id="d93b6-114">The transaction performance collector collects and evaluates the performance characteristics of your workload.</span></span> <span data-ttu-id="d93b6-115">.</span><span class="sxs-lookup"><span data-stu-id="d93b6-115">.</span></span> <span data-ttu-id="d93b6-116">El informe de análisis del rendimiento de las transacciones recomienda entonces las tablas y los procedimientos almacenados que se beneficiarían de la conversión a OLTP en memoria.</span><span class="sxs-lookup"><span data-stu-id="d93b6-116">The transaction performance analysis report then recommends tables and stored procedures that would benefit most from conversion to In-Memory OLTP.</span></span>  
  
-   <span data-ttu-id="d93b6-117">Le ayuda a planear y ejecutar la migración a OLTP en memoria.</span><span class="sxs-lookup"><span data-stu-id="d93b6-117">Help you plan and execute your migration to In-Memory OLTP.</span></span> <span data-ttu-id="d93b6-118">La migración de una tabla basada en disco a una tabla optimizada para memoria puede llevar mucho tiempo.</span><span class="sxs-lookup"><span data-stu-id="d93b6-118">The migration path from a disk based table to a memory-optimized table can be time consuming.</span></span> <span data-ttu-id="d93b6-119">El Asesor de optimización para memoria permite identificar las incompatibilidades que debe quitar de la tabla antes de migrar la tabla a OLTP en memoria.</span><span class="sxs-lookup"><span data-stu-id="d93b6-119">The Memory-Optimization Advisor helps you identify the incompatibilities in your table that you must remove before moving the table to In-Memory OLTP.</span></span> <span data-ttu-id="d93b6-120">El Asesor de optimización para memoria permite también comprender el impacto que la migración de una tabla a una tabla optimizada para memoria tendrá sobre su aplicación.</span><span class="sxs-lookup"><span data-stu-id="d93b6-120">The Memory-Optimization Advisor also helps you understand the impact that the migration of a table to a memory-optimized table will have on your application.</span></span>  
  
     <span data-ttu-id="d93b6-121">Puede ver si la aplicación se beneficiaría de OLTP en memoria, si desea planear la migración a OLTP en memoria y siempre que migre algunas de sus tablas y procedimientos almacenados a OLTP en memoria.</span><span class="sxs-lookup"><span data-stu-id="d93b6-121">You can see if your application would benefit from In-Memory OLTP, when you want to plan your migration to In-Memory OLTP, and whenever you work to migrate some of your tables and stored procedures to In-Memory OLTP.</span></span>  
  
    > [!IMPORTANT]  
    >  <span data-ttu-id="d93b6-122">El rendimiento de un sistema de base de datos depende de diversos de factores, no todos los cuales puede observar y medir el recopilador de rendimiento de las transacciones.</span><span class="sxs-lookup"><span data-stu-id="d93b6-122">The performance of a database system is dependent on a variety of factors, not all of which the transaction performance collector can observe and measure.</span></span> <span data-ttu-id="d93b6-123">Por consiguiente, el informe de análisis del rendimiento de las transacciones no garantiza que las mejoras reales en el rendimiento coincidirán con las predicciones, en el caso de que las haya.</span><span class="sxs-lookup"><span data-stu-id="d93b6-123">Therefore, the transaction performance analysis report does not guarantee actual performance gains will match its predictions, if any predictions are made.</span></span>  
  
 <span data-ttu-id="d93b6-124">El recopilador de rendimiento de las transacciones y la capacidad de generar un informe de análisis de rendimiento de las transacciones se instalan cuando se selecciona **herramientas de administración-básica** o **herramientas de administración-avanzadas** al instalar [!INCLUDE[ssCurrent](../../../includes/sscurrent-md.md)] .</span><span class="sxs-lookup"><span data-stu-id="d93b6-124">The transaction performance collector and the ability to generate a transaction performance analysis report are installed when you select **Management Tools-Basic** or **Management Tools-Advanced** when you install [!INCLUDE[ssCurrent](../../../includes/sscurrent-md.md)].</span></span>  
  
## <a name="best-practices"></a><span data-ttu-id="d93b6-125">Prácticas recomendadas</span><span class="sxs-lookup"><span data-stu-id="d93b6-125">Best Practices</span></span>  
 <span data-ttu-id="d93b6-126">El flujo de trabajo recomendado se muestra en el diagrama de flujo siguiente.</span><span class="sxs-lookup"><span data-stu-id="d93b6-126">The recommended workflow is illustrated in the following flowchart.</span></span> <span data-ttu-id="d93b6-127">Los nodos amarillos representan procedimientos opcionales:</span><span class="sxs-lookup"><span data-stu-id="d93b6-127">The yellow nodes represent optional procedures:</span></span>  
  
 <span data-ttu-id="d93b6-128">![Flujo de trabajo de AMR](../../database-engine/media/amr-1.gif "Flujo de trabajo de AMR")</span><span class="sxs-lookup"><span data-stu-id="d93b6-128">![AMR workflow](../../database-engine/media/amr-1.gif "AMR workflow")</span></span>  
  
 <span data-ttu-id="d93b6-129">Puede utilizar cualquier método para establecer una línea base de rendimiento, incluyendo pero sin limitarse al uso de registros de contador de rendimiento o del Monitor de actividad de [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)].</span><span class="sxs-lookup"><span data-stu-id="d93b6-129">You can use any method to establish a performance baseline, including but not limited to using performance counter logs or the [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] Activity Monitor.</span></span> <span data-ttu-id="d93b6-130">La información que se utiliza en la línea base de rendimiento y las comparaciones son:</span><span class="sxs-lookup"><span data-stu-id="d93b6-130">The information to use in your performance baseline and your comparisons are:</span></span>  
  
-   <span data-ttu-id="d93b6-131">Uso de CPU de [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)].</span><span class="sxs-lookup"><span data-stu-id="d93b6-131">CPU consumption of [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)].</span></span>  
  
-   <span data-ttu-id="d93b6-132">Consumo de memoria de [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)].</span><span class="sxs-lookup"><span data-stu-id="d93b6-132">Memory consumption of [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)].</span></span>  
  
-   <span data-ttu-id="d93b6-133">Actividad de E/S de [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)].</span><span class="sxs-lookup"><span data-stu-id="d93b6-133">I/O activity of [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)].</span></span>  
  
-   <span data-ttu-id="d93b6-134">Rendimiento de la transacción de la instancia durante el procesamiento de transacciones.</span><span class="sxs-lookup"><span data-stu-id="d93b6-134">Transaction throughput of the instance while processing transactions.</span></span>  
  
 <span data-ttu-id="d93b6-135">El recopilador de rendimiento de las transacciones captura los datos cada 15 minutos.</span><span class="sxs-lookup"><span data-stu-id="d93b6-135">The transaction performance collector captures data every 15 minutes.</span></span> <span data-ttu-id="d93b6-136">Para obtener resultados útiles, ejecute el recopilador de rendimiento de las transacciones al menos durante una hora.</span><span class="sxs-lookup"><span data-stu-id="d93b6-136">To obtain usable results, run the transaction performance collector for at least one hour.</span></span> <span data-ttu-id="d93b6-137">Para obtener los mejores resultados, ejecute el recopilador de rendimiento de las transacciones durante el tiempo necesario para capturar los datos para los escenarios principales.</span><span class="sxs-lookup"><span data-stu-id="d93b6-137">To obtain best results, run the transaction performance collector for as much time as needed to capture data for your primary scenarios.</span></span> <span data-ttu-id="d93b6-138">Genere un informe de análisis del rendimiento de las transacciones solo después de que termine de recopilar los datos.</span><span class="sxs-lookup"><span data-stu-id="d93b6-138">Generate a transaction performance analysis report only after you have finished gathering data.</span></span>  
  
 <span data-ttu-id="d93b6-139">Configure el recopilador de rendimiento de las transacciones para ejecutarlo en la instancia de [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] en producción y recopilar los datos en una instancia de [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] en el entorno de desarrollo (pruebas) para asegurar una sobrecarga mínima.</span><span class="sxs-lookup"><span data-stu-id="d93b6-139">Configure the transaction performance collector to run on your [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] instance in production and collect the data on a [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] instance in your development (test) environment to ensure minimum overhead.</span></span> <span data-ttu-id="d93b6-140">Para obtener información sobre cómo guardar datos en una base de datos de almacén de administración de datos en una [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] instancia remota, vea [configurar la recopilación de datos en una instancia de SQL Server remota](determining-if-a-table-or-stored-procedure-should-be-ported-to-in-memory-oltp.md#xxx).</span><span class="sxs-lookup"><span data-stu-id="d93b6-140">For information on how to save data in a Management Data Warehouse database on a remote [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] instance, see [Configure Data Collection on a Remote SQL Server Instance](determining-if-a-table-or-stored-procedure-should-be-ported-to-in-memory-oltp.md#xxx).</span></span>  
  
## <a name="performance-impacts"></a><span data-ttu-id="d93b6-141">Impactos de rendimiento</span><span class="sxs-lookup"><span data-stu-id="d93b6-141">Performance Impacts</span></span>  
 <span data-ttu-id="d93b6-142">El recopilador del rendimiento de las transacciones consta de dos conjuntos de recopilación de datos:</span><span class="sxs-lookup"><span data-stu-id="d93b6-142">The transaction performance collector consists of two data collection sets:</span></span>  
  
-   <span data-ttu-id="d93b6-143">Análisis de uso de tablas</span><span class="sxs-lookup"><span data-stu-id="d93b6-143">Table Usage Analysis</span></span>  
  
-   <span data-ttu-id="d93b6-144">Análisis de procedimientos almacenados</span><span class="sxs-lookup"><span data-stu-id="d93b6-144">Stored Procedure Analysis</span></span>  
  
 <span data-ttu-id="d93b6-145">Los conjuntos de recopilación recopilan los datos de tres vistas de administración dinámicas (DMV) cada quince minutos y cargan los datos en la base de datos configurada para actuar como almacén de administración de datos.</span><span class="sxs-lookup"><span data-stu-id="d93b6-145">The collection sets collect data from three dynamic management views (DMV) every fifteen minutes, and upload the data to the database configured to act as the Management Data Warehouse.</span></span> <span data-ttu-id="d93b6-146">La carga de los datos recopilados conlleva un impacto mínimo en el rendimiento.</span><span class="sxs-lookup"><span data-stu-id="d93b6-146">Uploading the collected data incurs minimal performance impact.</span></span>  
  
## <a name="use-the-transaction-performance-collector"></a><span data-ttu-id="d93b6-147">Usar el recopilador de rendimiento de las transacciones</span><span class="sxs-lookup"><span data-stu-id="d93b6-147">Use the Transaction Performance Collector</span></span>  
 <span data-ttu-id="d93b6-148">Los pasos siguientes requieren [!INCLUDE[ssManStudioFull](../../../includes/ssmanstudiofull-md.md)] en [!INCLUDE[ssCurrent](../../../includes/sscurrent-md.md)].</span><span class="sxs-lookup"><span data-stu-id="d93b6-148">The following steps require [!INCLUDE[ssManStudioFull](../../../includes/ssmanstudiofull-md.md)] in [!INCLUDE[ssCurrent](../../../includes/sscurrent-md.md)].</span></span>  
  
> [!IMPORTANT]  
>  <span data-ttu-id="d93b6-149">No cambie el esquema (por ejemplo, no agregue ni quite bases de datos ni cree ni quite tablas) durante la generación de perfiles.</span><span class="sxs-lookup"><span data-stu-id="d93b6-149">Do not change the schema (for example, add or remove databases or create or drop tables) during profiling.</span></span> <span data-ttu-id="d93b6-150">Si cambia el esquema de una base de datos mientras está recopilando datos, la base de datos puede no incluirse de forma precisa en el informe.</span><span class="sxs-lookup"><span data-stu-id="d93b6-150">If you change the schema of a database while collecting data, the database may not be accurately included in the report.</span></span>  
  
### <a name="configure-management-data-warehouse"></a><span data-ttu-id="d93b6-151">Configurar el almacén de administración de datos</span><span class="sxs-lookup"><span data-stu-id="d93b6-151">Configure Management Data Warehouse</span></span>  
 <span data-ttu-id="d93b6-152">El almacén de administración de datos se debe configurar para utilizar el recopilador de rendimiento de las transacciones.</span><span class="sxs-lookup"><span data-stu-id="d93b6-152">Management Data Warehouse must be configured to use the transaction performance collector.</span></span>  
  
 <span data-ttu-id="d93b6-153">La versión de la instancia de [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] en la que recopilará los datos (perfil) debe ser la misma o una más antigua que la de [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] donde se ha configurado el almacén de administración de datos.</span><span class="sxs-lookup"><span data-stu-id="d93b6-153">The version of the [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] instance that you will collect data on (profile) should be the same version or older than the [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] where Management Data Warehouse is configured.</span></span>  
  
1.  <span data-ttu-id="d93b6-154">En el Explorador de objetos, expanda **Administración**.</span><span class="sxs-lookup"><span data-stu-id="d93b6-154">In Object Explorer, expand **Management**.</span></span>  
  
2.  <span data-ttu-id="d93b6-155">Haga clic con el botón secundario en **recopilación de datos** y seleccione **tareas** y, después, **configurar almacén de administración de datos**.</span><span class="sxs-lookup"><span data-stu-id="d93b6-155">Right click **Data Collection** and select **Tasks** and then **Configure Management Data Warehouse**.</span></span> <span data-ttu-id="d93b6-156">Se inicia el **Asistente para configurar el almacén de administración de datos** .</span><span class="sxs-lookup"><span data-stu-id="d93b6-156">The **Configure Management Data Warehouse Wizard** begins.</span></span>  
  
3.  <span data-ttu-id="d93b6-157">Haga clic en **siguiente** para seleccionar la base de datos que actuará como almacén de administración de datos.</span><span class="sxs-lookup"><span data-stu-id="d93b6-157">Click **Next** to select the database that will act as the Management Data Warehouse.</span></span>  
  
4.  <span data-ttu-id="d93b6-158">Haga clic en **nuevo** para crear una nueva base de datos que contenga los datos del perfil.</span><span class="sxs-lookup"><span data-stu-id="d93b6-158">Click **New** to create a new database to hold the profile data.</span></span> <span data-ttu-id="d93b6-159">Cuando termine de crear la base de datos, haga clic en **siguiente** en el asistente.</span><span class="sxs-lookup"><span data-stu-id="d93b6-159">After you finish creating the database, click **Next** in the wizard.</span></span>  
  
5.  <span data-ttu-id="d93b6-160">En el paso siguiente del asistente podrá agregar usuarios e inicios de sesión.</span><span class="sxs-lookup"><span data-stu-id="d93b6-160">The next step in the wizard lets you add users and logins.</span></span> <span data-ttu-id="d93b6-161">Puede asignar inicios de sesión a las pertenencias a roles para la instancia de MDW.</span><span class="sxs-lookup"><span data-stu-id="d93b6-161">You may map logins to role memberships for the MDW instance.</span></span> <span data-ttu-id="d93b6-162">No es necesario recopilar los datos de la instancia local.</span><span class="sxs-lookup"><span data-stu-id="d93b6-162">This is not required to collect data from the local instance.</span></span> <span data-ttu-id="d93b6-163">Si no va a recopilar datos de la instancia local, puede conceder la pertenencia al rol de base de datos `mdw_admin` a la cuenta que ejecutará las transacciones que se incluirán en el perfil.</span><span class="sxs-lookup"><span data-stu-id="d93b6-163">If you are not collecting data from the local instance, you can grant database role membership `mdw_admin` to the account that will run transactions that will be profiled.</span></span> <span data-ttu-id="d93b6-164">Cuando termine, haga clic en **Siguiente**.</span><span class="sxs-lookup"><span data-stu-id="d93b6-164">When done, click **Next**.</span></span>  
  
6.  <span data-ttu-id="d93b6-165">Asegúrese de que el Agente [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] se esté ejecutando.</span><span class="sxs-lookup"><span data-stu-id="d93b6-165">Make sure that [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] Agent is running.</span></span>  
  
7.  <span data-ttu-id="d93b6-166">En la siguiente pantalla, haga clic en **Finalizar** para salir del asistente.</span><span class="sxs-lookup"><span data-stu-id="d93b6-166">On the next screen, click **Finish** to exit the wizard.</span></span>  
  
### <a name="configure-data-collection-on-a-local-ssnoversion-instance"></a><span data-ttu-id="d93b6-167">Configurar la recopilación de datos en una instancia local de [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)]</span><span class="sxs-lookup"><span data-stu-id="d93b6-167">Configure Data Collection on a Local [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] Instance</span></span>  
 <span data-ttu-id="d93b6-168">La recopilación de datos requiere que el Agente [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] esté iniciado.</span><span class="sxs-lookup"><span data-stu-id="d93b6-168">Data collection requires [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] Agent to be started.</span></span> <span data-ttu-id="d93b6-169">Solo es necesario configurar un recopilador de datos en un servidor.</span><span class="sxs-lookup"><span data-stu-id="d93b6-169">You only need to configure one data collector on a server.</span></span>  
  
 <span data-ttu-id="d93b6-170">Un recopilador de datos se puede configurar en un SQL Server 2012 o una versión posterior de [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] .</span><span class="sxs-lookup"><span data-stu-id="d93b6-170">A data collector can be configured on a SQL Server 2012 or later version of [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)].</span></span>  
  
 <span data-ttu-id="d93b6-171">Para configurar la recopilación de datos para cargar una base de datos del almacén de administración de datos en la misma instancia,</span><span class="sxs-lookup"><span data-stu-id="d93b6-171">To configure data collection to upload to a Management Data Warehouse database on the same instance,</span></span>  
  
1.  <span data-ttu-id="d93b6-172">En **Explorador de objetos**, expanda **Administración**.</span><span class="sxs-lookup"><span data-stu-id="d93b6-172">In **Object Explorer**, expand **Management**.</span></span>  
  
2.  <span data-ttu-id="d93b6-173">Haga clic con el botón derecho en **recopilación de datos**, seleccione **tareas**y, después, **Configure la recopilación de datos**.</span><span class="sxs-lookup"><span data-stu-id="d93b6-173">Right click **Data Collection**, select **Tasks**, and then **Configure Data Collection**.</span></span> <span data-ttu-id="d93b6-174">Se iniciará el **Asistente para configurar la recopilación de datos** .</span><span class="sxs-lookup"><span data-stu-id="d93b6-174">The **Configure Data Collection Wizard** begins.</span></span>  
  
3.  <span data-ttu-id="d93b6-175">Haga clic en **siguiente** para seleccionar la base de datos que recopilará los datos del perfil.</span><span class="sxs-lookup"><span data-stu-id="d93b6-175">Click **Next** to select the database that will collect the profile data.</span></span>  
  
4.  <span data-ttu-id="d93b6-176">Seleccione la instancia actual de [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] y una base de datos del almacén de administración de datos en esa instancia.</span><span class="sxs-lookup"><span data-stu-id="d93b6-176">Select the current [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] instance and a Management Data Warehouse database on that instance.</span></span>  
  
5.  <span data-ttu-id="d93b6-177">En el cuadro con la etiqueta **seleccionar conjuntos de recopiladores de datos que desea habilitar**, seleccione **conjuntos de recopilación de rendimiento de transacciones**.</span><span class="sxs-lookup"><span data-stu-id="d93b6-177">In the box labeled **Select data collector sets you want to enable**, select **Transaction Performance Collection Sets**.</span></span> <span data-ttu-id="d93b6-178">Haga clic en **Siguiente** cuando termine.</span><span class="sxs-lookup"><span data-stu-id="d93b6-178">Click **Next** when done.</span></span>  
  
6.  <span data-ttu-id="d93b6-179">Compruebe las selecciones.</span><span class="sxs-lookup"><span data-stu-id="d93b6-179">Verify the selections.</span></span> <span data-ttu-id="d93b6-180">Haga clic en **atrás** para modificar la configuración.</span><span class="sxs-lookup"><span data-stu-id="d93b6-180">Click **Back** to modify the settings.</span></span> <span data-ttu-id="d93b6-181">Haga clic **Finalizar** cuando haya terminado.</span><span class="sxs-lookup"><span data-stu-id="d93b6-181">Click **Finish** when done.</span></span>  
  
###  <a name="configure-data-collection-on-a-remote-ssnoversion-instance"></a><a name="xxx"></a><span data-ttu-id="d93b6-182">Configurar la recopilación de datos en una [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] instancia remota</span><span class="sxs-lookup"><span data-stu-id="d93b6-182">Configure Data Collection on a Remote [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] Instance</span></span>  
 <span data-ttu-id="d93b6-183">La recopilación de datos requiere que se inicie el Agente [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] en la instancia que recopilará los datos.</span><span class="sxs-lookup"><span data-stu-id="d93b6-183">Data collection requires [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] Agent to be started on the instance that will collect the data.</span></span>  
  
 <span data-ttu-id="d93b6-184">Un recopilador de datos se puede configurar en un SQL Server 2012 o una versión posterior de [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] .</span><span class="sxs-lookup"><span data-stu-id="d93b6-184">A data collector can be configured on a SQL Server 2012 or later version of [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)].</span></span>  
  
 <span data-ttu-id="d93b6-185">Necesita un proxy del Agente [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] establecido con la credencial correcta para que un recopilador de datos cargue los datos en una base de datos del almacén de administración de datos en una instancia distinta de aquella en la que se van a generar perfiles de las transacciones.</span><span class="sxs-lookup"><span data-stu-id="d93b6-185">You need a [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] Agent proxy established with the correct credential for a data collector to upload data to a Management Data Warehouse database on an instance that is different from where transactions will be profiled.</span></span> <span data-ttu-id="d93b6-186">Para habilitar un proxy del Agente [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)], primero debe establecer una credencial con un inicio de sesión habilitado para dominio.</span><span class="sxs-lookup"><span data-stu-id="d93b6-186">To enable a [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] Agent proxy, you must first establish a credential with a domain-enabled login.</span></span> <span data-ttu-id="d93b6-187">El inicio de sesión habilitado para el dominio debe ser miembro del grupo `mdw_admin` para la base de datos del almacén de administración de datos.</span><span class="sxs-lookup"><span data-stu-id="d93b6-187">The domain-enabled login must be a member of `mdw_admin` group for the Management Data Warehouse database.</span></span> <span data-ttu-id="d93b6-188">Consulte [Cómo: crear una credencial (SQL Server Management Studio)](../security/authentication-access/create-a-credential.md) para obtener información sobre cómo crear una credencial.</span><span class="sxs-lookup"><span data-stu-id="d93b6-188">See [How to: Create a Credential (SQL Server Management Studio)](../security/authentication-access/create-a-credential.md) for information on how to create a credential.</span></span>  
  
 <span data-ttu-id="d93b6-189">Para configurar la recopilación de datos para cargar una base de datos del almacén de administración de datos en otra instancia,</span><span class="sxs-lookup"><span data-stu-id="d93b6-189">To configure data collection to upload to a Management Data Warehouse database on a different instance,</span></span>  
  
1.  <span data-ttu-id="d93b6-190">En la instancia que contiene los objetos basados en disco que desea migrar a OLTP en memoria, expanda el nodo **Administración** en explorador de objetos.</span><span class="sxs-lookup"><span data-stu-id="d93b6-190">On the instance that contains the disk-based objects that you want to migrate to In-Memory OLTP, expand the **Management** node in Object Explorer.</span></span>  
  
2.  <span data-ttu-id="d93b6-191">Haga clic con el botón derecho en **recopilación de datos** y seleccione **tareas** y, después, **configurar recopilación de datos**.</span><span class="sxs-lookup"><span data-stu-id="d93b6-191">Right click **Data Collection** and select **Tasks** and then **Configure Data Collection**.</span></span> <span data-ttu-id="d93b6-192">Se iniciará el **Asistente para configurar la recopilación de datos** .</span><span class="sxs-lookup"><span data-stu-id="d93b6-192">The **Configure Data Collection Wizard** begins.</span></span>  
  
3.  <span data-ttu-id="d93b6-193">Haga clic en **siguiente** para seleccionar la base de datos que recopilará los datos del perfil.</span><span class="sxs-lookup"><span data-stu-id="d93b6-193">Click **Next** to select the database that will collect the profile data.</span></span>  
  
4.  <span data-ttu-id="d93b6-194">Asegúrese de que existe una base de datos del almacén de administración de datos en la otra instancia de [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)].</span><span class="sxs-lookup"><span data-stu-id="d93b6-194">Make sure that a Management Data Warehouse database exists on the other [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] instance.</span></span>  
  
5.  <span data-ttu-id="d93b6-195">Seleccione otra instancia de [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] y una base de datos del almacén de administración de datos en dicha instancia.</span><span class="sxs-lookup"><span data-stu-id="d93b6-195">Select another [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] instance and a Management Data Warehouse database on that instance.</span></span>  
  
     <span data-ttu-id="d93b6-196">La versión de la instancia de [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] en la que recopilará los datos (perfil) debe ser la misma o una más antigua que la de [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] donde se ha configurado el almacén de administración de datos.</span><span class="sxs-lookup"><span data-stu-id="d93b6-196">The version of the [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] instance that you will collect data on (profile) should be the same version or older than the [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] where Management Data Warehouse is configured.</span></span>  
  
6.  <span data-ttu-id="d93b6-197">En el cuadro con la etiqueta **seleccionar conjuntos de recopiladores de datos que desea habilitar**, seleccione **conjuntos de recopilación de rendimiento de transacciones**.</span><span class="sxs-lookup"><span data-stu-id="d93b6-197">In the box labeled **Select data collector sets you want to enable**, select **Transaction Performance Collection Sets**.</span></span>  
  
7.  <span data-ttu-id="d93b6-198">Seleccione **usar un [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] proxy del agente para cargas remotas**.</span><span class="sxs-lookup"><span data-stu-id="d93b6-198">Select **Use a [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] Agent proxy for remote uploads**.</span></span>  
  
8.  <span data-ttu-id="d93b6-199">Haga clic en **Siguiente** cuando termine.</span><span class="sxs-lookup"><span data-stu-id="d93b6-199">Click **Next** when done.</span></span>  
  
9. <span data-ttu-id="d93b6-200">Seleccione el proxy.</span><span class="sxs-lookup"><span data-stu-id="d93b6-200">Select the proxy.</span></span>  
  
     <span data-ttu-id="d93b6-201">Si desea crear un nuevo proxy del Agente [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)],</span><span class="sxs-lookup"><span data-stu-id="d93b6-201">If you want to create a new [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] Agent proxy,</span></span>  
  
    1.  <span data-ttu-id="d93b6-202">Haga clic en **nuevo** para abrir el cuadro de diálogo **nueva cuenta de proxy** .</span><span class="sxs-lookup"><span data-stu-id="d93b6-202">Click **New** to display the **New Proxy Account** dialog box.</span></span>  
  
    2.  <span data-ttu-id="d93b6-203">En el cuadro de diálogo **nueva cuenta de proxy** , escriba el nombre del proxy, seleccione la credencial y, si lo desea, escriba una descripción.</span><span class="sxs-lookup"><span data-stu-id="d93b6-203">In the **New Proxy Account** dialog box, enter the name of the proxy, select the credential, and optionally enter a description.</span></span> <span data-ttu-id="d93b6-204">A continuación, haga clic en **entidades**de seguridad.</span><span class="sxs-lookup"><span data-stu-id="d93b6-204">Then, click **Principals**.</span></span>  
  
    3.  <span data-ttu-id="d93b6-205">Haga clic en **Agregar** y seleccione rol **msdb** .</span><span class="sxs-lookup"><span data-stu-id="d93b6-205">Click **Add** and select **Msdb** role.</span></span>  
  
    4.  <span data-ttu-id="d93b6-206">Seleccione `dc_proxy` y haga clic en **Aceptar**.</span><span class="sxs-lookup"><span data-stu-id="d93b6-206">Select `dc_proxy` and click **OK**.</span></span> <span data-ttu-id="d93b6-207">Haga clic en **Aceptar** de nuevo.</span><span class="sxs-lookup"><span data-stu-id="d93b6-207">Then click **OK** again.</span></span>  
  
     <span data-ttu-id="d93b6-208">Una vez seleccionado el proxy correcto, haga clic en **siguiente**.</span><span class="sxs-lookup"><span data-stu-id="d93b6-208">After the correct proxy is selected, click **Next**.</span></span>  
  
10. <span data-ttu-id="d93b6-209">Para configurar los conjuntos de recopilación del sistema, compruebe los **conjuntos de recopilación del sistema** y haga clic en **siguiente**.</span><span class="sxs-lookup"><span data-stu-id="d93b6-209">To configure System Collection Sets, check **System Collection Sets** and click **Next**.</span></span>  
  
11. <span data-ttu-id="d93b6-210">Compruebe las selecciones.</span><span class="sxs-lookup"><span data-stu-id="d93b6-210">Verify the selections.</span></span> <span data-ttu-id="d93b6-211">Haga clic en **atrás** para modificar la configuración.</span><span class="sxs-lookup"><span data-stu-id="d93b6-211">Click **Back** to modify the settings.</span></span> <span data-ttu-id="d93b6-212">Clicck **Finalizar** cuando haya terminado.</span><span class="sxs-lookup"><span data-stu-id="d93b6-212">Clicck **Finish** when done.</span></span>  
  
 <span data-ttu-id="d93b6-213">Los conjuntos de recopilación de datos deben estar configurados ahora y ejecutándose en la instancia.</span><span class="sxs-lookup"><span data-stu-id="d93b6-213">Data collection sets should now be configured and running on your instance.</span></span>  
  
### <a name="generate-reports"></a><span data-ttu-id="d93b6-214">Generar informes</span><span class="sxs-lookup"><span data-stu-id="d93b6-214">Generate Reports</span></span>  
 <span data-ttu-id="d93b6-215">Puede generar informes de análisis de rendimiento de transacciones haciendo clic con el botón secundario en la base de datos del almacén de administración de datos y seleccionando **informes**, **almacén de administración de datos**y, a continuación, **información general de análisis de rendimiento de transacciones**.</span><span class="sxs-lookup"><span data-stu-id="d93b6-215">You can generate transaction performance analysis reports by right clicking the database of the Management Data Warehouse and selecting **Reports**, then **Management Data Warehouse**, and then **Transaction Performance Analysis Overview**.</span></span>  
  
 <span data-ttu-id="d93b6-216">El informe recopila información sobre todas las bases de datos de usuario en el servidor de la carga de trabajo.</span><span class="sxs-lookup"><span data-stu-id="d93b6-216">The report collects information about all user databases on the workload server.</span></span> <span data-ttu-id="d93b6-217">Si la base de datos del almacén de administración de datos (MDW) se encuentra en el equipo local, verá las bases de datos MDW en el informe.</span><span class="sxs-lookup"><span data-stu-id="d93b6-217">If your Management Data Warehouse (MDW) database is on the local computer, you will see the MDW database(s) in the report.</span></span>  
  
 <span data-ttu-id="d93b6-218">Un procedimiento almacenado con un proporción alta de tiempo de CPU/tiempo transcurrido es un candidato a la migración.</span><span class="sxs-lookup"><span data-stu-id="d93b6-218">A stored procedure with high ratio of CPU time to elapsed time is a candidate for migration.</span></span> <span data-ttu-id="d93b6-219">El informe muestra todas las referencias de tabla, ya que los procedimientos almacenados compilados de forma nativa solo pueden hacer referencia a tablas optimizadas para memoria, que pueden incrementar el costo de la migración.</span><span class="sxs-lookup"><span data-stu-id="d93b6-219">The report shows all table references, because natively compiled stored procedures can only reference memory-optimized tables, which can add to the migration cost.</span></span>  
  
 <span data-ttu-id="d93b6-220">El informe de detalles de una tabla consta de tres secciones:</span><span class="sxs-lookup"><span data-stu-id="d93b6-220">The details report for a table consists of three sections:</span></span>  
  
-   <span data-ttu-id="d93b6-221">Sección de estadísticas de recorrido</span><span class="sxs-lookup"><span data-stu-id="d93b6-221">Scan Statistics Section</span></span>  
  
     <span data-ttu-id="d93b6-222">Esta sección incluye una única tabla que muestra las estadísticas recopiladas acerca de los recorridos en la tabla de base de datos.</span><span class="sxs-lookup"><span data-stu-id="d93b6-222">This section includes a single table that shows the statistics that were collected about scans on the database table.</span></span> <span data-ttu-id="d93b6-223">Las columnas son:</span><span class="sxs-lookup"><span data-stu-id="d93b6-223">The columns are:</span></span>  
  
    -   <span data-ttu-id="d93b6-224">Porcentaje de accesos en total.</span><span class="sxs-lookup"><span data-stu-id="d93b6-224">Percent of total accesses.</span></span> <span data-ttu-id="d93b6-225">El porcentaje de recorridos y de búsquedas en esta tabla con respecto a la actividad de toda la base de datos.</span><span class="sxs-lookup"><span data-stu-id="d93b6-225">The percentage of scans and seeks on this table with respect to the activity of the entire database.</span></span> <span data-ttu-id="d93b6-226">Cuanto mayor sea el porcentaje, más se usa la tabla en comparación con otras de la base de datos.</span><span class="sxs-lookup"><span data-stu-id="d93b6-226">The higher this percentage, the more heavily used the table is compared to other tables in the database.</span></span>  
  
    -   <span data-ttu-id="d93b6-227">Estadísticas de búsqueda y de recorrido de intervalos.</span><span class="sxs-lookup"><span data-stu-id="d93b6-227">Lookup Statistics/Range Scan Statistics.</span></span> <span data-ttu-id="d93b6-228">Esta columna registra el número de búsquedas de puntos y de recorridos de intervalo (recorridos de índice y recorridos de tabla) realizados en la tabla durante la generación de perfiles.</span><span class="sxs-lookup"><span data-stu-id="d93b6-228">This column records the number of point lookups and range scans (index scans and table scans) conducted on the table during profiling.</span></span> <span data-ttu-id="d93b6-229">El promedio por transacción es una estimación.</span><span class="sxs-lookup"><span data-stu-id="d93b6-229">Average per transaction is an estimate.</span></span>  
  
    -   <span data-ttu-id="d93b6-230">Mejora de la interoperabilidad y mejora nativa.</span><span class="sxs-lookup"><span data-stu-id="d93b6-230">Interop Gain and Native Gain.</span></span> <span data-ttu-id="d93b6-231">Estas columnas estiman el grado de mejora en el rendimiento que tendrían una búsqueda o un recorrido de intervalo si la tabla se convirtiera en una tabla optimizada para memoria.</span><span class="sxs-lookup"><span data-stu-id="d93b6-231">These columns estimate the amount of performance benefit a point lookup or range scan would have if the table is converted to a memory-optimized table.</span></span>  
  
-   <span data-ttu-id="d93b6-232">Sección de estadísticas de contención</span><span class="sxs-lookup"><span data-stu-id="d93b6-232">Contention Statistics Section</span></span>  
  
     <span data-ttu-id="d93b6-233">Esta sección incluye una tabla que muestra la contención en la tabla de base de datos.</span><span class="sxs-lookup"><span data-stu-id="d93b6-233">This section includes a table that shows contention on the database table.</span></span> <span data-ttu-id="d93b6-234">Para obtener más información sobre bloqueos y bloqueos temporales de base de datos, consulte [arquitectura de bloqueo](https://msdn.microsoft.com/library/aa224738\(v=sql.80\).aspx).</span><span class="sxs-lookup"><span data-stu-id="d93b6-234">For more information regarding database latches and locks, please see [Locking Architecture](https://msdn.microsoft.com/library/aa224738\(v=sql.80\).aspx).</span></span> <span data-ttu-id="d93b6-235">Estas son sus columnas:</span><span class="sxs-lookup"><span data-stu-id="d93b6-235">The columns are as follows:</span></span>  
  
    -   <span data-ttu-id="d93b6-236">Porcentaje de esperas en total.</span><span class="sxs-lookup"><span data-stu-id="d93b6-236">Percent of total waits.</span></span> <span data-ttu-id="d93b6-237">El porcentaje de esperas por bloqueos y bloqueos temporales en esta tabla de base de datos en comparación con la actividad de la base de datos.</span><span class="sxs-lookup"><span data-stu-id="d93b6-237">The percentage of latch and lock waits on this database table compared to activity of the database.</span></span> <span data-ttu-id="d93b6-238">Cuanto mayor sea el porcentaje, más se usa la tabla en comparación con otras de la base de datos.</span><span class="sxs-lookup"><span data-stu-id="d93b6-238">The higher this percentage, the more heavily used the table is compared to other tables in the database.</span></span>  
  
    -   <span data-ttu-id="d93b6-239">Estadísticas de bloqueos temporales.</span><span class="sxs-lookup"><span data-stu-id="d93b6-239">Latch Statistics.</span></span> <span data-ttu-id="d93b6-240">Estas columnas registran el número de esperas por bloqueos temporales para las consultas que implican a esta tabla.</span><span class="sxs-lookup"><span data-stu-id="d93b6-240">These columns record the number of latch waits for queries involving for this table.</span></span> <span data-ttu-id="d93b6-241">Para obtener información acerca de los bloqueos temporales, consulte [bloqueo temporal](https://msdn.microsoft.com/library/aa224727\(v=SQL.80\).aspx).</span><span class="sxs-lookup"><span data-stu-id="d93b6-241">For information on latches, see [Latching](https://msdn.microsoft.com/library/aa224727\(v=SQL.80\).aspx).</span></span> <span data-ttu-id="d93b6-242">Cuanto mayor sea este número, más contención por bloqueos temporales hay en la tabla.</span><span class="sxs-lookup"><span data-stu-id="d93b6-242">The higher this number, the more latch contention on the table.</span></span>  
  
    -   <span data-ttu-id="d93b6-243">Estadísticas de bloqueos.</span><span class="sxs-lookup"><span data-stu-id="d93b6-243">Lock Statistics.</span></span> <span data-ttu-id="d93b6-244">Este grupo de columnas registra el número de esperas y de adquisiciones de bloqueos de página para las consultas de esta tabla.</span><span class="sxs-lookup"><span data-stu-id="d93b6-244">This group of columns record the number of page lock acquisitions and waits for queries for this table.</span></span> <span data-ttu-id="d93b6-245">Para obtener más información sobre los bloqueos, vea [Descripción del bloqueo en SQL Server](https://msdn.microsoft.com/library/aa213039\(v=SQL.80\).aspx).</span><span class="sxs-lookup"><span data-stu-id="d93b6-245">For more information on locks, see [Understanding Locking in SQL Server](https://msdn.microsoft.com/library/aa213039\(v=SQL.80\).aspx).</span></span> <span data-ttu-id="d93b6-246">Cuantas más esperas hay, más contención por bloqueos se producen en la tabla.</span><span class="sxs-lookup"><span data-stu-id="d93b6-246">The more waits, the more lock contention on the table.</span></span>  
  
-   <span data-ttu-id="d93b6-247">Sección de dificultades de migración</span><span class="sxs-lookup"><span data-stu-id="d93b6-247">Migration Difficulties Section</span></span>  
  
     <span data-ttu-id="d93b6-248">Esta sección incluye una tabla que muestra las dificultades de convertir esta tabla de base de datos en una tabla optimizada para memoria.</span><span class="sxs-lookup"><span data-stu-id="d93b6-248">This section includes a table that shows the difficulty of converting this database table to a memory-optimized table.</span></span> <span data-ttu-id="d93b6-249">Una clasificación de mayor dificultad indica que convertir la tabla es más difícil.</span><span class="sxs-lookup"><span data-stu-id="d93b6-249">A higher difficulty rating indicates more difficultly to convert the table.</span></span> <span data-ttu-id="d93b6-250">Para ver los detalles para convertir esta tabla de base de datos, use el [Asesor de optimización de memoria](memory-optimization-advisor.md).</span><span class="sxs-lookup"><span data-stu-id="d93b6-250">To see details to convert this database table, please use the [Memory Optimization Advisor](memory-optimization-advisor.md).</span></span>  
  
 <span data-ttu-id="d93b6-251">Las estadísticas de análisis y contención en el informe de detalles de la tabla se recopilan y se agregan desde [Sys. dm_db_index_operational_stats &#40;&#41;de Transact-SQL ](/sql/relational-databases/system-dynamic-management-views/sys-dm-db-index-operational-stats-transact-sql).</span><span class="sxs-lookup"><span data-stu-id="d93b6-251">Scan and contention statistics on the table details report is gathered and aggregated from [sys.dm_db_index_operational_stats &#40;Transact-SQL&#41;](/sql/relational-databases/system-dynamic-management-views/sys-dm-db-index-operational-stats-transact-sql).</span></span>  
  
 <span data-ttu-id="d93b6-252">El informe de detalles de un procedimiento almacenado consta de dos secciones:</span><span class="sxs-lookup"><span data-stu-id="d93b6-252">The details report for a stored procedure consists of two sections:</span></span>  
  
-   <span data-ttu-id="d93b6-253">Sección de estadísticas de ejecución</span><span class="sxs-lookup"><span data-stu-id="d93b6-253">Execution Statistics Section</span></span>  
  
     <span data-ttu-id="d93b6-254">Esta sección incluye una tabla en la que se muestran las estadísticas recopiladas sobre las ejecuciones del procedimiento almacenado.</span><span class="sxs-lookup"><span data-stu-id="d93b6-254">This section includes a table that shows the statistics that were collected about the stored procedure's executions.</span></span> <span data-ttu-id="d93b6-255">Estas son sus columnas:</span><span class="sxs-lookup"><span data-stu-id="d93b6-255">The columns are as follows:</span></span>  
  
    -   <span data-ttu-id="d93b6-256">Tiempo en caché.</span><span class="sxs-lookup"><span data-stu-id="d93b6-256">Cached Time.</span></span> <span data-ttu-id="d93b6-257">El tiempo que se almacena en caché este plan de ejecución.</span><span class="sxs-lookup"><span data-stu-id="d93b6-257">The time this execution plan is cached.</span></span> <span data-ttu-id="d93b6-258">Si el procedimiento almacenado se sale de la memoria caché de planes y vuelve a entrar, habrá datos para cada caché.</span><span class="sxs-lookup"><span data-stu-id="d93b6-258">If the stored procedure drops out of the plan cache and re-enters, there will be times for each cache.</span></span>  
  
    -   <span data-ttu-id="d93b6-259">Tiempo total de CPU.</span><span class="sxs-lookup"><span data-stu-id="d93b6-259">Total CPU Time.</span></span> <span data-ttu-id="d93b6-260">El tiempo total de CPU que el procedimiento almacenado usó durante la generación de perfiles.</span><span class="sxs-lookup"><span data-stu-id="d93b6-260">The total CPU time that the stored procedure consumed during profiling.</span></span> <span data-ttu-id="d93b6-261">Cuanto mayor es este número, más CPU usó el procedimiento almacenado.</span><span class="sxs-lookup"><span data-stu-id="d93b6-261">The higher this number, the more CPU the stored procedure used.</span></span>  
  
    -   <span data-ttu-id="d93b6-262">Tiempo total de ejecución.</span><span class="sxs-lookup"><span data-stu-id="d93b6-262">Total Execution Time.</span></span> <span data-ttu-id="d93b6-263">El tiempo total de ejecución que el procedimiento almacenado usó durante la generación de perfiles.</span><span class="sxs-lookup"><span data-stu-id="d93b6-263">The total amount of execution time the stored procedure used during profiling.</span></span> <span data-ttu-id="d93b6-264">Cuanto más alta es la diferencia entre este número y el tiempo de CPU, menos eficiente es el procedimiento almacenado en el uso de la CPU.</span><span class="sxs-lookup"><span data-stu-id="d93b6-264">The higher the difference between this number and the CPU time is, the less efficiently the stored procedure is using the CPU.</span></span>  
  
    -   <span data-ttu-id="d93b6-265">Total de errores de caché.</span><span class="sxs-lookup"><span data-stu-id="d93b6-265">Total Cache Missed.</span></span> <span data-ttu-id="d93b6-266">El número de errores de caché (lecturas del almacenamiento físico) que se debe a las ejecuciones del procedimiento almacenado durante la generación de perfiles.</span><span class="sxs-lookup"><span data-stu-id="d93b6-266">The number of cache misses (reads from physical storage) that is caused by the stored procedure's executions during profiling.</span></span>  
  
    -   <span data-ttu-id="d93b6-267">Recuento de ejecución.</span><span class="sxs-lookup"><span data-stu-id="d93b6-267">Execution Count.</span></span> <span data-ttu-id="d93b6-268">El número de veces que este procedimiento almacenado se ha ejecutado durante la generación de perfiles.</span><span class="sxs-lookup"><span data-stu-id="d93b6-268">The number of times this stored procedure executed during profiling.</span></span>  
  
-   <span data-ttu-id="d93b6-269">Sección de referencias de tabla</span><span class="sxs-lookup"><span data-stu-id="d93b6-269">Table References Section</span></span>  
  
     <span data-ttu-id="d93b6-270">Esta sección incluye una tabla que muestra las tablas a las que este procedimiento almacenado hace referencia.</span><span class="sxs-lookup"><span data-stu-id="d93b6-270">This section includes a table that shows the tables to which this stored procedure refers.</span></span> <span data-ttu-id="d93b6-271">Antes de convertir el procedimiento almacenado en un procedimiento almacenado compilado de forma nativa, todas estas tablas deben convertirse en tablas optimizadas para memoria y deben permanecer en el mismo servidor y base de datos.</span><span class="sxs-lookup"><span data-stu-id="d93b6-271">Before converting the stored procedure into a natively compiled stored procedure, all of these tables must be converted to memory-optimized tables, and they must stay on the same server and database.</span></span>  
  
 <span data-ttu-id="d93b6-272">Las estadísticas de ejecución del informe de detalles del procedimiento almacenado se recopilan y se agregan desde [Sys. dm_exec_procedure_stats &#40;&#41;de Transact-SQL ](/sql/relational-databases/system-dynamic-management-views/sys-dm-exec-procedure-stats-transact-sql).</span><span class="sxs-lookup"><span data-stu-id="d93b6-272">Execution Statistics on the stored procedure details report is gathered and aggregated from [sys.dm_exec_procedure_stats &#40;Transact-SQL&#41;](/sql/relational-databases/system-dynamic-management-views/sys-dm-exec-procedure-stats-transact-sql).</span></span> <span data-ttu-id="d93b6-273">Las referencias se obtienen de [Sys. sql_expression_dependencies &#40;&#41;de Transact-SQL ](/sql/relational-databases/system-catalog-views/sys-sql-expression-dependencies-transact-sql).</span><span class="sxs-lookup"><span data-stu-id="d93b6-273">The references are obtained from [sys.sql_expression_dependencies &#40;Transact-SQL&#41;](/sql/relational-databases/system-catalog-views/sys-sql-expression-dependencies-transact-sql).</span></span>  
  
 <span data-ttu-id="d93b6-274">Para ver detalles sobre cómo convertir un procedimiento almacenado en un procedimiento almacenado compilado de forma nativa, use el [Asistente de compilación nativa](native-compilation-advisor.md).</span><span class="sxs-lookup"><span data-stu-id="d93b6-274">To see details about how to convert a stored procedure to a natively compiled stored procedure, please use the [Native Compilation Advisor](native-compilation-advisor.md).</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="d93b6-275">Consulte también</span><span class="sxs-lookup"><span data-stu-id="d93b6-275">See Also</span></span>  
 [<span data-ttu-id="d93b6-276">Migrar a OLTP en memoria</span><span class="sxs-lookup"><span data-stu-id="d93b6-276">Migrating to In-Memory OLTP</span></span>](migrating-to-in-memory-oltp.md)  
  
  
