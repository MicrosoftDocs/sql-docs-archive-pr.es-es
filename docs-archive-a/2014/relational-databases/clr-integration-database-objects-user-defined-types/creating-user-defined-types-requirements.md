---
title: Requisitos de tipos definidos por el usuario | Microsoft Docs
ms.custom: ''
ms.date: 06/13/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: clr
ms.topic: reference
helpviewer_keywords:
- UDTs [CLR integration], requirements
- serialization
- Native serialization format [CLR integration]
- attributes [CLR integration]
- XML serialization [CLR integration]
- user-defined types [CLR integration], requirements
- user-defined serialization [CLR integration]
- user-defined types [CLR integration], Native serialization
- UDTs [CLR integration], Native serialization
ms.assetid: bedc3372-50eb-40f2-bcf2-d6db6a63b7e6
author: rothja
ms.author: jroth
ms.openlocfilehash: d4e692a4523829713cd95daf62374f84a74b6584
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 08/04/2020
ms.locfileid: "87669711"
---
# <a name="user-defined-type-requirements"></a><span data-ttu-id="69d18-102">Requisitos de tipos definidos por el usuario</span><span class="sxs-lookup"><span data-stu-id="69d18-102">User-Defined Type Requirements</span></span>
  <span data-ttu-id="69d18-103">Debe tomar varias decisiones de diseño importantes al crear un tipo definido por el usuario (UDT) que se va a instalar en [!INCLUDE[msCoName](../../includes/msconame-md.md)] [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] .</span><span class="sxs-lookup"><span data-stu-id="69d18-103">You must make several important design decisions when creating a user-defined type (UDT) to be installed in [!INCLUDE[msCoName](../../includes/msconame-md.md)][!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)].</span></span> <span data-ttu-id="69d18-104">Para la mayoría de los UDT, se recomienda la creación del UDT como una estructura, aunque también puede crearse como una clase.</span><span class="sxs-lookup"><span data-stu-id="69d18-104">For most UDTs, creating the UDT as a structure is recommended, although creating it as a class is also an option.</span></span> <span data-ttu-id="69d18-105">La definición del UDT debe cumplir las especificaciones de creación de los UDT a fin de registrarse con [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)].</span><span class="sxs-lookup"><span data-stu-id="69d18-105">The UDT definition must conform to the specifications for creating UDTs in order for it to be registered with [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)].</span></span>  
  
## <a name="requirements-for-implementing-udts"></a><span data-ttu-id="69d18-106">Requisitos para implementar un UDT</span><span class="sxs-lookup"><span data-stu-id="69d18-106">Requirements for Implementing UDTs</span></span>  
 <span data-ttu-id="69d18-107">El UDT, para poder ejecutarse en [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)], debe implementar los requisitos siguientes en la definición del UDT:</span><span class="sxs-lookup"><span data-stu-id="69d18-107">To run in [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)], your UDT must implement the following requirements in the UDT definition:</span></span>  
  
 <span data-ttu-id="69d18-108">El UDT debe especificar `Microsoft.SqlServer.Server.SqlUserDefinedTypeAttribute`.</span><span class="sxs-lookup"><span data-stu-id="69d18-108">The UDT must specify the `Microsoft.SqlServer.Server.SqlUserDefinedTypeAttribute`.</span></span> <span data-ttu-id="69d18-109">El uso de `System.SerializableAttribute` es opcional, aunque recomendable.</span><span class="sxs-lookup"><span data-stu-id="69d18-109">The use of the `System.SerializableAttribute` is optional, but recommended.</span></span>  
  
-   <span data-ttu-id="69d18-110">El UDT debe implementar la interfaz `System.Data.SqlTypes.INullable` en la clase o estructura mediante la creación de un método público `static` (`Shared` en [!INCLUDE[msCoName](../../includes/msconame-md.md)] Visual Basic) `Null`.</span><span class="sxs-lookup"><span data-stu-id="69d18-110">The UDT must implement the `System.Data.SqlTypes.INullable` interface in the class or structure by creating a public `static` (`Shared` in [!INCLUDE[msCoName](../../includes/msconame-md.md)] Visual Basic) `Null` method.</span></span> [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] <span data-ttu-id="69d18-111">tiene en cuenta el valor NULL de forma predeterminada.</span><span class="sxs-lookup"><span data-stu-id="69d18-111">is null-aware by default.</span></span> <span data-ttu-id="69d18-112">Esto es necesario para que el código que se ejecuta en el UDT pueda reconocer un valor NULL.</span><span class="sxs-lookup"><span data-stu-id="69d18-112">This is necessary for code executing in the UDT to be able to recognize a null value.</span></span>  
  
-   <span data-ttu-id="69d18-113">El UDT debe contener un método `static` (o `Shared`) `Parse` público que admita el análisis y un método `ToString` público para la conversión en una representación de cadena del objeto.</span><span class="sxs-lookup"><span data-stu-id="69d18-113">The UDT must contain a public `static` (or `Shared`) `Parse` method that supports parsing from, and a public `ToString` method for converting to a string representation of the object.</span></span>  
  
-   <span data-ttu-id="69d18-114">Un UDT con un formato de serialización definido por el usuario debe implementar la interfaz `System.Data.IBinarySerialize` y proporcionar un método `Read` y `Write`.</span><span class="sxs-lookup"><span data-stu-id="69d18-114">A UDT with a user-defined serialization format must implement the `System.Data.IBinarySerialize` interface and provide a `Read` and a `Write` method.</span></span>  
  
-   <span data-ttu-id="69d18-115">El UDT debe implementar `System.Xml.Serialization.IXmlSerializable`, o el tipo de todas las propiedades y campos públicos debe ser serializable como XML o representarse con el atributo `XmlIgnore` si se requiere una invalidación de la serialización estándar.</span><span class="sxs-lookup"><span data-stu-id="69d18-115">The UDT must implement `System.Xml.Serialization.IXmlSerializable`, or all public fields and properties must be of types that are XML serializable or decorated with the `XmlIgnore` attribute if overriding standard serialization is required.</span></span>  
  
-   <span data-ttu-id="69d18-116">Solo debe haber una serialización de un objeto UDT.</span><span class="sxs-lookup"><span data-stu-id="69d18-116">There must be only one serialization of a UDT object.</span></span> <span data-ttu-id="69d18-117">Se produce un error en la validación si las rutinas de serialización o deserialización reconocen más de una representación de un objeto determinado.</span><span class="sxs-lookup"><span data-stu-id="69d18-117">Validation fails if the serialize or deserialize routines recognize more than one representation of a particular object.</span></span>  
  
-   <span data-ttu-id="69d18-118">`SqlUserDefinedTypeAttribute.IsByteOrdered` debe ser `true` para comparar los datos en orden de bytes.</span><span class="sxs-lookup"><span data-stu-id="69d18-118">`SqlUserDefinedTypeAttribute.IsByteOrdered` must be `true` to compare data in byte order.</span></span> <span data-ttu-id="69d18-119">Si no se implementa la interfaz IComparable e `SqlUserDefinedTypeAttribute.IsByteOrdered` es `false`, las comparaciones del orden de bytes no se realizarán correctamente.</span><span class="sxs-lookup"><span data-stu-id="69d18-119">If the IComparable interface is not implemented and `SqlUserDefinedTypeAttribute.IsByteOrdered` is `false`, byte order comparisons will fail.</span></span>  
  
-   <span data-ttu-id="69d18-120">Un UDT definido en una clase debe tener un constructor público que no tome ningún argumento.</span><span class="sxs-lookup"><span data-stu-id="69d18-120">A UDT defined in a class must have a public constructor that takes no arguments.</span></span> <span data-ttu-id="69d18-121">Si lo desea, puede crear otros constructores de clase sobrecargados.</span><span class="sxs-lookup"><span data-stu-id="69d18-121">You can optionally create additional overloaded class constructors.</span></span>  
  
-   <span data-ttu-id="69d18-122">El UDT debe exponer elementos de datos como procedimientos de propiedad o campos públicos.</span><span class="sxs-lookup"><span data-stu-id="69d18-122">The UDT must expose data elements as public fields or property procedures.</span></span>  
  
-   <span data-ttu-id="69d18-123">Los nombres públicos no pueden tener más de 128 caracteres y deben ajustarse a las [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] reglas de nomenclatura para los identificadores tal y como se definen en los [identificadores de base de datos](../databases/database-identifiers.md).</span><span class="sxs-lookup"><span data-stu-id="69d18-123">Public names cannot be longer than 128 characters, and must conform to the [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] naming rules for identifiers as defined in [Database Identifiers](../databases/database-identifiers.md).</span></span>  
  
-   <span data-ttu-id="69d18-124">Las columnas `sql_variant` no pueden contener instancias de un UDT.</span><span class="sxs-lookup"><span data-stu-id="69d18-124">`sql_variant` columns cannot contain instances of a UDT.</span></span>  
  
-   <span data-ttu-id="69d18-125">Los miembros heredados no son accesibles desde [!INCLUDE[tsql](../../includes/tsql-md.md)] porque el sistema de tipos [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] no es consciente de la jerarquía de herencia entre los UDT.</span><span class="sxs-lookup"><span data-stu-id="69d18-125">Inherited members are not accessible from [!INCLUDE[tsql](../../includes/tsql-md.md)] because the [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] type system is not aware of the inheritance hierarchy among UDTs.</span></span> <span data-ttu-id="69d18-126">Sin embargo, puede usar la herencia al estructurar sus clases y puede llamar a dichos métodos en la implementación del código administrado del tipo.</span><span class="sxs-lookup"><span data-stu-id="69d18-126">However, you can use inheritance when you structure your classes and you can call such methods in the managed code implementation of the type.</span></span>  
  
-   <span data-ttu-id="69d18-127">No es posible sobrecargar los miembros, salvo el constructor de clase.</span><span class="sxs-lookup"><span data-stu-id="69d18-127">Members cannot be overloaded, except for the class constructor.</span></span> <span data-ttu-id="69d18-128">Si crea un método sobrecargado, no se produce ningún error al registrar el ensamblado o crear el tipo en [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)].</span><span class="sxs-lookup"><span data-stu-id="69d18-128">If you do create an overloaded method, no error is raised when you register the assembly or create the type in [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)].</span></span> <span data-ttu-id="69d18-129">La detección del método sobrecargado se produce en tiempo de ejecución, no cuando se crea el tipo.</span><span class="sxs-lookup"><span data-stu-id="69d18-129">Detection of the overloaded method occurs at run time, not when the type is created.</span></span> <span data-ttu-id="69d18-130">Puede haber métodos sobrecargados en la clase siempre y cuando no se invoquen nunca.</span><span class="sxs-lookup"><span data-stu-id="69d18-130">Overloaded methods can exist in the class as long as they are never invoked.</span></span> <span data-ttu-id="69d18-131">Al invocar al método sobrecargado se produce un error.</span><span class="sxs-lookup"><span data-stu-id="69d18-131">Once you invoke the overloaded method, an error is raised.</span></span>  
  
-   <span data-ttu-id="69d18-132">Los miembros `static` (o `Shared`) deben declararse como constantes o como de solo lectura.</span><span class="sxs-lookup"><span data-stu-id="69d18-132">Any `static` (or `Shared`) members must be declared as constants or as read-only.</span></span> <span data-ttu-id="69d18-133">Los miembros estáticos no pueden ser mutables.</span><span class="sxs-lookup"><span data-stu-id="69d18-133">Static members cannot be mutable.</span></span>  
  
-   <span data-ttu-id="69d18-134">Si el campo `SqlUserDefinedTypeAttribute.MaxByteSize` está establecido en -1, el UDT serializado puede ser tan grande como el límite de tamaño de un objeto grande (LOB), que actualmente es de 2 GB.</span><span class="sxs-lookup"><span data-stu-id="69d18-134">If the `SqlUserDefinedTypeAttribute.MaxByteSize` field is set to -1, the serialized UDT can be as large as the large object (LOB) size limit (currently 2 GB).</span></span> <span data-ttu-id="69d18-135">El tamaño del UDT no puede superar el valor especificado en el campo `MaxByteSized`.</span><span class="sxs-lookup"><span data-stu-id="69d18-135">The size of the UDT cannot exceed the value specified in the `MaxByteSized` field.</span></span>  
  
> [!NOTE]  
>  <span data-ttu-id="69d18-136">Aunque el servidor no la usa para realizar comparaciones, también puede implementar la interfaz `System.IComparable`, que expone un método único, `CompareTo`.</span><span class="sxs-lookup"><span data-stu-id="69d18-136">Although it is not used by the server for performing comparisons, you can optionally implement the `System.IComparable` interface, which exposes a single method, `CompareTo`.</span></span> <span data-ttu-id="69d18-137">Se usa del lado cliente en situaciones en las que se desean realizar comparaciones precisas u ordenar los valores UDT.</span><span class="sxs-lookup"><span data-stu-id="69d18-137">This is used on the client side in situations in which it is desirable to accurately compare or order UDT values.</span></span>  
  
## <a name="native-serialization"></a><span data-ttu-id="69d18-138">Serialización nativa</span><span class="sxs-lookup"><span data-stu-id="69d18-138">Native Serialization</span></span>  
 <span data-ttu-id="69d18-139">La elección de los atributos de serialización correctos para su UDT depende del tipo de UDT que está intentando crear.</span><span class="sxs-lookup"><span data-stu-id="69d18-139">Choosing the right serialization attributes for your UDT depends on the type of UDT you are trying to create.</span></span> <span data-ttu-id="69d18-140">El formato de serialización `Native` usa una estructura muy simple que permite a [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] almacenar en disco una representación nativa eficaz del UDT.</span><span class="sxs-lookup"><span data-stu-id="69d18-140">The `Native` serialization format utilizes a very simple structure that enables [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] to store an efficient native representation of the UDT on disk.</span></span> <span data-ttu-id="69d18-141">Se recomienda el formato `Native` si el UDT es simple y solamente contiene campos de los tipos siguientes:</span><span class="sxs-lookup"><span data-stu-id="69d18-141">The `Native` format is recommended if the UDT is simple and only contains fields of the following types:</span></span>  
  
 <span data-ttu-id="69d18-142">**bool**, **byte**, **SByte**, **Short**, **ushort**, **int**, **uint**, **Long**, **ULong**, **float**, **Double**, **SqlByte**, **SqlInt16**, **SqlInt32**, **SqlInt64**, **SqlDateTime**, **SqlSingle**, **SqlDouble**, **SqlMoney**, **SqlBoolean**</span><span class="sxs-lookup"><span data-stu-id="69d18-142">**bool**, **byte**, **sbyte**, **short**, **ushort**, **int**, **uint**, **long**, **ulong**, **float**, **double**, **SqlByte**, **SqlInt16**, **SqlInt32**, **SqlInt64**, **SqlDateTime**, **SqlSingle**, **SqlDouble**, **SqlMoney**, **SqlBoolean**</span></span>  
  
 <span data-ttu-id="69d18-143">Los tipos de valor que se componen de los campos de los tipos anteriores son buenos candidatos para el `Native` formato, como `structs` en Visual C#, (o `Structures` tal como se conocen en Visual Basic).</span><span class="sxs-lookup"><span data-stu-id="69d18-143">Value types that are composed of fields of the above types are good candidates for `Native` format, such as `structs` in Visual C#, (or `Structures` as they are known in Visual Basic).</span></span> <span data-ttu-id="69d18-144">Por ejemplo, un UDT especificado con el formato de serialización `Native` puede contener un campo de otro UDT también especificado con el formato `Native`.</span><span class="sxs-lookup"><span data-stu-id="69d18-144">For example, a UDT specified with the `Native` serialization format may contain a field of another UDT that was also specified with the `Native` format.</span></span> <span data-ttu-id="69d18-145">Si la definición UDT es más compleja y contiene tipos de datos que no figuran en la lista anterior, debe especificar en su lugar el formato de serialización `UserDefined`.</span><span class="sxs-lookup"><span data-stu-id="69d18-145">If the UDT definition is more complex and contains data types not on the above list, you must specify the `UserDefined` serialization format instead.</span></span>  
  
 <span data-ttu-id="69d18-146">El formato `Native` tiene los siguientes requisitos:</span><span class="sxs-lookup"><span data-stu-id="69d18-146">The `Native` format has the following requirements:</span></span>  
  
-   <span data-ttu-id="69d18-147">El tipo no debe especificar un valor para `Microsoft.SqlServer.Server.SqlUserDefinedTypeAttribute.MaxByteSize`.</span><span class="sxs-lookup"><span data-stu-id="69d18-147">The type must not specify a value for `Microsoft.SqlServer.Server.SqlUserDefinedTypeAttribute.MaxByteSize`.</span></span>  
  
-   <span data-ttu-id="69d18-148">Todos los campos deben ser serializables.</span><span class="sxs-lookup"><span data-stu-id="69d18-148">All fields must be serializable.</span></span>  
  
-   <span data-ttu-id="69d18-149">Debe especificarse `System.Runtime.InteropServices.StructLayoutAttribute` como `StructLayout.LayoutKindSequential` si el UDT se define en una clase y no en una estructura.</span><span class="sxs-lookup"><span data-stu-id="69d18-149">The `System.Runtime.InteropServices.StructLayoutAttribute` must be specified as `StructLayout.LayoutKindSequential` if the UDT is defined in a class and not a structure.</span></span> <span data-ttu-id="69d18-150">Este atributo controla el diseño físico de los campos de datos y se usa para imponer a los miembros que se coloquen en el orden en que aparecen.</span><span class="sxs-lookup"><span data-stu-id="69d18-150">This attribute controls the physical layout of the data fields and is used to force the members to be laid out in the order in which they appear.</span></span> [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] <span data-ttu-id="69d18-151">usa este atributo para determinar el orden de los campos para los UDT con varios valores.</span><span class="sxs-lookup"><span data-stu-id="69d18-151">uses this attribute to determine the field order for UDTs with multiple values.</span></span>  
  
 <span data-ttu-id="69d18-152">Para obtener un ejemplo de un UDT definido con `Native` serialización, vea el UDT Point en [codificar tipos definidos por el usuario](creating-user-defined-types-coding.md).</span><span class="sxs-lookup"><span data-stu-id="69d18-152">For an example of a UDT defined with `Native` serialization, see the Point UDT in [Coding User-Defined Types](creating-user-defined-types-coding.md).</span></span>  
  
## <a name="userdefined-serialization"></a><span data-ttu-id="69d18-153">Serialización UserDefined</span><span class="sxs-lookup"><span data-stu-id="69d18-153">UserDefined Serialization</span></span>  
 <span data-ttu-id="69d18-154">La configuración de formato `UserDefined` del atributo `Microsoft.SqlServer.Server.SqlUserDefinedTypeAttribute` otorga al desarrollador un control total sobre el formato binario.</span><span class="sxs-lookup"><span data-stu-id="69d18-154">The `UserDefined` format setting for the `Microsoft.SqlServer.Server.SqlUserDefinedTypeAttribute` attribute gives the developer full control over the binary format.</span></span> <span data-ttu-id="69d18-155">Al especificar la propiedad de atributo `Format` como `UserDefined`, debe hacer lo siguiente en el código:</span><span class="sxs-lookup"><span data-stu-id="69d18-155">When specifying the `Format` attribute property as `UserDefined`, you must do the following in your code:</span></span>  
  
-   <span data-ttu-id="69d18-156">Especificar la propiedad de atributo `IsByteOrdered` opcional.</span><span class="sxs-lookup"><span data-stu-id="69d18-156">Specify the optional `IsByteOrdered` attribute property.</span></span> <span data-ttu-id="69d18-157">El valor predeterminado es `false`.</span><span class="sxs-lookup"><span data-stu-id="69d18-157">The default value is `false`.</span></span>  
  
-   <span data-ttu-id="69d18-158">Especificar la propiedad `MaxByteSize` de `Microsoft.SqlServer.Server.SqlUserDefinedTypeAttribute`.</span><span class="sxs-lookup"><span data-stu-id="69d18-158">Specify the `MaxByteSize` property of the `Microsoft.SqlServer.Server.SqlUserDefinedTypeAttribute`.</span></span>  
  
-   <span data-ttu-id="69d18-159">Escribir código para implementar los métodos `Read` y `Write` del UDT implementando la interfaz `System.Data.Sql.IBinarySerialize`.</span><span class="sxs-lookup"><span data-stu-id="69d18-159">Write code to implement `Read` and `Write` methods for the UDT by implementing the `System.Data.Sql.IBinarySerialize` interface.</span></span>  
  
 <span data-ttu-id="69d18-160">Para obtener un ejemplo de un UDT definido con `UserDefined` serialización, vea el UDT Currency en [codificar tipos definidos por el usuario](creating-user-defined-types-coding.md).</span><span class="sxs-lookup"><span data-stu-id="69d18-160">For an example of a UDT defined with `UserDefined` serialization, see the Currency UDT in [Coding User-Defined Types](creating-user-defined-types-coding.md).</span></span>  
  
> [!NOTE]  
>  <span data-ttu-id="69d18-161">Los campos UDT deben usar la serialización nativa o conservarse para indizarse.</span><span class="sxs-lookup"><span data-stu-id="69d18-161">UDT fields must use native serialization or be persisted in order to be indexed.</span></span>  
  
## <a name="serialization-attributes"></a><span data-ttu-id="69d18-162">Atributos de serialización</span><span class="sxs-lookup"><span data-stu-id="69d18-162">Serialization Attributes</span></span>  
 <span data-ttu-id="69d18-163">Los atributos determinan el modo de usar la serialización para construir la representación de almacenamiento de los UDT y para transmitirlos por valor al cliente.</span><span class="sxs-lookup"><span data-stu-id="69d18-163">Attributes determine how serialization is used to construct the storage representation of UDTs and to transmit UDTs by value to the client.</span></span> <span data-ttu-id="69d18-164">Es necesario que especifique `Microsoft.SqlServer.Server.SqlUserDefinedTypeAttribute` al crear el UDT.</span><span class="sxs-lookup"><span data-stu-id="69d18-164">You are required to specify the `Microsoft.SqlServer.Server.SqlUserDefinedTypeAttribute` when creating the UDT.</span></span> <span data-ttu-id="69d18-165">El atributo `Microsoft.SqlServer.Server.SqlUserDefinedTypeAttribute` indica que la clase es un UDT y especifica el almacenamiento para el UDT.</span><span class="sxs-lookup"><span data-stu-id="69d18-165">The `Microsoft.SqlServer.Server.SqlUserDefinedTypeAttribute` attribute indicates that the class is a UDT and specifies the storage for the UDT.</span></span> <span data-ttu-id="69d18-166">Si lo desea, puede especificar el atributo `Serializable`, aunque [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] no lo requiere.</span><span class="sxs-lookup"><span data-stu-id="69d18-166">You can optionally specify the `Serializable` attribute, although [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] does not require this.</span></span>  
  
 <span data-ttu-id="69d18-167">`Microsoft.SqlServer.Server.SqlUserDefinedTypeAttribute` tiene las siguientes propiedades.</span><span class="sxs-lookup"><span data-stu-id="69d18-167">The `Microsoft.SqlServer.Server.SqlUserDefinedTypeAttribute` has the following properties.</span></span>  
  
 `Format`  
 <span data-ttu-id="69d18-168">Especifica el formato de serialización, que puede ser `Native` o `UserDefined`, en función de los tipos de datos del UDT.</span><span class="sxs-lookup"><span data-stu-id="69d18-168">Specifies the serialization format, which can be `Native` or `UserDefined`, depending on the data types of the UDT.</span></span>  
  
 `IsByteOrdered`  
 <span data-ttu-id="69d18-169">Valor `Boolean` que determina la forma en que [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] realiza comparaciones binarias en el UDT.</span><span class="sxs-lookup"><span data-stu-id="69d18-169">A `Boolean` value that determines how [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] performs binary comparisons on the UDT.</span></span>  
  
 `IsFixedLength`  
 <span data-ttu-id="69d18-170">Indica si todas las instancias de este UDT tienen la misma longitud.</span><span class="sxs-lookup"><span data-stu-id="69d18-170">Indicates whether all instances of this UDT are the same length.</span></span>  
  
 `MaxByteSize`  
 <span data-ttu-id="69d18-171">Tamaño máximo de la instancia, expresado en bytes.</span><span class="sxs-lookup"><span data-stu-id="69d18-171">The maximum size of the instance, in bytes.</span></span> <span data-ttu-id="69d18-172">Es preciso especificar `MaxByteSize` con el formato de serialización `UserDefined`.</span><span class="sxs-lookup"><span data-stu-id="69d18-172">You must specify `MaxByteSize` with the `UserDefined` serialization format.</span></span> <span data-ttu-id="69d18-173">En el caso de un UDT que tenga especificada una serialización definida por el usuario, `MaxByteSize` hace referencia al tamaño total del UDT en su formato serializado, tal y como lo defina el usuario.</span><span class="sxs-lookup"><span data-stu-id="69d18-173">For a UDT with user-defined serialization specified, `MaxByteSize` refers to the total size of the UDT in its serialized form as defined by the user.</span></span> <span data-ttu-id="69d18-174">El valor de `MaxByteSize` debe estar comprendido en el intervalo de 1 a 8000 o estar establecido en -1 para indicar que el UDT es superior a 8000 bytes (el tamaño total no puede superar el tamaño LOB máximo).</span><span class="sxs-lookup"><span data-stu-id="69d18-174">The value of `MaxByteSize` must be in the range of 1 to 8000, or set to -1 to indicate that the UDT is greater than 8000 bytes (the total size cannot exceed the maximum LOB size).</span></span> <span data-ttu-id="69d18-175">Consideremos un UDT en el que la propiedad sea una cadena de 10 caracteres (`System.Char`).</span><span class="sxs-lookup"><span data-stu-id="69d18-175">Consider a UDT with a property of a string of 10 characters (`System.Char`).</span></span> <span data-ttu-id="69d18-176">Cuando el UDT se serialice mediante BinaryWriter, el tamaño total de la cadena serializada será de 22 bytes: 2 bytes por carácter Unicode UTF-16, multiplicados por el número máximo de caracteres, más 2 bytes de control por la sobrecarga que se produce al serializar un flujo binario.</span><span class="sxs-lookup"><span data-stu-id="69d18-176">When the UDT is serialized by using a BinaryWriter, the total size of the serialized string is 22 bytes: 2 bytes per Unicode UTF-16 character, multiplied by the maximum number of characters, plus 2 control bytes of overhead incurred from serializing a binary stream.</span></span> <span data-ttu-id="69d18-177">De modo que, al determinar el valor de `MaxByteSize`, el tamaño total del UDT serializado debe considerarse como el tamaño de los datos serializados en formato binario más la sobrecarga producida por la serialización.</span><span class="sxs-lookup"><span data-stu-id="69d18-177">Therefore, when determining the value of `MaxByteSize`, the total size of the serialized UDT must be considered: the size of the data serialized in binary form plus the overhead incurred by serialization.</span></span>  
  
 `ValidationMethodName`  
 <span data-ttu-id="69d18-178">Nombre del método utilizado para validar las instancias del UDT.</span><span class="sxs-lookup"><span data-stu-id="69d18-178">The name of the method used to validate instances of the UDT.</span></span>  
  
### <a name="setting-isbyteordered"></a><span data-ttu-id="69d18-179">Valor IsByteOrdered</span><span class="sxs-lookup"><span data-stu-id="69d18-179">Setting IsByteOrdered</span></span>  
 <span data-ttu-id="69d18-180">Cuando la propiedad `Microsoft.SqlServer.Server.SqlUserDefinedTypeAttribute.IsByteOrdered` se establece en `true`, se garantiza que los datos binarios serializados puedan usarse para la clasificación semántica de la información.</span><span class="sxs-lookup"><span data-stu-id="69d18-180">When the `Microsoft.SqlServer.Server.SqlUserDefinedTypeAttribute.IsByteOrdered` property is set to `true`, you are in effect guaranteeing that the serialized binary data can be used for semantic ordering of the information.</span></span> <span data-ttu-id="69d18-181">De esta forma, cada instancia de un objeto UDT ordenado por bytes solamente puede tener una representación serializada.</span><span class="sxs-lookup"><span data-stu-id="69d18-181">Thus, each instance of a byte-ordered UDT object can only have one serialized representation.</span></span> <span data-ttu-id="69d18-182">Cuando se lleva a cabo una operación de comparación en [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] en los bytes serializados, los resultados deben ser los mismos que si se hubiese realizado la misma operación de comparación en código administrado.</span><span class="sxs-lookup"><span data-stu-id="69d18-182">When a comparison operation is performed in [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] on the serialized bytes, its results should be the same as if the same comparison operation had taken place in managed code.</span></span> <span data-ttu-id="69d18-183">También se admiten las características siguientes cuando `IsByteOrdered` se establece en `true`:</span><span class="sxs-lookup"><span data-stu-id="69d18-183">The following features are also supported when `IsByteOrdered` is set to `true`:</span></span>  
  
-   <span data-ttu-id="69d18-184">Funcionalidad para crear los índices de las columnas de este tipo.</span><span class="sxs-lookup"><span data-stu-id="69d18-184">The ability to create indexes on columns of this type.</span></span>  
  
-   <span data-ttu-id="69d18-185">Funcionalidad para crear las claves principal y externa, así como las restricciones CHECK y UNIQUE en las columnas de este tipo.</span><span class="sxs-lookup"><span data-stu-id="69d18-185">The ability to create primary and foreign keys as well as CHECK and UNIQUE constraints on columns of this type.</span></span>  
  
-   <span data-ttu-id="69d18-186">Funcionalidad para usar las cláusulas [!INCLUDE[tsql](../../includes/tsql-md.md)] ORDER BY, GROUP BY y PARTITION BY.</span><span class="sxs-lookup"><span data-stu-id="69d18-186">The ability to use [!INCLUDE[tsql](../../includes/tsql-md.md)] ORDER BY, GROUP BY, and PARTITION BY clauses.</span></span> <span data-ttu-id="69d18-187">En estos casos, la representación binaria del tipo se usa para determinar el orden.</span><span class="sxs-lookup"><span data-stu-id="69d18-187">In these cases, the binary representation of the type is used to determine the order.</span></span>  
  
-   <span data-ttu-id="69d18-188">Funcionalidad para usar los operadores de comparación en instrucciones [!INCLUDE[tsql](../../includes/tsql-md.md)].</span><span class="sxs-lookup"><span data-stu-id="69d18-188">The ability to use comparison operators in [!INCLUDE[tsql](../../includes/tsql-md.md)] statements.</span></span>  
  
-   <span data-ttu-id="69d18-189">Funcionalidad para conservar las columnas calculadas de este tipo.</span><span class="sxs-lookup"><span data-stu-id="69d18-189">The ability to persist computed columns of this type.</span></span>  
  
 <span data-ttu-id="69d18-190">Tenga en cuenta que los formatos de serialización `Native` y `UserDefined` admiten los siguientes operadores de comparación cuando `IsByteOrdered` se establece en `true`:</span><span class="sxs-lookup"><span data-stu-id="69d18-190">Note that both the `Native` and `UserDefined` serialization formats support the following comparison operators when `IsByteOrdered` is set to `true`:</span></span>  
  
-   <span data-ttu-id="69d18-191">Igual a (=)</span><span class="sxs-lookup"><span data-stu-id="69d18-191">Equal to (=)</span></span>  
  
-   <span data-ttu-id="69d18-192">Distinto de (!=)</span><span class="sxs-lookup"><span data-stu-id="69d18-192">Not equal to (!=)</span></span>  
  
-   <span data-ttu-id="69d18-193">Mayor que (>)</span><span class="sxs-lookup"><span data-stu-id="69d18-193">Greater than (>)</span></span>  
  
-   <span data-ttu-id="69d18-194">Menor que (\<)</span><span class="sxs-lookup"><span data-stu-id="69d18-194">Less than (\<)</span></span>  
  
-   <span data-ttu-id="69d18-195">Mayor o igual que (>=)</span><span class="sxs-lookup"><span data-stu-id="69d18-195">Greater than or equal to (>=)</span></span>  
  
-   <span data-ttu-id="69d18-196">Menor o igual que (<=)</span><span class="sxs-lookup"><span data-stu-id="69d18-196">Less than or equal to (<=)</span></span>  
  
### <a name="implementing-nullability"></a><span data-ttu-id="69d18-197">Implementar la nulabilidad</span><span class="sxs-lookup"><span data-stu-id="69d18-197">Implementing Nullability</span></span>  
 <span data-ttu-id="69d18-198">Además de especificar correctamente los atributos de los ensamblados, la clase también debe admitir la nulabilidad.</span><span class="sxs-lookup"><span data-stu-id="69d18-198">In addition to specifying the attributes for your assemblies correctly, your class must also support nullability.</span></span> <span data-ttu-id="69d18-199">Se tiene en cuenta el valor NULL de los UDT cargados en [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)], pero para que el UDT reconozca un valor NULL, es necesario que la clase implemente la interfaz `INullable`.</span><span class="sxs-lookup"><span data-stu-id="69d18-199">UDTs loaded into [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] are null-aware, but in order for the UDT to recognize a null value, the class must implement the `INullable` interface.</span></span> <span data-ttu-id="69d18-200">Para obtener más información y un ejemplo de cómo implementar la nulabilidad en un UDT, vea [codificar tipos definidos por el usuario](creating-user-defined-types-coding.md).</span><span class="sxs-lookup"><span data-stu-id="69d18-200">For more information and an example of how to implement nullability in a UDT, see [Coding User-Defined Types](creating-user-defined-types-coding.md).</span></span>  
  
### <a name="string-conversions"></a><span data-ttu-id="69d18-201">Conversiones de cadenas</span><span class="sxs-lookup"><span data-stu-id="69d18-201">String Conversions</span></span>  
 <span data-ttu-id="69d18-202">Para admitir la conversión de cadenas al UDT y desde el UDT, debe proporcionar un método `Parse` y un método `ToString` en la clase.</span><span class="sxs-lookup"><span data-stu-id="69d18-202">To support string conversion to and from the UDT, you must provide a `Parse` method and a `ToString` method in your class.</span></span> <span data-ttu-id="69d18-203">El método `Parse` permite convertir una cadena en un UDT.</span><span class="sxs-lookup"><span data-stu-id="69d18-203">The `Parse` method allows a string to be converted into a UDT.</span></span> <span data-ttu-id="69d18-204">Debe declararse como `static` (o `Shared` en Visual Basic) y tomar un parámetro de tipo `System.Data.SqlTypes.SqlString`.</span><span class="sxs-lookup"><span data-stu-id="69d18-204">It must be declared as `static` (or `Shared` in Visual Basic), and take a parameter of type `System.Data.SqlTypes.SqlString`.</span></span> <span data-ttu-id="69d18-205">Para obtener más información y un ejemplo de cómo implementar los `Parse` `ToString` métodos y, vea [codificar tipos definidos por el usuario](creating-user-defined-types-coding.md).</span><span class="sxs-lookup"><span data-stu-id="69d18-205">For more information and an example of how to implement the `Parse` and `ToString` methods, see [Coding User-Defined Types](creating-user-defined-types-coding.md).</span></span>  
  
## <a name="xml-serialization"></a><span data-ttu-id="69d18-206">Serialización XML</span><span class="sxs-lookup"><span data-stu-id="69d18-206">XML Serialization</span></span>  
 <span data-ttu-id="69d18-207">Los UDT deben admitir la conversión al tipo de datos `xml` y desde el mismo, ajustándose al contrato de la serialización XML.</span><span class="sxs-lookup"><span data-stu-id="69d18-207">UDTs must support conversion to and from the `xml` data type by conforming to the contract for XML serialization.</span></span> <span data-ttu-id="69d18-208">El espacio de nombres `System.Xml.Serialization` contiene clases que se utilizan para serializar objetos en secuencias o documentos con formato XML.</span><span class="sxs-lookup"><span data-stu-id="69d18-208">The `System.Xml.Serialization` namespace contains classes that are used to serialize objects into XML format documents or streams.</span></span> <span data-ttu-id="69d18-209">Puede decidir implementar la serialización `xml` mediante la interfaz `IXmlSerializable`, que proporciona un formato personalizado para la serialización y deserialización XML.</span><span class="sxs-lookup"><span data-stu-id="69d18-209">You can choose to implement `xml` serialization by using the `IXmlSerializable` interface, which provides custom formatting for XML serialization and deserialization.</span></span>  
  
 <span data-ttu-id="69d18-210">Además de realizar conversiones explícitas de UDT a `xml`, la serialización XML permite:</span><span class="sxs-lookup"><span data-stu-id="69d18-210">In addition to performing explicit conversions from UDT to `xml`, XML serialization enables you to:</span></span>  
  
-   <span data-ttu-id="69d18-211">Usar `Xquery` en los valores de instancias UDT, tras la conversión al tipo de datos `xml`.</span><span class="sxs-lookup"><span data-stu-id="69d18-211">Use `Xquery` over values of UDT instances after conversion to the `xml` data type.</span></span>  
  
-   <span data-ttu-id="69d18-212">Usar los UDT en consultas con parámetros y en métodos web con servicios web XML nativos de [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)].</span><span class="sxs-lookup"><span data-stu-id="69d18-212">Use UDTs in parameterized queries and Web methods with Native XML Web Services in [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)].</span></span>  
  
-   <span data-ttu-id="69d18-213">Usar los UDT para recibir una carga masiva de datos XML.</span><span class="sxs-lookup"><span data-stu-id="69d18-213">Use UDTs to receive a bulk load of XML data.</span></span>  
  
-   <span data-ttu-id="69d18-214">Serializar conjuntos de datos que contengan tablas con columnas UDT.</span><span class="sxs-lookup"><span data-stu-id="69d18-214">Serialize DataSets that contain tables with UDT columns.</span></span>  
  
 <span data-ttu-id="69d18-215">Los UDT no se serializan en consultas FOR XML.</span><span class="sxs-lookup"><span data-stu-id="69d18-215">UDTs are not serialized in FOR XML queries.</span></span> <span data-ttu-id="69d18-216">Para ejecutar una consulta FOR XML que muestre la serialización XML de los UDT, convierta explícitamente cada columna UDT al tipo de datos `xml` en la instrucción SELECT.</span><span class="sxs-lookup"><span data-stu-id="69d18-216">To execute a FOR XML query that displays the XML serialization of UDTs, explicitly convert each UDT column to the `xml` data type in the SELECT statement.</span></span> <span data-ttu-id="69d18-217">También puede convertir explícitamente las columnas a `varbinary`, `varchar` o `nvarchar`.</span><span class="sxs-lookup"><span data-stu-id="69d18-217">You can also explicitly convert the columns to `varbinary`, `varchar`, or `nvarchar`.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="69d18-218">Consulte también</span><span class="sxs-lookup"><span data-stu-id="69d18-218">See Also</span></span>  
 [<span data-ttu-id="69d18-219">Crear un tipo definido por el usuario</span><span class="sxs-lookup"><span data-stu-id="69d18-219">Creating a User-Defined Type</span></span>](creating-user-defined-types.md)  
  
  
