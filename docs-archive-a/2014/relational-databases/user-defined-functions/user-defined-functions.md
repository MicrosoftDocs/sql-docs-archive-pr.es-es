---
title: Funciones definidas por el usuario | Microsoft Docs
ms.custom: ''
ms.date: 06/13/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: ''
ms.topic: conceptual
helpviewer_keywords:
- user-defined functions [SQL Server], components
- user-defined functions [SQL Server], about user-defined functions
ms.assetid: d7ddafab-f5a6-44b0-81d5-ba96425aada4
author: rothja
ms.author: jroth
ms.openlocfilehash: c7e4b1a77f2fe5a13e21d8b3fe59e37931669b30
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 08/04/2020
ms.locfileid: "87661856"
---
# <a name="user-defined-functions"></a><span data-ttu-id="4c9ce-102">Funciones definidas por el usuario</span><span class="sxs-lookup"><span data-stu-id="4c9ce-102">User-Defined Functions</span></span>
  <span data-ttu-id="4c9ce-103">Al igual que las funciones de los lenguajes de programación, las funciones definidas por el usuario de [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] son rutinas que aceptan parámetros, realizan una acción, como un cálculo complejo, y devuelven el resultado de esa acción como un valor.</span><span class="sxs-lookup"><span data-stu-id="4c9ce-103">Like functions in programming languages, [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] user-defined functions are routines that accept parameters, perform an action, such as a complex calculation, and return the result of that action as a value.</span></span> <span data-ttu-id="4c9ce-104">El valor devuelto puede ser un valor escalar único o un conjunto de resultados.</span><span class="sxs-lookup"><span data-stu-id="4c9ce-104">The return value can either be a single scalar value or a result set.</span></span>  
  
 <span data-ttu-id="4c9ce-105">**En este tema**</span><span class="sxs-lookup"><span data-stu-id="4c9ce-105">**In This Topic**</span></span>  
  
 [<span data-ttu-id="4c9ce-106">Ventajas de las funciones definidas por el usuario</span><span class="sxs-lookup"><span data-stu-id="4c9ce-106">User-defined Function Benefits</span></span>](#Benefits)  
  
 [<span data-ttu-id="4c9ce-107">Tipos de funciones</span><span class="sxs-lookup"><span data-stu-id="4c9ce-107">Types of Functions</span></span>](#FunctionTypes)  
  
 [<span data-ttu-id="4c9ce-108">Directrices</span><span class="sxs-lookup"><span data-stu-id="4c9ce-108">Guidelines</span></span>](#Guidelines)  
  
 [<span data-ttu-id="4c9ce-109">Instrucciones válidas en una función</span><span class="sxs-lookup"><span data-stu-id="4c9ce-109">Valid Statements in a Function</span></span>](#ValidStatements)  
  
 [<span data-ttu-id="4c9ce-110">Funciones enlazadas a esquemas</span><span class="sxs-lookup"><span data-stu-id="4c9ce-110">Schema Bound Functions</span></span>](#SchemaBound)  
  
 [<span data-ttu-id="4c9ce-111">Especificar parámetros</span><span class="sxs-lookup"><span data-stu-id="4c9ce-111">Specifying Parameters</span></span>](#Parameters)  
  
 [<span data-ttu-id="4c9ce-112">Tareas relacionadas</span><span class="sxs-lookup"><span data-stu-id="4c9ce-112">Related Tasks</span></span>](#Tasks)  
  
##  <a name="user-defined-function-benefits"></a><a name="Benefits"></a><span data-ttu-id="4c9ce-113">Ventajas de las funciones definidas por el usuario</span><span class="sxs-lookup"><span data-stu-id="4c9ce-113">User-defined Function Benefits</span></span>  
 <span data-ttu-id="4c9ce-114">Las ventajas de utilizar las funciones definidas por el usuario en [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] son:</span><span class="sxs-lookup"><span data-stu-id="4c9ce-114">The benefits of using user-defined functions in [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] are:</span></span>  
  
-   <span data-ttu-id="4c9ce-115">Permiten una programación modular.</span><span class="sxs-lookup"><span data-stu-id="4c9ce-115">They allow modular programming.</span></span>  
  
     <span data-ttu-id="4c9ce-116">Puede crear la función una vez, almacenarla en la base de datos y llamarla desde el programa tantas veces como desee.</span><span class="sxs-lookup"><span data-stu-id="4c9ce-116">You can create the function once, store it in the database, and call it any number of times in your program.</span></span> <span data-ttu-id="4c9ce-117">Las funciones definidas por el usuario se pueden modificar, independientemente del código de origen del programa.</span><span class="sxs-lookup"><span data-stu-id="4c9ce-117">User-defined functions can be modified independently of the program source code.</span></span>  
  
-   <span data-ttu-id="4c9ce-118">Permiten una ejecución más rápida.</span><span class="sxs-lookup"><span data-stu-id="4c9ce-118">They allow faster execution.</span></span>  
  
     <span data-ttu-id="4c9ce-119">Al igual que los procedimientos almacenados, las funciones definidas por el usuario [!INCLUDE[tsql](../../includes/tsql-md.md)] reducen el costo de compilación del código [!INCLUDE[tsql](../../includes/tsql-md.md)] almacenando los planes en la caché y reutilizándolos para ejecuciones repetidas.</span><span class="sxs-lookup"><span data-stu-id="4c9ce-119">Similar to stored procedures, [!INCLUDE[tsql](../../includes/tsql-md.md)] user-defined functions reduce the compilation cost of [!INCLUDE[tsql](../../includes/tsql-md.md)] code by caching the plans and reusing them for repeated executions.</span></span> <span data-ttu-id="4c9ce-120">Esto significa que no es necesario volver a analizar y optimizar la función definida por el usuario con cada uso, lo que permite obtener tiempos de ejecución mucho más rápidos.</span><span class="sxs-lookup"><span data-stu-id="4c9ce-120">This means the user-defined function does not need to be reparsed and reoptimized with each use resulting in much faster execution times.</span></span>  
  
     <span data-ttu-id="4c9ce-121">Las funciones CLR ofrecen una ventaja de rendimiento importante sobre las funciones [!INCLUDE[tsql](../../includes/tsql-md.md)] para tareas de cálculo, manipulación de cadenas y lógica empresarial.</span><span class="sxs-lookup"><span data-stu-id="4c9ce-121">CLR functions offer significant performance advantage over [!INCLUDE[tsql](../../includes/tsql-md.md)] functions for computational tasks, string manipulation, and business logic.</span></span> [!INCLUDE[tsql](../../includes/tsql-md.md)] <span data-ttu-id="4c9ce-122">se adecuan mejor a la lógica intensiva del acceso a datos.</span><span class="sxs-lookup"><span data-stu-id="4c9ce-122">functions are better suited for data-access intensive logic.</span></span>  
  
-   <span data-ttu-id="4c9ce-123">Pueden reducir el tráfico de red.</span><span class="sxs-lookup"><span data-stu-id="4c9ce-123">They can reduce network traffic.</span></span>  
  
     <span data-ttu-id="4c9ce-124">Una operación que filtra datos basándose en restricciones complejas que no se puede expresar en una sola expresión escalar se puede expresar como una función.</span><span class="sxs-lookup"><span data-stu-id="4c9ce-124">An operation that filters data based on some complex constraint that cannot be expressed in a single scalar expression can be expressed as a function.</span></span> <span data-ttu-id="4c9ce-125">La función se puede invocar en la cláusula WHERE para reducir el número de filas que se envían al cliente.</span><span class="sxs-lookup"><span data-stu-id="4c9ce-125">The function can then invoked in the WHERE clause to reduce the number or rows sent to the client.</span></span>  
  
> [!NOTE]  
>  <span data-ttu-id="4c9ce-126">Las funciones definidas por el usuario de [!INCLUDE[tsql](../../includes/tsql-md.md)] en consultas solo se pueden ejecutar en un único subproceso (plan de ejecución en serie).</span><span class="sxs-lookup"><span data-stu-id="4c9ce-126">[!INCLUDE[tsql](../../includes/tsql-md.md)] user-defined functions in queries can only be executed on a single thread (serial execution plan).</span></span>  
  
##  <a name="types-of-functions"></a><a name="FunctionTypes"></a><span data-ttu-id="4c9ce-127">Tipos de funciones</span><span class="sxs-lookup"><span data-stu-id="4c9ce-127">Types of Functions</span></span>  
 <span data-ttu-id="4c9ce-128">Función escalar</span><span class="sxs-lookup"><span data-stu-id="4c9ce-128">Scalar Function</span></span>  
 <span data-ttu-id="4c9ce-129">Las funciones escalares definidas por el usuario devuelven un único valor de datos del tipo definido en la cláusula RETURNS.</span><span class="sxs-lookup"><span data-stu-id="4c9ce-129">User-defined scalar functions return a single data value of the type defined in the RETURNS clause.</span></span> <span data-ttu-id="4c9ce-130">En una función escalar insertada no hay cuerpo de la función; el valor escalar es el resultado de una sola instrucción.</span><span class="sxs-lookup"><span data-stu-id="4c9ce-130">For an inline scalar function, there is no function body; the scalar value is the result of a single statement.</span></span> <span data-ttu-id="4c9ce-131">Para una función escalar de varias instrucciones, el cuerpo de la función, definido en un bloque BEGIN...END, contiene una serie de instrucciones de [!INCLUDE[tsql](../../includes/tsql-md.md)] que devuelven el único valor.</span><span class="sxs-lookup"><span data-stu-id="4c9ce-131">For a multistatement scalar function, the function body, defined in a BEGIN...END block, contains a series of [!INCLUDE[tsql](../../includes/tsql-md.md)] statements that return the single value.</span></span> <span data-ttu-id="4c9ce-132">El tipo devuelto puede ser de cualquier tipo de datos excepto `text`, `ntext`, `image`, `cursor` y `timestamp`.</span><span class="sxs-lookup"><span data-stu-id="4c9ce-132">The return type can be any data type except `text`, `ntext`, `image`, `cursor`, and `timestamp`.</span></span>  
  
 <span data-ttu-id="4c9ce-133">Table-Valued Functions</span><span class="sxs-lookup"><span data-stu-id="4c9ce-133">Table-Valued Functions</span></span>  
 <span data-ttu-id="4c9ce-134">Las funciones con valores de tabla definidas por el usuario devuelven un tipo de datos `table`.</span><span class="sxs-lookup"><span data-stu-id="4c9ce-134">User-defined table-valued functions return a `table` data type.</span></span> <span data-ttu-id="4c9ce-135">Las funciones insertada con valores de tabla no tienen cuerpo; la tabla es el conjunto de resultados de una sola instrucción SELECT.</span><span class="sxs-lookup"><span data-stu-id="4c9ce-135">For an inline table-valued function, there is no function body; the table is the result set of a single SELECT statement.</span></span>  
  
 <span data-ttu-id="4c9ce-136">Funciones del sistema</span><span class="sxs-lookup"><span data-stu-id="4c9ce-136">System Functions</span></span>  
 [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] <span data-ttu-id="4c9ce-137">proporciona numerosas funciones del sistema que se pueden usar para realizar diversas operaciones.</span><span class="sxs-lookup"><span data-stu-id="4c9ce-137">provides many system functions that you can use to perform a variety of operations.</span></span> <span data-ttu-id="4c9ce-138">No se pueden modificar.</span><span class="sxs-lookup"><span data-stu-id="4c9ce-138">They cannot be modified.</span></span> <span data-ttu-id="4c9ce-139">Para obtener más información, vea [Funciones integradas &#40;Transact-SQL&#41;](/sql/t-sql/functions/functions), [Funciones almacenadas del sistema &#40;Transact-SQL&#41;](/sql/relational-databases/system-functions/system-functions-for-transact-sql) y [Funciones y vistas de administración dinámica &#40;Transact-SQL&#41;](/sql/relational-databases/system-dynamic-management-views/system-dynamic-management-views).</span><span class="sxs-lookup"><span data-stu-id="4c9ce-139">For more information, see [Built-in Functions &#40;Transact-SQL&#41;](/sql/t-sql/functions/functions), [System Stored Functions &#40;Transact-SQL&#41;](/sql/relational-databases/system-functions/system-functions-for-transact-sql), and [Dynamic Management Views and Functions &#40;Transact-SQL&#41;](/sql/relational-databases/system-dynamic-management-views/system-dynamic-management-views).</span></span>  
  
##  <a name="guidelines"></a><a name="Guidelines"></a> <span data-ttu-id="4c9ce-140">Instrucciones</span><span class="sxs-lookup"><span data-stu-id="4c9ce-140">Guidelines</span></span>  
 <span data-ttu-id="4c9ce-141">Los errores de [!INCLUDE[tsql](../../includes/tsql-md.md)] que producen la cancelación de una instrucción y continúan con la siguiente instrucción del módulo (como desencadenadores o procedimientos almacenados) se tratan de forma distinta dentro de una función.</span><span class="sxs-lookup"><span data-stu-id="4c9ce-141">[!INCLUDE[tsql](../../includes/tsql-md.md)] errors that cause a statement to be canceled and continue with the next statement in the module (such as triggers or stored procedures) are treated differently inside a function.</span></span> <span data-ttu-id="4c9ce-142">En las funciones, estos errores hacen que se detenga la ejecución de la función.</span><span class="sxs-lookup"><span data-stu-id="4c9ce-142">In functions, such errors cause the execution of the function to stop.</span></span> <span data-ttu-id="4c9ce-143">Esto hace que se cancele la función que invocó la instrucción.</span><span class="sxs-lookup"><span data-stu-id="4c9ce-143">This in turn causes the statement that invoked the function to be canceled.</span></span>  
  
 <span data-ttu-id="4c9ce-144">Las instrucciones de un bloque BEGIN...END no pueden producir efectos secundarios.</span><span class="sxs-lookup"><span data-stu-id="4c9ce-144">The statements in a BEGIN...END block cannot have any side effects.</span></span> <span data-ttu-id="4c9ce-145">Los efectos secundarios de una función son cambios definitivos del estado de un recurso que está fuera del ámbito de la función, como una modificación de una tabla de base de datos.</span><span class="sxs-lookup"><span data-stu-id="4c9ce-145">Function side effects are any permanent changes to the state of a resource that has a scope outside the function such as a modification to a database table.</span></span> <span data-ttu-id="4c9ce-146">Los únicos cambios que pueden realizar las instrucciones de la función son cambios en objetos locales de la función, como cursores o variables locales.</span><span class="sxs-lookup"><span data-stu-id="4c9ce-146">The only changes that can be made by the statements in the function are changes to objects local to the function, such as local cursors or variables.</span></span> <span data-ttu-id="4c9ce-147">En una función no se pueden llevar a cabo algunas acciones como, por ejemplo, modificar tablas de base de datos, realizar operaciones en cursores no locales de la función, enviar correo electrónico, intentar modificar un catálogo o generar un conjunto de resultados que se devuelve al usuario.</span><span class="sxs-lookup"><span data-stu-id="4c9ce-147">Modifications to database tables, operations on cursors that are not local to the function, sending e-mail, attempting a catalog modification, and generating a result set that is returned to the user are examples of actions that cannot be performed in a function.</span></span>  
  
> [!NOTE]  
>  <span data-ttu-id="4c9ce-148">Si una instrucción CREATE FUNCTION genera efectos secundarios sobre recursos que no existen en el momento que se emite la instrucción CREATE FUNCTION, [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] ejecuta la instrucción.</span><span class="sxs-lookup"><span data-stu-id="4c9ce-148">If a CREATE FUNCTION statement produces side effects against resources that do not exist when the CREATE FUNCTION statement is issued, [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] executes the statement.</span></span> <span data-ttu-id="4c9ce-149">Sin embargo, [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] no ejecuta la función cuando ésta se invoca.</span><span class="sxs-lookup"><span data-stu-id="4c9ce-149">However, [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] does not execute the function when it is invoked.</span></span>  
  
 <span data-ttu-id="4c9ce-150">El número de veces que se ejecuta realmente una función especificada en una consulta puede variar entre los planes de ejecución generados por el optimizador.</span><span class="sxs-lookup"><span data-stu-id="4c9ce-150">The number of times that a function specified in a query is actually executed can vary between execution plans built by the optimizer.</span></span> <span data-ttu-id="4c9ce-151">Un ejemplo es una función invocada por una subconsulta en una cláusula WHERE.</span><span class="sxs-lookup"><span data-stu-id="4c9ce-151">An example is a function invoked by a subquery in a WHERE clause.</span></span> <span data-ttu-id="4c9ce-152">El número de veces que se ejecuta la subconsulta y su función puede variar con diferentes rutas de acceso seleccionadas por el optimizador.</span><span class="sxs-lookup"><span data-stu-id="4c9ce-152">The number of times the subquery and its function is executed can vary with different access paths chosen by the optimizer.</span></span>  
  
##  <a name="valid-statements-in-a-function"></a><a name="ValidStatements"></a><span data-ttu-id="4c9ce-153">Instrucciones válidas en una función</span><span class="sxs-lookup"><span data-stu-id="4c9ce-153">Valid Statements in a Function</span></span>  
 <span data-ttu-id="4c9ce-154">Entre los tipos de instrucciones válidos en una función se incluyen:</span><span class="sxs-lookup"><span data-stu-id="4c9ce-154">The types of statements that are valid in a function include:</span></span>  
  
-   <span data-ttu-id="4c9ce-155">Las instrucciones DECLARE pueden utilizarse para definir variables y cursores de datos locales de la función.</span><span class="sxs-lookup"><span data-stu-id="4c9ce-155">DECLARE statements can be used to define data variables and cursors that are local to the function.</span></span>  
  
-   <span data-ttu-id="4c9ce-156">La asignación de valores a objetos locales de la función, como la utilización de SET para asignar valores a variables locales escalares y de tabla.</span><span class="sxs-lookup"><span data-stu-id="4c9ce-156">Assignments of values to objects local to the function, such as using SET to assign values to scalar and table local variables.</span></span>  
  
-   <span data-ttu-id="4c9ce-157">Las operaciones de cursores que hacen referencia a cursores locales que están declarados, abiertos, cerrados y no asignados en la función.</span><span class="sxs-lookup"><span data-stu-id="4c9ce-157">Cursor operations that reference local cursors that are declared, opened, closed, and deallocated in the function.</span></span> <span data-ttu-id="4c9ce-158">No se admiten las instrucciones FETCH que devuelven datos al cliente.</span><span class="sxs-lookup"><span data-stu-id="4c9ce-158">FETCH statements that return data to the client are not allowed.</span></span> <span data-ttu-id="4c9ce-159">Solo se permiten las instrucciones FETCH que asignan valores a variables locales mediante la cláusula INTO.</span><span class="sxs-lookup"><span data-stu-id="4c9ce-159">Only FETCH statements that assign values to local variables using the INTO clause are allowed.</span></span>  
  
-   <span data-ttu-id="4c9ce-160">Instrucciones de control de flujo excepto instrucciones TRY...CATCH.</span><span class="sxs-lookup"><span data-stu-id="4c9ce-160">Control-of-flow statements except TRY...CATCH statements.</span></span>  
  
-   <span data-ttu-id="4c9ce-161">Instrucciones SELECT que contienen listas de selección con expresiones que asignan valores a las variables locales para la función.</span><span class="sxs-lookup"><span data-stu-id="4c9ce-161">SELECT statements containing select lists with expressions that assign values to variables that are local to the function.</span></span>  
  
-   <span data-ttu-id="4c9ce-162">Instrucciones UPDATE, INSERT y DELETE que modifican las variables de tabla locales de la función.</span><span class="sxs-lookup"><span data-stu-id="4c9ce-162">UPDATE, INSERT, and DELETE statements modifying table variables that are local to the function.</span></span>  
  
-   <span data-ttu-id="4c9ce-163">Instrucciones EXECUTE que llaman a un procedimiento almacenado extendido.</span><span class="sxs-lookup"><span data-stu-id="4c9ce-163">EXECUTE statements calling an extended stored procedure.</span></span>  
  
### <a name="built-in-system-functions"></a><span data-ttu-id="4c9ce-164">Funciones del sistema integradas</span><span class="sxs-lookup"><span data-stu-id="4c9ce-164">Built-in System Functions</span></span>  
 <span data-ttu-id="4c9ce-165">Las siguientes funciones integradas no deterministas se pueden usar en funciones Transact-SQL definidas por el usuario.</span><span class="sxs-lookup"><span data-stu-id="4c9ce-165">The following nondeterministic built-in functions can be used in Transact-SQL user-defined functions.</span></span>  
  
|||  
|-|-|  
|<span data-ttu-id="4c9ce-166">CURRENT_TIMESTAMP</span><span class="sxs-lookup"><span data-stu-id="4c9ce-166">CURRENT_TIMESTAMP</span></span>|<span data-ttu-id="4c9ce-167">@@MAX_CONNECTIONS</span><span class="sxs-lookup"><span data-stu-id="4c9ce-167">@@MAX_CONNECTIONS</span></span>|  
|<span data-ttu-id="4c9ce-168">GET_TRANSMISSION_STATUS</span><span class="sxs-lookup"><span data-stu-id="4c9ce-168">GET_TRANSMISSION_STATUS</span></span>|<span data-ttu-id="4c9ce-169">@@PACK_RECEIVED</span><span class="sxs-lookup"><span data-stu-id="4c9ce-169">@@PACK_RECEIVED</span></span>|  
|<span data-ttu-id="4c9ce-170">GETDATE</span><span class="sxs-lookup"><span data-stu-id="4c9ce-170">GETDATE</span></span>|<span data-ttu-id="4c9ce-171">@@PACK_SENT</span><span class="sxs-lookup"><span data-stu-id="4c9ce-171">@@PACK_SENT</span></span>|  
|<span data-ttu-id="4c9ce-172">GETUTCDATE</span><span class="sxs-lookup"><span data-stu-id="4c9ce-172">GETUTCDATE</span></span>|<span data-ttu-id="4c9ce-173">@@PACKET_ERRORS</span><span class="sxs-lookup"><span data-stu-id="4c9ce-173">@@PACKET_ERRORS</span></span>|  
|<span data-ttu-id="4c9ce-174">@@CONNECTIONS</span><span class="sxs-lookup"><span data-stu-id="4c9ce-174">@@CONNECTIONS</span></span>|<span data-ttu-id="4c9ce-175">@@TIMETICKS</span><span class="sxs-lookup"><span data-stu-id="4c9ce-175">@@TIMETICKS</span></span>|  
|<span data-ttu-id="4c9ce-176">@@CPU_BUSY</span><span class="sxs-lookup"><span data-stu-id="4c9ce-176">@@CPU_BUSY</span></span>|<span data-ttu-id="4c9ce-177">@@TOTAL_ERRORS</span><span class="sxs-lookup"><span data-stu-id="4c9ce-177">@@TOTAL_ERRORS</span></span>|  
|<span data-ttu-id="4c9ce-178">@@DBTS</span><span class="sxs-lookup"><span data-stu-id="4c9ce-178">@@DBTS</span></span>|<span data-ttu-id="4c9ce-179">@@TOTAL_READ</span><span class="sxs-lookup"><span data-stu-id="4c9ce-179">@@TOTAL_READ</span></span>|  
|<span data-ttu-id="4c9ce-180">@@IDLE</span><span class="sxs-lookup"><span data-stu-id="4c9ce-180">@@IDLE</span></span>|<span data-ttu-id="4c9ce-181">@@TOTAL_WRITE</span><span class="sxs-lookup"><span data-stu-id="4c9ce-181">@@TOTAL_WRITE</span></span>|  
|<span data-ttu-id="4c9ce-182">@@IO_BUSY</span><span class="sxs-lookup"><span data-stu-id="4c9ce-182">@@IO_BUSY</span></span>||  
  
 <span data-ttu-id="4c9ce-183">Las siguientes funciones integradas no deterministas no se pueden usar en funciones Transact-SQL definidas por el usuario.</span><span class="sxs-lookup"><span data-stu-id="4c9ce-183">The following nondeterministic built-in functions cannot be used in Transact-SQL user-defined functions.</span></span>  
  
|||  
|-|-|  
|<span data-ttu-id="4c9ce-184">NEWID</span><span class="sxs-lookup"><span data-stu-id="4c9ce-184">NEWID</span></span>|<span data-ttu-id="4c9ce-185">RAND</span><span class="sxs-lookup"><span data-stu-id="4c9ce-185">RAND</span></span>|  
|<span data-ttu-id="4c9ce-186">NEWSEQUENTIALID</span><span class="sxs-lookup"><span data-stu-id="4c9ce-186">NEWSEQUENTIALID</span></span>|<span data-ttu-id="4c9ce-187">TEXTPTR</span><span class="sxs-lookup"><span data-stu-id="4c9ce-187">TEXTPTR</span></span>|  
  
 <span data-ttu-id="4c9ce-188">Para consultar una lista de las funciones de sistema integradas deterministas y no deterministas, vea [Funciones deterministas y no deterministas](../user-defined-functions/deterministic-and-nondeterministic-functions.md).</span><span class="sxs-lookup"><span data-stu-id="4c9ce-188">For a list of deterministic and nondeterministic built-in system functions, see [Deterministic and Nondeterministic Functions](../user-defined-functions/deterministic-and-nondeterministic-functions.md).</span></span>  
  
##  <a name="schema-bound-functions"></a><a name="SchemaBound"></a><span data-ttu-id="4c9ce-189">Funciones enlazadas a esquema</span><span class="sxs-lookup"><span data-stu-id="4c9ce-189">Schema-Bound Functions</span></span>  
 <span data-ttu-id="4c9ce-190">CREATE FUNCTION admite una cláusula SCHEMABINDING que enlaza la función con el esquema de cualquier objeto al que haga referencia, como tablas, vistas y otras funciones definidas por el usuario.</span><span class="sxs-lookup"><span data-stu-id="4c9ce-190">CREATE FUNCTION supports a SCHEMABINDING clause that binds the function to the schema of any objects it references, such as tables, views, and other user-defined functions.</span></span> <span data-ttu-id="4c9ce-191">Se producen errores al intentar modificar o quitar objetos a los que hace referencia una función enlazada con un esquema.</span><span class="sxs-lookup"><span data-stu-id="4c9ce-191">An attempt to alter or drop any object referenced by a schema-bound function fails.</span></span>  
  
 <span data-ttu-id="4c9ce-192">Para poder especificar SCHEMABINDING en CREATE FUNCTION deben cumplirse estas condiciones:</span><span class="sxs-lookup"><span data-stu-id="4c9ce-192">These conditions must be met before you can specify SCHEMABINDING in CREATE FUNCTION:</span></span>  
  
-   <span data-ttu-id="4c9ce-193">Todas las vistas y las funciones definidas por el usuario a las que hace referencia la función deben estar enlazadas con un esquema.</span><span class="sxs-lookup"><span data-stu-id="4c9ce-193">All views and user-defined functions referenced by the function must be schema-bound.</span></span>  
  
-   <span data-ttu-id="4c9ce-194">Todos los objetos a los que hace referencia la función deben encontrarse en la misma base de datos que la función.</span><span class="sxs-lookup"><span data-stu-id="4c9ce-194">All objects referenced by the function must be in the same database as the function.</span></span> <span data-ttu-id="4c9ce-195">Se debe hacer referencia a los objetos mediante nombres de una o dos partes.</span><span class="sxs-lookup"><span data-stu-id="4c9ce-195">The objects must be referenced using either one-part or two-part names.</span></span>  
  
-   <span data-ttu-id="4c9ce-196">Se debe disponer de permisos REFERENCES en todos los objetos (tablas, vistas y funciones definidas por el usuario) a los que hace referencia la función.</span><span class="sxs-lookup"><span data-stu-id="4c9ce-196">You must have REFERENCES permission on all objects (tables, views, and user-defined functions) referenced in the function.</span></span>  
  
 <span data-ttu-id="4c9ce-197">Se puede utilizar ALTER FUNCTION para quitar el enlace con el esquema.</span><span class="sxs-lookup"><span data-stu-id="4c9ce-197">You can use ALTER FUNCTION to remove the schema binding.</span></span> <span data-ttu-id="4c9ce-198">La instrucción ALTER FUNCTION debe volver a definir la función sin especificar WITH SCHEMABINDING.</span><span class="sxs-lookup"><span data-stu-id="4c9ce-198">The ALTER FUNCTION statement should redefine the function without specifying WITH SCHEMABINDING.</span></span>  
  
##  <a name="specifying-parameters"></a><a name="Parameters"></a><span data-ttu-id="4c9ce-199">Especificar parámetros</span><span class="sxs-lookup"><span data-stu-id="4c9ce-199">Specifying Parameters</span></span>  
 <span data-ttu-id="4c9ce-200">Una función definida por el usuario tiene de cero a varios parámetros de entrada y devuelve un valor escalar o una tabla.</span><span class="sxs-lookup"><span data-stu-id="4c9ce-200">A user-defined function takes zero or more input parameters and returns either a scalar value or a table.</span></span> <span data-ttu-id="4c9ce-201">Una función puede tener un máximo de 1024 parámetros de entrada.</span><span class="sxs-lookup"><span data-stu-id="4c9ce-201">A function can have a maximum of 1024 input parameters.</span></span> <span data-ttu-id="4c9ce-202">Cuando un parámetro de la función tiene un valor predeterminado, debe especificarse la palabra clave DEFAULT al llamar a la función para poder obtener el valor predeterminado.</span><span class="sxs-lookup"><span data-stu-id="4c9ce-202">When a parameter of the function has a default value, the keyword DEFAULT must be specified when calling the function to get the default value.</span></span> <span data-ttu-id="4c9ce-203">Este comportamiento es diferente del de los parámetros con valores predeterminados de procedimientos almacenados definidos por el usuario, para los cuales omitir el parámetro implica especificar el valor predeterminado.</span><span class="sxs-lookup"><span data-stu-id="4c9ce-203">This behavior is different from parameters with default values in user-defined stored procedures in which omitting the parameter also implies the default value.</span></span> <span data-ttu-id="4c9ce-204">Las funciones definidas por el usuario no admiten parámetros de salida.</span><span class="sxs-lookup"><span data-stu-id="4c9ce-204">User-defined functions do not support output parameters.</span></span>  
  
##  <a name="related-tasks"></a><a name="Tasks"></a> <span data-ttu-id="4c9ce-205">Tareas relacionadas</span><span class="sxs-lookup"><span data-stu-id="4c9ce-205">Related Tasks</span></span>  
  
|||  
|-|-|  
|<span data-ttu-id="4c9ce-206">**Descripción de la tarea**</span><span class="sxs-lookup"><span data-stu-id="4c9ce-206">**Task Description**</span></span>|<span data-ttu-id="4c9ce-207">**Tema.**</span><span class="sxs-lookup"><span data-stu-id="4c9ce-207">**Topic**</span></span>|  
|<span data-ttu-id="4c9ce-208">Describe cómo se crea una función Transact-SQL definida por el usuario.</span><span class="sxs-lookup"><span data-stu-id="4c9ce-208">Describes how to create a Transact-SQL user-defined function.</span></span>|[<span data-ttu-id="4c9ce-209">Crear funciones definidas por el usuario &#40;motor de base de datos&#41;</span><span class="sxs-lookup"><span data-stu-id="4c9ce-209">Create User-defined Functions &#40;Database Engine&#41;</span></span>](../user-defined-functions/create-user-defined-functions-database-engine.md)|  
|<span data-ttu-id="4c9ce-210">Describe cómo se crea una función CLR.</span><span class="sxs-lookup"><span data-stu-id="4c9ce-210">Describes how create a CLR function.</span></span>|[<span data-ttu-id="4c9ce-211">Crear funciones CLR</span><span class="sxs-lookup"><span data-stu-id="4c9ce-211">Create CLR Functions</span></span>](../user-defined-functions/create-clr-functions.md)|  
|<span data-ttu-id="4c9ce-212">Describe cómo se crea una función de agregado definida por el usuario</span><span class="sxs-lookup"><span data-stu-id="4c9ce-212">Describes how to create a user-defined aggregate function</span></span>|[<span data-ttu-id="4c9ce-213">Crear funciones de agregado definidas por el usuario</span><span class="sxs-lookup"><span data-stu-id="4c9ce-213">Create User-defined Aggregates</span></span>](../user-defined-functions/create-user-defined-aggregates.md)|  
|<span data-ttu-id="4c9ce-214">Describe cómo se modifica una función Transact-SQL definida por el usuario.</span><span class="sxs-lookup"><span data-stu-id="4c9ce-214">Describes how to modify a Transact-SQL user-defined function.</span></span>|[<span data-ttu-id="4c9ce-215">Modificar funciones definidas por el usuario</span><span class="sxs-lookup"><span data-stu-id="4c9ce-215">Modify User-defined Functions</span></span>](../user-defined-functions/user-defined-functions.md)|  
|<span data-ttu-id="4c9ce-216">Describe cómo se elimina una función definida por el usuario.</span><span class="sxs-lookup"><span data-stu-id="4c9ce-216">Describes how to delete a user-defined function.</span></span>|[<span data-ttu-id="4c9ce-217">Eliminar funciones definidas por el usuario</span><span class="sxs-lookup"><span data-stu-id="4c9ce-217">Delete User-defined Functions</span></span>](../user-defined-functions/delete-user-defined-functions.md)|  
|<span data-ttu-id="4c9ce-218">Describe cómo se ejecuta una función definida por el usuario.</span><span class="sxs-lookup"><span data-stu-id="4c9ce-218">Describes how to execute a user-defined function.</span></span>|[<span data-ttu-id="4c9ce-219">Ejecutar funciones definidas por el usuario</span><span class="sxs-lookup"><span data-stu-id="4c9ce-219">Execute User-defined Functions</span></span>](../user-defined-functions/execute-user-defined-functions.md)|  
|<span data-ttu-id="4c9ce-220">Describe cómo se cambia el nombre de una función definida por el usuario.</span><span class="sxs-lookup"><span data-stu-id="4c9ce-220">Describes how to rename a user-defined function</span></span>|[<span data-ttu-id="4c9ce-221">Cambiar el nombre de las funciones definidas por el usuario</span><span class="sxs-lookup"><span data-stu-id="4c9ce-221">Rename User-defined Functions</span></span>](../user-defined-functions/rename-user-defined-functions.md)|  
|<span data-ttu-id="4c9ce-222">Describe cómo puede ver la definición de una función definida por el usuario.</span><span class="sxs-lookup"><span data-stu-id="4c9ce-222">Describes how to view the definition of a user-defined function.</span></span>|[<span data-ttu-id="4c9ce-223">Ver funciones definidas por el usuario</span><span class="sxs-lookup"><span data-stu-id="4c9ce-223">View User-defined Functions</span></span>](view-user-defined-functions.md)|  
  
  
