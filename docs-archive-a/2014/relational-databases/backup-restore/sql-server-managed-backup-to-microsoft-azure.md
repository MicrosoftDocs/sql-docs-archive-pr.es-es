---
title: SQL Server copia de seguridad administrada en Azure | Microsoft Docs
ms.custom: ''
ms.date: 06/13/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: backup-restore
ms.topic: conceptual
ms.assetid: afa01165-39e0-4efe-ac0e-664edb8599fd
author: MikeRayMSFT
ms.author: mikeray
ms.openlocfilehash: 8fbe94eace1244b4e5f37b60848d47b69ecc8144
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 08/04/2020
ms.locfileid: "87676025"
---
# <a name="sql-server-managed--backup-to-azure"></a><span data-ttu-id="a477f-102">SQL Server de la copia de seguridad administrada en Azure</span><span class="sxs-lookup"><span data-stu-id="a477f-102">SQL Server Managed  Backup to Azure</span></span>
  [!INCLUDE[ss_smartbackup](../../includes/ss-smartbackup-md.md)]<span data-ttu-id="a477f-103">administra y automatiza las copias de seguridad de SQL Server en el servicio de almacenamiento de blobs de Azure.</span><span class="sxs-lookup"><span data-stu-id="a477f-103">manages and automates SQL Server backups to the Azure Blob storage service.</span></span> <span data-ttu-id="a477f-104">La estrategia de copia de seguridad que usa [!INCLUDE[ss_smartbackup](../../includes/ss-smartbackup-md.md)] se basa en el período de retención y en la carga de trabajo de transacciones en la base de datos.</span><span class="sxs-lookup"><span data-stu-id="a477f-104">The backup strategy used by [!INCLUDE[ss_smartbackup](../../includes/ss-smartbackup-md.md)] is based on the retention period and the transaction workload on the database.</span></span> [!INCLUDE[ss_smartbackup](../../includes/ss-smartbackup-md.md)] <span data-ttu-id="a477f-105">admite la restauración a un momento dado para el período de retención especificado.</span><span class="sxs-lookup"><span data-stu-id="a477f-105">supports point in time restore for the retention time period specified.</span></span>   
[!INCLUDE[ss_smartbackup](../../includes/ss-smartbackup-md.md)] <span data-ttu-id="a477f-106">se puede habilitar en el nivel de base de datos o en el de instancia para administrar todas las bases de datos en la instancia de SQL Server.</span><span class="sxs-lookup"><span data-stu-id="a477f-106">can be enabled at the database level or at the instance level to manage all the databases on the instance of SQL Server.</span></span> <span data-ttu-id="a477f-107">El SQL Server se puede ejecutar de forma local o en entornos hospedados como la máquina virtual de Azure.</span><span class="sxs-lookup"><span data-stu-id="a477f-107">The SQL Server can be running on-premises or in hosted environments like the Azure virtual machine.</span></span> [!INCLUDE[ss_smartbackup](../../includes/ss-smartbackup-md.md)]<span data-ttu-id="a477f-108">se recomienda para SQL Server que se ejecutan en Azure Virtual Machines.</span><span class="sxs-lookup"><span data-stu-id="a477f-108">is recommended for SQL Server running on Azure Virtual Machines.</span></span>  
  
## <a name="benefits-of-automating-sql-server-backup-using-ss_smartbackup"></a><span data-ttu-id="a477f-109">Ventajas de la automatización de la copia de seguridad de SQL Server mediante [!INCLUDE[ss_smartbackup](../../includes/ss-smartbackup-md.md)]</span><span class="sxs-lookup"><span data-stu-id="a477f-109">Benefits of Automating SQL Server Backup Using [!INCLUDE[ss_smartbackup](../../includes/ss-smartbackup-md.md)]</span></span>  
  
-   <span data-ttu-id="a477f-110">Actualmente, para automatizar las copias de seguridad de varias bases de datos, se requiere desarrollar una estrategia de copia de seguridad, escribir código personalizado y programar copias de seguridad.</span><span class="sxs-lookup"><span data-stu-id="a477f-110">Currently automating backups for multiple databases requires developing a backup strategy, writing custom code, and scheduling backups.</span></span> <span data-ttu-id="a477f-111">Mediante [!INCLUDE[ss_smartbackup](../../includes/ss-smartbackup-md.md)], solo tiene que proporcionar la configuración del período de retención y la ubicación de almacenamiento.</span><span class="sxs-lookup"><span data-stu-id="a477f-111">Using [!INCLUDE[ss_smartbackup](../../includes/ss-smartbackup-md.md)], you only are required provide the retention period settings and the storage location.</span></span> [!INCLUDE[ss_smartbackup](../../includes/ss-smartbackup-md.md)]<span data-ttu-id="a477f-112">programa, realiza y mantiene las copias de seguridad.</span><span class="sxs-lookup"><span data-stu-id="a477f-112">schedules, performs and maintains the backups.</span></span>  
  
     [!INCLUDE[ss_smartbackup](../../includes/ss-smartbackup-md.md)] <span data-ttu-id="a477f-113">se puede configurar en el nivel de base de datos o con la configuración predeterminada para una instancia de SQL Server.</span><span class="sxs-lookup"><span data-stu-id="a477f-113">can be configured at the database level or at configured with default settings for an instance of SQL Server.</span></span> <span data-ttu-id="a477f-114">[!INCLUDE[ss_smartbackup](../../includes/ss-smartbackup-md.md)]La automatización de la copia de seguridad mediante ofrece las siguientes ventajas:</span><span class="sxs-lookup"><span data-stu-id="a477f-114">Automating backup using [!INCLUDE[ss_smartbackup](../../includes/ss-smartbackup-md.md)] has the following benefits:</span></span>  
  
    -   <span data-ttu-id="a477f-115">Al establecer los valores predeterminados en el nivel de instancia, puede aplicar esta configuración en cualquier base de datos creada después, con lo que se evita el riesgo de no realizar la copia de seguridad de las bases de datos nuevas y así como la pérdida de datos.</span><span class="sxs-lookup"><span data-stu-id="a477f-115">By setting the defaults at the instance level, you can apply these settings to any database created thereafter, thus removing the risk of new databases not being backed up and data loss.</span></span>  
  
    -   <span data-ttu-id="a477f-116">La opción de habilitar [!INCLUDE[ss_smartbackup](../../includes/ss-smartbackup-md.md)] y establecer el período de retención en el nivel de base de datos le permite invalidar la configuración predeterminada establecida en el nivel de instancia.</span><span class="sxs-lookup"><span data-stu-id="a477f-116">The option of enabling [!INCLUDE[ss_smartbackup](../../includes/ss-smartbackup-md.md)] and setting the retention period at the database level, allows you to override the default settings set at the instance level.</span></span> <span data-ttu-id="a477f-117">Esto permite un control más específico sobre la capacidad de recuperación de una base de datos concreta.</span><span class="sxs-lookup"><span data-stu-id="a477f-117">This allows you to have more granular control on the recoverability for a specific database.</span></span>  
  
-   <span data-ttu-id="a477f-118">Con [!INCLUDE[ss_smartbackup](../../includes/ss-smartbackup-md.md)], no es necesario especificar el tipo o la frecuencia de las copias de seguridad de una base de datos.</span><span class="sxs-lookup"><span data-stu-id="a477f-118">With [!INCLUDE[ss_smartbackup](../../includes/ss-smartbackup-md.md)], you do not have to specify the type or frequency of the backups for a database.</span></span>  <span data-ttu-id="a477f-119">Especifique el período de retención y [!INCLUDE[ss_smartbackup](../../includes/ss-smartbackup-md.md)] determinará el tipo y la frecuencia de las copias de seguridad de una base de datos para almacenar las copias de seguridad en el servicio de almacenamiento de blobs de Azure.</span><span class="sxs-lookup"><span data-stu-id="a477f-119">You specify the retention period, and [!INCLUDE[ss_smartbackup](../../includes/ss-smartbackup-md.md)] determines the type and frequency of backups for a database stores the backups on Azure Blob storage service.</span></span> <span data-ttu-id="a477f-120">Para obtener más detalles sobre el conjunto de criterios que [!INCLUDE[ss_smartbackup](../../includes/ss-smartbackup-md.md)] usa para crear la estrategia de copia de seguridad, consulte la sección [componentes y conceptos](#Concepts) de este tema.</span><span class="sxs-lookup"><span data-stu-id="a477f-120">For more details on the set of criteria that [!INCLUDE[ss_smartbackup](../../includes/ss-smartbackup-md.md)] uses to create the backup strategy,, see the [Components and Concepts](#Concepts) section in this topic.</span></span>  
  
-   <span data-ttu-id="a477f-121">Cuando se configura para utilizar el cifrado, debe tener seguridad adicional para los datos de copia de seguridad.</span><span class="sxs-lookup"><span data-stu-id="a477f-121">When configured to use encryption, you have additional security for the backup data.</span></span> <span data-ttu-id="a477f-122">Para obtener más información, vea [cifrado de copia de seguridad](backup-encryption.md)</span><span class="sxs-lookup"><span data-stu-id="a477f-122">For more information, see [Backup Encryption](backup-encryption.md)</span></span>  
  
 <span data-ttu-id="a477f-123">Para más información sobre las ventajas de usar el almacenamiento de blobs de Azure para las [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] copias de seguridad, consulte [SQL Server copias de seguridad y restauración con Azure BLOB Storage servicio](sql-server-backup-and-restore-with-microsoft-azure-blob-storage-service.md)</span><span class="sxs-lookup"><span data-stu-id="a477f-123">For more details on the benefits of using Azure Blob storage for [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] backups, see [SQL Server Backup and Restore with Azure Blob Storage Service](sql-server-backup-and-restore-with-microsoft-azure-blob-storage-service.md)</span></span>  
  
## <a name="terms-and-definitions"></a><span data-ttu-id="a477f-124">Términos y definiciones</span><span class="sxs-lookup"><span data-stu-id="a477f-124">Terms and Definitions</span></span>  
 [!INCLUDE[ss_smartbackup](../../includes/ss-smartbackup-md.md)]  
 <span data-ttu-id="a477f-125">Una característica de SQL Server que automatiza la copia de seguridad de la base de datos y mantiene las copias de seguridad según el período de retención.</span><span class="sxs-lookup"><span data-stu-id="a477f-125">A SQL Server feature that automates database backup and maintains the backups based on the retention period.</span></span>  
  
 <span data-ttu-id="a477f-126">Período de retención</span><span class="sxs-lookup"><span data-stu-id="a477f-126">Retention Period</span></span>  
 <span data-ttu-id="a477f-127">[!INCLUDE[ss_smartbackup](../../includes/ss-smartbackup-md.md)] usa el período de retención para determinar qué archivos de copia de seguridad se deben conservar en el almacenamiento para recuperar una base de datos hasta un momento dado en el intervalo de tiempo especificado.</span><span class="sxs-lookup"><span data-stu-id="a477f-127">The retention period is used by [!INCLUDE[ss_smartbackup](../../includes/ss-smartbackup-md.md)] to determine what backup files should be retained in the storage in order to recover a database to a point in time within the time frame specified.</span></span>  <span data-ttu-id="a477f-128">Los valores admitidos están en el intervalo de 1 a 30 días.</span><span class="sxs-lookup"><span data-stu-id="a477f-128">The supported values are in the range of 1-30 days.</span></span>  
  
 <span data-ttu-id="a477f-129">Cadena de registros</span><span class="sxs-lookup"><span data-stu-id="a477f-129">Log Chain</span></span>  
 <span data-ttu-id="a477f-130">Una secuencia continua de copias de seguridad de registros se denomina cadena de registros.</span><span class="sxs-lookup"><span data-stu-id="a477f-130">A continuous sequence of log backups is called a log chain.</span></span> <span data-ttu-id="a477f-131">Una cadena de registros empieza con una copia de seguridad completa de la base de datos.</span><span class="sxs-lookup"><span data-stu-id="a477f-131">A log chain starts with a full backup of the database.</span></span>  
  
##  <a name="requirements-concepts-and-components"></a><a name="Concepts"></a><span data-ttu-id="a477f-132">Requisitos, conceptos y componentes</span><span class="sxs-lookup"><span data-stu-id="a477f-132">Requirements, Concepts, and Components</span></span>  
  
  
###  <a name="permissions"></a><a name="Security"></a> <span data-ttu-id="a477f-133">Permisos</span><span class="sxs-lookup"><span data-stu-id="a477f-133">Permissions</span></span>  
 <span data-ttu-id="a477f-134">Transact-SQL es la interfaz principal que se utiliza para configurar y supervisar [!INCLUDE[ss_smartbackup](../../includes/ss-smartbackup-md.md)].</span><span class="sxs-lookup"><span data-stu-id="a477f-134">Transact-SQL is the main interface used to configure and monitor [!INCLUDE[ss_smartbackup](../../includes/ss-smartbackup-md.md)].</span></span> <span data-ttu-id="a477f-135">En general, para ejecutar los procedimientos almacenados de configuración, **db_backupoperator** rol de base de datos con permisos **ALTER any Credential** , y `EXECUTE` se requieren permisos en **sp_delete_backuphistory** procedimiento almacenado.</span><span class="sxs-lookup"><span data-stu-id="a477f-135">In general, to run the configuration stored procedures, **db_backupoperator** database role with **ALTER ANY CREDENTIAL** permissions, and `EXECUTE` permissions on **sp_delete_backuphistory** stored procedure is required.</span></span>  <span data-ttu-id="a477f-136">Los procedimientos almacenados y las funciones que se usan para revisar la información normalmente requieren permisos `Execute` en el procedimiento almacenado y `Select` en la función, respectivamente.</span><span class="sxs-lookup"><span data-stu-id="a477f-136">Stored procedures and functions used to review information typically require `Execute` permissions on the stored procedure and `Select` on the function respectively.</span></span>  
  
###  <a name="prerequisites"></a><a name="Prereqs"></a> <span data-ttu-id="a477f-137">Requisitos previos</span><span class="sxs-lookup"><span data-stu-id="a477f-137">Prerequisites</span></span>  
 <span data-ttu-id="a477f-138">**Requisitos previos:**</span><span class="sxs-lookup"><span data-stu-id="a477f-138">**Prerequisites:**</span></span>  
  
 <span data-ttu-id="a477f-139">Utiliza **Azure Storage servicio** [!INCLUDE[ss_smartbackup](../../includes/ss-smartbackup-md.md)] para almacenar los archivos de copia de seguridad.</span><span class="sxs-lookup"><span data-stu-id="a477f-139">**Azure Storage service** is used by [!INCLUDE[ss_smartbackup](../../includes/ss-smartbackup-md.md)] to store the backup files.</span></span>    <span data-ttu-id="a477f-140">Los conceptos, la estructura y los requisitos para crear una cuenta de almacenamiento de Azure se explican en detalle en la sección [Introducción a los componentes y conceptos clave](sql-server-backup-to-url.md#intorkeyconcepts) del tema **SQL Server copia de seguridad en dirección URL** .</span><span class="sxs-lookup"><span data-stu-id="a477f-140">The concepts, structure, and requirements for creating an Azure storage account is explained in detail in the [Introduction to Key Components and Concepts](sql-server-backup-to-url.md#intorkeyconcepts) section of the **SQL Server Backup to URL** topic.</span></span>  
  
 <span data-ttu-id="a477f-141">La **credencial SQL** se usa para almacenar la información necesaria para autenticarse en la cuenta de almacenamiento de Azure.</span><span class="sxs-lookup"><span data-stu-id="a477f-141">**SQL Credential** is used to store the information required to authenticate to the Azure storage account.</span></span> <span data-ttu-id="a477f-142">El objeto Credencial de SQL almacena la información del nombre de cuenta y de las claves de acceso.</span><span class="sxs-lookup"><span data-stu-id="a477f-142">The SQL Credential object stores the account name and the access key information.</span></span> <span data-ttu-id="a477f-143">Para obtener más información, consulte la sección [Introduction to Key components and Concepts](sql-server-backup-and-restore-with-microsoft-azure-blob-storage-service.md) del tema **SQL Server Backup to URL** .</span><span class="sxs-lookup"><span data-stu-id="a477f-143">For more information, see the [Introduction to Key Components and Concepts](sql-server-backup-and-restore-with-microsoft-azure-blob-storage-service.md) section in the **SQL Server Backup to URL** topic.</span></span> <span data-ttu-id="a477f-144">Para ver un tutorial sobre cómo crear una credencial de SQL para almacenar Azure Storage información de autenticación, vea [Lección 2: crear una credencial de SQL Server](../../tutorials/lesson-2-create-a-sql-server-credential.md).</span><span class="sxs-lookup"><span data-stu-id="a477f-144">For a walkthrough on how to create a SQL Credential to store Azure Storage authentication information, see [Lesson 2: Create a SQL Server Credential](../../tutorials/lesson-2-create-a-sql-server-credential.md).</span></span>  
  
###  <a name="concepts-and-key-components"></a><a name="Concepts_Components"></a><span data-ttu-id="a477f-145">Conceptos y componentes clave</span><span class="sxs-lookup"><span data-stu-id="a477f-145">Concepts and Key Components</span></span>  
 <span data-ttu-id="a477f-146">[!INCLUDE[ss_smartbackup](../../includes/ss-smartbackup-md.md)] es una característica que administra las operaciones de copia de seguridad.</span><span class="sxs-lookup"><span data-stu-id="a477f-146">The [!INCLUDE[ss_smartbackup](../../includes/ss-smartbackup-md.md)] is a feature that manages the backup operations.</span></span> <span data-ttu-id="a477f-147">Almacena los metadatos en la base de datos **msdb** y usa trabajos del sistema para escribir copias de seguridad completas de las bases de datos y del registro de transacciones.</span><span class="sxs-lookup"><span data-stu-id="a477f-147">It stores the metadata in the **msdb** database and uses system jobs to write full database and transaction log backups.</span></span>  
  
#### <a name="components"></a><span data-ttu-id="a477f-148">Componentes</span><span class="sxs-lookup"><span data-stu-id="a477f-148">Components</span></span>  
 <span data-ttu-id="a477f-149">Transact-SQL es la interfaz principal para interactuar con [!INCLUDE[ss_smartbackup](../../includes/ss-smartbackup-md.md)].</span><span class="sxs-lookup"><span data-stu-id="a477f-149">Transact-SQL is the main interface to interact with [!INCLUDE[ss_smartbackup](../../includes/ss-smartbackup-md.md)].</span></span> <span data-ttu-id="a477f-150">Los procedimientos almacenados del sistema se utilizan para habilitar, configurar y supervisar [!INCLUDE[ss_smartbackup](../../includes/ss-smartbackup-md.md)].</span><span class="sxs-lookup"><span data-stu-id="a477f-150">System stored procedures are used for enabling, configuring, and monitoring [!INCLUDE[ss_smartbackup](../../includes/ss-smartbackup-md.md)].</span></span> <span data-ttu-id="a477f-151">Las funciones del sistema se utilizan para recuperar la configuración, los valores de parámetros y la información del archivo de copia de seguridad existentes.</span><span class="sxs-lookup"><span data-stu-id="a477f-151">System functions are used to retrieve existing configuration settings, parameter values, and backup file information.</span></span> <span data-ttu-id="a477f-152">Los eventos extendidos se utilizan para exponer los errores y advertencias.</span><span class="sxs-lookup"><span data-stu-id="a477f-152">Extended events are used to surface errors and warnings.</span></span> <span data-ttu-id="a477f-153">Los mecanismos de alerta se habilitan mediante los trabajos del Agente SQL y la administración basada en directivas de SQL Server.</span><span class="sxs-lookup"><span data-stu-id="a477f-153">Alert mechanisms are enabled through SQL Agent jobs and SQL Server Policy Based Management.</span></span> <span data-ttu-id="a477f-154">La siguiente es una lista de los objetos y una descripción de su funcionalidad en relación con [!INCLUDE[ss_smartbackup](../../includes/ss-smartbackup-md.md)].</span><span class="sxs-lookup"><span data-stu-id="a477f-154">The following is a list of the objects and a description of its functionality in relation to [!INCLUDE[ss_smartbackup](../../includes/ss-smartbackup-md.md)].</span></span>  
  
 <span data-ttu-id="a477f-155">Los cmdlets de PowerShell también están disponibles para configurar [!INCLUDE[ss_smartbackup](../../includes/ss-smartbackup-md.md)].</span><span class="sxs-lookup"><span data-stu-id="a477f-155">PowerShell cmdlets are also available to configure [!INCLUDE[ss_smartbackup](../../includes/ss-smartbackup-md.md)].</span></span> <span data-ttu-id="a477f-156">SQL Server Management Studio permite restaurar las copias de seguridad creadas por [!INCLUDE[ss_smartbackup](../../includes/ss-smartbackup-md.md)] mediante la tarea **Restaurar base de datos**</span><span class="sxs-lookup"><span data-stu-id="a477f-156">SQL Server Management Studio supports restoring backups created by [!INCLUDE[ss_smartbackup](../../includes/ss-smartbackup-md.md)] by using the **Restore Database** task</span></span>  
  
|||  
|-|-|  
|<span data-ttu-id="a477f-157">Objeto del sistema</span><span class="sxs-lookup"><span data-stu-id="a477f-157">System Object</span></span>|<span data-ttu-id="a477f-158">Descripción</span><span class="sxs-lookup"><span data-stu-id="a477f-158">Description</span></span>|  
|<span data-ttu-id="a477f-159">**MSDB**</span><span class="sxs-lookup"><span data-stu-id="a477f-159">**MSDB**</span></span>|<span data-ttu-id="a477f-160">Almacena los metadatos y el historial de copias de seguridad de todas las copias de seguridad creadas por [!INCLUDE[ss_smartbackup](../../includes/ss-smartbackup-md.md)].</span><span class="sxs-lookup"><span data-stu-id="a477f-160">Stores the metadata, backup history for all the backups created by [!INCLUDE[ss_smartbackup](../../includes/ss-smartbackup-md.md)].</span></span>|  
|<span data-ttu-id="a477f-161">[smart_admin. set_db_backup &#40;Transact-SQL&#41;](https://msdn.microsoft.com/library/dn451013(v=sql.120).aspx)</span><span class="sxs-lookup"><span data-stu-id="a477f-161">[smart_admin.set_db_backup &#40;Transact-SQL&#41;](https://msdn.microsoft.com/library/dn451013(v=sql.120).aspx)</span></span>|<span data-ttu-id="a477f-162">Procedimiento almacenado del sistema para habilitar y configurar [!INCLUDE[ss_smartbackup](../../includes/ss-smartbackup-md.md)] para una base de datos.</span><span class="sxs-lookup"><span data-stu-id="a477f-162">System stored procedure for enabling and configuring [!INCLUDE[ss_smartbackup](../../includes/ss-smartbackup-md.md)] for a database.</span></span>|  
|<span data-ttu-id="a477f-163">[smart_admin. set_instance_backup &#40;Transact-SQL&#41;](https://msdn.microsoft.com/library/dn451009(v=sql.120).aspx)</span><span class="sxs-lookup"><span data-stu-id="a477f-163">[smart_admin.set_instance_backup &#40;Transact-SQL&#41;](https://msdn.microsoft.com/library/dn451009(v=sql.120).aspx)</span></span>|<span data-ttu-id="a477f-164">Procedimiento almacenado del sistema para habilitar y configurar los valores predeterminados [!INCLUDE[ss_smartbackup](../../includes/ss-smartbackup-md.md)] para la instancia de SQL Server.</span><span class="sxs-lookup"><span data-stu-id="a477f-164">System stored procedure for enabling and configuring default settings [!INCLUDE[ss_smartbackup](../../includes/ss-smartbackup-md.md)] for the SQL Server instance.</span></span>|  
|[<span data-ttu-id="a477f-165">smart_admin. sp_ backup_master_switch &#40;Transact-SQL&#41;</span><span class="sxs-lookup"><span data-stu-id="a477f-165">smart_admin.sp_ backup_master_switch &#40;Transact-SQL&#41;</span></span>](/sql/relational-databases/system-stored-procedures/managed-backup-sp-backup-master-switch-transact-sql)|<span data-ttu-id="a477f-166">Procedimiento almacenado del sistema para pausar y reanudar [!INCLUDE[ss_smartbackup](../../includes/ss-smartbackup-md.md)].</span><span class="sxs-lookup"><span data-stu-id="a477f-166">System stored procedure to pause and resume [!INCLUDE[ss_smartbackup](../../includes/ss-smartbackup-md.md)].</span></span>|  
|[<span data-ttu-id="a477f-167">smart_admin. sp_set_parameter &#40;Transact-SQL&#41;</span><span class="sxs-lookup"><span data-stu-id="a477f-167">smart_admin.sp_set_parameter &#40;Transact-SQL&#41;</span></span>](/sql/relational-databases/system-stored-procedures/managed-backup-sp-set-parameter-transact-sql)|<span data-ttu-id="a477f-168">Procedimiento almacenado del sistema para habilitar y configurar la supervisión de [!INCLUDE[ss_smartbackup](../../includes/ss-smartbackup-md.md)].</span><span class="sxs-lookup"><span data-stu-id="a477f-168">System stored procedure to enable and configure monitoring for [!INCLUDE[ss_smartbackup](../../includes/ss-smartbackup-md.md)].</span></span> <span data-ttu-id="a477f-169">Ejemplos: habilitar eventos extendidos, configuración de correo para las notificaciones.</span><span class="sxs-lookup"><span data-stu-id="a477f-169">Examples: enabling extended events, mail settings for notifications.</span></span>|  
|[<span data-ttu-id="a477f-170">smart_admin. sp_backup_on_demand &#40;Transact-SQL&#41;</span><span class="sxs-lookup"><span data-stu-id="a477f-170">smart_admin.sp_backup_on_demand &#40;Transact-SQL&#41;</span></span>](/sql/relational-databases/system-stored-procedures/managed-backup-sp-backup-on-demand-transact-sql)|<span data-ttu-id="a477f-171">Procedimiento almacenado del sistema que se utiliza para realizar una copia de seguridad ad hoc de una base de datos que está habilitada para usar [!INCLUDE[ss_smartbackup](../../includes/ss-smartbackup-md.md)] sin interrumpir la cadena de registros.</span><span class="sxs-lookup"><span data-stu-id="a477f-171">System stored procedure that is used to perform an ad-hoc backup for a database that is enabled to use [!INCLUDE[ss_smartbackup](../../includes/ss-smartbackup-md.md)] without breaking the log chain.</span></span>|  
|[<span data-ttu-id="a477f-172">smart_admin. fn_backup_db_config &#40;Transact-SQL&#41;</span><span class="sxs-lookup"><span data-stu-id="a477f-172">smart_admin.fn_backup_db_config &#40;Transact-SQL&#41;</span></span>](/sql/relational-databases/system-functions/managed-backup-fn-backup-db-config-transact-sql)|<span data-ttu-id="a477f-173">Función del sistema que devuelve el [!INCLUDE[ss_smartbackup](../../includes/ss-smartbackup-md.md)] estado actual y los valores de configuración de una base de datos, o para todas las bases de datos de la instancia.</span><span class="sxs-lookup"><span data-stu-id="a477f-173">System function that returns the current [!INCLUDE[ss_smartbackup](../../includes/ss-smartbackup-md.md)] status and configuration values for a database, or for all the databases on the instance.</span></span>|  
|[<span data-ttu-id="a477f-174">smart_admin. fn_is_master_switch_on &#40;Transact-SQL&#41;</span><span class="sxs-lookup"><span data-stu-id="a477f-174">smart_admin.fn_is_master_switch_on &#40;Transact-SQL&#41;</span></span>](/sql/relational-databases/system-functions/managed-backup-fn-is-master-switch-on-transact-sql)|<span data-ttu-id="a477f-175">Función del sistema que devuelve el estado del modificador principal.</span><span class="sxs-lookup"><span data-stu-id="a477f-175">System function that returns the status of the master switch.</span></span>|  
|[<span data-ttu-id="a477f-176">smart_admin. sp_get_backup_diagnostics &#40;Transact-SQL&#41;</span><span class="sxs-lookup"><span data-stu-id="a477f-176">smart_admin.sp_get_backup_diagnostics &#40;Transact-SQL&#41;</span></span>](/sql/relational-databases/system-stored-procedures/managed-backup-sp-get-backup-diagnostics-transact-sql)|<span data-ttu-id="a477f-177">Procedimiento almacenado del sistema que se utiliza para devolver los eventos registrados por Eventos extendidos.</span><span class="sxs-lookup"><span data-stu-id="a477f-177">System stored procedure used to return the events logged by Extended Events.</span></span>|  
|[<span data-ttu-id="a477f-178">smart_admin. fn_get_parameter &#40;Transact-SQL&#41;</span><span class="sxs-lookup"><span data-stu-id="a477f-178">smart_admin.fn_get_parameter &#40;Transact-SQL&#41;</span></span>](/sql/relational-databases/system-functions/managed-backup-fn-get-parameter-transact-sql)|<span data-ttu-id="a477f-179">Función del sistema que devuelve los valores actuales de la configuración del sistema de copia de seguridad como la supervisión y la configuración del correo para las alertas.</span><span class="sxs-lookup"><span data-stu-id="a477f-179">System function that returns the current values for backup system settings such as monitoring and mail settings for alerts.</span></span>|  
|[<span data-ttu-id="a477f-180">smart_admin. fn_available_backups &#40;Transact-SQL&#41;</span><span class="sxs-lookup"><span data-stu-id="a477f-180">smart_admin.fn_available_backups &#40;Transact-SQL&#41;</span></span>](/sql/relational-databases/system-functions/managed-backup-fn-available-backups-transact-sql)|<span data-ttu-id="a477f-181">Procedimiento almacenado utilizado para recuperar las copias de seguridad disponibles para una base de datos especificada o para todas las bases de datos de una instancia.</span><span class="sxs-lookup"><span data-stu-id="a477f-181">Stored Procedure used to retrieve available backups for a specified database or for all the databases in an instance.</span></span>|  
|[<span data-ttu-id="a477f-182">smart_admin. fn_get_current_xevent_settings &#40;Transact-SQL&#41;</span><span class="sxs-lookup"><span data-stu-id="a477f-182">smart_admin.fn_get_current_xevent_settings &#40;Transact-SQL&#41;</span></span>](/sql/relational-databases/system-functions/managed-backup-fn-get-current-xevent-settings-transact-sql)|<span data-ttu-id="a477f-183">Función del sistema que devuelve la configuración actual de Eventos extendidos.</span><span class="sxs-lookup"><span data-stu-id="a477f-183">System function that returns the current extended event settings.</span></span>|  
|[<span data-ttu-id="a477f-184">smart_admin. fn_get_health_status &#40;Transact-SQL&#41;</span><span class="sxs-lookup"><span data-stu-id="a477f-184">smart_admin.fn_get_health_status &#40;Transact-SQL&#41;</span></span>](/sql/relational-databases/system-functions/managed-backup-fn-get-health-status-transact-sql)|<span data-ttu-id="a477f-185">Función del sistema que devuelve los recuentos agregados de los errores registrados por Eventos extendidos durante un período específico.</span><span class="sxs-lookup"><span data-stu-id="a477f-185">System function that returns the aggregated counts of errors logged by Extended Events for a specified period.</span></span>|  
|[<span data-ttu-id="a477f-186">Supervisión de copia de seguridad administrada de SQL Server en Azure</span><span class="sxs-lookup"><span data-stu-id="a477f-186">Monitor SQL Server Managed Backup to Azure</span></span>](sql-server-managed-backup-to-microsoft-azure.md)|<span data-ttu-id="a477f-187">Eventos extendidos para la supervisión, la notificación por correo electrónico de errores y las advertencias, la administración basada en directivas de SQL Server para [!INCLUDE[ss_smartbackup](../../includes/ss-smartbackup-md.md)].</span><span class="sxs-lookup"><span data-stu-id="a477f-187">Extended Events for monitoring, email notification of errors and warnings, SQL Server Policy Based Management for [!INCLUDE[ss_smartbackup](../../includes/ss-smartbackup-md.md)] .</span></span>|  
  
#### <a name="backup-strategy"></a><span data-ttu-id="a477f-188">Estrategia de copia de seguridad</span><span class="sxs-lookup"><span data-stu-id="a477f-188">Backup Strategy</span></span>  
 <span data-ttu-id="a477f-189">**Estrategia de copia de seguridad utilizada por [!INCLUDE[ss_smartbackup](../../includes/ss-smartbackup-md.md)] :**</span><span class="sxs-lookup"><span data-stu-id="a477f-189">**Backup Strategy used by [!INCLUDE[ss_smartbackup](../../includes/ss-smartbackup-md.md)]:**</span></span>  
  
 <span data-ttu-id="a477f-190">Determina el tipo de copias de seguridad programadas y la frecuencia de copia de seguridad en función de la carga de trabajo de la base de datos.</span><span class="sxs-lookup"><span data-stu-id="a477f-190">The type of backups scheduled and the backup frequency is determined based on the workload of the database.</span></span> <span data-ttu-id="a477f-191">La configuración del período de retención se utiliza para determinar el tiempo que un archivo de copia de seguridad debe conservarse en el almacenamiento y la capacidad de recuperar la base de datos hasta un momento dado dentro del período de retención.</span><span class="sxs-lookup"><span data-stu-id="a477f-191">The retention period settings are used to determine the length of time a backup file should be retained in the storage and the ability to recover the database to a point-in-time within the retention period.</span></span>  
  
 <span data-ttu-id="a477f-192">**Convenciones de nomenclatura de los archivos y del contenedor de copia de seguridad:**</span><span class="sxs-lookup"><span data-stu-id="a477f-192">**Backup Container and File Naming Conventions:**</span></span>  
  
 [!INCLUDE[ss_smartbackup](../../includes/ss-smartbackup-md.md)]<span data-ttu-id="a477f-193">asigna un nombre al contenedor de almacenamiento de Azure mediante el nombre de la instancia de SQL Server para todas las bases de datos, excepto las bases de datos de disponibilidad.</span><span class="sxs-lookup"><span data-stu-id="a477f-193">names the Azure storage container using the SQL Server Instance Name for all databases except availability databases.</span></span>  <span data-ttu-id="a477f-194">En el caso de las bases de datos de disponibilidad, se usa el GUID del grupo de disponibilidad para asignar un nombre al contenedor de almacenamiento de Azure.</span><span class="sxs-lookup"><span data-stu-id="a477f-194">For availability databases, the Availability Group GUID is used to name the Azure storage container.</span></span>  
  
 <span data-ttu-id="a477f-195">El archivo de copia de seguridad para las bases de datos que no son de disponibilidad se denomina con la Convención siguiente: el nombre se crea con los primeros 40 caracteres del nombre de la base de datos, el GUID de la base de datos sin '-' y la marca de tiempo.</span><span class="sxs-lookup"><span data-stu-id="a477f-195">The backup file for non availability databases are named using the following convention: The name is created using the first 40 characters of the database name, the database GUID without the '-', and the timestamp.</span></span> <span data-ttu-id="a477f-196">El carácter de subrayado se inserta entre los segmentos como separadores.</span><span class="sxs-lookup"><span data-stu-id="a477f-196">The underscore character is inserted between segments as separators.</span></span> <span data-ttu-id="a477f-197">La extensión de archivo **.bak** se usa en el caso de que la copia de seguridad sea completa y **.log** se usa para las copias de seguridad de registros.</span><span class="sxs-lookup"><span data-stu-id="a477f-197">The **.bak** file extension is used for full backup and **.log** for log backups.</span></span> <span data-ttu-id="a477f-198">En las bases de datos del grupo de disponibilidad, además de la convención de nomenclatura de archivos descrita anteriormente, se agrega el GUID de la base de datos del grupo de disponibilidad después de los 40 caracteres del nombre de la base de datos.</span><span class="sxs-lookup"><span data-stu-id="a477f-198">For Avaialbility Group databases, in addition to the file naming convention described above, the Availability Group database GUID is added after the 40 characters of the database name.</span></span> <span data-ttu-id="a477f-199">El GUID de la base de datos del grupo de disponibilidad es el valor de group_database_id de sys.databases.</span><span class="sxs-lookup"><span data-stu-id="a477f-199">The Availability Group database GUID value is the value for group_database_id in sys.databases.</span></span>  
  
 <span data-ttu-id="a477f-200">**Copia de seguridad completa de base de datos:** [!INCLUDE[ss_smartbackup](../../includes/ss-smartbackup-md.md)] el agente programa una copia de seguridad completa de la base de datos si se cumple alguna de las siguientes condiciones.</span><span class="sxs-lookup"><span data-stu-id="a477f-200">**Full Database Backup:** [!INCLUDE[ss_smartbackup](../../includes/ss-smartbackup-md.md)] agent schedules a full database backup if any of the following is true.</span></span>  
  
-   <span data-ttu-id="a477f-201">Una base de datos se habilita para [!INCLUDE[ss_smartbackup](../../includes/ss-smartbackup-md.md)] por primera vez o cuando [!INCLUDE[ss_smartbackup](../../includes/ss-smartbackup-md.md)] se habilita con la configuración predeterminada en el nivel de instancia.</span><span class="sxs-lookup"><span data-stu-id="a477f-201">A database is [!INCLUDE[ss_smartbackup](../../includes/ss-smartbackup-md.md)] enabled for the first time, or when [!INCLUDE[ss_smartbackup](../../includes/ss-smartbackup-md.md)] is enabled with default settings at the instance level.</span></span>  
  
-   <span data-ttu-id="a477f-202">El crecimiento del registro desde la última copia de seguridad completa de la base de datos es igual o mayor que 1 GB.</span><span class="sxs-lookup"><span data-stu-id="a477f-202">The log growth since last full database backup is equal to or larger than 1 GB.</span></span>  
  
-   <span data-ttu-id="a477f-203">Ha transcurrido el intervalo de tiempo máximo de una semana desde la última copia de seguridad completa de la base de datos.</span><span class="sxs-lookup"><span data-stu-id="a477f-203">The maximum time interval of one week has passed since the last full database backup.</span></span>  
  
-   <span data-ttu-id="a477f-204">La cadena de registros se interrumpe.</span><span class="sxs-lookup"><span data-stu-id="a477f-204">The log chain is broken.</span></span> [!INCLUDE[ss_smartbackup](../../includes/ss-smartbackup-md.md)] <span data-ttu-id="a477f-205">comprueba periódicamente si la cadena de registros está intacta comparando el primer y el último LSN de los archivos de copia de seguridad.</span><span class="sxs-lookup"><span data-stu-id="a477f-205">periodically checks to see whether the log chain is intact by comparing the first and last LSNs of the backup files.</span></span> <span data-ttu-id="a477f-206">Si se interrumpe la cadena de registros por cualquier motivo, [!INCLUDE[ss_smartbackup](../../includes/ss-smartbackup-md.md)] programa una copia de seguridad completa de la base de datos.</span><span class="sxs-lookup"><span data-stu-id="a477f-206">If there is break in the log chain for any reason, [!INCLUDE[ss_smartbackup](../../includes/ss-smartbackup-md.md)] schedules a full database backup.</span></span> <span data-ttu-id="a477f-207">La razón más común para la interrupción de la cadena de registros es, probablemente, un comando de copia de seguridad emitido con Transact-SQL o con la tarea de copia de seguridad en SQL Server Management Studio.</span><span class="sxs-lookup"><span data-stu-id="a477f-207">The most common reason for log chain breaks is probably a backup command issued using Transact-SQL or through the Backup task in SQL Server Management Studio.</span></span>  <span data-ttu-id="a477f-208">Otros escenarios comunes incluyen la eliminación accidental de los archivos de registro de copia de seguridad o la sobrescritura accidental de las copias de seguridad.</span><span class="sxs-lookup"><span data-stu-id="a477f-208">Other common scenarios include accidental deletion of the backup log files, or accidental overwrites of backups.</span></span>  
  
 <span data-ttu-id="a477f-209">**Copia de seguridad del registro de transacciones:** [!INCLUDE[ss_smartbackup](../../includes/ss-smartbackup-md.md)] programa una copia de seguridad de registros si se cumple alguna de las siguientes condiciones:</span><span class="sxs-lookup"><span data-stu-id="a477f-209">**Transaction Log Backup:** [!INCLUDE[ss_smartbackup](../../includes/ss-smartbackup-md.md)] schedules a log backup if any of the following is true:</span></span>  
  
-   <span data-ttu-id="a477f-210">No se encuentra el historial de copias de seguridad de registros.</span><span class="sxs-lookup"><span data-stu-id="a477f-210">There is no log backup history that can be found.</span></span> <span data-ttu-id="a477f-211">Normalmente esto es así cuando [!INCLUDE[ss_smartbackup](../../includes/ss-smartbackup-md.md)] se habilita por primera vez.</span><span class="sxs-lookup"><span data-stu-id="a477f-211">This is usually true when [!INCLUDE[ss_smartbackup](../../includes/ss-smartbackup-md.md)] is enabled for the first time.</span></span>  
  
-   <span data-ttu-id="a477f-212">El espacio del registro de transacciones utilizado es de 5 MB o más.</span><span class="sxs-lookup"><span data-stu-id="a477f-212">The transaction log space used is 5 MB or larger.</span></span>  
  
-   <span data-ttu-id="a477f-213">Se alcanza el intervalo de tiempo máximo de 2 horas desde la última copia de seguridad de registros.</span><span class="sxs-lookup"><span data-stu-id="a477f-213">The maximum time interval of 2 hours since the last log backup is reached.</span></span>  
  
-   <span data-ttu-id="a477f-214">En cualquier momento, la copia de seguridad del registro de transacciones se retrasa después de una copia de seguridad completa de la base de datos.</span><span class="sxs-lookup"><span data-stu-id="a477f-214">Any time the transaction log backup is lagging behind a full database backup.</span></span> <span data-ttu-id="a477f-215">El objetivo es mantener la cadena de registros por delante de la copia de seguridad completa.</span><span class="sxs-lookup"><span data-stu-id="a477f-215">The goal is to keep the log chain ahead of full backup.</span></span>  
  
#### <a name="retention-period-settings"></a><span data-ttu-id="a477f-216">Configuración del período de retención</span><span class="sxs-lookup"><span data-stu-id="a477f-216">Retention Period Settings</span></span>  
 <span data-ttu-id="a477f-217">Cuando se habilita la copia de seguridad debe establecer el periodo de retención en días: el mínimo es 1 día y el máximo 30 días.</span><span class="sxs-lookup"><span data-stu-id="a477f-217">When enabling backup you must set the retention period in days: The minimum is 1 day, and maximum is 30 days.</span></span>  
  
 [!INCLUDE[ss_smartbackup](../../includes/ss-smartbackup-md.md)] <span data-ttu-id="a477f-218">según la configuración del período de retención evalúa la capacidad de recuperar a un momento dado en el tiempo especificado para determinar qué archivos de copia de seguridad mantener e identificar los que hay que eliminar.</span><span class="sxs-lookup"><span data-stu-id="a477f-218">based on the retention period settings, assesses the ability to recover to a point in time in the specified time, to determine what backup files to keep and identifying the backup files to delete.</span></span> <span data-ttu-id="a477f-219">El backup_finish_date de la copia de seguridad se utiliza para determinar y hacer coincidir el tiempo especificado por la configuración del período de retención.</span><span class="sxs-lookup"><span data-stu-id="a477f-219">The backup_finish_date of the backup is used to determine and match the time specified by the retention period settings.</span></span>  
  
#### <a name="important-considerations"></a><span data-ttu-id="a477f-220">Consideraciones importantes</span><span class="sxs-lookup"><span data-stu-id="a477f-220">Important Considerations</span></span>  
 <span data-ttu-id="a477f-221">Hay algunas consideraciones que son importantes para comprender su efecto en las operaciones de [!INCLUDE[ss_smartbackup](../../includes/ss-smartbackup-md.md)].</span><span class="sxs-lookup"><span data-stu-id="a477f-221">There are some considerations that are important to understand their impact on [!INCLUDE[ss_smartbackup](../../includes/ss-smartbackup-md.md)] operations.</span></span> <span data-ttu-id="a477f-222">Se enumeran a continuación:</span><span class="sxs-lookup"><span data-stu-id="a477f-222">They are listed below:</span></span>  
  
-   <span data-ttu-id="a477f-223">Para las bases de datos, si hay un trabajo de copia de seguridad completa de la base de datos en ejecución, [!INCLUDE[ss_smartbackup](../../includes/ss-smartbackup-md.md)] espera a que el trabajo actual se complete antes de hacer otra copia de seguridad completa de la misma base de datos.</span><span class="sxs-lookup"><span data-stu-id="a477f-223">For a database, if there is an existing full database backup job running, then [!INCLUDE[ss_smartbackup](../../includes/ss-smartbackup-md.md)] waits for the current job to be completed before doing another full database backup for the same database.</span></span> <span data-ttu-id="a477f-224">Asimismo, solo una copia de seguridad del registro de transacciones se puede ejecutar en un momento dado.</span><span class="sxs-lookup"><span data-stu-id="a477f-224">Similarly, only one transaction log backup can be running at a given time.</span></span> <span data-ttu-id="a477f-225">Sin embargo, una copia de seguridad completa y una copia de seguridad del registro de transacciones pueden ejecutarse simultáneamente.</span><span class="sxs-lookup"><span data-stu-id="a477f-225">However, a full database backup and a transaction log backup can run concurrently.</span></span> <span data-ttu-id="a477f-226">Los errores se registran como Eventos extendidos.</span><span class="sxs-lookup"><span data-stu-id="a477f-226">Failures are logged as Extended Events.</span></span>  
  
-   <span data-ttu-id="a477f-227">Si se programan más de 10 copias de seguridad completas simultáneas de la base de datos, se emitirá una advertencia a través del canal de depuración de Eventos extendidos.</span><span class="sxs-lookup"><span data-stu-id="a477f-227">If more than 10 concurrent full database backups are scheduled, a warning is issued through the debug channel of Extended Events.</span></span> [!INCLUDE[ss_smartbackup](../../includes/ss-smartbackup-md.md)] <span data-ttu-id="a477f-228">mantiene entonces una cola de prioridad para las bases de datos restantes que requieren una copia de seguridad hasta que se programen y completen todas.</span><span class="sxs-lookup"><span data-stu-id="a477f-228">then maintains a priority queue for the remaining databases that require a backup until the all backups are scheduled and completed.</span></span>  
  
###  <a name="support-limitations"></a><span data-ttu-id="a477f-229">Limitaciones de compatibilidad de <a name="support_limits"></a></span><span class="sxs-lookup"><span data-stu-id="a477f-229"><a name="support_limits"></a> Support Limitations</span></span>  
 <span data-ttu-id="a477f-230">A continuación se indican algunas limitaciones específicas de [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)]:</span><span class="sxs-lookup"><span data-stu-id="a477f-230">The following are some limitations specific to [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)]:</span></span>  
  
-   <span data-ttu-id="a477f-231">El agente [!INCLUDE[ss_smartbackup](../../includes/ss-smartbackup-md.md)] solo admite copias de seguridad de la base de datos: copias de seguridad completas y de registros.</span><span class="sxs-lookup"><span data-stu-id="a477f-231">[!INCLUDE[ss_smartbackup](../../includes/ss-smartbackup-md.md)] agent supports database backups only: Full and Log Backups.</span></span>  <span data-ttu-id="a477f-232">La automatización de la copia de seguridad de archivos no se admite.</span><span class="sxs-lookup"><span data-stu-id="a477f-232">File backup automation is not supported.</span></span>  
  
-   <span data-ttu-id="a477f-233">Las operaciones de [!INCLUDE[ss_smartbackup](../../includes/ss-smartbackup-md.md)] se admiten actualmente mediante Transact-SQL.</span><span class="sxs-lookup"><span data-stu-id="a477f-233">[!INCLUDE[ss_smartbackup](../../includes/ss-smartbackup-md.md)] operations are currently supported using Transact-SQL.</span></span> <span data-ttu-id="a477f-234">La supervisión y la solución de problemas se puede llevar a cabo con Eventos extendidos.</span><span class="sxs-lookup"><span data-stu-id="a477f-234">Monitoring and troubleshooting can be done by using Extended Events.</span></span> <span data-ttu-id="a477f-235">El soporte técnico de SMO y PowerShell se limita a la configuración del almacenamiento, a la configuración predeterminada del periodo de retención para una instancia de SQL Server y a la supervisión del estado de la copia de seguridad y del estado general según las directivas de administración basada en directivas de SQL Server.</span><span class="sxs-lookup"><span data-stu-id="a477f-235">PowerShell and SMO support is limited to configuring storage and retention period default settings for an instance of SQL Server, and monitoring the backup status and overall health based on SQL Server Policy Based Management policies.</span></span>  
  
-   <span data-ttu-id="a477f-236">Las bases de datos del sistema no se admiten.</span><span class="sxs-lookup"><span data-stu-id="a477f-236">System Databases are not supported.</span></span>  
  
-   <span data-ttu-id="a477f-237">Azure Blob Storage servicio es la única opción de almacenamiento de copia de seguridad admitida.</span><span class="sxs-lookup"><span data-stu-id="a477f-237">Azure Blob Storage service is the only supported backup storage option.</span></span> <span data-ttu-id="a477f-238">Las copias de seguridad en disco o cinta no se admiten.</span><span class="sxs-lookup"><span data-stu-id="a477f-238">Backups to disk or tape are not supported.</span></span>  
  
-   <span data-ttu-id="a477f-239">Actualmente, el tamaño de archivo máximo permitido para un BLOB en páginas en Azure Storage es 1 TB.</span><span class="sxs-lookup"><span data-stu-id="a477f-239">Currently, the maximum file size allowed for a Page Blob in Azure Storage is 1 TB.</span></span> <span data-ttu-id="a477f-240">Los archivos de copia de seguridad mayores que 1 TB mayor producirán un error.</span><span class="sxs-lookup"><span data-stu-id="a477f-240">Backup files larger than 1 TB will fail.</span></span> <span data-ttu-id="a477f-241">Para evitar esta situación, se recomienda usar la compresión para las bases de datos grandes y se pruebe el tamaño del archivo de copia de seguridad antes de configurar [!INCLUDE[ss_smartbackup](../../includes/ss-smartbackup-md.md)].</span><span class="sxs-lookup"><span data-stu-id="a477f-241">In order to avoid this situation, we recommend that for large databases, use compression and test the backup file size prior to setting up [!INCLUDE[ss_smartbackup](../../includes/ss-smartbackup-md.md)].</span></span> <span data-ttu-id="a477f-242">Puede realizar una prueba realizando una copia de seguridad en un disco local o realizando una copia de seguridad manual en Azure Storage mediante `BACKUP TO URL` la instrucción Transact-SQL.</span><span class="sxs-lookup"><span data-stu-id="a477f-242">You can either test by backing up to a local disk or manually backing up to Azure storage using `BACKUP TO URL` Transact-SQL statement.</span></span> <span data-ttu-id="a477f-243">Para más información, consulte [SQL Server Backup to URL](sql-server-backup-to-url.md).</span><span class="sxs-lookup"><span data-stu-id="a477f-243">For more information, see [SQL Server Backup to URL](sql-server-backup-to-url.md).</span></span>  
  
-   <span data-ttu-id="a477f-244">Modelos de recuperación: solo se admiten las bases de datos establecidas para el modelo de registro masivo o completo.</span><span class="sxs-lookup"><span data-stu-id="a477f-244">Recovery Models: Only databases set to Full or Bulk-logged model are supported.</span></span>  <span data-ttu-id="a477f-245">Las bases de datos establecidas en el modelo de recuperación simple no se admiten.</span><span class="sxs-lookup"><span data-stu-id="a477f-245">Databases set to simple recovery model are not supported.</span></span>  
  
-   [!INCLUDE[ss_smartbackup](../../includes/ss-smartbackup-md.md)] <span data-ttu-id="a477f-246">puede tener algunas limitaciones cuando se configura con otras tecnologías que admiten la copia de seguridad, la alta disponibilidad o la recuperación de desastres.</span><span class="sxs-lookup"><span data-stu-id="a477f-246">may have some limitations when it is configured with other technologies supporting backup, high availability, or disaster recovery.</span></span> <span data-ttu-id="a477f-247">Para obtener más información, vea [SQL Server copia de seguridad administrada en Azure: interoperabilidad y coexistencia](../../database-engine/sql-server-managed-backup-to-windows-azure-interoperability-and-coexistence.md).</span><span class="sxs-lookup"><span data-stu-id="a477f-247">For more information, see [SQL Server Managed Backup to Azure: Interoperability and Coexistence](../../database-engine/sql-server-managed-backup-to-windows-azure-interoperability-and-coexistence.md).</span></span>  
  
##  <a name="related-tasks"></a><a name="RelatedTasks"></a> <span data-ttu-id="a477f-248">Tareas relacionadas</span><span class="sxs-lookup"><span data-stu-id="a477f-248">Related Tasks</span></span>  
  
|||  
|-|-|  
|<span data-ttu-id="a477f-249">**Descripciones de tareas**</span><span class="sxs-lookup"><span data-stu-id="a477f-249">**Task descriptions**</span></span>|<span data-ttu-id="a477f-250">**Tema.**</span><span class="sxs-lookup"><span data-stu-id="a477f-250">**Topic**</span></span>|  
|<span data-ttu-id="a477f-251">Las tareas básicas como la configuración de [!INCLUDE[ss_smartbackup](../../includes/ss-smartbackup-md.md)] para una base de datos, la configuración predeterminada en el nivel de instancia, la deshabilitación de [!INCLUDE[ss_smartbackup](../../includes/ss-smartbackup-md.md)] en la instancia o base de datos, la pausa y el reinicio de [!INCLUDE[ss_smartbackup](../../includes/ss-smartbackup-md.md)].</span><span class="sxs-lookup"><span data-stu-id="a477f-251">Basic tasks like configuring [!INCLUDE[ss_smartbackup](../../includes/ss-smartbackup-md.md)] for a database, or configuring default settings at the instance level, disabling [!INCLUDE[ss_smartbackup](../../includes/ss-smartbackup-md.md)] at instance or database level, pausing and restarting [!INCLUDE[ss_smartbackup](../../includes/ss-smartbackup-md.md)].</span></span>|[<span data-ttu-id="a477f-252">Copia de seguridad administrada de SQL Server en Azure: configuración de la retención y el almacenamiento</span><span class="sxs-lookup"><span data-stu-id="a477f-252">SQL Server Managed Backup to Azure - Retention and Storage Settings</span></span>](../../database-engine/sql-server-managed-backup-to-windows-azure-retention-and-storage-settings.md)|  
|<span data-ttu-id="a477f-253">**Tutorial:** Instrucciones paso a paso para configurar y supervisar [!INCLUDE[ss_smartbackup](../../includes/ss-smartbackup-md.md)] .</span><span class="sxs-lookup"><span data-stu-id="a477f-253">**Tutorial:** Step by Step instructions to configuring and monitoring [!INCLUDE[ss_smartbackup](../../includes/ss-smartbackup-md.md)].</span></span>|[<span data-ttu-id="a477f-254">Configuración de copia de seguridad administrada de SQL Server en Azure</span><span class="sxs-lookup"><span data-stu-id="a477f-254">Setting up SQL Server Managed Backup to Azure</span></span>](enable-sql-server-managed-backup-to-microsoft-azure.md)|  
|<span data-ttu-id="a477f-255">**Tutorial:** Instrucciones paso a paso para configurar y supervisar [!INCLUDE[ss_smartbackup](../../includes/ss-smartbackup-md.md)] bases de datos en el grupo de disponibilidad.</span><span class="sxs-lookup"><span data-stu-id="a477f-255">**Tutorial:** Step by Step instructions to configuring and monitoring [!INCLUDE[ss_smartbackup](../../includes/ss-smartbackup-md.md)] for databases in Availability Group.</span></span>|[<span data-ttu-id="a477f-256">Configuración de copia de seguridad administrada de SQL Server para Azure para grupos de disponibilidad</span><span class="sxs-lookup"><span data-stu-id="a477f-256">Setting up SQL Server Managed Backup to Azure for Availability Groups</span></span>](../../database-engine/setting-up-sql-server-managed-backup-to-windows-azure-for-availability-groups.md)|  
|<span data-ttu-id="a477f-257">Herramientas, conceptos y tareas relacionadas con la supervisión de [!INCLUDE[ss_smartbackup](../../includes/ss-smartbackup-md.md)].</span><span class="sxs-lookup"><span data-stu-id="a477f-257">Tools and Concepts and tasks related to monitoring [!INCLUDE[ss_smartbackup](../../includes/ss-smartbackup-md.md)] .</span></span>|[<span data-ttu-id="a477f-258">Supervisión de copia de seguridad administrada de SQL Server en Azure</span><span class="sxs-lookup"><span data-stu-id="a477f-258">Monitor SQL Server Managed Backup to Azure</span></span>](sql-server-managed-backup-to-microsoft-azure.md)|  
|<span data-ttu-id="a477f-259">Herramientas y pasos para solucionar problemas de [!INCLUDE[ss_smartbackup](../../includes/ss-smartbackup-md.md)].</span><span class="sxs-lookup"><span data-stu-id="a477f-259">Tools and steps to troubleshooting [!INCLUDE[ss_smartbackup](../../includes/ss-smartbackup-md.md)].</span></span>|[<span data-ttu-id="a477f-260">Solución de problemas de SQL Server copia de seguridad administrada en Azure</span><span class="sxs-lookup"><span data-stu-id="a477f-260">Troubleshooting SQL Server Managed  Backup to Azure</span></span>](../../database-engine/troubleshooting-sql-server-managed-backup-to-windows-azure.md)|  
  
## <a name="see-also"></a><span data-ttu-id="a477f-261">Consulte también</span><span class="sxs-lookup"><span data-stu-id="a477f-261">See Also</span></span>  
 <span data-ttu-id="a477f-262">[SQL Server copias de seguridad y restauración con Azure Blob Storage servicio](sql-server-backup-and-restore-with-microsoft-azure-blob-storage-service.md) </span><span class="sxs-lookup"><span data-stu-id="a477f-262">[SQL Server Backup and Restore with Azure Blob Storage Service](sql-server-backup-and-restore-with-microsoft-azure-blob-storage-service.md) </span></span>  
 <span data-ttu-id="a477f-263">[SQL Server copia de seguridad en URL](sql-server-backup-to-url.md) </span><span class="sxs-lookup"><span data-stu-id="a477f-263">[SQL Server Backup to URL](sql-server-backup-to-url.md) </span></span>  
 <span data-ttu-id="a477f-264">[SQL Server copia de seguridad administrada en Azure: interoperabilidad y coexistencia](../../database-engine/sql-server-managed-backup-to-windows-azure-interoperability-and-coexistence.md) </span><span class="sxs-lookup"><span data-stu-id="a477f-264">[SQL Server Managed Backup to Azure: Interoperability and Coexistence](../../database-engine/sql-server-managed-backup-to-windows-azure-interoperability-and-coexistence.md) </span></span>  
 [<span data-ttu-id="a477f-265">Solución de problemas de SQL Server copia de seguridad administrada en Azure</span><span class="sxs-lookup"><span data-stu-id="a477f-265">Troubleshooting SQL Server Managed  Backup to Azure</span></span>](../../database-engine/troubleshooting-sql-server-managed-backup-to-windows-azure.md)  
  
  
