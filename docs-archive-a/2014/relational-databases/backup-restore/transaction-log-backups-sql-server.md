---
title: Copias de seguridad de registros de transacciones (SQL Server) | Microsoft Docs
ms.custom: ''
ms.date: 06/13/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: backup-restore
ms.topic: conceptual
helpviewer_keywords:
- backing up [SQL Server], transaction logs
- transaction log backups [SQL Server], creating
- log backups [SQL Server[
- transaction log backups [SQL Server], sequencing
ms.assetid: f4a44a35-0f44-4a42-91d5-d73ac658a3b0
author: MikeRayMSFT
ms.author: mikeray
ms.openlocfilehash: 752447d6c38a2df0fcbdce72fbba12edd7a9eeb3
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 08/04/2020
ms.locfileid: "87747051"
---
# <a name="transaction-log-backups-sql-server"></a><span data-ttu-id="2aef8-102">Copias de seguridad de registros de transacciones (SQL Server)</span><span class="sxs-lookup"><span data-stu-id="2aef8-102">Transaction Log Backups (SQL Server)</span></span>
  <span data-ttu-id="2aef8-103">Este tema solamente es aplicable a las bases de datos de [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] que usan el modelo de recuperación optimizado para cargas masivas de registros o el modelo de recuperación completa.</span><span class="sxs-lookup"><span data-stu-id="2aef8-103">This topic is relevant only for [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] databases that are using the full or bulk-logged recovery models.</span></span> <span data-ttu-id="2aef8-104">En este tema se describe cómo se realizan copias de seguridad del registro de transacciones de una base de datos de [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] .</span><span class="sxs-lookup"><span data-stu-id="2aef8-104">This topic discusses backing up the transaction log of a [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] database.</span></span>  
  
 <span data-ttu-id="2aef8-105">Como mínimo, debe haber creado al menos una copia de seguridad completa antes de poder generar una copia de seguridad de registros.</span><span class="sxs-lookup"><span data-stu-id="2aef8-105">Minimally, you must have created at least one full backup before you can create any log backups.</span></span> <span data-ttu-id="2aef8-106">A continuación, la copia de seguridad del registro de transacciones se podrá crear en cualquier momento, a menos que ya se haya realizado previamente.</span><span class="sxs-lookup"><span data-stu-id="2aef8-106">After that, the transaction log can be backed up at any time unless the log is already being backed up.</span></span> <span data-ttu-id="2aef8-107">Se recomienda realizar copias de seguridad de registros con frecuencia para minimizar el riesgo de pérdida de trabajo y el truncamiento del registro de transacciones.</span><span class="sxs-lookup"><span data-stu-id="2aef8-107">We recommend that you take log backups frequently, both to minimize work loss exposure and to truncate the transaction log.</span></span> <span data-ttu-id="2aef8-108">Normalmente, un administrador de bases de datos crea una copia de seguridad completa de la base de datos, por ejemplo, semanalmente; si lo desea, también puede crear una serie de copias de seguridad diferenciales de la base de datos a intervalos más cortos, por ejemplo, a diario.</span><span class="sxs-lookup"><span data-stu-id="2aef8-108">Typically, a database administrator creates a full database backup occasionally, such as weekly, and, optionally, creates a series of differential database backup at a shorter interval, such as daily.</span></span> <span data-ttu-id="2aef8-109">Con independencia de las copias de seguridad de la base de datos, el administrador de la base de datos hace copias de seguridad del registro de transacciones cada poco tiempo, por ejemplo, cada 10 minutos.</span><span class="sxs-lookup"><span data-stu-id="2aef8-109">Independently of the database backups, the database administrator backs up the transaction log at frequent intervals, such as every 10 minutes.</span></span> <span data-ttu-id="2aef8-110">En el caso de un tipo de copia de seguridad concreto, el intervalo óptimo dependerá de diversos factores, como la importancia de los datos, el tamaño de la base de datos y la carga de trabajo del servidor.</span><span class="sxs-lookup"><span data-stu-id="2aef8-110">For a given type of backup, the optimal interval depends on factors such as the importance of the data, the size of the database, and the workload of the server.</span></span>  
  
 <span data-ttu-id="2aef8-111">**En este tema:**</span><span class="sxs-lookup"><span data-stu-id="2aef8-111">**In this Topic:**</span></span>  
  
-   [<span data-ttu-id="2aef8-112">Cómo funciona una secuencia de copias de seguridad de registros</span><span class="sxs-lookup"><span data-stu-id="2aef8-112">How a Sequence of Log Backups Works</span></span>](#LogBackupSequence)  
  
-   [<span data-ttu-id="2aef8-113">Recomendaciones</span><span class="sxs-lookup"><span data-stu-id="2aef8-113">Recommendations</span></span>](#Recommendations)  
  
-   [<span data-ttu-id="2aef8-114">Tareas relacionadas</span><span class="sxs-lookup"><span data-stu-id="2aef8-114">Related Tasks</span></span>](#RelatedTasks)  
  
-   [<span data-ttu-id="2aef8-115">Contenido relacionado</span><span class="sxs-lookup"><span data-stu-id="2aef8-115">Related Content</span></span>](#RelatedContent)  
  
##  <a name="how-a-sequence-of-log-backups-works"></a><a name="LogBackupSequence"></a><span data-ttu-id="2aef8-116">Cómo funciona una secuencia de copias de seguridad de registros</span><span class="sxs-lookup"><span data-stu-id="2aef8-116">How a Sequence of Log Backups Works</span></span>  
 <span data-ttu-id="2aef8-117">La secuencia de las copias de seguridad del registro de transacciones ( *cadena de registros* ) es independiente de las copias de seguridad de los datos.</span><span class="sxs-lookup"><span data-stu-id="2aef8-117">The sequence of transaction log backups *log chain* is independent of data backups.</span></span> <span data-ttu-id="2aef8-118">Por ejemplo, suponga la siguiente secuencia de eventos.</span><span class="sxs-lookup"><span data-stu-id="2aef8-118">For example, assume the following sequence of events.</span></span>  
  
|<span data-ttu-id="2aef8-119">Time</span><span class="sxs-lookup"><span data-stu-id="2aef8-119">Time</span></span>|<span data-ttu-id="2aef8-120">Evento</span><span class="sxs-lookup"><span data-stu-id="2aef8-120">Event</span></span>|  
|----------|-----------|  
|<span data-ttu-id="2aef8-121">8:00 a. m.</span><span class="sxs-lookup"><span data-stu-id="2aef8-121">8:00 A.M.</span></span>|<span data-ttu-id="2aef8-122">Copia de seguridad de la base de datos.</span><span class="sxs-lookup"><span data-stu-id="2aef8-122">Back up database.</span></span>|  
|<span data-ttu-id="2aef8-123">Mediodía</span><span class="sxs-lookup"><span data-stu-id="2aef8-123">Noon</span></span>|<span data-ttu-id="2aef8-124">Copia de seguridad del registro de transacciones.</span><span class="sxs-lookup"><span data-stu-id="2aef8-124">Back up transaction log.</span></span>|  
|<span data-ttu-id="2aef8-125">4:00 p. m.</span><span class="sxs-lookup"><span data-stu-id="2aef8-125">4:00 P.M.</span></span>|<span data-ttu-id="2aef8-126">Copia de seguridad del registro de transacciones.</span><span class="sxs-lookup"><span data-stu-id="2aef8-126">Back up transaction log.</span></span>|  
|<span data-ttu-id="2aef8-127">6:00 p. m.</span><span class="sxs-lookup"><span data-stu-id="2aef8-127">6:00 P.M.</span></span>|<span data-ttu-id="2aef8-128">Copia de seguridad de la base de datos.</span><span class="sxs-lookup"><span data-stu-id="2aef8-128">Back up database.</span></span>|  
|<span data-ttu-id="2aef8-129">8:00 p. m.</span><span class="sxs-lookup"><span data-stu-id="2aef8-129">8:00 P.M.</span></span>|<span data-ttu-id="2aef8-130">Copia de seguridad del registro de transacciones.</span><span class="sxs-lookup"><span data-stu-id="2aef8-130">Back up transaction log.</span></span>|  
  
 <span data-ttu-id="2aef8-131">La copia de seguridad de registros de transacciones creada a las 8:00 p.m</span><span class="sxs-lookup"><span data-stu-id="2aef8-131">The transaction log backup created at 8:00 P.M.</span></span> <span data-ttu-id="2aef8-132">contiene las entradas de registros de transacciones comprendidas entre las 4:00 p.m.</span><span class="sxs-lookup"><span data-stu-id="2aef8-132">contains transaction log records from 4:00 P.M.</span></span> <span data-ttu-id="2aef8-133">y las 8:00 p.m., período que abarca el momento en que se creó la copia de seguridad de base de datos completa (a las 6:00 p.m.).</span><span class="sxs-lookup"><span data-stu-id="2aef8-133">through 8:00 P.M., spanning the time when the full database backup was created at 6:00 P.M.</span></span> <span data-ttu-id="2aef8-134">La secuencia de copias de seguridad de registros de transacciones es continua desde la primera copia de seguridad de base de datos completa, creada a las 8:00 a.m.</span><span class="sxs-lookup"><span data-stu-id="2aef8-134">The sequence of transaction log backups is continuous from the initial full database backup created at 8:00 A.M.</span></span> <span data-ttu-id="2aef8-135">hasta la última copia de seguridad de registros de transacciones, creada a las 8:00 p.m.</span><span class="sxs-lookup"><span data-stu-id="2aef8-135">to the last transaction log backup created at 8:00 P.M.</span></span> <span data-ttu-id="2aef8-136">Para obtener más información sobre cómo aplicar estas copias de seguridad de registros, vea el ejemplo de [Aplicar copias de seguridad del registro de transacciones &#40;SQL Server&#41;](transaction-log-backups-sql-server.md).</span><span class="sxs-lookup"><span data-stu-id="2aef8-136">For information about how to apply these log backups, see the example in [Apply Transaction Log Backups &#40;SQL Server&#41;](transaction-log-backups-sql-server.md).</span></span>  
  
##  <a name="recommendations"></a><a name="Recommendations"></a> <span data-ttu-id="2aef8-137">Recomendaciones</span><span class="sxs-lookup"><span data-stu-id="2aef8-137">Recommendations</span></span>  
  
-   <span data-ttu-id="2aef8-138">Si el registro de transacciones resulta dañado, perderá el trabajo realizado desde la última copia de seguridad válida.</span><span class="sxs-lookup"><span data-stu-id="2aef8-138">If a transaction log is damaged, work that is performed since the most recent valid backup is lost.</span></span> <span data-ttu-id="2aef8-139">Por tanto, le recomendamos encarecidamente que sitúe los archivos de registro en un almacenamiento con tolerancia a errores.</span><span class="sxs-lookup"><span data-stu-id="2aef8-139">Therefore we strongly recommend that you put your log files on fault-tolerant storage.</span></span>  
  
-   <span data-ttu-id="2aef8-140">Si una base de datos se daña o se va a restaurar, se recomienda crear una [copia del final del registro](tail-log-backups-sql-server.md) para que pueda restaurar la base de datos hasta el momento actual.</span><span class="sxs-lookup"><span data-stu-id="2aef8-140">If a database is damaged or you are about to restore the database, we recommend that you create a [tail-log backup](tail-log-backups-sql-server.md) to enable you to restore the database to the current point in time.</span></span>  
  
-   <span data-ttu-id="2aef8-141">De forma predeterminada, cada operación de copia de seguridad correcta agrega una entrada en el registro de errores de [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] y en el registro de eventos del sistema.</span><span class="sxs-lookup"><span data-stu-id="2aef8-141">By default, every successful backup operation adds an entry in the [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] error log and in the system event log.</span></span> <span data-ttu-id="2aef8-142">Si hace una copia de seguridad del registro de transacciones con frecuencia, estos mensajes que indican la corrección de la operación pueden acumularse rápidamente, con lo que se crean registros de errores muy grandes que pueden dificultar la búsqueda de otros mensajes.</span><span class="sxs-lookup"><span data-stu-id="2aef8-142">If back up the log very frequently, these success messages accumulate quickly, resulting in huge error logs that can make finding other messages difficult.</span></span> <span data-ttu-id="2aef8-143">En esos casos, puede suprimir estas entradas de registro utilizando la marca de seguimiento 3226 si ninguno de los scripts depende de esas entradas.</span><span class="sxs-lookup"><span data-stu-id="2aef8-143">In such cases you can suppress these log entries by using trace flag 3226 if none of your scripts depend on those entries.</span></span> <span data-ttu-id="2aef8-144">Para obtener más información, vea [Marcas de seguimiento &#40;Transact-SQL&#41;](/sql/t-sql/database-console-commands/dbcc-traceon-trace-flags-transact-sql).</span><span class="sxs-lookup"><span data-stu-id="2aef8-144">For more information, see [Trace Flags &#40;Transact-SQL&#41;](/sql/t-sql/database-console-commands/dbcc-traceon-trace-flags-transact-sql).</span></span>  
  
##  <a name="related-tasks"></a><a name="RelatedTasks"></a> <span data-ttu-id="2aef8-145">Tareas relacionadas</span><span class="sxs-lookup"><span data-stu-id="2aef8-145">Related Tasks</span></span>  
 <span data-ttu-id="2aef8-146">**Para crear una copia de seguridad del registro de transacciones**</span><span class="sxs-lookup"><span data-stu-id="2aef8-146">**To create a transaction log backup**</span></span>  
  
-   [<span data-ttu-id="2aef8-147">Realizar una copia de seguridad de un registro de transacciones &#40;SQL Server&#41;</span><span class="sxs-lookup"><span data-stu-id="2aef8-147">Back Up a Transaction Log &#40;SQL Server&#41;</span></span>](back-up-a-transaction-log-sql-server.md)  
  
-   <span data-ttu-id="2aef8-148"><xref:Microsoft.SqlServer.Management.Smo.Backup.SqlBackup%2A> (SMO)</span><span class="sxs-lookup"><span data-stu-id="2aef8-148"><xref:Microsoft.SqlServer.Management.Smo.Backup.SqlBackup%2A> (SMO)</span></span>  
  
 <span data-ttu-id="2aef8-149">Para programar trabajos de copia de seguridad, vea [Use the Maintenance Plan Wizard](../maintenance-plans/use-the-maintenance-plan-wizard.md).</span><span class="sxs-lookup"><span data-stu-id="2aef8-149">To schedule backup jobs, see [Use the Maintenance Plan Wizard](../maintenance-plans/use-the-maintenance-plan-wizard.md).</span></span>  
  
##  <a name="related-content"></a><a name="RelatedContent"></a> <span data-ttu-id="2aef8-150">Contenido relacionado</span><span class="sxs-lookup"><span data-stu-id="2aef8-150">Related Content</span></span>  
 <span data-ttu-id="2aef8-151">Ninguno.</span><span class="sxs-lookup"><span data-stu-id="2aef8-151">None.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="2aef8-152">Consulte también</span><span class="sxs-lookup"><span data-stu-id="2aef8-152">See Also</span></span>  
 <span data-ttu-id="2aef8-153">[El registro de transacciones &#40;SQL Server&#41;](../logs/the-transaction-log-sql-server.md) </span><span class="sxs-lookup"><span data-stu-id="2aef8-153">[The Transaction Log &#40;SQL Server&#41;](../logs/the-transaction-log-sql-server.md) </span></span>  
 <span data-ttu-id="2aef8-154">[Realizar copias de seguridad y restaurar bases de datos de SQL Server](back-up-and-restore-of-sql-server-databases.md) </span><span class="sxs-lookup"><span data-stu-id="2aef8-154">[Back Up and Restore of SQL Server Databases](back-up-and-restore-of-sql-server-databases.md) </span></span>  
 <span data-ttu-id="2aef8-155">[Copias del final del registro &#40;SQL Server&#41;](tail-log-backups-sql-server.md) </span><span class="sxs-lookup"><span data-stu-id="2aef8-155">[Tail-Log Backups &#40;SQL Server&#41;](tail-log-backups-sql-server.md) </span></span>  
 [<span data-ttu-id="2aef8-156">Aplicar copias de seguridad de registros de transacción &#40;SQL Server&#41;</span><span class="sxs-lookup"><span data-stu-id="2aef8-156">Apply Transaction Log Backups &#40;SQL Server&#41;</span></span>](transaction-log-backups-sql-server.md)  
  
  
