---
title: Restaurar páginas (SQL Server) | Microsoft Docs
ms.custom: ''
ms.date: 06/13/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: backup-restore
ms.topic: conceptual
f1_keywords:
- sql12.swb.restorepage.general.f1
helpviewer_keywords:
- restoring pages [SQL Server]
- pages [SQL Server], restoring
- databases [SQL Server], damaged
- page restores [SQL Server]
- pages [SQL Server], damaged
- restoring [SQL Server], pages
ms.assetid: 07e40950-384e-4d84-9ac5-84da6dd27a91
author: MikeRayMSFT
ms.author: mikeray
ms.openlocfilehash: 6fb008314b9cb156f1cc575bda71b6364eca6e3a
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 08/04/2020
ms.locfileid: "87745335"
---
# <a name="restore-pages-sql-server"></a><span data-ttu-id="bb8b2-102">Restaurar páginas (SQL Server)</span><span class="sxs-lookup"><span data-stu-id="bb8b2-102">Restore Pages (SQL Server)</span></span>
  <span data-ttu-id="bb8b2-103">En este tema se describe cómo restaurar páginas en [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] mediante [!INCLUDE[ssManStudioFull](../../includes/ssmanstudiofull-md.md)] o [!INCLUDE[tsql](../../includes/tsql-md.md)].</span><span class="sxs-lookup"><span data-stu-id="bb8b2-103">This topic describes how to restore pages in [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] by using [!INCLUDE[ssManStudioFull](../../includes/ssmanstudiofull-md.md)] or [!INCLUDE[tsql](../../includes/tsql-md.md)].</span></span> <span data-ttu-id="bb8b2-104">El objetivo de una restauración de páginas es restaurar una o varias páginas dañadas sin restaurar la base de datos completa.</span><span class="sxs-lookup"><span data-stu-id="bb8b2-104">The goal of a page restore is to restore one or more damaged pages without restoring the whole database.</span></span> <span data-ttu-id="bb8b2-105">Normalmente, las páginas candidatas para la restauración se han marcado como "sospechosas" debido a un error al tener acceso a la página.</span><span class="sxs-lookup"><span data-stu-id="bb8b2-105">Typically, pages that are candidates for restore have been marked as "suspect" because of an error that is encountered when accessing the page.</span></span> <span data-ttu-id="bb8b2-106">Las páginas sospechosas se identifican en la tabla [suspect_pages](/sql/relational-databases/system-tables/suspect-pages-transact-sql) de la base de datos **msdb** .</span><span class="sxs-lookup"><span data-stu-id="bb8b2-106">Suspect pages are identified in the [suspect_pages](/sql/relational-databases/system-tables/suspect-pages-transact-sql) table in the **msdb** database.</span></span>  
  
 <span data-ttu-id="bb8b2-107">**En este tema**</span><span class="sxs-lookup"><span data-stu-id="bb8b2-107">**In This Topic**</span></span>  
  
-   <span data-ttu-id="bb8b2-108">**Antes de empezar:**</span><span class="sxs-lookup"><span data-stu-id="bb8b2-108">**Before you begin:**</span></span>  
  
     [<span data-ttu-id="bb8b2-109">¿Cuándo es útil la restauración de páginas?</span><span class="sxs-lookup"><span data-stu-id="bb8b2-109">When is a Page Restore Useful?</span></span>](#WhenUseful)  
  
     [<span data-ttu-id="bb8b2-110">Limitaciones y restricciones</span><span class="sxs-lookup"><span data-stu-id="bb8b2-110">Limitations and Restrictions</span></span>](#Restrictions)  
  
     [<span data-ttu-id="bb8b2-111">Recomendaciones</span><span class="sxs-lookup"><span data-stu-id="bb8b2-111">Recommendations</span></span>](#Recommendations)  
  
     [<span data-ttu-id="bb8b2-112">Seguridad</span><span class="sxs-lookup"><span data-stu-id="bb8b2-112">Security</span></span>](#Security)  
  
-   <span data-ttu-id="bb8b2-113">**Para restaurar páginas, utilizando:**</span><span class="sxs-lookup"><span data-stu-id="bb8b2-113">**To restore pages, using:**</span></span>  
  
     [<span data-ttu-id="bb8b2-114">SQL Server Management Studio</span><span class="sxs-lookup"><span data-stu-id="bb8b2-114">SQL Server Management Studio</span></span>](#SSMSProcedure)  
  
     [<span data-ttu-id="bb8b2-115">Transact-SQL</span><span class="sxs-lookup"><span data-stu-id="bb8b2-115">Transact-SQL</span></span>](#TsqlProcedure)  
  
##  <a name="before-you-begin"></a><a name="BeforeYouBegin"></a> <span data-ttu-id="bb8b2-116">Antes de comenzar</span><span class="sxs-lookup"><span data-stu-id="bb8b2-116">Before You Begin</span></span>  
  
###  <a name="when-is-a-page-restore-useful"></a><a name="WhenUseful"></a> <span data-ttu-id="bb8b2-117">¿Cuándo es útil la restauración de páginas?</span><span class="sxs-lookup"><span data-stu-id="bb8b2-117">When is a Page Restore Useful?</span></span>  
 <span data-ttu-id="bb8b2-118">La restauración de páginas se ha diseñado para reparar páginas aisladas que se han dañado.</span><span class="sxs-lookup"><span data-stu-id="bb8b2-118">A page restore is intended for repairing isolated damaged pages.</span></span> <span data-ttu-id="bb8b2-119">La restauración y recuperación de una pequeña cantidad de páginas es más rápida que la restauración de un archivo, ya que reduce la cantidad de datos sin conexión durante la operación de restauración.</span><span class="sxs-lookup"><span data-stu-id="bb8b2-119">Restoring and recovering a few individual pages might be faster than a file restore, reducing the amount of data that is offline during a restore operation.</span></span> <span data-ttu-id="bb8b2-120">Sin embargo, si debe restaurar una cantidad mayor de páginas de un archivo, la restauración del archivo completo suele ser más efectiva.</span><span class="sxs-lookup"><span data-stu-id="bb8b2-120">However, if you have to restore more than a few pages in a file, it is generally more efficient to restore the whole file.</span></span> <span data-ttu-id="bb8b2-121">Por ejemplo, la presencia de un gran número de páginas dañadas en un dispositivo puede indicar un error de dispositivo pendiente. Pruebe a restaurar el archivo, posiblemente en otra ubicación, y repare el dispositivo.</span><span class="sxs-lookup"><span data-stu-id="bb8b2-121">For example, if lots of pages on a device indicate a pending device failure, consider restoring the file, possibly to another location, and repairing the device.</span></span>  
  
 <span data-ttu-id="bb8b2-122">Además, no todos los errores de página requieren una restauración.</span><span class="sxs-lookup"><span data-stu-id="bb8b2-122">Furthermore, not all page errors require a restore.</span></span> <span data-ttu-id="bb8b2-123">Puede producirse un problema en los datos en caché, como por ejemplo un índice secundario, que se puede resolver recalculando los datos.</span><span class="sxs-lookup"><span data-stu-id="bb8b2-123">A problem can occur in cached data, such as a secondary index, that can be resolved by recalculating the data.</span></span> <span data-ttu-id="bb8b2-124">Por ejemplo, si el administrador de base de datos quita un índice secundario y lo vuelve a generar, los datos dañados, aunque se corrijan, no se indican como tales en la tabla [suspect_pages](/sql/relational-databases/system-tables/suspect-pages-transact-sql) .</span><span class="sxs-lookup"><span data-stu-id="bb8b2-124">For example, if the database administrator drops a secondary index and rebuilds it, the corrupted data, although fixed, is not indicated as such in the [suspect_pages](/sql/relational-databases/system-tables/suspect-pages-transact-sql) table.</span></span>  
  
###  <a name="limitations-and-restrictions"></a><a name="Restrictions"></a> <span data-ttu-id="bb8b2-125">Limitaciones y restricciones</span><span class="sxs-lookup"><span data-stu-id="bb8b2-125">Limitations and Restrictions</span></span>  
  
-   <span data-ttu-id="bb8b2-126">La restauración de páginas se aplica a las bases de datos de [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] que usan los modelos de recuperación optimizado para cargas masivas de registros o completa.</span><span class="sxs-lookup"><span data-stu-id="bb8b2-126">Page restore applies to [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] databases that are using the full or bulk-logged recovery models.</span></span> <span data-ttu-id="bb8b2-127">La restauración de páginas solo se admite para grupos de archivos de lectura/escritura.</span><span class="sxs-lookup"><span data-stu-id="bb8b2-127">Page restore is supported only for read/write filegroups.</span></span>  
  
-   <span data-ttu-id="bb8b2-128">Solo se pueden restaurar las páginas de bases de datos.</span><span class="sxs-lookup"><span data-stu-id="bb8b2-128">Only database pages can be restored.</span></span> <span data-ttu-id="bb8b2-129">La restauración de páginas no se puede utilizar para restaurar los elementos siguientes:</span><span class="sxs-lookup"><span data-stu-id="bb8b2-129">Page restore cannot be used to restore the following:</span></span>  
  
    -   <span data-ttu-id="bb8b2-130">Registro de transacciones</span><span class="sxs-lookup"><span data-stu-id="bb8b2-130">Transaction log</span></span>  
  
    -   <span data-ttu-id="bb8b2-131">Páginas de asignación: páginas del mapa de asignación global (GAM), páginas del mapa de asignación global compartido (SGAM) y páginas de espacio disponible en páginas (PFS).</span><span class="sxs-lookup"><span data-stu-id="bb8b2-131">Allocation pages: Global Allocation Map (GAM) pages, Shared Global Allocation Map (SGAM) pages, and Page Free Space (PFS) pages.</span></span>  
  
    -   <span data-ttu-id="bb8b2-132">Página 0 de todos los archivos de datos (la página de arranque del archivo)</span><span class="sxs-lookup"><span data-stu-id="bb8b2-132">Page 0 of all data files (the file boot page)</span></span>  
  
    -   <span data-ttu-id="bb8b2-133">Página 1:9 (la página de arranque de la base de datos)</span><span class="sxs-lookup"><span data-stu-id="bb8b2-133">Page 1:9 (the database boot page)</span></span>  
  
    -   <span data-ttu-id="bb8b2-134">Catálogo de texto completo</span><span class="sxs-lookup"><span data-stu-id="bb8b2-134">Full-text catalog</span></span>  
  
-   <span data-ttu-id="bb8b2-135">Para una base de datos que utiliza el modelo de recuperación optimizado para cargas masivas de registros, la restauración de páginas cuenta con las condiciones adicionales siguientes:</span><span class="sxs-lookup"><span data-stu-id="bb8b2-135">For a database that uses the bulk-logged recovery model, page restore has the following additional conditions:</span></span>  
  
    -   <span data-ttu-id="bb8b2-136">La realización de copias de seguridad mientras un grupo de archivos o los datos de una página están en modo sin conexión resulta problemática para los datos de registros de operaciones masivas, ya que los datos sin conexión no se encuentran en el registro.</span><span class="sxs-lookup"><span data-stu-id="bb8b2-136">Backing up while filegroup or page data is offline is problematic for bulk-logged data, because the offline data is not recorded in the log.</span></span> <span data-ttu-id="bb8b2-137">La presencia de una página sin conexión puede evitar la realización de una copia de seguridad del registro.</span><span class="sxs-lookup"><span data-stu-id="bb8b2-137">Any offline page can prevent backing up the log.</span></span> <span data-ttu-id="bb8b2-138">En estos casos, intente utilizar DBCC REPAIR, de esta forma la pérdida de datos puede ser menor que si restaura la copia de seguridad más reciente.</span><span class="sxs-lookup"><span data-stu-id="bb8b2-138">In this cases, consider using DBCC REPAIR, because this might cause less data loss than restoring to the most recent backup.</span></span>  
  
    -   <span data-ttu-id="bb8b2-139">Si una copia de seguridad de registros de una base de datos por medio de registros de operaciones masivas detecta una página dañada, se producirá un error a menos que se especifique WITH CONTINUE_AFTER_ERROR.</span><span class="sxs-lookup"><span data-stu-id="bb8b2-139">If a log backup of a bulk-logged database encounters a bad page, it fails unless WITH CONTINUE_AFTER_ERROR is specified.</span></span>  
  
    -   <span data-ttu-id="bb8b2-140">La restauración de páginas no suele funcionar con la recuperación por medio de registros de operaciones masivas.</span><span class="sxs-lookup"><span data-stu-id="bb8b2-140">Page restore generally does not work with bulk-logged recovery.</span></span>  
  
         <span data-ttu-id="bb8b2-141">La recomendación para llevar a cabo la restauración de páginas es establecer la base de datos en el modelo de recuperación completa e intentar realizar una copia de seguridad de registros.</span><span class="sxs-lookup"><span data-stu-id="bb8b2-141">A best practice for performing page restore is to set the database to the full recovery model, and try a log backup.</span></span> <span data-ttu-id="bb8b2-142">Si la copia de seguridad de registros funciona, puede pasar a realizar la restauración de páginas.</span><span class="sxs-lookup"><span data-stu-id="bb8b2-142">If the log backup works, you can continue with the page restore.</span></span> <span data-ttu-id="bb8b2-143">Si la copia de seguridad de registros no se realiza correctamente, perderá el trabajo realizado desde la copia de seguridad de registros anterior o tendrá que intentar ejecutar DBCC con la opción REPAIR_ALLOW_DATA_LOSS.</span><span class="sxs-lookup"><span data-stu-id="bb8b2-143">If the log backup fails, you either have to lose work since the previous log backup or you have to try running DBCC must be run with the REPAIR_ALLOW_DATA_LOSS option.</span></span>  
  
###  <a name="recommendations"></a><a name="Recommendations"></a> <span data-ttu-id="bb8b2-144">Recomendaciones</span><span class="sxs-lookup"><span data-stu-id="bb8b2-144">Recommendations</span></span>  
  
-   <span data-ttu-id="bb8b2-145">Escenarios de restauración de páginas:</span><span class="sxs-lookup"><span data-stu-id="bb8b2-145">Page restore scenarios:</span></span>  
  
     <span data-ttu-id="bb8b2-146">Restauración de páginas sin conexión</span><span class="sxs-lookup"><span data-stu-id="bb8b2-146">Offline page restore</span></span>  
     <span data-ttu-id="bb8b2-147">Todas las ediciones de [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] admiten la restauración de páginas cuando la base de datos está sin conexión.</span><span class="sxs-lookup"><span data-stu-id="bb8b2-147">All editions of [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] support restoring pages when the database is offline.</span></span> <span data-ttu-id="bb8b2-148">En una restauración de páginas sin conexión, la base de datos está en modo sin conexión mientras se restauran las páginas dañadas.</span><span class="sxs-lookup"><span data-stu-id="bb8b2-148">In an offline page restore, the database is offline while damaged pages are restored.</span></span> <span data-ttu-id="bb8b2-149">Al final de la secuencia de restauración, la base de datos pasará a estar en línea.</span><span class="sxs-lookup"><span data-stu-id="bb8b2-149">At the end of the restore sequence, the database comes online.</span></span>  
  
     <span data-ttu-id="bb8b2-150">Restauración de páginas en línea</span><span class="sxs-lookup"><span data-stu-id="bb8b2-150">Online page restore</span></span>  
     [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] <span data-ttu-id="bb8b2-151">Enterprise Edition admite restauraciones de páginas en línea, aunque usa la restauración sin conexión si la base de datos está sin conexión en ese momento.</span><span class="sxs-lookup"><span data-stu-id="bb8b2-151">Enterprise edition supports online page restores, though they use offline restore if the database is currently offline.</span></span> <span data-ttu-id="bb8b2-152">En la mayoría de los casos, la restauración de una página dañada se realiza mientras la base de datos, incluido el grupo de archivos para el que la página se restaura, permanece en línea.</span><span class="sxs-lookup"><span data-stu-id="bb8b2-152">In most cases, a damaged page can be restored while the database remains online, including the filegroup to which a page is being restored.</span></span> <span data-ttu-id="bb8b2-153">Cuando el grupo de archivos principal está en línea, aunque alguno de los grupos de archivos secundarios esté sin conexión, las restauraciones de páginas suelen realizarse en línea.</span><span class="sxs-lookup"><span data-stu-id="bb8b2-153">When the primary filegroup is online, even if one or more of its secondary filegroups are offline, page restores are usually performed online.</span></span> <span data-ttu-id="bb8b2-154">Sin embargo, en ocasiones, será necesario utilizar una restauración sin conexión para algunas páginas dañadas.</span><span class="sxs-lookup"><span data-stu-id="bb8b2-154">Occasionally, however, a damaged page can require an offline restore.</span></span> <span data-ttu-id="bb8b2-155">Por ejemplo, cuando los daños en ciertas páginas críticas pueden evitar que se inicie la base de datos.</span><span class="sxs-lookup"><span data-stu-id="bb8b2-155">For example, damage to certain critical pages might prevent the database from starting.</span></span>  
  
    > [!WARNING]  
    >  <span data-ttu-id="bb8b2-156">Si las páginas dañadas almacenan metadatos críticos de la base de datos, las actualizaciones necesarias de los metadatos podrían producir un error durante el intento de restauración en línea de las páginas.</span><span class="sxs-lookup"><span data-stu-id="bb8b2-156">If damaged pages are storing critical database metadata, required updates to metadata might fail during an online page restore attempt.</span></span> <span data-ttu-id="bb8b2-157">En este caso, se puede realizar una restauración de páginas sin conexión, pero primero se debe crear una [copia del final del registro](tail-log-backups-sql-server.md) (realizando una copia de seguridad del registro de transacciones mediante RESTORE WITH NORECOVERY).</span><span class="sxs-lookup"><span data-stu-id="bb8b2-157">In this case, you can perform an offline page restore, but first you must create a [tail log backup](tail-log-backups-sql-server.md) (by backing up the transaction log using RESTORE WITH NORECOVERY).</span></span>  
  
-   <span data-ttu-id="bb8b2-158">La restauración de páginas utiliza el mecanismo mejorado de creación de informes y seguimiento de errores de página (incluidas las sumas de comprobación de página).</span><span class="sxs-lookup"><span data-stu-id="bb8b2-158">Page restore takes advantage of the improved page-level error reporting (including page checksums) and tracking.</span></span> <span data-ttu-id="bb8b2-159">Las páginas que las sumas de comprobación o las escrituras incompletas detectan como dañadas ( *páginas dañadas*) se pueden restaurar mediante una operación de restauración de páginas.</span><span class="sxs-lookup"><span data-stu-id="bb8b2-159">Pages that are detected as corrupted by check-summing or a torn write, *damaged pages*, can be restored by a page restore operation.</span></span> <span data-ttu-id="bb8b2-160">Solo se restauran las páginas que se especifican de forma explícita.</span><span class="sxs-lookup"><span data-stu-id="bb8b2-160">Only explicitly specified pages are restored.</span></span> <span data-ttu-id="bb8b2-161">Cada página especificada se sustituye por la copia de esa página en la copia de seguridad de datos especificada.</span><span class="sxs-lookup"><span data-stu-id="bb8b2-161">Each specified page is replaced by the copy of that page from the specified data backup.</span></span>  
  
     <span data-ttu-id="bb8b2-162">Cuando se restauran las copias de seguridad de registros posteriores, estas se aplican solo a los archivos de base de datos que contienen al menos una página se está recuperando.</span><span class="sxs-lookup"><span data-stu-id="bb8b2-162">When you restore the subsequent log backups, they are applied only to database files that contain at least one page that is being recovered.</span></span> <span data-ttu-id="bb8b2-163">Debe aplicarse una cadena ininterrumpida de copias de seguridad de registros a la última recuperación completa o diferencial para actualizar el grupo de archivos que incluye la página al archivo de registro actual.</span><span class="sxs-lookup"><span data-stu-id="bb8b2-163">An unbroken chain of log backups must be applied to the last full or differential restore to bring the filegroup that contains the page forward to the current log file.</span></span> <span data-ttu-id="bb8b2-164">Al igual que en una restauración de archivo, el conjunto de puestas al día se avanza con un solo pase de puesta al día de registro.</span><span class="sxs-lookup"><span data-stu-id="bb8b2-164">As in a file restore, the roll forward set is advanced with a single log redo pass.</span></span> <span data-ttu-id="bb8b2-165">Para que una restauración de páginas se lleve a cabo correctamente, las páginas restauradas deben recuperarse a un estado coherente con la base de datos.</span><span class="sxs-lookup"><span data-stu-id="bb8b2-165">For a page restore to succeed, the restored pages must be recovered to a state consistent with the database.</span></span>  
  
###  <a name="security"></a><a name="Security"></a> <span data-ttu-id="bb8b2-166">Seguridad</span><span class="sxs-lookup"><span data-stu-id="bb8b2-166">Security</span></span>  
  
####  <a name="permissions"></a><a name="Permissions"></a> <span data-ttu-id="bb8b2-167">Permisos</span><span class="sxs-lookup"><span data-stu-id="bb8b2-167">Permissions</span></span>  
 <span data-ttu-id="bb8b2-168">Si la base de datos que se va a restaurar no existe, el usuario debe tener permisos CREATE DATABASE para poder ejecutar RESTORE.</span><span class="sxs-lookup"><span data-stu-id="bb8b2-168">If the database being restored does not exist, the user must have CREATE DATABASE permissions to be able to execute RESTORE.</span></span> <span data-ttu-id="bb8b2-169">Si la base de datos existe, los permisos RESTORE corresponden de forma predeterminada a los miembros de los roles fijos de servidor **sysadmin** y **dbcreator** , y al propietario (**dbo**) de la base de datos (para la opción FROM DATABASE_SNAPSHOT, la base de datos siempre existe).</span><span class="sxs-lookup"><span data-stu-id="bb8b2-169">If the database exists, RESTORE permissions default to members of the **sysadmin** and **dbcreator** fixed server roles and the owner (**dbo**) of the database (for the FROM DATABASE_SNAPSHOT option, the database always exists).</span></span>  
  
 <span data-ttu-id="bb8b2-170">Los permisos RESTORE se conceden a los roles en los que la información acerca de la pertenencia está siempre disponible para el servidor.</span><span class="sxs-lookup"><span data-stu-id="bb8b2-170">RESTORE permissions are given to roles in which membership information is always readily available to the server.</span></span> <span data-ttu-id="bb8b2-171">Debido a que la pertenencia a un rol fijo de base de datos solo se puede comprobar cuando la base de datos es accesible y no está dañada, lo que no siempre ocurre cuando se ejecuta RESTORE, los miembros del rol fijo de base de datos **db_owner** no tienen permisos RESTORE.</span><span class="sxs-lookup"><span data-stu-id="bb8b2-171">Because fixed database role membership can be checked only when the database is accessible and undamaged, which is not always the case when RESTORE is executed, members of the **db_owner** fixed database role do not have RESTORE permissions.</span></span>  
  
##  <a name="using-sql-server-management-studio"></a><a name="SSMSProcedure"></a> <span data-ttu-id="bb8b2-172">Uso de SQL Server Management Studio</span><span class="sxs-lookup"><span data-stu-id="bb8b2-172">Using SQL Server Management Studio</span></span>  
 <span data-ttu-id="bb8b2-173">A partir de [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)], [!INCLUDE[ssManStudioFull](../../includes/ssmanstudiofull-md.md)] admite las restauraciones de páginas.</span><span class="sxs-lookup"><span data-stu-id="bb8b2-173">Starting in [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)], [!INCLUDE[ssManStudioFull](../../includes/ssmanstudiofull-md.md)] supports page restores.</span></span>  
  
#### <a name="to-restore-pages"></a><span data-ttu-id="bb8b2-174">Para restaurar páginas</span><span class="sxs-lookup"><span data-stu-id="bb8b2-174">To restore pages</span></span>  
  
1.  <span data-ttu-id="bb8b2-175">Conéctese a la instancia adecuada del [!INCLUDE[ssDEnoversion](../../includes/ssdenoversion-md.md)]y, en el Explorador de objetos, haga clic en el nombre del servidor para expandir el árbol.</span><span class="sxs-lookup"><span data-stu-id="bb8b2-175">Connect to the appropriate instance of the [!INCLUDE[ssDEnoversion](../../includes/ssdenoversion-md.md)], in Object Explorer, click the server name to expand the server tree.</span></span>  
  
2.  <span data-ttu-id="bb8b2-176">Expanda **Bases de datos**.</span><span class="sxs-lookup"><span data-stu-id="bb8b2-176">Expand **Databases**.</span></span> <span data-ttu-id="bb8b2-177">En función de la base de datos, seleccione una base de datos de usuario o expanda **Bases de datos del sistema**y, a continuación, seleccione una base de datos del sistema.</span><span class="sxs-lookup"><span data-stu-id="bb8b2-177">Depending on the database, either select a user database or expand **System Databases**, and then select a system database.</span></span>  
  
3.  <span data-ttu-id="bb8b2-178">Haga clic con el botón derecho en la base de datos, seleccione **Tareas**, seleccione **Restaurar**y haga clic en **Página**, con lo que se abre el cuadro de diálogo **Restaurar página** .</span><span class="sxs-lookup"><span data-stu-id="bb8b2-178">Right-click the database, point to **Tasks**, point to **Restore**, and then click **Page**, which opens the **Restore Page** dialog box.</span></span>  
  
     <span data-ttu-id="bb8b2-179">**Restauración**</span><span class="sxs-lookup"><span data-stu-id="bb8b2-179">**Restore**</span></span>  
     <span data-ttu-id="bb8b2-180">En esta sección se realiza la misma función que la de **Restaurar en** en [Restaurar base de datos (página General)](../../integration-services/general-page-of-integration-services-designers-options.md).</span><span class="sxs-lookup"><span data-stu-id="bb8b2-180">This section performs the same function as that of **Restore to** on the [Restore Database (General Page)](../../integration-services/general-page-of-integration-services-designers-options.md).</span></span>  
  
     <span data-ttu-id="bb8b2-181">**Base de datos**</span><span class="sxs-lookup"><span data-stu-id="bb8b2-181">**Database**</span></span>  
     <span data-ttu-id="bb8b2-182">Especifica la base de datos que se va a restaurar.</span><span class="sxs-lookup"><span data-stu-id="bb8b2-182">Specifies the database to restore.</span></span> <span data-ttu-id="bb8b2-183">Puede especificar una base de datos nueva o seleccionar una base de datos existente de la lista desplegable.</span><span class="sxs-lookup"><span data-stu-id="bb8b2-183">You can enter a new database or select an existing database from the drop-down list.</span></span> <span data-ttu-id="bb8b2-184">La lista incluye todas las bases de datos del servidor, excepto las bases de datos del sistema **maestra** y **tempdb**.</span><span class="sxs-lookup"><span data-stu-id="bb8b2-184">The list includes all databases on the server, except the system databases **master** and **tempdb**.</span></span>  
  
    > [!WARNING]  
    >  <span data-ttu-id="bb8b2-185">Para restaurar una copia de seguridad protegida con contraseña, use la instrucción [RESTORE](/sql/t-sql/statements/restore-statements-transact-sql) .</span><span class="sxs-lookup"><span data-stu-id="bb8b2-185">To restore a password-protected backup, you must use the [RESTORE](/sql/t-sql/statements/restore-statements-transact-sql) statement.</span></span>  
  
     <span data-ttu-id="bb8b2-186">**Copia del final del registro**</span><span class="sxs-lookup"><span data-stu-id="bb8b2-186">**Tail-Log backup**</span></span>  
     <span data-ttu-id="bb8b2-187">Escriba o seleccione un nombre de archivo en **Dispositivo de copia de seguridad** , en el que la copia del final del registro se almacenará en la base de datos.</span><span class="sxs-lookup"><span data-stu-id="bb8b2-187">Enter or select a file name in **Backup device** where there tail-log backup will be stored for the database.</span></span>  
  
     <span data-ttu-id="bb8b2-188">**Conjuntos de copia de seguridad**</span><span class="sxs-lookup"><span data-stu-id="bb8b2-188">**Backup Sets**</span></span>  
     <span data-ttu-id="bb8b2-189">Esta sección muestra los conjuntos de copia de seguridad implicados en la restauración.</span><span class="sxs-lookup"><span data-stu-id="bb8b2-189">This section displays the backup sets involved in the restoration.</span></span>  
  
    |<span data-ttu-id="bb8b2-190">Encabezado</span><span class="sxs-lookup"><span data-stu-id="bb8b2-190">Header</span></span>|<span data-ttu-id="bb8b2-191">Valores</span><span class="sxs-lookup"><span data-stu-id="bb8b2-191">Values</span></span>|  
    |------------|------------|  
    |<span data-ttu-id="bb8b2-192">**Nombre**</span><span class="sxs-lookup"><span data-stu-id="bb8b2-192">**Name**</span></span>|<span data-ttu-id="bb8b2-193">Nombre del conjunto de copia de seguridad.</span><span class="sxs-lookup"><span data-stu-id="bb8b2-193">The name of the backup set.</span></span>|  
    |<span data-ttu-id="bb8b2-194">**Componente**</span><span class="sxs-lookup"><span data-stu-id="bb8b2-194">**Component**</span></span>|<span data-ttu-id="bb8b2-195">Componente del que se ha realizado una copia de seguridad: **Base de datos**, **Archivo** o **\<blank>** (para registros de transacciones).</span><span class="sxs-lookup"><span data-stu-id="bb8b2-195">The backed-up component: **Database**, **File**, or **\<blank>** (for transaction logs).</span></span>|  
    |<span data-ttu-id="bb8b2-196">**Tipo**</span><span class="sxs-lookup"><span data-stu-id="bb8b2-196">**Type**</span></span>|<span data-ttu-id="bb8b2-197">Tipo de copia de seguridad realizada: **Completa**, **Diferencial** o **Registro de transacciones**.</span><span class="sxs-lookup"><span data-stu-id="bb8b2-197">The type of backup performed: **Full**, **Differential**, or **Transaction Log**.</span></span>|  
    |<span data-ttu-id="bb8b2-198">**Server**</span><span class="sxs-lookup"><span data-stu-id="bb8b2-198">**Server**</span></span>|<span data-ttu-id="bb8b2-199">Nombre de la instancia del [!INCLUDE[ssDE](../../includes/ssde-md.md)] que realizó la operación de copia de seguridad.</span><span class="sxs-lookup"><span data-stu-id="bb8b2-199">The name of the [!INCLUDE[ssDE](../../includes/ssde-md.md)] instance that performed the backup operation.</span></span>|  
    |<span data-ttu-id="bb8b2-200">**Base de datos**</span><span class="sxs-lookup"><span data-stu-id="bb8b2-200">**Database**</span></span>|<span data-ttu-id="bb8b2-201">Nombre de la base de datos para la operación de copia de seguridad.</span><span class="sxs-lookup"><span data-stu-id="bb8b2-201">The name of the database involved in the backup operation.</span></span>|  
    |<span data-ttu-id="bb8b2-202">**Posición**</span><span class="sxs-lookup"><span data-stu-id="bb8b2-202">**Position**</span></span>|<span data-ttu-id="bb8b2-203">Posición del conjunto de copias de seguridad en el volumen.</span><span class="sxs-lookup"><span data-stu-id="bb8b2-203">The position of the backup set in the volume.</span></span>|  
    |<span data-ttu-id="bb8b2-204">**Primer LSN**</span><span class="sxs-lookup"><span data-stu-id="bb8b2-204">**First LSN**</span></span>|<span data-ttu-id="bb8b2-205">Número de secuencia de registro (LSN) de la primera transacción del conjunto de copias de seguridad.</span><span class="sxs-lookup"><span data-stu-id="bb8b2-205">The log sequence number (LSN) of the first transaction in the backup set.</span></span> <span data-ttu-id="bb8b2-206">En blanco para las copias de seguridad de archivos.</span><span class="sxs-lookup"><span data-stu-id="bb8b2-206">Blank for file backups.</span></span>|  
    |<span data-ttu-id="bb8b2-207">**Último LSN**</span><span class="sxs-lookup"><span data-stu-id="bb8b2-207">**Last LSN**</span></span>|<span data-ttu-id="bb8b2-208">Número de secuencia de registro (LSN) de la última transacción del conjunto de copias de seguridad.</span><span class="sxs-lookup"><span data-stu-id="bb8b2-208">The log sequence number (LSN) of the last transaction in the backup set.</span></span> <span data-ttu-id="bb8b2-209">En blanco para las copias de seguridad de archivos.</span><span class="sxs-lookup"><span data-stu-id="bb8b2-209">Blank for file backups.</span></span>|  
    |<span data-ttu-id="bb8b2-210">**LSN de punto de comprobación**</span><span class="sxs-lookup"><span data-stu-id="bb8b2-210">**Checkpoint LSN**</span></span>|<span data-ttu-id="bb8b2-211">Número de secuencia de registro (LSN) del punto de comprobación más reciente en el momento en que se creó la copia de seguridad.</span><span class="sxs-lookup"><span data-stu-id="bb8b2-211">The log sequence number (LSN) of the most recent checkpoint at the time the backup was created.</span></span>|  
    |<span data-ttu-id="bb8b2-212">**LSN completo**</span><span class="sxs-lookup"><span data-stu-id="bb8b2-212">**Full LSN**</span></span>|<span data-ttu-id="bb8b2-213">Número de secuencia de registro (LSN) de la copia de seguridad completa más reciente de la base de datos.</span><span class="sxs-lookup"><span data-stu-id="bb8b2-213">The log sequence number (LSN) of the most recent full database backup.</span></span>|  
    |<span data-ttu-id="bb8b2-214">**Fecha de inicio**</span><span class="sxs-lookup"><span data-stu-id="bb8b2-214">**Start Date**</span></span>|<span data-ttu-id="bb8b2-215">Fecha y hora en la que se inició la operación de copia de seguridad, presentadas en la configuración regional del cliente.</span><span class="sxs-lookup"><span data-stu-id="bb8b2-215">The date and time when the backup operation began, presented in the regional setting of the client.</span></span>|  
    |<span data-ttu-id="bb8b2-216">**Fecha final**</span><span class="sxs-lookup"><span data-stu-id="bb8b2-216">**Finish Date**</span></span>|<span data-ttu-id="bb8b2-217">Fecha y hora en la que finalizó la operación de copia de seguridad, presentadas en la configuración regional del cliente.</span><span class="sxs-lookup"><span data-stu-id="bb8b2-217">The date and time when the backup operation finished, presented in the regional setting of the client.</span></span>|  
    |<span data-ttu-id="bb8b2-218">**Tamaño**</span><span class="sxs-lookup"><span data-stu-id="bb8b2-218">**Size**</span></span>|<span data-ttu-id="bb8b2-219">Tamaño del conjunto de copias de seguridad, en bytes.</span><span class="sxs-lookup"><span data-stu-id="bb8b2-219">The size of the backup set in bytes.</span></span>|  
    |<span data-ttu-id="bb8b2-220">**Nombre de usuario**</span><span class="sxs-lookup"><span data-stu-id="bb8b2-220">**User Name**</span></span>|<span data-ttu-id="bb8b2-221">Nombre del usuario que realizó la operación de copia de seguridad.</span><span class="sxs-lookup"><span data-stu-id="bb8b2-221">The name of the user who performed the backup operation.</span></span>|  
    |<span data-ttu-id="bb8b2-222">**Expiración**</span><span class="sxs-lookup"><span data-stu-id="bb8b2-222">**Expiration**</span></span>|<span data-ttu-id="bb8b2-223">Fecha y hora de expiración del conjunto de copias de seguridad.</span><span class="sxs-lookup"><span data-stu-id="bb8b2-223">The date and time the backup set expires.</span></span>|  
  
     <span data-ttu-id="bb8b2-224">Haga clic en **Comprobar** para comprobar la integridad de los archivos de copia de seguridad necesarios para realizar la operación de restauración de páginas.</span><span class="sxs-lookup"><span data-stu-id="bb8b2-224">Click **Verify** to check the integrity of the backup files needed to perform the page restore operation.</span></span>  
  
4.  <span data-ttu-id="bb8b2-225">Para identificar las páginas dañadas, con la base de datos correcta seleccionado en el cuadro **Base de datos** , haga clic en **Comprobar páginas de la base de datos**.</span><span class="sxs-lookup"><span data-stu-id="bb8b2-225">To identify corrupted pages, with the correct database selected in the **Database** box, click **Check Database Pages**.</span></span> <span data-ttu-id="bb8b2-226">Se trata de una operación de ejecución prolongada.</span><span class="sxs-lookup"><span data-stu-id="bb8b2-226">This is a long running operation.</span></span>  
  
    > [!WARNING]  
    >  <span data-ttu-id="bb8b2-227">Para restaurar páginas específicas que no están dañadas, haga clic en **Agregar** y escriba el **Id. de archivo** y el **Id. de página** de las páginas que se van a restaurar.</span><span class="sxs-lookup"><span data-stu-id="bb8b2-227">To restore specific pages that are not corrupted, click **Add** and enter the **File ID** and **Page ID** of the pages to be restored.</span></span>  
  
5.  <span data-ttu-id="bb8b2-228">La cuadrícula de páginas se utiliza para identificar las páginas que se van a restaurar.</span><span class="sxs-lookup"><span data-stu-id="bb8b2-228">The pages grid is used to identify the pages to be restored.</span></span> <span data-ttu-id="bb8b2-229">Inicialmente, esta cuadrícula se rellena desde la tabla del sistema [suspect_pages](/sql/relational-databases/system-tables/suspect-pages-transact-sql) .</span><span class="sxs-lookup"><span data-stu-id="bb8b2-229">Initially, this grid is populated from the [suspect_pages](/sql/relational-databases/system-tables/suspect-pages-transact-sql) system table.</span></span> <span data-ttu-id="bb8b2-230">Para agregar o quitar páginas en la cuadrícula, haga clic en **Agregar** o en **Quitar**.</span><span class="sxs-lookup"><span data-stu-id="bb8b2-230">To add or remove pages from the grid, click **Add** or **Remove**.</span></span> <span data-ttu-id="bb8b2-231">Para obtener más información, vea [Administrar la tabla suspect_pages &#40;SQL Server&#41;](manage-the-suspect-pages-table-sql-server.md).</span><span class="sxs-lookup"><span data-stu-id="bb8b2-231">For more information, see [Manage the suspect_pages Table &#40;SQL Server&#41;](manage-the-suspect-pages-table-sql-server.md).</span></span>  
  
6.  <span data-ttu-id="bb8b2-232">La cuadrícula **Conjuntos de copia de seguridad** muestra una lista de los conjuntos de copia de seguridad en el plan de restauración predeterminado.</span><span class="sxs-lookup"><span data-stu-id="bb8b2-232">The **Backup sets** grid lists the backup sets in the default restore plan.</span></span> <span data-ttu-id="bb8b2-233">Opcionalmente, haga clic en **Comprobar** para comprobar que las copias de seguridad son legibles y que los conjuntos de copia de seguridad están completos, sin restaurarlos.</span><span class="sxs-lookup"><span data-stu-id="bb8b2-233">Optionally, click **Verify** to verify that the backups are readable and that the backup sets are complete, without restoring them.</span></span> <span data-ttu-id="bb8b2-234">Para obtener más información, vea [RESTORE VERIFYONLY &#40;Transact-SQL&#41;](/sql/t-sql/statements/restore-statements-verifyonly-transact-sql).</span><span class="sxs-lookup"><span data-stu-id="bb8b2-234">For more information, see [RESTORE VERIFYONLY &#40;Transact-SQL&#41;](/sql/t-sql/statements/restore-statements-verifyonly-transact-sql).</span></span>  
  
     <span data-ttu-id="bb8b2-235">**Páginas**</span><span class="sxs-lookup"><span data-stu-id="bb8b2-235">**Pages**</span></span>  
  
7.  <span data-ttu-id="bb8b2-236">Para restaurar las páginas incluidas en la cuadrícula de páginas, haga clic en **Aceptar**.</span><span class="sxs-lookup"><span data-stu-id="bb8b2-236">To restore the pages listed in the pages grid, click **OK**.</span></span>  
  
##  <a name="using-transact-sql"></a><a name="TsqlProcedure"></a> <span data-ttu-id="bb8b2-237">Usar Transact-SQL</span><span class="sxs-lookup"><span data-stu-id="bb8b2-237">Using Transact-SQL</span></span>  
 <span data-ttu-id="bb8b2-238">Para especificar una página en una instrucción RESTORE DATABASE, necesita el identificador de archivo del archivo que contiene la página y el identificador de la página.</span><span class="sxs-lookup"><span data-stu-id="bb8b2-238">To specify a page in a RESTORE DATABASE statement, you need the file ID of the file containing the page and the page ID of the page.</span></span> <span data-ttu-id="bb8b2-239">La sintaxis necesaria es la siguiente:</span><span class="sxs-lookup"><span data-stu-id="bb8b2-239">The required syntax is as follows:</span></span>  
  
 `RESTORE DATABASE <database_name>`  
  
 `PAGE = '<file: page> [ ,... n ] ' [ ,... n ]`  
  
 `FROM <backup_device> [ ,... n ]`  
  
 `WITH NORECOVERY`  
  
 <span data-ttu-id="bb8b2-240">Para obtener más información sobre los parámetros de la opción PAGE, vea [Argumentos RESTORE &#40;Transact-SQL&#41;](/sql/t-sql/statements/restore-statements-arguments-transact-sql).</span><span class="sxs-lookup"><span data-stu-id="bb8b2-240">For more information about the parameters of the PAGE option, see [RESTORE Arguments &#40;Transact-SQL&#41;](/sql/t-sql/statements/restore-statements-arguments-transact-sql).</span></span> <span data-ttu-id="bb8b2-241">Para obtener más información sobre la sintaxis de RESTORE DATABASE, vea [RESTORE &#40;Transact-SQL&#41;](/sql/t-sql/statements/restore-statements-transact-sql).</span><span class="sxs-lookup"><span data-stu-id="bb8b2-241">For more information about the RESTORE DATABASE syntax, see [RESTORE &#40;Transact-SQL&#41;](/sql/t-sql/statements/restore-statements-transact-sql).</span></span>  
  
#### <a name="to-restore-pages"></a><span data-ttu-id="bb8b2-242">Para restaurar páginas</span><span class="sxs-lookup"><span data-stu-id="bb8b2-242">To restore pages</span></span>  
  
1.  <span data-ttu-id="bb8b2-243">Obtener los Id. de las páginas dañadas que se deben restaurar.</span><span class="sxs-lookup"><span data-stu-id="bb8b2-243">Obtain the page IDs of the damaged pages to be restored.</span></span> <span data-ttu-id="bb8b2-244">Un error de suma de comprobación o escritura incompleta devuelve el Id. de página con la información necesaria para especificar las páginas.</span><span class="sxs-lookup"><span data-stu-id="bb8b2-244">A checksum or torn write error returns page ID, providing the information required for specifying the pages.</span></span> <span data-ttu-id="bb8b2-245">Para buscar el identificador de una página dañada, use cualquiera de los siguientes orígenes.</span><span class="sxs-lookup"><span data-stu-id="bb8b2-245">To look up page ID of a damaged page, use any of the following sources.</span></span>  
  
    |<span data-ttu-id="bb8b2-246">Origen de identificador de página</span><span class="sxs-lookup"><span data-stu-id="bb8b2-246">Source of page ID</span></span>|<span data-ttu-id="bb8b2-247">Tema</span><span class="sxs-lookup"><span data-stu-id="bb8b2-247">Topic</span></span>|  
    |-----------------------|-----------|  
    |<span data-ttu-id="bb8b2-248">**msdb..suspect_pages**</span><span class="sxs-lookup"><span data-stu-id="bb8b2-248">**msdb..suspect_pages**</span></span>|[<span data-ttu-id="bb8b2-249">Administrar la tabla suspect_pages &#40;SQL Server&#41;</span><span class="sxs-lookup"><span data-stu-id="bb8b2-249">Manage the suspect_pages Table &#40;SQL Server&#41;</span></span>](manage-the-suspect-pages-table-sql-server.md)|  
    |<span data-ttu-id="bb8b2-250">Registro de errores</span><span class="sxs-lookup"><span data-stu-id="bb8b2-250">Error log</span></span>|[<span data-ttu-id="bb8b2-251">Ver el registro de errores de SQL Server &#40;SQL Server Management Studio&#41;</span><span class="sxs-lookup"><span data-stu-id="bb8b2-251">View the SQL Server Error Log &#40;SQL Server Management Studio&#41;</span></span>](../../ssms/sql-server-management-studio-ssms.md)|  
    |<span data-ttu-id="bb8b2-252">Seguimientos de eventos</span><span class="sxs-lookup"><span data-stu-id="bb8b2-252">Event traces</span></span>|[<span data-ttu-id="bb8b2-253">Supervisar y responder a eventos</span><span class="sxs-lookup"><span data-stu-id="bb8b2-253">Monitor and Respond to Events</span></span>](../../ssms/agent/monitor-and-respond-to-events.md)|  
    |<span data-ttu-id="bb8b2-254">DBCC</span><span class="sxs-lookup"><span data-stu-id="bb8b2-254">DBCC</span></span>|[<span data-ttu-id="bb8b2-255">DBCC &#40;Transact-SQL&#41;</span><span class="sxs-lookup"><span data-stu-id="bb8b2-255">DBCC &#40;Transact-SQL&#41;</span></span>](/sql/t-sql/database-console-commands/dbcc-transact-sql)|  
    |<span data-ttu-id="bb8b2-256">Proveedor WMI</span><span class="sxs-lookup"><span data-stu-id="bb8b2-256">WMI provider</span></span>|[<span data-ttu-id="bb8b2-257">Conceptos del proveedor WMI para eventos de servidor</span><span class="sxs-lookup"><span data-stu-id="bb8b2-257">WMI Provider for Server Events Concepts</span></span>](../wmi-provider-server-events/wmi-provider-for-server-events-concepts.md)|  
  
2.  <span data-ttu-id="bb8b2-258">Iniciar una restauración de páginas con una copia de seguridad completa de base de datos, de archivo o de grupo de archivos que contenga la página.</span><span class="sxs-lookup"><span data-stu-id="bb8b2-258">Start a page restore with a full database, file, or filegroup backup that contains the page.</span></span> <span data-ttu-id="bb8b2-259">En la instrucción RESTORE DATABASE, utilice la cláusula PAGE para obtener los Id. de todas las páginas que se deben restaurar.</span><span class="sxs-lookup"><span data-stu-id="bb8b2-259">In the RESTORE DATABASE statement, use the PAGE clause to list the page IDs of all of the pages to be restored.</span></span>  
  
3.  <span data-ttu-id="bb8b2-260">Aplicar las copias de seguridad diferenciales más recientes.</span><span class="sxs-lookup"><span data-stu-id="bb8b2-260">Apply the most recent differentials .</span></span>  
  
4.  <span data-ttu-id="bb8b2-261">Aplicar las copias de seguridad de registros posteriores.</span><span class="sxs-lookup"><span data-stu-id="bb8b2-261">Apply the subsequent log backups.</span></span>  
  
5.  <span data-ttu-id="bb8b2-262">Crear una nueva copia de seguridad de registros de la base de datos que incluya el LSN final de las páginas restauradas; es decir, el punto en que la última página restaurada ha pasado a estar en modo sin conexión.</span><span class="sxs-lookup"><span data-stu-id="bb8b2-262">Create a new log backup of the database that includes the final LSN of the restored pages, that is, the point at which the last restored page is taken offline.</span></span> <span data-ttu-id="bb8b2-263">El LSN final, que se establece como parte de la primera restauración de la secuencia, es el LSN final de puesta al día.</span><span class="sxs-lookup"><span data-stu-id="bb8b2-263">The final LSN, which is set as part of the first restore in the sequence, is the redo target LSN.</span></span> <span data-ttu-id="bb8b2-264">La puesta al día en línea del archivo que contiene la página puede detenerse en el LSN final de puesta al día.</span><span class="sxs-lookup"><span data-stu-id="bb8b2-264">Online roll forward of the file containing the page is able to stop at the redo target LSN.</span></span> <span data-ttu-id="bb8b2-265">Para conocer el LSN actual de destino de fase de puesta al día de un archivo, vea la columna **redo_target_lsn** de **sys.master_files**.</span><span class="sxs-lookup"><span data-stu-id="bb8b2-265">To learn the current redo target LSN of a file, see the **redo_target_lsn** column of **sys.master_files**.</span></span> <span data-ttu-id="bb8b2-266">Para obtener más información, vea [sys.master_files &#40;Transact-SQL&#41;](/sql/relational-databases/system-catalog-views/sys-master-files-transact-sql).</span><span class="sxs-lookup"><span data-stu-id="bb8b2-266">For more information, see [sys.master_files &#40;Transact-SQL&#41;](/sql/relational-databases/system-catalog-views/sys-master-files-transact-sql).</span></span>  
  
6.  <span data-ttu-id="bb8b2-267">Restaurar la copia de seguridad de registros nueva.</span><span class="sxs-lookup"><span data-stu-id="bb8b2-267">Restore the new log backup.</span></span> <span data-ttu-id="bb8b2-268">Después de aplicar esta nueva copia de seguridad de registros, la restauración de páginas finaliza y las páginas están listas para su uso.</span><span class="sxs-lookup"><span data-stu-id="bb8b2-268">After this new log backup is applied, the page restore is completed and the pages are now usable.</span></span>  
  
    > [!NOTE]  
    >  <span data-ttu-id="bb8b2-269">Esta secuencia es análoga a una secuencia de restauración de archivos.</span><span class="sxs-lookup"><span data-stu-id="bb8b2-269">This sequence is analogous to a file restore sequence.</span></span> <span data-ttu-id="bb8b2-270">De hecho, tanto la restauración de páginas como la de archivos puede realizarse como parte de la misma secuencia.</span><span class="sxs-lookup"><span data-stu-id="bb8b2-270">In fact, page restore and file restores can both be performed as part of the same sequence.</span></span>  
  
###  <a name="example-transact-sql"></a><a name="TsqlExample"></a> <span data-ttu-id="bb8b2-271">Ejemplo (Transact-SQL)</span><span class="sxs-lookup"><span data-stu-id="bb8b2-271">Example (Transact-SQL)</span></span>  
 <span data-ttu-id="bb8b2-272">En el siguiente ejemplo se restauran cuatro páginas dañadas del archivo `B` con `NORECOVERY`.</span><span class="sxs-lookup"><span data-stu-id="bb8b2-272">The following example restores four damaged pages of file `B` with `NORECOVERY`.</span></span> <span data-ttu-id="bb8b2-273">A continuación, se aplican dos copias de seguridad de registros con `NORECOVERY`y, después, la copia del final del registro, restaurada con `RECOVERY`.</span><span class="sxs-lookup"><span data-stu-id="bb8b2-273">Next, two log backups are applied with `NORECOVERY`, followed with the tail-log backup, which is restored with `RECOVERY`.</span></span> <span data-ttu-id="bb8b2-274">En este ejemplo se realiza una restauración en línea.</span><span class="sxs-lookup"><span data-stu-id="bb8b2-274">This example performs an online restore.</span></span> <span data-ttu-id="bb8b2-275">En el ejemplo, el identificador del archivo `B` es `1`y los identificadores de las páginas dañadas son `57`, `202`, `916`y `1016`.</span><span class="sxs-lookup"><span data-stu-id="bb8b2-275">In the example, the file ID of file `B` is `1`, and the page IDs of the damaged pages are `57`, `202`, `916`, and `1016`.</span></span>  
  
```sql  
RESTORE DATABASE <database> PAGE='1:57, 1:202, 1:916, 1:1016'  
   FROM <file_backup_of_file_B>   
   WITH NORECOVERY;  
RESTORE LOG <database> FROM <log_backup>   
   WITH NORECOVERY;  
RESTORE LOG <database> FROM <log_backup>   
   WITH NORECOVERY;   
BACKUP LOG <database> TO <new_log_backup>;   
RESTORE LOG <database> FROM <new_log_backup> WITH RECOVERY;  
GO  
```  
  
## <a name="see-also"></a><span data-ttu-id="bb8b2-276">Consulte también</span><span class="sxs-lookup"><span data-stu-id="bb8b2-276">See Also</span></span>  
 <span data-ttu-id="bb8b2-277">[RESTORE &#40;Transact-SQL&#41;](/sql/t-sql/statements/restore-statements-transact-sql) </span><span class="sxs-lookup"><span data-stu-id="bb8b2-277">[RESTORE &#40;Transact-SQL&#41;](/sql/t-sql/statements/restore-statements-transact-sql) </span></span>  
 <span data-ttu-id="bb8b2-278">[Aplicar copias de seguridad del registro de transacciones &#40;SQL Server&#41;](transaction-log-backups-sql-server.md) </span><span class="sxs-lookup"><span data-stu-id="bb8b2-278">[Apply Transaction Log Backups &#40;SQL Server&#41;](transaction-log-backups-sql-server.md) </span></span>  
 <span data-ttu-id="bb8b2-279">[Administrar la tabla suspect_pages &#40;SQL Server&#41;](manage-the-suspect-pages-table-sql-server.md) </span><span class="sxs-lookup"><span data-stu-id="bb8b2-279">[Manage the suspect_pages Table &#40;SQL Server&#41;](manage-the-suspect-pages-table-sql-server.md) </span></span>  
 [<span data-ttu-id="bb8b2-280">Copia de seguridad y restauración de bases de datos de SQL Server</span><span class="sxs-lookup"><span data-stu-id="bb8b2-280">Back Up and Restore of SQL Server Databases</span></span>](back-up-and-restore-of-sql-server-databases.md)  
  
  
