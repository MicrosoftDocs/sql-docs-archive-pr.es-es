---
title: Archivos y grupos de archivos de base de datos | Microsoft Docs
ms.custom: ''
ms.date: 06/13/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: configuration
ms.topic: conceptual
helpviewer_keywords:
- databases [SQL Server], files
- filegroups [SQL Server]
- transaction logs [SQL Server], about
- transaction logs [SQL Server], files
- .mdf files
- data files [SQL Server]
- default filegroups
- files [SQL Server], about files and filegroups
- secondary files [SQL Server]
- log files [SQL Server]
- .ndf files
- files [SQL Server]
- .ldf files
- database files [SQL Server]
- databases [SQL Server], filegroups
- filegroups [SQL Server], types
- primary filegroups [SQL Server]
- user-defined filegroups [SQL Server]
- filegroups [SQL Server], about filegroups
- primary files [SQL Server]
- file types [SQL Server]
ms.assetid: 9ca11918-480d-4838-9198-cec221ef6ad0
author: stevestein
ms.author: sstein
ms.openlocfilehash: 91e22e536a91878609feedf2977ffa7d78a54d61
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 08/04/2020
ms.locfileid: "87672110"
---
# <a name="database-files-and-filegroups"></a><span data-ttu-id="50c11-102">Archivos y grupos de archivos de base de datos</span><span class="sxs-lookup"><span data-stu-id="50c11-102">Database Files and Filegroups</span></span>
  <span data-ttu-id="50c11-103">Como mínimo, todas las bases de datos de [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] tienen dos archivos del sistema operativo: un archivo de datos y un archivo de registro.</span><span class="sxs-lookup"><span data-stu-id="50c11-103">At a minimum, every [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] database has two operating system files: a data file and a log file.</span></span> <span data-ttu-id="50c11-104">Los archivos de datos contienen datos y otros objetos, como tablas, índices, procedimientos almacenados y vistas.</span><span class="sxs-lookup"><span data-stu-id="50c11-104">Data files contain data and objects such as tables, indexes, stored procedures, and views.</span></span> <span data-ttu-id="50c11-105">Los archivos de registro contienen la información necesaria para recuperar todas las transacciones de la base de datos.</span><span class="sxs-lookup"><span data-stu-id="50c11-105">Log files contain the information that is required to recover all transactions in the database.</span></span> <span data-ttu-id="50c11-106">Los archivos de datos se pueden agrupar en grupos de archivos para su asignación y administración.</span><span class="sxs-lookup"><span data-stu-id="50c11-106">Data files can be grouped together in filegroups for allocation and administration purposes.</span></span>  
  
## <a name="database-files"></a><span data-ttu-id="50c11-107">Archivos de la base de datos</span><span class="sxs-lookup"><span data-stu-id="50c11-107">Database Files</span></span>  
 [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] <span data-ttu-id="50c11-108">tienen tres tipos de archivos, tal como se muestra en la tabla siguiente.</span><span class="sxs-lookup"><span data-stu-id="50c11-108">databases have three types of files, as shown in the following table.</span></span>  
  
|<span data-ttu-id="50c11-109">Archivo</span><span class="sxs-lookup"><span data-stu-id="50c11-109">File</span></span>|<span data-ttu-id="50c11-110">Descripción</span><span class="sxs-lookup"><span data-stu-id="50c11-110">Description</span></span>|  
|----------|-----------------|  
|<span data-ttu-id="50c11-111">Principal</span><span class="sxs-lookup"><span data-stu-id="50c11-111">Primary</span></span>|<span data-ttu-id="50c11-112">El archivo de datos principal incluye la información de inicio de la base de datos y apunta a los demás archivos de la misma.</span><span class="sxs-lookup"><span data-stu-id="50c11-112">The primary data file contains the startup information for the database and points to the other files in the database.</span></span> <span data-ttu-id="50c11-113">Los datos y objetos del usuario se pueden almacenar en este archivo o en archivos de datos secundarios.</span><span class="sxs-lookup"><span data-stu-id="50c11-113">User data and objects can be stored in this file or in secondary data files.</span></span> <span data-ttu-id="50c11-114">Cada base de datos tiene un archivo de datos principal.</span><span class="sxs-lookup"><span data-stu-id="50c11-114">Every database has one primary data file.</span></span> <span data-ttu-id="50c11-115">La extensión recomendada para los nombres de archivos de datos principales es .mdf.</span><span class="sxs-lookup"><span data-stu-id="50c11-115">The recommended file name extension for primary data files is .mdf.</span></span>|  
|<span data-ttu-id="50c11-116">Secundario</span><span class="sxs-lookup"><span data-stu-id="50c11-116">Secondary</span></span>|<span data-ttu-id="50c11-117">Los archivos de datos secundarios son opcionales, están definidos por el usuario y almacenan los datos del usuario.</span><span class="sxs-lookup"><span data-stu-id="50c11-117">Secondary data files are optional, are user-defined, and store user data.</span></span> <span data-ttu-id="50c11-118">Se pueden utilizar para distribuir datos en varios discos colocando cada archivo en una unidad de disco distinta.</span><span class="sxs-lookup"><span data-stu-id="50c11-118">Secondary files can be used to spread data across multiple disks by putting each file on a different disk drive.</span></span> <span data-ttu-id="50c11-119">Además, si una base de datos supera el tamaño máximo establecido para un archivo de Windows, puede utilizar los archivos de datos secundarios para permitir el crecimiento de la base de datos.</span><span class="sxs-lookup"><span data-stu-id="50c11-119">Additionally, if a database exceeds the maximum size for a single Windows file, you can use secondary data files so the database can continue to grow.</span></span><br /><br /> <span data-ttu-id="50c11-120">La extensión de nombre de archivo recomendada para los archivos de datos secundarios es .ndf.</span><span class="sxs-lookup"><span data-stu-id="50c11-120">The recommended file name extension for secondary data files is .ndf.</span></span>|  
|<span data-ttu-id="50c11-121">Registro de transacciones</span><span class="sxs-lookup"><span data-stu-id="50c11-121">Transaction Log</span></span>|<span data-ttu-id="50c11-122">Los archivos del registro de transacciones contienen la información de registro que se utiliza para recuperar la base de datos.</span><span class="sxs-lookup"><span data-stu-id="50c11-122">The transaction log files hold the log information that is used to recover the database.</span></span> <span data-ttu-id="50c11-123">Cada base de datos debe tener al menos un archivo de registro.</span><span class="sxs-lookup"><span data-stu-id="50c11-123">There must be at least one log file for each database.</span></span> <span data-ttu-id="50c11-124">La extensión recomendada para los nombres de archivos de registro es .ldf.</span><span class="sxs-lookup"><span data-stu-id="50c11-124">The recommended file name extension for transaction logs is .ldf.</span></span>|  
  
 <span data-ttu-id="50c11-125">Por ejemplo, puede crearse una base de datos sencilla denominada **Ventas** con un archivo principal que contenga todos los datos y objetos y un archivo de registro con la información del registro de transacciones.</span><span class="sxs-lookup"><span data-stu-id="50c11-125">For example, a simple database named **Sales** can be created that includes one primary file that contains all data and objects and a log file that contains the transaction log information.</span></span> <span data-ttu-id="50c11-126">Por otra parte, puede crearse una base de datos más compleja, **Pedidos** , compuesta por un archivo principal y cinco archivos secundarios.</span><span class="sxs-lookup"><span data-stu-id="50c11-126">Alternatively, a more complex database named **Orders** can be created that includes one primary file and five secondary files.</span></span> <span data-ttu-id="50c11-127">Los datos y objetos de la base de datos se reparten entre los seis archivos, y cuatro archivos de registro adicionales contienen la información del registro de transacciones.</span><span class="sxs-lookup"><span data-stu-id="50c11-127">The data and objects within the database spread across all six files, and the four log files contain the transaction log information.</span></span>  
  
 <span data-ttu-id="50c11-128">De forma predeterminada, los datos y los registros de transacciones se colocan en la misma unidad y ruta de acceso</span><span class="sxs-lookup"><span data-stu-id="50c11-128">By default, the data and transaction logs are put on the same drive and path.</span></span> <span data-ttu-id="50c11-129">para administrar los sistemas de un solo disco,</span><span class="sxs-lookup"><span data-stu-id="50c11-129">This is done to handle single-disk systems.</span></span> <span data-ttu-id="50c11-130">pero puede que esto no resulte óptimo para los entornos de producción.</span><span class="sxs-lookup"><span data-stu-id="50c11-130">However, this may not be optimal for production environments.</span></span> <span data-ttu-id="50c11-131">Se recomienda colocar los archivos de datos y de registro en distintos discos.</span><span class="sxs-lookup"><span data-stu-id="50c11-131">We recommend that you put data and log files on separate disks.</span></span>  
  
## <a name="filegroups"></a><span data-ttu-id="50c11-132">Grupos de archivos</span><span class="sxs-lookup"><span data-stu-id="50c11-132">Filegroups</span></span>  
 <span data-ttu-id="50c11-133">Cada base de datos tiene un grupo de archivos principal.</span><span class="sxs-lookup"><span data-stu-id="50c11-133">Every database has a primary filegroup.</span></span> <span data-ttu-id="50c11-134">Este grupo de archivos contiene el archivo de datos principal y cualquier otro archivo secundario que no se encuentre en otro grupo de archivos.</span><span class="sxs-lookup"><span data-stu-id="50c11-134">This filegroup contains the primary data file and any secondary files that are not put into other filegroups.</span></span> <span data-ttu-id="50c11-135">Se pueden crear grupos de archivos definidos por el usuario para agrupar archivos con fines administrativos y de asignación y ubicación de datos.</span><span class="sxs-lookup"><span data-stu-id="50c11-135">User-defined filegroups can be created to group data files together for administrative, data allocation, and placement purposes.</span></span>  
  
 <span data-ttu-id="50c11-136">Por ejemplo, pueden crearse tres archivos, Datos1.ndf, Datos2.ndf y Datos3.ndf, en tres unidades de disco respectivamente para asignarlos posteriormente al grupo de archivos **grArchivos1**.</span><span class="sxs-lookup"><span data-stu-id="50c11-136">For example, three files, Data1.ndf, Data2.ndf, and Data3.ndf, can be created on three disk drives, respectively, and assigned to the filegroup **fgroup1**.</span></span> <span data-ttu-id="50c11-137">A continuación, se puede crear una tabla específicamente para el grupo de archivos **grArchivos1**.</span><span class="sxs-lookup"><span data-stu-id="50c11-137">A table can then be created specifically on the filegroup **fgroup1**.</span></span> <span data-ttu-id="50c11-138">Las consultas de datos de la tabla se distribuirán por los tres discos, con lo que mejorará el rendimiento.</span><span class="sxs-lookup"><span data-stu-id="50c11-138">Queries for data from the table will be spread across the three disks; this will improve performance.</span></span> <span data-ttu-id="50c11-139">Puede obtenerse la misma mejora del rendimiento con un solo archivo creado en un conjunto de bandas RAID (matriz redundante de discos independientes).</span><span class="sxs-lookup"><span data-stu-id="50c11-139">The same performance improvement can be accomplished by using a single file created on a RAID (redundant array of independent disks) stripe set.</span></span> <span data-ttu-id="50c11-140">No obstante, los archivos y grupos de archivos permiten agregar fácilmente nuevos archivos a discos nuevos.</span><span class="sxs-lookup"><span data-stu-id="50c11-140">However, files and filegroups let you easily add new files to new disks.</span></span>  
  
 <span data-ttu-id="50c11-141">Todos los archivos de datos se almacenan en los grupos de archivos que se indican en la tabla siguiente.</span><span class="sxs-lookup"><span data-stu-id="50c11-141">All data files are stored in the filegroups listed in the following table.</span></span>  
  
|<span data-ttu-id="50c11-142">Grupo de archivos</span><span class="sxs-lookup"><span data-stu-id="50c11-142">Filegroup</span></span>|<span data-ttu-id="50c11-143">Descripción</span><span class="sxs-lookup"><span data-stu-id="50c11-143">Description</span></span>|  
|---------------|-----------------|  
|<span data-ttu-id="50c11-144">Principal</span><span class="sxs-lookup"><span data-stu-id="50c11-144">Primary</span></span>|<span data-ttu-id="50c11-145">Grupo de archivos que contiene el archivo principal.</span><span class="sxs-lookup"><span data-stu-id="50c11-145">The filegroup that contains the primary file.</span></span> <span data-ttu-id="50c11-146">Todas las tablas del sistema se asignan al grupo de archivos principal.</span><span class="sxs-lookup"><span data-stu-id="50c11-146">All system tables are allocated to the primary filegroup.</span></span>|  
|<span data-ttu-id="50c11-147">Definidas por el usuario</span><span class="sxs-lookup"><span data-stu-id="50c11-147">User-defined</span></span>|<span data-ttu-id="50c11-148">Cualquier grupo de archivos creado específicamente por el usuario al crear la base de datos o al modificarla.</span><span class="sxs-lookup"><span data-stu-id="50c11-148">Any filegroup that is specifically created by the user when the user first creates or later modifies the database.</span></span>|  
  
### <a name="default-filegroup"></a><span data-ttu-id="50c11-149">Grupo de archivos predeterminado</span><span class="sxs-lookup"><span data-stu-id="50c11-149">Default Filegroup</span></span>  
 <span data-ttu-id="50c11-150">Cuando se crean objetos en la base de datos sin especificar a qué grupo de archivos pertenecen, se asignan al grupo de archivos predeterminado.</span><span class="sxs-lookup"><span data-stu-id="50c11-150">When objects are created in the database without specifying which filegroup they belong to, they are assigned to the default filegroup.</span></span> <span data-ttu-id="50c11-151">Siempre existe un grupo de archivos designado como predeterminado.</span><span class="sxs-lookup"><span data-stu-id="50c11-151">At any time, exactly one filegroup is designated as the default filegroup.</span></span> <span data-ttu-id="50c11-152">Los archivos del grupo de archivos predeterminado deben ser lo suficientemente grandes como para dar cabida a todos los objetos nuevos no asignados a otros grupos de archivos.</span><span class="sxs-lookup"><span data-stu-id="50c11-152">The files in the default filegroup must be large enough to hold any new objects not allocated to other filegroups.</span></span>  
  
 <span data-ttu-id="50c11-153">El grupo de archivos PRINCIPAL es el predeterminado, a menos que se cambie mediante la instrucción ALTER DATABASE.</span><span class="sxs-lookup"><span data-stu-id="50c11-153">The PRIMARY filegroup is the default filegroup unless it is changed by using the ALTER DATABASE statement.</span></span> <span data-ttu-id="50c11-154">Los objetos y las tablas del sistema no se asignan al nuevo grupo de archivos predeterminado, sino que siguen asignados al grupo de archivos PRIMARY.</span><span class="sxs-lookup"><span data-stu-id="50c11-154">Allocation for the system objects and tables remains within the PRIMARY filegroup, not the new default filegroup.</span></span>  
  
## <a name="related-content"></a><span data-ttu-id="50c11-155">Contenido relacionado</span><span class="sxs-lookup"><span data-stu-id="50c11-155">Related Content</span></span>  
 [<span data-ttu-id="50c11-156">CREATE DATABASE &#40;Transact-SQL de SQL Server&#41;</span><span class="sxs-lookup"><span data-stu-id="50c11-156">CREATE DATABASE &#40;SQL Server Transact-SQL&#41;</span></span>](/sql/t-sql/statements/create-database-sql-server-transact-sql)  
  
 [<span data-ttu-id="50c11-157">Opciones File y Filegroup de ALTER DATABASE &#40;Transact-SQL&#41;</span><span class="sxs-lookup"><span data-stu-id="50c11-157">ALTER DATABASE File and Filegroup Options &#40;Transact-SQL&#41;</span></span>](/sql/t-sql/statements/alter-database-transact-sql-file-and-filegroup-options)  
  
 [<span data-ttu-id="50c11-158">Adjuntar y separar bases de datos &#40;SQL Server&#41;</span><span class="sxs-lookup"><span data-stu-id="50c11-158">Database Detach and Attach &#40;SQL Server&#41;</span></span>](database-detach-and-attach-sql-server.md)  
  
  
