---
title: Adjuntar una base de datos | Microsoft Docs
ms.custom: ''
ms.date: 06/13/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: backup-restore
ms.topic: conceptual
f1_keywords:
- sql12.swb.attachdatabase.f1
helpviewer_keywords:
- database attaching [SQL Server]
- attaching databases [SQL Server]
ms.assetid: b4efb0ae-cfe6-4d81-a4b4-6e4916885caa
author: stevestein
ms.author: sstein
ms.openlocfilehash: cb11b5c257007872e92d3f0a7eadb3e46b4969cd
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 08/04/2020
ms.locfileid: "87751130"
---
# <a name="attach-a-database"></a><span data-ttu-id="3a28f-102">Adjuntar una base de datos</span><span class="sxs-lookup"><span data-stu-id="3a28f-102">Attach a Database</span></span>
  <span data-ttu-id="3a28f-103">En este tema se describe cómo adjuntar una base de datos en [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)] mediante [!INCLUDE[ssManStudioFull](../../includes/ssmanstudiofull-md.md)] o [!INCLUDE[tsql](../../includes/tsql-md.md)].</span><span class="sxs-lookup"><span data-stu-id="3a28f-103">This topic describes how to attach a database in [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)] by using [!INCLUDE[ssManStudioFull](../../includes/ssmanstudiofull-md.md)] or [!INCLUDE[tsql](../../includes/tsql-md.md)].</span></span> <span data-ttu-id="3a28f-104">Puede usar esta característica para copiar, mover o actualizar una base de datos de [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)].</span><span class="sxs-lookup"><span data-stu-id="3a28f-104">You can use this feature to copy, move, or upgrade a [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] database.</span></span>  
  
 <span data-ttu-id="3a28f-105">**En este tema**</span><span class="sxs-lookup"><span data-stu-id="3a28f-105">**In This Topic**</span></span>  
  
-   <span data-ttu-id="3a28f-106">**Antes de empezar:**</span><span class="sxs-lookup"><span data-stu-id="3a28f-106">**Before you begin:**</span></span>  
  
     [<span data-ttu-id="3a28f-107">Requisitos previos</span><span class="sxs-lookup"><span data-stu-id="3a28f-107">Prerequisites</span></span>](#Prerequisites)  
  
     [<span data-ttu-id="3a28f-108">Recomendaciones</span><span class="sxs-lookup"><span data-stu-id="3a28f-108">Recommendations</span></span>](#Recommendations)  
  
     [<span data-ttu-id="3a28f-109">Seguridad</span><span class="sxs-lookup"><span data-stu-id="3a28f-109">Security</span></span>](#Security)  
  
-   <span data-ttu-id="3a28f-110">**Para adjuntar una base de datos, use:**</span><span class="sxs-lookup"><span data-stu-id="3a28f-110">**To Attach a Database by using:**</span></span>  
  
     [<span data-ttu-id="3a28f-111">SQL Server Management Studio</span><span class="sxs-lookup"><span data-stu-id="3a28f-111">SQL Server Management Studio</span></span>](#SSMSProcedure)  
  
     [<span data-ttu-id="3a28f-112">Transact-SQL</span><span class="sxs-lookup"><span data-stu-id="3a28f-112">Transact-SQL</span></span>](#TsqlProcedure)  
  
-   <span data-ttu-id="3a28f-113">**Seguimiento:**  [Después de actualizar una base de datos](#FollowUp)</span><span class="sxs-lookup"><span data-stu-id="3a28f-113">**Follow Up:**  [After Upgrading a Database](#FollowUp)</span></span>  
  
##  <a name="before-you-begin"></a><a name="BeforeYouBegin"></a> <span data-ttu-id="3a28f-114">Antes de comenzar</span><span class="sxs-lookup"><span data-stu-id="3a28f-114">Before You Begin</span></span>  
  
###  <a name="prerequisites"></a><a name="Prerequisites"></a> <span data-ttu-id="3a28f-115">Requisitos previos</span><span class="sxs-lookup"><span data-stu-id="3a28f-115">Prerequisites</span></span>  
  
-   <span data-ttu-id="3a28f-116">La base de datos se debe separar primero.</span><span class="sxs-lookup"><span data-stu-id="3a28f-116">The database must first be detached.</span></span> <span data-ttu-id="3a28f-117">Si intenta adjuntar una base de datos que no se ha separado, se devolverá un error.</span><span class="sxs-lookup"><span data-stu-id="3a28f-117">Attempting to attach a database that has not been detached will return an error.</span></span> <span data-ttu-id="3a28f-118">Para obtener más información, vea [Separar una base de datos](detach-a-database.md)</span><span class="sxs-lookup"><span data-stu-id="3a28f-118">For more information, see [Detach a Database](detach-a-database.md).</span></span>  
  
-   <span data-ttu-id="3a28f-119">Al adjuntar una base de datos, todos los archivos de datos deben estar disponibles (archivos MDF y LDF).</span><span class="sxs-lookup"><span data-stu-id="3a28f-119">When you attach a database, all data files (MDF and LDF files) must be available.</span></span> <span data-ttu-id="3a28f-120">Si algún archivo de datos tiene una ruta de acceso diferente a la que tenía cuando se creó la base de datos o cuando ésta se adjuntó por última vez, debe especificar la ruta actual.</span><span class="sxs-lookup"><span data-stu-id="3a28f-120">If any data file has a different path from when the database was first created or last attached, you must specify the current path of the file.</span></span>  
  
-   <span data-ttu-id="3a28f-121">Cuando se adjunta una base de datos, si los archivos MDF y LDF se encuentran en directorios diferentes y una de las rutas de acceso incluye \\\\?\GlobalRoot, se producirá un error en la operación.</span><span class="sxs-lookup"><span data-stu-id="3a28f-121">When you attach a database, if MDF and LDF files are located in different directories and one of the paths includes \\\\?\GlobalRoot, the operation will fail.</span></span>  
  
###  <a name="recommendations"></a><a name="Recommendations"></a> <span data-ttu-id="3a28f-122">Recomendaciones</span><span class="sxs-lookup"><span data-stu-id="3a28f-122">Recommendations</span></span>  
<span data-ttu-id="3a28f-123">Se recomienda que mueva las bases de datos mediante el `ALTER DATABASE` procedimiento de reubicación planeada, en lugar de usar separar y adjuntar.</span><span class="sxs-lookup"><span data-stu-id="3a28f-123">We recommend that you move databases by using the `ALTER DATABASE` planned relocation procedure, instead of using detach and attach.</span></span> <span data-ttu-id="3a28f-124">Para más información, consulte [Move User Databases](move-user-databases.md).</span><span class="sxs-lookup"><span data-stu-id="3a28f-124">For more information, see [Move User Databases](move-user-databases.md).</span></span>  
  
###  <a name="security"></a><a name="Security"></a> <span data-ttu-id="3a28f-125">Seguridad</span><span class="sxs-lookup"><span data-stu-id="3a28f-125">Security</span></span>  
<span data-ttu-id="3a28f-126">Los permisos de acceso a archivos se establecen durante una serie de operaciones de base de datos, incluidas las operaciones de desasociar o adjuntar una base de datos.</span><span class="sxs-lookup"><span data-stu-id="3a28f-126">File access permissions are set during a number of database operations, including detaching or attaching a database.</span></span> <span data-ttu-id="3a28f-127">Para obtener información sobre los permisos de archivo que se establecen siempre que se separa y se adjunta una base de datos, vea [Proteger archivos de datos y de registro](https://technet.microsoft.com/library/ms189128.aspx) en los Libros en pantalla de [!INCLUDE[ssKilimanjaro](../../includes/sskilimanjaro-md.md)] .</span><span class="sxs-lookup"><span data-stu-id="3a28f-127">For information about file permissions that are set whenever a database is detached and attached, see [Securing Data and Log Files](https://technet.microsoft.com/library/ms189128.aspx) in [!INCLUDE[ssKilimanjaro](../../includes/sskilimanjaro-md.md)] Books Online.</span></span>  
  
<span data-ttu-id="3a28f-128">Se recomienda no adjuntar ni restaurar bases de datos de orígenes desconocidos o que no sean de confianza.</span><span class="sxs-lookup"><span data-stu-id="3a28f-128">We recommend that you do not attach or restore databases from unknown or untrusted sources.</span></span> <span data-ttu-id="3a28f-129">Es posible que dichas bases de datos contengan código malintencionado que podría ejecutar código [!INCLUDE[tsql](../../includes/tsql-md.md)] no deseado o provocar errores al modificar el esquema o la estructura de la base de datos física.</span><span class="sxs-lookup"><span data-stu-id="3a28f-129">Such databases could contain malicious code that might execute unintended [!INCLUDE[tsql](../../includes/tsql-md.md)] code or cause errors by modifying the schema or the physical database structure.</span></span> <span data-ttu-id="3a28f-130">Para usar una base de datos desde un origen desconocido o que no sea de confianza, ejecute [DBCC CHECKDB](/sql/t-sql/database-console-commands/dbcc-checkdb-transact-sql) en la base de datos de un servidor que no sea de producción y examine también el código, como procedimientos almacenados u otro código definido por el usuario, en la base de datos.</span><span class="sxs-lookup"><span data-stu-id="3a28f-130">Before you use a database from an unknown or untrusted source, run [DBCC CHECKDB](/sql/t-sql/database-console-commands/dbcc-checkdb-transact-sql) on the database on a nonproduction server and also examine the code, such as stored procedures or other user-defined code, in the database.</span></span> <span data-ttu-id="3a28f-131">Para obtener más información sobre cómo adjuntar bases de datos y sobre los cambios que se realizan en los metadatos al adjuntar una base de datos, vea [Adjuntar y separar bases de datos &#40;SQL Server&#41;](database-detach-and-attach-sql-server.md).</span><span class="sxs-lookup"><span data-stu-id="3a28f-131">For more information about attaching databases and information about changes that are made to metadata when you attach a database, see [Database Detach and Attach &#40;SQL Server&#41;](database-detach-and-attach-sql-server.md).</span></span>  
  
####  <a name="permissions"></a><a name="Permissions"></a> <span data-ttu-id="3a28f-132">Permisos</span><span class="sxs-lookup"><span data-stu-id="3a28f-132">Permissions</span></span>  
<span data-ttu-id="3a28f-133">Requiere el permiso `CREATE DATABASE`, `CREATE ANY DATABASE` o `ALTER ANY DATABASE`.</span><span class="sxs-lookup"><span data-stu-id="3a28f-133">Requires `CREATE DATABASE`, `CREATE ANY DATABASE`, or `ALTER ANY DATABASE` permission.</span></span>  
  
##  <a name="using-sql-server-management-studio"></a><a name="SSMSProcedure"></a> <span data-ttu-id="3a28f-134">Uso de SQL Server Management Studio</span><span class="sxs-lookup"><span data-stu-id="3a28f-134">Using SQL Server Management Studio</span></span>  
  
### <a name="to-attach-a-database"></a><span data-ttu-id="3a28f-135">Para adjuntar una base de datos</span><span class="sxs-lookup"><span data-stu-id="3a28f-135">To Attach a Database</span></span>  
  
1.  <span data-ttu-id="3a28f-136">En el Explorador de objetos de [!INCLUDE[ssManStudioFull](../../includes/ssmanstudiofull-md.md)] , conéctese a una instancia del [!INCLUDE[ssDEnoversion](../../includes/ssdenoversion-md.md)]y, después, expándala.</span><span class="sxs-lookup"><span data-stu-id="3a28f-136">In [!INCLUDE[ssManStudioFull](../../includes/ssmanstudiofull-md.md)] Object Explorer, connect to an instance of the [!INCLUDE[ssDEnoversion](../../includes/ssdenoversion-md.md)], and then expand that instance.</span></span>  
  
2.  <span data-ttu-id="3a28f-137">Haga clic con el botón derecho en **Bases de datos** y haga clic en **Adjuntar**.</span><span class="sxs-lookup"><span data-stu-id="3a28f-137">Right-click **Databases** and click **Attach**.</span></span>  
  
3.  <span data-ttu-id="3a28f-138">En el cuadro de diálogo **Adjuntar bases de datos** , haga clic en **Agregar**para especificar la base de datos que se va a adjuntar y en el cuadro de diálogo **Buscar archivos de base de datos** , seleccione la unidad de disco en la que se halla la base de datos y expanda el árbol de directorios para buscar y seleccionar el archivo .mdf de la base de datos; por ejemplo:</span><span class="sxs-lookup"><span data-stu-id="3a28f-138">In the **Attach Databases** dialog box, to specify the database to be attached, click **Add**; and in the **Locate Database Files** dialog box, select the disk drive where the database resides and expand the directory tree to find and select the .mdf file of the database; for example:</span></span>  
  
     `C:\Program Files\Microsoft SQL Server\MSSQL12.MSSQLSERVER\MSSQL\DATA\AdventureWorks2012_Data.mdf`  
  
    > [!IMPORTANT]  
    > <span data-ttu-id="3a28f-139">Si intenta seleccionar una base de datos que ya ha sido adjuntada se producirá un error.</span><span class="sxs-lookup"><span data-stu-id="3a28f-139">Trying to select a database that is already attached generates an error.</span></span>  
  
     <span data-ttu-id="3a28f-140">**Bases de datos que se van a adjuntar**</span><span class="sxs-lookup"><span data-stu-id="3a28f-140">**Databases to attach**</span></span>  
     <span data-ttu-id="3a28f-141">Muestra información sobre las bases de datos seleccionadas.</span><span class="sxs-lookup"><span data-stu-id="3a28f-141">Displays information about the selected databases.</span></span>  
  
     \<no column header>  
     <span data-ttu-id="3a28f-142">Muestra un icono que indica el estado de la operación de adjuntar.</span><span class="sxs-lookup"><span data-stu-id="3a28f-142">Displays an icon indicating the status of the attach operation.</span></span> <span data-ttu-id="3a28f-143">Los iconos posibles se indican en la descripción de **Estado** , que encontrará más adelante.</span><span class="sxs-lookup"><span data-stu-id="3a28f-143">The possible icons are described in the **Status** description, below).</span></span>  
  
     <span data-ttu-id="3a28f-144">**Ubicación del archivo MDF**</span><span class="sxs-lookup"><span data-stu-id="3a28f-144">**MDF File Location**</span></span>  
     <span data-ttu-id="3a28f-145">Muestra la ruta de acceso y el nombre del archivo MDF seleccionado.</span><span class="sxs-lookup"><span data-stu-id="3a28f-145">Displays the path and file name of the selected MDF file.</span></span>  
  
     <span data-ttu-id="3a28f-146">**Nombre de la base de datos**</span><span class="sxs-lookup"><span data-stu-id="3a28f-146">**Database Name**</span></span>  
     <span data-ttu-id="3a28f-147">Muestra el nombre de la base de datos.</span><span class="sxs-lookup"><span data-stu-id="3a28f-147">Displays the name of the database.</span></span>  
  
     <span data-ttu-id="3a28f-148">**Adjuntar como**</span><span class="sxs-lookup"><span data-stu-id="3a28f-148">**Attach As**</span></span>  
     <span data-ttu-id="3a28f-149">Opcionalmente, especifica un nombre distinto con el que se debe adjuntar la base de datos.</span><span class="sxs-lookup"><span data-stu-id="3a28f-149">Optionally, specifies a different name for the database to attach as.</span></span>  
  
     <span data-ttu-id="3a28f-150">**Propietario**</span><span class="sxs-lookup"><span data-stu-id="3a28f-150">**Owner**</span></span>  
     <span data-ttu-id="3a28f-151">Ofrece una lista desplegable de los posibles propietarios de base de datos desde los que opcionalmente puede seleccionarse otro propietario.</span><span class="sxs-lookup"><span data-stu-id="3a28f-151">Provides a drop-down list of possible database owners from which you can optionally select a different owner.</span></span>  
  
     <span data-ttu-id="3a28f-152">**Estado**</span><span class="sxs-lookup"><span data-stu-id="3a28f-152">**Status**</span></span>  
     <span data-ttu-id="3a28f-153">Muestra el estado de la base de datos de acuerdo con la tabla siguiente.</span><span class="sxs-lookup"><span data-stu-id="3a28f-153">Displays the status of the database according to the following table.</span></span>  
  
    |<span data-ttu-id="3a28f-154">Icono</span><span class="sxs-lookup"><span data-stu-id="3a28f-154">Icon</span></span>|<span data-ttu-id="3a28f-155">Texto de estado</span><span class="sxs-lookup"><span data-stu-id="3a28f-155">Status text</span></span>|<span data-ttu-id="3a28f-156">Descripción</span><span class="sxs-lookup"><span data-stu-id="3a28f-156">Description</span></span>|  
    |----------|-----------------|-----------------|  
    |<span data-ttu-id="3a28f-157">(Sin icono)</span><span class="sxs-lookup"><span data-stu-id="3a28f-157">(No icon)</span></span>|<span data-ttu-id="3a28f-158">(Sin texto)</span><span class="sxs-lookup"><span data-stu-id="3a28f-158">(No text)</span></span>|<span data-ttu-id="3a28f-159">La operación de adjuntar no se ha iniciado o puede estar pendiente para este objeto.</span><span class="sxs-lookup"><span data-stu-id="3a28f-159">Attach operation has not been started or may be pending for this object.</span></span> <span data-ttu-id="3a28f-160">Es la opción predeterminada al abrir el diálogo.</span><span class="sxs-lookup"><span data-stu-id="3a28f-160">This is the default when the dialog is opened.</span></span>|  
    |<span data-ttu-id="3a28f-161">Triángulo verde hacia la derecha</span><span class="sxs-lookup"><span data-stu-id="3a28f-161">Green, right-pointing triangle</span></span>|<span data-ttu-id="3a28f-162">En curso</span><span class="sxs-lookup"><span data-stu-id="3a28f-162">In progress</span></span>|<span data-ttu-id="3a28f-163">La operación de adjuntar se ha iniciado, pero no ha finalizado.</span><span class="sxs-lookup"><span data-stu-id="3a28f-163">Attach operation has been started but it is not complete.</span></span>|  
    |<span data-ttu-id="3a28f-164">Marca de verificación verde</span><span class="sxs-lookup"><span data-stu-id="3a28f-164">Green check mark</span></span>|<span data-ttu-id="3a28f-165">Correcto</span><span class="sxs-lookup"><span data-stu-id="3a28f-165">Success</span></span>|<span data-ttu-id="3a28f-166">El objeto se ha adjuntado correctamente.</span><span class="sxs-lookup"><span data-stu-id="3a28f-166">The object has been attached successfully.</span></span>|  
    |<span data-ttu-id="3a28f-167">Círculo rojo con una cruz blanca</span><span class="sxs-lookup"><span data-stu-id="3a28f-167">Red circle containing a white cross</span></span>|<span data-ttu-id="3a28f-168">Error</span><span class="sxs-lookup"><span data-stu-id="3a28f-168">Error</span></span>|<span data-ttu-id="3a28f-169">La operación de adjuntar ha detectado un error y no ha finalizado correctamente.</span><span class="sxs-lookup"><span data-stu-id="3a28f-169">Attach operation encountered an error and did not complete successfully.</span></span>|  
    |<span data-ttu-id="3a28f-170">Círculo con dos cuadrantes negros (a la izquierda y la derecha) y dos cuadrantes blancos (en la parte superior e inferior)</span><span class="sxs-lookup"><span data-stu-id="3a28f-170">Circle containing two black quadrants (on left and right) and two white quadrants (on top and bottom)</span></span>|<span data-ttu-id="3a28f-171">Detenido</span><span class="sxs-lookup"><span data-stu-id="3a28f-171">Stopped</span></span>|<span data-ttu-id="3a28f-172">La operación de adjuntar no ha finalizado correctamente porque el usuario la ha detenido.</span><span class="sxs-lookup"><span data-stu-id="3a28f-172">Attach operation was not completed successfully because the user stopped the operation.</span></span>|  
    |<span data-ttu-id="3a28f-173">Círculo con una flecha curvada que apunta hacia la izquierda</span><span class="sxs-lookup"><span data-stu-id="3a28f-173">Circle containing a curved arrow pointing counter-clockwise</span></span>|<span data-ttu-id="3a28f-174">Revertido</span><span class="sxs-lookup"><span data-stu-id="3a28f-174">Rolled Back</span></span>|<span data-ttu-id="3a28f-175">La operación de adjuntar se ha ejecutado correctamente, pero se ha revertido debido a un error al adjuntar otro objeto.</span><span class="sxs-lookup"><span data-stu-id="3a28f-175">Attach operation was successful but it has been rolled back due to an error during attachment of another object.</span></span>|  
  
     <span data-ttu-id="3a28f-176">**Mensaje**</span><span class="sxs-lookup"><span data-stu-id="3a28f-176">**Message**</span></span>  
     <span data-ttu-id="3a28f-177">Muestra un mensaje en blanco o un hipervínculo que indica "Archivo no encontrado".</span><span class="sxs-lookup"><span data-stu-id="3a28f-177">Displays either a blank message or a "File not found" hyperlink.</span></span>  
  
     <span data-ttu-id="3a28f-178">**Add (Agregar)**</span><span class="sxs-lookup"><span data-stu-id="3a28f-178">**Add**</span></span>  
     <span data-ttu-id="3a28f-179">Busca los archivos de base de datos principales necesarios.</span><span class="sxs-lookup"><span data-stu-id="3a28f-179">Find the necessary main database files.</span></span> <span data-ttu-id="3a28f-180">Si el usuario selecciona un archivo .mdf, la información pertinente se llena automáticamente en los respectivos campos de la cuadrícula **Bases de datos que se van a adjuntar** .</span><span class="sxs-lookup"><span data-stu-id="3a28f-180">When the user selects an .mdf file, applicable information is automatically filled in the respective fields of the **Databases to attach** grid.</span></span>  
  
     <span data-ttu-id="3a28f-181">**Remove**</span><span class="sxs-lookup"><span data-stu-id="3a28f-181">**Remove**</span></span>  
     <span data-ttu-id="3a28f-182">Quita el archivo seleccionado de la cuadrícula **Bases de datos que se van a adjuntar** .</span><span class="sxs-lookup"><span data-stu-id="3a28f-182">Removes the selected file from the **Databases to attach** grid.</span></span>  
  
     <span data-ttu-id="3a28f-183">**"** *<database_name>* **" detalles de la base de datos**</span><span class="sxs-lookup"><span data-stu-id="3a28f-183">**"** *<database_name>* **" database details**</span></span>  
     <span data-ttu-id="3a28f-184">Muestra los nombres de los archivos que se van a adjuntar.</span><span class="sxs-lookup"><span data-stu-id="3a28f-184">Displays the names of the files to be attached.</span></span> <span data-ttu-id="3a28f-185">Para comprobar o cambiar el nombre de la ruta de acceso de un archivo, haga clic en el botón **Examinar** ( **...** ).</span><span class="sxs-lookup"><span data-stu-id="3a28f-185">To verify or change the pathname of a file, click the **Browse** button (**...**).</span></span>  
  
    > [!NOTE]  
    > <span data-ttu-id="3a28f-186">Si un archivo no existe, la columna **Mensaje** muestra "No se encontró".</span><span class="sxs-lookup"><span data-stu-id="3a28f-186">If a file does not exist, the **Message** column displays "Not found."</span></span> <span data-ttu-id="3a28f-187">Si un archivo de registro no se encuentra, indica que se halla en otro directorio o que se ha eliminado.</span><span class="sxs-lookup"><span data-stu-id="3a28f-187">If a log file is not found, it exists in another directory or has been deleted.</span></span> <span data-ttu-id="3a28f-188">En tal caso, debe actualizar la ruta de acceso del archivo en la cuadrícula **Detalles de la base de datos** para que señale la ubicación correcta o eliminar el archivo de registro de la cuadrícula.</span><span class="sxs-lookup"><span data-stu-id="3a28f-188">You need to either update the file path in the **database details** grid to point to the correct location or remove the log file from the grid.</span></span> <span data-ttu-id="3a28f-189">Si un archivo de datos .ndf no se encuentra, debe actualizar su ruta de acceso en la cuadrícula para que señale la ubicación correcta.</span><span class="sxs-lookup"><span data-stu-id="3a28f-189">If an .ndf data file is not found, you need to update its path in the grid to point to the correct location.</span></span>  
  
     <span data-ttu-id="3a28f-190">**Nombre del archivo original**</span><span class="sxs-lookup"><span data-stu-id="3a28f-190">**Original File Name**</span></span>  
     <span data-ttu-id="3a28f-191">Muestra el nombre del archivo adjunto que pertenece a la base de datos.</span><span class="sxs-lookup"><span data-stu-id="3a28f-191">Displays the name of the attached file belonging to the database.</span></span>  
  
     <span data-ttu-id="3a28f-192">**Tipo de archivo**</span><span class="sxs-lookup"><span data-stu-id="3a28f-192">**File Type**</span></span>  
     <span data-ttu-id="3a28f-193">Indica el tipo de archivo, que puede ser de **datos** o de **registro**.</span><span class="sxs-lookup"><span data-stu-id="3a28f-193">Indicates the type of file, **Data** or **Log**.</span></span>  
  
     <span data-ttu-id="3a28f-194">**Ruta de acceso del archivo actual**</span><span class="sxs-lookup"><span data-stu-id="3a28f-194">**Current File Path**</span></span>  
     <span data-ttu-id="3a28f-195">Muestra la ruta de acceso del archivo de base de datos seleccionado.</span><span class="sxs-lookup"><span data-stu-id="3a28f-195">Displays the path to the selected database file.</span></span> <span data-ttu-id="3a28f-196">La ruta de acceso puede modificarse manualmente.</span><span class="sxs-lookup"><span data-stu-id="3a28f-196">The path can be edited manually.</span></span>  
  
     <span data-ttu-id="3a28f-197">**Mensaje**</span><span class="sxs-lookup"><span data-stu-id="3a28f-197">**Message**</span></span>  
     <span data-ttu-id="3a28f-198">Muestra un mensaje en blanco o un hipervínculo que indica "**Archivo no encontrado**".</span><span class="sxs-lookup"><span data-stu-id="3a28f-198">Displays either a blank message or a "**File not found**" hyperlink.</span></span>  
  
##  <a name="using-transact-sql"></a><a name="TsqlProcedure"></a> <span data-ttu-id="3a28f-199">Usar Transact-SQL</span><span class="sxs-lookup"><span data-stu-id="3a28f-199">Using Transact-SQL</span></span>  
  
### <a name="to-attach-a-database"></a><span data-ttu-id="3a28f-200">Para adjuntar una base de datos</span><span class="sxs-lookup"><span data-stu-id="3a28f-200">To attach a database</span></span>  
  
1.  <span data-ttu-id="3a28f-201">Conéctese con el [!INCLUDE[ssDE](../../includes/ssde-md.md)].</span><span class="sxs-lookup"><span data-stu-id="3a28f-201">Connect to the [!INCLUDE[ssDE](../../includes/ssde-md.md)].</span></span>  
  
2.  <span data-ttu-id="3a28f-202">En la barra Estándar, haga clic en **Nueva consulta**.</span><span class="sxs-lookup"><span data-stu-id="3a28f-202">From the Standard bar, click **New Query**.</span></span>  
  
3.  <span data-ttu-id="3a28f-203">Use la instrucción [Create Database](/sql/t-sql/statements/create-database-sql-server-transact-sql) con el `FOR ATTACH` cierre.</span><span class="sxs-lookup"><span data-stu-id="3a28f-203">Use the [CREATE DATABASE](/sql/t-sql/statements/create-database-sql-server-transact-sql) statement with the `FOR ATTACH` close.</span></span>  
  
     <span data-ttu-id="3a28f-204">Copie y pegue el siguiente ejemplo en la ventana de consulta y haga clic en **Ejecutar**.</span><span class="sxs-lookup"><span data-stu-id="3a28f-204">Copy and paste the following example into the query window and click **Execute**.</span></span> <span data-ttu-id="3a28f-205">En este ejemplo se adjuntan los archivos de la base de datos [!INCLUDE[ssSampleDBnormal](../../includes/sssampledbnormal-md.md)] y se cambia el nombre de la base de datos a `MyAdventureWorks`.</span><span class="sxs-lookup"><span data-stu-id="3a28f-205">This example attaches the files of the [!INCLUDE[ssSampleDBnormal](../../includes/sssampledbnormal-md.md)] database and renames the database to `MyAdventureWorks`.</span></span>  
  
    ```sql  
    CREATE DATABASE MyAdventureWorks   
        ON (FILENAME = 'C:\MySQLServer\AdventureWorks_Data.mdf'),   
        (FILENAME = 'C:\MySQLServer\AdventureWorks_Log.ldf')   
        FOR ATTACH;  
    ```  
  
    > [!NOTE]  
    > <span data-ttu-id="3a28f-206">También puede usar los procedimientos almacenados [sp_attach_db](/sql/relational-databases/system-stored-procedures/sp-attach-db-transact-sql) o [sp_attach_single_file_db](/sql/relational-databases/system-stored-procedures/sp-attach-single-file-db-transact-sql) .</span><span class="sxs-lookup"><span data-stu-id="3a28f-206">Alternatively, you can use the [sp_attach_db](/sql/relational-databases/system-stored-procedures/sp-attach-db-transact-sql) or [sp_attach_single_file_db](/sql/relational-databases/system-stored-procedures/sp-attach-single-file-db-transact-sql) stored procedure.</span></span> <span data-ttu-id="3a28f-207">Sin embargo, estos procedimientos almacenados se quitarán en una versión futura de Microsoft [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)].</span><span class="sxs-lookup"><span data-stu-id="3a28f-207">However, these procedures will be removed in a future version of Microsoft [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)].</span></span> <span data-ttu-id="3a28f-208">Evite utilizar esta característica en nuevos trabajos de desarrollo y tenga previsto modificar las aplicaciones que actualmente la utilizan.</span><span class="sxs-lookup"><span data-stu-id="3a28f-208">Avoid using this feature in new development work, and plan to modify applications that currently use this feature.</span></span> <span data-ttu-id="3a28f-209">Se recomienda usar CREATE DATABASE... PARA ATTACH en su lugar.</span><span class="sxs-lookup"><span data-stu-id="3a28f-209">We recommend that you use CREATE DATABASE ... FOR ATTACH instead.</span></span>  
  
##  <a name="follow-up-after-upgrading-a-sql-server-database"></a><a name="FollowUp"></a> <span data-ttu-id="3a28f-210">Seguimiento: Después de actualizar una base de datos de SQL Server</span><span class="sxs-lookup"><span data-stu-id="3a28f-210">Follow Up: After Upgrading a SQL Server Database</span></span>  
 <span data-ttu-id="3a28f-211">spués actualiza una base de datos mediante el método attach, la base de datos está disponible inmediatamente y se actualiza automáticamente.</span><span class="sxs-lookup"><span data-stu-id="3a28f-211">fter you upgrade a database by using the attach method, the database becomes available immediately and is automatically upgraded.</span></span> <span data-ttu-id="3a28f-212">Si la base de datos tiene índices de texto completo, el proceso de actualización los importa, los restablece o los vuelve a generar, en función del valor de la propiedad del servidor **Opción de actualización de texto completo** .</span><span class="sxs-lookup"><span data-stu-id="3a28f-212">If the database has full-text indexes, the upgrade process either imports, resets, or rebuilds them, depending on the setting of the **Full-Text Upgrade Option** server property.</span></span> <span data-ttu-id="3a28f-213">Si la opción de actualización se establece en **Importar** o en **Volver a generar**, los índices de texto completo no estarán disponibles durante la actualización.</span><span class="sxs-lookup"><span data-stu-id="3a28f-213">If the upgrade option is set to **Import** or **Rebuild**, the full-text indexes will be unavailable during the upgrade.</span></span> <span data-ttu-id="3a28f-214">Dependiendo de la cantidad de datos que se indicen, la importación puede requerir varias horas y volver a generar puede requerir hasta diez veces más.</span><span class="sxs-lookup"><span data-stu-id="3a28f-214">Depending the amount of data being indexed, importing can take several hours, and rebuilding can take up to ten times longer.</span></span> <span data-ttu-id="3a28f-215">Tenga en cuenta también que si la opción de actualización se establece en **Importar**y no hay disponible ningún catálogo de texto completo, se vuelven a generar los índices de texto completo asociados.</span><span class="sxs-lookup"><span data-stu-id="3a28f-215">Note also that when the upgrade option is set to **Import**, if a full-text catalog is not available, the associated full-text indexes are rebuilt.</span></span>  
  
<span data-ttu-id="3a28f-216">Si el nivel de compatibilidad de una base de datos de usuario es 100 o superior antes de la actualización, permanece igual después de la misma.</span><span class="sxs-lookup"><span data-stu-id="3a28f-216">If the compatibility level of a user database is 100 or higher before upgrade, it remains the same after upgrade.</span></span> <span data-ttu-id="3a28f-217">Si el nivel de compatibilidad es 90 antes de la actualización, en la base de datos actualizada, el nivel de compatibilidad se establece en 100, que es el nivel de compatibilidad mínimo admitido en [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)].</span><span class="sxs-lookup"><span data-stu-id="3a28f-217">If the compatibility level is 90 before upgrade, in the upgraded database, the compatibility level is set to 100, which is the lowest supported compatibility level in [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)].</span></span> <span data-ttu-id="3a28f-218">Para obtener más información, vea [Nivel de compatibilidad de ALTER DATABASE &#40;Transact-SQL&#41;](/sql/t-sql/statements/alter-database-transact-sql-compatibility-level).</span><span class="sxs-lookup"><span data-stu-id="3a28f-218">For more information, see [ALTER DATABASE Compatibility Level &#40;Transact-SQL&#41;](/sql/t-sql/statements/alter-database-transact-sql-compatibility-level).</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="3a28f-219">Consulte también</span><span class="sxs-lookup"><span data-stu-id="3a28f-219">See Also</span></span>  
 <span data-ttu-id="3a28f-220">[CREATE DATABASE &#40;Transact-SQL de SQL Server&#41;](/sql/t-sql/statements/create-database-sql-server-transact-sql) </span><span class="sxs-lookup"><span data-stu-id="3a28f-220">[CREATE DATABASE &#40;SQL Server Transact-SQL&#41;](/sql/t-sql/statements/create-database-sql-server-transact-sql) </span></span>  
 [<span data-ttu-id="3a28f-221">Separar una base de datos</span><span class="sxs-lookup"><span data-stu-id="3a28f-221">Detach a Database</span></span>](detach-a-database.md)  
  
  
