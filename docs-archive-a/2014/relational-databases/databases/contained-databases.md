---
title: Bases de datos independientes | Microsoft Docs
ms.custom: ''
ms.date: 07/17/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: configuration
ms.topic: conceptual
helpviewer_keywords:
- contained database
- database_uncontained_usage event
- partially contained database
- contained database, understanding
ms.assetid: 36af59d7-ce96-4a02-8598-ffdd78cdc948
author: stevestein
ms.author: sstein
ms.openlocfilehash: 3efd231a1aa4d2b348bcfe887bd05825fcd40c90
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 08/04/2020
ms.locfileid: "87747028"
---
# <a name="contained-databases"></a><span data-ttu-id="b5811-102">Bases de datos independientes</span><span class="sxs-lookup"><span data-stu-id="b5811-102">Contained Databases</span></span>
  <span data-ttu-id="b5811-103">Una*base de datos independiente* es una base de datos que está aislada de otras bases de datos y de la instancia de [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] que hospeda la base de datos.</span><span class="sxs-lookup"><span data-stu-id="b5811-103">A*contained database* is a database that is isolated from other databases and from the instance of [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] that hosts the database.</span></span>  [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)] <span data-ttu-id="b5811-104">ayuda al usuario a aislar su base de datos de la instancia de 4 maneras.</span><span class="sxs-lookup"><span data-stu-id="b5811-104">helps user to isolate their database from the instance in 4 ways.</span></span>  
  
-   <span data-ttu-id="b5811-105">Muchos de los metadatos que describen una base de datos se mantienen en la base de datos.</span><span class="sxs-lookup"><span data-stu-id="b5811-105">Much of the metadata that describes a database is maintained in the database.</span></span> <span data-ttu-id="b5811-106">(Además, o en lugar de, mantenerse los metadatos en la base de datos maestra).</span><span class="sxs-lookup"><span data-stu-id="b5811-106">(In addition to, or instead of, maintaining metadata in the master database.)</span></span>  
  
-   <span data-ttu-id="b5811-107">Todos los metadatos se definen utilizando la misma intercalación.</span><span class="sxs-lookup"><span data-stu-id="b5811-107">All metadata are defined using the same collation.</span></span>  
  
-   <span data-ttu-id="b5811-108">La autenticación de usuario la puede realizar la base de datos, reduciendo la dependencia de las bases de datos en los inicios de sesión de la instancia de [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)].</span><span class="sxs-lookup"><span data-stu-id="b5811-108">User authentication can be performed by the database, reducing the databases dependency on the logins of the instance of [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)].</span></span>  
  
-   <span data-ttu-id="b5811-109">El entorno de [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] (DMV, XEvents, etc.) informa y puede actuar en la información de contención.</span><span class="sxs-lookup"><span data-stu-id="b5811-109">The [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] environment (DMV's, XEvents, etc.) reports and can act upon containment information.</span></span>  
  
 <span data-ttu-id="b5811-110">Algunas características de las bases de datos parcialmente independientes, como el almacenamiento de la base de datos, se aplican a todas las bases de datos de [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)] .</span><span class="sxs-lookup"><span data-stu-id="b5811-110">Some features of partially contained databases, such as storing metadata in the database, apply to all [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)] databases.</span></span> <span data-ttu-id="b5811-111">Algunas ventajas de las bases de datos parcialmente independientes, como la autenticación en el nivel de base de datos y la intercalación de catálogo, se deben habilitar para que estén disponibles.</span><span class="sxs-lookup"><span data-stu-id="b5811-111">Some benefits of partially contained databases, such as database level authentication and catalog collation, must be enabled before they are available.</span></span> <span data-ttu-id="b5811-112">La contención parcial se habilita utilizando las instrucciones `CREATE DATABASE` y de `ALTER DATABASE` o mediante [!INCLUDE[ssManStudioFull](../../includes/ssmanstudiofull-md.md)].</span><span class="sxs-lookup"><span data-stu-id="b5811-112">Partial containment is enabled using the `CREATE DATABASE` and `ALTER DATABASE` statements or by using [!INCLUDE[ssManStudioFull](../../includes/ssmanstudiofull-md.md)].</span></span> <span data-ttu-id="b5811-113">Para obtener más información acerca de cómo habilitar la contención parcial de bases de datos, vea [Migrate to a Partially Contained Database](migrate-to-a-partially-contained-database.md).</span><span class="sxs-lookup"><span data-stu-id="b5811-113">For more information about how to enable partial database containment, see [Migrate to a Partially Contained Database](migrate-to-a-partially-contained-database.md).</span></span>  
  
 <span data-ttu-id="b5811-114">En este tema se incluyen las siguientes secciones.</span><span class="sxs-lookup"><span data-stu-id="b5811-114">This topic contains the following sections.</span></span>  
  
-   [<span data-ttu-id="b5811-115">Conceptos de base de datos parcialmente independiente</span><span class="sxs-lookup"><span data-stu-id="b5811-115">Partially Contained Database Concepts</span></span>](#Concepts)  
  
-   [<span data-ttu-id="b5811-116">Contención</span><span class="sxs-lookup"><span data-stu-id="b5811-116">Containment</span></span>](#containment)  
  
-   [<span data-ttu-id="b5811-117">Ventajas del uso de bases de datos parcialmente independientes</span><span class="sxs-lookup"><span data-stu-id="b5811-117">Benefits of using Partially Contained Databases</span></span>](#benefits)  
  
-   [<span data-ttu-id="b5811-118">Limitaciones</span><span class="sxs-lookup"><span data-stu-id="b5811-118">Limitations</span></span>](#Limitations)  
  
-   [<span data-ttu-id="b5811-119">Identificar la contención de base de datos</span><span class="sxs-lookup"><span data-stu-id="b5811-119">Identifying Database Containment</span></span>](#Identifying)  
  
##  <a name="partially-contained-database-concepts"></a><a name="Concepts"></a> <span data-ttu-id="b5811-120">Conceptos de las bases de datos parcialmente independientes</span><span class="sxs-lookup"><span data-stu-id="b5811-120">Partially Contained Database Concepts</span></span>  
 <span data-ttu-id="b5811-121">Una base de datos totalmente independiente incluye todos los metadatos y opciones de configuración necesarios para definirla y no tiene dependencias de configuración en la instancia de [!INCLUDE[ssDEnoversion](../../includes/ssdenoversion-md.md)] donde esté instalada.</span><span class="sxs-lookup"><span data-stu-id="b5811-121">A fully contained database includes all the settings and metadata required to define the database and has no configuration dependencies on the instance of the [!INCLUDE[ssDEnoversion](../../includes/ssdenoversion-md.md)] where the database is installed.</span></span> <span data-ttu-id="b5811-122">En versiones anteriores de [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)], la separación de una base de datos de la instancia de [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] podría necesitar mucho tiempo y un conocimiento detallado de la relación entre la base de datos y la instancia de [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)].</span><span class="sxs-lookup"><span data-stu-id="b5811-122">In previous versions of [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)], separating a database from the instance of [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] could be time consuming and required detailed knowledge of the relationship between the database and the instance of [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)].</span></span> <span data-ttu-id="b5811-123">Las bases de datos parcialmente independientes facilitan la separación de una base de datos de la instancia de [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] y de otras bases de datos.</span><span class="sxs-lookup"><span data-stu-id="b5811-123">Partially contained databases make it easier to separate a database from the instance of [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] and other databases.</span></span>  
  
 <span data-ttu-id="b5811-124">La base de datos independiente considera las características en lo que se refiere a la contención.</span><span class="sxs-lookup"><span data-stu-id="b5811-124">The contained database considers features with regard to containment.</span></span> <span data-ttu-id="b5811-125">Cualquier entidad definida por el usuario que solo se base en las funciones que residen dentro de la base de datos se considera totalmente independiente.</span><span class="sxs-lookup"><span data-stu-id="b5811-125">Any user-defined entity that relies only on functions that reside in the database is considered fully contained.</span></span> <span data-ttu-id="b5811-126">Cualquier entidad definida por el usuario que se base en funciones que residen fuera de la base de datos se considera dependiente.</span><span class="sxs-lookup"><span data-stu-id="b5811-126">Any user-defined entity that relies on functions that reside outside the database is considered uncontained.</span></span> <span data-ttu-id="b5811-127">(Para obtener más información, vea la sección [Contención](#containment) más adelante en este tema).</span><span class="sxs-lookup"><span data-stu-id="b5811-127">(For more information, see the [Containment](#containment) section later in this topic.)</span></span>  
  
 <span data-ttu-id="b5811-128">Las siguientes condiciones se aplican al modelo de base de datos independiente.</span><span class="sxs-lookup"><span data-stu-id="b5811-128">The following terms apply to the contained database model.</span></span>  
  
 <span data-ttu-id="b5811-129">Límite de la base de datos</span><span class="sxs-lookup"><span data-stu-id="b5811-129">Database boundary</span></span>  
 <span data-ttu-id="b5811-130">El límite entre el modelo una base de datos y la instancia de [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)].</span><span class="sxs-lookup"><span data-stu-id="b5811-130">The boundary between a database and the instance of [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)].</span></span> <span data-ttu-id="b5811-131">El límite entre una base de datos y otras bases de datos.</span><span class="sxs-lookup"><span data-stu-id="b5811-131">The boundary between a database and other databases.</span></span>  
  
 <span data-ttu-id="b5811-132">Contenida</span><span class="sxs-lookup"><span data-stu-id="b5811-132">Contained</span></span>  
 <span data-ttu-id="b5811-133">Un elemento que está completamente en el límite de la base de datos.</span><span class="sxs-lookup"><span data-stu-id="b5811-133">An element that exists entirely in the database boundary.</span></span>  
  
 <span data-ttu-id="b5811-134">No contenida</span><span class="sxs-lookup"><span data-stu-id="b5811-134">Uncontained</span></span>  
 <span data-ttu-id="b5811-135">Un elemento que cruza el límite de la base de datos.</span><span class="sxs-lookup"><span data-stu-id="b5811-135">An element that crosses the database boundary.</span></span>  
  
 <span data-ttu-id="b5811-136">Base de datos dependiente</span><span class="sxs-lookup"><span data-stu-id="b5811-136">Non-contained database</span></span>  
 <span data-ttu-id="b5811-137">Una base de datos que tiene establecida la contención en **NONE**.</span><span class="sxs-lookup"><span data-stu-id="b5811-137">A database that has containment set to **NONE**.</span></span> <span data-ttu-id="b5811-138">Todas las bases de datos de versiones anteriores a [!INCLUDE[ssSQL11](../../includes/sssql11-md.md)] son dependientes.</span><span class="sxs-lookup"><span data-stu-id="b5811-138">All databases in versions earlier than [!INCLUDE[ssSQL11](../../includes/sssql11-md.md)] are non-contained.</span></span> <span data-ttu-id="b5811-139">De forma predeterminada, todas las bases de datos de [!INCLUDE[ssSQL11](../../includes/sssql11-md.md)] y posteriores tienen establecida la contención en **NONE**.</span><span class="sxs-lookup"><span data-stu-id="b5811-139">By default, all [!INCLUDE[ssSQL11](../../includes/sssql11-md.md)] and later databases have a containment set to **NONE**.</span></span>  
  
 <span data-ttu-id="b5811-140">Base de datos parcialmente independiente</span><span class="sxs-lookup"><span data-stu-id="b5811-140">Partially contained database</span></span>  
 <span data-ttu-id="b5811-141">Una base de datos parcialmente independiente es una base de datos independiente que puede permitir algunas características que cruzan el límite de la base de datos.</span><span class="sxs-lookup"><span data-stu-id="b5811-141">A partially contained database is a contained database that can allow some features that cross the database boundary.</span></span> [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] <span data-ttu-id="b5811-142">incluye la capacidad de determinar cuándo se traspasa el límite de contención.</span><span class="sxs-lookup"><span data-stu-id="b5811-142">includes the ability to determine when the containment boundary is crossed.</span></span>  
  
 <span data-ttu-id="b5811-143">Usuario contenido</span><span class="sxs-lookup"><span data-stu-id="b5811-143">Contained user</span></span>  
 <span data-ttu-id="b5811-144">Hay dos tipos de usuarios para las bases de datos independientes.</span><span class="sxs-lookup"><span data-stu-id="b5811-144">There are two types of users for contained databases.</span></span>  
  
-   <span data-ttu-id="b5811-145">**Usuario de la base de datos independiente con contraseña**</span><span class="sxs-lookup"><span data-stu-id="b5811-145">**Contained database user with password**</span></span>  
  
     <span data-ttu-id="b5811-146">La base de datos autentica a los usuarios de la base de datos independiente con contraseñas.</span><span class="sxs-lookup"><span data-stu-id="b5811-146">Contained database users with passwords are authenticated by the database.</span></span>  
  
-   <span data-ttu-id="b5811-147">**Entidades de seguridad de Windows**</span><span class="sxs-lookup"><span data-stu-id="b5811-147">**Windows principals**</span></span>  
  
     <span data-ttu-id="b5811-148">Los usuarios de Windows autorizados y los miembros de grupos de Windows autorizados pueden conectarse directamente a la base de datos y no requieren inicios de sesión en la base de datos **maestra** .</span><span class="sxs-lookup"><span data-stu-id="b5811-148">Authorized Windows users and members of authorized Windows groups can connect directly to the database and do not need logins in the **master** database.</span></span> <span data-ttu-id="b5811-149">La base de datos confía en la autenticación de Windows.</span><span class="sxs-lookup"><span data-stu-id="b5811-149">The database trusts the authentication by Windows.</span></span>  
  
 <span data-ttu-id="b5811-150">A los usuarios basados en inicios de sesión en la base de datos **maestra** se les puede conceder acceso a una base de datos independiente, pero eso crearía una dependencia en la instancia de [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] .</span><span class="sxs-lookup"><span data-stu-id="b5811-150">Users based on logins in the **master** database can be granted access to a contained database, but that would create a dependency on the [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] instance.</span></span> <span data-ttu-id="b5811-151">Por consiguiente, la creación de usuarios basados en inicios de sesión ve el comentario para las bases de datos parcialmente independientes.</span><span class="sxs-lookup"><span data-stu-id="b5811-151">Therefore, creating users based on logins see comment for partially contained databases.</span></span>  
  
> [!IMPORTANT]  
>  <span data-ttu-id="b5811-152">La habilitación de bases de datos parcialmente independientes delega el control sobre el acceso a la instancia de [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] en los propietarios de la base de datos.</span><span class="sxs-lookup"><span data-stu-id="b5811-152">Enabling partially contained databases delegates control over access to the instance of [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] to the owners of the database.</span></span> <span data-ttu-id="b5811-153">Para más información, vea [Security Best Practices with Contained Databases](security-best-practices-with-contained-databases.md).</span><span class="sxs-lookup"><span data-stu-id="b5811-153">For more information, see [Security Best Practices with Contained Databases](security-best-practices-with-contained-databases.md).</span></span>  
  
 <span data-ttu-id="b5811-154">Límite de la base de datos</span><span class="sxs-lookup"><span data-stu-id="b5811-154">Database Boundary</span></span>  
 <span data-ttu-id="b5811-155">Dado que las bases de datos parcialmente independientes separan la funcionalidad de la base de datos de las de la instancia, hay una línea definida claramente entre estos dos elementos que se conoce como *límite de la base de datos*.</span><span class="sxs-lookup"><span data-stu-id="b5811-155">Because partially contained databases separate the database functionality from those of the instance, there is a clearly defined line between these two elements called the *database boundary*.</span></span>  
  
 <span data-ttu-id="b5811-156">Dentro del límite de la base de datos está el *modelo de base de datos*, donde las bases de datos se desarrollan y administran.</span><span class="sxs-lookup"><span data-stu-id="b5811-156">Inside of the database boundary is the *database model*, where the databases are developed and managed.</span></span> <span data-ttu-id="b5811-157">Ejemplos de entidades situadas dentro de la base de datos son las tablas del sistema como **sys.tables**, los usuarios de bases de datos independientes con contraseñas y las tablas de usuario de la base de datos actual a la que se hace referencia mediante un nombre de dos partes.</span><span class="sxs-lookup"><span data-stu-id="b5811-157">Examples of entities located inside of the database include, system tables like **sys.tables**, contained database users with passwords, and user tables in the current database referenced by a two-part name.</span></span>  
  
 <span data-ttu-id="b5811-158">Fuera del límite de la base de datos está el *modelo de administración*, que tiene que ver con la administración y las funciones del nivel de instancia.</span><span class="sxs-lookup"><span data-stu-id="b5811-158">Outside of the database boundary is the *management model*, which pertains to instance-level functions and management.</span></span> <span data-ttu-id="b5811-159">Algunos ejemplos de entidades situadas fuera del límite de la base de datos son las tablas del sistema como **sys.endpoints**, los usuarios asignados a los inicios de sesión y las tablas de usuario de otra base de datos a la que se hace referencia mediante un nombre de tres partes.</span><span class="sxs-lookup"><span data-stu-id="b5811-159">Examples of entities located outside of the database boundary include, system tables like **sys.endpoints**, users mapped to logins, and user tables in another database referenced by a three-part-name.</span></span>  
  
##  <a name="containment"></a><a name="containment"></a> <span data-ttu-id="b5811-160">Contención</span><span class="sxs-lookup"><span data-stu-id="b5811-160">Containment</span></span>  
 <span data-ttu-id="b5811-161">Las entidades de usuario que residen completamente dentro de la base de datos se consideran *independientes*.</span><span class="sxs-lookup"><span data-stu-id="b5811-161">User entities that reside entirely within the database are considered *contained*.</span></span> <span data-ttu-id="b5811-162">Cualquier entidad de usuario que resida fuera de la base de datos o se base en la interacción con funciones externas a la base de datos se considera *dependiente*.</span><span class="sxs-lookup"><span data-stu-id="b5811-162">Any entities that reside outside of the database, or rely on interaction with functions outside of the database, are considered *uncontained*.</span></span>  
  
 <span data-ttu-id="b5811-163">En general, las entidades de usuario entran en las siguientes categorías de contención:</span><span class="sxs-lookup"><span data-stu-id="b5811-163">In general, user entities fall into the following categories of containment:</span></span>  
  
-   <span data-ttu-id="b5811-164">Las entidades de usuario totalmente independientes (aquellas que nunca cruzan el límite de la base de datos), por ejemplo, sys.indexes.</span><span class="sxs-lookup"><span data-stu-id="b5811-164">Fully contained user entities (those that never cross the database boundary), for example sys.indexes.</span></span> <span data-ttu-id="b5811-165">Cualquier código que utilice estas características o cualquier objeto que haga referencia únicamente a estas entidades también está totalmente contenido.</span><span class="sxs-lookup"><span data-stu-id="b5811-165">Any code that uses these features or any object that references only these entities is also fully contained.</span></span>  
  
-   <span data-ttu-id="b5811-166">Las entidades de usuario dependientes (aquellas que cruzan el límite de la base de datos), por ejemplo sys.server_principals o una entidad de seguridad del servidor (inicio de sesión) propiamente dicha.</span><span class="sxs-lookup"><span data-stu-id="b5811-166">Uncontained user entities (those that cross the database boundary), for example sys.server_principals or a server principal (login) itself.</span></span> <span data-ttu-id="b5811-167">Cualquier código que utilice estas entidades o cualquier función que haga referencia a estas entidades también es dependiente.</span><span class="sxs-lookup"><span data-stu-id="b5811-167">Any code that uses these entities or any functions that references these entities are uncontained.</span></span>  
  
###  <a name="partially-contained-database"></a><a name="partial"></a> <span data-ttu-id="b5811-168">Partially Contained Database</span><span class="sxs-lookup"><span data-stu-id="b5811-168">Partially Contained Database</span></span>  
 <span data-ttu-id="b5811-169">La característica de base de datos independiente solo está disponible actualmente en un estado contenido de forma parcial.</span><span class="sxs-lookup"><span data-stu-id="b5811-169">The contained database feature is currently available only in a partially contained state.</span></span> <span data-ttu-id="b5811-170">Una base de datos parcialmente independiente es una base de datos independiente que permite el uso de características no contenidas.</span><span class="sxs-lookup"><span data-stu-id="b5811-170">A partially contained database is a contained database that allows the use of uncontained features.</span></span>  
  
 <span data-ttu-id="b5811-171">Use las vistas [sys.dm_db_uncontained_entities](/sql/relational-databases/system-dynamic-management-views/sys-dm-db-uncontained-entities-transact-sql) y [sys.sql_modules &#40;Transact-SQL&#41;](/sql/relational-databases/system-catalog-views/sys-sql-modules-transact-sql) para devolver información sobre características u objetos dependientes.</span><span class="sxs-lookup"><span data-stu-id="b5811-171">Use the [sys.dm_db_uncontained_entities](/sql/relational-databases/system-dynamic-management-views/sys-dm-db-uncontained-entities-transact-sql) and [sys.sql_modules &#40;Transact-SQL&#41;](/sql/relational-databases/system-catalog-views/sys-sql-modules-transact-sql) view to return information about uncontained objects or features.</span></span> <span data-ttu-id="b5811-172">Mediante la determinación del estado de contención de los elementos de la base de datos, se puede detectar qué objetos o características deben reemplazarse o alterarse para promover la contención.</span><span class="sxs-lookup"><span data-stu-id="b5811-172">By determining the containment status of the elements of your database, you can discover what objects or features must be replaced or altered to promote containment.</span></span>  
  
> [!IMPORTANT]  
>  <span data-ttu-id="b5811-173">Dado que ciertos objetos tienen la configuración de contención predeterminada **NONE**, esta vista puede devolver falsos positivos.</span><span class="sxs-lookup"><span data-stu-id="b5811-173">Because certain objects have a default containment setting of **NONE**, this view can return false positives.</span></span>  
  
 <span data-ttu-id="b5811-174">El comportamiento de las bases de datos parcialmente independientes difiere del que se observa en las bases de datos dependientes en lo que respecta a la intercalación.</span><span class="sxs-lookup"><span data-stu-id="b5811-174">The behavior of partially contained databases differs most distinctly from that of non-contained databases with regard to collation.</span></span> <span data-ttu-id="b5811-175">Para obtener más información acerca de los problemas de intercalación, vea [Contained Database Collations](contained-database-collations.md).</span><span class="sxs-lookup"><span data-stu-id="b5811-175">For more information about collation issues, see [Contained Database Collations](contained-database-collations.md).</span></span>  
  
##  <a name="benefits-of-using-partially-contained-databases"></a><a name="benefits"></a> <span data-ttu-id="b5811-176">Ventajas del uso de bases de datos parcialmente independientes</span><span class="sxs-lookup"><span data-stu-id="b5811-176">Benefits of using Partially Contained Databases</span></span>  
 <span data-ttu-id="b5811-177">Las bases de datos dependientes tienen problemas y complicaciones asociados que se pueden resolver utilizando una base de datos parcialmente independiente.</span><span class="sxs-lookup"><span data-stu-id="b5811-177">There are issues and complications associated with the non-contained databases that can be resolved by using a partially contained database.</span></span>  
  
### <a name="database-movement"></a><span data-ttu-id="b5811-178">Movimiento de la base de datos</span><span class="sxs-lookup"><span data-stu-id="b5811-178">Database Movement</span></span>  
 <span data-ttu-id="b5811-179">Uno de los problemas que se produce al mover bases de datos, es que determinada información importante puede no estar disponible cuando una base de datos se mueve de una instancia a otra.</span><span class="sxs-lookup"><span data-stu-id="b5811-179">One of the problems that occurs when moving databases, is that some important information can be unavailable when a database is moved from one instance to another.</span></span> <span data-ttu-id="b5811-180">Por ejemplo, la información de inicio de sesión se almacena en la instancia en lugar de en la base de datos.</span><span class="sxs-lookup"><span data-stu-id="b5811-180">For example, login information is stored within the instance instead of in the database.</span></span> <span data-ttu-id="b5811-181">Al mover una base de datos dependiente de una instancia a otra de [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)], esta información se queda atrás.</span><span class="sxs-lookup"><span data-stu-id="b5811-181">When you move a non-contained database from one instance to another instance of [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)], this information is left behind.</span></span> <span data-ttu-id="b5811-182">Debe identificar la información que falta y moverla con la base de datos a la nueva instancia de [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)].</span><span class="sxs-lookup"><span data-stu-id="b5811-182">You must identify the missing information and move it with your database to the new instance of [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)].</span></span> <span data-ttu-id="b5811-183">Este proceso puede ser difícil y tardar mucho tiempo.</span><span class="sxs-lookup"><span data-stu-id="b5811-183">This process can be difficult and time-consuming.</span></span>  
  
 <span data-ttu-id="b5811-184">La base de datos parcialmente independiente puede almacenar información importante en la base de datos, de modo que esta todavía tiene la información después de moverse.</span><span class="sxs-lookup"><span data-stu-id="b5811-184">The partially contained database can store important information in the database so the database still has the information after it is moved.</span></span>  
  
> [!NOTE]  
>  <span data-ttu-id="b5811-185">Una base de datos parcialmente independiente puede proporcionar documentación que describe las características que se utilizan en una base de datos que no se puede separar de la instancia.</span><span class="sxs-lookup"><span data-stu-id="b5811-185">A partially contained database can provide documentation describing those features that are used by a database that cannot be separated from the instance.</span></span> <span data-ttu-id="b5811-186">Esto incluye una lista de otras bases de datos interrelacionadas, la configuración del sistema que la base de datos requiere pero no se puede contener, etc.</span><span class="sxs-lookup"><span data-stu-id="b5811-186">This includes a list of other interrelated databases, system settings that the database requires but cannot be contained, and so on.</span></span>  
  
### <a name="benefit-of-contained-database-users-with-alwayson"></a><span data-ttu-id="b5811-187">Ventajas de usuarios de bases de datos independientes con AlwaysOn</span><span class="sxs-lookup"><span data-stu-id="b5811-187">Benefit of Contained Database Users with AlwaysOn</span></span>  
 <span data-ttu-id="b5811-188">Mediante la reducción de los vínculos a la instancia de [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)], las bases de datos parcialmente independientes pueden ser útiles durante la conmutación por error cuando se use [!INCLUDE[ssHADR](../../includes/sshadr-md.md)].</span><span class="sxs-lookup"><span data-stu-id="b5811-188">By reducing the ties to the instance of [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)], partially contained databases can be useful during failover when you use [!INCLUDE[ssHADR](../../includes/sshadr-md.md)].</span></span>  
  
 <span data-ttu-id="b5811-189">La creación de usuarios contenidos permite al usuario conectarse directamente a la base de datos independiente.</span><span class="sxs-lookup"><span data-stu-id="b5811-189">Creating contained users enables the user to connect directly to the contained database.</span></span> <span data-ttu-id="b5811-190">Esta es una característica muy importante en escenarios de alta disponibilidad y recuperación ante desastres, como en una solución de AlwaysOn.</span><span class="sxs-lookup"><span data-stu-id="b5811-190">This is a very significant feature in high availability and disaster recovery scenarios such as in an AlwaysOn solution.</span></span> <span data-ttu-id="b5811-191">Cuando los usuarios son usuarios contenidos, si que se produce una conmutación por error, podrán conectarse al servidor secundario sin crear inicios de sesión en la instancia que hospeda a este servidor.</span><span class="sxs-lookup"><span data-stu-id="b5811-191">If the users are contained users, in case of failover, people would be able to connect to the secondary without creating logins on the instance hosting the secondary.</span></span> <span data-ttu-id="b5811-192">Esto proporciona una ventaja inmediata.</span><span class="sxs-lookup"><span data-stu-id="b5811-192">This provides an immediate benefit.</span></span> <span data-ttu-id="b5811-193">Para obtener más información, vea [Información general de los grupos de disponibilidad AlwaysOn &#40;SQL Server&#41;](../../database-engine/availability-groups/windows/overview-of-always-on-availability-groups-sql-server.md) y [Requisitos previos, restricciones y recomendaciones para Grupos de disponibilidad AlwaysOn &#40;SQL Server&#41;](../../database-engine/availability-groups/windows/prereqs-restrictions-recommendations-always-on-availability.md).</span><span class="sxs-lookup"><span data-stu-id="b5811-193">For more information, see [Overview of AlwaysOn Availability Groups &#40;SQL Server&#41;](../../database-engine/availability-groups/windows/overview-of-always-on-availability-groups-sql-server.md) and [Prerequisites, Restrictions, and Recommendations for AlwaysOn Availability Groups &#40;SQL Server&#41;](../../database-engine/availability-groups/windows/prereqs-restrictions-recommendations-always-on-availability.md).</span></span>  
  
### <a name="initial-database-development"></a><span data-ttu-id="b5811-194">Desarrollo inicial de la base de datos</span><span class="sxs-lookup"><span data-stu-id="b5811-194">Initial Database Development</span></span>  
 <span data-ttu-id="b5811-195">Dado que un desarrollador puede no saber dónde se implementará una nueva base de datos, la limitación de los impactos del entorno implementados en la base de datos disminuye el trabajo y la carga del desarrollador.</span><span class="sxs-lookup"><span data-stu-id="b5811-195">Because a developer may not know where a new database will be deployed, limiting the deployed environmental impacts on the database lessens the work and concern for the developer.</span></span> <span data-ttu-id="b5811-196">En el modelo dependiente, el desarrollador debe tener en cuenta los posibles impactos del entorno en la nueva base de datos y programar en consecuencia.</span><span class="sxs-lookup"><span data-stu-id="b5811-196">In the non-contained model, the developer must consider possible environmental impacts on the new database and program accordingly.</span></span> <span data-ttu-id="b5811-197">Sin embargo, las bases de datos parcialmente independientes permiten a los desarrolladores detectar los efectos de nivel de instancia en la base de datos y aspectos en el nivel de instancia que les preocupan.</span><span class="sxs-lookup"><span data-stu-id="b5811-197">However, by using partially contained databases, developers can detect instance-level impacts on the database and instance-level concerns for the developer.</span></span>  
  
### <a name="database-administration"></a><span data-ttu-id="b5811-198">Administración de bases de datos</span><span class="sxs-lookup"><span data-stu-id="b5811-198">Database Administration</span></span>  
 <span data-ttu-id="b5811-199">El mantenimiento de los valores de configuración de la base de datos en la base de datos, en lugar de en la base de datos maestra, permite a cada propietario de la base de datos tener un mayor control sobre ella, sin proporcionar al propietario de la base de datos el permiso **sysadmin** .</span><span class="sxs-lookup"><span data-stu-id="b5811-199">Maintaining database settings in the database, instead of in the master database, lets each database owner have more control over their database, without giving the database owner **sysadmin** permission.</span></span>  
  
##  <a name="limitations"></a><a name="Limitations"></a> <span data-ttu-id="b5811-200">Limitaciones</span><span class="sxs-lookup"><span data-stu-id="b5811-200">Limitations</span></span>  
 <span data-ttu-id="b5811-201">Las bases de datos parcialmente independientes no permiten las siguientes características.</span><span class="sxs-lookup"><span data-stu-id="b5811-201">Partially contained databases do not allow the following features.</span></span>  
  
-   <span data-ttu-id="b5811-202">Las bases de datos parcialmente independientes no pueden utilizar la replicación, la captura de datos modificados ni el seguimiento de cambios.</span><span class="sxs-lookup"><span data-stu-id="b5811-202">Partially contained databases cannot use replication, change data capture, or change tracking.</span></span>  
  
-   <span data-ttu-id="b5811-203">Procedimientos numerados</span><span class="sxs-lookup"><span data-stu-id="b5811-203">Numbered procedures</span></span>  
  
-   <span data-ttu-id="b5811-204">Objetos enlazados a esquema que dependen de funciones integradas con cambios de intercalación</span><span class="sxs-lookup"><span data-stu-id="b5811-204">Schema-bound objects that depend on built-in functions with collation changes</span></span>  
  
-   <span data-ttu-id="b5811-205">Cambios de enlace que son el resultado de los cambios de intercalación, incluidas las referencias a los objetos, columnas, símbolos o tipos.</span><span class="sxs-lookup"><span data-stu-id="b5811-205">Binding change resulting from collation changes, including references to objects, columns, symbols, or types.</span></span>  
  
-   <span data-ttu-id="b5811-206">Replicación, captura de datos modificados y seguimiento de cambios</span><span class="sxs-lookup"><span data-stu-id="b5811-206">Replication, change data capture, and change tracking.</span></span>  
  
> [!WARNING]  
>  <span data-ttu-id="b5811-207">Los procedimientos almacenados temporales se admiten ahora.</span><span class="sxs-lookup"><span data-stu-id="b5811-207">Temporary stored procedures are currently permitted.</span></span> <span data-ttu-id="b5811-208">Dado que los procedimientos almacenados temporales incumplen la contención, no está previsto que se admitan en las versiones futuras de una base de datos independiente.</span><span class="sxs-lookup"><span data-stu-id="b5811-208">Because temporary stored procedures breach containment, they are not expected to be supported in future versions of contained database.</span></span>  
  
##  <a name="identifying-database-containment"></a><a name="Identifying"></a> <span data-ttu-id="b5811-209">Identificar la contención de base de datos</span><span class="sxs-lookup"><span data-stu-id="b5811-209">Identifying Database Containment</span></span>  
 <span data-ttu-id="b5811-210">Hay dos herramientas para ayudar a identificar el estado de contención de la base de datos.</span><span class="sxs-lookup"><span data-stu-id="b5811-210">There are two tools to help identify the containment status of the database.</span></span> <span data-ttu-id="b5811-211">[sys.dm_db_uncontained_entities &#40;Transact-SQL&#41;](/sql/relational-databases/system-dynamic-management-views/sys-dm-db-uncontained-entities-transact-sql)es una vista que muestra todas las entidades potencialmente no contenidas de la base de datos.</span><span class="sxs-lookup"><span data-stu-id="b5811-211">The [sys.dm_db_uncontained_entities &#40;Transact-SQL&#41;](/sql/relational-databases/system-dynamic-management-views/sys-dm-db-uncontained-entities-transact-sql) is a view that shows all the potentially uncontained entities in the database.</span></span> <span data-ttu-id="b5811-212">El evento database_uncontained_usage se produce cuando se identifica una entidad real no contenida en tiempo de ejecución.</span><span class="sxs-lookup"><span data-stu-id="b5811-212">The database_uncontained_usage event occurs when any actual uncontained entity is identified at run time.</span></span>  
  
### <a name="sysdm_db_uncontained_entities"></a><span data-ttu-id="b5811-213">sys.dm_db_uncontained_entities</span><span class="sxs-lookup"><span data-stu-id="b5811-213">sys.dm_db_uncontained_entities</span></span>  
 <span data-ttu-id="b5811-214">Esta vista muestra las entidades de la base de datos que tienen el potencial de ser dependientes, como por ejemplo, las que cruzan los límites de la base de datos.</span><span class="sxs-lookup"><span data-stu-id="b5811-214">This view shows any entities in the database that have the potential to be uncontained, such as those that cross-the database boundary.</span></span> <span data-ttu-id="b5811-215">Esto incluye las entidades del usuario que pueden utilizar objetos fuera del modelo de base de datos.</span><span class="sxs-lookup"><span data-stu-id="b5811-215">This includes those user entities that may use objects outside the database model.</span></span> <span data-ttu-id="b5811-216">Sin embargo, dado que la contención de ciertas entidades (por ejemplo, aquellas que usan SQL dinámico) no se puede determinar hasta el tiempo de ejecución, la vista puede mostrar algunas entidades que realmente no están contenidas.</span><span class="sxs-lookup"><span data-stu-id="b5811-216">However, because the containment of some entities (for example, those using dynamic SQL) cannot be determined until run time, the view may show some entities that are not actually uncontained.</span></span> <span data-ttu-id="b5811-217">Para obtener más información, vea [sys.dm_db_uncontained_entities &#40;Transact-SQL&#41;](/sql/relational-databases/system-dynamic-management-views/sys-dm-db-uncontained-entities-transact-sql).</span><span class="sxs-lookup"><span data-stu-id="b5811-217">For more information, see [sys.dm_db_uncontained_entities &#40;Transact-SQL&#41;](/sql/relational-databases/system-dynamic-management-views/sys-dm-db-uncontained-entities-transact-sql).</span></span>  
  
### <a name="database_uncontained_usage-event"></a><span data-ttu-id="b5811-218">database_uncontained_usage, evento</span><span class="sxs-lookup"><span data-stu-id="b5811-218">database_uncontained_usage event</span></span>  
 <span data-ttu-id="b5811-219">Este XEvent tiene lugar siempre que una entidad dependiente se identifica en tiempo de ejecución.</span><span class="sxs-lookup"><span data-stu-id="b5811-219">This XEvent occurs whenever an uncontained entity is identified at run time.</span></span> <span data-ttu-id="b5811-220">Esto incluye las entidades originadas en el código de cliente.</span><span class="sxs-lookup"><span data-stu-id="b5811-220">This includes entities originated in client code.</span></span> <span data-ttu-id="b5811-221">Este Xevent solo tendrá lugar para las entidades dependientes reales.</span><span class="sxs-lookup"><span data-stu-id="b5811-221">This XEvent will occur only for actual uncontained entities.</span></span> <span data-ttu-id="b5811-222">Sin embargo, el evento solo se produce en tiempo de ejecución.</span><span class="sxs-lookup"><span data-stu-id="b5811-222">However, the event only occurs at run time.</span></span> <span data-ttu-id="b5811-223">Por consiguiente, este XEvent no identificará las entidades de usuario dependientes que no se hayan ejecutado.</span><span class="sxs-lookup"><span data-stu-id="b5811-223">Therefore, any uncontained user entities you have not run will not be identified by this XEvent</span></span>  
  
## <a name="related-content"></a><span data-ttu-id="b5811-224">Contenido relacionado</span><span class="sxs-lookup"><span data-stu-id="b5811-224">Related Content</span></span>  
 [<span data-ttu-id="b5811-225">Características modificadas &#40;base de datos independiente&#41;</span><span class="sxs-lookup"><span data-stu-id="b5811-225">Modified Features &#40;Contained Database&#41;</span></span>](modified-features-contained-database.md)  
  
 [<span data-ttu-id="b5811-226">Intercalaciones de bases de datos independientes</span><span class="sxs-lookup"><span data-stu-id="b5811-226">Contained Database Collations</span></span>](contained-database-collations.md)  
  
 [<span data-ttu-id="b5811-227">Prácticas recomendadas de seguridad con bases de datos independientes</span><span class="sxs-lookup"><span data-stu-id="b5811-227">Security Best Practices with Contained Databases</span></span>](security-best-practices-with-contained-databases.md)  
  
 [<span data-ttu-id="b5811-228">Migrar a una base de datos parcialmente independiente</span><span class="sxs-lookup"><span data-stu-id="b5811-228">Migrate to a Partially Contained Database</span></span>](migrate-to-a-partially-contained-database.md)  
  
  
