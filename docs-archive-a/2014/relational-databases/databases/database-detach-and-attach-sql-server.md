---
title: Anexión y separación de bases de datos (SQL Server) | Microsoft Docs
ms.custom: ''
ms.date: 06/13/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: backup-restore
ms.topic: conceptual
helpviewer_keywords:
- upgrading databases
- databases [SQL Server], detaching
- detach database [SQL Server]
- databases [SQL Server], attaching
- removing databases
- transaction logs [SQL Server], detaching
- databases [SQL Server], removing
- restoring [SQL Server], attached databases
- transaction logs [SQL Server], attaching
- differential backups, after detaching
- moving databases
- attach database [SQL Server]
- detaching databases [SQL Server]
- differential base [SQL Server]
- attaching databases [SQL Server]
- databases [SQL Server], moving
ms.assetid: d0de0639-bc54-464e-98b1-6af22a27eb86
author: stevestein
ms.author: sstein
ms.openlocfilehash: 54eeeec995e390b71ce8871b680c26138fc88783
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 08/04/2020
ms.locfileid: "87672111"
---
# <a name="database-detach-and-attach-sql-server"></a><span data-ttu-id="eb5eb-102">Adjuntar y separar bases de datos (SQL Server)</span><span class="sxs-lookup"><span data-stu-id="eb5eb-102">Database Detach and Attach (SQL Server)</span></span>
  <span data-ttu-id="eb5eb-103">Los archivos de registro de datos y transacciones de una base de datos se pueden desasociar y volverse a adjuntar posteriormente a la misma instancia u otra instancia de [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)].</span><span class="sxs-lookup"><span data-stu-id="eb5eb-103">The data and transaction log files of a database can be detached and then reattached to the same or another instance of [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)].</span></span> <span data-ttu-id="eb5eb-104">Separar y adjuntar una base de datos es útil si desea cambiar la base de datos a otra instancia de [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] en el mismo equipo o si desea mover la base de datos.</span><span class="sxs-lookup"><span data-stu-id="eb5eb-104">Detaching and attaching a database is useful if you want to change the database to a different instance of [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] on the same computer or to move the database.</span></span>  
  
 <span data-ttu-id="eb5eb-105">El formato de almacenamiento en disco de [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] es el mismo en los entornos de 64 bits y 32 bits.</span><span class="sxs-lookup"><span data-stu-id="eb5eb-105">The [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] on-disk storage format is the same in the 64-bit and 32-bit environments.</span></span> <span data-ttu-id="eb5eb-106">Por lo tanto, la operación de adjuntar funciona en entornos de 32 bits y de 64 bits.</span><span class="sxs-lookup"><span data-stu-id="eb5eb-106">Therefore, attach works across 32-bit and 64-bit environments.</span></span>  <span data-ttu-id="eb5eb-107">Una base de datos desasociada de una instancia del servidor que se ejecute en un entorno puede adjuntarse a una instancia del servidor que se ejecute en otro entorno.</span><span class="sxs-lookup"><span data-stu-id="eb5eb-107">A database detached from a server instance running in one environment can be attached on a server instance that runs in another environment.</span></span>  
  
  
  
##  <a name="security"></a><a name="Security"></a> <span data-ttu-id="eb5eb-108">Seguridad</span><span class="sxs-lookup"><span data-stu-id="eb5eb-108">Security</span></span>  
 <span data-ttu-id="eb5eb-109">Los permisos de acceso a archivos se establecen durante una serie de operaciones de base de datos, incluidas las operaciones de desasociar o adjuntar una base de datos.</span><span class="sxs-lookup"><span data-stu-id="eb5eb-109">File access permissions are set during a number of database operations, including detaching or attaching a database.</span></span>  
  
> [!IMPORTANT]  
>  <span data-ttu-id="eb5eb-110">Se recomienda no adjuntar ni restaurar bases de datos de orígenes desconocidos o que no sean de confianza.</span><span class="sxs-lookup"><span data-stu-id="eb5eb-110">We recommend that you do not attach or restore databases from unknown or untrusted sources.</span></span> <span data-ttu-id="eb5eb-111">Es posible que dichas bases de datos contengan código malintencionado que podría ejecutar código [!INCLUDE[tsql](../../includes/tsql-md.md)] no deseado o provocar errores al modificar el esquema o la estructura de la base de datos física.</span><span class="sxs-lookup"><span data-stu-id="eb5eb-111">Such databases could contain malicious code that might execute unintended [!INCLUDE[tsql](../../includes/tsql-md.md)] code or cause errors by modifying the schema or the physical database structure.</span></span> <span data-ttu-id="eb5eb-112">Para usar una base de datos desde un origen desconocido o que no sea de confianza, ejecute [DBCC CHECKDB](/sql/t-sql/database-console-commands/dbcc-checkdb-transact-sql) en la base de datos de un servidor que no sea de producción y examine también el código, como procedimientos almacenados u otro código definido por el usuario, en la base de datos.</span><span class="sxs-lookup"><span data-stu-id="eb5eb-112">Before you use a database from an unknown or untrusted source, run [DBCC CHECKDB](/sql/t-sql/database-console-commands/dbcc-checkdb-transact-sql) on the database on a nonproduction server and also examine the code, such as stored procedures or other user-defined code, in the database.</span></span>  
  
##  <a name="detaching-a-database"></a><a name="DetachDb"></a> <span data-ttu-id="eb5eb-113">Separar una base de datos</span><span class="sxs-lookup"><span data-stu-id="eb5eb-113">Detaching a Database</span></span>  
 <span data-ttu-id="eb5eb-114">Al separar una base de datos, la está quitando de la instancia de [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] , pero la deja intacta en sus archivos de datos y en los archivos de registro de transacciones.</span><span class="sxs-lookup"><span data-stu-id="eb5eb-114">Detaching a database removes it from the instance of [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] but leaves the database intact within its data files and transaction log files.</span></span> <span data-ttu-id="eb5eb-115">Estos archivos pueden utilizarse después para adjuntar la base de datos a cualquier instancia de [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)], incluido el servidor del que se separó.</span><span class="sxs-lookup"><span data-stu-id="eb5eb-115">These files can then be used to attach the database to any instance of [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)], including the server from which the database was detached.</span></span>  
  
 <span data-ttu-id="eb5eb-116">No podrá separar una base de datos si se cumple cualquiera de las condiciones siguientes:</span><span class="sxs-lookup"><span data-stu-id="eb5eb-116">You cannot detach a database if any of the following are true:</span></span>  
  
-   <span data-ttu-id="eb5eb-117">La base de datos está replicada y publicada.</span><span class="sxs-lookup"><span data-stu-id="eb5eb-117">The database is replicated and published.</span></span> <span data-ttu-id="eb5eb-118">Si está replicada, la base de datos no debe estar publicada.</span><span class="sxs-lookup"><span data-stu-id="eb5eb-118">If replicated, the database must be unpublished.</span></span> <span data-ttu-id="eb5eb-119">Antes de separarla, debe deshabilitar la publicación ejecutando [sp_replicationdboption](/sql/relational-databases/system-stored-procedures/sp-replicationdboption-transact-sql).</span><span class="sxs-lookup"><span data-stu-id="eb5eb-119">Before you can detach it, you must disable publishing by running [sp_replicationdboption](/sql/relational-databases/system-stored-procedures/sp-replicationdboption-transact-sql).</span></span>  
  
    > [!NOTE]  
    >  <span data-ttu-id="eb5eb-120">Si no puede usar **sp_replicationdboption**, puede quitar la replicación ejecutando [sp_removedbreplication](/sql/relational-databases/system-stored-procedures/sp-removedbreplication-transact-sql).</span><span class="sxs-lookup"><span data-stu-id="eb5eb-120">If you cannot use **sp_replicationdboption**, you can remove replication by running [sp_removedbreplication](/sql/relational-databases/system-stored-procedures/sp-removedbreplication-transact-sql).</span></span>  
  
-   <span data-ttu-id="eb5eb-121">Existe una instantánea de base de datos en la base de datos.</span><span class="sxs-lookup"><span data-stu-id="eb5eb-121">A database snapshot exists on the database.</span></span>  
  
     <span data-ttu-id="eb5eb-122">Para poder separar la base de datos, debe quitar todas sus instantáneas.</span><span class="sxs-lookup"><span data-stu-id="eb5eb-122">Before you can detach the database, you must drop all of its snapshots.</span></span> <span data-ttu-id="eb5eb-123">Para obtener más información, vea [Eliminar una instantánea de base de datos &#40;Transact-SQL&#41;](drop-a-database-snapshot-transact-sql.md).</span><span class="sxs-lookup"><span data-stu-id="eb5eb-123">For more information, see [Drop a Database Snapshot &#40;Transact-SQL&#41;](drop-a-database-snapshot-transact-sql.md).</span></span>  
  
    > [!NOTE]  
    >  <span data-ttu-id="eb5eb-124">No puede separar ni adjuntar una instantánea de base de datos.</span><span class="sxs-lookup"><span data-stu-id="eb5eb-124">A database snapshot cannot be detached or attached.</span></span>  
  
-   <span data-ttu-id="eb5eb-125">Se va a reflejar la base de datos en una sesión de creación de reflejo de la base de datos.</span><span class="sxs-lookup"><span data-stu-id="eb5eb-125">The database is being mirrored in a database mirroring session.</span></span>  
  
     <span data-ttu-id="eb5eb-126">No se puede separar la base de datos a menos que se termine la sesión.</span><span class="sxs-lookup"><span data-stu-id="eb5eb-126">The database cannot be detached unless the session is terminated.</span></span> <span data-ttu-id="eb5eb-127">Para obtener más información, vea [Quitar la creación de reflejo de la base de datos &#40;SQL Server&#41;](../../database-engine/database-mirroring/database-mirroring-sql-server.md).</span><span class="sxs-lookup"><span data-stu-id="eb5eb-127">For more information, see [Removing Database Mirroring &#40;SQL Server&#41;](../../database-engine/database-mirroring/database-mirroring-sql-server.md).</span></span>  
  
-   <span data-ttu-id="eb5eb-128">La base de datos es sospechosa.</span><span class="sxs-lookup"><span data-stu-id="eb5eb-128">The database is suspect.</span></span> <span data-ttu-id="eb5eb-129">Una base de datos sospechosa no puede ser separada. Antes de poder separarla, debe ponerla en modo de emergencia.</span><span class="sxs-lookup"><span data-stu-id="eb5eb-129">A suspect database cannot be detached; before you can detach it, you must put it into emergency mode.</span></span> <span data-ttu-id="eb5eb-130">Para obtener más información sobre cómo poner una base de datos en modo de emergencia, vea [ALTER DATABASE &#40;Transact-SQL&#41;](/sql/t-sql/statements/alter-database-transact-sql).</span><span class="sxs-lookup"><span data-stu-id="eb5eb-130">For more information about how to put a database into emergency mode, see [ALTER DATABASE &#40;Transact-SQL&#41;](/sql/t-sql/statements/alter-database-transact-sql).</span></span>  
  
-   <span data-ttu-id="eb5eb-131">La base de datos es una base de datos del sistema.</span><span class="sxs-lookup"><span data-stu-id="eb5eb-131">The database is a system database.</span></span>  
  
### <a name="backup-and-restore-and-detach"></a><span data-ttu-id="eb5eb-132">Hacer copias de seguridad y restauración, y separar</span><span class="sxs-lookup"><span data-stu-id="eb5eb-132">Backup and Restore and Detach</span></span>  
 <span data-ttu-id="eb5eb-133">Al separar una base de datos de solo lectura se pierde información acerca de las bases diferenciales de las copias de seguridad diferenciales.</span><span class="sxs-lookup"><span data-stu-id="eb5eb-133">Detaching a read-only database loses information about the differential bases of differential backups.</span></span> <span data-ttu-id="eb5eb-134">Para obtener más información, vea [Copias de seguridad diferenciales &#40;SQL Server&#41;](../backup-restore/differential-backups-sql-server.md).</span><span class="sxs-lookup"><span data-stu-id="eb5eb-134">For more information, see [Differential Backups &#40;SQL Server&#41;](../backup-restore/differential-backups-sql-server.md).</span></span>  
  
### <a name="responding-to-detach-errors"></a><span data-ttu-id="eb5eb-135">Responder a errores de separación</span><span class="sxs-lookup"><span data-stu-id="eb5eb-135">Responding to Detach Errors</span></span>  
 <span data-ttu-id="eb5eb-136">Los errores generados durante la separación de una base de datos pueden impedir que la base de datos se cierre sin problemas y que se vuelva a generar el registro de transacciones.</span><span class="sxs-lookup"><span data-stu-id="eb5eb-136">Errors produced while detaching a database can prevent the database from closing cleanly and the transaction log from being rebuilt.</span></span> <span data-ttu-id="eb5eb-137">Si recibe un mensaje de error, realice las siguientes acciones correctoras:</span><span class="sxs-lookup"><span data-stu-id="eb5eb-137">If you receive an error message, perform the following corrective actions:</span></span>  
  
1.  <span data-ttu-id="eb5eb-138">Vuelva a adjuntar todos los archivos asociados a la base de datos, no solo el archivo principal.</span><span class="sxs-lookup"><span data-stu-id="eb5eb-138">Reattach all files associated with the database, not just the primary file.</span></span>  
  
2.  <span data-ttu-id="eb5eb-139">Resuelva el problema que causó el mensaje de error.</span><span class="sxs-lookup"><span data-stu-id="eb5eb-139">Resolve the problem that caused the error message.</span></span>  
  
3.  <span data-ttu-id="eb5eb-140">Vuelva a separar la base de datos.</span><span class="sxs-lookup"><span data-stu-id="eb5eb-140">Detach the database again.</span></span>  
  
##  <a name="attaching-a-database"></a><a name="AttachDb"></a> <span data-ttu-id="eb5eb-141">Adjuntar una base de datos</span><span class="sxs-lookup"><span data-stu-id="eb5eb-141">Attaching a Database</span></span>  
 <span data-ttu-id="eb5eb-142">Puede adjuntar una base de datos de [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] copiada o separada.</span><span class="sxs-lookup"><span data-stu-id="eb5eb-142">You can attach a copied or detached [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] database.</span></span> <span data-ttu-id="eb5eb-143">Al adjuntar una [!INCLUDE[ssVersion2005](../../includes/sscurrent-md.md)] instancia de servidor, los archivos de catálogo se adjuntan desde su ubicación anterior junto con los demás archivos de base de datos, igual que en [!INCLUDE[ssVersion2005](../../includes/ssversion2005-md.md)] .</span><span class="sxs-lookup"><span data-stu-id="eb5eb-143">When you attach a [!INCLUDE[ssVersion2005](../../includes/sscurrent-md.md)] server instance, the catalog files are attached from their previous location along with the other database files, the same as in [!INCLUDE[ssVersion2005](../../includes/ssversion2005-md.md)].</span></span> <span data-ttu-id="eb5eb-144">Para obtener más información, vea [Actualizar la búsqueda de texto completo](../search/upgrade-full-text-search.md).</span><span class="sxs-lookup"><span data-stu-id="eb5eb-144">For more information, see [Upgrade Full-Text Search](../search/upgrade-full-text-search.md).</span></span>  
  
 <span data-ttu-id="eb5eb-145">Al adjuntar una base de datos, todos los archivos de datos deben estar disponibles (archivos MDF y NDF).</span><span class="sxs-lookup"><span data-stu-id="eb5eb-145">When you attach a database, all data files (MDF and NDF files) must be available.</span></span> <span data-ttu-id="eb5eb-146">Si algún archivo de datos tiene una ruta de acceso diferente a la que tenía cuando se creó la base de datos o cuando ésta se adjuntó por última vez, debe especificar la ruta actual.</span><span class="sxs-lookup"><span data-stu-id="eb5eb-146">If any data file has a different path from when the database was first created or last attached, you must specify the current path of the file.</span></span>  
  
> [!NOTE]  
>  <span data-ttu-id="eb5eb-147">Si el archivo de datos principal que se va a adjuntar es de solo lectura, [!INCLUDE[ssDE](../../includes/ssde-md.md)] considera que la base de datos es de solo lectura.</span><span class="sxs-lookup"><span data-stu-id="eb5eb-147">If the primary data file being attached is read-only, the [!INCLUDE[ssDE](../../includes/ssde-md.md)] assumes that the database is read-only.</span></span>  
  
 <span data-ttu-id="eb5eb-148">Cuando una base de datos cifrada se adjunta por primera vez a una instancia de [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] , el propietario de la base de datos debe abrir la clave maestra de la base de datos ejecutando la siguiente instrucción: abrir el DEScifrado de la clave maestra mediante la contraseña = **' *`password`* '**.</span><span class="sxs-lookup"><span data-stu-id="eb5eb-148">When an encrypted database is first attached to an instance of [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)], the database owner must open the master key of the database by executing the following statement: OPEN MASTER KEY DECRYPTION BY PASSWORD = **'*`password`*'**.</span></span> <span data-ttu-id="eb5eb-149">Se recomienda habilitar el descifrado automático de la clave maestra mediante la ejecución de la siguiente instrucción: ALTER MASTER KEY ADD ENCRYPTION BY SERVICE MASTER KEY.</span><span class="sxs-lookup"><span data-stu-id="eb5eb-149">We recommend that you enable automatic decryption of the master key by executing the following statement: ALTER MASTER KEY ADD ENCRYPTION BY SERVICE MASTER KEY.</span></span> <span data-ttu-id="eb5eb-150">Para obtener más información, vea [CREATE MASTER KEY &#40;Transact-SQL&#41;](/sql/t-sql/statements/create-master-key-transact-sql) y [ALTER MASTER KEY &#40;Transact-SQL&#41;](/sql/t-sql/statements/alter-master-key-transact-sql).</span><span class="sxs-lookup"><span data-stu-id="eb5eb-150">For more information, see [CREATE MASTER KEY &#40;Transact-SQL&#41;](/sql/t-sql/statements/create-master-key-transact-sql) and [ALTER MASTER KEY &#40;Transact-SQL&#41;](/sql/t-sql/statements/alter-master-key-transact-sql).</span></span>  
  
 <span data-ttu-id="eb5eb-151">Las condiciones para adjuntar archivos de registro dependen, en parte, de si la base de datos es de lectura y escritura o de solo lectura. Vea a continuación:</span><span class="sxs-lookup"><span data-stu-id="eb5eb-151">The requirement for attaching log files depends partly on whether the database is read-write or read-only, as follows:</span></span>  
  
-   <span data-ttu-id="eb5eb-152">Para una base de datos de lectura y escritura, normalmente, podrá adjuntar un archivo de registro a una ubicación nueva.</span><span class="sxs-lookup"><span data-stu-id="eb5eb-152">For a read-write database, you can usually attach a log file in a new location.</span></span> <span data-ttu-id="eb5eb-153">Sin embargo, en algunos casos, para volver a adjuntar una base de datos son necesarios sus archivos de registro.</span><span class="sxs-lookup"><span data-stu-id="eb5eb-153">However, in some cases, reattaching a database requires its existing log files.</span></span> <span data-ttu-id="eb5eb-154">Por tanto, es importante mantener siempre todos los archivos de registro separados hasta que la base de datos se haya adjuntado correctamente sin ellos.</span><span class="sxs-lookup"><span data-stu-id="eb5eb-154">Therefore, it is important to always keep all the detached log files until the database has been successfully attached without them.</span></span>  
  
     <span data-ttu-id="eb5eb-155">Si una base de datos de lectura y escritura contiene solo un archivo de registro y no se especifica una ubicación nueva para el mismo, al adjuntar la base de datos se buscará el archivo en la ubicación antigua.</span><span class="sxs-lookup"><span data-stu-id="eb5eb-155">If a read-write database has a single log file and you do not specify a new location for the log file, the attach operation looks in the old location for the file.</span></span> <span data-ttu-id="eb5eb-156">Si se encuentra, se usará el archivo de registro antiguo, sin tener en cuenta si la base de datos se cerró correctamente.</span><span class="sxs-lookup"><span data-stu-id="eb5eb-156">If it is found, the old log file is used, regardless of whether the database was shut down cleanly.</span></span> <span data-ttu-id="eb5eb-157">No obstante, si el archivo de registro antiguo no se encuentra, la base de datos se cerró correctamente y no hay ninguna cadena de registros activa, al adjuntar se intentará crear un archivo de registro nuevo para la base de datos.</span><span class="sxs-lookup"><span data-stu-id="eb5eb-157">However, if the old log file is not found and if the database was shut down cleanly and has no active log chain, the attach operation attempts to build a new log file for the database.</span></span>  
  
-   <span data-ttu-id="eb5eb-158">Si el archivo de datos principal que se va a adjuntar es de solo lectura, [!INCLUDE[ssDE](../../includes/ssnoversion-md.md)] no puede actualizar la ubicación del registro almacenada en el archivo principal.</span><span class="sxs-lookup"><span data-stu-id="eb5eb-158">If the primary data file being attached is read-only, the [!INCLUDE[ssDE](../../includes/ssnoversion-md.md)] cannot update the log location stored in the primary file.</span></span>  
  
  
  
###  <a name="metadata-changes-on-attaching-a-database"></a><a name="Metadata"></a> <span data-ttu-id="eb5eb-159">Cambios en los metadatos al adjuntar una base de datos</span><span class="sxs-lookup"><span data-stu-id="eb5eb-159">Metadata Changes on Attaching a Database</span></span>  
 <span data-ttu-id="eb5eb-160">Cuando se separa y se vuelve a adjuntar una base de datos de solo lectura, se pierde la información de copia de seguridad acerca de la base diferencial.</span><span class="sxs-lookup"><span data-stu-id="eb5eb-160">When a read-only database is detached and then reattached, the backup information about the current differential base is lost.</span></span> <span data-ttu-id="eb5eb-161">La *base diferencial* es la copia de seguridad más reciente de todos los datos de una base de datos o de un subconjunto de archivos o grupos de archivos de la misma.</span><span class="sxs-lookup"><span data-stu-id="eb5eb-161">The *differential base* is the most recent full backup of all the data in the database or in a subset of the files or filegroups of the database.</span></span> <span data-ttu-id="eb5eb-162">Sin la información de la copia de seguridad básica, la base de datos **maestra** deja de estar sincronizada con la base de datos de solo lectura, de modo que las copias de seguridad diferenciales tomadas después pueden proporcionar resultados inesperados.</span><span class="sxs-lookup"><span data-stu-id="eb5eb-162">Without the base-backup information, the **master** database becomes unsynchronized with the read-only database, so differential backups taken thereafter may provide unexpected results.</span></span> <span data-ttu-id="eb5eb-163">Por lo tanto, si utiliza copias de seguridad diferenciales con una base de datos de solo lectura, deberá establecer una nueva base diferencial actual realizando una copia de seguridad completa después de volver a adjuntar la base de datos.</span><span class="sxs-lookup"><span data-stu-id="eb5eb-163">Therefore, if you are using differential backups with a read-only database, you should establish a new differential base by taking a full backup after you reattach the database.</span></span> <span data-ttu-id="eb5eb-164">Para obtener más información sobre las copias de seguridad diferenciales, vea [Copias de seguridad diferenciales &#40;SQL Server&#41;](../backup-restore/differential-backups-sql-server.md).</span><span class="sxs-lookup"><span data-stu-id="eb5eb-164">For information about differential backups, see [Differential Backups &#40;SQL Server&#41;](../backup-restore/differential-backups-sql-server.md).</span></span>  
  
 <span data-ttu-id="eb5eb-165">Al adjuntar, la base de datos se inicia.</span><span class="sxs-lookup"><span data-stu-id="eb5eb-165">On attach, database startup occurs.</span></span> <span data-ttu-id="eb5eb-166">Normalmente, al adjuntar una base de datos, esta vuelve al mismo estado en el que estaba cuando fue separada o copiada.</span><span class="sxs-lookup"><span data-stu-id="eb5eb-166">Generally, attaching a database places it in the same state that it was in when it was detached or copied.</span></span> <span data-ttu-id="eb5eb-167">Sin embargo, las operaciones de adjuntar y separar deshabilitan el encadenamiento de propiedades entre bases de datos para la base de datos.</span><span class="sxs-lookup"><span data-stu-id="eb5eb-167">However, attach-and-detach operations both disable cross-database ownership chaining for the database.</span></span> <span data-ttu-id="eb5eb-168">Para obtener más información sobre cómo habilitar el encadenamiento, vea [cross db ownership chaining (opción de configuración del servidor)](../../database-engine/configure-windows/cross-db-ownership-chaining-server-configuration-option.md).</span><span class="sxs-lookup"><span data-stu-id="eb5eb-168">For information about how to enable chaining, see [cross db ownership chaining Server Configuration Option](../../database-engine/configure-windows/cross-db-ownership-chaining-server-configuration-option.md).</span></span> <span data-ttu-id="eb5eb-169">Asimismo, TRUSTWORTHY se establece en OFF siempre que la base de datos se adjunta.</span><span class="sxs-lookup"><span data-stu-id="eb5eb-169">Also, TRUSTWORTHY is set to OFF whenever the database is attached.</span></span> <span data-ttu-id="eb5eb-170">Para obtener más información sobre cómo establecer TRUSTWORTHY en ON, vea [ALTER DATABASE &#40;Transact-SQL&#41;](/sql/t-sql/statements/alter-database-transact-sql).</span><span class="sxs-lookup"><span data-stu-id="eb5eb-170">For information about how to set TRUSTWORTHY to ON, see [ALTER DATABASE &#40;Transact-SQL&#41;](/sql/t-sql/statements/alter-database-transact-sql).</span></span>  
  
### <a name="backup-and-restore-and-attach"></a><span data-ttu-id="eb5eb-171">Hacer copias de seguridad y restauración, y adjuntar</span><span class="sxs-lookup"><span data-stu-id="eb5eb-171">Backup and Restore and Attach</span></span>  
 <span data-ttu-id="eb5eb-172">Al igual que cualquier base de datos que esté total o parcialmente sin conexión, no es posible adjuntar una base de datos con archivos que se estén restaurando.</span><span class="sxs-lookup"><span data-stu-id="eb5eb-172">Like any database that is fully or partially offline, a database with restoring files cannot be attached.</span></span> <span data-ttu-id="eb5eb-173">Puede adjuntar la base de datos si detiene la secuencia de restauración.</span><span class="sxs-lookup"><span data-stu-id="eb5eb-173">If you stop the restore sequence, you can attach the database.</span></span> <span data-ttu-id="eb5eb-174">Posteriormente, puede reiniciar la secuencia de restauración.</span><span class="sxs-lookup"><span data-stu-id="eb5eb-174">Then, you can restart the restore sequence.</span></span>  
  
###  <a name="attaching-a-database-to-another-server-instance"></a><a name="OtherServerInstance"></a> <span data-ttu-id="eb5eb-175">Adjuntar una base de datos a otra instancia de servidor</span><span class="sxs-lookup"><span data-stu-id="eb5eb-175">Attaching a Database to Another Server Instance</span></span>  
  
> [!IMPORTANT]  
>  <span data-ttu-id="eb5eb-176">Una base de datos creada por una versión más reciente de [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] no puede adjuntarse en versiones anteriores.</span><span class="sxs-lookup"><span data-stu-id="eb5eb-176">A database created by a more recent version of [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] cannot be attached in earlier versions.</span></span>  
  
 <span data-ttu-id="eb5eb-177">Al adjuntar una base de datos a otra instancia de servidor, es posible que tenga que volver a crear una parte o la totalidad de los metadatos de la base de datos, por ejemplo los inicios de sesión y los trabajos, en la otra instancia de servidor; de este modo se proporciona una experiencia coherente a usuarios y aplicaciones.</span><span class="sxs-lookup"><span data-stu-id="eb5eb-177">When you attach a database onto another server instance, to provide a consistent experience to users and applications, you might have to re-create some or all of the metadata for the database, such as logins and jobs, on the other server instance.</span></span> <span data-ttu-id="eb5eb-178">Para obtener más información, vea [Administrar los metadatos cuando una base de datos pasa a estar disponible en otra instancia del servidor &#40;SQL Server&#41;](manage-metadata-when-making-a-database-available-on-another-server.md).</span><span class="sxs-lookup"><span data-stu-id="eb5eb-178">For more information, see [Manage Metadata When Making a Database Available on Another Server Instance &#40;SQL Server&#41;](manage-metadata-when-making-a-database-available-on-another-server.md).</span></span>  
  
##  <a name="related-tasks"></a><a name="RelatedTasks"></a> <span data-ttu-id="eb5eb-179">Tareas relacionadas</span><span class="sxs-lookup"><span data-stu-id="eb5eb-179">Related Tasks</span></span>  
 <span data-ttu-id="eb5eb-180">**Para separar una base de datos**</span><span class="sxs-lookup"><span data-stu-id="eb5eb-180">**To detach a database**</span></span>  
  
-   [<span data-ttu-id="eb5eb-181">sp_detach_db &#40;Transact-SQL&#41;</span><span class="sxs-lookup"><span data-stu-id="eb5eb-181">sp_detach_db &#40;Transact-SQL&#41;</span></span>](/sql/relational-databases/system-stored-procedures/sp-detach-db-transact-sql)  
  
-   [<span data-ttu-id="eb5eb-182">Separar una base de datos</span><span class="sxs-lookup"><span data-stu-id="eb5eb-182">Detach a Database</span></span>](detach-a-database.md)  
  
 <span data-ttu-id="eb5eb-183">**Para adjuntar una base de datos**</span><span class="sxs-lookup"><span data-stu-id="eb5eb-183">**To attach a database**</span></span>  
  
-   [<span data-ttu-id="eb5eb-184">CREATE DATABASE &#40;Transact-SQL de SQL Server&#41;</span><span class="sxs-lookup"><span data-stu-id="eb5eb-184">CREATE DATABASE &#40;SQL Server Transact-SQL&#41;</span></span>](/sql/t-sql/statements/create-database-sql-server-transact-sql)  
  
-   [<span data-ttu-id="eb5eb-185">Adjuntar una base de datos</span><span class="sxs-lookup"><span data-stu-id="eb5eb-185">Attach a Database</span></span>](attach-a-database.md)  
  
-   [<span data-ttu-id="eb5eb-186">sp_attach_db &#40;Transact-SQL&#41;</span><span class="sxs-lookup"><span data-stu-id="eb5eb-186">sp_attach_db &#40;Transact-SQL&#41;</span></span>](/sql/relational-databases/system-stored-procedures/sp-attach-db-transact-sql)  
  
-   [<span data-ttu-id="eb5eb-187">sp_attach_single_file_db &#40;Transact-SQL&#41;</span><span class="sxs-lookup"><span data-stu-id="eb5eb-187">sp_attach_single_file_db &#40;Transact-SQL&#41;</span></span>](/sql/relational-databases/system-stored-procedures/sp-attach-single-file-db-transact-sql)  
  
 <span data-ttu-id="eb5eb-188">**Para actualizar una base de datos mediante el método de separar y adjuntar**</span><span class="sxs-lookup"><span data-stu-id="eb5eb-188">**To upgrade a database using detach and attach operations**</span></span>  
  
-   [<span data-ttu-id="eb5eb-189">Actualizar una base de datos mediante Separar y Adjuntar &#40;Transact-SQL&#41;</span><span class="sxs-lookup"><span data-stu-id="eb5eb-189">Upgrade a Database Using Detach and Attach &#40;Transact-SQL&#41;</span></span>](upgrade-a-database-using-detach-and-attach-transact-sql.md)  
  
 <span data-ttu-id="eb5eb-190">**Para mover una base de datos mediante el método de separar y adjuntar**</span><span class="sxs-lookup"><span data-stu-id="eb5eb-190">**To move a database using detach and attach operations**</span></span>  
  
-   [<span data-ttu-id="eb5eb-191">Mover una base de datos mediante Separar y Adjuntar &#40;Transact-SQL&#41;</span><span class="sxs-lookup"><span data-stu-id="eb5eb-191">Move a Database Using Detach and Attach &#40;Transact-SQL&#41;</span></span>](move-a-database-using-detach-and-attach-transact-sql.md)  
  
 <span data-ttu-id="eb5eb-192">**Para eliminar una instantánea de base de datos**</span><span class="sxs-lookup"><span data-stu-id="eb5eb-192">**To delete a database snapshot**</span></span>  
  
-   [<span data-ttu-id="eb5eb-193">Eliminar una instantánea de base de datos &#40;Transact-SQL&#41;</span><span class="sxs-lookup"><span data-stu-id="eb5eb-193">Drop a Database Snapshot &#40;Transact-SQL&#41;</span></span>](drop-a-database-snapshot-transact-sql.md)  
  
## <a name="see-also"></a><span data-ttu-id="eb5eb-194">Consulte también</span><span class="sxs-lookup"><span data-stu-id="eb5eb-194">See Also</span></span>  
 [<span data-ttu-id="eb5eb-195">Archivos y grupos de archivos de base de datos</span><span class="sxs-lookup"><span data-stu-id="eb5eb-195">Database Files and Filegroups</span></span>](database-files-and-filegroups.md)  
  
  
