---
title: Administración del Agente de replicación | Microsoft Docs
ms.custom: ''
ms.date: 06/13/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: replication
ms.topic: conceptual
helpviewer_keywords:
- Snapshot Agent, administering
- Log Reader Agent, administering
- Queue Reader Agent, administering
- shared agents [SQL Server replication]
- Merge Agent, administering
- Distribution Agent, administering
- agents [SQL Server replication], administering
- replication cleanup jobs [SQL Server]
- administering replication, agents
- replication [SQL Server], administering
- independent agents [SQL Server replication]
ms.assetid: f27186b8-b1b2-4da0-8b2b-91f632c2ab7e
author: MashaMSFT
ms.author: mathoma
ms.openlocfilehash: 99cf9be6b31310e5ae0ebac3c096851ac4f63452
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 08/04/2020
ms.locfileid: "87670954"
---
# <a name="replication-agent-administration"></a><span data-ttu-id="13b48-102">Administración del Agente de replicación</span><span class="sxs-lookup"><span data-stu-id="13b48-102">Replication Agent Administration</span></span>
  <span data-ttu-id="13b48-103">Los agentes de replicación realizan muchas tareas asociadas con la replicación, lo que incluye la creación de copias de esquema y datos, detección de actualizaciones en el publicador o el suscriptor, y propagación de cambios entre servidores.</span><span class="sxs-lookup"><span data-stu-id="13b48-103">Replication agents carry out many of the tasks associated with replication, including creating copies of schema and data, detecting updates at the Publisher or Subscriber, and propagating changes between servers.</span></span> <span data-ttu-id="13b48-104">De manera predeterminada, los agentes de replicación se ejecutan en los pasos de trabajo del Agente [!INCLUDE[msCoName](../../../includes/msconame-md.md)] [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)].</span><span class="sxs-lookup"><span data-stu-id="13b48-104">By default, replication agents run under [!INCLUDE[msCoName](../../../includes/msconame-md.md)] [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] Agent job steps.</span></span> <span data-ttu-id="13b48-105">Los agentes son simples ejecutables, por lo que se les puede llamar directamente desde la línea de comandos o desde scripts de proceso por lotes.</span><span class="sxs-lookup"><span data-stu-id="13b48-105">The agents are simply executables, so they can also be called directly from the command line and from batch scripts.</span></span> <span data-ttu-id="13b48-106">Cada agente de replicación admite un conjunto de parámetros en tiempo de ejecución que se utilizan para controlar cómo se ejecuta; estos parámetros se especifican en un perfil de agente o en la línea de comandos.</span><span class="sxs-lookup"><span data-stu-id="13b48-106">Each replication agent supports a set of run-time parameters used to control how it runs; these parameters are specified in an agent profile or on the command line.</span></span>  
  
> [!IMPORTANT]  
>  <span data-ttu-id="13b48-107">De manera predeterminada, el servicio del Agente [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] está deshabilitado cuando se instala [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] , a menos que se elija explícitamente iniciar el servicio automáticamente durante la instalación.</span><span class="sxs-lookup"><span data-stu-id="13b48-107">By default, the [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] Agent service is disabled when [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] is installed unless you explicitly choose to autostart the service during installation.</span></span>  
  
 <span data-ttu-id="13b48-108">Los archivos del agente de replicación se encuentran en [!INCLUDE[ssInstallPathVar](../../../includes/ssinstallpathvar-md.md)]\COM.</span><span class="sxs-lookup"><span data-stu-id="13b48-108">Replication agent files are located under [!INCLUDE[ssInstallPathVar](../../../includes/ssinstallpathvar-md.md)]\COM.</span></span> <span data-ttu-id="13b48-109">En la tabla siguiente se enumeran los nombres de los ejecutables y de los archivos de replicación.</span><span class="sxs-lookup"><span data-stu-id="13b48-109">The following table lists the replication executable names and file names.</span></span> <span data-ttu-id="13b48-110">Haga clic en el vínculo de un agente para ver la referencia de parámetros.</span><span class="sxs-lookup"><span data-stu-id="13b48-110">Click the link for an agent to view its parameter reference.</span></span>  
  
|<span data-ttu-id="13b48-111">Ejecutable del agente</span><span class="sxs-lookup"><span data-stu-id="13b48-111">Agent Executable</span></span>|<span data-ttu-id="13b48-112">Nombre de archivo</span><span class="sxs-lookup"><span data-stu-id="13b48-112">File Name</span></span>|  
|----------------------|---------------|  
|[<span data-ttu-id="13b48-113">Replication Snapshot Agent</span><span class="sxs-lookup"><span data-stu-id="13b48-113">Replication Snapshot Agent</span></span>](replication-snapshot-agent.md)|<span data-ttu-id="13b48-114">snapshot.exe</span><span class="sxs-lookup"><span data-stu-id="13b48-114">snapshot.exe</span></span>|  
|[<span data-ttu-id="13b48-115">Replication Distribution Agent</span><span class="sxs-lookup"><span data-stu-id="13b48-115">Replication Distribution Agent</span></span>](replication-distribution-agent.md)|<span data-ttu-id="13b48-116">distrib.exe</span><span class="sxs-lookup"><span data-stu-id="13b48-116">distrib.exe</span></span>|  
|[<span data-ttu-id="13b48-117">Agente de registro del LOG de replicación</span><span class="sxs-lookup"><span data-stu-id="13b48-117">Replication Log Reader Agent</span></span>](replication-log-reader-agent.md)|<span data-ttu-id="13b48-118">logread.exe</span><span class="sxs-lookup"><span data-stu-id="13b48-118">logread.exe</span></span>|  
|[<span data-ttu-id="13b48-119">Agente de lectura de cola de replicación</span><span class="sxs-lookup"><span data-stu-id="13b48-119">Replication Queue Reader Agent</span></span>](replication-queue-reader-agent.md)|<span data-ttu-id="13b48-120">qrdrsvc.exe</span><span class="sxs-lookup"><span data-stu-id="13b48-120">qrdrsvc.exe</span></span>|  
|[<span data-ttu-id="13b48-121">Replication Merge Agent</span><span class="sxs-lookup"><span data-stu-id="13b48-121">Replication Merge Agent</span></span>](replication-merge-agent.md)|<span data-ttu-id="13b48-122">replmerg.exe</span><span class="sxs-lookup"><span data-stu-id="13b48-122">replmerg.exe</span></span>|  
  
 <span data-ttu-id="13b48-123">Además de los trabajos de los agentes de replicación, la replicación tiene una serie de trabajos que realizan el mantenimiento a petición y programado.</span><span class="sxs-lookup"><span data-stu-id="13b48-123">In addition to replication agents, replication has a number of jobs that perform scheduled and on-demand maintenance.</span></span>  
  
 <span data-ttu-id="13b48-124">**Para ejecutar trabajos de agentes y de mantenimiento**</span><span class="sxs-lookup"><span data-stu-id="13b48-124">**To run agents and maintenance jobs**</span></span>  
  
-   [!INCLUDE[ssManStudioFull](../../../includes/ssmanstudiofull-md.md)]<span data-ttu-id="13b48-125">y el monitor de replicación: [iniciar y detener un agente de replicación &#40;SQL Server Management Studio&#41;](start-and-stop-a-replication-agent-sql-server-management-studio.md).</span><span class="sxs-lookup"><span data-stu-id="13b48-125">and Replication Monitor: [Start and Stop a Replication Agent &#40;SQL Server Management Studio&#41;](start-and-stop-a-replication-agent-sql-server-management-studio.md).</span></span>  
  
-   <span data-ttu-id="13b48-126">Programación de la replicación: [Conceptos de los ejecutables del Agente de replicación](../concepts/replication-agent-executables-concepts.md)</span><span class="sxs-lookup"><span data-stu-id="13b48-126">Replication programming: [Replication Agent Executables Concepts](../concepts/replication-agent-executables-concepts.md)</span></span>  
  
## <a name="agent-profiles"></a><span data-ttu-id="13b48-127">Perfiles de agente</span><span class="sxs-lookup"><span data-stu-id="13b48-127">Agent Profiles</span></span>  
 <span data-ttu-id="13b48-128">Cuando se configura la replicación, se instala un conjunto de perfiles de agente en el distribuidor.</span><span class="sxs-lookup"><span data-stu-id="13b48-128">When replication is configured, a set of agent profiles is installed on the Distributor.</span></span> <span data-ttu-id="13b48-129">Un perfil de agente contiene un conjunto de parámetros que se usan cada vez que se ejecuta un agente: cada agente inicia una sesión en el distribuidor durante su proceso de inicio y consulta los parámetros de su perfil.</span><span class="sxs-lookup"><span data-stu-id="13b48-129">An agent profile contains a set of parameters that are used each time an agent runs: each agent logs in to the Distributor during its startup process and queries for the parameters in its profile.</span></span> <span data-ttu-id="13b48-130">La replicación proporciona un perfil predeterminado para cada agente y perfiles predefinidos adicionales para el Agente de registro del LOG, el Agente de distribución y el Agente de mezcla.</span><span class="sxs-lookup"><span data-stu-id="13b48-130">Replication provides a default profile for each agent and additional predefined profiles for the Log Reader Agent, Distribution Agent, and Merge Agent.</span></span> <span data-ttu-id="13b48-131">Además de los perfiles proporcionados, puede crear perfiles adecuados a los requisitos de su aplicación.</span><span class="sxs-lookup"><span data-stu-id="13b48-131">In addition to the profiles provided, you can create profiles suited to your application requirements.</span></span> <span data-ttu-id="13b48-132">Para obtener más información, consulte [Replication Agent Profiles](replication-agent-profiles.md).</span><span class="sxs-lookup"><span data-stu-id="13b48-132">For more information, see [Replication Agent Profiles](replication-agent-profiles.md).</span></span>  
  
 <span data-ttu-id="13b48-133">Para obtener información sobre cómo especificar los parámetros de la línea de comandos directamente, vea [Conceptos de los ejecutables del Agente de replicación](../concepts/replication-agent-executables-concepts.md).</span><span class="sxs-lookup"><span data-stu-id="13b48-133">For information about specifying command line parameters directly, see [Replication Agent Executables Concepts](../concepts/replication-agent-executables-concepts.md).</span></span>  
  
## <a name="monitoring-replication-agents"></a><span data-ttu-id="13b48-134">Supervisar agentes de replicación</span><span class="sxs-lookup"><span data-stu-id="13b48-134">Monitoring Replication Agents</span></span>  
 <span data-ttu-id="13b48-135">El Monitor de replicación le permite ver información y realizar tareas asociadas con cada agente de replicación.</span><span class="sxs-lookup"><span data-stu-id="13b48-135">Replication Monitor allows you to view information and perform tasks associated with each replication agent.</span></span> <span data-ttu-id="13b48-136">En la siguiente lista se incluye cada agente, las pestañas del Monitor de replicación en las que se puede encontrar y un vínculo a un tema en el que se explica el modo de obtener acceso a dichas pestañas:</span><span class="sxs-lookup"><span data-stu-id="13b48-136">The following list includes each agent, the tabs in the Replication Monitor on which it can be found, and a link to a topic that explains how to access these tabs:</span></span>  
  
-   <span data-ttu-id="13b48-137">Los siguientes agentes están asociados con publicaciones en el Monitor de replicación:</span><span class="sxs-lookup"><span data-stu-id="13b48-137">The following agents are associated with publications in Replication Monitor:</span></span>  
  
    -   <span data-ttu-id="13b48-138">Agente de instantáneas</span><span class="sxs-lookup"><span data-stu-id="13b48-138">Snapshot Agent</span></span>  
  
    -   <span data-ttu-id="13b48-139">Agente de registro del LOG</span><span class="sxs-lookup"><span data-stu-id="13b48-139">Log Reader Agent</span></span>  
  
    -   <span data-ttu-id="13b48-140">Agente de lectura de cola</span><span class="sxs-lookup"><span data-stu-id="13b48-140">Queue Reader Agent</span></span>  
  
     <span data-ttu-id="13b48-141">Obtenga acceso a la información y a las tareas asociadas con estos agentes a través de la pestaña **agentes** . Para obtener más información, vea [ver información y realizar tareas mediante el monitor de replicación](../monitor/view-information-and-perform-tasks-replication-monitor.md).</span><span class="sxs-lookup"><span data-stu-id="13b48-141">Access information and tasks associated with these agents through the **Agents** tab. For more information, see [View Information and Perform Tasks using Replication Monitor](../monitor/view-information-and-perform-tasks-replication-monitor.md).</span></span>  
  
-   <span data-ttu-id="13b48-142">Los siguientes agentes están asociados con suscripciones en el Monitor de replicación:</span><span class="sxs-lookup"><span data-stu-id="13b48-142">The following agents are associated with subscriptions in Replication Monitor:</span></span>  
  
    -   <span data-ttu-id="13b48-143">Agente de distribución</span><span class="sxs-lookup"><span data-stu-id="13b48-143">Distribution Agent</span></span>  
  
    -   <span data-ttu-id="13b48-144">Agente de mezcla</span><span class="sxs-lookup"><span data-stu-id="13b48-144">Merge Agent</span></span>  
  
     <span data-ttu-id="13b48-145">Acceda a la información y a las tareas asociadas con estos agentes a través de las pestañas siguientes: **Lista de supervisión de suscripciones** (disponible para todos los publicadores) o la pestaña **Todas las suscripciones** (disponible para todas las publicaciones).</span><span class="sxs-lookup"><span data-stu-id="13b48-145">Access information and tasks associated with these agents through the following tabs: **Subscription Watch List** (available for each Publisher) or the **All Subscriptions** tab (available for each publication).</span></span> <span data-ttu-id="13b48-146">Para más información, vea [Visualización de información y realización de tareas mediante el Monitor de replicación](../monitor/view-information-and-perform-tasks-replication-monitor.md).</span><span class="sxs-lookup"><span data-stu-id="13b48-146">For more information, see [View Information and Perform Tasks using Replication Monitor](../monitor/view-information-and-perform-tasks-replication-monitor.md).</span></span>  
  
## <a name="independent-and-shared-agents"></a><span data-ttu-id="13b48-147">Agentes independientes y compartidos</span><span class="sxs-lookup"><span data-stu-id="13b48-147">Independent and Shared Agents</span></span>  
 <span data-ttu-id="13b48-148">Un agente independiente es un agente que da servicio a una suscripción.</span><span class="sxs-lookup"><span data-stu-id="13b48-148">An independent agent is an agent that services one subscription.</span></span> <span data-ttu-id="13b48-149">Un agente compartido da servicio a varias suscripciones. Cuando varias suscripciones que utilizan el mismo agente tienen que sincronizarse, de manera predeterminada esperan en una cola y el agente compartido da servicio a cada una de ellas al mismo tiempo.</span><span class="sxs-lookup"><span data-stu-id="13b48-149">A shared agent services multiple subscriptions; if multiple subscriptions using the same shared agent need to synchronize, by default they wait in a queue, and the shared agent services them one at a time.</span></span> <span data-ttu-id="13b48-150">La latencia se reduce cuando se utilizan agentes independientes porque el agente está preparado siempre que es necesario sincronizar la suscripción.</span><span class="sxs-lookup"><span data-stu-id="13b48-150">Latency is reduced when using independent agents because the agent is ready whenever the subscription needs to be synchronized.</span></span> <span data-ttu-id="13b48-151">La replicación de mezcla siempre utiliza agentes independientes, y la replicación transaccional utiliza de manera predeterminada agentes independientes para las publicaciones creadas en el Asistente para nueva publicación (en versiones anteriores de [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)], la replicación transaccional utilizaba agentes compartidos de manera predeterminada).</span><span class="sxs-lookup"><span data-stu-id="13b48-151">Merge replication always uses independent agents, and transactional replication uses independent agents by default for publications created in the New Publication Wizard (in previous versions of [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)], transactional replication used shared agents by default).</span></span>  
  
## <a name="replication-maintenance-jobs"></a><span data-ttu-id="13b48-152">Trabajos de mantenimiento de replicación</span><span class="sxs-lookup"><span data-stu-id="13b48-152">Replication Maintenance Jobs</span></span>  
 <span data-ttu-id="13b48-153">La replicación utiliza los siguientes trabajos para realizar el mantenimiento a petición y programado.</span><span class="sxs-lookup"><span data-stu-id="13b48-153">Replication uses the following jobs to perform scheduled and on-demand maintenance.</span></span>  
  
|<span data-ttu-id="13b48-154">Limpieza de un trabajo</span><span class="sxs-lookup"><span data-stu-id="13b48-154">Clean up job</span></span>|<span data-ttu-id="13b48-155">Descripción</span><span class="sxs-lookup"><span data-stu-id="13b48-155">Description</span></span>|<span data-ttu-id="13b48-156">Programación predeterminada</span><span class="sxs-lookup"><span data-stu-id="13b48-156">Default schedule</span></span>|  
|------------------|-----------------|----------------------|  
|<span data-ttu-id="13b48-157">Limpieza del historial del agente: Distribución</span><span class="sxs-lookup"><span data-stu-id="13b48-157">Agent History Clean Up: Distribution</span></span>|<span data-ttu-id="13b48-158">Quita de la base de datos de distribución el historial del agente de replicación.</span><span class="sxs-lookup"><span data-stu-id="13b48-158">Removes replication agent history from the distribution database.</span></span>|<span data-ttu-id="13b48-159">Se ejecuta cada diez minutos.</span><span class="sxs-lookup"><span data-stu-id="13b48-159">Runs every ten minutes</span></span>|  
|<span data-ttu-id="13b48-160">Limpieza de la distribución: Distribución</span><span class="sxs-lookup"><span data-stu-id="13b48-160">Distribution Clean Up: Distribution</span></span>|<span data-ttu-id="13b48-161">Quita las transacciones replicadas de la base de datos de distribución.</span><span class="sxs-lookup"><span data-stu-id="13b48-161">Removes replicated transactions from the distribution database.</span></span> <span data-ttu-id="13b48-162">Desactiva las suscripciones que no se han sincronizado dentro del período de retención máximo de la distribución.</span><span class="sxs-lookup"><span data-stu-id="13b48-162">Deactivates subscriptions that have not been synchronized within the maximum distribution retention period.</span></span>|<span data-ttu-id="13b48-163">Se ejecuta cada diez minutos.</span><span class="sxs-lookup"><span data-stu-id="13b48-163">Runs every ten minutes</span></span>|  
|<span data-ttu-id="13b48-164">Limpieza de suscripciones expiradas</span><span class="sxs-lookup"><span data-stu-id="13b48-164">Expired Subscription Clean Up</span></span>|<span data-ttu-id="13b48-165">Detecta y quita las suscripciones expiradas de las bases de datos de publicaciones.</span><span class="sxs-lookup"><span data-stu-id="13b48-165">Detects and removes expired subscriptions from publication databases.</span></span>|<span data-ttu-id="13b48-166">Se ejecuta cada día a las 01:00 a.m.</span><span class="sxs-lookup"><span data-stu-id="13b48-166">Runs every day at 1:00 A.M.</span></span>|  
|<span data-ttu-id="13b48-167">Reinicializar suscripciones con errores de validación de datos</span><span class="sxs-lookup"><span data-stu-id="13b48-167">Reinitialize Subscriptions Having Data Validation Failures</span></span>|<span data-ttu-id="13b48-168">Detecta todas las suscripciones con errores de validación de datos y las marca para reinicializarse.</span><span class="sxs-lookup"><span data-stu-id="13b48-168">Detects all subscriptions that have data validation failures and marks them for reinitialization.</span></span> <span data-ttu-id="13b48-169">La próxima vez que se ejecute el Agente de mezcla o el Agente de distribución, se aplicará una nueva instantánea a los suscriptores.</span><span class="sxs-lookup"><span data-stu-id="13b48-169">The next time the Merge Agent or Distribution Agent runs, a new snapshot will be applied at the Subscribers.</span></span>|<span data-ttu-id="13b48-170">No existe programación predeterminada (no se habilita de forma predeterminada).</span><span class="sxs-lookup"><span data-stu-id="13b48-170">No default schedule (not enabled by default).</span></span>|  
|<span data-ttu-id="13b48-171">Comprobación de agentes de replicación</span><span class="sxs-lookup"><span data-stu-id="13b48-171">Replication Agents Checkup</span></span>|<span data-ttu-id="13b48-172">Detecta los agentes de replicación que no registran activamente un historial.</span><span class="sxs-lookup"><span data-stu-id="13b48-172">Detects replication agents that are not actively logging history.</span></span> <span data-ttu-id="13b48-173">Escribe en el registro de eventos de [!INCLUDE[msCoName](../../../includes/msconame-md.md)] Windows si se produce un error en un trabajo.</span><span class="sxs-lookup"><span data-stu-id="13b48-173">It writes to the [!INCLUDE[msCoName](../../../includes/msconame-md.md)] Windows event log if a job step fails.</span></span>|<span data-ttu-id="13b48-174">Se ejecuta cada diez minutos.</span><span class="sxs-lookup"><span data-stu-id="13b48-174">Runs every ten minutes.</span></span>|  
|<span data-ttu-id="13b48-175">Actualizador de supervisión de replicación para distribución</span><span class="sxs-lookup"><span data-stu-id="13b48-175">Replication monitoring refresher for distribution</span></span>|<span data-ttu-id="13b48-176">Actualiza las consultas almacenadas en la caché que utiliza el Monitor de replicación.</span><span class="sxs-lookup"><span data-stu-id="13b48-176">Refreshes cached queries used by Replication Monitor..</span></span>|<span data-ttu-id="13b48-177">Se ejecuta continuamente.</span><span class="sxs-lookup"><span data-stu-id="13b48-177">Runs continuously.</span></span>|  
  
## <a name="see-also"></a><span data-ttu-id="13b48-178">Consulte también</span><span class="sxs-lookup"><span data-stu-id="13b48-178">See Also</span></span>  
 [<span data-ttu-id="13b48-179">Supervisar la replicación</span><span class="sxs-lookup"><span data-stu-id="13b48-179">Monitoring Replication</span></span>](../monitoring-replication.md)  
  
  
