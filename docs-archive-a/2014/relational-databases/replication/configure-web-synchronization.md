---
title: Configuración de sincronización web | Microsoft Docs
ms.custom: ''
ms.date: 01/10/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: replication
ms.topic: conceptual
f1_keywords:
- SQL10.REP.CONFIGWEBSYNCWIZARD.SUBTYPE.F1
- SQL10.REP.CONFIGWEBSYNCWIZARD.CLIENTAUTH.F1
- SQL10.REP.CONFIGWEBSYNCWIZARD.WEBSERV.F1
- SQL10.REP.CONFIGWEBSYNCWIZARD.DIRACCESS.F1
- SQL10.REP.CONFIGWEBSYNCWIZARD.VIRDIRINFO.F1
- SQL10.REP.CONFIGWEBSYNCWIZARD.AUTHACCESS.F1
- SQL10.REP.CONFIGWEBSYNCWIZARD.COMPLETEWIZ.F1
- SQL10.REP.CONFIGWEBSYNCWIZARD.ANONACCESS.F1
- SQL10.REP.CONFIGWEBSYNCWIZARD.SNAPSHARE.F1
helpviewer_keywords:
- Web synchronization, security best practices
- Web synchronization, configuring
ms.assetid: 21f8e4d4-cd07-4856-98f0-9c9890ebbc82
author: MashaMSFT
ms.author: mathoma
ms.openlocfilehash: 406175533b92d13dce8c14b91b654fbb6099dc22
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 08/04/2020
ms.locfileid: "87662843"
---
# <a name="configure-web-synchronization"></a><span data-ttu-id="48113-102">Configurar sincronización web</span><span class="sxs-lookup"><span data-stu-id="48113-102">Configure Web Synchronization</span></span>
  <span data-ttu-id="48113-103">La opción de sincronización web para la replicación de mezcla de [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] habilita la replicación de datos con el protocolo HTTPS a través de Internet.</span><span class="sxs-lookup"><span data-stu-id="48113-103">The Web synchronization option for [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] Merge Replication enables data replication using the HTTPS protocol over the Internet.</span></span> <span data-ttu-id="48113-104">Para utilizar la sincronización web, primero debe realizar las siguientes acciones de configuración:</span><span class="sxs-lookup"><span data-stu-id="48113-104">To use Web synchronization, you first need to perform the following configuration actions:</span></span>  
  
1.  <span data-ttu-id="48113-105">Cree nuevas cuentas de dominio y asignar inicios de sesión de [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] .</span><span class="sxs-lookup"><span data-stu-id="48113-105">Create new domain accounts and map [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] logins.</span></span>  
  
2.  <span data-ttu-id="48113-106">Configure el equipo en el que se están ejecutando [!INCLUDE[msCoName](../../includes/msconame-md.md)] Internet Information Services (IIS) para sincronizar suscripciones.</span><span class="sxs-lookup"><span data-stu-id="48113-106">Configure the computer that is running [!INCLUDE[msCoName](../../includes/msconame-md.md)] Internet Information Services (IIS) to synchronize subscriptions.</span></span>  
  
3.  <span data-ttu-id="48113-107">Configure una publicación de combinación para que permita la sincronización web.</span><span class="sxs-lookup"><span data-stu-id="48113-107">Configure a merge publication to allow Web synchronization.</span></span>  
  
4.  <span data-ttu-id="48113-108">Configure una o más suscripciones para utilizar la sincronización web.</span><span class="sxs-lookup"><span data-stu-id="48113-108">Configure one or more subscriptions to use Web synchronization.</span></span>  
  
> [!NOTE]  
>  <span data-ttu-id="48113-109">Si piensa replicar grandes volúmenes de datos o utilizar tipos de datos de gran tamaño como `varchar(max)`, lea la sección "Replicar grandes volúmenes de datos" de este tema.</span><span class="sxs-lookup"><span data-stu-id="48113-109">If you plan to replicate large volumes of data or use large data types such as `varchar(max)`, read the section "Replicating Large Volumes of Data" in this topic.</span></span>  
  
 <span data-ttu-id="48113-110">Para preparar la sincronización web correctamente, debe decidir cómo configurará la seguridad para cumplir sus requisitos y directivas especiales.</span><span class="sxs-lookup"><span data-stu-id="48113-110">To successfully set up Web synchronization, you must decide how you will configure security to meet your particular requirements and policies.</span></span> <span data-ttu-id="48113-111">Es aconsejable tomar estas decisiones y crear las cuentas necesarias antes de intentar configurar IIS, la publicación y las suscripciones.</span><span class="sxs-lookup"><span data-stu-id="48113-111">It is best to make these decisions and create the necessary accounts before you attempt to configure IIS, the publication, and subscriptions.</span></span>  
  
 <span data-ttu-id="48113-112">En los procedimientos que siguen, se describe una configuración de seguridad simplificada utilizando cuentas locales por motivos de brevedad.</span><span class="sxs-lookup"><span data-stu-id="48113-112">In the procedures that follow, a simplified security configuration using local accounts is described, for brevity.</span></span> <span data-ttu-id="48113-113">Esta configuración simplificada es adecuada para instalaciones donde IIS y el publicador y distribuidor de [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] se ejecutan en el mismo equipo, aunque es mucho más probablemente (y recomendado) que utilice una topología de varios servidores en una instalación de producción.</span><span class="sxs-lookup"><span data-stu-id="48113-113">This simplified configuration is suitable for installations where both IIS and the [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] Publisher and Distributor are running on the same computer, even though it is much more likely (and recommended) that you will use a multiple-server topology for a production installation.</span></span> <span data-ttu-id="48113-114">Puede sustituir las cuentas de dominio por cuentas locales en los procedimientos.</span><span class="sxs-lookup"><span data-stu-id="48113-114">You can substitute domain accounts for the local accounts in the procedures.</span></span>  
  
## <a name="creating-new-accounts-and-mapping-sql-server-logins"></a><span data-ttu-id="48113-115">Crear cuentas nuevas y asignar inicios de sesión de SQL Server</span><span class="sxs-lookup"><span data-stu-id="48113-115">Creating New Accounts and Mapping SQL Server Logins</span></span>  
 <span data-ttu-id="48113-116">La Escucha de replicación de [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] (replisapi.dll) se conecta al publicador suplantando la cuenta especificada para el grupo de aplicaciones asociado al sitio web de replicación.</span><span class="sxs-lookup"><span data-stu-id="48113-116">The [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] Replication Listener (replisapi.dll) connects to the Publisher by impersonating the account specified for the application pool that is associated with the replication web site.</span></span>  
  
 <span data-ttu-id="48113-117">La cuenta utilizada para la Escucha de replicación de [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] debe tener los permisos descritos en [Merge Agent Security](merge-agent-security.md), en la sección sobre conexión al publicador o distribuidor.</span><span class="sxs-lookup"><span data-stu-id="48113-117">The account used for the [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] Replication Listener must have permissions as described in [Merge Agent Security](merge-agent-security.md), under the section "Connect to the Publisher or Distributor."</span></span> <span data-ttu-id="48113-118">En resumen, la cuenta debe:</span><span class="sxs-lookup"><span data-stu-id="48113-118">In summary, the account must:</span></span>  
  
-   <span data-ttu-id="48113-119">Ser miembro de la lista de acceso a la publicación (PAL).</span><span class="sxs-lookup"><span data-stu-id="48113-119">Be a member of the Publication Access List (PAL).</span></span>  
  
-   <span data-ttu-id="48113-120">Estar asignada un inicio de sesión asociado a un usuario en la base de datos de publicaciones.</span><span class="sxs-lookup"><span data-stu-id="48113-120">Be mapped to a login associated with a user in the publication database.</span></span>  
  
-   <span data-ttu-id="48113-121">Estar asignada un inicio de sesión asociado a un usuario en la base de datos de distribución.</span><span class="sxs-lookup"><span data-stu-id="48113-121">Be mapped to a login associated with a user in the distribution database.</span></span>  
  
-   <span data-ttu-id="48113-122">Tener permisos de lectura en el recurso compartido de instantáneas.</span><span class="sxs-lookup"><span data-stu-id="48113-122">Have Read permissions on the snapshot share.</span></span>  
  
 <span data-ttu-id="48113-123">Si es la primera vez que utiliza la replicación de [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] , también tendrá que crear cuentas e inicios de sesión para los agentes de réplica.</span><span class="sxs-lookup"><span data-stu-id="48113-123">If this is the first time you are using [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] Replication, you will also need to create accounts and logins for the replication agents.</span></span> <span data-ttu-id="48113-124">Para obtener más información, vea las secciones sobre configuración de la publicación y la suscripción de este tema.</span><span class="sxs-lookup"><span data-stu-id="48113-124">For more information, see the "Configuring the Publication" and "Configuring the Subscription" sections in this topic.</span></span>  
  
 <span data-ttu-id="48113-125">Antes de configurar la sincronización web, se recomienda leer la sección "Prácticas recomendadas de seguridad para la sincronización web", de este tema.</span><span class="sxs-lookup"><span data-stu-id="48113-125">Before you configure Web synchronization, we recommend that you read the "Security Best Practices for Web Synchronization" section in this topic.</span></span> <span data-ttu-id="48113-126">Para obtener más información acerca de la seguridad en la sincronización web, vea [Security Architecture for Web Synchronization](security/security-architecture-for-web-synchronization.md).</span><span class="sxs-lookup"><span data-stu-id="48113-126">For more information about Web synchronization security, see [Security Architecture for Web Synchronization](security/security-architecture-for-web-synchronization.md).</span></span>  
  
## <a name="configuring-the-computer-that-is-running-iis"></a><span data-ttu-id="48113-127">Configurar el equipo en el que se ejecuta IIS</span><span class="sxs-lookup"><span data-stu-id="48113-127">Configuring the Computer That Is Running IIS</span></span>  
 <span data-ttu-id="48113-128">La sincronización web requiere que instale y configure IIS.</span><span class="sxs-lookup"><span data-stu-id="48113-128">Web synchronization requires that you install and configure IIS.</span></span> <span data-ttu-id="48113-129">Necesitará la dirección URL del sitio web de replicación para poder configurar una publicación para utilizar la sincronización web.</span><span class="sxs-lookup"><span data-stu-id="48113-129">You will need the URL to the replication Web site before you can configure a publication to use Web synchronization.</span></span>  
  
<span data-ttu-id="48113-130">La sincronización web es compatible con IIS, a partir de la versión 5.0.</span><span class="sxs-lookup"><span data-stu-id="48113-130">Web synchronization is supported on IIS beginning with version 5.0.</span></span> <span data-ttu-id="48113-131">El Asistente para configurar la sincronización web no se admite en la versión 7.0 de IIS.</span><span class="sxs-lookup"><span data-stu-id="48113-131">The Configure Web Synchronization Wizard is not supported on IIS version 7.0.</span></span> <span data-ttu-id="48113-132">A partir de SQL Server 2012, para usar el componente de sincronización web en el servidor IIS, recomendamos instalar SQL Server con replicación.</span><span class="sxs-lookup"><span data-stu-id="48113-132">Beginning with SQL Server 2012, to use the web sync component on IIS server, we recommend users install SQL Server with replication.</span></span> <span data-ttu-id="48113-133">Puede ser la edición gratuita de SQL Server Express.</span><span class="sxs-lookup"><span data-stu-id="48113-133">This can be the free SQL Server Express edition.</span></span>  
  
 <span data-ttu-id="48113-134">SSL es necesario para la sincronización web.</span><span class="sxs-lookup"><span data-stu-id="48113-134">SSL is required for Web synchronization.</span></span> <span data-ttu-id="48113-135">Necesitará un certificado de seguridad emitido por una entidad de certificación.</span><span class="sxs-lookup"><span data-stu-id="48113-135">You will need a security certificate issued by a certification authority.</span></span> <span data-ttu-id="48113-136">Únicamente en los casos en que se estén realizando pruebas se puede utilizar un certificado de seguridad autofirmado.</span><span class="sxs-lookup"><span data-stu-id="48113-136">For testing purposes only, you can use a self-issued security certificate.</span></span>  
  
  
 <span data-ttu-id="48113-137">**Para configurar IIS para la sincronización web**</span><span class="sxs-lookup"><span data-stu-id="48113-137">**To configure IIS for Web synchronization**</span></span>  
  
-   [!INCLUDE[ssManStudioFull](../../includes/ssmanstudiofull-md.md)]<span data-ttu-id="48113-138">: [Configurar IIS para la sincronización web](configure-iis-for-web-synchronization.md)</span><span class="sxs-lookup"><span data-stu-id="48113-138">: [Configure IIS for Web Synchronization](configure-iis-for-web-synchronization.md)</span></span>  
  
-   [!INCLUDE[ssManStudioFull](../../includes/ssmanstudiofull-md.md)]<span data-ttu-id="48113-139">: [Configurar IIS 7 para la sincronización web](configure-iis-7-for-web-synchronization.md)</span><span class="sxs-lookup"><span data-stu-id="48113-139">: [Configure IIS 7 for Web Synchronization](configure-iis-7-for-web-synchronization.md)</span></span>  
  
## <a name="creating-a-web-garden"></a><span data-ttu-id="48113-140">Crear hospedaje multiproceso en una única máquina</span><span class="sxs-lookup"><span data-stu-id="48113-140">Creating a Web Garden</span></span>  
 <span data-ttu-id="48113-141">La Escucha de replicación de [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] admite dos operaciones de sincronización simultáneas por subproceso.</span><span class="sxs-lookup"><span data-stu-id="48113-141">The [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] Replication Listener supports two concurrent synchronization operations per thread.</span></span> <span data-ttu-id="48113-142">Si se supera este límite la Escucha de replicación podría dejar de responder.</span><span class="sxs-lookup"><span data-stu-id="48113-142">Exceeding this limit may cause the Replication Listener to stop responding.</span></span> <span data-ttu-id="48113-143">La propiedad de máximo de subprocesos de trabajo del grupo de aplicaciones determina el número de subprocesos asignado a replisapi.dll.</span><span class="sxs-lookup"><span data-stu-id="48113-143">The number of threads allocated to replisapi.dll is determined by the application pool Maximum Worker Processes property.</span></span> <span data-ttu-id="48113-144">De forma predeterminada, esta propiedad está establecida en 1.</span><span class="sxs-lookup"><span data-stu-id="48113-144">By default, this property is set at 1.</span></span>  
  
 <span data-ttu-id="48113-145">Puede admitir un número mayor de operaciones de sincronización simultáneas por CPU aumentando el valor de la propiedad de máximo de procesos de trabajo.</span><span class="sxs-lookup"><span data-stu-id="48113-145">You can support a greater number of concurrent synchronization operations per CPU by increasing the Maximum Worker Process property value.</span></span> <span data-ttu-id="48113-146">La ampliación horizontal mediante el aumento del número de procesos de trabajo por CPU se denomina crear "hospedaje multiproceso en una única máquina".</span><span class="sxs-lookup"><span data-stu-id="48113-146">Scaling out by increasing the number of worker processes per CPU is known as creating a "Web garden."</span></span>  
  
 <span data-ttu-id="48113-147">El hospedaje multiproceso en una única máquina permitirá que más de dos suscriptores se sincronicen a la vez.</span><span class="sxs-lookup"><span data-stu-id="48113-147">Web gardening will allow more than two Subscribers to synchronize at the same time.</span></span> <span data-ttu-id="48113-148">También aumentará la utilización de la CPU por parte de replisapi.dll, lo que puede afectar al rendimiento del servidor negativamente.</span><span class="sxs-lookup"><span data-stu-id="48113-148">It will also increase CPU utilization by replisapi.dll, which can negatively impact overall server performance.</span></span> <span data-ttu-id="48113-149">Es importante tener en cuenta estos aspectos al elegir un valor para el máximo de procesos de trabajo.</span><span class="sxs-lookup"><span data-stu-id="48113-149">It is important to balance these considerations when you choose a value for Maximum Worker Processes.</span></span>  
  
#### <a name="to-increase-maximum-worker-processes-in-iis-7"></a><span data-ttu-id="48113-150">Para aumentar el máximo de procesos de trabajo en IIS 7</span><span class="sxs-lookup"><span data-stu-id="48113-150">To increase Maximum Worker Processes in IIS 7</span></span>  
  
1.  <span data-ttu-id="48113-151">En **Administrador de Internet Information Services (IIS)** , expanda el nodo del servidor y, después, haga clic en el nodo **Grupos de aplicaciones** .</span><span class="sxs-lookup"><span data-stu-id="48113-151">In **Internet Information Services (IIS) Manager**, expand the local server node, and then click on the **Application Pool** node.</span></span>  
  
2.  <span data-ttu-id="48113-152">Seleccione el grupo de aplicaciones asociado al sitio de sincronización web y, a continuación, haga clic en **Configuración avanzada** en el panel **Acciones** .</span><span class="sxs-lookup"><span data-stu-id="48113-152">Select the application pool associated with the Web synchronization site, and then click **Advanced Settings** on the **Actions** pane.</span></span>  
  
3.  <span data-ttu-id="48113-153">En el cuadro de diálogo Configuración avanzada, bajo en el encabezado **Procesar modelo** , haga clic la fila etiquetada **Máximo de procesos de trabajo**.</span><span class="sxs-lookup"><span data-stu-id="48113-153">On the Advanced Settings dialog, under the **Process Model** heading, click the row labeled **Maximum Worker Processes**.</span></span> <span data-ttu-id="48113-154">Cambie el valor de la propiedad y haga clic en **Aceptar**.</span><span class="sxs-lookup"><span data-stu-id="48113-154">Change the property value, and then click **OK**.</span></span>  
  
## <a name="configuring-the-publication"></a><span data-ttu-id="48113-155">Configurar la publicación</span><span class="sxs-lookup"><span data-stu-id="48113-155">Configuring the Publication</span></span>  
 <span data-ttu-id="48113-156">Para utilizar la sincronización web, cree una publicación igual que lo haría para una topología de mezcla estándar.</span><span class="sxs-lookup"><span data-stu-id="48113-156">To use Web synchronization, create a publication in the same way that you would for a standard merge topology.</span></span> <span data-ttu-id="48113-157">Para obtener más información sobre la creación de publicaciones, vea [Publicar datos y objetos de base de datos](publish/publish-data-and-database-objects.md).</span><span class="sxs-lookup"><span data-stu-id="48113-157">For more information, see [Publish Data and Database Objects](publish/publish-data-and-database-objects.md).</span></span>  
  
 <span data-ttu-id="48113-158">Una vez creada la publicación, habilite la opción para permitir la sincronización web mediante de estos métodos: [!INCLUDE[ssManStudioFull](../../includes/ssmanstudiofull-md.md)], [!INCLUDE[tsql](../../includes/tsql-md.md)]o Replication Management Objects (RMO).</span><span class="sxs-lookup"><span data-stu-id="48113-158">After the publication is created, enable the option to allow for Web synchronization by using one of the following methods: [!INCLUDE[ssManStudioFull](../../includes/ssmanstudiofull-md.md)], [!INCLUDE[tsql](../../includes/tsql-md.md)], or Replication Management Objects (RMO).</span></span> <span data-ttu-id="48113-159">Para habilitar la sincronización web, tendrá que proporcionar la dirección del servidor web para las conexiones del suscriptor.</span><span class="sxs-lookup"><span data-stu-id="48113-159">To enable Web synchronization, you will need to supply the Web server address for Subscriber connections.</span></span>  
  
 <span data-ttu-id="48113-160">Si utiliza un publicador por primera vez, también debe configurar un distribuidor y un recurso compartido de instantáneas.</span><span class="sxs-lookup"><span data-stu-id="48113-160">If you are using a Publisher for the first time, you must also configure a Distributor and a snapshot share.</span></span> <span data-ttu-id="48113-161">El Agente de mezcla de cada suscriptor debe tener permisos de lectura en el recurso compartido de instantáneas.</span><span class="sxs-lookup"><span data-stu-id="48113-161">The Merge Agent at each Subscriber must have read permissions on the snapshot share.</span></span> <span data-ttu-id="48113-162">Para obtener más información sobre cómo configurar la distribución, vea [Configure Distribution (Configurar la distribución)](configure-distribution.md) y [Proteger la carpeta de instantáneas](security/secure-the-snapshot-folder.md).</span><span class="sxs-lookup"><span data-stu-id="48113-162">For more information, see [Configure Distribution](configure-distribution.md) and [Secure the Snapshot Folder](security/secure-the-snapshot-folder.md).</span></span>  
  
 <span data-ttu-id="48113-163">`gen` es una palabra reservada en los archivos XML de websync.</span><span class="sxs-lookup"><span data-stu-id="48113-163">`gen` is a reserved word in websync xml files.</span></span> <span data-ttu-id="48113-164">No intente publicar tablas que contengan columnas denominadas `gen`.</span><span class="sxs-lookup"><span data-stu-id="48113-164">Do not attempt to publish tables containing columns named `gen`.</span></span>  
  
## <a name="configuring-the-subscription"></a><span data-ttu-id="48113-165">Configurar la suscripción</span><span class="sxs-lookup"><span data-stu-id="48113-165">Configuring the Subscription</span></span>  
 <span data-ttu-id="48113-166">Después de habilitar una publicación y configurar IIS, cree una suscripción de extracción y especifique que dicha suscripción debe sincronizarse mediante IIS.</span><span class="sxs-lookup"><span data-stu-id="48113-166">After you enable a publication and configure IIS, create a pull subscription and specify that the pull subscription should synchronize by using IIS.</span></span> <span data-ttu-id="48113-167">La sincronización web solo puede usarse para las suscripciones de extracción.</span><span class="sxs-lookup"><span data-stu-id="48113-167">(Web synchronization is supported only for pull subscriptions.)</span></span>  
  
## <a name="upgrading-from-an-earlier-version-of-sql-server"></a><span data-ttu-id="48113-168">Actualizar de una versión anterior de SQL Server</span><span class="sxs-lookup"><span data-stu-id="48113-168">Upgrading from an Earlier Version of SQL Server</span></span>  
 <span data-ttu-id="48113-169">Si tiene una topología de sincronización web existente configurada y actualiza [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)], debe asegurarse de que la última versión de Replisapi.dll se copia en el directorio virtual utilizado por la sincronización web.</span><span class="sxs-lookup"><span data-stu-id="48113-169">If you have an existing Web synchronization topology configured and you upgrade [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)], you must ensure that the latest version of Replisapi.dll is copied to the virtual directory used by Web synchronization.</span></span> <span data-ttu-id="48113-170">De forma predeterminada, la última versión de Replisapi.dll se encuentra en C:\Archivos de programa\Microsoft SQL Server\\<nnn\>\COM.</span><span class="sxs-lookup"><span data-stu-id="48113-170">By default, the latest version of Replisapi.dll is located in C:\Program Files\Microsoft SQL Server\\<nnn\>\COM.</span></span>  
  
## <a name="replicating-large-volumes-of-data"></a><span data-ttu-id="48113-171">Replicar grandes volúmenes de datos.</span><span class="sxs-lookup"><span data-stu-id="48113-171">Replicating Large Volumes of Data</span></span>  
 <span data-ttu-id="48113-172">Para evitar que se produzcan posibles problemas de memoria en los equipos suscriptores, la sincronización web usa un tamaño máximo predeterminado de 100 MB para el archivo XML que se utiliza para transferir los cambios.</span><span class="sxs-lookup"><span data-stu-id="48113-172">To help avoid potential memory problems on Subscriber computers Web synchronization uses a default maximum size of 100 MB for the XML file used to transfer changes.</span></span> <span data-ttu-id="48113-173">Es posible aumentar este límite estableciendo la siguiente clave del Registro:</span><span class="sxs-lookup"><span data-stu-id="48113-173">The limit can be raised by setting the following registry key:</span></span>  
  
 <span data-ttu-id="48113-174">**HKEY_LOCAL_MACHINE\SOFTWARE\Microsoft\Microsoft SQL Server\100\Replication**</span><span class="sxs-lookup"><span data-stu-id="48113-174">**HKEY_LOCAL_MACHINE\SOFTWARE\Microsoft\Microsoft SQL Server\100\Replication**</span></span>  
  
 <span data-ttu-id="48113-175">**WebSyncMaxXmlSize DWORD 2000000**</span><span class="sxs-lookup"><span data-stu-id="48113-175">**WebSyncMaxXmlSize DWORD 2000000**</span></span>  
  
 <span data-ttu-id="48113-176">El intervalo de valores aceptables para esta clave está comprendido entre 100 MB y 4GB.</span><span class="sxs-lookup"><span data-stu-id="48113-176">The range of acceptable values for this key is 100 MB to 4GB.</span></span> <span data-ttu-id="48113-177">El valor se especifica en KB.</span><span class="sxs-lookup"><span data-stu-id="48113-177">The value is specified in KB.</span></span> <span data-ttu-id="48113-178">Establecer este parámetro en un valor alto no garantiza que sea posible sincronizar esa cantidad de datos.</span><span class="sxs-lookup"><span data-stu-id="48113-178">Setting this parameter to a high value does not guarantee that you can synchronize that amount of data.</span></span> <span data-ttu-id="48113-179">El límite real queda restringido por la cantidad de memoria contigua disponible en el equipo suscriptor.</span><span class="sxs-lookup"><span data-stu-id="48113-179">The effective limit is constrained by how much contiguous memory is available on the Subscriber computer.</span></span> <span data-ttu-id="48113-180">Si el valor ha de ser mayor de 100 MB, es recomendable que aumente el valor de forma incremental y que pruebe el consumo de memoria en el suscriptor con una carga de trabajo típica.</span><span class="sxs-lookup"><span data-stu-id="48113-180">If you must have a value larger than 100 MB, we recommend that you increase the value incrementally and test memory consumption with a typical workload on the Subscriber.</span></span>  
  
 <span data-ttu-id="48113-181">El tamaño máximo para el archivo XML es 4 GB, pero la replicación sincroniza los cambios de ese archivo en lotes.</span><span class="sxs-lookup"><span data-stu-id="48113-181">The maximum size for the XML file is 4 GB, but replication synchronizes the changes from that file in batches.</span></span> <span data-ttu-id="48113-182">El tamaño máximo del lote de datos y metadatos es de 25 MB.</span><span class="sxs-lookup"><span data-stu-id="48113-182">The maximum batch size of data and metadata is 25 MB.</span></span> <span data-ttu-id="48113-183">Debe asegurarse de que los datos de cada lote no superan aproximadamente los 20 MB, lo que concede un margen suficiente para los metadatos y cualquier otra sobrecarga.</span><span class="sxs-lookup"><span data-stu-id="48113-183">You must ensure that the data in each batch does not exceed approximately 20 MB, which allows for metadata and any other overhead.</span></span> <span data-ttu-id="48113-184">Este límite tiene las implicaciones siguientes:</span><span class="sxs-lookup"><span data-stu-id="48113-184">This limit has the following implications:</span></span>  
  
-   <span data-ttu-id="48113-185">No se puede replicar ninguna columna que haga que los datos y los metadatos superen los 25 MB.</span><span class="sxs-lookup"><span data-stu-id="48113-185">You cannot replicate any column that causes the data and metadata to exceed 25 MB.</span></span> <span data-ttu-id="48113-186">Este podría constituir un problema si se replican filas que contienen tipos de datos de gran tamaño, como `varchar(max)`.</span><span class="sxs-lookup"><span data-stu-id="48113-186">This might be an issue when you are replicating rows that contain large data types, such as `varchar(max)`.</span></span>  
  
-   <span data-ttu-id="48113-187">Si se replican grandes volúmenes de datos, podría ser necesario ajustar el tamaño del lote del Agente de mezcla.</span><span class="sxs-lookup"><span data-stu-id="48113-187">If you replicate large volumes of data, you might have to adjust the Merge Agent batch size.</span></span>  
  
 <span data-ttu-id="48113-188">El tamaño del lote para la replicación de mezcla se mide en *generaciones*, que son conjuntos de cambios por artículo.</span><span class="sxs-lookup"><span data-stu-id="48113-188">Batch size for merge replication is measured in *generations*, which are collections of changes per article.</span></span> <span data-ttu-id="48113-189">El número de generaciones de un lote se especifica mediante los parámetros- `DownloadGenerationsPerBatch` y- `UploadGenerationsPerBatch` del agente de mezcla.</span><span class="sxs-lookup"><span data-stu-id="48113-189">The number of generations in a batch is specified by using the-`DownloadGenerationsPerBatch` and -`UploadGenerationsPerBatch` parameters of the Merge Agent.</span></span> <span data-ttu-id="48113-190">Para más información, consulte [Replication Merge Agent](agents/replication-merge-agent.md).</span><span class="sxs-lookup"><span data-stu-id="48113-190">For more information, see [Replication Merge Agent](agents/replication-merge-agent.md).</span></span>  
  
 <span data-ttu-id="48113-191">Para grandes volúmenes de datos, especifique un número pequeño para cada uno de los parámetros de procesamiento por lotes.</span><span class="sxs-lookup"><span data-stu-id="48113-191">For large volumes of data, specify a small number for each of the batching parameters.</span></span> <span data-ttu-id="48113-192">Se recomienda comenzar con un valor de 10 y optimizarlo después de acuerdo con las necesidades y el rendimiento de la aplicación.</span><span class="sxs-lookup"><span data-stu-id="48113-192">We recommend that you start with a value of 10, and then tune based on application needs and performance.</span></span> <span data-ttu-id="48113-193">Normalmente, estos parámetros se especifican en un perfil de agente.</span><span class="sxs-lookup"><span data-stu-id="48113-193">Typically, these parameters are specified in an agent profile.</span></span> <span data-ttu-id="48113-194">Para obtener más información acerca de los perfiles, vea [Replication Agent Profiles](agents/replication-agent-profiles.md).</span><span class="sxs-lookup"><span data-stu-id="48113-194">For more information about profiles, see [Replication Agent Profiles](agents/replication-agent-profiles.md).</span></span>  
  
## <a name="security-best-practices-for-web-synchronization"></a><span data-ttu-id="48113-195">Prácticas recomendadas de seguridad para la sincronización web</span><span class="sxs-lookup"><span data-stu-id="48113-195">Security Best Practices for Web Synchronization</span></span>  
 <span data-ttu-id="48113-196">Existen muchas opciones de configuración relacionadas con la seguridad en la sincronización web.</span><span class="sxs-lookup"><span data-stu-id="48113-196">There are many choices for security-related settings in Web synchronization.</span></span> <span data-ttu-id="48113-197">Se recomienda el siguiente enfoque:</span><span class="sxs-lookup"><span data-stu-id="48113-197">We recommend the following approach:</span></span>  
  
-   <span data-ttu-id="48113-198">El distribuidor y el publicador de [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] pueden estar en el mismo equipo, configuración típica para la replicación de mezcla.</span><span class="sxs-lookup"><span data-stu-id="48113-198">The [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] Distributor and Publisher can be on the same computer (a typical setup for merge replication).</span></span> <span data-ttu-id="48113-199">Sin embargo, IIS debe estar en otro equipo.</span><span class="sxs-lookup"><span data-stu-id="48113-199">However, IIS should be installedon a separate computer.</span></span>  
  
-   <span data-ttu-id="48113-200">Utilice SSL (Capa de sockets seguros) para cifrar la conexión entre el suscriptor y el equipo en el que se ejecuta IIS.</span><span class="sxs-lookup"><span data-stu-id="48113-200">Use Secure Sockets Layer (SSL) to encrypt the connection between the Subscriber and the computer running IIS.</span></span> <span data-ttu-id="48113-201">Esto es necesario para la sincronización web.</span><span class="sxs-lookup"><span data-stu-id="48113-201">This is required for Web synchronization.</span></span>  
  
-   <span data-ttu-id="48113-202">Use la autenticación básica para las conexiones del suscriptor a IIS.</span><span class="sxs-lookup"><span data-stu-id="48113-202">Use Basic Authentication for connections from the Subscriber to IIS.</span></span> <span data-ttu-id="48113-203">Con la autenticación básica, IIS puede realizar conexiones al publicador o distribuidor en nombre del suscriptor sin que sea necesaria la delegación.</span><span class="sxs-lookup"><span data-stu-id="48113-203">Using Basic Authentication, IIS can make connections to the Publisher/Distributor on behalf of the Subscriber without requiring delegation.</span></span> <span data-ttu-id="48113-204">La delegación es necesaria si se usa la autenticación integrada.</span><span class="sxs-lookup"><span data-stu-id="48113-204">Delegation is required if you use Integrated Authentication.</span></span>  
  
    > [!NOTE]  
    >  <span data-ttu-id="48113-205">La autenticación básica es el método que se utiliza para enviar credenciales a IIS.</span><span class="sxs-lookup"><span data-stu-id="48113-205">Basic Authentication is the method by which credentials are passed to IIS.</span></span> <span data-ttu-id="48113-206">El uso de la autenticación básica no impide que se puedan especificar cuentas de dominio de Windows para las conexiones a IIS.</span><span class="sxs-lookup"><span data-stu-id="48113-206">Basic Authentication does not prevent specifying Windows domain accounts for connections that are made to IIS.</span></span>  
  
-   <span data-ttu-id="48113-207">Especifique que el Agente de instantáneas se ejecute con una cuenta de dominio de Windows y que el agente realice las conexiones con esta cuenta.</span><span class="sxs-lookup"><span data-stu-id="48113-207">Specify that the Snapshot Agent should run under a Windows domain account, and specify that the agent should make connections as that account.</span></span> <span data-ttu-id="48113-208">Es la configuración predeterminada. Especifique que cada Agente de mezcla se ejecute con la cuenta de dominio del usuario que utiliza el equipo del suscriptor y que el agente realice las conexiones con esta cuenta.</span><span class="sxs-lookup"><span data-stu-id="48113-208">(This is the default configuration.) Specify that each Merge Agent should run under the domain account of the user that uses the Subscriber computer, and specify that the agent should make connections as that account.</span></span>  
  
     <span data-ttu-id="48113-209">Para obtener más información acerca de los permisos que necesitan los agentes, vea [Replication Agent Security Model](security/replication-agent-security-model.md).</span><span class="sxs-lookup"><span data-stu-id="48113-209">For more information about the permissions that are required by agents, see [Replication Agent Security Model](security/replication-agent-security-model.md).</span></span>  
  
-   <span data-ttu-id="48113-210">Especifique la misma cuenta de dominio que la que utiliza el Agente de mezcla Cuando especifique una cuenta y una contraseña en la página **información del servidor Web** del Asistente para nueva suscripción o cuando especifique valores para **@internet_url** los **@internet_login** parámetros y de [sp_addpullsubscription_agent](/sql/relational-databases/system-stored-procedures/sp-addpullsubscription-agent-transact-sql).</span><span class="sxs-lookup"><span data-stu-id="48113-210">Specify the same domain account as the one the Merge Agent uses when you specify an account and password on the **Web Server Information** page of the New Subscription Wizard or when you specify values for the **@internet_url** and **@internet_login** parameters of [sp_addpullsubscription_agent](/sql/relational-databases/system-stored-procedures/sp-addpullsubscription-agent-transact-sql).</span></span> <span data-ttu-id="48113-211">Esta cuenta debe tener permisos de lectura en el recurso compartido de la instantánea.</span><span class="sxs-lookup"><span data-stu-id="48113-211">This account must have read permissions for the snapshot share.</span></span>  
  
-   <span data-ttu-id="48113-212">Cada publicación debe utilizar un directorio virtual independiente para IIS.</span><span class="sxs-lookup"><span data-stu-id="48113-212">Each publication should use a separate virtual directory for IIS.</span></span>  
  
-   <span data-ttu-id="48113-213">La cuenta bajo la que se ejecuta la Escucha de replicación de [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] (Replisapi.dll) es también la cuenta que se conectará al publicador y al distribuidor durante la sincronización.</span><span class="sxs-lookup"><span data-stu-id="48113-213">The account under which the [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] Replication Listener (Replisapi.dll) runs is also the account that will connect to the Publisher and Distributor during synchronization.</span></span> <span data-ttu-id="48113-214">Esta cuenta debe estar asignada a una cuenta de inicio de sesión de SQL en el publicador y el distribuidor.</span><span class="sxs-lookup"><span data-stu-id="48113-214">This account must be mapped to a SQL Login account on the Publisher and Distributor.</span></span> <span data-ttu-id="48113-215">Para obtener más información, vea la sección "Establecer los permisos para la Escucha de replicación de SQL Server" en [Configurar IIS para la sincronización web](configure-iis-for-web-synchronization.md).</span><span class="sxs-lookup"><span data-stu-id="48113-215">For more information, see the "Setting Permissions for the SQL Server Replication Listener" section in the [Configure IIS for Web Synchronization](configure-iis-for-web-synchronization.md).</span></span>  
  
-   <span data-ttu-id="48113-216">Puede usar FTP para entregar la instantánea desde el publicador al equipo en el que se ejecuta IIS.</span><span class="sxs-lookup"><span data-stu-id="48113-216">You can use FTP to deliver the snapshot from the Publisher to the computer that is running IIS.</span></span> <span data-ttu-id="48113-217">La instantánea se entrega siempre desde el equipo en el que se ejecuta IIS al suscriptor mediante HTTPS.</span><span class="sxs-lookup"><span data-stu-id="48113-217">The snapshot is always delivered from the computer that is running IIS to the Subscriber by using HTTPS.</span></span> <span data-ttu-id="48113-218">Para obtener más información, vea [Transferir instantáneas mediante FTP](transfer-snapshots-through-ftp.md).</span><span class="sxs-lookup"><span data-stu-id="48113-218">For more information, see [Transfer Snapshots Through FTP](transfer-snapshots-through-ftp.md).</span></span>  
  
-   <span data-ttu-id="48113-219">Si los servidores de la topología de replicación están situados detrás de un firewall, quizá sea necesario abrir puertos del firewall para habilitar la sincronización web.</span><span class="sxs-lookup"><span data-stu-id="48113-219">If servers in the replication topology are behind a firewall, you might need to open ports in the firewall to enable Web synchronization.</span></span>  
  
    -   <span data-ttu-id="48113-220">El equipo suscriptor se conecta al equipo que está ejecutando IIS sobre HTTPS usando SSL, que se configura normalmente para usar el puerto 443.</span><span class="sxs-lookup"><span data-stu-id="48113-220">The Subscriber computer connects to the computer that is running IIS over HTTPS using SSL, which is typically configured to use port 443.</span></span> [!INCLUDE[ssEW](../../includes/ssew-md.md)] <span data-ttu-id="48113-221">Los suscriptores también pueden conectarse a través de HTTP, que se configura normalmente para usar el puerto 80.</span><span class="sxs-lookup"><span data-stu-id="48113-221">Subscribers can also connect over HTTP, which is typically configured to use port 80.</span></span>  
  
    -   <span data-ttu-id="48113-222">El equipo en el que se ejecuta IIS suele conectarse con el publicador o con el distribuidor usando el puerto 1433 (instancia predeterminada).</span><span class="sxs-lookup"><span data-stu-id="48113-222">The computer that is running IIS typically connects to the Publisher or Distributor using port 1433 (default instance).</span></span> <span data-ttu-id="48113-223">Cuando el publicador o el distribuidor es una instancia con nombre en un servidor con otra instancia predeterminada, suele usarse el puerto 1500 para la conexión con la instancia con nombre.</span><span class="sxs-lookup"><span data-stu-id="48113-223">When the Publisher or Distributor is a named instance on a server with another default instance, port 1500 is typically used to connect to the named instance.</span></span>  
  
    -   <span data-ttu-id="48113-224">Si el equipo en el que se ejecuta IIS se encuentra separado del distribuidor mediante un firewall y se usa un recurso compartido de FTP para la entrega de instantáneas, deben abrirse los puertos que se usan para FTP.</span><span class="sxs-lookup"><span data-stu-id="48113-224">If the computer running IIS is separated from the Distributor by a firewall and an FTP share is used for snapshot delivery, the ports used for FTP must be opened.</span></span> <span data-ttu-id="48113-225">Para obtener más información, vea [Transferir instantáneas mediante FTP](transfer-snapshots-through-ftp.md).</span><span class="sxs-lookup"><span data-stu-id="48113-225">For more information, see [Transfer Snapshots Through FTP](transfer-snapshots-through-ftp.md).</span></span>  
  
> [!IMPORTANT]  
>  <span data-ttu-id="48113-226">El hecho de abrir puertos en el firewall puede dejar el servidor expuesto a ataques malintencionados.</span><span class="sxs-lookup"><span data-stu-id="48113-226">Opening ports in your firewall can leave your server exposed to malicious attacks.</span></span> <span data-ttu-id="48113-227">Asegúrese de que conoce los sistemas de firewall antes de abrir puertos.</span><span class="sxs-lookup"><span data-stu-id="48113-227">Make sure that you understand firewall systems before you open ports.</span></span> <span data-ttu-id="48113-228">Para obtener más información, vea [Security Considerations for a SQL Server Installation](../../sql-server/install/security-considerations-for-a-sql-server-installation.md).</span><span class="sxs-lookup"><span data-stu-id="48113-228">For more information, see [Security Considerations for a SQL Server Installation](../../sql-server/install/security-considerations-for-a-sql-server-installation.md).</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="48113-229">Consulte también</span><span class="sxs-lookup"><span data-stu-id="48113-229">See Also</span></span>  
 [<span data-ttu-id="48113-230">Sincronización web para la replicación de mezcla</span><span class="sxs-lookup"><span data-stu-id="48113-230">Web Synchronization for Merge Replication</span></span>](web-synchronization-for-merge-replication.md)  
  
  
