---
title: Implementar un solucionador de conflictos personalizado para un artículo de mezcla | Microsoft Docs
ms.custom: ''
ms.date: 06/13/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: replication
ms.topic: conceptual
dev_langs:
- TSQL
helpviewer_keywords:
- merge replication conflict resolution [SQL Server replication], stored procedure-based resolvers
- articles [SQL Server replication], conflict resolution
- conflict resolution [SQL Server replication], merge replication
ms.assetid: 76bd8524-ebc1-4d80-b5a2-4169944d6ac0
author: MashaMSFT
ms.author: mathoma
ms.openlocfilehash: 23e684213114f3c9bb2f1ad56de06fcfc89b819a
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 08/04/2020
ms.locfileid: "87663349"
---
# <a name="implement-a-custom-conflict-resolver-for-a-merge-article"></a><span data-ttu-id="9e937-102">Implementar un solucionador de conflictos personalizado para un artículo de mezcla</span><span class="sxs-lookup"><span data-stu-id="9e937-102">Implement a Custom Conflict Resolver for a Merge Article</span></span>
  <span data-ttu-id="9e937-103"> En este tema se describe cómo implementar el solucionador de conflictos personalizado para un artículo de mezcla en [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)] mediante [!INCLUDE[tsql](../../includes/tsql-md.md)] o un [solucionador personalizado basado en COM](merge/advanced-merge-replication-conflict-com-based-custom-resolvers.md).</span><span class="sxs-lookup"><span data-stu-id="9e937-103">This topic describes how to implement custom conflict resolver for a merge article in [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)] by using [!INCLUDE[tsql](../../includes/tsql-md.md)] or a [COM-based custom resolver](merge/advanced-merge-replication-conflict-com-based-custom-resolvers.md).</span></span>  
  
 <span data-ttu-id="9e937-104">**En este tema**</span><span class="sxs-lookup"><span data-stu-id="9e937-104">**In This Topic**</span></span>  
  
-   <span data-ttu-id="9e937-105">**Para implementar un solucionador de conflictos personalizado para un artículo de mezcla con:**</span><span class="sxs-lookup"><span data-stu-id="9e937-105">**To implement custom conflict resolver for a merge article, using:**</span></span>  
  
     [<span data-ttu-id="9e937-106">Transact-SQL</span><span class="sxs-lookup"><span data-stu-id="9e937-106">Transact-SQL</span></span>](#TsqlProcedure)  
  
     [<span data-ttu-id="9e937-107">Solucionador basado en COM</span><span class="sxs-lookup"><span data-stu-id="9e937-107">COM-based Resolver</span></span>](#COM)  
  
##  <a name="using-transact-sql"></a><a name="TsqlProcedure"></a> <span data-ttu-id="9e937-108">Usar Transact-SQL</span><span class="sxs-lookup"><span data-stu-id="9e937-108">Using Transact-SQL</span></span>  
 <span data-ttu-id="9e937-109">Puede escribir su propio solucionador de conflictos personalizado como un procedimiento almacenado [!INCLUDE[tsql](../../includes/tsql-md.md)] en cada publicador.</span><span class="sxs-lookup"><span data-stu-id="9e937-109">You can write your own custom conflict resolver as a [!INCLUDE[tsql](../../includes/tsql-md.md)] stored procedure at each Publisher.</span></span> <span data-ttu-id="9e937-110">Durante la sincronización, se llama a este procedimiento almacenado cuando se encuentran conflictos en un artículo para el que se registró el solucionador y el Agente de mezcla pasa información sobre la fila del conflicto a los parámetros pertinentes del procedimiento.</span><span class="sxs-lookup"><span data-stu-id="9e937-110">During synchronization, this stored procedure is invoked when conflicts are encountered in an article to which the resolver was registered, and information on the conflict row is passed by the Merge Agent to the required parameters of the procedure.</span></span> <span data-ttu-id="9e937-111">Los solucionadores de conflictos personalizados basados en el procedimiento almacenado siempre se crean en el publicador.</span><span class="sxs-lookup"><span data-stu-id="9e937-111">Stored procedure-based custom conflict resolvers are always created at the Publisher.</span></span>  
  
> [!NOTE]  
>  [!INCLUDE[msCoName](../../includes/msconame-md.md)]<span data-ttu-id="9e937-112">los [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] solucionadores de procedimientos almacenados solo se invocan para controlar los conflictos basados en cambios de filas.</span><span class="sxs-lookup"><span data-stu-id="9e937-112">[!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] stored procedure resolvers are only invoked to handle row change-based conflicts.</span></span> <span data-ttu-id="9e937-113">No se pueden utilizar para solucionar otros tipos de conflictos como errores de inserción debidos a infracciones de CLAVE PRINCIPAL o a infracciones de restricción de índice único.</span><span class="sxs-lookup"><span data-stu-id="9e937-113">They cannot be used to handle other types of conflicts such as insert failures due to PRIMARY KEY violations or unique index constraint violations.</span></span>  
  
#### <a name="to-create-a-stored-procedure-based-custom-conflict-resolver"></a><span data-ttu-id="9e937-114">Para crear un solucionador de conflictos personalizado basado en un procedimiento almacenado</span><span class="sxs-lookup"><span data-stu-id="9e937-114">To create a stored procedure-based custom conflict resolver</span></span>  
  
1.  <span data-ttu-id="9e937-115">En el publicador, ya sea en la publicación o en la base de datos **msdb** , cree un nuevo procedimiento almacenado del sistema que implemente los parámetros necesarios siguientes:</span><span class="sxs-lookup"><span data-stu-id="9e937-115">At the Publisher in either the publication or **msdb** database, create a new system stored procedure that implements the following required parameters:</span></span>  
  
    |<span data-ttu-id="9e937-116">Parámetro</span><span class="sxs-lookup"><span data-stu-id="9e937-116">Parameter</span></span>|<span data-ttu-id="9e937-117">Tipo de datos</span><span class="sxs-lookup"><span data-stu-id="9e937-117">Data type</span></span>|<span data-ttu-id="9e937-118">Descripción</span><span class="sxs-lookup"><span data-stu-id="9e937-118">Description</span></span>|  
    |---------------|---------------|-----------------|  
    |**@tableowner**|`sysname`|<span data-ttu-id="9e937-119">Nombre del propietario de la tabla en la que se resuelve un conflicto.</span><span class="sxs-lookup"><span data-stu-id="9e937-119">Name of the owner of the table for which a conflict is being resolved.</span></span> <span data-ttu-id="9e937-120">Éste es el propietario de la tabla de la base de datos de publicación.</span><span class="sxs-lookup"><span data-stu-id="9e937-120">This is the owner for the table in the publication database.</span></span>|  
    |**@tablename**|`sysname`|<span data-ttu-id="9e937-121">Nombre de la tabla en la que se resuelve un conflicto.</span><span class="sxs-lookup"><span data-stu-id="9e937-121">Name of the table for which a conflict is being resolved.</span></span>|  
    |**@rowguid**|`uniqueidentifier`|<span data-ttu-id="9e937-122">Identificador único de la fila que tiene el conflicto.</span><span class="sxs-lookup"><span data-stu-id="9e937-122">Unique identifier for the row having the conflict.</span></span>|  
    |**@subscriber**|`sysname`|<span data-ttu-id="9e937-123">Nombre del servidor desde donde se propaga un cambio conflictivo.</span><span class="sxs-lookup"><span data-stu-id="9e937-123">Name of the server from where a conflicting change is being propagated.</span></span>|  
    |**@subscriber_db**|`sysname`|<span data-ttu-id="9e937-124">Nombre de la base de datos desde donde se propaga un cambio conflictivo.</span><span class="sxs-lookup"><span data-stu-id="9e937-124">Name of the database from where conflicting change is being propagated.</span></span>|  
    |<span data-ttu-id="9e937-125">**@log_conflictGENERE**</span><span class="sxs-lookup"><span data-stu-id="9e937-125">**@log_conflict OUTPUT**</span></span>|`int`|<span data-ttu-id="9e937-126">Si el proceso de mezcla debería registrar un conflicto para su posterior resolución:</span><span class="sxs-lookup"><span data-stu-id="9e937-126">Whether the merge process should log a conflict for later resolution:</span></span><br /><br /> <span data-ttu-id="9e937-127">**0** = No registre el conflicto.</span><span class="sxs-lookup"><span data-stu-id="9e937-127">**0** = Do not log the conflict.</span></span><br /><br /> <span data-ttu-id="9e937-128">**1** = El suscriptor es el perdedor del conflicto.</span><span class="sxs-lookup"><span data-stu-id="9e937-128">**1** = Subscriber is the conflict loser.</span></span><br /><br /> <span data-ttu-id="9e937-129">**2** = El publicador es el perdedor del conflicto.</span><span class="sxs-lookup"><span data-stu-id="9e937-129">**2** = Publisher is the conflict loser.</span></span>|  
    |<span data-ttu-id="9e937-130">**@conflict_messageGENERE**</span><span class="sxs-lookup"><span data-stu-id="9e937-130">**@conflict_message OUTPUT**</span></span>|`nvarchar(512)`|<span data-ttu-id="9e937-131">Mensaje que se va a proporcionar sobre la resolución si se registra el conflicto.</span><span class="sxs-lookup"><span data-stu-id="9e937-131">Message to be given about the resolution if the conflict is logged.</span></span>|  
    |**@destowner**|`sysname`|<span data-ttu-id="9e937-132">El propietario de la tabla publicada en el suscriptor.</span><span class="sxs-lookup"><span data-stu-id="9e937-132">The owner of the published table at the Subscriber.</span></span>|  
  
     <span data-ttu-id="9e937-133">Este procedimiento almacenado utiliza los valores que pasa el Agente de mezcla a estos parámetros para implementar su lógica de resolución de conflictos personalizada; debe devolver un conjunto de resultados de filas único que sea idéntico en estructura a la tabla base y contenga los valores de datos de la versión ganadora de la fila.</span><span class="sxs-lookup"><span data-stu-id="9e937-133">This stored procedure uses the values passed by the Merge Agent to these parameters to implement your custom conflict resolution logic; it must return a single row result set that is identical in structure to the base table and contains the data values for the winning version of the row.</span></span>  
  
2.  <span data-ttu-id="9e937-134">Conceda permisos EXECUTE para el procedimiento almacenado a todos los inicios de sesión utilizados por los suscriptores para conectarse al publicador.</span><span class="sxs-lookup"><span data-stu-id="9e937-134">Grant EXECUTE permissions on the stored procedure to any logins used by Subscribers to connect to the Publisher.</span></span>  
  
#### <a name="to-use-a-custom-conflict-resolver-with-a-new-table-article"></a><span data-ttu-id="9e937-135">Para utilizar un solucionador de conflictos personalizado con un nuevo artículo de tabla</span><span class="sxs-lookup"><span data-stu-id="9e937-135">To use a custom conflict resolver with a new table article</span></span>  
  
1.  <span data-ttu-id="9e937-136">Ejecute [sp_addmergearticle](/sql/relational-databases/system-stored-procedures/sp-addmergearticle-transact-sql) para definir un artículo, especificando el valor **MicrosoftSQL** **Server Stored Procedure Resolver** para el parámetro **@article_resolver** y el nombre del procedimiento almacenado que implementa la lógica del solucionador de conflictos para el parámetro **@resolver_info** .</span><span class="sxs-lookup"><span data-stu-id="9e937-136">Execute [sp_addmergearticle](/sql/relational-databases/system-stored-procedures/sp-addmergearticle-transact-sql) to define an article, specifying a value of **MicrosoftSQL** **Server Stored Procedure Resolver** for the **@article_resolver** parameter and the name of the stored procedure that implements the conflict resolver logic for the **@resolver_info** parameter.</span></span> <span data-ttu-id="9e937-137">Para más información, consulte [Define an Article](publish/define-an-article.md).</span><span class="sxs-lookup"><span data-stu-id="9e937-137">For more information, see [Define an Article](publish/define-an-article.md).</span></span>  
  
#### <a name="to-use-a-custom-conflict-resolver-with-an-existing-table-article"></a><span data-ttu-id="9e937-138">Para utilizar un solucionador de conflictos personalizado con un artículo de tabla existente</span><span class="sxs-lookup"><span data-stu-id="9e937-138">To use a custom conflict resolver with an existing table article</span></span>  
  
1.  <span data-ttu-id="9e937-139">Ejecute [sp_changemergearticle](/sql/relational-databases/system-stored-procedures/sp-changemergearticle-transact-sql), especificando **@publication** , **@article** , un valor de **article_resolver** para **@property** y un valor de **MicrosoftSQL** **Server Stored ProcedureResolver** para **@value** .</span><span class="sxs-lookup"><span data-stu-id="9e937-139">Execute [sp_changemergearticle](/sql/relational-databases/system-stored-procedures/sp-changemergearticle-transact-sql), specifying **@publication**, **@article**, a value of **article_resolver** for **@property**, and a value of **MicrosoftSQL** **Server Stored ProcedureResolver** for **@value**.</span></span>  
  
2.  <span data-ttu-id="9e937-140">Ejecute [sp_changemergearticle](/sql/relational-databases/system-stored-procedures/sp-changemergearticle-transact-sql), especificando **@publication** , **@article** , un valor de **resolver_info** para **@property** y el nombre del procedimiento almacenado que implementa la lógica del solucionador de conflictos para **@value** .</span><span class="sxs-lookup"><span data-stu-id="9e937-140">Execute [sp_changemergearticle](/sql/relational-databases/system-stored-procedures/sp-changemergearticle-transact-sql), specifying **@publication**, **@article**, a value of **resolver_info** for **@property**, and the name of the stored procedure that implements the conflict resolver logic for **@value**.</span></span>  
  
##  <a name="using-a-com-based-custom-resolver"></a><a name="COM"></a><span data-ttu-id="9e937-141">Usar un solucionador personalizado basado en COM</span><span class="sxs-lookup"><span data-stu-id="9e937-141">Using a COM-based Custom Resolver</span></span>  
 <span data-ttu-id="9e937-142">El espacio de nombres <xref:Microsoft.SqlServer.Replication.BusinessLogicSupport> implementa una interfaz que le permite escribir una lógica de negocios compleja para administrar eventos y solucionar conflictos que se producen durante el proceso de sincronización de replicación de mezcla.</span><span class="sxs-lookup"><span data-stu-id="9e937-142">The <xref:Microsoft.SqlServer.Replication.BusinessLogicSupport> namespace implements an interface that enables you to write complex business logic to handle events and resolve conflicts that occur during the merge replication synchronization process.</span></span> <span data-ttu-id="9e937-143">Para más información, consulte [Implementar un controlador de lógica de negocios para un artículo de mezcla](implement-a-business-logic-handler-for-a-merge-article.md).</span><span class="sxs-lookup"><span data-stu-id="9e937-143">For more information, see [Implement a Business Logic Handler for a Merge Article](implement-a-business-logic-handler-for-a-merge-article.md).</span></span> <span data-ttu-id="9e937-144">También puede escribir su propia lógica de negocios personalizada basada en código nativo para solucionar conflictos.</span><span class="sxs-lookup"><span data-stu-id="9e937-144">You can also write your own native code-based custom business logic to resolve conflicts.</span></span> <span data-ttu-id="9e937-145">Esta lógica está generada como componente COM y se compila en las bibliotecas de vínculo dinámico (DLL), usando productos como [!INCLUDE[msCoName](../../includes/msconame-md.md)] Visual C++.</span><span class="sxs-lookup"><span data-stu-id="9e937-145">This logic is built as a COM component and compiled into dynamic-link libraries (DLL), using products such as [!INCLUDE[msCoName](../../includes/msconame-md.md)] Visual C++.</span></span> <span data-ttu-id="9e937-146">Este solucionador de conflictos personalizado basado en COM debe implementar la interfaz **ICustomResolver** , que está diseñada específicamente para la resolución de conflictos.</span><span class="sxs-lookup"><span data-stu-id="9e937-146">Such a COM-based custom conflict resolver must implement the **ICustomResolver** interface, which is designed specifically for conflict resolution.</span></span>  
  
#### <a name="to-create-and-register-a-com-based-custom-conflict-resolver"></a><span data-ttu-id="9e937-147">Para crear y registrar un solucionador de conflictos personalizado basado en COM</span><span class="sxs-lookup"><span data-stu-id="9e937-147">To create and register a COM-based custom conflict resolver</span></span>  
  
1.  <span data-ttu-id="9e937-148">En un entorno de creación compatible con COM, agregue referencias a la biblioteca del solucionador de conflictos personalizado.</span><span class="sxs-lookup"><span data-stu-id="9e937-148">In a COM-compatible authoring environment, add references to the Custom Conflict Resolver library.</span></span>  
  
2.  <span data-ttu-id="9e937-149">Para un proyecto de Visual C++, use la directiva #import para importar esta biblioteca en su proyecto.</span><span class="sxs-lookup"><span data-stu-id="9e937-149">For a Visual C++ project, use the #import directive to import this library into your project.</span></span>  
  
3.  <span data-ttu-id="9e937-150">Cree una clase que implemente la interfaz **ICustomResolver** .</span><span class="sxs-lookup"><span data-stu-id="9e937-150">Create a class that implements the **ICustomResolver** interface.</span></span>  
  
4.  <span data-ttu-id="9e937-151">Implemente determinados métodos y propiedades.</span><span class="sxs-lookup"><span data-stu-id="9e937-151">Implement certain methods and properties.</span></span>  
  
5.  <span data-ttu-id="9e937-152">Genere el proyecto para crear el archivo de biblioteca del solucionador de conflictos personalizado.</span><span class="sxs-lookup"><span data-stu-id="9e937-152">Build the project to create the custom conflict resolver library file.</span></span>  
  
6.  <span data-ttu-id="9e937-153">Implemente la biblioteca en el directorio que contiene la aplicación ejecutable del Agente de mezcla (normalmente \Microsoft SQL Server\100\COM).</span><span class="sxs-lookup"><span data-stu-id="9e937-153">Deploy the library in the directory containing the merge agent executable (usually \Microsoft SQL Server\100\COM).</span></span>  
  
    > [!NOTE]  
    >  <span data-ttu-id="9e937-154">Se debe implementar un solucionador de conflictos personalizado en el Suscriptor para una suscripción de extracción, en el Distribuidor para una suscripción de inserción, o en el servidor web usado con sincronización web.</span><span class="sxs-lookup"><span data-stu-id="9e937-154">A custom conflict resolver must be deployed at the Subscriber for a pull subscription, at the Distributor for a push subscription, or at the Web server used with Web synchronization.</span></span>  
  
7.  <span data-ttu-id="9e937-155">Registre la biblioteca del solucionador de conflictos personalizado usando regsvr32.exe desde el directorio de implementación de la siguiente manera:</span><span class="sxs-lookup"><span data-stu-id="9e937-155">Register the custom conflict resolver library using regsvr32.exe from the deployment directory as follows:</span></span>  
  
    ```  
    regsvr32.exe mycustomresolver.dll  
    ```  
  
8.  <span data-ttu-id="9e937-156">En el Publicador, ejecute [sp_enumcustomresolvers &#40;Transact-SQL&#41;](/sql/relational-databases/system-stored-procedures/sp-enumcustomresolvers-transact-sql) para comprobar que la biblioteca no está registrada aún como solucionador de conflictos personalizado.</span><span class="sxs-lookup"><span data-stu-id="9e937-156">At the Publisher, execute [sp_enumcustomresolvers &#40;Transact-SQL&#41;](/sql/relational-databases/system-stored-procedures/sp-enumcustomresolvers-transact-sql) to verify that the library is not already registered as a custom conflict resolver.</span></span>  
  
9. <span data-ttu-id="9e937-157">Para registrar la biblioteca como solucionador de conflictos personalizado, ejecute [sp_registercustomresolver &#40;Transact-SQL&#41;](/sql/relational-databases/system-stored-procedures/sp-registercustomresolver-transact-sql) en el Distribuidor.</span><span class="sxs-lookup"><span data-stu-id="9e937-157">To register the library as a custom conflict resolver, execute [sp_registercustomresolver &#40;Transact-SQL&#41;](/sql/relational-databases/system-stored-procedures/sp-registercustomresolver-transact-sql), at the Distributor.</span></span> <span data-ttu-id="9e937-158">Especifique el nombre descriptivo del objeto COM para **@article_resolver** , el identificador de la biblioteca (CLSID) para y **@resolver_clsid** un valor de `false` para **@is_dotnet_assembly** .</span><span class="sxs-lookup"><span data-stu-id="9e937-158">Specify the friendly name of the COM object for **@article_resolver**, the library's ID (CLSID) for **@resolver_clsid**, and a value of `false` for **@is_dotnet_assembly**.</span></span>  
  
    > [!NOTE]  
    >  <span data-ttu-id="9e937-159">Cuando ya no se necesite, se puede eliminar del registro un solucionador de conflictos personalizado usando [sp_unregistercustomresolver &#40;Transact-SQL&#41;](/sql/relational-databases/system-stored-procedures/sp-unregistercustomresolver-transact-sql).</span><span class="sxs-lookup"><span data-stu-id="9e937-159">When no longer needed, a custom conflict resolver can be unregistered using [sp_unregistercustomresolver &#40;Transact-SQL&#41;](/sql/relational-databases/system-stored-procedures/sp-unregistercustomresolver-transact-sql).</span></span>  
  
10. <span data-ttu-id="9e937-160">(Opcional) En un clúster, repita los pasos 5-8 para registrar el solucionador personalizado en todos los nodos del clúster.</span><span class="sxs-lookup"><span data-stu-id="9e937-160">(Optional) On a cluster, repeat steps 5-8 to register the custom resolver on all nodes of the cluster.</span></span> <span data-ttu-id="9e937-161">Esto es necesario para asegurar que el solucionador personalizado pueda cargar correctamente la reconciliación tras una conmutación por error.</span><span class="sxs-lookup"><span data-stu-id="9e937-161">This is required to ensure that the custom resolver will be able to properly load the reconciler following a failover.</span></span>  
  
#### <a name="to-use-a-custom-conflict-resolver-with-a-new-table-article"></a><span data-ttu-id="9e937-162">Para utilizar un solucionador de conflictos personalizado con un nuevo artículo de tabla</span><span class="sxs-lookup"><span data-stu-id="9e937-162">To use a custom conflict resolver with a new table article</span></span>  
  
1.  <span data-ttu-id="9e937-163">En el Publicador, ejecute [sp_enumcustomresolvers &#40;Transact-SQL&#41;](/sql/relational-databases/system-stored-procedures/sp-enumcustomresolvers-transact-sql) y tenga en cuenta el nombre descriptivo del solucionador que desee.</span><span class="sxs-lookup"><span data-stu-id="9e937-163">At the Publisher, execute [sp_enumcustomresolvers &#40;Transact-SQL&#41;](/sql/relational-databases/system-stored-procedures/sp-enumcustomresolvers-transact-sql) and note the friendly name of the desired resolver.</span></span>  
  
2.  <span data-ttu-id="9e937-164">En la base de datos de publicación del publicador, ejecute [sp_addmergearticle &#40;Transact-SQL&#41;](/sql/relational-databases/system-stored-procedures/sp-addmergearticle-transact-sql) para definir un artículo.</span><span class="sxs-lookup"><span data-stu-id="9e937-164">At the Publisher on the publication database, execute [sp_addmergearticle &#40;Transact-SQL&#41;](/sql/relational-databases/system-stored-procedures/sp-addmergearticle-transact-sql) to define an article.</span></span> <span data-ttu-id="9e937-165">Especifique el nombre descriptivo del solucionador de artículos del paso 1 para **@article_resolver** .</span><span class="sxs-lookup"><span data-stu-id="9e937-165">Specify the friendly name of the article resolver from step 1 for **@article_resolver**.</span></span> <span data-ttu-id="9e937-166">Para más información, consulte [Define an Article](publish/define-an-article.md).</span><span class="sxs-lookup"><span data-stu-id="9e937-166">For more information, see [Define an Article](publish/define-an-article.md).</span></span>  
  
#### <a name="to-use-a-custom-conflict-resolver-with-an-existing-table-article"></a><span data-ttu-id="9e937-167">Para utilizar un solucionador de conflictos personalizado con un artículo de tabla existente</span><span class="sxs-lookup"><span data-stu-id="9e937-167">To use a custom conflict resolver with an existing table article</span></span>  
  
1.  <span data-ttu-id="9e937-168">En el Publicador, ejecute [sp_enumcustomresolvers &#40;Transact-SQL&#41;](/sql/relational-databases/system-stored-procedures/sp-enumcustomresolvers-transact-sql) y tenga en cuenta el nombre descriptivo del solucionador que desee.</span><span class="sxs-lookup"><span data-stu-id="9e937-168">At the Publisher, execute [sp_enumcustomresolvers &#40;Transact-SQL&#41;](/sql/relational-databases/system-stored-procedures/sp-enumcustomresolvers-transact-sql) and note the friendly name of the desired resolver.</span></span>  
  
2.  <span data-ttu-id="9e937-169">Ejecute [sp_changemergearticle &#40;&#41;de Transact-SQL ](/sql/relational-databases/system-stored-procedures/sp-changemergearticle-transact-sql), especificando **@publication** , **@article** , un valor de **article_resolver** para **@property** y el nombre descriptivo del solucionador de artículos del paso 1 para **@value** .</span><span class="sxs-lookup"><span data-stu-id="9e937-169">Execute [sp_changemergearticle &#40;Transact-SQL&#41;](/sql/relational-databases/system-stored-procedures/sp-changemergearticle-transact-sql), specifying **@publication**, **@article**, a value of **article_resolver** for **@property**, and the friendly name of the article resolver from step 1 for **@value**.</span></span>  
  
#### <a name="viewing-a-sample-custom-resolver"></a><span data-ttu-id="9e937-170">Ver un solucionador personalizado de ejemplo</span><span class="sxs-lookup"><span data-stu-id="9e937-170">Viewing a Sample Custom Resolver</span></span>  
  
1.  <span data-ttu-id="9e937-171">Hay un ejemplo disponible en los archivos de ejemplo de SQL Server 2000.</span><span class="sxs-lookup"><span data-stu-id="9e937-171">A sample is available in the SQL Server 2000 sample files.</span></span> <span data-ttu-id="9e937-172">Descargue el [**sql2000samples.zip**](https://github.com/Microsoft/sql-server-samples/blob/master/samples/tutorials/Miscellaneous/sql2000samples.zip).</span><span class="sxs-lookup"><span data-stu-id="9e937-172">Download the [**sql2000samples.zip**](https://github.com/Microsoft/sql-server-samples/blob/master/samples/tutorials/Miscellaneous/sql2000samples.zip).</span></span> <span data-ttu-id="9e937-173">Esto descarga 3 archivos con una cantidad de 6,9 MB.</span><span class="sxs-lookup"><span data-stu-id="9e937-173">This downloads 3 files amounting to 6.9 MB.</span></span>  
  
2.  <span data-ttu-id="9e937-174">Extraiga los archivos del archivo comprimido .cab descargado.</span><span class="sxs-lookup"><span data-stu-id="9e937-174">Extract the files from downloaded compressed .cab file.</span></span>  
  
3.  <span data-ttu-id="9e937-175">Ejecutar **setup.exe**</span><span class="sxs-lookup"><span data-stu-id="9e937-175">Run **setup.exe**</span></span>  
  
    > [!NOTE]  
    >  <span data-ttu-id="9e937-176">Al elegir las opciones de instalación, solo es necesario instalar los ejemplos de **Replicación** .</span><span class="sxs-lookup"><span data-stu-id="9e937-176">When choosing the installation options, it is only necessary to install the **Replication** samples.</span></span> <span data-ttu-id="9e937-177">(La ruta de instalación predeterminada es C:\Archivos de programa **(x86) \microsoft SQL Server \\ 2000 Samples\1033**)</span><span class="sxs-lookup"><span data-stu-id="9e937-177">(The default installation path is **C:\Program Files (x86)\Microsoft SQL Server 2000 Samples\1033\\**)</span></span>  
  
4.  <span data-ttu-id="9e937-178">Vaya a la carpeta de instalación.</span><span class="sxs-lookup"><span data-stu-id="9e937-178">Go to installation folder.</span></span> <span data-ttu-id="9e937-179">(La carpeta predeterminada es **C:\Archivos de programa (x86)\Microsoft SQL Server 2000 Samples\1033\sqlrepl\unzip_sqlreplSP3.exe**).</span><span class="sxs-lookup"><span data-stu-id="9e937-179">(The default folder is **C:\Program Files (x86)\Microsoft SQL Server 2000 Samples\1033\sqlrepl\unzip_sqlreplSP3.exe**)</span></span>  
  
5.  <span data-ttu-id="9e937-180">Ejecute el programa **unzip_sqlreplSP3.exe** .</span><span class="sxs-lookup"><span data-stu-id="9e937-180">Run the **unzip_sqlreplSP3.exe** program.</span></span>  
  
    > [!NOTE]  
    >  <span data-ttu-id="9e937-181">El solucionador com de ejemplo se instalará de forma predeterminada en la carpeta **C:\Archivos de programa (x86)\Microsoft SQL Server 2000 Samples\1033\sqlrepl\resolver\subspres** .</span><span class="sxs-lookup"><span data-stu-id="9e937-181">The sample com resolver will install (by default) to the **C:\Program Files (x86)\Microsoft SQL Server 2000 Samples\1033\sqlrepl\resolver\subspres** folder.</span></span>  
  
6.  <span data-ttu-id="9e937-182">En la carpeta **subspres** , busque todas las repeticiones de **#include sqlres.h** en todos los archivos de origen y reemplácelas con **#import "replrec.dll" no_namespace, raw_interfaces_only**.</span><span class="sxs-lookup"><span data-stu-id="9e937-182">In the **subspres** folder, find all occurrences of **#include sqlres.h** in all of the source files and replace them with **#import "replrec.dll" no_namespace, raw_interfaces_only**</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="9e937-183">Consulte también</span><span class="sxs-lookup"><span data-stu-id="9e937-183">See Also</span></span>  
 <span data-ttu-id="9e937-184">[Detección y resolución de conflictos de replicación de mezcla avanzada](merge/advanced-merge-replication-conflict-detection-and-resolution.md) </span><span class="sxs-lookup"><span data-stu-id="9e937-184">[Advanced Merge Replication Conflict Detection and Resolution](merge/advanced-merge-replication-conflict-detection-and-resolution.md) </span></span>  
 <span data-ttu-id="9e937-185">[Solucionadores personalizados basados en COM](merge/advanced-merge-replication-conflict-com-based-custom-resolvers.md) </span><span class="sxs-lookup"><span data-stu-id="9e937-185">[COM-Based Custom Resolvers](merge/advanced-merge-replication-conflict-com-based-custom-resolvers.md) </span></span>  
 [<span data-ttu-id="9e937-186">Procedimientos recomendados de seguridad de replicación</span><span class="sxs-lookup"><span data-stu-id="9e937-186">Replication Security Best Practices</span></span>](security/replication-security-best-practices.md)  
  
  
