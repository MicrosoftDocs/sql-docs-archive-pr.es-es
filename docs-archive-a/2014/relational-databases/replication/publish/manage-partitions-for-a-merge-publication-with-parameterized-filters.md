---
title: Administración de particiones para una publicación de mezcla mediante filtros con parámetros | Microsoft Docs
ms.custom: ''
ms.date: 06/13/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: replication
ms.topic: conceptual
helpviewer_keywords:
- partitions [SQL Server replication]
- merge replication partitions [SQL Server replication], SQL Server Management Studio
- parameterized filters [SQL Server replication], partition management
ms.assetid: fb5566fe-58c5-48f7-8464-814ea78e6221
author: MashaMSFT
ms.author: mathoma
ms.openlocfilehash: 983b02865c0564919259f896bf09d8bdb0cd969f
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 08/04/2020
ms.locfileid: "87662800"
---
# <a name="manage-partitions-for-a-merge-publication-with-parameterized-filters"></a><span data-ttu-id="e0856-102">Administrar particiones para una publicación de mezcla mediante filtros con parámetros</span><span class="sxs-lookup"><span data-stu-id="e0856-102">Manage Partitions for a Merge Publication with Parameterized Filters</span></span>
  <span data-ttu-id="e0856-103">En este tema se describe cómo administrar particiones para una publicación de mezcla con filtros con parámetros en [!INCLUDE[ssCurrent](../../../includes/sscurrent-md.md)] mediante [!INCLUDE[ssManStudioFull](../../../includes/ssmanstudiofull-md.md)], [!INCLUDE[tsql](../../../includes/tsql-md.md)]o Replication Management Objects (RMO).</span><span class="sxs-lookup"><span data-stu-id="e0856-103">This topic describes how to manage partitions for a merge publication with parameterized filters in [!INCLUDE[ssCurrent](../../../includes/sscurrent-md.md)] by using [!INCLUDE[ssManStudioFull](../../../includes/ssmanstudiofull-md.md)], [!INCLUDE[tsql](../../../includes/tsql-md.md)], or Replication Management Objects (RMO).</span></span> <span data-ttu-id="e0856-104">Los filtros de fila con parámetros se puede utilizar para generar particiones no superpuestas.</span><span class="sxs-lookup"><span data-stu-id="e0856-104">Parameterized row filters can be used to generate nonoverlapping partitions.</span></span> <span data-ttu-id="e0856-105">Estas particiones pueden estar restringidas para que solo una suscripción reciba una partición determinada.</span><span class="sxs-lookup"><span data-stu-id="e0856-105">These partitions can be restricted so that only one subscription receives a given partition.</span></span> <span data-ttu-id="e0856-106">En estos casos, un número grande de suscriptores producirá un número de particiones grande, las cuales a su vez requieren un número igual de instantánea con particiones.</span><span class="sxs-lookup"><span data-stu-id="e0856-106">In these cases, a large number of subscribers will result in a large number of partitions, which in turn requires an equal number of partitioned snapshots.</span></span> <span data-ttu-id="e0856-107">Para obtener más información, consulte [Filtros de fila con parámetros](../merge/parameterized-filters-parameterized-row-filters.md).</span><span class="sxs-lookup"><span data-stu-id="e0856-107">For more information, see [Parameterized Row Filters](../merge/parameterized-filters-parameterized-row-filters.md).</span></span>  
  
 <span data-ttu-id="e0856-108">**En este tema**</span><span class="sxs-lookup"><span data-stu-id="e0856-108">**In This Topic**</span></span>  
  
-   <span data-ttu-id="e0856-109">**Antes de empezar:**</span><span class="sxs-lookup"><span data-stu-id="e0856-109">**Before you begin:**</span></span>  
  
     [<span data-ttu-id="e0856-110">Recomendaciones</span><span class="sxs-lookup"><span data-stu-id="e0856-110">Recommendations</span></span>](#Recommendations)  
  
-   <span data-ttu-id="e0856-111">**Para administrar particiones para una publicación de mezcla mediante filtros con parámetros con:**</span><span class="sxs-lookup"><span data-stu-id="e0856-111">**To manage partitions for a merge publication with parameterized filters, using:**</span></span>  
  
     [<span data-ttu-id="e0856-112">SQL Server Management Studio</span><span class="sxs-lookup"><span data-stu-id="e0856-112">SQL Server Management Studio</span></span>](#SSMSProcedure)  
  
     [<span data-ttu-id="e0856-113">Transact-SQL</span><span class="sxs-lookup"><span data-stu-id="e0856-113">Transact-SQL</span></span>](#TsqlProcedure)  
  
     [<span data-ttu-id="e0856-114">Replication Management Objects (RMO)</span><span class="sxs-lookup"><span data-stu-id="e0856-114">Replication Management Objects (RMO)</span></span>](#RMOProcedure)  
  
##  <a name="before-you-begin"></a><a name="BeforeYouBegin"></a> <span data-ttu-id="e0856-115">Antes de comenzar</span><span class="sxs-lookup"><span data-stu-id="e0856-115">Before You Begin</span></span>  
  
###  <a name="recommendations"></a><a name="Recommendations"></a> <span data-ttu-id="e0856-116">Recomendaciones</span><span class="sxs-lookup"><span data-stu-id="e0856-116">Recommendations</span></span>  
  
-   <span data-ttu-id="e0856-117">Si genera un script para una topología de replicación (opción recomendada), los scripts de la publicación contienen las llamadas al procedimiento almacenado para crear particiones de datos.</span><span class="sxs-lookup"><span data-stu-id="e0856-117">If you script a replication topology, which is recommended, publication scripts contain the stored procedure calls to create data partitions.</span></span> <span data-ttu-id="e0856-118">El script proporciona una referencia para las particiones creadas y una forma de volver a crear una o más divisiones en caso necesario.</span><span class="sxs-lookup"><span data-stu-id="e0856-118">The script provides a reference for the partitions created and a way in which to re-create one or more partitions if necessary.</span></span> <span data-ttu-id="e0856-119">Para más información, consulte [Scripting Replication](../scripting-replication.md).</span><span class="sxs-lookup"><span data-stu-id="e0856-119">For more information, see [Scripting Replication](../scripting-replication.md).</span></span>  
  
-   <span data-ttu-id="e0856-120">Cuando una publicación ha parametrizado filtros que producen suscripciones con particiones no superpuestas, y si una suscripción determinada se pierde y necesita volverse a crear, debe realizar las siguientes acciones: quitar la partición a la que se suscribió, volver a crear la suscripción y, a continuación, volver a crear la partición.</span><span class="sxs-lookup"><span data-stu-id="e0856-120">When a publication has parameterized filters that yield subscriptions with nonoverlapping partitions, and if a particular subscription is lost and needs to be re-created, you must do the following: remove the partition that was subscribed to, re-create the subscription, and then re-create the partition.</span></span> <span data-ttu-id="e0856-121">Para obtener más información, consulte [Filtros de fila con parámetros](../merge/parameterized-filters-parameterized-row-filters.md).</span><span class="sxs-lookup"><span data-stu-id="e0856-121">For more information, see [Parameterized Row Filters](../merge/parameterized-filters-parameterized-row-filters.md).</span></span> <span data-ttu-id="e0856-122">La replicación genera scripts de creación para particiones del suscriptor existentes cuando se genera un script de creación de publicación.</span><span class="sxs-lookup"><span data-stu-id="e0856-122">Replication generates creation scripts for existing Subscriber partitions when a publication creation script is generated.</span></span> <span data-ttu-id="e0856-123">Para más información, consulte [Scripting Replication](../scripting-replication.md).</span><span class="sxs-lookup"><span data-stu-id="e0856-123">For more information, see [Scripting Replication](../scripting-replication.md).</span></span>  
  
##  <a name="using-sql-server-management-studio"></a><a name="SSMSProcedure"></a> <span data-ttu-id="e0856-124">Uso de SQL Server Management Studio</span><span class="sxs-lookup"><span data-stu-id="e0856-124">Using SQL Server Management Studio</span></span>  
 <span data-ttu-id="e0856-125">Administre las particiones en la página **Particiones de datos** del cuadro de diálogo **Propiedades de la publicación: \<Publication>** .</span><span class="sxs-lookup"><span data-stu-id="e0856-125">Manage partitions on the **Data Partitions** page of the **Publication Properties - \<Publication>** dialog box.</span></span> <span data-ttu-id="e0856-126">Para obtener más información sobre el acceso a este cuadro de diálogo, vea [View and Modify Publication Properties](view-and-modify-publication-properties.md).</span><span class="sxs-lookup"><span data-stu-id="e0856-126">For more information about accessing this dialog box, see [View and Modify Publication Properties](view-and-modify-publication-properties.md).</span></span> <span data-ttu-id="e0856-127">En esta página puede crear y eliminar particiones, permitir a los suscriptores iniciar la generación y distribución de instantáneas, generar instantáneas para una o más particiones, y limpiar instantáneas.</span><span class="sxs-lookup"><span data-stu-id="e0856-127">On this page you can: create and delete partitions; allow Subscribers to initiate snapshot generation and delivery; generate snapshots for one or more partitions; and clean up snapshots.</span></span>  
  
#### <a name="to-create-a-partition"></a><span data-ttu-id="e0856-128">Para crear una partición</span><span class="sxs-lookup"><span data-stu-id="e0856-128">To create a partition</span></span>  
  
1.  <span data-ttu-id="e0856-129">En la página **Particiones de datos** del cuadro de diálogo **Propiedades de la publicación: \<Publication>** , haga clic en **Agregar**.</span><span class="sxs-lookup"><span data-stu-id="e0856-129">On the **Data Partitions** page of the **Publication Properties - \<Publication>** dialog box, click **Add**.</span></span>  
  
2.  <span data-ttu-id="e0856-130">En el cuadro de diálogo **Agregar partición de datos** , escriba valores para **HOST_NAME()** y/o **SUSER_SNAME()** asociados con la partición que desea crear.</span><span class="sxs-lookup"><span data-stu-id="e0856-130">In the **Add Data Partition** dialog box, enter a value for the **HOST_NAME()** and/or **SUSER_SNAME()** value associated with the partition you want to create.</span></span>  
  
3.  <span data-ttu-id="e0856-131">También puede especificar una programación para actualizar las instantáneas:</span><span class="sxs-lookup"><span data-stu-id="e0856-131">Optionally specify a schedule for refreshing snapshots:</span></span>  
  
    1.  <span data-ttu-id="e0856-132">Seleccione **Programar el Agente de instantáneas para que esta partición se ejecute a las horas siguientes**.</span><span class="sxs-lookup"><span data-stu-id="e0856-132">Select **Schedule the Snapshot Agent for this partition to run at the following time(s)**</span></span>  
  
    2.  <span data-ttu-id="e0856-133">Acepte la programación predeterminada para actualizar instantáneas o haga clic en **Cambiar** para especificar una programación diferente.</span><span class="sxs-lookup"><span data-stu-id="e0856-133">Accept the default schedule for refreshing snapshots, or click **Change** to specify a different schedule.</span></span>  
  
4.  [!INCLUDE[clickOK](../../../includes/clickok-md.md)]  
  
#### <a name="to-delete-a-partition"></a><span data-ttu-id="e0856-134">Para eliminar una partición</span><span class="sxs-lookup"><span data-stu-id="e0856-134">To delete a partition</span></span>  
  
1.  <span data-ttu-id="e0856-135">En la página **Particiones de datos** , seleccione una partición en la cuadrícula.</span><span class="sxs-lookup"><span data-stu-id="e0856-135">On the **Data Partitions** page, select a partition in the grid.</span></span>  
  
2.  <span data-ttu-id="e0856-136">Haga clic en **Eliminar**.</span><span class="sxs-lookup"><span data-stu-id="e0856-136">Click **Delete**.</span></span>  
  
#### <a name="to-allow-subscribers-to-initiate-snapshot-generation-and-delivery"></a><span data-ttu-id="e0856-137">Para permitir a los suscriptores inicializar la generación y distribución de instantáneas</span><span class="sxs-lookup"><span data-stu-id="e0856-137">To allow Subscribers to initiate snapshot generation and delivery</span></span>  
  
1.  <span data-ttu-id="e0856-138">En la página **Particiones de datos** , seleccione **Definir automáticamente una partición y generar una instantánea si es necesario cuando un suscriptor nuevo intente sincronizarse**.</span><span class="sxs-lookup"><span data-stu-id="e0856-138">On the **Data Partitions** page, select **Automatically define a partition and generate a snapshot if needed when a new Subscriber tries to synchronize**.</span></span>  
  
2.  [!INCLUDE[clickOK](../../../includes/clickok-md.md)]  
  
#### <a name="to-generate-a-snapshot-for-a-partition"></a><span data-ttu-id="e0856-139">Para generar una instantánea para una partición</span><span class="sxs-lookup"><span data-stu-id="e0856-139">To generate a snapshot for a partition</span></span>  
  
1.  <span data-ttu-id="e0856-140">En la página **Particiones de datos** , seleccione una partición en la cuadrícula.</span><span class="sxs-lookup"><span data-stu-id="e0856-140">On the **Data Partitions** page, select a partition in the grid.</span></span>  
  
2.  <span data-ttu-id="e0856-141">Haga clic en **Generar instantáneas seleccionadas ahora**.</span><span class="sxs-lookup"><span data-stu-id="e0856-141">Click **Generate the selected snapshots now**.</span></span>  
  
#### <a name="to-clean-up-a-snapshot-for-a-partition"></a><span data-ttu-id="e0856-142">Para limpiar una instantánea de una partición</span><span class="sxs-lookup"><span data-stu-id="e0856-142">To clean up a snapshot for a partition</span></span>  
  
1.  <span data-ttu-id="e0856-143">En la página **Particiones de datos** , seleccione una partición en la cuadrícula.</span><span class="sxs-lookup"><span data-stu-id="e0856-143">On the **Data Partitions** page, select a partition in the grid.</span></span>  
  
2.  <span data-ttu-id="e0856-144">Haga clic en **Limpiar instantáneas existentes**.</span><span class="sxs-lookup"><span data-stu-id="e0856-144">Click **Clean up the existing snapshots**.</span></span>  
  
##  <a name="using-transact-sql"></a><a name="TsqlProcedure"></a> <span data-ttu-id="e0856-145">Usar Transact-SQL</span><span class="sxs-lookup"><span data-stu-id="e0856-145">Using Transact-SQL</span></span>  
 <span data-ttu-id="e0856-146">Para administrar mejor una publicación con filtros parametrizados, puede enumerar mediante programación las particiones existentes utilizando los procedimientos almacenados de replicación.</span><span class="sxs-lookup"><span data-stu-id="e0856-146">To better manage a publication with parameterized filters, you can programmatically enumerate the existing partitions using replication stored procedures.</span></span> <span data-ttu-id="e0856-147">También puede crear y eliminar particiones existentes.</span><span class="sxs-lookup"><span data-stu-id="e0856-147">You can also create and delete existing partitions.</span></span> <span data-ttu-id="e0856-148">Se puede obtener la información siguiente sobre las particiones existentes:</span><span class="sxs-lookup"><span data-stu-id="e0856-148">The following information on existing partitions can be obtained:</span></span>  
  
-   <span data-ttu-id="e0856-149">Filtrado de una partición (mediante [SUSER_SNAME &#40;Transact-SQL&#41;](/sql/t-sql/functions/suser-sname-transact-sql) o [HOST_NAME &#40;Transact-SQL&#41;](/sql/t-sql/functions/host-name-transact-sql)).</span><span class="sxs-lookup"><span data-stu-id="e0856-149">How a partition is filtered (using [SUSER_SNAME &#40;Transact-SQL&#41;](/sql/t-sql/functions/suser-sname-transact-sql) or [HOST_NAME &#40;Transact-SQL&#41;](/sql/t-sql/functions/host-name-transact-sql)).</span></span>  
  
-   <span data-ttu-id="e0856-150">El nombre del trabajo que genera una instantánea con particiones.</span><span class="sxs-lookup"><span data-stu-id="e0856-150">The name of the job that generates a partitioned snapshot.</span></span>  
  
-   <span data-ttu-id="e0856-151">La última vez que se ejecutó un trabajo de instantánea con particiones.</span><span class="sxs-lookup"><span data-stu-id="e0856-151">The last time that a partitioned snapshot job ran.</span></span>  
  
 <span data-ttu-id="e0856-152">Mientras la segunda parte de la instantánea de dos partes se puede generar a petición cuando se inicializa una nueva suscripción, los procedimientos siguientes le permiten controlar cómo se genera esta instantánea y pre-generar dicha instantánea cuando sea más conveniente.</span><span class="sxs-lookup"><span data-stu-id="e0856-152">While the second part of the two-part snapshot can be generated on-demand when a new subscription is initialized, the procedures below enable you to control how this snapshot is generated and to pre-generate this snapshot when it is most convenient.</span></span> <span data-ttu-id="e0856-153">Para más información, consulte [Instantáneas para publicaciones de combinación con filtros con parámetros](../snapshots-for-merge-publications-with-parameterized-filters.md).</span><span class="sxs-lookup"><span data-stu-id="e0856-153">For more information, see [Snapshots for Merge Publications with Parameterized Filters](../snapshots-for-merge-publications-with-parameterized-filters.md).</span></span>  
  
#### <a name="to-view-information-on-existing-partitions"></a><span data-ttu-id="e0856-154">Para ver información sobre particiones existentes</span><span class="sxs-lookup"><span data-stu-id="e0856-154">To view information on existing partitions</span></span>  
  
1.  <span data-ttu-id="e0856-155">En el publicador de la base de datos de publicación, ejecute [sp_helpmergepartition &#40;Transact-SQL&#41;](/sql/relational-databases/system-stored-procedures/sp-helpmergepartition-transact-sql).</span><span class="sxs-lookup"><span data-stu-id="e0856-155">At the Publisher on the publication database, execute [sp_helpmergepartition &#40;Transact-SQL&#41;](/sql/relational-databases/system-stored-procedures/sp-helpmergepartition-transact-sql).</span></span> <span data-ttu-id="e0856-156">Especifique el nombre de la publicación para la \*\* \@ publicación\*\*.</span><span class="sxs-lookup"><span data-stu-id="e0856-156">Specify the name of the publication for **\@publication**.</span></span> <span data-ttu-id="e0856-157">Opta Especifique \*\* \@ suser_sname\*\* o \*\* \@ host_name\*\* para devolver únicamente información basada en un criterio de filtrado único.</span><span class="sxs-lookup"><span data-stu-id="e0856-157">(Optional) Specify **\@suser_sname** or **\@host_name** to return only information based on a single filtering criterion.</span></span>  
  
#### <a name="to-define-a-new-partition-and-generate-a-new-partitioned-snapshot"></a><span data-ttu-id="e0856-158">Para definir una nueva partición y generar una nueva instantánea con particiones</span><span class="sxs-lookup"><span data-stu-id="e0856-158">To define a new partition and generate a new partitioned snapshot</span></span>  
  
1.  <span data-ttu-id="e0856-159">En el publicador de la base de datos de publicación, ejecute [sp_addmergepartition &#40;Transact-SQL&#41;](/sql/relational-databases/system-stored-procedures/sp-addmergepartition-transact-sql).</span><span class="sxs-lookup"><span data-stu-id="e0856-159">At the Publisher on the publication database, execute [sp_addmergepartition &#40;Transact-SQL&#41;](/sql/relational-databases/system-stored-procedures/sp-addmergepartition-transact-sql).</span></span> <span data-ttu-id="e0856-160">Especifique el nombre de la publicación para la \*\* \@ publicación\*\*y el valor con parámetros que define la partición para uno de los elementos siguientes:</span><span class="sxs-lookup"><span data-stu-id="e0856-160">Specify the name of the publication for **\@publication**, and the parameterized value that defines the partition for one of the following:</span></span>  
  
    -   <span data-ttu-id="e0856-161">\*\* \@ SUSER_SNAME\*\* : cuando el filtro con parámetros se define con el valor devuelto por [SUSER_SNAME &#40;&#41;de Transact-SQL ](/sql/t-sql/functions/suser-sname-transact-sql).</span><span class="sxs-lookup"><span data-stu-id="e0856-161">**\@suser_sname** - when the parameterized filter is defined by the value returned by [SUSER_SNAME &#40;Transact-SQL&#41;](/sql/t-sql/functions/suser-sname-transact-sql).</span></span>  
  
    -   <span data-ttu-id="e0856-162">\*\* \@ host_name\*\* : cuando el filtro con parámetros se define con el valor devuelto por [host_name &#40;&#41;de Transact-SQL ](/sql/t-sql/functions/host-name-transact-sql).</span><span class="sxs-lookup"><span data-stu-id="e0856-162">**\@host_name** - when the parameterized filter is defined by the value returned by [HOST_NAME &#40;Transact-SQL&#41;](/sql/t-sql/functions/host-name-transact-sql).</span></span>  
  
2.  <span data-ttu-id="e0856-163">Cree e inicialice la instantánea parametrizada para esta nueva partición.</span><span class="sxs-lookup"><span data-stu-id="e0856-163">Create and initialize the parameterized snapshot for this new partition.</span></span> <span data-ttu-id="e0856-164">Para más información, consulte [Crear una instantánea para una publicación de mezcla con filtros con parámetros](../create-a-snapshot-for-a-merge-publication-with-parameterized-filters.md).</span><span class="sxs-lookup"><span data-stu-id="e0856-164">For more information, see [Create a Snapshot for a Merge Publication with Parameterized Filters](../create-a-snapshot-for-a-merge-publication-with-parameterized-filters.md).</span></span>  
  
#### <a name="to-delete-a-partition"></a><span data-ttu-id="e0856-165">Para eliminar una partición</span><span class="sxs-lookup"><span data-stu-id="e0856-165">To delete a partition</span></span>  
  
1.  <span data-ttu-id="e0856-166">En el publicador de la base de datos de publicación, ejecute [sp_dropmergepartition &#40;Transact-SQL&#41;](/sql/relational-databases/system-stored-procedures/sp-dropmergepartition-transact-sql).</span><span class="sxs-lookup"><span data-stu-id="e0856-166">At the Publisher on the publication database, execute [sp_dropmergepartition &#40;Transact-SQL&#41;](/sql/relational-databases/system-stored-procedures/sp-dropmergepartition-transact-sql).</span></span> <span data-ttu-id="e0856-167">Especifique el nombre de la publicación para la \*\* \@ publicación\*\* y el valor con parámetros que define la partición para uno de los elementos siguientes:</span><span class="sxs-lookup"><span data-stu-id="e0856-167">Specify the name of the publication for **\@publication** and the parameterized value that defines the partition for one of the following:</span></span>  
  
    -   <span data-ttu-id="e0856-168">\*\* \@ SUSER_SNAME\*\* : cuando el filtro con parámetros se define con el valor devuelto por [SUSER_SNAME &#40;&#41;de Transact-SQL ](/sql/t-sql/functions/suser-sname-transact-sql).</span><span class="sxs-lookup"><span data-stu-id="e0856-168">**\@suser_sname** - when the parameterized filter is defined by the value returned by [SUSER_SNAME &#40;Transact-SQL&#41;](/sql/t-sql/functions/suser-sname-transact-sql).</span></span>  
  
    -   <span data-ttu-id="e0856-169">\*\* \@ host_name\*\* : cuando el filtro con parámetros se define con el valor devuelto por [host_name &#40;&#41;de Transact-SQL ](/sql/t-sql/functions/host-name-transact-sql).</span><span class="sxs-lookup"><span data-stu-id="e0856-169">**\@host_name** - when the parameterized filter is defined by the value returned by [HOST_NAME &#40;Transact-SQL&#41;](/sql/t-sql/functions/host-name-transact-sql).</span></span>  
  
     <span data-ttu-id="e0856-170">Este procedimiento quita también el trabajo de instantáneas y los archivos de instantáneas de la partición.</span><span class="sxs-lookup"><span data-stu-id="e0856-170">This also removes the snapshot job and any snapshot files for the partition.</span></span>  
  
##  <a name="using-replication-management-objects-rmo"></a><a name="RMOProcedure"></a> <span data-ttu-id="e0856-171">Uso de Replication Management Objects (RMO)</span><span class="sxs-lookup"><span data-stu-id="e0856-171">Using Replication Management Objects (RMO)</span></span>  
 <span data-ttu-id="e0856-172">Para administrar mejor una publicación con filtros parametrizados, puede crear mediante programación nuevas particiones del suscriptor, enumerar las particiones del suscriptor existentes y eliminar las particiones del suscriptor utilizando Replication Management Objects (RMO).</span><span class="sxs-lookup"><span data-stu-id="e0856-172">To better manage a publication with parameterized filters, you can programmatically create new Subscriber partitions, enumerate the existing Subscriber partitions, and delete Subscriber partitions by using Replication Management Objects (RMO).</span></span> <span data-ttu-id="e0856-173">Para obtener más información acerca de cómo particiones del suscriptor, vea [Crear una instantánea para una publicación de mezcla con filtros con parámetros](../create-a-snapshot-for-a-merge-publication-with-parameterized-filters.md).</span><span class="sxs-lookup"><span data-stu-id="e0856-173">For information about how to create Subscriber partitions, see [Create a Snapshot for a Merge Publication with Parameterized Filters](../create-a-snapshot-for-a-merge-publication-with-parameterized-filters.md).</span></span> <span data-ttu-id="e0856-174">Se puede obtener la información siguiente sobre las particiones existentes:</span><span class="sxs-lookup"><span data-stu-id="e0856-174">The following information about existing partitions can be obtained:</span></span>  
  
-   <span data-ttu-id="e0856-175">El valor y la función de filtrado en los que se basa la partición.</span><span class="sxs-lookup"><span data-stu-id="e0856-175">The value and filtering function upon which the partition is based.</span></span>  
  
-   <span data-ttu-id="e0856-176">El nombre del trabajo que genera una instantánea con parámetros para el suscriptor.</span><span class="sxs-lookup"><span data-stu-id="e0856-176">The name of the job that generates a parameterized snapshot for the Subscriber.</span></span>  
  
-   <span data-ttu-id="e0856-177">La última vez que se ejecutó un trabajo de instantánea con parámetros.</span><span class="sxs-lookup"><span data-stu-id="e0856-177">The last time that a parameterized snapshot job ran.</span></span>  
  
#### <a name="to-view-information-on-existing-partitions"></a><span data-ttu-id="e0856-178">Para ver información sobre particiones existentes</span><span class="sxs-lookup"><span data-stu-id="e0856-178">To view information on existing partitions</span></span>  
  
1.  <span data-ttu-id="e0856-179">Cree una conexión al publicador mediante la clase <xref:Microsoft.SqlServer.Management.Common.ServerConnection> .</span><span class="sxs-lookup"><span data-stu-id="e0856-179">Create a connection to the Publisher by using the <xref:Microsoft.SqlServer.Management.Common.ServerConnection> class.</span></span>  
  
2.  <span data-ttu-id="e0856-180">Cree una instancia de la clase <xref:Microsoft.SqlServer.Replication.MergePublication>.</span><span class="sxs-lookup"><span data-stu-id="e0856-180">Create an instance of the <xref:Microsoft.SqlServer.Replication.MergePublication> class.</span></span> <span data-ttu-id="e0856-181">Establezca las propiedades <xref:Microsoft.SqlServer.Replication.Publication.Name%2A> y <xref:Microsoft.SqlServer.Replication.Publication.DatabaseName%2A> para la publicación y la propiedad <xref:Microsoft.SqlServer.Replication.ReplicationObject.ConnectionContext%2A> en la <xref:Microsoft.SqlServer.Management.Common.ServerConnection> creada en el paso 1.</span><span class="sxs-lookup"><span data-stu-id="e0856-181">Set the <xref:Microsoft.SqlServer.Replication.Publication.Name%2A> and <xref:Microsoft.SqlServer.Replication.Publication.DatabaseName%2A> properties for the publication, and set the <xref:Microsoft.SqlServer.Replication.ReplicationObject.ConnectionContext%2A> property to the <xref:Microsoft.SqlServer.Management.Common.ServerConnection> created in step 1.</span></span>  
  
3.  <span data-ttu-id="e0856-182">Llame al método <xref:Microsoft.SqlServer.Replication.ReplicationObject.LoadProperties%2A> para obtener las propiedades del objeto.</span><span class="sxs-lookup"><span data-stu-id="e0856-182">Call the <xref:Microsoft.SqlServer.Replication.ReplicationObject.LoadProperties%2A> method to get the properties of the object.</span></span> <span data-ttu-id="e0856-183">Si este método devuelve `false`, significa que las propiedades de publicación del paso 2 se definieron incorrectamente, o bien que la publicación no existe.</span><span class="sxs-lookup"><span data-stu-id="e0856-183">If this method returns `false`, either the publication properties in step 2 were defined incorrectly or the publication does not exist.</span></span>  
  
4.  <span data-ttu-id="e0856-184">Llame al método <xref:Microsoft.SqlServer.Replication.MergePublication.EnumMergePartitions%2A> y pase el resultado a una matriz de objetos <xref:Microsoft.SqlServer.Replication.MergePartition> .</span><span class="sxs-lookup"><span data-stu-id="e0856-184">Call the <xref:Microsoft.SqlServer.Replication.MergePublication.EnumMergePartitions%2A> method, and pass the result to an array of <xref:Microsoft.SqlServer.Replication.MergePartition> objects.</span></span>  
  
5.  <span data-ttu-id="e0856-185">Para cada objeto <xref:Microsoft.SqlServer.Replication.MergePartition> en la matriz, obtenga cualquier propiedad de interés.</span><span class="sxs-lookup"><span data-stu-id="e0856-185">For each <xref:Microsoft.SqlServer.Replication.MergePartition> object in the array, get any properties of interest.</span></span>  
  
#### <a name="to-delete-existing-partitions"></a><span data-ttu-id="e0856-186">Para eliminar particiones existentes</span><span class="sxs-lookup"><span data-stu-id="e0856-186">To delete existing partitions</span></span>  
  
1.  <span data-ttu-id="e0856-187">Cree una conexión al publicador mediante la clase <xref:Microsoft.SqlServer.Management.Common.ServerConnection> .</span><span class="sxs-lookup"><span data-stu-id="e0856-187">Create a connection to the Publisher by using the <xref:Microsoft.SqlServer.Management.Common.ServerConnection> class.</span></span>  
  
2.  <span data-ttu-id="e0856-188">Cree una instancia de la clase <xref:Microsoft.SqlServer.Replication.MergePublication>.</span><span class="sxs-lookup"><span data-stu-id="e0856-188">Create an instance of the <xref:Microsoft.SqlServer.Replication.MergePublication> class.</span></span> <span data-ttu-id="e0856-189">Establezca las propiedades <xref:Microsoft.SqlServer.Replication.Publication.Name%2A> y <xref:Microsoft.SqlServer.Replication.Publication.DatabaseName%2A> para la publicación y la propiedad <xref:Microsoft.SqlServer.Replication.ReplicationObject.ConnectionContext%2A> en la <xref:Microsoft.SqlServer.Management.Common.ServerConnection> creada en el paso 1.</span><span class="sxs-lookup"><span data-stu-id="e0856-189">Set the <xref:Microsoft.SqlServer.Replication.Publication.Name%2A> and <xref:Microsoft.SqlServer.Replication.Publication.DatabaseName%2A> properties for the publication, and set the <xref:Microsoft.SqlServer.Replication.ReplicationObject.ConnectionContext%2A> property to the <xref:Microsoft.SqlServer.Management.Common.ServerConnection> created in step 1.</span></span>  
  
3.  <span data-ttu-id="e0856-190">Llame al método <xref:Microsoft.SqlServer.Replication.ReplicationObject.LoadProperties%2A> para obtener las propiedades del objeto.</span><span class="sxs-lookup"><span data-stu-id="e0856-190">Call the <xref:Microsoft.SqlServer.Replication.ReplicationObject.LoadProperties%2A> method to get the properties of the object.</span></span> <span data-ttu-id="e0856-191">Si este método devuelve `false`, significa que las propiedades de publicación del paso 2 se definieron incorrectamente, o bien que la publicación no existe.</span><span class="sxs-lookup"><span data-stu-id="e0856-191">If this method returns `false`, either the publication properties in step 2 were defined incorrectly or the publication does not exist.</span></span>  
  
4.  <span data-ttu-id="e0856-192">Llame al método <xref:Microsoft.SqlServer.Replication.MergePublication.EnumMergePartitions%2A> y pase el resultado a una matriz de objetos <xref:Microsoft.SqlServer.Replication.MergePartition> .</span><span class="sxs-lookup"><span data-stu-id="e0856-192">Call the <xref:Microsoft.SqlServer.Replication.MergePublication.EnumMergePartitions%2A> method, and pass the result to an array of <xref:Microsoft.SqlServer.Replication.MergePartition> objects.</span></span>  
  
5.  <span data-ttu-id="e0856-193">Para cada objeto <xref:Microsoft.SqlServer.Replication.MergePartition> en la matriz, determine si se debería eliminar la partición.</span><span class="sxs-lookup"><span data-stu-id="e0856-193">For each <xref:Microsoft.SqlServer.Replication.MergePartition> object in the array, determine whether the partition should be deleted.</span></span> <span data-ttu-id="e0856-194">Esta decisión normalmente está basada en el valor de la propiedad <xref:Microsoft.SqlServer.Replication.MergePartition.DynamicFilterLogin%2A> o la propiedad <xref:Microsoft.SqlServer.Replication.MergePartition.DynamicFilterHostName%2A> .</span><span class="sxs-lookup"><span data-stu-id="e0856-194">This decision is usually based on the value of the <xref:Microsoft.SqlServer.Replication.MergePartition.DynamicFilterLogin%2A> property or the <xref:Microsoft.SqlServer.Replication.MergePartition.DynamicFilterHostName%2A> property.</span></span>  
  
6.  <span data-ttu-id="e0856-195">Llame al método <xref:Microsoft.SqlServer.Replication.MergePublication.RemoveMergePartition%2A> en el objeto <xref:Microsoft.SqlServer.Replication.MergePublication> del paso 2.</span><span class="sxs-lookup"><span data-stu-id="e0856-195">Call the <xref:Microsoft.SqlServer.Replication.MergePublication.RemoveMergePartition%2A> method on the <xref:Microsoft.SqlServer.Replication.MergePublication> object from step 2.</span></span> <span data-ttu-id="e0856-196">Pase el objeto <xref:Microsoft.SqlServer.Replication.MergePartition> del paso 5.</span><span class="sxs-lookup"><span data-stu-id="e0856-196">Pass the <xref:Microsoft.SqlServer.Replication.MergePartition> object from step 5.</span></span>  
  
7.  <span data-ttu-id="e0856-197">Repita el paso 6 para cada partición que se elimina.</span><span class="sxs-lookup"><span data-stu-id="e0856-197">Repeat step 6 for each partition that is deleted.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="e0856-198">Consulte también</span><span class="sxs-lookup"><span data-stu-id="e0856-198">See Also</span></span>  
 <span data-ttu-id="e0856-199">[Filtros de fila con parámetros](../merge/parameterized-filters-parameterized-row-filters.md) </span><span class="sxs-lookup"><span data-stu-id="e0856-199">[Parameterized Row Filters](../merge/parameterized-filters-parameterized-row-filters.md) </span></span>  
 [<span data-ttu-id="e0856-200">Instantáneas para publicaciones de combinación con filtros con parámetros</span><span class="sxs-lookup"><span data-stu-id="e0856-200">Snapshots for Merge Publications with Parameterized Filters</span></span>](../snapshots-for-merge-publications-with-parameterized-filters.md)  
  
  
