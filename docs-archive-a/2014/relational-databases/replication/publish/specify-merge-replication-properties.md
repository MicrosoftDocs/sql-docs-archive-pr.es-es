---
title: Especificar propiedades de replicación de mezcla | Microsoft Docs
ms.custom: ''
ms.date: 11/29/2018
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: replication
ms.topic: conceptual
helpviewer_keywords:
- merge replication [SQL Server replication], about merge replication
- merge replication [SQL Server replication]
ms.assetid: ff87c368-4c00-4e48-809d-ea752839551e
author: MashaMSFT
ms.author: mathoma
ms.openlocfilehash: 3b2e66b7ed26420093166445a478bfec7f1dd21d
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 08/04/2020
ms.locfileid: "87747563"
---
# <a name="specify-merge-replication-properties"></a><span data-ttu-id="47b29-102">Especificar propiedades de replicación de mezcla</span><span class="sxs-lookup"><span data-stu-id="47b29-102">Specify Merge Replication Properties</span></span>
<span data-ttu-id="47b29-103">En este tema se explica cómo especificar varias propiedades para la replicación de mezcla.</span><span class="sxs-lookup"><span data-stu-id="47b29-103">This topic explains how to specify various properties for your merge replication.</span></span> 


## <a name="download-only"></a><span data-ttu-id="47b29-104">Solo descarga</span><span class="sxs-lookup"><span data-stu-id="47b29-104">Download-only</span></span>
  <span data-ttu-id="47b29-105">En esta sección se describe cómo especificar que un artículo de tabla de mezcla sea de solo descarga en [!INCLUDE[ssCurrent](../../../includes/sscurrent-md.md)] mediante [!INCLUDE[ssManStudioFull](../../../includes/ssmanstudiofull-md.md)] o [!INCLUDE[tsql](../../../includes/tsql-md.md)] .</span><span class="sxs-lookup"><span data-stu-id="47b29-105">This section describes how to specify that a merge table article is download-only in [!INCLUDE[ssCurrent](../../../includes/sscurrent-md.md)] by using [!INCLUDE[ssManStudioFull](../../../includes/ssmanstudiofull-md.md)] or [!INCLUDE[tsql](../../../includes/tsql-md.md)].</span></span> <span data-ttu-id="47b29-106">Los artículos de solo descarga están diseñados para aplicaciones con datos que no se actualizan en suscriptores.</span><span class="sxs-lookup"><span data-stu-id="47b29-106">Download-only articles are designed for applications with data that is not updated at Subscribers.</span></span> <span data-ttu-id="47b29-107">Para más información, vea [Optimizar el rendimiento de la replicación de mezcla con artículos de solo descarga](../merge/optimize-merge-replication-performance-with-download-only-articles.md).</span><span class="sxs-lookup"><span data-stu-id="47b29-107">For more information, see [Optimize Merge Replication Performance with Download-Only Articles](../merge/optimize-merge-replication-performance-with-download-only-articles.md).</span></span>  
 
  
###  <a name="limitations-and-restrictions"></a><span data-ttu-id="47b29-108">Limitaciones y restricciones</span><span class="sxs-lookup"><span data-stu-id="47b29-108">Limitations and Restrictions</span></span>  
  
-   <span data-ttu-id="47b29-109">Si se especifica que un artículo es de solo descarga después de haber inicializado las suscripciones, deben reinicializarse todas las suscripciones de cliente que reciben el artículo.</span><span class="sxs-lookup"><span data-stu-id="47b29-109">If you specify that an article is download-only after subscriptions have been initialized, all client subscriptions that received the article must be reinitialized.</span></span> <span data-ttu-id="47b29-110">No se tienen que reinicializar las suscripciones de servidor.</span><span class="sxs-lookup"><span data-stu-id="47b29-110">Server subscriptions do not have to be reinitialized.</span></span> <span data-ttu-id="47b29-111">Para obtener más información sobre los efectos de los cambios de propiedad, vea [Change Publication and Article Properties](change-publication-and-article-properties.md) (Cambiar las propiedades de la publicación y de los artículos).</span><span class="sxs-lookup"><span data-stu-id="47b29-111">For more information on the effects of property changes, see [Change Publication and Article Properties](change-publication-and-article-properties.md).</span></span>  
  
### <a name="using-sql-server-management-studio"></a><span data-ttu-id="47b29-112">Uso de SQL Server Management Studio</span><span class="sxs-lookup"><span data-stu-id="47b29-112">Using SQL Server Management Studio</span></span>  
 <span data-ttu-id="47b29-113">Especifique que un artículo es de solo descarga en la página **artículos** del Asistente para nueva publicación o en la pestaña **propiedades** del cuadro de diálogo \*\*propiedades del artículo: \<Article> \*\* .</span><span class="sxs-lookup"><span data-stu-id="47b29-113">Specify that an article is download-only on the **Articles** page of the New Publication Wizard or the **Properties** tab of the **Article Properties - \<Article>** dialog box.</span></span> <span data-ttu-id="47b29-114">Este cuadro de diálogo está disponible en el Asistente para nueva publicación y en el cuadro de diálogo **Propiedades de la publicación: \<Publication>** .</span><span class="sxs-lookup"><span data-stu-id="47b29-114">This dialog box is available in the New Publication Wizard and the **Publication Properties - \<Publication>** dialog box.</span></span> <span data-ttu-id="47b29-115">Para obtener más información sobre el uso del asistente y el acceso al cuadro de diálogo, consulte [Create a Publication](../publish/create-a-publication.md) (Crear una publicación) y [Ver y modificar propiedades de publicación](../publish/view-and-modify-publication-properties.md).</span><span class="sxs-lookup"><span data-stu-id="47b29-115">For more information about using the wizard and accessing the dialog box, see [Create a Publication](../publish/create-a-publication.md) and [View and Modify Publication Properties](../publish/view-and-modify-publication-properties.md).</span></span>  
  
#### <a name="to-specify-that-an-article-is-download-only-on-the-articles-page"></a><span data-ttu-id="47b29-116">Para especificar que un artículo es de solo descarga en la página Artículos</span><span class="sxs-lookup"><span data-stu-id="47b29-116">To specify that an article is download-only on the Articles page</span></span>  
  
-   <span data-ttu-id="47b29-117">En la página **Artículos** del Asistente para nueva publicación, seleccione una tabla y, a continuación, active la casilla **La tabla resaltada es de solo descarga**.</span><span class="sxs-lookup"><span data-stu-id="47b29-117">On the **Articles** page of the New Publication Wizard select a table, and then select the checkbox **Highlighted table is download-only**.</span></span> 
  
#### <a name="to-specify-that-an-article-is-download-only-on-the-properties-tab-of-the-article-properties---article-dialog-box"></a><span data-ttu-id="47b29-118">Para especificar que un artículo es de solo descarga en la pestaña propiedades del cuadro de diálogo Propiedades del artículo: \<Article></span><span class="sxs-lookup"><span data-stu-id="47b29-118">To specify that an article is download-only on the Properties tab of the Article Properties - \<Article> dialog box</span></span>  
  
1.  <span data-ttu-id="47b29-119">En la página **Artículos** del Asistente para nueva publicación o en el cuadro de diálogo **Propiedades de la publicación: \<Publication>** , seleccione una tabla y haga clic en **Propiedades del artículo**.</span><span class="sxs-lookup"><span data-stu-id="47b29-119">On the **Articles** page of the New Publication Wizard or the **Publication Properties - \<Publication>** dialog box, select a table, and then click **Article Properties**.</span></span>    
2.  <span data-ttu-id="47b29-120">Haga clic en **Establecer propiedades del artículo de Tabla resaltado** o **Establecer propiedades de todos los artículos de la tabla**.</span><span class="sxs-lookup"><span data-stu-id="47b29-120">Click **Set Properties of Highlighted Table Article** or **Set Properties of All Table Articles**.</span></span>    
3.  <span data-ttu-id="47b29-121">En la sección **Objeto de destino** de la pestaña **Propiedades** del cuadro de diálogo **Propiedades del artículo: \<Article>** , especifique uno de los siguientes valores para **Dirección de la sincronización**:</span><span class="sxs-lookup"><span data-stu-id="47b29-121">In the **Destination Object** section of the **Properties** tab of the **Article Properties - \<Article>** dialog box, specify one of the following values for **Synchronization direction**:</span></span>    
    -   <span data-ttu-id="47b29-122">**Solo descargar en suscriptor y prohibir cambios del suscriptor**</span><span class="sxs-lookup"><span data-stu-id="47b29-122">**Download to Subscriber, prohibit Subscriber changes**</span></span>    
    -   <span data-ttu-id="47b29-123">**Solo descargar en suscriptor y permitir cambios del suscriptor**</span><span class="sxs-lookup"><span data-stu-id="47b29-123">**Download to Subscriber, allow Subscriber changes**</span></span>  
  
4.  <span data-ttu-id="47b29-124">Si está en el cuadro de diálogo **Propiedades de la publicación: \<Publication>** , haga clic en **Aceptar** para guardar y cerrar el cuadro de diálogo.</span><span class="sxs-lookup"><span data-stu-id="47b29-124">If you are in the **Publication Properties - \<Publication>** dialog box, click **OK** to save and close the dialog box.</span></span>    

###  <a name="using-transact-sql"></a><span data-ttu-id="47b29-125">Usar Transact-SQL</span><span class="sxs-lookup"><span data-stu-id="47b29-125">Using Transact-SQL</span></span>  
  
#### <a name="to-specify-that-a-new-merge-table-article-is-download-only"></a><span data-ttu-id="47b29-126">Para especificar que un nuevo artículo de tabla de mezcla es de solo descarga</span><span class="sxs-lookup"><span data-stu-id="47b29-126">To specify that a new merge table article is download-only</span></span>    
1.  <span data-ttu-id="47b29-127">Ejecute [sp_addmergearticle](/sql/relational-databases/system-stored-procedures/sp-addmergearticle-transact-sql), especificando un valor de **1** o **2** para el parámetro \*\* \@ subscriber_upload_options\*\*.</span><span class="sxs-lookup"><span data-stu-id="47b29-127">Execute [sp_addmergearticle](/sql/relational-databases/system-stored-procedures/sp-addmergearticle-transact-sql), specifying a value of **1** or **2** for the parameter **\@subscriber_upload_options**.</span></span> <span data-ttu-id="47b29-128">Los números corresponden al comportamiento siguiente:</span><span class="sxs-lookup"><span data-stu-id="47b29-128">The numbers correspond to the following behavior:</span></span>  
  
    -   <span data-ttu-id="47b29-129">**0** - Ninguna restricción (valor predeterminado).</span><span class="sxs-lookup"><span data-stu-id="47b29-129">**0** - No restrictions (default).</span></span> <span data-ttu-id="47b29-130">Los cambios realizados en el suscriptor se cargan en el publicador.</span><span class="sxs-lookup"><span data-stu-id="47b29-130">Changes made at the Subscriber are uploaded to the Publisher.</span></span>    
    -   <span data-ttu-id="47b29-131">**1** - Se permiten cambios en el suscriptor, pero no se cargan en el publicador.</span><span class="sxs-lookup"><span data-stu-id="47b29-131">**1** - Changes are allowed at the Subscriber, but they are not uploaded to the Publisher.</span></span>    
    -   <span data-ttu-id="47b29-132">**2** - No se permite realizar cambios en el suscriptor.</span><span class="sxs-lookup"><span data-stu-id="47b29-132">**2** - Changes are not allowed at the Subscriber.</span></span>  
  
        > [!NOTE]  
        >  <span data-ttu-id="47b29-133">Si la tabla de origen de un artículo ya está publicada en otra publicación, el valor de \*\* \@ subscriber_upload_options\*\* debe ser el mismo para ambos artículos.</span><span class="sxs-lookup"><span data-stu-id="47b29-133">If the source table for an article is already published in another publication, the value of **\@subscriber_upload_options** must be the same for both articles.</span></span>  
  
#### <a name="to-modify-an-existing-merge-table-article-to-be-download-only"></a><span data-ttu-id="47b29-134">Para cambiar un artículo de tabla de mezcla existente a solo descarga</span><span class="sxs-lookup"><span data-stu-id="47b29-134">To modify an existing merge table article to be download-only</span></span>  
  
1.  <span data-ttu-id="47b29-135">Para determinar si un artículo es de solo descarga, ejecute [sp_helpmergearticle](/sql/relational-databases/system-stored-procedures/sp-helpmergearticle-transact-sql).</span><span class="sxs-lookup"><span data-stu-id="47b29-135">To determine if an article is download-only, execute [sp_helpmergearticle](/sql/relational-databases/system-stored-procedures/sp-helpmergearticle-transact-sql).</span></span> <span data-ttu-id="47b29-136">Tenga en cuenta el valor de **upload_options** para el artículo en el conjunto de resultados.</span><span class="sxs-lookup"><span data-stu-id="47b29-136">Note the value of **upload_options** for the article in the result set.</span></span>    
2.  <span data-ttu-id="47b29-137">Si el valor devuelto en el paso 1 es **0**, ejecute [sp_changemergearticle](/sql/relational-databases/system-stored-procedures/sp-changemergearticle-transact-sql), especificando un valor de **subscriber_upload_options** para la \*\* \@ propiedad**, un valor de **1** para \*\* \@ force_invalidate_snapshot** y \*\* \@ force_reinit_subscription**, y un valor de **1** o **2** para \*\* \@ valor**, que corresponde al comportamiento siguiente:</span><span class="sxs-lookup"><span data-stu-id="47b29-137">If the value returned in step 1 is **0**, execute [sp_changemergearticle](/sql/relational-databases/system-stored-procedures/sp-changemergearticle-transact-sql), specifying a value of **subscriber_upload_options** for **\@property**, a value of **1** for **\@force_invalidate_snapshot** and **\@force_reinit_subscription**, and a value of **1** or **2** for **\@value**, which corresponds to the following behavior:</span></span>  
  
    -   <span data-ttu-id="47b29-138">**1** - Se permiten cambios en el suscriptor, pero no se cargan en el publicador.</span><span class="sxs-lookup"><span data-stu-id="47b29-138">**1** - Changes are allowed at the Subscriber, but they are not uploaded to the Publisher.</span></span>    
    -   <span data-ttu-id="47b29-139">**2** - No se permite realizar cambios en el suscriptor.</span><span class="sxs-lookup"><span data-stu-id="47b29-139">**2** - Changes are not allowed at the Subscriber.</span></span>  
  
        > [!NOTE]  
        >  <span data-ttu-id="47b29-140">Si la tabla de origen de un artículo ya está publicada en otra publicación, el comportamiento de solo descarga debe ser el mismo para ambos artículos.</span><span class="sxs-lookup"><span data-stu-id="47b29-140">If the source table for an article is already published in another publication, the download-only behavior must be the same for both articles.</span></span>  
 
## <a name=""></a><span data-ttu-id="47b29-141"><a name="interactive-conflict-resolution">Resolución interactiva de conflictos</a></span><span class="sxs-lookup"><span data-stu-id="47b29-141"><a name="interactive-conflict-resolution">Interactive conflict resolution</a></span></span>
[!INCLUDE[msCoName](../../../includes/msconame-md.md)]<span data-ttu-id="47b29-142">[!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)]la replicación proporciona un solucionador interactivo, que permite resolver conflictos manualmente durante la sincronización a petición en [!INCLUDE[msCoName](../../../includes/msconame-md.md)] Administrador de sincronización de Windows.</span><span class="sxs-lookup"><span data-stu-id="47b29-142">[!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] replication provides an Interactive Resolver, which allows you to resolve conflicts manually during on-demand synchronization in [!INCLUDE[msCoName](../../../includes/msconame-md.md)] Windows Synchronization Manager.</span></span> <span data-ttu-id="47b29-143">Una vez habilitada la resolución interactiva, resuelva los conflictos interactivamente durante la sincronización, mediante el Solucionador interactivo.</span><span class="sxs-lookup"><span data-stu-id="47b29-143">After interactive resolution is enabled, resolve conflicts interactively during synchronization, using the Interactive Resolver.</span></span> <span data-ttu-id="47b29-144">El Solucionador interactivo está disponible a través del Administrador de sincronización de [!INCLUDE[msCoName](../../../includes/msconame-md.md)] Windows.</span><span class="sxs-lookup"><span data-stu-id="47b29-144">The Interactive Resolver is available through the [!INCLUDE[msCoName](../../../includes/msconame-md.md)] Windows Synchronization Manager.</span></span> <span data-ttu-id="47b29-145">Para más información, vea [Sincronizar una suscripción mediante el Administrador de sincronización de Windows &#40;Administrador de sincronización de Windows&#41;](../synchronize-a-subscription-using-windows-synchronization-manager.md).</span><span class="sxs-lookup"><span data-stu-id="47b29-145">For more information, see [Synchronize a Subscription Using Windows Synchronization Manager &#40;Windows Synchronization Manager&#41;](../synchronize-a-subscription-using-windows-synchronization-manager.md).</span></span>  
  
    
###  <a name="recommendations"></a><a name="Recommendations"></a> <span data-ttu-id="47b29-146">Recomendaciones</span><span class="sxs-lookup"><span data-stu-id="47b29-146">Recommendations</span></span>  
  
-   <span data-ttu-id="47b29-147">Si se realiza una sincronización fuera del Administrador de sincronización de Windows (como una sincronización programada o una sincronización a petición en SQL Server Management Studio o el Monitor de replicación), los conflictos se resuelven automáticamente sin la intervención del usuario, utilizando la resolución especificada para el artículo.</span><span class="sxs-lookup"><span data-stu-id="47b29-147">If a synchronization is performed outside of Windows Synchronization Manager (as a scheduled synchronization or an on demand synchronization in SQL Server Management Studio or Replication Monitor), conflicts are resolved automatically without user intervention, using the default conflict resolution specified for the article.</span></span> <span data-ttu-id="47b29-148">Para obtener más información, consulte [Interactive Conflict Resolution](../merge/advanced-merge-replication-conflict-interactive-resolution.md).</span><span class="sxs-lookup"><span data-stu-id="47b29-148">For more information, see [Interactive Conflict Resolution](../merge/advanced-merge-replication-conflict-interactive-resolution.md).</span></span>  
  
###  <a name="using-sql-server-management-studio"></a><span data-ttu-id="47b29-149">Uso de SQL Server Management Studio</span><span class="sxs-lookup"><span data-stu-id="47b29-149">Using SQL Server Management Studio</span></span>  
  
#### <a name="enable-interactive-conflict-resolution-for-an-article"></a><span data-ttu-id="47b29-150">Habilitación de la resolución interactiva de conflictos para un artículo</span><span class="sxs-lookup"><span data-stu-id="47b29-150">Enable interactive conflict resolution for an article</span></span>  
  
1.  <span data-ttu-id="47b29-151">En la página **Artículos** del Asistente para nueva publicación o en el cuadro de diálogo **Propiedades de la publicación: \<Publication>** , seleccione una tabla.</span><span class="sxs-lookup"><span data-stu-id="47b29-151">On the **Articles** page of the New Publication Wizard or the **Publication Properties - \<Publication>** dialog box, select a table.</span></span> <span data-ttu-id="47b29-152">Para obtener más información sobre el uso del asistente y el acceso al cuadro de diálogo, consulte [Create a Publication](create-a-publication.md) (Crear una publicación) y [Ver y modificar propiedades de publicación](view-and-modify-publication-properties.md).</span><span class="sxs-lookup"><span data-stu-id="47b29-152">For more information about using the wizard and accessing the dialog box, see [Create a Publication](create-a-publication.md) and [View and Modify Publication Properties](view-and-modify-publication-properties.md).</span></span>    
2.  <span data-ttu-id="47b29-153">Haga clic en **Propiedades del artículo**y, a continuación, haga clic en **Establecer propiedades del artículo de tabla resaltado** o en **Establecer propiedades de todos los artículos de la tabla**.</span><span class="sxs-lookup"><span data-stu-id="47b29-153">Click **Article Properties**, and then click **Set Properties of Highlighted Table Article** or **Set Properties of All Table Articles**.</span></span>    
3.  <span data-ttu-id="47b29-154">En las páginas **Propiedades del artículo: \<Article>** o **Propiedades del artículo: \<ArticleType>** , haga clic en la pestaña **Resolución**.</span><span class="sxs-lookup"><span data-stu-id="47b29-154">On the **Article Properties - \<Article>** or **Article Properties - \<ArticleType>** page, click the **Resolver** tab.</span></span>    
4.  <span data-ttu-id="47b29-155">Seleccione **Permitir que el suscriptor resuelva los conflictos de modo interactivo durante la sincronización a petición**.</span><span class="sxs-lookup"><span data-stu-id="47b29-155">Select **Allow Subscriber to resolve conflicts interactively during on-demand synchronization**.</span></span>    
5.  [!INCLUDE[clickOK](../../../includes/clickok-md.md)]    
6.  <span data-ttu-id="47b29-156">Si está en el cuadro de diálogo **Propiedades de la publicación: \<Publication>** , haga clic en **Aceptar** para guardar y cerrar el cuadro de diálogo.</span><span class="sxs-lookup"><span data-stu-id="47b29-156">If you are in the **Publication Properties - \<Publication>** dialog box, click **OK** to save and close the dialog box.</span></span>  
  
#### <a name="to-specify-that-a-subscription-should-use-interactive-conflict-resolution"></a><span data-ttu-id="47b29-157">Para especificar que una suscripción debe utilizar la resolución interactiva de conflictos</span><span class="sxs-lookup"><span data-stu-id="47b29-157">To specify that a subscription should use interactive conflict resolution</span></span>  
  
1.  <span data-ttu-id="47b29-158">En el cuadro de diálogo **Propiedades de suscripción: \<Subscriber>: \<SubscriptionDatabase>** , especifique un valor de **True** para la opción **Solucionar conflictos de manera interactiva**.</span><span class="sxs-lookup"><span data-stu-id="47b29-158">In the **Subscription Properties - \<Subscriber>: \<SubscriptionDatabase>** dialog box, specify a value of **True** for the **Resolve conflicts interactively** option.</span></span> <span data-ttu-id="47b29-159">Para obtener más información acerca de cómo obtener acceso a este cuadro de diálogo, vea [View and Modify Push Subscription Properties](../view-and-modify-push-subscription-properties.md) y [View and Modify Pull Subscription Properties](../view-and-modify-pull-subscription-properties.md).</span><span class="sxs-lookup"><span data-stu-id="47b29-159">For more information about accessing this dialog box, see [View and Modify Push Subscription Properties](../view-and-modify-push-subscription-properties.md) and [View and Modify Pull Subscription Properties](../view-and-modify-pull-subscription-properties.md).</span></span> 
2.  [!INCLUDE[clickOK](../../../includes/clickok-md.md)]  
  
### <a name="using-transact-sql"></a><span data-ttu-id="47b29-160">Usar Transact-SQL</span><span class="sxs-lookup"><span data-stu-id="47b29-160">Using Transact-SQL</span></span>  
 <span data-ttu-id="47b29-161">Puede especificar mediante programación que el suscriptor utilizará esta interfaz gráfica para solucionar conflictos de artículos cuando se cree una suscripción de extracción a una publicación de combinación.</span><span class="sxs-lookup"><span data-stu-id="47b29-161">You can programmatically specify that a Subscriber will use this graphical interface to resolve article conflicts when a pull subscription to a merge publication is created.</span></span> <span data-ttu-id="47b29-162">Solo se mostrarán en el Solucionador interactivo los conflictos de artículos que admitan esta opción.</span><span class="sxs-lookup"><span data-stu-id="47b29-162">Only conflicts in articles that support this option will be displayed in the Interactive Resolver.</span></span>  
  
#### <a name="create-a-merge-pull-subscription-that-uses-the-interactive-resolver"></a><span data-ttu-id="47b29-163">Creación de una suscripción de extracción de mezcla que use el Solucionador interactivo</span><span class="sxs-lookup"><span data-stu-id="47b29-163">Create a merge pull subscription that uses the Interactive Resolver</span></span>  
  
1.  <span data-ttu-id="47b29-164">En la base de datos de publicación del publicador, ejecute [sp_helpmergearticle](/sql/relational-databases/system-stored-procedures/sp-helpmergepublication-transact-sql), especificando la \*\* \@ publicación\*\*.</span><span class="sxs-lookup"><span data-stu-id="47b29-164">At the Publisher on the publication database, execute [sp_helpmergearticle](/sql/relational-databases/system-stored-procedures/sp-helpmergepublication-transact-sql), specifying **\@publication**.</span></span> <span data-ttu-id="47b29-165">Tenga en cuenta el valor de **allow_interactive_resolver** para cada artículo del conjunto de resultados para el que se utilizará el Solucionador interactivo.</span><span class="sxs-lookup"><span data-stu-id="47b29-165">Note the value of **allow_interactive_resolver** for each article in the result set for which the Interactive Resolver will be used.</span></span>    
    -   <span data-ttu-id="47b29-166">Si este valor es **1**, se utilizará el Solucionador interactivo.</span><span class="sxs-lookup"><span data-stu-id="47b29-166">If this value is **1**, the Interactive Resolver will be used.</span></span>    
    -   <span data-ttu-id="47b29-167">Si este valor es **0**, debe habilitar primero el Solucionador interactivo para cada artículo.</span><span class="sxs-lookup"><span data-stu-id="47b29-167">If this value is **0**, you must first enable the Interactive Resolver for each article.</span></span> <span data-ttu-id="47b29-168">Para ello, ejecute [sp_changemergearticle](/sql/relational-databases/system-stored-procedures/sp-changemergearticle-transact-sql), especificando \*\* \@ Publication**, \*\* \@ article**, un valor de **allow_interactive_resolver** para la \*\* \@ propiedad**y un valor de **true** para \*\* \@ Value**.</span><span class="sxs-lookup"><span data-stu-id="47b29-168">To do this, execute [sp_changemergearticle](/sql/relational-databases/system-stored-procedures/sp-changemergearticle-transact-sql), specifying **\@publication**, **\@article**, a value of **allow_interactive_resolver** for **\@property**, and a value of **true** for **\@value**.</span></span>    
2.  <span data-ttu-id="47b29-169">En la base de datos de suscripciones del suscriptor, ejecute [sp_addmergepullsubscription](/sql/relational-databases/system-stored-procedures/sp-addmergepullsubscription-transact-sql).</span><span class="sxs-lookup"><span data-stu-id="47b29-169">At the Subscriber on the subscription database, execute [sp_addmergepullsubscription](/sql/relational-databases/system-stored-procedures/sp-addmergepullsubscription-transact-sql).</span></span> <span data-ttu-id="47b29-170">Para obtener más información, consulte [Create a Pull Subscription](../create-a-pull-subscription.md).</span><span class="sxs-lookup"><span data-stu-id="47b29-170">For more information, see [Create a Pull Subscription](../create-a-pull-subscription.md).</span></span>    
3.  <span data-ttu-id="47b29-171">En la base de datos de suscripciones del suscriptor, ejecute [sp_addmergesubscription_agent](/sql/relational-databases/system-stored-procedures/sp-addmergepullsubscription-agent-transact-sql)y especifique los siguientes parámetros:</span><span class="sxs-lookup"><span data-stu-id="47b29-171">At the Subscriber on the subscription database, execute [sp_addmergepullsubscription_agent](/sql/relational-databases/system-stored-procedures/sp-addmergepullsubscription-agent-transact-sql), specifying the following parameters:</span></span>  
  
    -   <span data-ttu-id="47b29-172">\*\* \@ publicador**, \*\* \@ publisher_db** (la base de datos publicada) y \*\* \@ publicación\*\*.</span><span class="sxs-lookup"><span data-stu-id="47b29-172">**\@publisher**, **\@publisher_db** (the published database), and **\@publication**.</span></span>    
    -   <span data-ttu-id="47b29-173">Un valor de **true** para \*\* \@ enabled_for_syncmgr\*\*.</span><span class="sxs-lookup"><span data-stu-id="47b29-173">A value of **true** for **\@enabled_for_syncmgr**.</span></span>    
    -   <span data-ttu-id="47b29-174">Un valor de **true** para \*\* \@ use_interactive_resolver\*\*.</span><span class="sxs-lookup"><span data-stu-id="47b29-174">A value of **true** for **\@use_interactive_resolver**.</span></span>    
    -   <span data-ttu-id="47b29-175">La información de la cuenta de seguridad que necesita el Agente de mezcla.</span><span class="sxs-lookup"><span data-stu-id="47b29-175">The security account information required by the Merge Agent.</span></span> <span data-ttu-id="47b29-176">Para obtener más información, consulte [Create a Pull Subscription](../create-a-pull-subscription.md).</span><span class="sxs-lookup"><span data-stu-id="47b29-176">For more information, see [Create a Pull Subscription](../create-a-pull-subscription.md).</span></span>    
4.  <span data-ttu-id="47b29-177">En la base de datos de publicación del publicador, ejecute [sp_addmergesubscription](/sql/relational-databases/system-stored-procedures/sp-addmergesubscription-transact-sql).</span><span class="sxs-lookup"><span data-stu-id="47b29-177">At the Publisher on the publication database, execute [sp_addmergesubscription](/sql/relational-databases/system-stored-procedures/sp-addmergesubscription-transact-sql).</span></span>  
  
#### <a name="define-an-article-that-supports-the-interactive-resolver"></a><span data-ttu-id="47b29-178">Definición de un artículo que admita el Solucionador interactivo</span><span class="sxs-lookup"><span data-stu-id="47b29-178">Define an article that supports the Interactive Resolver</span></span>  
  
<span data-ttu-id="47b29-179">En la base de datos de publicación del publicador, ejecute [sp_addmergearticle](/sql/relational-databases/system-stored-procedures/sp-addmergearticle-transact-sql).</span><span class="sxs-lookup"><span data-stu-id="47b29-179">At the Publisher on the publication database, execute [sp_addmergearticle](/sql/relational-databases/system-stored-procedures/sp-addmergearticle-transact-sql).</span></span> <span data-ttu-id="47b29-180">Especifique el nombre de la publicación a la que pertenece el artículo para la \*\* \@ publicación**, un nombre para el \*\* \@ artículo, el objeto de base**de datos que se publica para \*\* \@ source_object**y el valor **true** para \*\* \@ allow_interactive_resolver**.</span><span class="sxs-lookup"><span data-stu-id="47b29-180">Specify the name of the publication to which the article belongs for **\@publication**, a name for the article for **\@article**, the database object being published for **\@source_object**, and a value of **true** for **\@allow_interactive_resolver**.</span></span> <span data-ttu-id="47b29-181">Para más información, consulte [Define an Article](define-an-article.md).</span><span class="sxs-lookup"><span data-stu-id="47b29-181">For more information, see [Define an Article](define-an-article.md).</span></span>  

## <a name="specify-the-conflict-tracking-and-resolution-level"></a><span data-ttu-id="47b29-182">Especificar el seguimiento de conflictos y el nivel de resolución</span><span class="sxs-lookup"><span data-stu-id="47b29-182">Specify the Conflict Tracking and Resolution Level</span></span> 
<span data-ttu-id="47b29-183">Cuando se sincroniza una suscripción a una publicación de combinación, la replicación comprueba los conflictos producidos por los cambios a los mismos datos realizados en el Publicador y el Suscriptor.</span><span class="sxs-lookup"><span data-stu-id="47b29-183">When a subscription to a merge publication is synchronized, replication checks for conflicts caused by changes to the same data made at both the Publisher and the Subscriber.</span></span> <span data-ttu-id="47b29-184">Puede especificar si los conflictos se detectan en el nivel de fila, donde cualquier cambio a la fila se considera un conflicto, o en el nivel de columna, donde solo se consideran un conflicto los cambios a la misma fila y columna.</span><span class="sxs-lookup"><span data-stu-id="47b29-184">You can specify whether conflicts are detected at the row-level, where any change to the row is considered a conflict, or column-level, where only changes to the same row and column are considered a conflict.</span></span> <span data-ttu-id="47b29-185">La resolución de conflictos para los artículos se realiza en el nivel de fila.</span><span class="sxs-lookup"><span data-stu-id="47b29-185">Conflict resolution for articles is performed at the row-level.</span></span> <span data-ttu-id="47b29-186">Para obtener más información sobre la detección y resolución de conflictos cuando se usan registros lógicos, vea [Detecting and Resolving Conflicts in Logical Records](../merge/advanced-merge-replication-conflict-resolving-in-logical-record.md).</span><span class="sxs-lookup"><span data-stu-id="47b29-186">For more information about conflict detection and resolution when logical records are used, see [Detecting and Resolving Conflicts in Logical Records](../merge/advanced-merge-replication-conflict-resolving-in-logical-record.md).</span></span>  
  

  
###  <a name="limitations-and-restrictions"></a><a name="Restrictions"></a> <span data-ttu-id="47b29-187">Limitaciones y restricciones</span><span class="sxs-lookup"><span data-stu-id="47b29-187">Limitations and Restrictions</span></span>  
  
-   <span data-ttu-id="47b29-188">Si modifica el nivel de seguimiento después de que se hayan inicializado las suscripciones, se deben reinicializar dichas suscripciones.</span><span class="sxs-lookup"><span data-stu-id="47b29-188">If you modify the tracking level after subscriptions have been initialized, those subscriptions must be reinitialized.</span></span> <span data-ttu-id="47b29-189">Para obtener más información sobre los efectos de los cambios de propiedad, vea [Change Publication and Article Properties](../publish/change-publication-and-article-properties.md) (Cambiar las propiedades de la publicación y de los artículos).</span><span class="sxs-lookup"><span data-stu-id="47b29-189">For more information about the effects of property changes, see [Change Publication and Article Properties](../publish/change-publication-and-article-properties.md).</span></span>    
-   <span data-ttu-id="47b29-190">Con el seguimiento por columna y por fila, la resolución de conflictos se realiza siempre en el nivel de fila: la fila ganadora sobrescribe la fila perdedora.</span><span class="sxs-lookup"><span data-stu-id="47b29-190">With row- and column-level tracking, conflict resolution is always performed at the row-level: the winning row overwrites the losing row.</span></span> <span data-ttu-id="47b29-191">La replicación de mezcla también le permite especificar que se realice un seguimiento de los conflictos y se resuelvan en el nivel de registro lógico, pero dichas opciones no están disponibles en [!INCLUDE[ssManStudioFull](../../../includes/ssmanstudiofull-md.md)].</span><span class="sxs-lookup"><span data-stu-id="47b29-191">Merge replication also allows you to specify that conflicts be tracked and resolved at the logical record level, but these options are not available from [!INCLUDE[ssManStudioFull](../../../includes/ssmanstudiofull-md.md)].</span></span> <span data-ttu-id="47b29-192">Para obtener información acerca de cómo establecer estas opciones con procedimientos almacenados de replicación, vea [Definir una relación de registros lógicos entre artículos de tabla de mezcla](../publish/define-a-logical-record-relationship-between-merge-table-articles.md).</span><span class="sxs-lookup"><span data-stu-id="47b29-192">For information about setting these options from replication stored procedures, see [Define a Logical Record Relationship Between Merge Table Articles](../publish/define-a-logical-record-relationship-between-merge-table-articles.md).</span></span>  
  
###  <a name="using-sql-server-management-studio"></a><a name="SSMSProcedure"></a> <span data-ttu-id="47b29-193">Uso de SQL Server Management Studio</span><span class="sxs-lookup"><span data-stu-id="47b29-193">Using SQL Server Management Studio</span></span>  
 <span data-ttu-id="47b29-194">Especifique el seguimiento de nivel de columna o fila para los artículos de combinación en la pestaña **Propiedades** del cuadro de diálogo **Propiedades del artículo**, disponible en el Asistente para nueva publicación y el cuadro de diálogo **Propiedades de la publicación: \<Publication>** .</span><span class="sxs-lookup"><span data-stu-id="47b29-194">Specify row- or column-level tracking for merge articles on the **Properties** tab of the **Article Properties** dialog box, which is available in the New Publication Wizard and the **Publication Properties - \<Publication>** dialog box.</span></span> <span data-ttu-id="47b29-195">Para obtener más información sobre el uso del asistente y el acceso al cuadro de diálogo, consulte [Create a Publication](create-a-publication.md) (Crear una publicación) y [Ver y modificar propiedades de publicación](../publish/view-and-modify-publication-properties.md).</span><span class="sxs-lookup"><span data-stu-id="47b29-195">For more information about using the wizard and accessing the dialog box, see [Create a Publication](create-a-publication.md) and [View and Modify Publication Properties](../publish/view-and-modify-publication-properties.md).</span></span>  
  
#### <a name="specify-row--or-column-level-tracking"></a><span data-ttu-id="47b29-196">Especificación del seguimiento por fila o columna</span><span class="sxs-lookup"><span data-stu-id="47b29-196">Specify row- or column-level tracking</span></span>  
  
1.  <span data-ttu-id="47b29-197">En la página **Artículos** del Asistente para nueva publicación o en el cuadro de diálogo **Propiedades de la publicación: \<Publication>** , seleccione una tabla.</span><span class="sxs-lookup"><span data-stu-id="47b29-197">On the **Articles** page of the New Publication Wizard or the **Publication Properties - \<Publication>** dialog box, select a table.</span></span>    
2.  <span data-ttu-id="47b29-198">Haga clic en **Propiedades del artículo**y, a continuación, haga clic en **Establecer propiedades del artículo de tabla resaltado** o en **Establecer propiedades de todos los artículos de la tabla**.</span><span class="sxs-lookup"><span data-stu-id="47b29-198">Click **Article Properties**, and then click **Set Properties of Highlighted Table Article** or **Set Properties of All Table Articles**.</span></span>   
3.  <span data-ttu-id="47b29-199">En la pestaña **Propiedades** del cuadro de diálogo **Propiedades del artículo \<Article>** , seleccione uno de los valores siguientes para la propiedad **Nivel de seguimiento**: **Seguimiento por filas** o **Seguimiento por columna**.</span><span class="sxs-lookup"><span data-stu-id="47b29-199">On the **Properties** tab of the **Article Properties \<Article>** dialog box, select one of the following values for the **Tracking level** property: **Row-level tracking** or **Column-level tracking**.</span></span>    
4.  <span data-ttu-id="47b29-200">Si está en el cuadro de diálogo **Propiedades de la publicación: \<Publication>** , haga clic en **Aceptar** para guardar y cerrar el cuadro de diálogo.</span><span class="sxs-lookup"><span data-stu-id="47b29-200">If you are in the **Publication Properties - \<Publication>** dialog box, click **OK** to save and close the dialog box.</span></span>  
  
###  <a name="using-transact-sql"></a><span data-ttu-id="47b29-201">Usar Transact-SQL</span><span class="sxs-lookup"><span data-stu-id="47b29-201">Using Transact-SQL</span></span>  
  
#### <a name="specify-conflict-tracking-options-for-a-new-merge-article"></a><span data-ttu-id="47b29-202">Especificar las opciones de seguimiento de conflictos para un nuevo artículo de mezcla</span><span class="sxs-lookup"><span data-stu-id="47b29-202">Specify conflict tracking options for a new merge article</span></span>  
  
1.  <span data-ttu-id="47b29-203">En la base de datos de publicación del publicador, ejecute [sp_addmergearticle](/sql/relational-databases/system-stored-procedures/sp-addmergearticle-transact-sql) y especifique uno de los siguientes valores para \*\* \@ column_tracking\*\*:</span><span class="sxs-lookup"><span data-stu-id="47b29-203">At the Publisher on the publication database, execute [sp_addmergearticle](/sql/relational-databases/system-stored-procedures/sp-addmergearticle-transact-sql) and specify one of the following values for **\@column_tracking**:</span></span>  
  
    -   <span data-ttu-id="47b29-204">**true** : Use el seguimiento del nivel de columna para el artículo.</span><span class="sxs-lookup"><span data-stu-id="47b29-204">**true** - Use column-level tracking for the article.</span></span>    
    -   <span data-ttu-id="47b29-205">**falso** : Use el seguimiento de nivel de fila, que es el valor predeterminado.</span><span class="sxs-lookup"><span data-stu-id="47b29-205">**false** - Use row-level tracking, which is the default.</span></span>  
  
#### <a name="change-conflict-tracking-options-for-a-merge-article"></a><span data-ttu-id="47b29-206">Cambio de las opciones de seguimiento de conflictos para un artículo de mezcla</span><span class="sxs-lookup"><span data-stu-id="47b29-206">Change conflict tracking options for a merge article</span></span>  
  
1.  <span data-ttu-id="47b29-207">Para determinar las opciones de seguimiento de conflictos para un artículo de mezcla, ejecute [sp_helpmergearticle](/sql/relational-databases/system-stored-procedures/sp-helpmergearticle-transact-sql).</span><span class="sxs-lookup"><span data-stu-id="47b29-207">To determine the conflict tracking options for a merge article, execute [sp_helpmergearticle](/sql/relational-databases/system-stored-procedures/sp-helpmergearticle-transact-sql).</span></span> <span data-ttu-id="47b29-208">Tenga en cuenta el valor de la opción **column_tracking** en el conjunto de resultados para el artículo.</span><span class="sxs-lookup"><span data-stu-id="47b29-208">Note the value of the **column_tracking** option in the result set for the article.</span></span> <span data-ttu-id="47b29-209">Un valor de **1** indica que se está usando el seguimiento del nivel de columna y un valor de **0** indica que se está usando el seguimiento de nivel de fila.</span><span class="sxs-lookup"><span data-stu-id="47b29-209">A value of **1** means that column-level tracking is being used, and a value of **0** means that row-level tracking is being used.</span></span>    
2.  <span data-ttu-id="47b29-210">En la base de datos de publicación del publicador, ejecute [sp_changemergearticle](/sql/relational-databases/system-stored-procedures/sp-changemergearticle-transact-sql).</span><span class="sxs-lookup"><span data-stu-id="47b29-210">At the Publisher on the publication database, execute [sp_changemergearticle](/sql/relational-databases/system-stored-procedures/sp-changemergearticle-transact-sql).</span></span> <span data-ttu-id="47b29-211">Especifique un valor de **column_tracking** para la \*\* \@ propiedad\*\* y uno de los siguientes valores para \*\* \@ Value\*\*:</span><span class="sxs-lookup"><span data-stu-id="47b29-211">Specify a value of **column_tracking** for **\@property** and one of the following values for **\@value**:</span></span>
    -   <span data-ttu-id="47b29-212">**true** : Use el seguimiento del nivel de columna para el artículo.</span><span class="sxs-lookup"><span data-stu-id="47b29-212">**true** - Use column-level tracking for the article.</span></span>
    -   <span data-ttu-id="47b29-213">**falso** : Use el seguimiento de nivel de fila, que es el valor predeterminado.</span><span class="sxs-lookup"><span data-stu-id="47b29-213">**false** - Use row-level tracking, which is the default.</span></span>  
  
     <span data-ttu-id="47b29-214">Especifique un valor de **1** para \*\* \@ force_invalidate_snapshot\*\* y \*\* \@ force_reinit_subscription\*\*.</span><span class="sxs-lookup"><span data-stu-id="47b29-214">Specify a value of **1** for both **\@force_invalidate_snapshot** and **\@force_reinit_subscription**.</span></span>  

## <a name="tracking-deletes"></a><span data-ttu-id="47b29-215">Seguimiento de eliminaciones</span><span class="sxs-lookup"><span data-stu-id="47b29-215">Tracking deletes</span></span>

> [!NOTE]  
>  [!INCLUDE[ssNoteDepFutureAvoid](../../../includes/ssnotedepfutureavoid-md.md)]  
  
 <span data-ttu-id="47b29-216">De forma predeterminada, la replicación de mezcla sincroniza los comandos DELETE entre el Publicador y Suscriptor.</span><span class="sxs-lookup"><span data-stu-id="47b29-216">By default, merge replication synchronizes DELETE commands between the Publisher and Subscriber.</span></span> <span data-ttu-id="47b29-217">La replicación de mezcla le permite conservar filas en la base de datos de suscripciones incluso cuando se han eliminado de la publicación, y viceversa.</span><span class="sxs-lookup"><span data-stu-id="47b29-217">Merge replication enables you to retain rows in the subscription database even when they have been deleted from the publication, and vice versa.</span></span> <span data-ttu-id="47b29-218">Puede especificar mediante programación que se omitan los comandos DELETE al crear un nuevo artículo o puede habilitar esta funcionalidad en un momento posterior usando los procedimientos almacenados de replicación.</span><span class="sxs-lookup"><span data-stu-id="47b29-218">You can programmatically specify that DELETE commands be ignored when creating a new article or you can enable this functionality at a later time using replication stored procedures.</span></span>  
  
> [!IMPORTANT]  
>  <span data-ttu-id="47b29-219">Al habilitar esta funcionalidad se producirá la no convergencia, lo que significa que los datos presentes en el Suscriptor no reflejarán con precisión los datos en el Publicador.</span><span class="sxs-lookup"><span data-stu-id="47b29-219">Enabling this functionality will result in non-convergence, which means that data present at the Subscriber will not accurately reflect data at the Publisher.</span></span> <span data-ttu-id="47b29-220">Debe implementar su propio mecanismo para quitar manualmente las filas eliminadas.</span><span class="sxs-lookup"><span data-stu-id="47b29-220">You must implement your own mechanism for manually removing deleted rows.</span></span>  
  
### <a name="specify-that-deletes-be-ignored-for-a-new-merge-article"></a><span data-ttu-id="47b29-221">Especificación de la omisión de las eliminaciones para un artículo de mezcla nuevo</span><span class="sxs-lookup"><span data-stu-id="47b29-221">Specify that deletes be ignored for a new merge article</span></span>  
  
1.  <span data-ttu-id="47b29-222">En la base de datos de publicación del publicador, ejecute [sp_addmergearticle &#40;Transact-SQL&#41;](/sql/relational-databases/system-stored-procedures/sp-addmergearticle-transact-sql).</span><span class="sxs-lookup"><span data-stu-id="47b29-222">At the Publisher on the publication database, execute [sp_addmergearticle &#40;Transact-SQL&#41;](/sql/relational-databases/system-stored-procedures/sp-addmergearticle-transact-sql).</span></span> <span data-ttu-id="47b29-223">Especifique un valor de `false` para \*\* \@ delete_tracking\*\*.</span><span class="sxs-lookup"><span data-stu-id="47b29-223">Specify a value of `false` for **\@delete_tracking**.</span></span> <span data-ttu-id="47b29-224">Para más información, consulte [Define an Article](../publish/define-an-article.md).</span><span class="sxs-lookup"><span data-stu-id="47b29-224">For more information, see [Define an Article](../publish/define-an-article.md).</span></span>  
  
    > [!NOTE]  
    >  <span data-ttu-id="47b29-225">Si la tabla de origen de un artículo ya está publicada en otra publicación, el valor de **delete_tracking** debe ser el mismo en los dos artículos.</span><span class="sxs-lookup"><span data-stu-id="47b29-225">If the source table for an article is already published in another publication, the value of **delete_tracking** must be the same for both articles.</span></span>  
  
### <a name="specify-that-deletes-be-ignored-for-an-existing-merge-article"></a><span data-ttu-id="47b29-226">Especificación de la omisión de las eliminaciones para un artículo de mezcla existente</span><span class="sxs-lookup"><span data-stu-id="47b29-226">Specify that deletes be ignored for an existing merge article</span></span>  
  
1.  <span data-ttu-id="47b29-227">Para determinar si la compensación de errores está habilitada para un artículo, ejecute [sp_helpmergearticle &#40;Transact-SQL&#41;](/sql/relational-databases/system-stored-procedures/sp-helpmergearticle-transact-sql) y observe el valor de **delete_tracking** en el conjunto de resultados.</span><span class="sxs-lookup"><span data-stu-id="47b29-227">To determine if error compensation is enabled for an article, execute [sp_helpmergearticle &#40;Transact-SQL&#41;](/sql/relational-databases/system-stored-procedures/sp-helpmergearticle-transact-sql) and note the value of **delete_tracking** in the result set.</span></span> <span data-ttu-id="47b29-228">Si este valor es **0**, ya se están omitiendo las eliminaciones.</span><span class="sxs-lookup"><span data-stu-id="47b29-228">If this value is **0**, deletes are already being ignored.</span></span>    
2.  <span data-ttu-id="47b29-229">Si el valor del paso 1 es **1**, ejecute [sp_changemergearticle &#40;Transact-SQL&#41;](/sql/relational-databases/system-stored-procedures/sp-changemergearticle-transact-sql) en la base de datos de publicación del publicador.</span><span class="sxs-lookup"><span data-stu-id="47b29-229">If the value from step 1 is **1**, execute [sp_changemergearticle &#40;Transact-SQL&#41;](/sql/relational-databases/system-stored-procedures/sp-changemergearticle-transact-sql) at the Publisher on the publication database.</span></span> <span data-ttu-id="47b29-230">Especifique un valor de **delete_tracking** para la \*\* \@ propiedad**y un valor de `false` para \*\* \@ valor**.</span><span class="sxs-lookup"><span data-stu-id="47b29-230">Specify a value of **delete_tracking** for **\@property**, and a value of `false` for **\@value**.</span></span>  
  
    > [!NOTE]  
    >  <span data-ttu-id="47b29-231">Si la tabla de origen de un artículo ya está publicada en otra publicación, el valor de **delete_tracking** debe ser el mismo en los dos artículos.</span><span class="sxs-lookup"><span data-stu-id="47b29-231">If the source table for an article is already published in another publication, the value of **delete_tracking** must be the same for both articles.</span></span>  
  
## <a name="processing-order"></a><span data-ttu-id="47b29-232">Orden de procesamiento</span><span class="sxs-lookup"><span data-stu-id="47b29-232">Processing Order</span></span>
  <span data-ttu-id="47b29-233">La replicación de mezcla le permite especificar el orden en el que el Agente de mezcla procesa los artículos durante el proceso de sincronización.</span><span class="sxs-lookup"><span data-stu-id="47b29-233">Merge replication enables you to specify the order in which articles are processed by the Merge Agent during the synchronization process.</span></span> <span data-ttu-id="47b29-234">Al crear cada artículo, puede asignarle un orden mediante programación utilizando los procedimientos almacenados de replicación.</span><span class="sxs-lookup"><span data-stu-id="47b29-234">You can assign an order to each article programmatically when creating an article using replication stored procedures.</span></span> <span data-ttu-id="47b29-235">Los artículos se procesan en orden desde el valor menor al mayor.</span><span class="sxs-lookup"><span data-stu-id="47b29-235">Articles are processed in order from lowest to highest value.</span></span> <span data-ttu-id="47b29-236">Si existen dos artículos que tienen el mismo valor, se procesan al mismo tiempo.</span><span class="sxs-lookup"><span data-stu-id="47b29-236">If two articles have the same value, they are processed concurrently.</span></span> <span data-ttu-id="47b29-237">Para más información, vea [Specify merge replication properties](../publish/specify-merge-replication-properties.md) (Especificación de propiedades de replicación de mezcla).</span><span class="sxs-lookup"><span data-stu-id="47b29-237">For more information, see [Specify Merge Replication properties](../publish/specify-merge-replication-properties.md).</span></span>  

  <span data-ttu-id="47b29-238">A partir de [!INCLUDE[msCoName](../../../includes/msconame-md.md)] [!INCLUDE[ssVersion2005](../../../includes/ssversion2005-md.md)] , es posible invalidar el orden predeterminado del procesamiento de artículos para las publicaciones de combinación.</span><span class="sxs-lookup"><span data-stu-id="47b29-238">Beginning with [!INCLUDE[msCoName](../../../includes/msconame-md.md)] [!INCLUDE[ssVersion2005](../../../includes/ssversion2005-md.md)], it is possible to override the default order of article processing for merge publications.</span></span> <span data-ttu-id="47b29-239">Esto resulta útil, por ejemplo, si define la integridad referencial a través de desencadenadores que se deben activar en un orden determinado.</span><span class="sxs-lookup"><span data-stu-id="47b29-239">This is useful, for example, if you define referential integrity through triggers and those triggers must fire in a certain order.</span></span> 

### <a name="how-processing-order-is-determined"></a><span data-ttu-id="47b29-240">Cómo se determina el orden de procesamiento</span><span class="sxs-lookup"><span data-stu-id="47b29-240">How Processing Order is Determined</span></span>  
 <span data-ttu-id="47b29-241">De manera predeterminada, durante la sincronización de mezcla, los artículos se procesan en el orden requerido por las dependencias entre objetos, incluidas las restricciones de integridad referencial declarativa (DRI) definidas en las tablas base.</span><span class="sxs-lookup"><span data-stu-id="47b29-241">During merge synchronization, articles are, by default, processed in the order required by the dependencies between objects, including the declarative referential integrity (DRI) constraints defined on the base tables.</span></span> <span data-ttu-id="47b29-242">El procesamiento implica enumerar los cambios de una tabla y aplicar esos cambios a continuación.</span><span class="sxs-lookup"><span data-stu-id="47b29-242">Processing involves enumerating the changes to a table and then applying those changes.</span></span> <span data-ttu-id="47b29-243">Si no hay DRI presente pero hay filtros de combinación o registros lógicos entre los artículos de la tabla, los artículos se procesan en el orden que requieran los filtros y los registros lógicos.</span><span class="sxs-lookup"><span data-stu-id="47b29-243">If no DRI is present but join filters or logical records exist between table articles, the articles are processed in the order required by the filters and logical records.</span></span> <span data-ttu-id="47b29-244">Los artículos que no estén relacionados con ningún otro artículo mediante DRI, filtros de combinación, registros lógicos u otras dependencias, se procesan según el alias del artículo de la tabla de sistema [sysmergearticles &#40;Transact-SQL&#41;](/sql/relational-databases/system-tables/sysmergearticles-transact-sql).</span><span class="sxs-lookup"><span data-stu-id="47b29-244">Articles not related to any other article through DRI, join filters, logical records, or other dependencies are processed according to the article nickname in the [sysmergearticles &#40;Transact-SQL&#41;](/sql/relational-databases/system-tables/sysmergearticles-transact-sql) system table.</span></span>  
  
 <span data-ttu-id="47b29-245">Imagine una publicación que incluye las tablas **SalesOrderHeader** y **SalesOrderDetail** con una columna de clave principal **SalesOrderID** en la tabla **SalesOrderHeader** y una columna de clave externa correspondiente **SalesOrderID** en la tabla **SalesOrderDetail** .</span><span class="sxs-lookup"><span data-stu-id="47b29-245">Consider a publication that includes the tables **SalesOrderHeader** and **SalesOrderDetail** with a primary key column **SalesOrderID** in the **SalesOrderHeader** table and a corresponding foreign key column **SalesOrderID** in the **SalesOrderDetail** table.</span></span> <span data-ttu-id="47b29-246">Durante la sincronización, la replicación de mezcla impide infracciones de clave externa insertando cualquier fila nueva en **SalesOrderHeader** antes de insertar filas asociadas en **SalesOrderDetail**.</span><span class="sxs-lookup"><span data-stu-id="47b29-246">During synchronization, merge replication prevents foreign key violations by inserting any new rows in **SalesOrderHeader** before inserting associated rows in **SalesOrderDetail**.</span></span> <span data-ttu-id="47b29-247">De forma similar, las filas se eliminan de **SalesOrderDetail** antes de que la fila asociada se elimine de **SalesOrderHeader**.</span><span class="sxs-lookup"><span data-stu-id="47b29-247">Similarly, rows are deleted from **SalesOrderDetail** before the associated row is deleted from **SalesOrderHeader**.</span></span>  
  
 <span data-ttu-id="47b29-248">Sin embargo, en algunas aplicaciones, la integridad referencial se ve reforzada mediante desencadenadores de base de datos, o en el nivel de aplicación, y no mediante DRI.</span><span class="sxs-lookup"><span data-stu-id="47b29-248">However, in some applications referential integrity is enforced through database triggers, or at the application level, rather than through DRI.</span></span> <span data-ttu-id="47b29-249">Si tomamos la publicación descrita más arriba, en vez de DRI, la tabla **SalesOrderDetail** podría tener un desencadenador de inserción que asegure que la fila asociada en la tabla **SalesOrderHeader** exista antes de permitir una inserción.</span><span class="sxs-lookup"><span data-stu-id="47b29-249">Given the publication described above, instead of DRI, the **SalesOrderDetail** table could have an insert trigger that ensures the associated row in the **SalesOrderHeader** table exists before allowing an insert.</span></span> <span data-ttu-id="47b29-250">**SalesOrderHeader** podría tener un desencadenador de eliminación que asegure que no haya filas asociadas en **SalesOrderDetail** antes de permitir una eliminación.</span><span class="sxs-lookup"><span data-stu-id="47b29-250">**SalesOrderHeader** could have a delete trigger that ensures there are no associated rows in **SalesOrderDetail** before allowing a delete.</span></span> <span data-ttu-id="47b29-251">La replicación de mezcla no tiene en cuenta los desencadenadores cuando determina el orden de procesamiento de artículos porque no puede determinar los resultados del desencadenador hasta que se haya activado.</span><span class="sxs-lookup"><span data-stu-id="47b29-251">Merge replication does not take into account triggers when determining processing order of articles because it cannot determine what the result of the trigger will be until it has fired.</span></span> <span data-ttu-id="47b29-252">De forma similar, la replicación no puede tener en cuenta las restricciones definidas en el nivel de aplicación.</span><span class="sxs-lookup"><span data-stu-id="47b29-252">Similarly, replication cannot take into account constraints defined at the application level.</span></span>  
  
 <span data-ttu-id="47b29-253">Cuando la integridad referencial se mantiene a través de los desencadenadores o en el nivel de aplicación, debe especificar el orden en el que se deben procesar los artículos.</span><span class="sxs-lookup"><span data-stu-id="47b29-253">When referential integrity is maintained through triggers or at the application level, you should specify the order in which the articles should be processed.</span></span> <span data-ttu-id="47b29-254">En el ejemplo con desencadenadores, debería especificar que la tabla **SalesOrderHeader** se debe procesar antes que **SalesOrderDetail**, puesto que el orden de los artículos se basa en el orden de inserción.</span><span class="sxs-lookup"><span data-stu-id="47b29-254">In the example with triggers, you would specify that the **SalesOrderHeader** table should be processed before **SalesOrderDetail**, because article ordering is based on insert order.</span></span> <span data-ttu-id="47b29-255">La replicación de mezcla invertirá automáticamente el orden de las eliminaciones.</span><span class="sxs-lookup"><span data-stu-id="47b29-255">Merge replication will automatically reverse the order for deletes.</span></span> <span data-ttu-id="47b29-256">La replicación de mezcla no producirá ningún error sin el orden de los artículos, porque el Agente de mezcla sigue procesando artículos si se produce una infracción de restricción. Lo que hace es reintentar las operaciones que hayan dado error cuando los otros artículos se hayan terminado de procesar.</span><span class="sxs-lookup"><span data-stu-id="47b29-256">Merge replication will not fail without article ordering, because the Merge Agent continues to process articles if a constraint violation occurs; it then retries any operations that failed after other articles have been processed.</span></span> <span data-ttu-id="47b29-257">Especificar el orden de los artículos únicamente impide los reintentos y los procesos adicionales asociados con ellos.</span><span class="sxs-lookup"><span data-stu-id="47b29-257">Specifying article order simply avoids retries and the additional processing associated with them.</span></span> <span data-ttu-id="47b29-258">Si especifica un orden incorrecto (por ejemplo, uno que dé como resultado el procesamiento de los registros de detalle antes que el de los registros de encabezado), la replicación de mezcla volverá a realizar el proceso hasta que lo consiga.</span><span class="sxs-lookup"><span data-stu-id="47b29-258">If you specify an incorrect order (for example, one that results in detail records being processed before header records), merge replication will retry processing until it succeeds.</span></span>  

### <a name="new-article"></a><span data-ttu-id="47b29-259">Nuevo artículo</span><span class="sxs-lookup"><span data-stu-id="47b29-259">New Article</span></span>
  
1.  <span data-ttu-id="47b29-260">En la base de datos de publicación del publicador, ejecute [sp_addmergearticle &#40;Transact-SQL&#41;](/sql/relational-databases/system-stored-procedures/sp-addmergearticle-transact-sql).</span><span class="sxs-lookup"><span data-stu-id="47b29-260">At the Publisher on the publication database, execute [sp_addmergearticle &#40;Transact-SQL&#41;](/sql/relational-databases/system-stored-procedures/sp-addmergearticle-transact-sql).</span></span> <span data-ttu-id="47b29-261">Especifique un valor entero que represente el orden de procesamiento del artículo para \*\* \@ processing_order\*\*.</span><span class="sxs-lookup"><span data-stu-id="47b29-261">Specify an integer value that represents the processing order for the article for **\@processing_order**.</span></span> <span data-ttu-id="47b29-262">Para más información, consulte [Define an Article](define-an-article.md).</span><span class="sxs-lookup"><span data-stu-id="47b29-262">For more information, see [Define an Article](define-an-article.md).</span></span>  
  
    > [!NOTE]  
    >  <span data-ttu-id="47b29-263">Al crear artículos ordenados, debería dejar huecos entre los valores de orden de los artículos.</span><span class="sxs-lookup"><span data-stu-id="47b29-263">When creating ordered articles, you should leave gaps between the article order values.</span></span> <span data-ttu-id="47b29-264">Esto le permitirá establecer nuevos valores en el futuro con mayor facilidad.</span><span class="sxs-lookup"><span data-stu-id="47b29-264">This makes it easier to set new values in the future.</span></span> <span data-ttu-id="47b29-265">Por ejemplo, si tiene tres artículos para los que necesita especificar un orden de procesamiento fijo, establezca el valor de \*\* \@ processing_order\*\* en 10, 20 y 30 en lugar de 1, 2 y 3, respectivamente.</span><span class="sxs-lookup"><span data-stu-id="47b29-265">For example, if you have three articles for which you need to specify a fixed processing order, set the value of **\@processing_order** to 10, 20, and 30 rather than 1, 2, and 3, respectively.</span></span>  
  
### <a name="existing-article"></a><span data-ttu-id="47b29-266">Artículo existente</span><span class="sxs-lookup"><span data-stu-id="47b29-266">Existing article</span></span>
  
1.  <span data-ttu-id="47b29-267">Para determinar orden de procesamiento de un artículo, ejecute [sp_helpmergearticle &#40;Transact-SQL&#41;](/sql/relational-databases/system-stored-procedures/sp-helpmergearticle-transact-sql) y tenga en cuenta el valor de **processing_order** en el conjunto de resultados.</span><span class="sxs-lookup"><span data-stu-id="47b29-267">To determine processing order of an article, execute [sp_helpmergearticle &#40;Transact-SQL&#41;](/sql/relational-databases/system-stored-procedures/sp-helpmergearticle-transact-sql) and note the value of **processing_order** in the result set.</span></span>  
  
2.  <span data-ttu-id="47b29-268">En el publicador de la base de datos de publicación, ejecute [sp_changemergearticle &#40;Transact-SQL&#41;](/sql/relational-databases/system-stored-procedures/sp-changemergearticle-transact-sql).</span><span class="sxs-lookup"><span data-stu-id="47b29-268">At the Publisher on the publication database, execute [sp_changemergearticle &#40;Transact-SQL&#41;](/sql/relational-databases/system-stored-procedures/sp-changemergearticle-transact-sql).</span></span> <span data-ttu-id="47b29-269">Especifique un valor de **processing_order** para la \*\* \@ propiedad\*\* y un valor entero que represente el orden de procesamiento para el \*\* \@ valor\*\*.</span><span class="sxs-lookup"><span data-stu-id="47b29-269">Specify a value of **processing_order** for **\@property** and an integer value that represents the processing order for **\@value**.</span></span>  



## <a name="see-also"></a><span data-ttu-id="47b29-270">Consulte también</span><span class="sxs-lookup"><span data-stu-id="47b29-270">See Also</span></span>  
 [<span data-ttu-id="47b29-271">Optimizar el rendimiento de la replicación de mezcla con seguimiento condicional de eliminaciones</span><span class="sxs-lookup"><span data-stu-id="47b29-271">Optimize Merge Replication Performance with Conditional Delete Tracking</span></span>](../merge/optimize-merge-replication-performance-with-conditional-delete-tracking.md)  
 <span data-ttu-id="47b29-272">[Detección y resolución de conflictos en registros lógicos](../merge/advanced-merge-replication-conflict-resolving-in-logical-record.md) </span><span class="sxs-lookup"><span data-stu-id="47b29-272">[Detecting and Resolving Conflicts in Logical Records](../merge/advanced-merge-replication-conflict-resolving-in-logical-record.md) </span></span>  
 <span data-ttu-id="47b29-273">[Define a Logical Record Relationship Between Merge Table Articles](define-a-logical-record-relationship-between-merge-table-articles.md) </span><span class="sxs-lookup"><span data-stu-id="47b29-273">[Define a Logical Record Relationship Between Merge Table Articles](define-a-logical-record-relationship-between-merge-table-articles.md) </span></span>  
 <span data-ttu-id="47b29-274">[Detectar y resolver conflictos de replicación de mezcla](../merge/advanced-merge-replication-conflict-detection-and-resolution.md) </span><span class="sxs-lookup"><span data-stu-id="47b29-274">[Detect and Resolve Merge Replication Conflicts](../merge/advanced-merge-replication-conflict-detection-and-resolution.md) </span></span>  
 <span data-ttu-id="47b29-275">[Optimizar el rendimiento de la replicación de mezcla con artículos de solo descarga](../merge/optimize-merge-replication-performance-with-download-only-articles.md) </span><span class="sxs-lookup"><span data-stu-id="47b29-275">[Optimize Merge Replication Performance with Download-Only Articles](../merge/optimize-merge-replication-performance-with-download-only-articles.md) </span></span>  
 <span data-ttu-id="47b29-276">[Define an Article](define-an-article.md) </span><span class="sxs-lookup"><span data-stu-id="47b29-276">[Define an Article](define-an-article.md) </span></span>  
 [<span data-ttu-id="47b29-277">er y modificar las propiedades de un artículo</span><span class="sxs-lookup"><span data-stu-id="47b29-277">View and Modify Article Properties</span></span>](view-and-modify-article-properties.md)  