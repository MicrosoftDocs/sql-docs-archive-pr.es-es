---
title: Definición y modificación de un filtro de fila estático | Microsoft Docs
ms.custom: ''
ms.date: 06/30/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: replication
ms.topic: conceptual
helpviewer_keywords:
- modifying filters, static row
- static row filters
- filters [SQL Server replication], static row
ms.assetid: a6ebb026-026f-4c39-b6a9-b9998c3babab
author: MashaMSFT
ms.author: mathoma
ms.openlocfilehash: d13fd93b6afdcce6b55e9b181f52087fd620913c
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 08/04/2020
ms.locfileid: "87669612"
---
# <a name="define-and-modify-a-static-row-filter"></a><span data-ttu-id="d4c41-102">Definir y modificar un filtro de fila estático</span><span class="sxs-lookup"><span data-stu-id="d4c41-102">Define and Modify a Static Row Filter</span></span>
  <span data-ttu-id="d4c41-103">En este tema se describe cómo definir y modificar un filtro de fila estático en [!INCLUDE[ssCurrent](../../../includes/sscurrent-md.md)] mediante [!INCLUDE[ssManStudioFull](../../../includes/ssmanstudiofull-md.md)] o [!INCLUDE[tsql](../../../includes/tsql-md.md)].</span><span class="sxs-lookup"><span data-stu-id="d4c41-103">This topic describes how to define and modify a static row filter in [!INCLUDE[ssCurrent](../../../includes/sscurrent-md.md)] by using [!INCLUDE[ssManStudioFull](../../../includes/ssmanstudiofull-md.md)] or [!INCLUDE[tsql](../../../includes/tsql-md.md)].</span></span>  
  
 <span data-ttu-id="d4c41-104">**En este tema**</span><span class="sxs-lookup"><span data-stu-id="d4c41-104">**In This Topic**</span></span>  
  
-   <span data-ttu-id="d4c41-105">**Antes de empezar:**</span><span class="sxs-lookup"><span data-stu-id="d4c41-105">**Before you begin:**</span></span>  
  
     [<span data-ttu-id="d4c41-106">Limitaciones y restricciones</span><span class="sxs-lookup"><span data-stu-id="d4c41-106">Limitations and Restrictions</span></span>](#Restrictions)  
  
     [<span data-ttu-id="d4c41-107">Recomendaciones</span><span class="sxs-lookup"><span data-stu-id="d4c41-107">Recommendations</span></span>](#Recommendations)  
  
-   <span data-ttu-id="d4c41-108">**Para definir y modificar un filtro de fila estático con:**</span><span class="sxs-lookup"><span data-stu-id="d4c41-108">**To define and modify a static row filter, using:**</span></span>  
  
     [<span data-ttu-id="d4c41-109">SQL Server Management Studio</span><span class="sxs-lookup"><span data-stu-id="d4c41-109">SQL Server Management Studio</span></span>](#SSMSProcedure)  
  
     [<span data-ttu-id="d4c41-110">Transact-SQL</span><span class="sxs-lookup"><span data-stu-id="d4c41-110">Transact-SQL</span></span>](#TsqlProcedure)  
  
##  <a name="before-you-begin"></a><a name="BeforeYouBegin"></a> <span data-ttu-id="d4c41-111">Antes de comenzar</span><span class="sxs-lookup"><span data-stu-id="d4c41-111">Before You Begin</span></span>  
  
###  <a name="limitations-and-restrictions"></a><a name="Restrictions"></a> <span data-ttu-id="d4c41-112">Limitaciones y restricciones</span><span class="sxs-lookup"><span data-stu-id="d4c41-112">Limitations and Restrictions</span></span>  
  
-   <span data-ttu-id="d4c41-113">Si agrega, modifica o elimina un filtro de fila estático una vez inicializadas las suscripciones a la publicación, deberá generar una instantánea nueva y reinicializar todas las suscripciones después de realizar el cambio.</span><span class="sxs-lookup"><span data-stu-id="d4c41-113">If you add, modify, or delete a static row filter after subscriptions to the publication have been initialized, you must generate a new snapshot and reinitialize all subscriptions after making the change.</span></span> <span data-ttu-id="d4c41-114">Para obtener más información sobre los requisitos para los cambios de propiedad, consulte [Cambiar las propiedades de la publicación y de los artículos](change-publication-and-article-properties.md) (Cambiar las propiedades de la publicación y de los artículos).</span><span class="sxs-lookup"><span data-stu-id="d4c41-114">For more information about requirements for property changes, see [Change Publication and Article Properties](change-publication-and-article-properties.md).</span></span>  
  
-   <span data-ttu-id="d4c41-115">Si la publicación está habilitada para la replicación transaccional punto a punto, no se pueden filtrar las tablas.</span><span class="sxs-lookup"><span data-stu-id="d4c41-115">If the publication is enabled for peer-to-peer transactional replication, tables cannot be filtered.</span></span>  
  
###  <a name="recommendations"></a><a name="Recommendations"></a> <span data-ttu-id="d4c41-116">Recomendaciones</span><span class="sxs-lookup"><span data-stu-id="d4c41-116">Recommendations</span></span>  
  
-   <span data-ttu-id="d4c41-117">Dado que estos filtros son estáticos, todos los suscriptores recibirán el mismo subconjunto de los datos.</span><span class="sxs-lookup"><span data-stu-id="d4c41-117">Because these filters are static, all subscribers will receive the same subset of the data.</span></span> <span data-ttu-id="d4c41-118">Si necesita filtrar dinámicamente las filas en un artículo de la tabla que pertenece a una publicación de combinación para que cada suscriptor reciba una partición diferente de los datos, vea [Definir y modificar un filtro de fila con parámetros para un artículo de mezcla](define-and-modify-a-parameterized-row-filter-for-a-merge-article.md).</span><span class="sxs-lookup"><span data-stu-id="d4c41-118">If you need to dynamically filter rows in a table article belonging to a merge publication so that each subscriber receives a different partition of the data, see [Define and Modify a Parameterized Row Filter for a Merge Article](define-and-modify-a-parameterized-row-filter-for-a-merge-article.md).</span></span> <span data-ttu-id="d4c41-119">La replicación de mezcla también permite filtrar filas relacionadas con un filtro de filas existente.</span><span class="sxs-lookup"><span data-stu-id="d4c41-119">Merge replication also enables you to filter related rows based on an existing row filter.</span></span> <span data-ttu-id="d4c41-120">Para obtener más información, consulte [Definir y modificar un filtro de combinación entre artículos de mezcla](define-and-modify-a-join-filter-between-merge-articles.md).</span><span class="sxs-lookup"><span data-stu-id="d4c41-120">For more information, see [Define and Modify a Join Filter Between Merge Articles](define-and-modify-a-join-filter-between-merge-articles.md).</span></span>  
  
##  <a name="using-sql-server-management-studio"></a><a name="SSMSProcedure"></a> <span data-ttu-id="d4c41-121">Uso de SQL Server Management Studio</span><span class="sxs-lookup"><span data-stu-id="d4c41-121">Using SQL Server Management Studio</span></span>  
 <span data-ttu-id="d4c41-122">Defina, modifique y elimine filtros de filtro de fila estático en la página **Filtrar filas de tabla** del Asistente para nueva publicación o en la página **Filtrar filas** del cuadro de diálogo **Propiedades de la publicación: \<Publication>** .</span><span class="sxs-lookup"><span data-stu-id="d4c41-122">Define, modify, and delete static row filters on the **Filter Table Rows** page of the New Publication Wizard or the **Filter Rows** page of the **Publication Properties - \<Publication>** dialog box.</span></span> <span data-ttu-id="d4c41-123">Para obtener más información sobre el uso del asistente y el acceso al cuadro de diálogo, consulte [Create a Publication](create-a-publication.md) (Crear una publicación) y [Ver y modificar propiedades de publicación](view-and-modify-publication-properties.md).</span><span class="sxs-lookup"><span data-stu-id="d4c41-123">For more information about using the wizard and accessing the dialog box, see [Create a Publication](create-a-publication.md) and [View and Modify Publication Properties](view-and-modify-publication-properties.md).</span></span>  
  
#### <a name="to-define-a-static-row-filter"></a><span data-ttu-id="d4c41-124">Para definir un filtro de fila estático</span><span class="sxs-lookup"><span data-stu-id="d4c41-124">To define a static row filter</span></span>  
  
1.  <span data-ttu-id="d4c41-125">En la página **Filtrar filas de tabla** del Asistente para nueva publicación o en la página **Filtrar filas** del cuadro de diálogo **Propiedades de la publicación: \<Publication>** , la acción que realice depende del tipo de publicación:</span><span class="sxs-lookup"><span data-stu-id="d4c41-125">On the **Filter Table Rows** page of the New Publication Wizard or the **Filter Rows** page of the **Publication Properties - \<Publication>** dialog box, the action you take depends on the type of publication:</span></span>  
  
    -   <span data-ttu-id="d4c41-126">Para una publicación de instantáneas o transaccional, haga clic en **Agregar**.</span><span class="sxs-lookup"><span data-stu-id="d4c41-126">For a snapshot or transactional publication, click **Add**.</span></span>  
  
    -   <span data-ttu-id="d4c41-127">Para una publicación de combinación, haga clic en **Agregar**y, a continuación, en **Agregar filtro**.</span><span class="sxs-lookup"><span data-stu-id="d4c41-127">For a merge publication, click **Add**, and then click **Add Filter**.</span></span>  
  
2.  <span data-ttu-id="d4c41-128">En el cuadro de diálogo **Agregar filtro** , seleccione la tabla que va a filtrar en el cuadro de lista desplegable.</span><span class="sxs-lookup"><span data-stu-id="d4c41-128">In the **Add Filter** dialog box, select a table to filter from the drop-down list box.</span></span>  
  
3.  <span data-ttu-id="d4c41-129">Cree una instrucción de filtro en el área de texto **Instrucción de filtro** .</span><span class="sxs-lookup"><span data-stu-id="d4c41-129">Create a filter statement in the **Filter statement** text area.</span></span> <span data-ttu-id="d4c41-130">Puede escribir directamente en el área de texto o puede arrastrar y colocar columnas del cuadro de lista **Columnas** .</span><span class="sxs-lookup"><span data-stu-id="d4c41-130">You can type directly in the text area, and you can also drag and drop columns from the **Columns** list box.</span></span>  
  
    > [!NOTE]  
    >  <span data-ttu-id="d4c41-131">La cláusula WHERE debe usar nombres de dos partes; los nombres de tres y cuatro partes no se admiten.</span><span class="sxs-lookup"><span data-stu-id="d4c41-131">The WHERE clause should use two-part naming; three-part naming and four-part naming are not supported.</span></span> <span data-ttu-id="d4c41-132">Si la publicación es de un publicador de Oracle, la cláusula WHERE debe seguir la sintaxis de Oracle.</span><span class="sxs-lookup"><span data-stu-id="d4c41-132">If the publication is from an Oracle Publisher, the WHERE clause must be compliant with Oracle syntax.</span></span>  
  
    -   <span data-ttu-id="d4c41-133">El área de texto **Instrucción de filtro** incluye el texto predeterminado, que tiene este formato:</span><span class="sxs-lookup"><span data-stu-id="d4c41-133">The **Filter statement** text area includes the default text, which is in the form of:</span></span>  
  
        ```sql  
        SELECT <published_columns> FROM [schema].[tablename] WHERE  
        ```  
  
    -   <span data-ttu-id="d4c41-134">El texto predeterminado no se puede cambiar. Escriba la cláusula del filtro después de la palabra clave WHERE utilizando la sintaxis SQL estándar.</span><span class="sxs-lookup"><span data-stu-id="d4c41-134">The default text cannot be changed; type the filter clause after the WHERE keyword using standard SQL syntax.</span></span> <span data-ttu-id="d4c41-135">La cláusula del filtro completa será similar a la siguiente:</span><span class="sxs-lookup"><span data-stu-id="d4c41-135">The complete filter clause would appear like:</span></span>  
  
        ```sql  
        SELECT <published_columns> FROM [HumanResources].[Employee] WHERE [LoginID] = 'adventure-works\ranjit0'  
        ```  
  
    -   <span data-ttu-id="d4c41-136">Un filtro de fila estático puede incluir una función definida por el usuario.</span><span class="sxs-lookup"><span data-stu-id="d4c41-136">A static row filter can include a user-defined function.</span></span> <span data-ttu-id="d4c41-137">La cláusula del filtro completa para un filtro de fila estático con una función definida por el usuario será similar a la siguiente:</span><span class="sxs-lookup"><span data-stu-id="d4c41-137">The complete filter clause for a static row filter with a user-defined function would appear like:</span></span>  
  
        ```sql  
        SELECT <published_columns> FROM [Sales].[SalesOrderHeader] WHERE MyFunction([Freight]) > 100  
        ```  
  
4.  [!INCLUDE[clickOK](../../../includes/clickok-md.md)]  
  
5.  <span data-ttu-id="d4c41-138">Si está en el cuadro de diálogo **Propiedades de la publicación: \<Publication>** , haga clic en **Aceptar** para guardar y cerrar el cuadro de diálogo.</span><span class="sxs-lookup"><span data-stu-id="d4c41-138">If you are in the **Publication Properties - \<Publication>** dialog box, click **OK** to save and close the dialog box.</span></span>  
  
#### <a name="to-modify-a-static-row-filter"></a><span data-ttu-id="d4c41-139">Para modificar un filtro de fila estático</span><span class="sxs-lookup"><span data-stu-id="d4c41-139">To modify a static row filter</span></span>  
  
1.  <span data-ttu-id="d4c41-140">En la página **Filtrar filas de tabla** del Asistente para nueva publicación o la página **Filtrar filas** del cuadro de diálogo **Propiedades de la publicación: \<Publication>** , seleccione un filtro en el panel **Tablas filtradas** y luego haga clic en **Editar**.</span><span class="sxs-lookup"><span data-stu-id="d4c41-140">On the **Filter Table Rows** page of the New Publication Wizard or the **Filter Rows** page of the **Publication Properties - \<Publication>** dialog box, select a filter in the **Filtered Tables** pane, and then click **Edit**.</span></span>  
  
2.  <span data-ttu-id="d4c41-141">Modifique el filtro en el cuadro de diálogo **Editar filtro** .</span><span class="sxs-lookup"><span data-stu-id="d4c41-141">In the **Edit Filter** dialog box, modify the filter.</span></span>  
  
3.  [!INCLUDE[clickOK](../../../includes/clickok-md.md)]  
  
#### <a name="to-delete-a-static-row-filter"></a><span data-ttu-id="d4c41-142">Para eliminar un filtro de fila estático</span><span class="sxs-lookup"><span data-stu-id="d4c41-142">To delete a static row filter</span></span>  
  
1.  <span data-ttu-id="d4c41-143">En la página **Filtrar filas de tabla** del Asistente para nueva publicación o la página **Filtrar filas** del cuadro de diálogo **Propiedades de la publicación: \<Publication>** , seleccione un filtro en el panel **Tablas filtradas** y luego haga clic en **Eliminar**.</span><span class="sxs-lookup"><span data-stu-id="d4c41-143">On the **Filter Table Rows** page of the New Publication Wizard or the **Filter Rows** page of the **Publication Properties - \<Publication>** dialog box, select a filter in the **Filtered Tables** pane, and then click **Delete**.</span></span>  
  
##  <a name="using-transact-sql"></a><a name="TsqlProcedure"></a> <span data-ttu-id="d4c41-144">Usar Transact-SQL</span><span class="sxs-lookup"><span data-stu-id="d4c41-144">Using Transact-SQL</span></span>  
 <span data-ttu-id="d4c41-145">Al crear los artículos de la tabla, puede definir una cláusula WHERE para filtrar las filas de un artículo.</span><span class="sxs-lookup"><span data-stu-id="d4c41-145">When creating table articles, you can define a WHERE clause to filter rows out of an article.</span></span> <span data-ttu-id="d4c41-146">También puede cambiar un filtro de fila una vez definido.</span><span class="sxs-lookup"><span data-stu-id="d4c41-146">You can also change a row filter after it has been defined.</span></span> <span data-ttu-id="d4c41-147">Los filtros de fila estáticos se pueden crear y modificar mediante programación con los procedimientos almacenados de la replicación.</span><span class="sxs-lookup"><span data-stu-id="d4c41-147">Static row filters can be created and modified programmatically using replication stored procedures.</span></span>  
  
#### <a name="to-define-a-static-row-filter-for-a-snapshot-or-transactional-publication"></a><span data-ttu-id="d4c41-148">Para definir un filtro de fila estático para una publicación transaccional o de instantáneas</span><span class="sxs-lookup"><span data-stu-id="d4c41-148">To define a static row filter for a snapshot or transactional publication</span></span>  
  
1.  <span data-ttu-id="d4c41-149">Defina el artículo que se va a filtrar.</span><span class="sxs-lookup"><span data-stu-id="d4c41-149">Define the article to filter.</span></span> <span data-ttu-id="d4c41-150">Para más información, consulte [Define an Article](define-an-article.md).</span><span class="sxs-lookup"><span data-stu-id="d4c41-150">For more information, see [Define an Article](define-an-article.md).</span></span>  
  
2.  <span data-ttu-id="d4c41-151">En la base de datos de publicación del publicador, ejecute [sp_articlefilter &#40;Transact-SQL&#41;](/sql/relational-databases/system-stored-procedures/sp-articlefilter-transact-sql).</span><span class="sxs-lookup"><span data-stu-id="d4c41-151">At the Publisher on the publication database, execute [sp_articlefilter &#40;Transact-SQL&#41;](/sql/relational-databases/system-stored-procedures/sp-articlefilter-transact-sql).</span></span> <span data-ttu-id="d4c41-152">Especifique el nombre del artículo para **\@article**, el nombre de la publicación para **\@publication**, un nombre de filtro para **\@filter_name** y la cláusula de filtrado para **\@filter_clause** (sin incluir `WHERE`).</span><span class="sxs-lookup"><span data-stu-id="d4c41-152">Specify the name of the article for **\@article**, the name of the publication for **\@publication**, a name for the filter for **\@filter_name**, and the filtering clause for **\@filter_clause** (not including `WHERE`).</span></span>  
  
3.  <span data-ttu-id="d4c41-153">Si todavía debe definirse un filtro de columna, vea [Define and Modify a Column Filter](define-and-modify-a-column-filter.md).</span><span class="sxs-lookup"><span data-stu-id="d4c41-153">If a column filter must still be defined, see [Define and Modify a Column Filter](define-and-modify-a-column-filter.md).</span></span> <span data-ttu-id="d4c41-154">De lo contrario, ejecute [sp_articleview &#40;Transact-SQL&#41;](/sql/relational-databases/system-stored-procedures/sp-articleview-transact-sql).</span><span class="sxs-lookup"><span data-stu-id="d4c41-154">Otherwise, execute [sp_articleview &#40;Transact-SQL&#41;](/sql/relational-databases/system-stored-procedures/sp-articleview-transact-sql).</span></span> <span data-ttu-id="d4c41-155">Especifique el nombre de la publicación para **\@publication**, el nombre del artículo filtrado para **\@article** y la cláusula de filtro especificada en el paso 2 para **\@filter_clause**.</span><span class="sxs-lookup"><span data-stu-id="d4c41-155">Specify the publication name for **\@publication**, the name of the filtered article for **\@article**, and the filter clause specified in step 2 for **\@filter_clause**.</span></span> <span data-ttu-id="d4c41-156">Esto crea los objetos de sincronización para el artículo filtrado.</span><span class="sxs-lookup"><span data-stu-id="d4c41-156">This creates the synchronization objects for the filtered article.</span></span>  
  
#### <a name="to-modify-a-static-row-filter-for-a-snapshot-or-transactional-publication"></a><span data-ttu-id="d4c41-157">Para modificar un filtro de fila estático para una publicación transaccional o de instantáneas</span><span class="sxs-lookup"><span data-stu-id="d4c41-157">To modify a static row filter for a snapshot or transactional publication</span></span>  
  
1.  <span data-ttu-id="d4c41-158">En la base de datos de publicación del publicador, ejecute [sp_articlefilter &#40;Transact-SQL&#41;](/sql/relational-databases/system-stored-procedures/sp-articlefilter-transact-sql).</span><span class="sxs-lookup"><span data-stu-id="d4c41-158">At the Publisher on the publication database, execute [sp_articlefilter &#40;Transact-SQL&#41;](/sql/relational-databases/system-stored-procedures/sp-articlefilter-transact-sql).</span></span> <span data-ttu-id="d4c41-159">Especifique el nombre del artículo para **\@article**, el nombre de la publicación para **\@publication**, un nombre de filtro nuevo para **\@filter_name** y la cláusula de filtrado nueva para **\@filter_clause** (sin incluir `WHERE`).</span><span class="sxs-lookup"><span data-stu-id="d4c41-159">Specify the name of the article for **\@article**, the name of the publication for **\@publication**, a name for the new filter for **\@filter_name**, and the new filtering clause for **\@filter_clause** (not including `WHERE`).</span></span> <span data-ttu-id="d4c41-160">Como este cambio invalidará los datos en las suscripciones existentes, especifique un valor de **1** para **\@force_reinit_subscription**.</span><span class="sxs-lookup"><span data-stu-id="d4c41-160">Because this change will invalidate data in existing subscriptions, specify a value of **1** for **\@force_reinit_subscription**.</span></span>  
  
2.  <span data-ttu-id="d4c41-161">En la base de datos de publicación del publicador, ejecute [sp_articleview &#40;Transact-SQL&#41;](/sql/relational-databases/system-stored-procedures/sp-articleview-transact-sql).</span><span class="sxs-lookup"><span data-stu-id="d4c41-161">At the Publisher on the publication database, execute [sp_articleview &#40;Transact-SQL&#41;](/sql/relational-databases/system-stored-procedures/sp-articleview-transact-sql).</span></span> <span data-ttu-id="d4c41-162">Especifique el nombre de la publicación para **\@publication**, el nombre del artículo filtrado para **\@article** y la cláusula de filtro especificada en el paso 1 para **\@filter_clause**.</span><span class="sxs-lookup"><span data-stu-id="d4c41-162">Specify the publication name for **\@publication**, the name of the filtered article for **\@article**, and the filter clause specified in step 1 for **\@filter_clause**.</span></span> <span data-ttu-id="d4c41-163">Esto vuelve a crear la vista que define el artículo filtrado.</span><span class="sxs-lookup"><span data-stu-id="d4c41-163">This re-creates the view that defines the filtered article.</span></span>  
  
3.  <span data-ttu-id="d4c41-164">Vuelva a ejecutar el trabajo del Agente de instantáneas para que la publicación genere una instantánea actualizada.</span><span class="sxs-lookup"><span data-stu-id="d4c41-164">Rerun the Snapshot Agent job for the publication to generate an updated snapshot.</span></span> <span data-ttu-id="d4c41-165">Para más información, consulte [Crear y aplicar la instantánea inicial](../create-and-apply-the-initial-snapshot.md).</span><span class="sxs-lookup"><span data-stu-id="d4c41-165">For more information, see [Create and Apply the Initial Snapshot](../create-and-apply-the-initial-snapshot.md).</span></span>  
  
4.  <span data-ttu-id="d4c41-166">Reinicialice las suscripciones.</span><span class="sxs-lookup"><span data-stu-id="d4c41-166">Reinitialize subscriptions.</span></span> <span data-ttu-id="d4c41-167">Para obtener más información, vea [Reinicializar suscripciones](../reinitialize-subscriptions.md).</span><span class="sxs-lookup"><span data-stu-id="d4c41-167">For more information, see [Reinitialize Subscriptions](../reinitialize-subscriptions.md).</span></span>  
  
#### <a name="to-delete-a-static-row-filter-for-a-snapshot-or-transactional-publication"></a><span data-ttu-id="d4c41-168">Para eliminar un filtro de fila estático para una instantánea o una publicación transaccional</span><span class="sxs-lookup"><span data-stu-id="d4c41-168">To delete a static row filter for a snapshot or transactional publication</span></span>  
  
1.  <span data-ttu-id="d4c41-169">En la base de datos de publicación del publicador, ejecute [sp_articlefilter &#40;Transact-SQL&#41;](/sql/relational-databases/system-stored-procedures/sp-articlefilter-transact-sql).</span><span class="sxs-lookup"><span data-stu-id="d4c41-169">At the Publisher on the publication database, execute [sp_articlefilter &#40;Transact-SQL&#41;](/sql/relational-databases/system-stored-procedures/sp-articlefilter-transact-sql).</span></span> <span data-ttu-id="d4c41-170">Especifique el nombre del artículo para **\@article**, el nombre de la publicación para **\@publication**, un valor de NULL para **\@filter_name** y un valor de NULL para **\@filter_clause**.</span><span class="sxs-lookup"><span data-stu-id="d4c41-170">Specify the name of the article for **\@article**, the name of the publication for **\@publication**, a value of NULL for **\@filter_name**, and a value of NULL for **\@filter_clause**.</span></span> <span data-ttu-id="d4c41-171">Como este cambio invalidará los datos en las suscripciones existentes, especifique un valor de **1** para **\@force_reinit_subscription**.</span><span class="sxs-lookup"><span data-stu-id="d4c41-171">Because this change will invalidate data in existing subscriptions, specify a value of **1** for **\@force_reinit_subscription**.</span></span>  
  
2.  <span data-ttu-id="d4c41-172">Vuelva a ejecutar el trabajo del Agente de instantáneas para que la publicación genere una instantánea actualizada.</span><span class="sxs-lookup"><span data-stu-id="d4c41-172">Rerun the Snapshot Agent job for the publication to generate an updated snapshot.</span></span> <span data-ttu-id="d4c41-173">Para más información, consulte [Crear y aplicar la instantánea inicial](../create-and-apply-the-initial-snapshot.md).</span><span class="sxs-lookup"><span data-stu-id="d4c41-173">For more information, see [Create and Apply the Initial Snapshot](../create-and-apply-the-initial-snapshot.md).</span></span>  
  
3.  <span data-ttu-id="d4c41-174">Reinicialice las suscripciones.</span><span class="sxs-lookup"><span data-stu-id="d4c41-174">Reinitialize subscriptions.</span></span> <span data-ttu-id="d4c41-175">Para obtener más información, vea [Reinicializar suscripciones](../reinitialize-subscriptions.md).</span><span class="sxs-lookup"><span data-stu-id="d4c41-175">For more information, see [Reinitialize Subscriptions](../reinitialize-subscriptions.md).</span></span>  
  
#### <a name="to-define-a-static-row-filter-for-a-merge-publication"></a><span data-ttu-id="d4c41-176">Para definir un filtro de fila estático para una publicación de combinación</span><span class="sxs-lookup"><span data-stu-id="d4c41-176">To define a static row filter for a merge publication</span></span>  
  
1.  <span data-ttu-id="d4c41-177">En la base de datos de publicación del publicador, ejecute [sp_addmergearticle &#40;Transact-SQL&#41;](/sql/relational-databases/system-stored-procedures/sp-addmergearticle-transact-sql).</span><span class="sxs-lookup"><span data-stu-id="d4c41-177">At the Publisher on the publication database, execute [sp_addmergearticle &#40;Transact-SQL&#41;](/sql/relational-databases/system-stored-procedures/sp-addmergearticle-transact-sql).</span></span> <span data-ttu-id="d4c41-178">Especifique la cláusula de filtrado para **\@subset_filterclause** (sin incluir `WHERE`).</span><span class="sxs-lookup"><span data-stu-id="d4c41-178">Specify the filtering clause for **\@subset_filterclause** (not including `WHERE`).</span></span> <span data-ttu-id="d4c41-179">Para más información, consulte [Define an Article](define-an-article.md).</span><span class="sxs-lookup"><span data-stu-id="d4c41-179">For more information, see [Define an Article](define-an-article.md).</span></span>  
  
2.  <span data-ttu-id="d4c41-180">Si todavía debe definirse un filtro de columna, vea [Define and Modify a Column Filter](define-and-modify-a-column-filter.md).</span><span class="sxs-lookup"><span data-stu-id="d4c41-180">If a column filter must still be defined, see [Define and Modify a Column Filter](define-and-modify-a-column-filter.md).</span></span>  
  
#### <a name="to-modify-a-static-row-filter-for-a-merge-publication"></a><span data-ttu-id="d4c41-181">Para modificar un filtro de fila estático para una publicación de combinación</span><span class="sxs-lookup"><span data-stu-id="d4c41-181">To modify a static row filter for a merge publication</span></span>  
  
1.  <span data-ttu-id="d4c41-182">En el publicador de la base de datos de publicación, ejecute [sp_changemergearticle &#40;Transact-SQL&#41;](/sql/relational-databases/system-stored-procedures/sp-changemergearticle-transact-sql).</span><span class="sxs-lookup"><span data-stu-id="d4c41-182">At the Publisher on the publication database, execute [sp_changemergearticle &#40;Transact-SQL&#41;](/sql/relational-databases/system-stored-procedures/sp-changemergearticle-transact-sql).</span></span> <span data-ttu-id="d4c41-183">Especifique el nombre de la publicación para **\@publication**, el nombre del artículo filtrado para **\@article**, un valor de **subset_filterclause** para **\@property** y la nueva cláusula de filtrado para **\@value** (sin incluir `WHERE`).</span><span class="sxs-lookup"><span data-stu-id="d4c41-183">Specify the publication name for **\@publication**, the name of the filtered article for **\@article**, a value of **subset_filterclause** for **\@property**, and the new filtering clause for **\@value** (not including `WHERE`).</span></span> <span data-ttu-id="d4c41-184">Como este cambio invalidará los datos en las suscripciones existentes, especifique un valor de 1 para **\@force_reinit_subscription**.</span><span class="sxs-lookup"><span data-stu-id="d4c41-184">Because this change will invalidate data in existing subscriptions, specify a value of 1 for **\@force_reinit_subscription**.</span></span>  
  
2.  <span data-ttu-id="d4c41-185">Vuelva a ejecutar el trabajo del Agente de instantáneas para que la publicación genere una instantánea actualizada.</span><span class="sxs-lookup"><span data-stu-id="d4c41-185">Rerun the Snapshot Agent job for the publication to generate an updated snapshot.</span></span> <span data-ttu-id="d4c41-186">Para más información, consulte [Crear y aplicar la instantánea inicial](../create-and-apply-the-initial-snapshot.md).</span><span class="sxs-lookup"><span data-stu-id="d4c41-186">For more information, see [Create and Apply the Initial Snapshot](../create-and-apply-the-initial-snapshot.md).</span></span>  
  
3.  <span data-ttu-id="d4c41-187">Reinicialice las suscripciones.</span><span class="sxs-lookup"><span data-stu-id="d4c41-187">Reinitialize subscriptions.</span></span> <span data-ttu-id="d4c41-188">Para obtener más información, vea [Reinicializar suscripciones](../reinitialize-subscriptions.md).</span><span class="sxs-lookup"><span data-stu-id="d4c41-188">For more information, see [Reinitialize Subscriptions](../reinitialize-subscriptions.md).</span></span>  
  
###  <a name="examples-transact-sql"></a><a name="TsqlExample"></a> <span data-ttu-id="d4c41-189">Ejemplos (Transact-SQL)</span><span class="sxs-lookup"><span data-stu-id="d4c41-189">Examples (Transact-SQL)</span></span>  
 <span data-ttu-id="d4c41-190">En este ejemplo de la replicación transaccional, el artículo se filtra horizontalmente para quitar todos los productos desusados.</span><span class="sxs-lookup"><span data-stu-id="d4c41-190">In this transactional replication example, the article is filtered horizontally to remove all discontinued products.</span></span>  
  
 [!code-sql[HowTo#sp_AddTranArticle](../../../snippets/tsql/SQL15/replication/howto/tsql/createtranpub.sql#sp_addtranarticle)]  
  
 <span data-ttu-id="d4c41-191">En este ejemplo de replicación de mezcla, los artículos se filtran horizontalmente para devolver solo las filas que pertenecen al vendedor especificado.</span><span class="sxs-lookup"><span data-stu-id="d4c41-191">In this merge replication example, the articles are filtered horizontally to return only rows that belong to the specified salesperson.</span></span> <span data-ttu-id="d4c41-192">También se usa un filtro de combinación.</span><span class="sxs-lookup"><span data-stu-id="d4c41-192">A join filter is also used.</span></span> <span data-ttu-id="d4c41-193">Para obtener más información, consulte [Definir y modificar un filtro de combinación entre artículos de mezcla](define-and-modify-a-join-filter-between-merge-articles.md).</span><span class="sxs-lookup"><span data-stu-id="d4c41-193">For more information, see [Define and Modify a Join Filter Between Merge Articles](define-and-modify-a-join-filter-between-merge-articles.md).</span></span>  
  
 [!code-sql[HowTo#sp_AddMergeArticle](../../../snippets/tsql/SQL15/replication/howto/tsql/createmergepub.sql#sp_addmergearticle)]  
  
## <a name="see-also"></a><span data-ttu-id="d4c41-194">Consulte también</span><span class="sxs-lookup"><span data-stu-id="d4c41-194">See Also</span></span>  
 <span data-ttu-id="d4c41-195">[Definición y modificación de un filtro de fila con parámetros para un artículo de mezcla](define-and-modify-a-parameterized-row-filter-for-a-merge-article.md) </span><span class="sxs-lookup"><span data-stu-id="d4c41-195">[Define and Modify a Parameterized Row Filter for a Merge Article](define-and-modify-a-parameterized-row-filter-for-a-merge-article.md) </span></span>  
 <span data-ttu-id="d4c41-196">[Cambiar las propiedades de la publicación y de los artículos](change-publication-and-article-properties.md) </span><span class="sxs-lookup"><span data-stu-id="d4c41-196">[Change Publication and Article Properties](change-publication-and-article-properties.md) </span></span>  
 <span data-ttu-id="d4c41-197">[Filtrar datos publicados](filter-published-data.md) </span><span class="sxs-lookup"><span data-stu-id="d4c41-197">[Filter Published Data](filter-published-data.md) </span></span>  
 [<span data-ttu-id="d4c41-198">Filtrar datos publicados para la replicación de mezcla</span><span class="sxs-lookup"><span data-stu-id="d4c41-198">Filter Published Data for Merge Replication</span></span>](../merge/filter-published-data-for-merge-replication.md)  
  
  
