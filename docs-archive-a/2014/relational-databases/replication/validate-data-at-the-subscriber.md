---
title: Validar datos replicados | Microsoft Docs
ms.custom: ''
ms.date: 06/13/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: replication
ms.topic: conceptual
helpviewer_keywords:
- Subscribers [SQL Server replication], data validation
- replication [SQL Server], validating data
- transactional replication, validating data
- validating data
- merge replication data validation [SQL Server replication], SQL Server Management Studio
ms.assetid: 215b4c9a-0ce9-4c00-ac0b-43b54151dfa3
author: MashaMSFT
ms.author: mathoma
ms.openlocfilehash: 4d09750c0cb81d64f5921ae2064b2e75edb6ca96
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 08/04/2020
ms.locfileid: "87661897"
---
# <a name="validate-replicated-data"></a><span data-ttu-id="9992d-102">Validar datos replicados</span><span class="sxs-lookup"><span data-stu-id="9992d-102">Validate Replicated Data</span></span>
  <span data-ttu-id="9992d-103">En este tema se describe cómo validar datos en el suscriptor en [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)] mediante [!INCLUDE[ssManStudioFull](../../includes/ssmanstudiofull-md.md)], [!INCLUDE[tsql](../../includes/tsql-md.md)]o Replication Management Objects (RMO).</span><span class="sxs-lookup"><span data-stu-id="9992d-103">This topic describes how to validate data at the Subscriber in [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)] by using [!INCLUDE[ssManStudioFull](../../includes/ssmanstudiofull-md.md)], [!INCLUDE[tsql](../../includes/tsql-md.md)], or Replication Management Objects (RMO).</span></span>  

  <span data-ttu-id="9992d-104">La replicación transaccional y la replicación de mezcla le permiten validar que los datos del suscriptor coinciden con los del publicador.</span><span class="sxs-lookup"><span data-stu-id="9992d-104">Transactional and merge replication allow you to validate that data at the Subscriber matches data at the Publisher.</span></span> <span data-ttu-id="9992d-105">Es posible realizar la validación de determinadas suscripciones o de todas las suscripciones a una publicación.</span><span class="sxs-lookup"><span data-stu-id="9992d-105">Validation can be performed for specific subscriptions or for all subscriptions to a publication.</span></span> <span data-ttu-id="9992d-106">Especifique uno de los siguientes tipos de validación y el Agente de distribución o el Agente de mezcla validarán los datos la próxima vez que se ejecuten:</span><span class="sxs-lookup"><span data-stu-id="9992d-106">Specify one of the following validation types and the Distribution Agent or Merge Agent will validate data the next time it runs:</span></span>  
  
-   <span data-ttu-id="9992d-107">**Solo recuento de filas**.</span><span class="sxs-lookup"><span data-stu-id="9992d-107">**Row count only**.</span></span> <span data-ttu-id="9992d-108">Esta opción valida si la tabla del suscriptor tiene las mismas filas que la tabla del publicador pero no valida la coincidencia del contenido de las filas.</span><span class="sxs-lookup"><span data-stu-id="9992d-108">This validates whether the table at the Subscriber has the same number of rows as the table at the Publisher, but does not validate that the content of the rows matches.</span></span> <span data-ttu-id="9992d-109">La validación del recuento de filas proporciona una idea sobre validación que puede ponerle al corriente de problemas con los datos.</span><span class="sxs-lookup"><span data-stu-id="9992d-109">Row count validation provides a lightweight approach to validation that can make you aware of issues with your data.</span></span>    
-   <span data-ttu-id="9992d-110">**Recuento de filas y suma de comprobación binaria**.</span><span class="sxs-lookup"><span data-stu-id="9992d-110">**Row count and binary checksum**.</span></span> <span data-ttu-id="9992d-111">Además de llevar a cabo un recuento de filas en el publicador y en el suscriptor, se calcula una suma de comprobación de todos los datos utilizando el algoritmo de suma de comprobación.</span><span class="sxs-lookup"><span data-stu-id="9992d-111">In addition to taking a count of rows at the Publisher and Subscriber, a checksum of all the data is calculated using the checksum algorithm.</span></span> <span data-ttu-id="9992d-112">Si el número de filas da un error, no se lleva a cabo la suma de comprobación.</span><span class="sxs-lookup"><span data-stu-id="9992d-112">If the row count fails, the checksum is not performed.</span></span>  
  
 <span data-ttu-id="9992d-113">Además de validar que los datos en el suscriptor y en el publicador coincidan, la replicación de mezcla ofrece la posibilidad de validar que los datos presenten las particiones correctas para cada suscriptor.</span><span class="sxs-lookup"><span data-stu-id="9992d-113">In addition to validating that data at the Subscriber and Publisher match, merge replication provides the ability to validate that data is partitioned correctly for each Subscriber.</span></span> <span data-ttu-id="9992d-114">Para más información, vea [VValidar la información de particiones para un suscriptor de mezcla](validate-partition-information-for-a-merge-subscriber.md).</span><span class="sxs-lookup"><span data-stu-id="9992d-114">For more information, see [Validate Partition Information for a Merge Subscriber](validate-partition-information-for-a-merge-subscriber.md).</span></span>  

## <a name="how-data-validation-works"></a><span data-ttu-id="9992d-115">Cómo funciona la validación de datos</span><span class="sxs-lookup"><span data-stu-id="9992d-115">How Data Validation Works</span></span>  
 [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] <span data-ttu-id="9992d-116">valida los datos calculando un recuento de filas o una suma de comprobación en el Publicador y, a continuación, compara estos valores con el recuento de filas o suma de comprobación calculado en el suscriptor.</span><span class="sxs-lookup"><span data-stu-id="9992d-116">validates data by calculating a row count or a checksum at the Publisher and then comparing those values to the row count or checksum calculated at the Subscriber.</span></span> <span data-ttu-id="9992d-117">Se calcula un valor para toda la tabla de publicación y otro valor para toda la tabla de suscripción, pero en los cálculos no se incluyen los datos de las columnas `text`, `ntext` ni `image`.</span><span class="sxs-lookup"><span data-stu-id="9992d-117">One value is calculated for the entire publication table and one value is calculated for the entire subscription table, but data in `text`, `ntext`, or `image` columns is not included in the calculations.</span></span>  
  
 <span data-ttu-id="9992d-118">Mientras se realizan los cálculos, se colocan bloqueos compartidos temporalmente en las tablas en las que se ejecutan los recuentos de filas y sumas de comprobación, pero los cálculos se completan rápidamente y los bloqueos compartidos se quitan normalmente en unos segundos.</span><span class="sxs-lookup"><span data-stu-id="9992d-118">While the calculations are performed, shared locks are placed temporarily on tables for which row counts or checksums are being run, but the calculations are completed quickly and the shared locks removed, usually in a matter of seconds.</span></span>  
  
 <span data-ttu-id="9992d-119">Cuando se utilizan sumas de comprobación binarias, se produce una comprobación de redundancia cíclica (CRC) de 32 bits columna por columna en vez de una comprobación CRC en la fila física de la página de datos.</span><span class="sxs-lookup"><span data-stu-id="9992d-119">When binary checksums are used, 32-bit redundancy check (CRC) occurs on a column-by-column basis rather than a CRC on the physical row on the data page.</span></span> <span data-ttu-id="9992d-120">Esto permite que las columnas de la tabla estén en cualquier orden físicamente en la página de datos, pero se calcula la misma comprobación CRC para la fila.</span><span class="sxs-lookup"><span data-stu-id="9992d-120">This allows the columns with the table to be in any order physically on the data page, but still compute to the same CRC for the row.</span></span> <span data-ttu-id="9992d-121">Es posible utilizar la validación de suma de comprobación binaria cuando hay filtros de fila o de columna en la publicación.</span><span class="sxs-lookup"><span data-stu-id="9992d-121">Binary checksum validation can be used when there are row or column filters on the publication.</span></span>  
  
 <span data-ttu-id="9992d-122">La validación de datos es un proceso de tres partes:</span><span class="sxs-lookup"><span data-stu-id="9992d-122">Validating data is a three-part process:</span></span>  
  
1.  <span data-ttu-id="9992d-123">Una sola suscripción o todas las suscripciones en una publicación se *marcan* para validación.</span><span class="sxs-lookup"><span data-stu-id="9992d-123">A single subscription or all subscriptions to a publication are *marked* for validation.</span></span> <span data-ttu-id="9992d-124">Marque las suscripciones para la validación en los cuadros de diálogo **Validar suscripción**, **Validar suscripciones** y **Validar todas las suscripciones**, que están disponibles en la carpeta **Publicaciones locales** y en la carpeta **Suscripciones locales** en [!INCLUDE[msCoName](../../includes/msconame-md.md)][!INCLUDE[ssManStudioFull](../../includes/ssmanstudiofull-md.md)].</span><span class="sxs-lookup"><span data-stu-id="9992d-124">Mark subscriptions for validation in the **Validate Subscription**, **Validate Subscriptions**, and **Validate All Subscriptions** dialog boxes, which are available from the **Local Publications** folder and the **Local Subscriptions** folder in [!INCLUDE[msCoName](../../includes/msconame-md.md)][!INCLUDE[ssManStudioFull](../../includes/ssmanstudiofull-md.md)].</span></span> <span data-ttu-id="9992d-125">También puede marcar suscripciones desde la pestaña **Todas las suscripciones** , la pestaña **Lista de supervisión de suscripciones** y el nodo de publicaciones del Monitor de replicación.</span><span class="sxs-lookup"><span data-stu-id="9992d-125">You can also mark subscriptions from the **All Subscriptions** tab, the **Subscription Watch List** tab, and the publications node in Replication Monitor.</span></span> <span data-ttu-id="9992d-126">Para información sobre cómo iniciar el Monitor de replicación, vea [Iniciar el Monitor de replicación](monitor/start-the-replication-monitor.md).</span><span class="sxs-lookup"><span data-stu-id="9992d-126">For information about starting Replication Monitor, see [Start the Replication Monitor](monitor/start-the-replication-monitor.md).</span></span>  
  
2.  <span data-ttu-id="9992d-127">Una suscripción se valida la próxima vez que la sincroniza el Agente de distribución (en la replicación transaccional) o el Agente de mezcla (en la replicación de mezcla).</span><span class="sxs-lookup"><span data-stu-id="9992d-127">A subscription is validated the next time it is synchronized by the Distribution Agent (for transactional replication) or the Merge Agent (for merge replication).</span></span> <span data-ttu-id="9992d-128">El Agente de distribución normalmente se ejecuta de forma continua, en cuyo caso la validación se produce inmediatamente; el Agente de mezcla normalmente se ejecuta a petición, en cuyo caso la validación se produce después de ejecutar el agente.</span><span class="sxs-lookup"><span data-stu-id="9992d-128">The Distribution Agent typically runs continuously, in which case validation occurs immediately; the Merge Agent typically runs on demand, in which case validation occurs after you run the agent.</span></span>  
  
3.  <span data-ttu-id="9992d-129">Vea los resultados de la validación:</span><span class="sxs-lookup"><span data-stu-id="9992d-129">View the validation results:</span></span>  
  
    -  <span data-ttu-id="9992d-130">En la ventana de detalles del Monitor de replicación: en la pestaña **Historial de Distribuidor a suscriptor** para la replicación transaccional y en la pestaña **Historial de sincronizaciones** en la replicación de mezcla.</span><span class="sxs-lookup"><span data-stu-id="9992d-130">In the detail windows in Replication Monitor: on the **Distributor to Subscriber History** tab for transactional replication and the **Synchronization History** tab for merge replication.</span></span>    
    -  <span data-ttu-id="9992d-131">En el cuadro de diálogo **Ver estado de sincronización** en [!INCLUDE[ssManStudio](../../includes/ssmanstudio-md.md)].</span><span class="sxs-lookup"><span data-stu-id="9992d-131">In the **View Synchronization Status** dialog box in [!INCLUDE[ssManStudio](../../includes/ssmanstudio-md.md)].</span></span>  
  


  
## <a name="considerations-and-restrictions"></a><span data-ttu-id="9992d-132">Consideraciones y restricciones</span><span class="sxs-lookup"><span data-stu-id="9992d-132">Considerations and restrictions</span></span>  
  
-   <span data-ttu-id="9992d-133">Los procedimientos para el Monitor de replicación solamente son para suscripciones de inserción porque las suscripciones de extracción no se pueden sincronizar en el Monitor de replicación.</span><span class="sxs-lookup"><span data-stu-id="9992d-133">The procedures for Replication Monitor are for push subscriptions only because pull subscriptions cannot be synchronized in Replication Monitor.</span></span> <span data-ttu-id="9992d-134">No obstante, en el Monitor de replicación puede marcar una suscripción para su validación y ver los resultados de la validación para las suscripciones de extracción.</span><span class="sxs-lookup"><span data-stu-id="9992d-134">However, you can mark a subscription for validation and view validation results for pull subscriptions in Replication Monitor.</span></span>    
-   <span data-ttu-id="9992d-135">Los resultados de la validación indican si la validación se ha realizado correctamente o si ha tenido errores, pero no se especifica en qué filas se produjo el error de validación si se ha producido.</span><span class="sxs-lookup"><span data-stu-id="9992d-135">The validation results indicate whether validation succeeded or failed, but do not specify which rows failed validation if a failure occurred.</span></span> <span data-ttu-id="9992d-136">Para comparar datos en el publicador y el suscriptor, use la [tablediff Utility](../../tools/tablediff-utility.md).</span><span class="sxs-lookup"><span data-stu-id="9992d-136">To compare data at the Publisher and Subscriber, use the [tablediff Utility](../../tools/tablediff-utility.md).</span></span> <span data-ttu-id="9992d-137">Para más información sobre el uso de esta utilidad con datos replicados, vea [Compare Replicated Tables for Differences &#40;Replication Programming&#41;](administration/compare-replicated-tables-for-differences-replication-programming.md) (Comparar tablas replicadas para buscar diferencias &#40;Programación de la replicación&#41;).</span><span class="sxs-lookup"><span data-stu-id="9992d-137">For more information about using this utility with replicated data, see [Compare Replicated Tables for Differences &#40;Replication Programming&#41;](administration/compare-replicated-tables-for-differences-replication-programming.md).</span></span>  
 
<span data-ttu-id="9992d-138">Tenga en cuenta las siguientes cuestiones a la hora de validar los datos:</span><span class="sxs-lookup"><span data-stu-id="9992d-138">Take the following issues into consideration when validating data:</span></span>  
  
-   <span data-ttu-id="9992d-139">Debe detener todas las actividades de actualización en los suscriptores antes de validar los datos (no es necesario detener todas las actividades en el publicador durante la validación).</span><span class="sxs-lookup"><span data-stu-id="9992d-139">You must stop all update activity at Subscribers before validating data (it is not necessary to stop activity at the Publisher when validation is occurring).</span></span>    
-   <span data-ttu-id="9992d-140">Dado que las sumas de comprobación y las sumas de comprobación binarias requieren grandes cantidades de recursos del procesador para validar un conjunto de datos de gran tamaño, debe programar la validación para que se produzca cuando la actividad sea mínima en los servidores que se utilizan en la replicación.</span><span class="sxs-lookup"><span data-stu-id="9992d-140">Because checksums and binary checksums can require large amounts of processor resources when validating a large data set, you should schedule validation to occur when there is the least activity on the servers used in replication.</span></span>    
-   <span data-ttu-id="9992d-141">La replicación solo valida tablas; no valida si los artículos solo de esquema (como los procedimientos almacenados) son iguales en el publicador y en el suscriptor.</span><span class="sxs-lookup"><span data-stu-id="9992d-141">Replication validates tables only; it does not validate whether schema only articles (such as stored procedures) are the same at the Publisher and Subscriber.</span></span>    
-   <span data-ttu-id="9992d-142">La suma de comprobación binaria se puede utilizar en cualquier tabla publicada.</span><span class="sxs-lookup"><span data-stu-id="9992d-142">Binary checksum can be used with any published table.</span></span> <span data-ttu-id="9992d-143">La suma de comprobación no puede validar tablas con filtros de columna ni estructuras de tabla lógicas donde los desplazamientos de columnas son distintos (debido a las instrucciones ALTER TABLE que quitan o agregan columnas).</span><span class="sxs-lookup"><span data-stu-id="9992d-143">Checksum cannot validate tables with column filters, or logical table structures where column offsets differ (due to ALTER TABLE statements that drop or add columns).</span></span>    
-   <span data-ttu-id="9992d-144">La validación de replicación usa las `checksum` funciones y **BINARY_CHECKSUM** .</span><span class="sxs-lookup"><span data-stu-id="9992d-144">Replication validation uses the `checksum` and **binary_checksum** functions.</span></span> <span data-ttu-id="9992d-145">Para obtener información sobre este comportamiento, vea [CHECKSUM &#40;Transact-SQL&#41;](/sql/t-sql/functions/checksum-transact-sql) y [BINARY_CHECKSUM  &#40;Transact-SQL&#41;](/sql/t-sql/functions/binary-checksum-transact-sql).</span><span class="sxs-lookup"><span data-stu-id="9992d-145">For  information about their behavior, see  [CHECKSUM &#40;Transact-SQL&#41;](/sql/t-sql/functions/checksum-transact-sql) and [BINARY_CHECKSUM  &#40;Transact-SQL&#41;](/sql/t-sql/functions/binary-checksum-transact-sql).</span></span>  
  
-   <span data-ttu-id="9992d-146">La validación mediante suma de comprobación binaria o suma de comprobación puede informar incorrectamente sobre un error si los tipos de datos son diferentes en el suscriptor y en el publicador.</span><span class="sxs-lookup"><span data-stu-id="9992d-146">Validation by using binary checksum or checksum can incorrectly report a failure if data types are different at the Subscriber than they are at the Publisher.</span></span> <span data-ttu-id="9992d-147">Esto se puede producir si lleva a cabo una de las siguientes acciones:</span><span class="sxs-lookup"><span data-stu-id="9992d-147">This can occur if you do any one of the following:</span></span>    
    -   <span data-ttu-id="9992d-148">Establecer de forma explícita opciones del esquema para asignar tipos de datos de versiones anteriores de [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)].</span><span class="sxs-lookup"><span data-stu-id="9992d-148">Explicitly set schema options to map data types for earlier versions of [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)].</span></span>    
    -   <span data-ttu-id="9992d-149">Establecer el nivel de compatibilidad de la publicación de una publicación de combinación en una versión anterior de [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)], cuando las tablas publicadas contienen uno o más tipos de datos que se deben asignados a esta versión.</span><span class="sxs-lookup"><span data-stu-id="9992d-149">Set the publication compatibility level for a merge publication to an earlier version of [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)], and published tables contain one or more data types that must be mapped for this version.</span></span>    
    -   <span data-ttu-id="9992d-150">Inicializar de forma manual una suscripción, si usa diferentes tipos de datos en el suscriptor.</span><span class="sxs-lookup"><span data-stu-id="9992d-150">Manually initialize a subscription and are using different data types at the Subscriber.</span></span>    
-   <span data-ttu-id="9992d-151">Las validaciones de suma de comprobación binaria y de suma de comprobación no son compatibles con suscripciones transformables en la replicación transaccional.</span><span class="sxs-lookup"><span data-stu-id="9992d-151">Binary checksum and checksum validations are not supported for transformable subscriptions for transactional replication.</span></span>   
-   <span data-ttu-id="9992d-152">La validación no se admite para los datos replicados en suscriptores que no son de[!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] .</span><span class="sxs-lookup"><span data-stu-id="9992d-152">Validation is not supported for data replicated to non-[!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] Subscribers.</span></span>  

## <a name="data-validation-results"></a><span data-ttu-id="9992d-153">Resultados de la validación de datos</span><span class="sxs-lookup"><span data-stu-id="9992d-153">Data Validation Results</span></span>  
 <span data-ttu-id="9992d-154">Cuando la validación se ha completado, el Agente de distribución o el Agente de mezcla registran mensajes sobre si ha sido correcta o se han producido errores (la replicación no informa sobre las filas que han dado error).</span><span class="sxs-lookup"><span data-stu-id="9992d-154">When validation is complete, the Distribution Agent or Merge Agent logs messages regarding success or failure (replication does not report which rows failed).</span></span> <span data-ttu-id="9992d-155">Estos mensajes se pueden ver en [!INCLUDE[ssManStudioFull](../../includes/ssmanstudiofull-md.md)], en el Monitor de replicación y en las tablas del sistema de replicación.</span><span class="sxs-lookup"><span data-stu-id="9992d-155">These messages can be viewed in [!INCLUDE[ssManStudioFull](../../includes/ssmanstudiofull-md.md)], Replication Monitor, and replication system tables.</span></span> <span data-ttu-id="9992d-156">En el tema de procedimientos indicado anteriormente se explica cómo ejecutar la validación y ver los resultados.</span><span class="sxs-lookup"><span data-stu-id="9992d-156">The how-to topic listed above demonstrates how to run validation and view the results.</span></span>  
  
 <span data-ttu-id="9992d-157">Para controlar errores de validación, tenga en cuenta lo siguiente:</span><span class="sxs-lookup"><span data-stu-id="9992d-157">To handle validation failures, consider the following:</span></span>  
  
-   <span data-ttu-id="9992d-158">Configure la alerta de replicación **Replicación: el suscriptor no ha superado la validación de datos** para recibir una notificación del error.</span><span class="sxs-lookup"><span data-stu-id="9992d-158">Configure the replication alert named **Replication: Subscriber has failed data validation** so that you are notified of the failure.</span></span> <span data-ttu-id="9992d-159">Para obtener más información, vea [configurar alertas de replicación predefinidas &#40;SQL Server Management Studio& # 41 (Administration/configure-predefined-Replication-Alerts-SQL-Server-Management-Studio. MD).</span><span class="sxs-lookup"><span data-stu-id="9992d-159">For more information, see [Configure Predefined Replication Alerts &#40;SQL Server Management Studio&#41(administration/configure-predefined-replication-alerts-sql-server-management-studio.md).</span></span>  
  
-   <span data-ttu-id="9992d-160">¿Son los errores de validación un problema para su aplicación?</span><span class="sxs-lookup"><span data-stu-id="9992d-160">Is the fact that validation failed an issue for your application?</span></span> <span data-ttu-id="9992d-161">Si los errores de validación suponen un problema, actualice manualmente los datos para que se sincronicen o reinicialice la suscripción:</span><span class="sxs-lookup"><span data-stu-id="9992d-161">If the validation failure is an issue, manually update the data so that it is synchronized, or reinitialize the subscription:</span></span>  
  
    -   <span data-ttu-id="9992d-162">Los datos se pueden actualizar con la [utilidad tablediff](../../tools/tablediff-utility.md).</span><span class="sxs-lookup"><span data-stu-id="9992d-162">Data can be updated using the [tablediff utility](../../tools/tablediff-utility.md).</span></span> <span data-ttu-id="9992d-163">Para más información sobre el uso de esta utilidad, vea [Compare Replicated Tables for Differences &#40;Replication Programming&#41;](administration/compare-replicated-tables-for-differences-replication-programming.md) (Comparar tablas replicadas para buscar diferencias &#40;programación de la replicación&#41;).</span><span class="sxs-lookup"><span data-stu-id="9992d-163">For more information about using this utility, see [Compare Replicated Tables for Differences &#40;Replication Programming&#41;](administration/compare-replicated-tables-for-differences-replication-programming.md).</span></span>  
  
    -   <span data-ttu-id="9992d-164">Para más información sobre la reinicialización, vea [Reinitialize Subscriptions](reinitialize-subscriptions.md) (Reinicializar suscripciones).</span><span class="sxs-lookup"><span data-stu-id="9992d-164">For more information about reinitializaton, see [Reinitialize Subscriptions](reinitialize-subscriptions.md).</span></span>   
 
  
## <a name="articles-in-transactional-replication"></a><span data-ttu-id="9992d-165">Artículos en la replicación transaccional</span><span class="sxs-lookup"><span data-stu-id="9992d-165">Articles in Transactional Replication</span></span> 

### <a name="using-sql-server-management-studio"></a><span data-ttu-id="9992d-166">Uso de SQL Server Management Studio</span><span class="sxs-lookup"><span data-stu-id="9992d-166">Using SQL Server Management Studio</span></span>  
  
  
1.  <span data-ttu-id="9992d-167">Conéctese al publicador en [!INCLUDE[ssManStudioFull](../../includes/ssmanstudiofull-md.md)]y luego expanda el nodo del servidor.</span><span class="sxs-lookup"><span data-stu-id="9992d-167">Connect to the Publisher in [!INCLUDE[ssManStudioFull](../../includes/ssmanstudiofull-md.md)], and then expand the server node.</span></span>    
2.  <span data-ttu-id="9992d-168">Expanda la carpeta **Replicación** y, a continuación, expanda la carpeta **Publicaciones locales** .</span><span class="sxs-lookup"><span data-stu-id="9992d-168">Expand the **Replication** folder, and then expand the **Local Publications** folder.</span></span>    
3.  <span data-ttu-id="9992d-169">Haga clic con el botón secundario en la publicación en la que desea validar las suscripciones y, a continuación, haga clic en **Validar suscripciones**.</span><span class="sxs-lookup"><span data-stu-id="9992d-169">Right-click the publication for which you want to validate subscriptions, and then click **Validate Subscriptions**.</span></span>    
4.  <span data-ttu-id="9992d-170">En el cuadro de diálogo **Validar suscripciones** , seleccione las suscripciones que desea validar:</span><span class="sxs-lookup"><span data-stu-id="9992d-170">In the **Validate Subscriptions** dialog box, select which subscriptions to validate:</span></span>    
    -   <span data-ttu-id="9992d-171">Seleccione **Validar todas las suscripciones de SQL Server**.</span><span class="sxs-lookup"><span data-stu-id="9992d-171">Select **Validate all SQL Server subscriptions**.</span></span>    
    -   <span data-ttu-id="9992d-172">Seleccione **Validar las siguientes suscripciones:** y, a continuación, seleccione una o varias suscripciones.</span><span class="sxs-lookup"><span data-stu-id="9992d-172">Select **Validate the following subscriptions**, and then select one or more subscriptions.</span></span>    
5.  <span data-ttu-id="9992d-173">Para especificar el tipo de validación que se va a realizar (recuento de filas o recuento de filas y suma de comprobación), haga clic en **Opciones de validación**y, a continuación, especifique las opciones en el cuadro de diálogo **Opciones de validación de suscripciones** .</span><span class="sxs-lookup"><span data-stu-id="9992d-173">To specify the type of validation to perform (row count, or row count and checksum) click **Validation Options**, and then specify options in the **Subscription Validation Options** dialog box.</span></span>    
6.  [!INCLUDE[clickOK](../../includes/clickok-md.md)]  
  
7.  <span data-ttu-id="9992d-174">Vea los resultados de la validación en el Monitor de replicación o en el cuadro de diálogo **Ver estado de sincronización** .</span><span class="sxs-lookup"><span data-stu-id="9992d-174">View validation results in Replication Monitor or the **View Synchronization Status** dialog box.</span></span> <span data-ttu-id="9992d-175">Para cada suscripción:</span><span class="sxs-lookup"><span data-stu-id="9992d-175">For each subscription:</span></span>    
    1.  <span data-ttu-id="9992d-176">Expanda la publicación, haga clic con el botón secundario en la suscripción y, a continuación, haga clic en **Ver estado de sincronización**.</span><span class="sxs-lookup"><span data-stu-id="9992d-176">Expand the publication, right-click the subscription, and then click **View Synchronization Status**.</span></span>    
    2.  <span data-ttu-id="9992d-177">Si el agente no se está ejecutando, haga clic en **Iniciar** en el cuadro de diálogo **Ver estado de sincronización** .</span><span class="sxs-lookup"><span data-stu-id="9992d-177">If the agent is not running click **Start** in the **View Synchronization Status** dialog box.</span></span> <span data-ttu-id="9992d-178">En el cuadro de diálogo se mostrarán mensajes informativos relacionados con la validación.</span><span class="sxs-lookup"><span data-stu-id="9992d-178">The dialog box will display informational messages regarding validation.</span></span>  
  
     <span data-ttu-id="9992d-179">Si no ve ningún mensaje relacionado con la validación, el agente ya ha registrado un mensaje posterior.</span><span class="sxs-lookup"><span data-stu-id="9992d-179">If you do not see any messages regarding validation, the agent has already logged a subsequent message.</span></span> <span data-ttu-id="9992d-180">En este caso, vea los resultados de la validación en el Monitor de replicación.</span><span class="sxs-lookup"><span data-stu-id="9992d-180">In this case, view the validation results in Replication Monitor.</span></span> <span data-ttu-id="9992d-181">Para obtener más información, vea los procedimientos del Monitor de replicación en este tema.</span><span class="sxs-lookup"><span data-stu-id="9992d-181">For more information, see the Replication Monitor how to procedures in this topic.</span></span>  

### <a name="using-transact-sql-t-sql"></a><span data-ttu-id="9992d-182">Uso de Transact-SQL (T-SQL)</span><span class="sxs-lookup"><span data-stu-id="9992d-182">Using Transact-SQL (T-SQL)</span></span>

#### <a name="all-articles"></a><span data-ttu-id="9992d-183">Todos los artículos</span><span class="sxs-lookup"><span data-stu-id="9992d-183">All articles</span></span>
  
1.  <span data-ttu-id="9992d-184">En el publicador de la base de datos de publicaciones, ejecute [sp_publication_validation &#40;Transact-SQL&#41;](/sql/relational-databases/system-stored-procedures/sp-publication-validation-transact-sql).</span><span class="sxs-lookup"><span data-stu-id="9992d-184">At the Publisher on the publication database, execute [sp_publication_validation &#40;Transact-SQL&#41;](/sql/relational-databases/system-stored-procedures/sp-publication-validation-transact-sql).</span></span> <span data-ttu-id="9992d-185">Especifique la \*\* \@ publicación\*\* y uno de los siguientes valores para \*\* \@ rowcount_only\*\*:</span><span class="sxs-lookup"><span data-stu-id="9992d-185">Specify **\@publication** and one of the following values for **\@rowcount_only**:</span></span>    
    -   <span data-ttu-id="9992d-186">**1** : solo comprobación del recuento de filas (el valor predeterminado)</span><span class="sxs-lookup"><span data-stu-id="9992d-186">**1** - rowcount check only (the default)</span></span>    
    -   <span data-ttu-id="9992d-187">**2** : recuento de filas y suma de comprobación binaria.</span><span class="sxs-lookup"><span data-stu-id="9992d-187">**2** - rowcount and binary checksum.</span></span>  
  
    > [!NOTE]  
    >  <span data-ttu-id="9992d-188">Cuando se ejecuta [sp_publication_validation &#40;Transact-SQL&#41;](/sql/relational-databases/system-stored-procedures/sp-publication-validation-transact-sql), se ejecuta [sp_article_validation &#40;Transact-SQL&#41;](/sql/relational-databases/system-stored-procedures/sp-article-validation-transact-sql) para todos los artículos de la publicación.</span><span class="sxs-lookup"><span data-stu-id="9992d-188">When you execute [sp_publication_validation &#40;Transact-SQL&#41;](/sql/relational-databases/system-stored-procedures/sp-publication-validation-transact-sql), [sp_article_validation &#40;Transact-SQL&#41;](/sql/relational-databases/system-stored-procedures/sp-article-validation-transact-sql) is executed for each article in the publication.</span></span> <span data-ttu-id="9992d-189">Para ejecutar correctamente [sp_publication_validation &#40;Transact-SQL&#41;](/sql/relational-databases/system-stored-procedures/sp-publication-validation-transact-sql), debe tener los permisos establecidos en SELECT en todas las columnas de las tablas base publicadas.</span><span class="sxs-lookup"><span data-stu-id="9992d-189">To successfully execute [sp_publication_validation &#40;Transact-SQL&#41;](/sql/relational-databases/system-stored-procedures/sp-publication-validation-transact-sql), you must have SELECT permissions on all columns in the published base tables.</span></span>  
  
2.  <span data-ttu-id="9992d-190">(Opcional) Iniciar el Agente de distribución de cada suscripción si aún no se está ejecutando.</span><span class="sxs-lookup"><span data-stu-id="9992d-190">(Optional) Start the Distribution Agent for each subscription if it is not already running.</span></span> <span data-ttu-id="9992d-191">Para obtener más información, consulte [Synchronize a Pull Subscription](synchronize-a-pull-subscription.md) y [Synchronize a Push Subscription](synchronize-a-push-subscription.md).</span><span class="sxs-lookup"><span data-stu-id="9992d-191">For more information, see [Synchronize a Pull Subscription](synchronize-a-pull-subscription.md) and [Synchronize a Push Subscription](synchronize-a-push-subscription.md).</span></span>    
3.  <span data-ttu-id="9992d-192">Compruebe el resultado de la validación en la salida del agente.</span><span class="sxs-lookup"><span data-stu-id="9992d-192">Check the agent output for the result of the validation.</span></span> <span data-ttu-id="9992d-193">Para obtener más información, vea [Validar datos replicados](validate-data-at-the-subscriber.md).</span><span class="sxs-lookup"><span data-stu-id="9992d-193">For more information, see [Validate Replicated Data](validate-data-at-the-subscriber.md).</span></span>  
  
#### <a name="single-article"></a><span data-ttu-id="9992d-194">Artículo único</span><span class="sxs-lookup"><span data-stu-id="9992d-194">Single article</span></span> 
  
1.  <span data-ttu-id="9992d-195">En la base de datos de publicación del publicador, ejecute [sp_article_validation &#40;Transact-SQL&#41;](/sql/relational-databases/system-stored-procedures/sp-article-validation-transact-sql).</span><span class="sxs-lookup"><span data-stu-id="9992d-195">At the Publisher on the publication database, execute [sp_article_validation &#40;Transact-SQL&#41;](/sql/relational-databases/system-stored-procedures/sp-article-validation-transact-sql).</span></span> <span data-ttu-id="9992d-196">Especifique \*\* \@ Publication**, el nombre del artículo para \*\* \@ article**y uno de los siguientes valores para \*\* \@ rowcount_only\*\*:</span><span class="sxs-lookup"><span data-stu-id="9992d-196">Specify **\@publication**, the name of the article for **\@article**, and one of the following values for **\@rowcount_only**:</span></span>    
    -   <span data-ttu-id="9992d-197">**1** : solo comprobación del recuento de filas (el valor predeterminado)</span><span class="sxs-lookup"><span data-stu-id="9992d-197">**1** - Rowcount check only (the default)</span></span>    
    -   <span data-ttu-id="9992d-198">**2** : recuento de filas y suma de comprobación binaria.</span><span class="sxs-lookup"><span data-stu-id="9992d-198">**2** - Rowcount and binary checksum.</span></span>  
  
    > [!NOTE]  
    >  <span data-ttu-id="9992d-199">Para ejecutar correctamente [sp_article_validation &#40;Transact-SQL&#41;](/sql/relational-databases/system-stored-procedures/sp-article-validation-transact-sql), debe tener los permisos establecidos en SELECT en todas las columnas de la tabla base publicada.</span><span class="sxs-lookup"><span data-stu-id="9992d-199">To successfully execute [sp_article_validation &#40;Transact-SQL&#41;](/sql/relational-databases/system-stored-procedures/sp-article-validation-transact-sql), you must have SELECT permissions on all columns in the published base table.</span></span>  
  
2.  <span data-ttu-id="9992d-200">(Opcional) Iniciar el Agente de distribución de cada suscripción si aún no se está ejecutando.</span><span class="sxs-lookup"><span data-stu-id="9992d-200">(Optional) Start the Distribution Agent for each subscription if it is not already running.</span></span> <span data-ttu-id="9992d-201">Para obtener más información, consulte [Synchronize a Pull Subscription](synchronize-a-pull-subscription.md) y [Synchronize a Push Subscription](synchronize-a-push-subscription.md).</span><span class="sxs-lookup"><span data-stu-id="9992d-201">For more information, see [Synchronize a Pull Subscription](synchronize-a-pull-subscription.md) and [Synchronize a Push Subscription](synchronize-a-push-subscription.md).</span></span>    
3.  <span data-ttu-id="9992d-202">Compruebe el resultado de la validación en la salida del agente.</span><span class="sxs-lookup"><span data-stu-id="9992d-202">Check the agent output for the result of the validation.</span></span> <span data-ttu-id="9992d-203">Para obtener más información, vea [Validar datos replicados](validate-data-at-the-subscriber.md).</span><span class="sxs-lookup"><span data-stu-id="9992d-203">For more information, see [Validate Replicated Data](validate-data-at-the-subscriber.md).</span></span>  
  
#### <a name="single-subscriber"></a><span data-ttu-id="9992d-204">Suscriptor único</span><span class="sxs-lookup"><span data-stu-id="9992d-204">Single subscriber</span></span>
  
1.  <span data-ttu-id="9992d-205">En el publicador de la base de datos de publicación, abra una transacción explícita mediante [BEGIN TRANSACTION &#40;Transact-SQL&#41;](/sql/t-sql/language-elements/begin-transaction-transact-sql).</span><span class="sxs-lookup"><span data-stu-id="9992d-205">At the Publisher on the publication database, open an explicit transaction using [BEGIN TRANSACTION &#40;Transact-SQL&#41;](/sql/t-sql/language-elements/begin-transaction-transact-sql).</span></span>    
2.  <span data-ttu-id="9992d-206">En la base de datos de publicación del publicador, ejecute [sp_marksubscriptionvalidation &#40;Transact-SQL&#41;](/sql/relational-databases/system-stored-procedures/sp-marksubscriptionvalidation-transact-sql).</span><span class="sxs-lookup"><span data-stu-id="9992d-206">At the Publisher on the publication database, execute [sp_marksubscriptionvalidation &#40;Transact-SQL&#41;](/sql/relational-databases/system-stored-procedures/sp-marksubscriptionvalidation-transact-sql).</span></span> <span data-ttu-id="9992d-207">Especifique la publicación para la \*\* \@ publicación**, el nombre del suscriptor para el \*\* \@ suscriptor**y el nombre de la base de datos de suscripciones para \*\* \@ destination_db\*\*.</span><span class="sxs-lookup"><span data-stu-id="9992d-207">Specify the publication for **\@publication**, the name of the Subscriber for **\@subscriber**, and the name of the subscription database for **\@destination_db**.</span></span>    
3.  <span data-ttu-id="9992d-208">(Opcional) Repita el paso 2 para cada suscripción que se está validando.</span><span class="sxs-lookup"><span data-stu-id="9992d-208">(Optional) Repeat step 2 for each subscription being validated.</span></span>    
4.  <span data-ttu-id="9992d-209">En la base de datos de publicación del publicador, ejecute [sp_article_validation &#40;Transact-SQL&#41;](/sql/relational-databases/system-stored-procedures/sp-article-validation-transact-sql).</span><span class="sxs-lookup"><span data-stu-id="9992d-209">At the Publisher on the publication database, execute [sp_article_validation &#40;Transact-SQL&#41;](/sql/relational-databases/system-stored-procedures/sp-article-validation-transact-sql).</span></span> <span data-ttu-id="9992d-210">Especifique \*\* \@ Publication**, el nombre del artículo para \*\* \@ article**y uno de los siguientes valores para \*\* \@ rowcount_only\*\*:</span><span class="sxs-lookup"><span data-stu-id="9992d-210">Specify **\@publication**, the name of the article for **\@article**, and one of the following values for **\@rowcount_only**:</span></span>    
    -   <span data-ttu-id="9992d-211">**1** : solo comprobación del recuento de filas (el valor predeterminado)</span><span class="sxs-lookup"><span data-stu-id="9992d-211">**1** - Rowcount check only (the default)</span></span>    
    -   <span data-ttu-id="9992d-212">**2** : recuento de filas y suma de comprobación binaria.</span><span class="sxs-lookup"><span data-stu-id="9992d-212">**2** - Rowcount and binary checksum.</span></span>  
  
    > [!NOTE]  
    >  <span data-ttu-id="9992d-213">Para ejecutar correctamente [sp_article_validation &#40;Transact-SQL&#41;](/sql/relational-databases/system-stored-procedures/sp-article-validation-transact-sql), debe tener los permisos establecidos en SELECT en todas las columnas de la tabla base publicada.</span><span class="sxs-lookup"><span data-stu-id="9992d-213">To successfully execute [sp_article_validation &#40;Transact-SQL&#41;](/sql/relational-databases/system-stored-procedures/sp-article-validation-transact-sql), you must have SELECT permissions on all columns in the published base table.</span></span>  
  
5.  <span data-ttu-id="9992d-214">En la base de datos de publicación del publicador, confirme la transacción mediante [COMMIT TRANSACTION &#40;Transact-SQL&#41;](/sql/t-sql/language-elements/commit-transaction-transact-sql).</span><span class="sxs-lookup"><span data-stu-id="9992d-214">At the Publisher on the publication database, commit the transaction using [COMMIT TRANSACTION &#40;Transact-SQL&#41;](/sql/t-sql/language-elements/commit-transaction-transact-sql).</span></span>    
6.  <span data-ttu-id="9992d-215">(Opcional) Repita los pasos 1 a 5 para cada artículo que se está validando.</span><span class="sxs-lookup"><span data-stu-id="9992d-215">(Optional) Repeat steps 1 through 5 for each article being validated.</span></span>    
7.  <span data-ttu-id="9992d-216">(Opcional) Inicie el Agente de distribución si aún no se está ejecutando.</span><span class="sxs-lookup"><span data-stu-id="9992d-216">(Optional) Start the Distribution Agent if it is not already running.</span></span> <span data-ttu-id="9992d-217">Para obtener más información, consulte [Synchronize a Pull Subscription](synchronize-a-pull-subscription.md) y [Synchronize a Push Subscription](synchronize-a-push-subscription.md).</span><span class="sxs-lookup"><span data-stu-id="9992d-217">For more information, see [Synchronize a Pull Subscription](synchronize-a-pull-subscription.md) and [Synchronize a Push Subscription](synchronize-a-push-subscription.md).</span></span>    
8.  <span data-ttu-id="9992d-218">Compruebe el resultado de la validación en la salida del agente.</span><span class="sxs-lookup"><span data-stu-id="9992d-218">Check the agent output for the result of the validation.</span></span> <span data-ttu-id="9992d-219">Para más información, consulte [Validate Data at the Subscriber](validate-data-at-the-subscriber.md).</span><span class="sxs-lookup"><span data-stu-id="9992d-219">For more information, see [Validate Data at the Subscriber](validate-data-at-the-subscriber.md).</span></span>  

##  <a name="all-push-subscriptions-to-a-transactional-publication"></a><span data-ttu-id="9992d-220">Todas las suscripciones de extracción a una publicación transaccional</span><span class="sxs-lookup"><span data-stu-id="9992d-220">All push subscriptions to a Transactional Publication</span></span> 

### <a name="using-replication-monitor"></a><span data-ttu-id="9992d-221">Uso del Monitor de replicación</span><span class="sxs-lookup"><span data-stu-id="9992d-221">Using Replication Monitor</span></span>
  
1.  <span data-ttu-id="9992d-222">En el Monitor de replicación, expanda un grupo de publicador en el panel izquierdo y, a continuación, expanda un publicador.</span><span class="sxs-lookup"><span data-stu-id="9992d-222">In Replication Monitor, expand a Publisher group in the left pane, and then expand a Publisher.</span></span>    
2.  <span data-ttu-id="9992d-223">Haga clic con el botón secundario en la publicación en la que desea validar las suscripciones y, a continuación, haga clic en **Validar suscripciones**.</span><span class="sxs-lookup"><span data-stu-id="9992d-223">Right-click the publication for which you want to validate subscriptions, and then click **Validate Subscriptions**.</span></span>    
3.  <span data-ttu-id="9992d-224">En el cuadro de diálogo **Validar suscripciones** , seleccione las suscripciones que desea validar:</span><span class="sxs-lookup"><span data-stu-id="9992d-224">In the **Validate Subscriptions** dialog box, select which subscriptions to validate:</span></span>    
    -   <span data-ttu-id="9992d-225">Seleccione **Validar todas las suscripciones de SQL Server**.</span><span class="sxs-lookup"><span data-stu-id="9992d-225">Select **Validate all SQL Server subscriptions**.</span></span>    
    -   <span data-ttu-id="9992d-226">Seleccione **Validar las siguientes suscripciones:** y, a continuación, seleccione una o varias suscripciones.</span><span class="sxs-lookup"><span data-stu-id="9992d-226">Select **Validate the following subscriptions**, and then select one or more subscriptions.</span></span>   
4.  <span data-ttu-id="9992d-227">Para especificar el tipo de validación que se va a realizar (recuento de filas o recuento de filas y suma de comprobación), haga clic en **Opciones de validación**y, a continuación, especifique las opciones en el cuadro de diálogo **Opciones de validación de suscripciones** .</span><span class="sxs-lookup"><span data-stu-id="9992d-227">To specify the type of validation to perform (row count, or row count and checksum) click **Validation Options**, and then specify options in the **Subscription Validation Options** dialog box.</span></span>    
5.  [!INCLUDE[clickOK](../../includes/clickok-md.md)]    
6.  <span data-ttu-id="9992d-228">Haga clic en la pestaña **Todas las suscripciones** .</span><span class="sxs-lookup"><span data-stu-id="9992d-228">Click the **All Subscriptions** tab.</span></span>    
7.  <span data-ttu-id="9992d-229">Vea los resultados de la validación.</span><span class="sxs-lookup"><span data-stu-id="9992d-229">View validation results.</span></span> <span data-ttu-id="9992d-230">Para cada suscripción de inserción:</span><span class="sxs-lookup"><span data-stu-id="9992d-230">For each push subscription:</span></span>   
    1.  <span data-ttu-id="9992d-231">Si no se está ejecutando el agente, haga clic con el botón secundario en la suscripción y, a continuación, haga clic en **Iniciar sincronización**.</span><span class="sxs-lookup"><span data-stu-id="9992d-231">If the agent is not running, right-click the subscription, and then click **Start Synchronizing**.</span></span>   
    2.  <span data-ttu-id="9992d-232">Haga clic con el botón secundario en la suscripción y, a continuación, haga clic en **Ver detalles**.</span><span class="sxs-lookup"><span data-stu-id="9992d-232">Right-click the subscription, and then click **View Details**.</span></span>    
    3.  <span data-ttu-id="9992d-233">Vea información en la pestaña **Historial de Distribuidor a suscriptor** en el área de texto **Acciones en la sesión seleccionada** .</span><span class="sxs-lookup"><span data-stu-id="9992d-233">View information on the **Distributor to Subscriber History** tab in the **Actions in the selected session** text area.</span></span>  
  

## <a name="for-a-single-subscription-to-a-merge-publication"></a><span data-ttu-id="9992d-234">Para una única suscripción a una publicación de mezcla</span><span class="sxs-lookup"><span data-stu-id="9992d-234">For a single subscription to a Merge Publication</span></span>
  
### <a name="using-sql-server-management-studio"></a><span data-ttu-id="9992d-235">Uso de SQL Server Management Studio</span><span class="sxs-lookup"><span data-stu-id="9992d-235">Using SQL Server Management Studio</span></span>
  
1.  <span data-ttu-id="9992d-236">Conéctese al publicador en [!INCLUDE[ssManStudioFull](../../includes/ssmanstudiofull-md.md)]y luego expanda el nodo del servidor.</span><span class="sxs-lookup"><span data-stu-id="9992d-236">Connect to the Publisher in [!INCLUDE[ssManStudioFull](../../includes/ssmanstudiofull-md.md)], and then expand the server node.</span></span>    
2.  <span data-ttu-id="9992d-237">Expanda la carpeta **Replicación** y, a continuación, expanda la carpeta **Publicaciones locales** .</span><span class="sxs-lookup"><span data-stu-id="9992d-237">Expand the **Replication** folder, and then expand the **Local Publications** folder.</span></span>    
3.  <span data-ttu-id="9992d-238">Expanda la publicación en la que desea validar las suscripciones, haga clic con el botón secundario en la suscripción y, a continuación, haga clic en **Validar suscripción**.</span><span class="sxs-lookup"><span data-stu-id="9992d-238">Expand the publication for which you want to validate subscriptions, right-click the subscription, and then click **Validate Subscription**.</span></span>    
4.  <span data-ttu-id="9992d-239">En el cuadro de diálogo **Validar suscripción** , seleccione **Validar esta suscripción**.</span><span class="sxs-lookup"><span data-stu-id="9992d-239">In the **Validate Subscription** dialog box, select **Validate this subscription**.</span></span>    
5.  <span data-ttu-id="9992d-240">Para especificar el tipo de validación que se va a realizar (recuento de filas o recuento de filas y suma de comprobación), haga clic en **Opciones**y, a continuación, especifique las opciones en el cuadro de diálogo **Opciones de validación de suscripciones** .</span><span class="sxs-lookup"><span data-stu-id="9992d-240">To specify the type of validation to perform (row count, or row count and checksum) click **Options**, and then specify options in the **Subscription Validation Options** dialog box.</span></span>    
6.  [!INCLUDE[clickOK](../../includes/clickok-md.md)]    
7.  <span data-ttu-id="9992d-241">Vea los resultados de la validación en el Monitor de replicación o en el cuadro de diálogo **Ver estado de sincronización** :</span><span class="sxs-lookup"><span data-stu-id="9992d-241">View validation results in Replication Monitor or the **View Synchronization Status** dialog box:</span></span>  
    1.  <span data-ttu-id="9992d-242">Expanda la publicación, haga clic con el botón secundario en la suscripción y, a continuación, haga clic en **Ver estado de sincronización**.</span><span class="sxs-lookup"><span data-stu-id="9992d-242">Expand the publication, right-click the subscription, and then click **View Synchronization Status**.</span></span>   
    2.  <span data-ttu-id="9992d-243">Si el agente no se está ejecutando, haga clic en **Iniciar** en el cuadro de diálogo **Ver estado de sincronización** .</span><span class="sxs-lookup"><span data-stu-id="9992d-243">If the agent is not running, click **Start** in the **View Synchronization Status** dialog box.</span></span> <span data-ttu-id="9992d-244">En el cuadro de diálogo se mostrarán mensajes informativos relacionados con la validación.</span><span class="sxs-lookup"><span data-stu-id="9992d-244">The dialog box will display informational messages regarding validation.</span></span>  
  
     <span data-ttu-id="9992d-245">Si no ve ningún mensaje relacionado con la validación, el agente ya ha registrado un mensaje posterior.</span><span class="sxs-lookup"><span data-stu-id="9992d-245">If you do not see any messages regarding validation, the agent has already logged a subsequent message.</span></span> <span data-ttu-id="9992d-246">En este caso, vea los resultados de la validación en el Monitor de replicación.</span><span class="sxs-lookup"><span data-stu-id="9992d-246">In this case, view the validation results in Replication Monitor.</span></span> <span data-ttu-id="9992d-247">Para obtener más información, vea los procedimientos del Monitor de replicación en este tema.</span><span class="sxs-lookup"><span data-stu-id="9992d-247">For more information, see the Replication Monitor how to procedures in this topic.</span></span>  

### <a name="using-transact-sql-t-sql"></a><span data-ttu-id="9992d-248">Uso de Transact-SQL (T-SQL)</span><span class="sxs-lookup"><span data-stu-id="9992d-248">Using Transact-SQL (T-SQL)</span></span>

1.  <span data-ttu-id="9992d-249">En el publicador de la base de datos de publicaciones, ejecute [sp_validatemergesubscription &#40;Transact-SQL&#41;](/sql/relational-databases/system-stored-procedures/sp-validatemergesubscription-transact-sql).</span><span class="sxs-lookup"><span data-stu-id="9992d-249">At the Publisher on the publication database, execute [sp_validatemergesubscription &#40;Transact-SQL&#41;](/sql/relational-databases/system-stored-procedures/sp-validatemergesubscription-transact-sql).</span></span> <span data-ttu-id="9992d-250">Especifique \*\* \@ Publication**, el nombre del suscriptor para el \*\* \@ suscriptor**, el nombre de la base de datos de suscripciones para \*\* \@ subscriber_db**y uno de los siguientes valores para \*\* \@ LEVEL**:</span><span class="sxs-lookup"><span data-stu-id="9992d-250">Specify **\@publication**, the name of the Subscriber for **\@subscriber**, the name of the subscription database for **\@subscriber_db**, and one of the following values for **\@level**:</span></span>   
    -   <span data-ttu-id="9992d-251">**1** : validación solo del recuento de filas.</span><span class="sxs-lookup"><span data-stu-id="9992d-251">**1** - Rowcount-only validation.</span></span>    
    -   <span data-ttu-id="9992d-252">**3** : validación de la suma de comprobación binaria del recuento de filas.</span><span class="sxs-lookup"><span data-stu-id="9992d-252">**3** - Rowcount binary checksum validation.</span></span>  
  
     <span data-ttu-id="9992d-253">Esto marca la suscripción seleccionada para validación.</span><span class="sxs-lookup"><span data-stu-id="9992d-253">This marks the selected subscription for validation.</span></span>  
  
2.  <span data-ttu-id="9992d-254">Inicie el Agente de mezcla para cada suscripción.</span><span class="sxs-lookup"><span data-stu-id="9992d-254">Start the merge agent for each subscription.</span></span> <span data-ttu-id="9992d-255">Para obtener más información, consulte [Synchronize a Pull Subscription](synchronize-a-pull-subscription.md) y [Synchronize a Push Subscription](synchronize-a-push-subscription.md).</span><span class="sxs-lookup"><span data-stu-id="9992d-255">For more information, see [Synchronize a Pull Subscription](synchronize-a-pull-subscription.md) and [Synchronize a Push Subscription](synchronize-a-push-subscription.md).</span></span>    
3.  <span data-ttu-id="9992d-256">Compruebe el resultado de la validación en la salida del agente.</span><span class="sxs-lookup"><span data-stu-id="9992d-256">Check the agent output for the result of the validation.</span></span>    
4.  <span data-ttu-id="9992d-257">Repita los pasos 1 a 3 para cada suscripción que se está validando.</span><span class="sxs-lookup"><span data-stu-id="9992d-257">Repeat steps 1 through 3 for each subscription being validated.</span></span>  
  
> [!NOTE]  
>  <span data-ttu-id="9992d-258">Una suscripción a una publicación de combinación también se puede validar al final de una sincronización especificando el parámetro **-Validate** al ejecutar [Replication Merge Agent](agents/replication-merge-agent.md).</span><span class="sxs-lookup"><span data-stu-id="9992d-258">A subscription to a merge publication can also be validated at the end of a synchronization by specifying the **-Validate** parameter when running the [Replication Merge Agent](agents/replication-merge-agent.md).</span></span>  

  
## <a name="for-all-subscriptions-to-a-merge-publication"></a><span data-ttu-id="9992d-259">Para todas las suscripciones a una publicación de mezcla</span><span class="sxs-lookup"><span data-stu-id="9992d-259">For all subscriptions to a Merge Publication</span></span>

### <a name="using-sql-server-management-studio"></a><span data-ttu-id="9992d-260">Uso de SQL Server Management Studio</span><span class="sxs-lookup"><span data-stu-id="9992d-260">Using SQL Server Management Studio</span></span> 
  
1.  <span data-ttu-id="9992d-261">Conéctese al publicador en [!INCLUDE[ssManStudioFull](../../includes/ssmanstudiofull-md.md)]y luego expanda el nodo del servidor.</span><span class="sxs-lookup"><span data-stu-id="9992d-261">Connect to the Publisher in [!INCLUDE[ssManStudioFull](../../includes/ssmanstudiofull-md.md)], and then expand the server node.</span></span>    
2.  <span data-ttu-id="9992d-262">Expanda la carpeta **Replicación** y, a continuación, expanda la carpeta **Publicaciones locales** .</span><span class="sxs-lookup"><span data-stu-id="9992d-262">Expand the **Replication** folder, and then expand the **Local Publications** folder.</span></span>    
3.  <span data-ttu-id="9992d-263">Haga clic con el botón secundario en la publicación en la que desea validar las suscripciones y, a continuación, haga clic en **Validar todas las suscripciones**.</span><span class="sxs-lookup"><span data-stu-id="9992d-263">Right-click the publication for which you want to validate subscriptions, and then click **Validate All Subscriptions**.</span></span>    
4.  <span data-ttu-id="9992d-264">En el cuadro de diálogo **Validar todas las suscripciones** , especifique el tipo de validación que se va a realizar (recuento de filas o recuento de filas y suma de comprobación).</span><span class="sxs-lookup"><span data-stu-id="9992d-264">In the **Validate All Subscriptions** dialog box, specify the type of validation to perform (row count, or row count and checksum).</span></span>    
5.  [!INCLUDE[clickOK](../../includes/clickok-md.md)]    
6.  <span data-ttu-id="9992d-265">Ver los resultados de la validación en el monitor de replicación o en el cuadro de diálogo **ver estado de sincronización** .</span><span class="sxs-lookup"><span data-stu-id="9992d-265">View validation results in Replication Monitor or the **View Synchronization Status** dialog box.</span></span> <span data-ttu-id="9992d-266">Para cada suscripción:</span><span class="sxs-lookup"><span data-stu-id="9992d-266">For each subscription:</span></span>    
    1.  <span data-ttu-id="9992d-267">Expanda la publicación, haga clic con el botón secundario en la suscripción y, a continuación, haga clic en **Ver estado de sincronización**.</span><span class="sxs-lookup"><span data-stu-id="9992d-267">Expand the publication, right-click the subscription, and then click **View Synchronization Status**.</span></span>   
    2.  <span data-ttu-id="9992d-268">Si el agente no se está ejecutando, haga clic en **Iniciar** en el cuadro de diálogo **Ver estado de sincronización** .</span><span class="sxs-lookup"><span data-stu-id="9992d-268">If the agent is not running, click **Start** in the **View Synchronization Status** dialog box.</span></span> <span data-ttu-id="9992d-269">En el cuadro de diálogo se mostrarán mensajes informativos relacionados con la validación.</span><span class="sxs-lookup"><span data-stu-id="9992d-269">The dialog box will display informational messages regarding validation.</span></span>  
  
     <span data-ttu-id="9992d-270">Si no ve ningún mensaje relacionado con la validación, el agente ya ha registrado un mensaje posterior.</span><span class="sxs-lookup"><span data-stu-id="9992d-270">If you do not see any messages regarding validation, the agent has already logged a subsequent message.</span></span> <span data-ttu-id="9992d-271">En este caso, vea los resultados de la validación en el Monitor de replicación.</span><span class="sxs-lookup"><span data-stu-id="9992d-271">In this case, view the validation results in Replication Monitor.</span></span> <span data-ttu-id="9992d-272">Para obtener más información, vea los procedimientos del Monitor de replicación en este tema.</span><span class="sxs-lookup"><span data-stu-id="9992d-272">For more information, see the Replication Monitor how to procedures in this topic.</span></span>  

### <a name="using-transact-sql-t-sql"></a><span data-ttu-id="9992d-273">Uso de Transact-SQL (T-SQL)</span><span class="sxs-lookup"><span data-stu-id="9992d-273">Using Transact-SQL (T-SQL)</span></span>

1.  <span data-ttu-id="9992d-274">En el publicador de la base de datos de publicaciones, ejecute [sp_validatemergepublication &#40;Transact-SQL&#41;](/sql/relational-databases/system-stored-procedures/sp-validatemergepublication-transact-sql).</span><span class="sxs-lookup"><span data-stu-id="9992d-274">At the Publisher on the publication database, execute [sp_validatemergepublication &#40;Transact-SQL&#41;](/sql/relational-databases/system-stored-procedures/sp-validatemergepublication-transact-sql).</span></span> <span data-ttu-id="9992d-275">Especifique la \*\* \@ publicación\*\* y uno de los siguientes valores para \*\* \@ LEVEL\*\*:</span><span class="sxs-lookup"><span data-stu-id="9992d-275">Specify **\@publication** and one of the following values for **\@level**:</span></span>    
    -   <span data-ttu-id="9992d-276">**1** : validación solo del recuento de filas.</span><span class="sxs-lookup"><span data-stu-id="9992d-276">**1** - Rowcount-only validation.</span></span>    
    -   <span data-ttu-id="9992d-277">**3** : validación de la suma de comprobación binaria del recuento de filas.</span><span class="sxs-lookup"><span data-stu-id="9992d-277">**3** - Rowcount binary checksum validation.</span></span>  
  
     <span data-ttu-id="9992d-278">Esto marca todas las suscripciones para validación.</span><span class="sxs-lookup"><span data-stu-id="9992d-278">This marks all subscriptions for validation.</span></span>  
  
2.  <span data-ttu-id="9992d-279">Inicie el Agente de mezcla para cada suscripción.</span><span class="sxs-lookup"><span data-stu-id="9992d-279">Start the merge agent for each subscription.</span></span> <span data-ttu-id="9992d-280">Para obtener más información, consulte [Synchronize a Pull Subscription](synchronize-a-pull-subscription.md) y [Synchronize a Push Subscription](synchronize-a-push-subscription.md).</span><span class="sxs-lookup"><span data-stu-id="9992d-280">For more information, see [Synchronize a Pull Subscription](synchronize-a-pull-subscription.md) and [Synchronize a Push Subscription](synchronize-a-push-subscription.md).</span></span>    
3.  <span data-ttu-id="9992d-281">Compruebe el resultado de la validación en la salida del agente.</span><span class="sxs-lookup"><span data-stu-id="9992d-281">Check the agent output for the result of the validation.</span></span> <span data-ttu-id="9992d-282">Para más información, consulte [Validate Data at the Subscriber](validate-data-at-the-subscriber.md).</span><span class="sxs-lookup"><span data-stu-id="9992d-282">For more information, see [Validate Data at the Subscriber](validate-data-at-the-subscriber.md).</span></span>  


## <a name="for-a-single-push-subscription-to-a-merge-publication"></a><span data-ttu-id="9992d-283">Para una única suscripción de inserción a una publicación de mezcla</span><span class="sxs-lookup"><span data-stu-id="9992d-283">For a single push subscription to a Merge Publication</span></span> 

### <a name="using-replication-monitor"></a><span data-ttu-id="9992d-284">Uso del Monitor de replicación</span><span class="sxs-lookup"><span data-stu-id="9992d-284">Using Replication Monitor</span></span>
  
1.  <span data-ttu-id="9992d-285">En el Monitor de replicación, expanda un grupo de publicador en el panel izquierdo, expanda un publicador y, a continuación, haga clic en una publicación.</span><span class="sxs-lookup"><span data-stu-id="9992d-285">In Replication Monitor, expand a Publisher group in the left pane, expand a Publisher, and then click a publication.</span></span>    
2.  <span data-ttu-id="9992d-286">Haga clic en la pestaña **Todas las suscripciones** .</span><span class="sxs-lookup"><span data-stu-id="9992d-286">Click the **All Subscriptions** tab.</span></span>    
3.  <span data-ttu-id="9992d-287">Haga clic con el botón secundario en la suscripción que desea validar y, a continuación, haga clic en **Validar suscripción**.</span><span class="sxs-lookup"><span data-stu-id="9992d-287">Right-click the subscription you want to validate, and then click **Validate Subscription**.</span></span>    
4.  <span data-ttu-id="9992d-288">En el cuadro de diálogo **Validar suscripción** , seleccione **Validar esta suscripción**.</span><span class="sxs-lookup"><span data-stu-id="9992d-288">In the **Validate Subscription** dialog box, select **Validate this subscription**.</span></span>    
5.  <span data-ttu-id="9992d-289">Para especificar el tipo de validación que se va a realizar (recuento de filas o recuento de filas y suma de comprobación), haga clic en **Opciones**y, a continuación, especifique las opciones en el cuadro de diálogo **Opciones de validación de suscripciones** .</span><span class="sxs-lookup"><span data-stu-id="9992d-289">To specify the type of validation to perform (row count, or row count and checksum) click **Options**, and then specify options in the **Subscription Validation Options** dialog box.</span></span>    
6.  [!INCLUDE[clickOK](../../includes/clickok-md.md)]    
7.  <span data-ttu-id="9992d-290">Haga clic en la pestaña **Todas las suscripciones** .</span><span class="sxs-lookup"><span data-stu-id="9992d-290">Click the **All Subscriptions** tab.</span></span>    
8.  <span data-ttu-id="9992d-291">Vea los resultados de la validación:</span><span class="sxs-lookup"><span data-stu-id="9992d-291">View validation results:</span></span>    
    1.  <span data-ttu-id="9992d-292">Si no se está ejecutando el agente, haga clic con el botón secundario en la suscripción y, a continuación, haga clic en **Iniciar sincronización**.</span><span class="sxs-lookup"><span data-stu-id="9992d-292">If the agent is not running, right-click the subscription, and then click **Start Synchronizing**.</span></span>    
    2.  <span data-ttu-id="9992d-293">Haga clic con el botón secundario en la suscripción y, a continuación, haga clic en **Ver detalles**.</span><span class="sxs-lookup"><span data-stu-id="9992d-293">Right-click the subscription, and then click **View Details**.</span></span>    
    3.  <span data-ttu-id="9992d-294">Vea información en la pestaña **Historial de sincronizaciones** en el área de texto **Último mensaje de la sesión seleccionada:** .</span><span class="sxs-lookup"><span data-stu-id="9992d-294">View information on the **Synchronization History** tab in the **Last message of the selected session** text area.</span></span>  
  
## <a name="for-all-push-subscriptions-to-a-merge-publication"></a><span data-ttu-id="9992d-295">Para todas las suscripciones de inserción a una publicación de mezcla</span><span class="sxs-lookup"><span data-stu-id="9992d-295">For all push subscriptions to a Merge Publication</span></span> 

### <a name="using-replication-monitor"></a><span data-ttu-id="9992d-296">Uso del Monitor de replicación</span><span class="sxs-lookup"><span data-stu-id="9992d-296">Using Replication Monitor</span></span>
  
1.  <span data-ttu-id="9992d-297">En el Monitor de replicación, expanda un grupo de publicador en el panel izquierdo y, a continuación, expanda un publicador.</span><span class="sxs-lookup"><span data-stu-id="9992d-297">In Replication Monitor, expand a Publisher group in the left pane, and then expand a Publisher.</span></span>    
2.  <span data-ttu-id="9992d-298">Haga clic con el botón secundario en la publicación en la que desea validar las suscripciones y, a continuación, haga clic en **Validar todas las suscripciones**.</span><span class="sxs-lookup"><span data-stu-id="9992d-298">Right-click the publication for which you want to validate subscriptions, and then click **Validate All Subscriptions**.</span></span>    
3.  <span data-ttu-id="9992d-299">En el cuadro de diálogo **Validar todas las suscripciones** , especifique el tipo de validación que se va a realizar (recuento de filas o recuento de filas y suma de comprobación).</span><span class="sxs-lookup"><span data-stu-id="9992d-299">In the **Validate All Subscriptions** dialog box, specify the type of validation to perform (row count, or row count and checksum).</span></span>    
4.  [!INCLUDE[clickOK](../../includes/clickok-md.md)]    
5.  <span data-ttu-id="9992d-300">Haga clic en la pestaña **Todas las suscripciones** .</span><span class="sxs-lookup"><span data-stu-id="9992d-300">Click the **All Subscriptions** tab.</span></span>    
6.  <span data-ttu-id="9992d-301">Vea los resultados de la validación.</span><span class="sxs-lookup"><span data-stu-id="9992d-301">View validation results.</span></span> <span data-ttu-id="9992d-302">Para cada suscripción de inserción:</span><span class="sxs-lookup"><span data-stu-id="9992d-302">For each push subscription:</span></span>    
    1.  <span data-ttu-id="9992d-303">Si no se está ejecutando el agente, haga clic con el botón secundario en la suscripción y, a continuación, haga clic en **Iniciar sincronización**.</span><span class="sxs-lookup"><span data-stu-id="9992d-303">If the agent is not running, right-click the subscription, and then click **Start Synchronizing**.</span></span>    
    2.  <span data-ttu-id="9992d-304">Haga clic con el botón secundario en la suscripción y, a continuación, haga clic en **Ver detalles**.</span><span class="sxs-lookup"><span data-stu-id="9992d-304">Right-click the subscription, and then click **View Details**.</span></span>    
    3.  <span data-ttu-id="9992d-305">Vea información en la pestaña **Historial de sincronizaciones** en el área de texto **Último mensaje de la sesión seleccionada:** .</span><span class="sxs-lookup"><span data-stu-id="9992d-305">View information on the **Synchronization History** tab in the **Last message of the selected session** text area.</span></span>  
  
  
## <a name="validate-data-using-merge-agent-parameters"></a><span data-ttu-id="9992d-306">Validar datos mediante parámetros de Agente de mezcla</span><span class="sxs-lookup"><span data-stu-id="9992d-306">Validate data using Merge Agent Parameters</span></span>
  
1.  <span data-ttu-id="9992d-307">Inicie el Agente de mezcla en el suscriptor (suscripción de extracción) o en el distribuidor (suscripción de inserción) del símbolo del sistema de una de las siguientes maneras.</span><span class="sxs-lookup"><span data-stu-id="9992d-307">Start the Merge Agent at the Subscriber (pull subscription) or at the Distributor (push subscription) from the command prompt in one of the following ways.</span></span>    
    -   <span data-ttu-id="9992d-308">Especificando un valor de **1** (número de filas) o **3** (número de filas y suma de comprobación binaria) para el parámetro **-Validate** .</span><span class="sxs-lookup"><span data-stu-id="9992d-308">Specifying a value of **1** (rowcount) or **3** (rowcount and binary checksum) for the **-Validate** parameter.</span></span>   
    -   <span data-ttu-id="9992d-309">Especificando la **validación del recuento de filas** o la **validación del recuento de filas y de la suma de comprobación** para el parámetro **- ProfileName** .</span><span class="sxs-lookup"><span data-stu-id="9992d-309">Specifying **rowcount validation** or **rowcount and checksum validation** for the **-ProfileName** parameter.</span></span>  
  
     <span data-ttu-id="9992d-310">Para obtener más información, consulte [Synchronize a Pull Subscription](synchronize-a-pull-subscription.md) o [Synchronize a Push Subscription](synchronize-a-push-subscription.md).</span><span class="sxs-lookup"><span data-stu-id="9992d-310">For more information, see [Synchronize a Pull Subscription](synchronize-a-pull-subscription.md) or [Synchronize a Push Subscription](synchronize-a-push-subscription.md).</span></span>  
  
## <a name="using-replication-management-objects-rmo"></a><span data-ttu-id="9992d-311">Usar Replication Management Objects (RMO)</span><span class="sxs-lookup"><span data-stu-id="9992d-311">Using Replication Management Objects (RMO)</span></span>  
 <span data-ttu-id="9992d-312">La replicación permite usar Replication Management Objects (RMO) para validar mediante programación si los datos del suscriptor coinciden con los datos del publicador.</span><span class="sxs-lookup"><span data-stu-id="9992d-312">Replication enables you to use Replication Management Objects (RMO) to programmatically validate that data at the Subscriber matches data at the Publisher.</span></span> <span data-ttu-id="9992d-313">Los objetos que se usan dependen del tipo de topología de replicación.</span><span class="sxs-lookup"><span data-stu-id="9992d-313">The objects you use depend on the type of replication topology.</span></span> <span data-ttu-id="9992d-314">La replicación transaccional requiere la validación de todas las suscripciones a una publicación.</span><span class="sxs-lookup"><span data-stu-id="9992d-314">Transactional replication requires validation of all subscriptions to a publication.</span></span>  
  
> [!NOTE]  
>  <span data-ttu-id="9992d-315">Para obtener un ejemplo, vea [Ejemplo (RMO)](#RMOExample)más adelante en esta sección.</span><span class="sxs-lookup"><span data-stu-id="9992d-315">For an example, see [Example (RMO)](#RMOExample), later in this section.</span></span>  
  
#### <a name="to-validate-data-for-all-articles-in-a-transactional-publication"></a><span data-ttu-id="9992d-316">Para validar los datos de todos los artículos de una publicación transaccional</span><span class="sxs-lookup"><span data-stu-id="9992d-316">To validate data for all articles in a transactional publication</span></span>  
  
1.  <span data-ttu-id="9992d-317">Cree una conexión al publicador mediante la clase <xref:Microsoft.SqlServer.Management.Common.ServerConnection> .</span><span class="sxs-lookup"><span data-stu-id="9992d-317">Create a connection to the Publisher by using the <xref:Microsoft.SqlServer.Management.Common.ServerConnection> class.</span></span>    
2.  <span data-ttu-id="9992d-318">Cree una instancia de la clase <xref:Microsoft.SqlServer.Replication.TransPublication>.</span><span class="sxs-lookup"><span data-stu-id="9992d-318">Create an instance of the <xref:Microsoft.SqlServer.Replication.TransPublication> class.</span></span> <span data-ttu-id="9992d-319">Establezca las propiedades <xref:Microsoft.SqlServer.Replication.Publication.Name%2A> y <xref:Microsoft.SqlServer.Replication.Publication.DatabaseName%2A> de la publicación.</span><span class="sxs-lookup"><span data-stu-id="9992d-319">Set the <xref:Microsoft.SqlServer.Replication.Publication.Name%2A> and <xref:Microsoft.SqlServer.Replication.Publication.DatabaseName%2A> properties for the publication.</span></span> <span data-ttu-id="9992d-320">Establezca la propiedad <xref:Microsoft.SqlServer.Replication.ReplicationObject.ConnectionContext%2A> en la conexión creada en el paso 1.</span><span class="sxs-lookup"><span data-stu-id="9992d-320">Set the <xref:Microsoft.SqlServer.Replication.ReplicationObject.ConnectionContext%2A> property to the connection created in step 1.</span></span>   
3.  <span data-ttu-id="9992d-321">Llame al método <xref:Microsoft.SqlServer.Replication.ReplicationObject.LoadProperties%2A> para obtener las propiedades restantes del objeto.</span><span class="sxs-lookup"><span data-stu-id="9992d-321">Call the <xref:Microsoft.SqlServer.Replication.ReplicationObject.LoadProperties%2A> method to get the remaining properties of the object.</span></span> <span data-ttu-id="9992d-322">Si este método devuelve `false`, significa que las propiedades de publicación del paso 2 se definieron incorrectamente, o bien que la publicación no existe.</span><span class="sxs-lookup"><span data-stu-id="9992d-322">If this method returns `false`, either the publication properties in step 2 were defined incorrectly or the publication does not exist.</span></span>    
4.  <span data-ttu-id="9992d-323">Llame al método <xref:Microsoft.SqlServer.Replication.TransPublication.ValidatePublication%2A> .</span><span class="sxs-lookup"><span data-stu-id="9992d-323">Call the <xref:Microsoft.SqlServer.Replication.TransPublication.ValidatePublication%2A> method.</span></span> <span data-ttu-id="9992d-324">Pase lo siguiente:</span><span class="sxs-lookup"><span data-stu-id="9992d-324">Pass the following:</span></span>    
    -   <xref:Microsoft.SqlServer.Replication.ValidationOption>    
    -   <xref:Microsoft.SqlServer.Replication.ValidationMethod>    
    -   <span data-ttu-id="9992d-325">Un valor booleano que indique si se debe detener el Agente de distribución una vez completada la validación.</span><span class="sxs-lookup"><span data-stu-id="9992d-325">A Boolean that indicates whether to stop the Distribution Agent after validation is completed.</span></span>  
  
     <span data-ttu-id="9992d-326">De esta forma se marcan los artículos para la validación.</span><span class="sxs-lookup"><span data-stu-id="9992d-326">This marks the articles for validation.</span></span>  
  
5.  <span data-ttu-id="9992d-327">Si no se está ejecutando, inicie el Agente de distribución para sincronizar cada suscripción.</span><span class="sxs-lookup"><span data-stu-id="9992d-327">If not already running, start the Distribution Agent to synchronize each subscription.</span></span> <span data-ttu-id="9992d-328">Para obtener más información, consulte [Synchronize a Push Subscription](synchronize-a-push-subscription.md) o [Synchronize a Pull Subscription](synchronize-a-pull-subscription.md).</span><span class="sxs-lookup"><span data-stu-id="9992d-328">For more information, see [Synchronize a Push Subscription](synchronize-a-push-subscription.md) or [Synchronize a Pull Subscription](synchronize-a-pull-subscription.md).</span></span> <span data-ttu-id="9992d-329">El resultado de la operación de la validación se escribe en el historial del agente.</span><span class="sxs-lookup"><span data-stu-id="9992d-329">The result of the validation operation is written to the agent history.</span></span> <span data-ttu-id="9992d-330">Para más información, consulte [Monitoring Replication](monitoring-replication.md).</span><span class="sxs-lookup"><span data-stu-id="9992d-330">For more information, see [Monitoring Replication](monitoring-replication.md).</span></span>  
  
#### <a name="to-validate-data-in-all-subscriptions-to-a-merge-publication"></a><span data-ttu-id="9992d-331">Para validar los datos de todas las suscripciones a una publicación de combinación</span><span class="sxs-lookup"><span data-stu-id="9992d-331">To validate data in all subscriptions to a merge publication</span></span>  
  
1.  <span data-ttu-id="9992d-332">Cree una conexión al publicador mediante la clase <xref:Microsoft.SqlServer.Management.Common.ServerConnection> .</span><span class="sxs-lookup"><span data-stu-id="9992d-332">Create a connection to the Publisher by using the <xref:Microsoft.SqlServer.Management.Common.ServerConnection> class.</span></span>   
2.  <span data-ttu-id="9992d-333">Cree una instancia de la clase <xref:Microsoft.SqlServer.Replication.MergePublication>.</span><span class="sxs-lookup"><span data-stu-id="9992d-333">Create an instance of the <xref:Microsoft.SqlServer.Replication.MergePublication> class.</span></span> <span data-ttu-id="9992d-334">Establezca las propiedades <xref:Microsoft.SqlServer.Replication.Publication.Name%2A> y <xref:Microsoft.SqlServer.Replication.Publication.DatabaseName%2A> de la publicación.</span><span class="sxs-lookup"><span data-stu-id="9992d-334">Set the <xref:Microsoft.SqlServer.Replication.Publication.Name%2A> and <xref:Microsoft.SqlServer.Replication.Publication.DatabaseName%2A> properties for the publication.</span></span> <span data-ttu-id="9992d-335">Establezca la propiedad <xref:Microsoft.SqlServer.Replication.ReplicationObject.ConnectionContext%2A> en la conexión creada en el paso 1.</span><span class="sxs-lookup"><span data-stu-id="9992d-335">Set the <xref:Microsoft.SqlServer.Replication.ReplicationObject.ConnectionContext%2A> property to the connection created in step 1.</span></span>   
3.  <span data-ttu-id="9992d-336">Llame al método <xref:Microsoft.SqlServer.Replication.ReplicationObject.LoadProperties%2A> para obtener las propiedades restantes del objeto.</span><span class="sxs-lookup"><span data-stu-id="9992d-336">Call the <xref:Microsoft.SqlServer.Replication.ReplicationObject.LoadProperties%2A> method to get the remaining properties of the object.</span></span> <span data-ttu-id="9992d-337">Si este método devuelve `false`, significa que las propiedades de publicación del paso 2 se definieron incorrectamente, o bien que la publicación no existe.</span><span class="sxs-lookup"><span data-stu-id="9992d-337">If this method returns `false`, either the publication properties in step 2 were defined incorrectly or the publication does not exist.</span></span>    
4.  <span data-ttu-id="9992d-338">Llame al método <xref:Microsoft.SqlServer.Replication.MergePublication.ValidatePublication%2A> .</span><span class="sxs-lookup"><span data-stu-id="9992d-338">Call the <xref:Microsoft.SqlServer.Replication.MergePublication.ValidatePublication%2A> method.</span></span> <span data-ttu-id="9992d-339">Pase el valor de <xref:Microsoft.SqlServer.Replication.ValidationOption>que desee.</span><span class="sxs-lookup"><span data-stu-id="9992d-339">Pass the desired <xref:Microsoft.SqlServer.Replication.ValidationOption>.</span></span>    
5.  <span data-ttu-id="9992d-340">Ejecute el Agente de mezcla en cada suscripción para iniciar la validación o espere hasta la siguiente ejecución programada del agente.</span><span class="sxs-lookup"><span data-stu-id="9992d-340">Run the Merge Agent for each subscription to start validation, or wait for the next scheduled agent run.</span></span> <span data-ttu-id="9992d-341">Para obtener más información, consulte [Synchronize a Pull Subscription](synchronize-a-pull-subscription.md) y [Synchronize a Push Subscription](synchronize-a-push-subscription.md).</span><span class="sxs-lookup"><span data-stu-id="9992d-341">For more information, see [Synchronize a Pull Subscription](synchronize-a-pull-subscription.md) and [Synchronize a Push Subscription](synchronize-a-push-subscription.md).</span></span> <span data-ttu-id="9992d-342">El resultado de la operación de la validación se escribe en el historial del agente, que se puede consultar con el Monitor de replicación.</span><span class="sxs-lookup"><span data-stu-id="9992d-342">The result of the validation operation is written to the agent history, which you view by using Replication Monitor.</span></span> <span data-ttu-id="9992d-343">Para más información, consulte [Monitoring Replication](monitoring-replication.md).</span><span class="sxs-lookup"><span data-stu-id="9992d-343">For more information, see [Monitoring Replication](monitoring-replication.md).</span></span>  
  
#### <a name="to-validate-data-in-a-single-subscription-to-a-merge-publication"></a><span data-ttu-id="9992d-344">Para validar los datos de una única suscripción a una publicación de combinación</span><span class="sxs-lookup"><span data-stu-id="9992d-344">To validate data in a single subscription to a merge publication</span></span>  
  
1.  <span data-ttu-id="9992d-345">Cree una conexión al publicador mediante la clase <xref:Microsoft.SqlServer.Management.Common.ServerConnection> .</span><span class="sxs-lookup"><span data-stu-id="9992d-345">Create a connection to the Publisher by using the <xref:Microsoft.SqlServer.Management.Common.ServerConnection> class.</span></span>    
2.  <span data-ttu-id="9992d-346">Cree una instancia de la clase <xref:Microsoft.SqlServer.Replication.MergePublication>.</span><span class="sxs-lookup"><span data-stu-id="9992d-346">Create an instance of the <xref:Microsoft.SqlServer.Replication.MergePublication> class.</span></span> <span data-ttu-id="9992d-347">Establezca las propiedades <xref:Microsoft.SqlServer.Replication.Publication.Name%2A> y <xref:Microsoft.SqlServer.Replication.Publication.DatabaseName%2A> de la publicación.</span><span class="sxs-lookup"><span data-stu-id="9992d-347">Set the <xref:Microsoft.SqlServer.Replication.Publication.Name%2A> and <xref:Microsoft.SqlServer.Replication.Publication.DatabaseName%2A> properties for the publication.</span></span> <span data-ttu-id="9992d-348">Establezca la propiedad <xref:Microsoft.SqlServer.Replication.ReplicationObject.ConnectionContext%2A> en la conexión creada en el paso 1.</span><span class="sxs-lookup"><span data-stu-id="9992d-348">Set the <xref:Microsoft.SqlServer.Replication.ReplicationObject.ConnectionContext%2A> property to the connection created in step 1.</span></span>    
3.  <span data-ttu-id="9992d-349">Llame al método <xref:Microsoft.SqlServer.Replication.ReplicationObject.LoadProperties%2A> para obtener las propiedades restantes del objeto.</span><span class="sxs-lookup"><span data-stu-id="9992d-349">Call the <xref:Microsoft.SqlServer.Replication.ReplicationObject.LoadProperties%2A> method to get the remaining properties of the object.</span></span> <span data-ttu-id="9992d-350">Si este método devuelve `false`, significa que las propiedades de publicación del paso 2 se definieron incorrectamente, o bien que la publicación no existe.</span><span class="sxs-lookup"><span data-stu-id="9992d-350">If this method returns `false`, either the publication properties in step 2 were defined incorrectly or the publication does not exist.</span></span>    
4.  <span data-ttu-id="9992d-351">Llame al método <xref:Microsoft.SqlServer.Replication.MergePublication.ValidateSubscription%2A> .</span><span class="sxs-lookup"><span data-stu-id="9992d-351">Call the <xref:Microsoft.SqlServer.Replication.MergePublication.ValidateSubscription%2A> method.</span></span> <span data-ttu-id="9992d-352">Pase el nombre del suscriptor y la base de datos de suscripciones que se validan y el valor de <xref:Microsoft.SqlServer.Replication.ValidationOption>deseado.</span><span class="sxs-lookup"><span data-stu-id="9992d-352">Pass the name of the Subscriber and subscription database being validated and the desired <xref:Microsoft.SqlServer.Replication.ValidationOption>.</span></span>    
5.  <span data-ttu-id="9992d-353">Ejecute el Agente de mezcla en la suscripción para iniciar la validación o espere hasta la siguiente ejecución programada del agente.</span><span class="sxs-lookup"><span data-stu-id="9992d-353">Run the Merge Agent for the subscription to start validation, or wait for the next scheduled agent run.</span></span> <span data-ttu-id="9992d-354">Para obtener más información, consulte [Synchronize a Pull Subscription](synchronize-a-pull-subscription.md) y [Synchronize a Push Subscription](synchronize-a-push-subscription.md).</span><span class="sxs-lookup"><span data-stu-id="9992d-354">For more information, see [Synchronize a Pull Subscription](synchronize-a-pull-subscription.md) and [Synchronize a Push Subscription](synchronize-a-push-subscription.md).</span></span> <span data-ttu-id="9992d-355">El resultado de la operación de la validación se escribe en el historial del agente, que se puede consultar con el Monitor de replicación.</span><span class="sxs-lookup"><span data-stu-id="9992d-355">The result of the validation operation is written to the agent history, which you view by using Replication Monitor.</span></span> <span data-ttu-id="9992d-356">Para más información, consulte [Monitoring Replication](monitoring-replication.md).</span><span class="sxs-lookup"><span data-stu-id="9992d-356">For more information, see [Monitoring Replication](monitoring-replication.md).</span></span>  
  
###  <a name="example-rmo"></a><a name="RMOExample"></a> <span data-ttu-id="9992d-357">Ejemplo (RMO)</span><span class="sxs-lookup"><span data-stu-id="9992d-357">Example (RMO)</span></span>  
 <span data-ttu-id="9992d-358">Este ejemplo marca todas las suscripciones a una publicación transaccional para la validación del recuento de filas.</span><span class="sxs-lookup"><span data-stu-id="9992d-358">This example marks all subscriptions to a transactional publication for rowcount validation.</span></span>  
  
 [!code-csharp[HowTo#rmo_ValidateTranPub](../../snippets/csharp/SQL15/replication/howto/cs/rmotestevelope.cs#rmo_validatetranpub)]  
  
 [!code-vb[HowTo#rmo_vb_ValidateTranPub](../../snippets/visualbasic/SQL15/replication/howto/vb/rmotestenv.vb#rmo_vb_validatetranpub)]  
  
 <span data-ttu-id="9992d-359">Este ejemplo marca una suscripción específica a una publicación de combinación para la validación del recuento de filas.</span><span class="sxs-lookup"><span data-stu-id="9992d-359">This example marks a specific subscription to a merge publication for rowcount validation.</span></span>  
  
 [!code-csharp[HowTo#rmo_ValidateMergeSub](../../snippets/csharp/SQL15/replication/howto/cs/rmotestevelope.cs#rmo_validatemergesub)]  
  
 [!code-vb[HowTo#rmo_vb_ValidateMergeSub](../../snippets/visualbasic/SQL15/replication/howto/vb/rmotestenv.vb#rmo_vb_validatemergesub)]  
  
  
