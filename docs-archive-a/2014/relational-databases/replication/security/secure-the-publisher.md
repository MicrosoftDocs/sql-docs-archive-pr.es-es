---
title: Proteger el publicador | Microsoft Docs
ms.custom: ''
ms.date: 03/08/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: replication
ms.topic: conceptual
helpviewer_keywords:
- logins [SQL Server replication], publication access list
- publications [SQL Server replication], publication access lists
- publication access list (PAL)
- PAL (publication access list)
- Publishers [SQL Server replication], security
- publications [SQL Server replication], security
ms.assetid: 4513a18d-dd6e-407a-b009-49dc9432ec7e
author: MashaMSFT
ms.author: mathoma
ms.openlocfilehash: dca3f704c43a97c2c34921007341b9bd613676ea
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 08/04/2020
ms.locfileid: "87675268"
---
# <a name="secure-the-publisher"></a><span data-ttu-id="63b41-102">Proteger el publicador</span><span class="sxs-lookup"><span data-stu-id="63b41-102">Secure the Publisher</span></span>
  <span data-ttu-id="63b41-103">Los siguientes agentes de replicación se conectan al publicador:</span><span class="sxs-lookup"><span data-stu-id="63b41-103">The following replication agents connect to the Publisher:</span></span>  
  
-   <span data-ttu-id="63b41-104">Agente de registro del LOG</span><span class="sxs-lookup"><span data-stu-id="63b41-104">Log Reader Agent</span></span>  
  
-   <span data-ttu-id="63b41-105">Agente de instantáneas</span><span class="sxs-lookup"><span data-stu-id="63b41-105">Snapshot Agent</span></span>  
  
-   <span data-ttu-id="63b41-106">Agente de lectura de cola</span><span class="sxs-lookup"><span data-stu-id="63b41-106">Queue Reader Agent</span></span>  
  
-   <span data-ttu-id="63b41-107">Agente de mezcla</span><span class="sxs-lookup"><span data-stu-id="63b41-107">Merge Agent</span></span>  
  
 <span data-ttu-id="63b41-108">Se recomienda proporcionar un inicio de sesión adecuado para estos agentes, seguir el principio de conceder los derechos mínimos necesarios y proteger el almacenamiento de todas las contraseñas.</span><span class="sxs-lookup"><span data-stu-id="63b41-108">We recommend that you provide an appropriate login for these agents, follow the principle of granting the minimal rights that are required, and protect the storage of all passwords.</span></span> <span data-ttu-id="63b41-109">Para obtener información acerca de los permisos necesarios para cada agente, vea [Replication Agent Security Model](replication-agent-security-model.md).</span><span class="sxs-lookup"><span data-stu-id="63b41-109">For information about the permissions that are required for each agent, see [Replication Agent Security Model](replication-agent-security-model.md).</span></span>  
  
 <span data-ttu-id="63b41-110">Además de administrar inicios de sesión y contraseñas correctamente, es necesario comprender el rol de la lista de acceso a la publicación (PAL).</span><span class="sxs-lookup"><span data-stu-id="63b41-110">Besides appropriately managing logins and passwords, you should understand the role of the publication access list (PAL).</span></span> <span data-ttu-id="63b41-111">Esta lista se utiliza para permitir que los inicios de sesión tengan acceso a los datos de la publicación al tiempo que se restringe el acceso ad hoc a la base de datos en el publicador.</span><span class="sxs-lookup"><span data-stu-id="63b41-111">The PAL is used to enable logins to access to publication data while restricting ad hoc access to the database at the Publisher.</span></span>  
  
## <a name="publication-access-list"></a><span data-ttu-id="63b41-112">Lista de acceso a la publicación</span><span class="sxs-lookup"><span data-stu-id="63b41-112">Publication Access List</span></span>  
 <span data-ttu-id="63b41-113">La PAL es el mecanismo principal para proteger las publicaciones en el publicador.</span><span class="sxs-lookup"><span data-stu-id="63b41-113">The PAL is the primary mechanism for securing publications at the Publisher.</span></span> <span data-ttu-id="63b41-114">La PAL funciona de forma similar a las listas de control de acceso de [!INCLUDE[msCoName](../../../includes/msconame-md.md)] Windows.</span><span class="sxs-lookup"><span data-stu-id="63b41-114">The PAL functions similarly to a [!INCLUDE[msCoName](../../../includes/msconame-md.md)] Windows access control list.</span></span> <span data-ttu-id="63b41-115">Al crear una publicación, la replicación crea una PAL para dicha publicación.</span><span class="sxs-lookup"><span data-stu-id="63b41-115">When you create a publication, replication creates a PAL for the publication.</span></span> <span data-ttu-id="63b41-116">La PAL puede configurarse para que contenga una lista de los inicios de sesión y los grupos a los que se han concedido permiso de acceso a la publicación.</span><span class="sxs-lookup"><span data-stu-id="63b41-116">The PAL can be configured to contain a list of logins and groups that are granted access to the publication.</span></span> <span data-ttu-id="63b41-117">Cuando un agente se conecta al publicador o al distribuidor y solicita acceso a una publicación, la información de autenticación de la PAL se compara con el inicio de sesión del publicador que proporciona el agente.</span><span class="sxs-lookup"><span data-stu-id="63b41-117">When an agent connects to the Publisher or Distributor and requests access to a publication, the authentication information in the PAL is compared to the Publisher login that the agent provides.</span></span> <span data-ttu-id="63b41-118">Este proceso proporciona seguridad adicional para el publicador al impedir que una herramienta de cliente utilice el inicio de sesión del publicador y del distribuidor para realizar modificaciones directamente en el publicador.</span><span class="sxs-lookup"><span data-stu-id="63b41-118">This process provides additional security for the Publisher by preventing the Publisher and Distributor login from being used by a client tool to perform modifications on the Publisher directly.</span></span>  
  
> [!NOTE]  
>  <span data-ttu-id="63b41-119">La replicación crea un rol en el publicador para cada publicación para exigir la pertenencia a la PAL.</span><span class="sxs-lookup"><span data-stu-id="63b41-119">Replication creates a role on the Publisher for each publication to enforce PAL membership.</span></span> <span data-ttu-id="63b41-120">El rol tiene un nombre con el formato **Msmerge_** _\<PublicationID>_ para la replicación de mezcla y **MSReplPAL_** _\<PublicationDatabaseID>_ **_** _\<PublicationID>_ para la replicación transaccional y de instantáneas.</span><span class="sxs-lookup"><span data-stu-id="63b41-120">The role has a name in the form **Msmerge_**_\<PublicationID>_ for merge replication and **MSReplPAL_**_\<PublicationDatabaseID>_**_**_\<PublicationID>_ for transactional and snapshot replication.</span></span>  
  
 <span data-ttu-id="63b41-121">Los inicios de sesión incluidos en la PAL de forma predeterminada son: los miembros del rol fijo de servidor **sysadmin** cuando se crea la publicación y el inicio de sesión utilizado para crear la publicación.</span><span class="sxs-lookup"><span data-stu-id="63b41-121">By default, the following logins are included in the PAL: the members of the **sysadmin** fixed server role at the time the publication is created and the login that is used to create the publication.</span></span> <span data-ttu-id="63b41-122">De forma predeterminada, todos los inicios de sesión miembros del rol fijo de servidor **sysadmin** o el rol fijo de base de datos **db_owner** en la base de datos de publicaciones pueden suscribirse a una publicación sin agregarse explícitamente a la PAL.</span><span class="sxs-lookup"><span data-stu-id="63b41-122">By default, all logins that are members of the **sysadmin** fixed server role or the **db_owner** fixed database role on the publication database can subscribe to a publication without being explicitly added to the PAL.</span></span>  
  
 <span data-ttu-id="63b41-123">Cuando utilice la PAL, tenga en cuenta las siguientes directrices:</span><span class="sxs-lookup"><span data-stu-id="63b41-123">When you are using the PAL, consider the following guidelines:</span></span>  
  
-   <span data-ttu-id="63b41-124">Debe asociar el inicio de sesión de [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] a un usuario de la base de datos de publicaciones antes de agregar el inicio de sesión a la PAL.</span><span class="sxs-lookup"><span data-stu-id="63b41-124">You must associate the [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] login with a database user in the publication database before adding the login to the PAL.</span></span>  
  
-   <span data-ttu-id="63b41-125">Respete el principio de privilegios mínimos proporcionando a los inicios de sesión de la PAL solo los permisos que necesitan para realizar tareas de replicación.</span><span class="sxs-lookup"><span data-stu-id="63b41-125">Follow the principle of least privilege by allowing logins in the PAL only the permissions the logins must have to perform replication tasks.</span></span> <span data-ttu-id="63b41-126">No agregue los inicios de sesión a los roles fijos de base de datos ni a los roles de servidor que no sean necesarios para replicación.</span><span class="sxs-lookup"><span data-stu-id="63b41-126">Do not add the logins to any fixed database roles or server roles that are not required for replication.</span></span> <span data-ttu-id="63b41-127">Para obtener más información acerca de los permisos necesarios, vea [Replication Agent Security Model](replication-agent-security-model.md) y [Replication Security Best Practices](replication-security-best-practices.md).</span><span class="sxs-lookup"><span data-stu-id="63b41-127">For more information about the permissions that are required, see [Replication Agent Security Model](replication-agent-security-model.md) and [Replication Security Best Practices](replication-security-best-practices.md).</span></span>  
  
-   <span data-ttu-id="63b41-128">Si se utiliza un distribuidor remoto, las cuentas de la lista de acceso de la publicación deben estar disponibles tanto en el publicador como en el distribuidor.</span><span class="sxs-lookup"><span data-stu-id="63b41-128">If a remote Distributor is used, accounts in the PAL must be available at both the Publisher and the Distributor.</span></span> <span data-ttu-id="63b41-129">La cuenta debe ser una cuenta de dominio o una cuenta local que esté definida en ambos servidores.</span><span class="sxs-lookup"><span data-stu-id="63b41-129">The account must be either a domain account or a local account that is defined at both servers.</span></span> <span data-ttu-id="63b41-130">Las contraseñas asociadas a ambos inicios de sesión deben ser iguales.</span><span class="sxs-lookup"><span data-stu-id="63b41-130">The passwords associated with both logins must be the same.</span></span>  
  
-   <span data-ttu-id="63b41-131">Si la PAL contiene cuentas de Windows y el dominio utiliza Active Directory, la cuenta con la que se ejecuta [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] debe tener permisos de lectura en Active Directory.</span><span class="sxs-lookup"><span data-stu-id="63b41-131">If the PAL contains Windows accounts and the domain uses Active Directory, the account under which [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] runs must have permissions to read from Active Directory.</span></span> <span data-ttu-id="63b41-132">Si tiene problemas con cuentas de Windows, asegúrese de que la cuenta con la que se ejecuta [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] tiene permisos suficientes.</span><span class="sxs-lookup"><span data-stu-id="63b41-132">If you experience issues with Windows accounts, make sure that the account under which [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] runs has sufficient permissions.</span></span> <span data-ttu-id="63b41-133">Para obtener más información, consulte la documentación de Windows.</span><span class="sxs-lookup"><span data-stu-id="63b41-133">For more information, see the Windows documentation.</span></span>  
  
 <span data-ttu-id="63b41-134">Para administrar la PAL, vea [Manage Logins in the Publication Access List](manage-logins-in-the-publication-access-list.md) (Administrar inicios de sesión en la lista de acceso a la publicación).</span><span class="sxs-lookup"><span data-stu-id="63b41-134">To manage the PAL, see [Manage Logins in the Publication Access List](manage-logins-in-the-publication-access-list.md).</span></span>  
  
## <a name="snapshot-agent"></a><span data-ttu-id="63b41-135">Agente de instantáneas</span><span class="sxs-lookup"><span data-stu-id="63b41-135">Snapshot Agent</span></span>  
 <span data-ttu-id="63b41-136">Existe un Agente de instantáneas para cada publicación.</span><span class="sxs-lookup"><span data-stu-id="63b41-136">There is one Snapshot Agent for each publication.</span></span> <span data-ttu-id="63b41-137">Para obtener más información, vea [Crear una suscripción](../publish/create-a-publication.md).</span><span class="sxs-lookup"><span data-stu-id="63b41-137">For more information, see [Create a Publication](../publish/create-a-publication.md).</span></span>  
  
## <a name="ftp-snapshot-delivery"></a><span data-ttu-id="63b41-138">Entrega de instantáneas a través de FTP</span><span class="sxs-lookup"><span data-stu-id="63b41-138">FTP Snapshot Delivery</span></span>  
 <span data-ttu-id="63b41-139">Si especifica que las instantáneas deben estar disponibles a través de un recurso compartido FTP en lugar de un recurso compartido UNC, es preciso indicar un inicio de sesión y una contraseña al configurar el acceso FTP.</span><span class="sxs-lookup"><span data-stu-id="63b41-139">If you specify that snapshots should be made available through an FTP share rather than a UNC share, you must specify a login and password when configuring FTP access.</span></span> <span data-ttu-id="63b41-140">Para obtener más información, vea [Entregar una instantánea mediante FTP](../publish/deliver-a-snapshot-through-ftp.md).</span><span class="sxs-lookup"><span data-stu-id="63b41-140">For more information, see [Deliver a Snapshot Through FTP](../publish/deliver-a-snapshot-through-ftp.md).</span></span>  
  
## <a name="log-reader-agent"></a><span data-ttu-id="63b41-141">Agente de registro del LOG</span><span class="sxs-lookup"><span data-stu-id="63b41-141">Log Reader Agent</span></span>  
 <span data-ttu-id="63b41-142">Existe un Agente de registro del LOG para cada base de datos publicada para la replicación transaccional.</span><span class="sxs-lookup"><span data-stu-id="63b41-142">There is one Log Reader Agent for each database published for transactional replication.</span></span> <span data-ttu-id="63b41-143">Para obtener más información, vea [Crear una suscripción](../publish/create-a-publication.md).</span><span class="sxs-lookup"><span data-stu-id="63b41-143">For more information, see [Create a Publication](../publish/create-a-publication.md).</span></span>  
  
## <a name="queue-reader-agent"></a><span data-ttu-id="63b41-144">Agente de lectura de cola</span><span class="sxs-lookup"><span data-stu-id="63b41-144">Queue Reader Agent</span></span>  
 <span data-ttu-id="63b41-145">Existe un Agente de lectura de cola para todos los publicadores y publicaciones (que permite las suscripciones de actualización en cola) asociados a un distribuidor determinado.</span><span class="sxs-lookup"><span data-stu-id="63b41-145">There is one Queue Reader Agent for all Publishers and publications (that allow queued updating subscriptions) associated with a given Distributor.</span></span> <span data-ttu-id="63b41-146">Para más información, vea [Enable Updating Subscriptions for Transactional Publications](../publish/enable-updating-subscriptions-for-transactional-publications.md) (Habilitar suscripciones actualizables para publicaciones transaccionales).</span><span class="sxs-lookup"><span data-stu-id="63b41-146">For more information, see [Enable Updating Subscriptions for Transactional Publications](../publish/enable-updating-subscriptions-for-transactional-publications.md).</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="63b41-147">Consulte también</span><span class="sxs-lookup"><span data-stu-id="63b41-147">See Also</span></span>  
 <span data-ttu-id="63b41-148">[Habilitar conexiones cifradas en el motor de base de datos &#40;Administrador de configuración de SQL Server&#41;](../../../database-engine/configure-windows/enable-encrypted-connections-to-the-database-engine.md) </span><span class="sxs-lookup"><span data-stu-id="63b41-148">[Enable Encrypted Connections to the Database Engine &#40;SQL Server Configuration Manager&#41;](../../../database-engine/configure-windows/enable-encrypted-connections-to-the-database-engine.md) </span></span>  
 <span data-ttu-id="63b41-149">[Replication Security Best Practices](replication-security-best-practices.md) </span><span class="sxs-lookup"><span data-stu-id="63b41-149">[Replication Security Best Practices](replication-security-best-practices.md) </span></span>  
 [<span data-ttu-id="63b41-150">Seguridad de Replicación de SQL Server</span><span class="sxs-lookup"><span data-stu-id="63b41-150">SQL Server Replication Security</span></span>](view-and-modify-replication-security-settings.md)  
  
  
