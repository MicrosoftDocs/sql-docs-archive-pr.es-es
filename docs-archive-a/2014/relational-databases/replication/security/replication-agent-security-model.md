---
title: Modelo de seguridad del Agente de replicación | Microsoft Docs
ms.custom: ''
ms.date: 10/07/2015
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: replication
ms.topic: conceptual
helpviewer_keywords:
- Snapshot Agent, security
- agents [SQL Server replication], security
- Distribution Agent, security
- logins [SQL Server replication], permissions for agents
- security [SQL Server replication], agent security model
- Log Reader Agent, security
- Queue Reader Agent, security
- Merge Agent, security
- replication [SQL Server], agents and profiles
ms.assetid: 6d09fc8d-843a-4a7a-9812-f093d99d8192
author: MashaMSFT
ms.author: mathoma
ms.openlocfilehash: da597bf97422f5a0960062b385bc0b67338edfe1
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 08/04/2020
ms.locfileid: "87661905"
---
# <a name="replication-agent-security-model"></a><span data-ttu-id="916ae-102">Modelo de seguridad del Agente de replicación</span><span class="sxs-lookup"><span data-stu-id="916ae-102">Replication Agent Security Model</span></span>
  <span data-ttu-id="916ae-103">El modelo de seguridad del agente de replicación permite un control perfecto de las cuentas con las que los agentes de replicación se ejecutan y realizan las conexiones: se puede especificar una cuenta distinta para cada agente.</span><span class="sxs-lookup"><span data-stu-id="916ae-103">The replication agent security model allows for fine-grained control over the accounts under which replication agents run and make connections: A different account can be specified for each agent.</span></span> <span data-ttu-id="916ae-104">Para obtener más información sobre cómo especificar cuentas, vea [Administrar inicios de sesión y contraseñas en la replicación](identity-and-access-control-replication.md#manage-logins-and-passwords-in-replication).</span><span class="sxs-lookup"><span data-stu-id="916ae-104">For more information about how to specify accounts, see [Manage Logins and Passwords in Replication](identity-and-access-control-replication.md#manage-logins-and-passwords-in-replication).</span></span>  
  
> [!IMPORTANT]  
>  <span data-ttu-id="916ae-105">Cuando un miembro de rol fijo de servidor **sysadmin** configura la replicación, los agentes de replicación se pueden configurar para suplantar la cuenta del Agente [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] .</span><span class="sxs-lookup"><span data-stu-id="916ae-105">When a member of the **sysadmin** fixed server role configures replication, replication agents can be configured to impersonate the [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] Agent account.</span></span> <span data-ttu-id="916ae-106">Esto se consigue no especificando ningún inicio de sesión ni contraseña para el agente de replicación; no obstante, no se recomienda este enfoque.</span><span class="sxs-lookup"><span data-stu-id="916ae-106">This is done by not specifying a login and password for a replication agent; however, we do not recommend this approach.</span></span> <span data-ttu-id="916ae-107">En su lugar, por seguridad, se recomienda especificar una cuenta para cada agente con los permisos mínimos descritos en la sección "Permisos requeridos por los agentes", más adelante en este tema.</span><span class="sxs-lookup"><span data-stu-id="916ae-107">Instead, as a security best practice, we recommend that you specify an account for each agent that has the minimum permissions that are described in the section "Permissions That Are Required by Agents" later in this topic.</span></span>  
  
 <span data-ttu-id="916ae-108">Los agentes de replicación, como todos los ejecutables, se ejecutan en el contexto de una cuenta de Windows.</span><span class="sxs-lookup"><span data-stu-id="916ae-108">Replication agents, like all executables, run under the context of a Windows account.</span></span> <span data-ttu-id="916ae-109">Los agentes establecen conexiones de seguridad integrada de Windows usando esta cuenta.</span><span class="sxs-lookup"><span data-stu-id="916ae-109">The agents make Windows Integrated Security connections by using this account.</span></span> <span data-ttu-id="916ae-110">La cuenta con la que se ejecuta el agente depende de la forma en que se inicie el agente:</span><span class="sxs-lookup"><span data-stu-id="916ae-110">The account under which the agent runs depends on how the agent is started:</span></span>  
  
-   <span data-ttu-id="916ae-111">Inicio del agente desde un trabajo del Agente de [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] (valor predeterminado): cuando se usa un trabajo del Agente [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] para iniciar un agente de replicación, el agente se ejecuta en el contexto de la cuenta que se especifica al configurar la replicación.</span><span class="sxs-lookup"><span data-stu-id="916ae-111">Starting the agent from a [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] Agent job, the default: When a [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] Agent job is used to start a replication agent, the agent runs under the context of an account that you specify when you configure replication.</span></span> <span data-ttu-id="916ae-112">Para obtener más información acerca del Agente [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] y la replicación, vea la sección "Seguridad de agentes con el Agente SQL Server", más adelante en este tema.</span><span class="sxs-lookup"><span data-stu-id="916ae-112">For more information about [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] Agent and replication, see the section "Agent Security under SQL Server Agent" later in this topic.</span></span> <span data-ttu-id="916ae-113">Para obtener información sobre los permisos necesarios para la cuenta con la que se ejecuta el Agente [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)], vea [Configurar el Agente SQL Server](../../../ssms/agent/configure-sql-server-agent.md).</span><span class="sxs-lookup"><span data-stu-id="916ae-113">For information about the permissions that are required for the account under which [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] Agent runs, see [Configure SQL Server Agent](../../../ssms/agent/configure-sql-server-agent.md).</span></span>  
  
-   <span data-ttu-id="916ae-114">Inicio del agente desde una línea de comandos de MS-DOS, ya sea directamente o a través de un script: el agente se ejecuta en el contexto de la cuenta del usuario que ejecuta al agente en la línea de comandos.</span><span class="sxs-lookup"><span data-stu-id="916ae-114">Starting the agent from an MS-DOS command line, either directly or through a script: The agent runs under the context of the account of the user that is running the agent at the command line.</span></span>  
  
-   <span data-ttu-id="916ae-115">Inicio del agente desde una aplicación que usa Replication Management Objects (RMO) o un control ActiveX: el agente se ejecuta en el contexto de la aplicación que llama a RMO o al control ActiveX.</span><span class="sxs-lookup"><span data-stu-id="916ae-115">Starting the agent from an application that uses Replication Management Objects (RMO) or an ActiveX control: The agent runs under the context of the application that is calling RMO or the ActiveX control.</span></span>  
  
    > [!NOTE]  
    >  <span data-ttu-id="916ae-116">Los controles ActiveX han quedado desusados.</span><span class="sxs-lookup"><span data-stu-id="916ae-116">ActiveX controls are deprecated.</span></span>  
  
 <span data-ttu-id="916ae-117">Se recomienda que las conexiones se realicen en el contexto de la seguridad integrada de Windows.</span><span class="sxs-lookup"><span data-stu-id="916ae-117">We recommend that connections be made under the context of Windows Integrated Security.</span></span> <span data-ttu-id="916ae-118">Para mantener la compatibilidad con versiones anteriores, también se puede utilizar la seguridad de [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] .</span><span class="sxs-lookup"><span data-stu-id="916ae-118">For backward compatibility, [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] Security can also be used.</span></span> <span data-ttu-id="916ae-119">Para obtener más información acerca de las prácticas recomendadas, consulte [Replication Security Best Practices](replication-security-best-practices.md).</span><span class="sxs-lookup"><span data-stu-id="916ae-119">For more information about best practices, see [Replication Security Best Practices](replication-security-best-practices.md).</span></span>  
  
## <a name="permissions-that-are-required-by-agents"></a><span data-ttu-id="916ae-120">Permisos requeridos por los agentes</span><span class="sxs-lookup"><span data-stu-id="916ae-120">Permissions That Are Required by Agents</span></span>  
 <span data-ttu-id="916ae-121">Las cuentas con las que los agentes se ejecutan y realizan conexiones requieren diversos permisos.</span><span class="sxs-lookup"><span data-stu-id="916ae-121">The accounts under which agents run and make connections require a variety of permissions.</span></span> <span data-ttu-id="916ae-122">Estos permisos se describen en la siguiente tabla.</span><span class="sxs-lookup"><span data-stu-id="916ae-122">These permissions are described in the following table.</span></span> <span data-ttu-id="916ae-123">Se recomienda que cada agente se ejecute con una cuenta de Windows diferente y que solo se concedan los permisos requeridos a la cuenta.</span><span class="sxs-lookup"><span data-stu-id="916ae-123">We recommend that each agent run under a different Windows account and the account should be granted only the required permissions.</span></span> <span data-ttu-id="916ae-124">Para obtener información sobre la lista de acceso a la publicación (PAL), que es importante para varios agentes, vea [Proteger el publicador](secure-the-publisher.md).</span><span class="sxs-lookup"><span data-stu-id="916ae-124">For information about the publication access list (PAL), which is relevant for a number of agents, see [Secure the Publisher](secure-the-publisher.md).</span></span>  
  
> [!NOTE]  
>  <span data-ttu-id="916ae-125">Control de cuentas de usuario (UAC) de algunos sistemas operativos Windows puede impedir el acceso administrativo al recurso compartido de instantáneas.</span><span class="sxs-lookup"><span data-stu-id="916ae-125">User Account Control (UAC) in some Windows operating systems can prevent administrative access to the snapshot share.</span></span> <span data-ttu-id="916ae-126">Por lo tanto, debe conceder de forma explícita permisos del recurso compartido de instantáneas a las cuentas de Windows usadas por el Agente de instantáneas, el Agente de distribución y el Agente de mezcla.</span><span class="sxs-lookup"><span data-stu-id="916ae-126">You must therefore explicitly grant snapshot share permissions to the Windows accounts that are used by the Snapshot Agent, Distribution Agent, and Merge Agent.</span></span> <span data-ttu-id="916ae-127">Debe hacerlo incluso si las cuentas de Windows pertenecen al grupo Administradores.</span><span class="sxs-lookup"><span data-stu-id="916ae-127">You must do this even if the Windows accounts are members of the Administrators group.</span></span> <span data-ttu-id="916ae-128">Para obtener más información, vea [Proteger la carpeta de instantáneas](secure-the-snapshot-folder.md).</span><span class="sxs-lookup"><span data-stu-id="916ae-128">For more information, see [Secure the Snapshot Folder](secure-the-snapshot-folder.md).</span></span>  
  
|<span data-ttu-id="916ae-129">Agente</span><span class="sxs-lookup"><span data-stu-id="916ae-129">Agent</span></span>|<span data-ttu-id="916ae-130">Permisos</span><span class="sxs-lookup"><span data-stu-id="916ae-130">Permissions</span></span>|  
|-----------|-----------------|  
|<span data-ttu-id="916ae-131">Agente de instantáneas</span><span class="sxs-lookup"><span data-stu-id="916ae-131">Snapshot Agent</span></span>|<span data-ttu-id="916ae-132">La cuenta de Windows con la que se ejecuta el agente se utiliza al realizar conexiones al distribuidor.</span><span class="sxs-lookup"><span data-stu-id="916ae-132">The Windows account under which the agent runs is used when it makes connections to the Distributor.</span></span> <span data-ttu-id="916ae-133">Esta cuenta debe:</span><span class="sxs-lookup"><span data-stu-id="916ae-133">This account must:</span></span><br /><br /> <span data-ttu-id="916ae-134">− Ser como mínimo miembro del rol fijo de base de datos **db_owner** en la base de datos de distribución.</span><span class="sxs-lookup"><span data-stu-id="916ae-134">-At minimum, be a member of the **db_owner** fixed database role in the distribution database.</span></span><br /><br /> <span data-ttu-id="916ae-135">− Tener permisos de lectura, escritura y modificación en el recurso compartido de instantáneas.</span><span class="sxs-lookup"><span data-stu-id="916ae-135">-Have read, write, and modify permissions on the snapshot share.</span></span><br /><br /> <br /><br /> <span data-ttu-id="916ae-136">La cuenta utilizada para conectarse al publicador debe ser miembro, como mínimo, del rol fijo de base de datos **db_owner** en la base de datos de publicaciones.</span><span class="sxs-lookup"><span data-stu-id="916ae-136">The account that is used to connect to the Publisher must at minimum be a member of the **db_owner** fixed database role in the publication database.</span></span>|  
|<span data-ttu-id="916ae-137">Agente de registro del LOG</span><span class="sxs-lookup"><span data-stu-id="916ae-137">Log Reader Agent</span></span>|<span data-ttu-id="916ae-138">La cuenta de Windows con la que se ejecuta el agente se utiliza al realizar conexiones al distribuidor.</span><span class="sxs-lookup"><span data-stu-id="916ae-138">The Windows account under which the agent runs is used when it makes connections to the Distributor.</span></span> <span data-ttu-id="916ae-139">Esta cuenta debe ser, como mínimo, miembro del rol fijo de base de datos **db_owner** en la base de datos de distribución.</span><span class="sxs-lookup"><span data-stu-id="916ae-139">This account must at minimum be a member of the **db_owner** fixed database role in the distribution database.</span></span><br /><br /> <span data-ttu-id="916ae-140">La cuenta utilizada para conectarse al publicador debe ser miembro, como mínimo, del rol fijo de base de datos **db_owner** en la base de datos de publicaciones.</span><span class="sxs-lookup"><span data-stu-id="916ae-140">The account that is used to connect to the Publisher must at minimum be a member of the **db_owner** fixed database role in the publication database.</span></span><br /><br /> <span data-ttu-id="916ae-141">Al seleccionar las `sync_type` opciones *solo compatibilidad con la replicación*, *inicializar con copia de seguridad*o *inicializar desde LSN*, el agente de registro del log se debe ejecutar después `sp_addsubscription` de ejecutar, de modo que los scripts de instalación se escriban en la base de datos de distribución.</span><span class="sxs-lookup"><span data-stu-id="916ae-141">When selecting the `sync_type` options *replication support only*, *initialize with backup*, or *initialize from lsn*, the log reader agent must run after executing `sp_addsubscription`, so that the set-up scripts are written to the distribution database.</span></span> <span data-ttu-id="916ae-142">El agente de registro del LOG se debe ejecutar con una cuenta que sea miembro del rol fijo de servidor **sysadmin** .</span><span class="sxs-lookup"><span data-stu-id="916ae-142">The log reader agent must be running under an account that is a member of the **sysadmin** fixed server role.</span></span> <span data-ttu-id="916ae-143">Cuando la `sync_type` opción se establece en *automático*, no se requiere ninguna acción especial del agente de registro del log.</span><span class="sxs-lookup"><span data-stu-id="916ae-143">When the `sync_type` option is set to *Automatic*, no special log reader agent actions are required.</span></span>|  
|<span data-ttu-id="916ae-144">Agente de distribución para una suscripción de inserción</span><span class="sxs-lookup"><span data-stu-id="916ae-144">Distribution Agent for a push subscription</span></span>|<span data-ttu-id="916ae-145">La cuenta de Windows con la que se ejecuta el agente se utiliza al realizar conexiones al distribuidor.</span><span class="sxs-lookup"><span data-stu-id="916ae-145">The Windows account under which the agent runs is used when it makes connections to the Distributor.</span></span> <span data-ttu-id="916ae-146">Esta cuenta debe:</span><span class="sxs-lookup"><span data-stu-id="916ae-146">This account must:</span></span><br /><br /> <span data-ttu-id="916ae-147">− Ser como mínimo miembro del rol fijo de base de datos **db_owner** en la base de datos de distribución.</span><span class="sxs-lookup"><span data-stu-id="916ae-147">-At minimum be a member of the **db_owner** fixed database role in the distribution database.</span></span><br /><br /> <span data-ttu-id="916ae-148">− Ser miembro de la PAL.</span><span class="sxs-lookup"><span data-stu-id="916ae-148">-Be a member of the PAL.</span></span><br /><br /> <span data-ttu-id="916ae-149">− Tener permisos de lectura en el recurso compartido de instantáneas.</span><span class="sxs-lookup"><span data-stu-id="916ae-149">-Have read permissions on the snapshot share.</span></span><br /><br /> <span data-ttu-id="916ae-150">− Tener permisos de lectura en el directorio de instalación del proveedor OLE DB para el suscriptor si la suscripción es para un suscriptor que no sea de SQL Server.</span><span class="sxs-lookup"><span data-stu-id="916ae-150">-Have read permissions on the installation directory of the OLE DB provider for the Subscriber if the subscription is for a non-SQL Server Subscriber.</span></span><br /><br /> <span data-ttu-id="916ae-151">− Cuando se replican datos de LOB, el agente de distribución debe tener permisos de escritura en la replicación **C:\Archivos de programa\Microsoft SQL Server\XX\COMfolder** , donde XX representa el instanceID.</span><span class="sxs-lookup"><span data-stu-id="916ae-151">-When replicating LOB data, the distribution agent must have write permissions on the replication **C:\Program Files\Microsoft SQL Server\XX\COMfolder** where XX represents the instanceID.</span></span><br /><br /> <br /><br /> <span data-ttu-id="916ae-152">La cuenta usada para conectarse al suscriptor debe ser, como mínimo, miembro del rol fijo de base de datos **db_owner** en la base de datos de suscripciones, o tener permisos equivalentes si la suscripción es para un suscriptor que no sea de SQL Server.</span><span class="sxs-lookup"><span data-stu-id="916ae-152">The account that is used to connect to the Subscriber must at minimum be a member of the **db_owner** fixed database role in the subscription database, or have equivalent permissions if the subscription is for a non-SQL Server Subscriber.</span></span><br /><br /> <span data-ttu-id="916ae-153">Nota: cuando `-subscriptionstreams >= 2` se usa en el agente de distribución, también se debe conceder el `View Server State` permiso en los suscriptores para detectar interbloqueos.</span><span class="sxs-lookup"><span data-stu-id="916ae-153">Note: When using `-subscriptionstreams >= 2` on the distribution agent you must also grant the `View Server State` permission on the subscribers to detect deadlocks.</span></span>|  
|<span data-ttu-id="916ae-154">Agente de distribución para una suscripción de extracción</span><span class="sxs-lookup"><span data-stu-id="916ae-154">Distribution Agent for a pull subscription</span></span>|<span data-ttu-id="916ae-155">La cuenta de Windows con la que se ejecuta el agente se utiliza al realizar conexiones al suscriptor.</span><span class="sxs-lookup"><span data-stu-id="916ae-155">The Windows account under which the agent runs is used when it makes connections to the Subscriber.</span></span> <span data-ttu-id="916ae-156">Esta cuenta debe ser, como mínimo, miembro del rol fijo de base de datos **db_owner** en la base de datos de suscripciones.</span><span class="sxs-lookup"><span data-stu-id="916ae-156">This account must at minimum be a member of the **db_owner** fixed database role in the subscription database.</span></span> <span data-ttu-id="916ae-157">La cuenta utilizada para conectarse al distribuidor debe:</span><span class="sxs-lookup"><span data-stu-id="916ae-157">The account that is used to connect to the Distributor must:</span></span><br /><br /> <span data-ttu-id="916ae-158">− Ser miembro de la PAL.</span><span class="sxs-lookup"><span data-stu-id="916ae-158">-Be a member of the PAL.</span></span><br /><br /> <span data-ttu-id="916ae-159">− Tener permisos de lectura en el recurso compartido de instantáneas.</span><span class="sxs-lookup"><span data-stu-id="916ae-159">-Have read permissions on the snapshot share.</span></span><br /><br /> <span data-ttu-id="916ae-160">− Cuando se replican datos de LOB, el agente de distribución debe tener permisos de escritura en la replicación **C:\Archivos de programa\Microsoft SQL Server\XX\COMfolder** , donde XX representa el instanceID.</span><span class="sxs-lookup"><span data-stu-id="916ae-160">-When replicating LOB data, the distribution agent must have write permissions on the replication **C:\Program Files\Microsoft SQL Server\XX\COMfolder** where XX represents the instanceID.</span></span><br /><br /> <br /><br /> <span data-ttu-id="916ae-161">Nota: cuando `-subscriptionstreams >= 2` se usa en el agente de distribución, también se debe conceder el `View Server State` permiso en los suscriptores para detectar interbloqueos.</span><span class="sxs-lookup"><span data-stu-id="916ae-161">Note: When using `-subscriptionstreams >= 2` on the distribution agent you must also grant the `View Server State` permission on the subscribers to detect deadlocks.</span></span>|  
|<span data-ttu-id="916ae-162">Agente de mezcla para una suscripción de inserción</span><span class="sxs-lookup"><span data-stu-id="916ae-162">Merge Agent for a push subscription</span></span>|<span data-ttu-id="916ae-163">La cuenta de Windows con la que se ejecuta el agente se utiliza al realizar conexiones al publicador y al distribuidor.</span><span class="sxs-lookup"><span data-stu-id="916ae-163">The Windows account under which the agent runs is used when it makes connections to the Publisher and Distributor.</span></span> <span data-ttu-id="916ae-164">Esta cuenta debe:</span><span class="sxs-lookup"><span data-stu-id="916ae-164">This account must:</span></span><br /><br /> <span data-ttu-id="916ae-165">− Ser como mínimo miembro del rol fijo de base de datos **db_owner** en la base de datos de distribución.</span><span class="sxs-lookup"><span data-stu-id="916ae-165">-At minimum be a member of the **db_owner** fixed database role in the distribution database.</span></span><br /><br /> <span data-ttu-id="916ae-166">− Ser miembro de la PAL.</span><span class="sxs-lookup"><span data-stu-id="916ae-166">-Be a member of the PAL.</span></span><br /><br /> <span data-ttu-id="916ae-167">− Ser un inicio de sesión asociado a un usuario en la base de datos de publicaciones.</span><span class="sxs-lookup"><span data-stu-id="916ae-167">-Be a login that is associated with a user in the publication database.</span></span><br /><br /> <span data-ttu-id="916ae-168">− Tener permisos de lectura en el recurso compartido de instantáneas.</span><span class="sxs-lookup"><span data-stu-id="916ae-168">-Have read permissions on the snapshot share.</span></span><br /><br /> <br /><br /> <span data-ttu-id="916ae-169">La cuenta utilizada para conectarse al suscriptor debe ser miembro, como mínimo, del rol fijo de base de datos **db_owner** en la base de datos de suscripciones.</span><span class="sxs-lookup"><span data-stu-id="916ae-169">The account used to connect to the Subscriber must at minimum be a member of the **db_owner** fixed database role in the subscription database.</span></span>|  
|<span data-ttu-id="916ae-170">Agente de mezcla para una suscripción de extracción</span><span class="sxs-lookup"><span data-stu-id="916ae-170">Merge Agent for a pull subscription</span></span>|<span data-ttu-id="916ae-171">La cuenta de Windows con la que se ejecuta el agente se utiliza al realizar conexiones al suscriptor.</span><span class="sxs-lookup"><span data-stu-id="916ae-171">The Windows account under which the agent runs is used when it makes connections to the Subscriber.</span></span> <span data-ttu-id="916ae-172">Esta cuenta debe ser, como mínimo, miembro del rol fijo de base de datos **db_owner** en la base de datos de suscripciones.</span><span class="sxs-lookup"><span data-stu-id="916ae-172">This account must at minimum be a member of the **db_owner** fixed database role in the subscription database.</span></span> <span data-ttu-id="916ae-173">La cuenta utilizada para conectarse al publicador y al distribuidor debe:</span><span class="sxs-lookup"><span data-stu-id="916ae-173">The account that is used to connect to the Publisher and Distributor must:</span></span><br /><br /> <span data-ttu-id="916ae-174">− Ser miembro de la PAL.</span><span class="sxs-lookup"><span data-stu-id="916ae-174">-Be a member of the PAL.</span></span><br /><br /> <span data-ttu-id="916ae-175">− Ser un inicio de sesión asociado a un usuario en la base de datos de publicaciones.</span><span class="sxs-lookup"><span data-stu-id="916ae-175">-Be a login associated with a user in the publication database.</span></span><br /><br /> <span data-ttu-id="916ae-176">− Ser un inicio de sesión asociado a un usuario en la base de datos de distribución.</span><span class="sxs-lookup"><span data-stu-id="916ae-176">-Be a login associated with a user in the distribution database.</span></span> <span data-ttu-id="916ae-177">El usuario puede ser el usuario `Guest`.</span><span class="sxs-lookup"><span data-stu-id="916ae-177">The user can be the `Guest` user.</span></span><br /><br /> <span data-ttu-id="916ae-178">− Tener permisos de lectura en el recurso compartido de instantáneas.</span><span class="sxs-lookup"><span data-stu-id="916ae-178">-Have read permissions on the snapshot share.</span></span>|  
|<span data-ttu-id="916ae-179">Agente de lectura de cola</span><span class="sxs-lookup"><span data-stu-id="916ae-179">Queue Reader Agent</span></span>|<span data-ttu-id="916ae-180">La cuenta de Windows con la que se ejecuta el agente se utiliza al realizar conexiones al distribuidor.</span><span class="sxs-lookup"><span data-stu-id="916ae-180">The Windows account under which the agent runs is used when it makes connections to the Distributor.</span></span> <span data-ttu-id="916ae-181">Esta cuenta debe ser, como mínimo, miembro del rol fijo de base de datos **db_owner** en la base de datos de distribución.</span><span class="sxs-lookup"><span data-stu-id="916ae-181">This account must at minimum be a member of the **db_owner** fixed database role in the distribution database.</span></span><br /><br /> <span data-ttu-id="916ae-182">La cuenta utilizada para conectarse al publicador debe ser miembro, como mínimo, del rol fijo de base de datos **db_owner** en la base de datos de publicaciones.</span><span class="sxs-lookup"><span data-stu-id="916ae-182">The account that is used to connect to the Publisher must at minimum be a member of the **db_owner** fixed database role in the publication database.</span></span><br /><br /> <span data-ttu-id="916ae-183">La cuenta utilizada para conectarse al suscriptor debe ser miembro, como mínimo, del rol fijo de base de datos **db_owner** en la base de datos de suscripciones.</span><span class="sxs-lookup"><span data-stu-id="916ae-183">The account that is used to connect to the Subscriber must at minimum be a member of the **db_owner** fixed database role in the subscription database.</span></span>|  
  
## <a name="agent-security-under-sql-server-agent"></a><span data-ttu-id="916ae-184">Seguridad de agentes con el Agente SQL Server</span><span class="sxs-lookup"><span data-stu-id="916ae-184">Agent Security Under SQL Server Agent</span></span>  
 <span data-ttu-id="916ae-185">Cuando se configura la replicación mediante [!INCLUDE[ssManStudioFull](../../../includes/ssmanstudiofull-md.md)], procedimientos de [!INCLUDE[tsql](../../../includes/tsql-md.md)] o RMO, se crea de forma predeterminada un trabajo del Agente [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] para cada agente.</span><span class="sxs-lookup"><span data-stu-id="916ae-185">When you configure replication by using [!INCLUDE[ssManStudioFull](../../../includes/ssmanstudiofull-md.md)], [!INCLUDE[tsql](../../../includes/tsql-md.md)] procedures, or RMO, a [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] Agent job is created by default for each agent.</span></span> <span data-ttu-id="916ae-186">A continuación, los agentes se ejecutan en el contexto de un paso de trabajo, independientemente de si se ejecutan de forma continua, programada o a petición.</span><span class="sxs-lookup"><span data-stu-id="916ae-186">Agents then run under the context of a job step, regardless of whether they run continuously, on a schedule, or on demand.</span></span> <span data-ttu-id="916ae-187">Estos trabajos se pueden ver en la carpeta **Trabajos** de [!INCLUDE[ssManStudioFull](../../../includes/ssmanstudiofull-md.md)].</span><span class="sxs-lookup"><span data-stu-id="916ae-187">You can view these jobs under the **Jobs** folder in [!INCLUDE[ssManStudioFull](../../../includes/ssmanstudiofull-md.md)].</span></span> <span data-ttu-id="916ae-188">En la tabla siguiente se enumeran los nombres de los trabajos.</span><span class="sxs-lookup"><span data-stu-id="916ae-188">The following table lists the job names.</span></span>  
  
|<span data-ttu-id="916ae-189">Agente</span><span class="sxs-lookup"><span data-stu-id="916ae-189">Agent</span></span>|<span data-ttu-id="916ae-190">Nombre del trabajo</span><span class="sxs-lookup"><span data-stu-id="916ae-190">Job name</span></span>|  
|-----------|--------------|  
|<span data-ttu-id="916ae-191">Agente de instantáneas</span><span class="sxs-lookup"><span data-stu-id="916ae-191">Snapshot Agent</span></span>|**\<Publisher>-\<PublicationDatabase>-\<Publication>-\<integer>**|  
|<span data-ttu-id="916ae-192">Agente de replicación para una partición de publicación de combinación</span><span class="sxs-lookup"><span data-stu-id="916ae-192">Snapshot Agent for a merge publication partition</span></span>|<span data-ttu-id="916ae-193">**Dyn_\<Publisher>-\<PublicationDatabase>-\<Publication>-\<GUID>**</span><span class="sxs-lookup"><span data-stu-id="916ae-193">**Dyn_\<Publisher>-\<PublicationDatabase>-\<Publication>-\<GUID>**</span></span>|  
|<span data-ttu-id="916ae-194">Agente de registro del LOG</span><span class="sxs-lookup"><span data-stu-id="916ae-194">Log Reader Agent</span></span>|**\<Publisher>-\<PublicationDatabase>-\<integer>**|  
|<span data-ttu-id="916ae-195">Agente de mezcla para suscripciones de extracción</span><span class="sxs-lookup"><span data-stu-id="916ae-195">Merge Agent for pull subscriptions</span></span>|**\<Publisher>-\<PublicationDatabase>-\<Publication>-\<Subscriber>-\<SubscriptionDatabase>-\<integer>**|  
|<span data-ttu-id="916ae-196">Agente de mezcla para suscripciones de inserción</span><span class="sxs-lookup"><span data-stu-id="916ae-196">Merge Agent for push subscriptions</span></span>|**\<Publisher>-\<PublicationDatabase>-\<Publication>-\<Subscriber>-\<integer>**|  
|<span data-ttu-id="916ae-197">Agente de distribución para suscripciones de inserción</span><span class="sxs-lookup"><span data-stu-id="916ae-197">Distribution Agent for push subscriptions</span></span>|<span data-ttu-id="916ae-198">**\<Publisher>-\<PublicationDatabase>-\<Publication>-\<Subscriber>-\<integer>** <sup>1</sup></span><span class="sxs-lookup"><span data-stu-id="916ae-198">**\<Publisher>-\<PublicationDatabase>-\<Publication>-\<Subscriber>-\<integer>** <sup>1</sup></span></span>|  
|<span data-ttu-id="916ae-199">Agente de distribución para suscripciones de extracción</span><span class="sxs-lookup"><span data-stu-id="916ae-199">Distribution Agent for pull subscriptions</span></span>|<span data-ttu-id="916ae-200">**\<Publisher>-\<PublicationDatabase>-\<Publication>-\<Subscriber>-\<SubscriptionDatabase>-\<GUID>** <sup>2</sup></span><span class="sxs-lookup"><span data-stu-id="916ae-200">**\<Publisher>-\<PublicationDatabase>-\<Publication>-\<Subscriber>-\<SubscriptionDatabase>-\<GUID>** <sup>2</sup></span></span>|  
|<span data-ttu-id="916ae-201">Agente de distribución para suscripciones de inserción en suscriptores que no sean de SQL Server</span><span class="sxs-lookup"><span data-stu-id="916ae-201">Distribution Agent for push subscriptions to non-SQL Server Subscribers</span></span>|**\<Publisher>-\<PublicationDatabase>-\<Publication>-\<Subscriber>-\<integer>**|  
|<span data-ttu-id="916ae-202">Agente de lectura de cola</span><span class="sxs-lookup"><span data-stu-id="916ae-202">Queue Reader Agent</span></span>|<span data-ttu-id="916ae-203">**[\<Distributor>].\<integer>**</span><span class="sxs-lookup"><span data-stu-id="916ae-203">**[\<Distributor>].\<integer>**</span></span>|  
  
 <span data-ttu-id="916ae-204"><sup>1</sup> para suscripciones de extracción a publicaciones de Oracle, el nombre del trabajo es \* \* \<Publisher> - \<Publisher**> en lugar de **\<Publisher>-\<PublicationDatabase>** .</span><span class="sxs-lookup"><span data-stu-id="916ae-204"><sup>1</sup> For push subscriptions to Oracle publications, the job name is \*\*\<Publisher>-\<Publisher**> instead of **\<Publisher>-\<PublicationDatabase>**.</span></span>  
  
 <span data-ttu-id="916ae-205"><sup>2</sup> para suscripciones de extracción a publicaciones de Oracle, el nombre del trabajo es \* \* \<Publisher> - \<DistributionDatabase**> en lugar de **\<Publisher>-\<PublicationDatabase>** .</span><span class="sxs-lookup"><span data-stu-id="916ae-205"><sup>2</sup> For pull subscriptions to Oracle publications, the job name is \*\*\<Publisher>-\<DistributionDatabase**> instead of **\<Publisher>-\<PublicationDatabase>**.</span></span>  
  
 <span data-ttu-id="916ae-206">Al configurar la replicación se especifican las cuentas en las que se ejecutarán los agentes.</span><span class="sxs-lookup"><span data-stu-id="916ae-206">When you configure replication, you specify accounts under which agents should run.</span></span> <span data-ttu-id="916ae-207">No obstante, todos los pasos del trabajo se ejecutan en el contexto de seguridad de un *proxy*, por lo que la replicación lleva a cabo internamente las siguientes asignaciones para las cuentas de agente que especifique:</span><span class="sxs-lookup"><span data-stu-id="916ae-207">However, all job steps run under the security context of a *proxy*; therefore, replication performs the following mappings internally for the agent accounts that you specify:</span></span>  
  
-   <span data-ttu-id="916ae-208">La cuenta se asigna primero a una credencial mediante la instrucción [!INCLUDE[tsql](../../../includes/tsql-md.md)] [CREATE CREDENTIAL](/sql/t-sql/statements/create-credential-transact-sql).</span><span class="sxs-lookup"><span data-stu-id="916ae-208">The account is first mapped to a credential by using the [!INCLUDE[tsql](../../../includes/tsql-md.md)] [CREATE CREDENTIAL](/sql/t-sql/statements/create-credential-transact-sql) statement.</span></span> <span data-ttu-id="916ae-209">Las cuentas de proxy del Agente[!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] utilizan credenciales para almacenar información acerca de las cuentas de usuario de Windows.</span><span class="sxs-lookup"><span data-stu-id="916ae-209">[!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] Agent proxies use credentials to store information about Windows user accounts.</span></span>  
  
-   <span data-ttu-id="916ae-210">Se llama al procedimiento almacenado [sp_add_proxy](/sql/relational-databases/system-stored-procedures/sp-add-proxy-transact-sql) y, a continuación, se utiliza la credencial para crear un proxy.</span><span class="sxs-lookup"><span data-stu-id="916ae-210">The [sp_add_proxy](/sql/relational-databases/system-stored-procedures/sp-add-proxy-transact-sql) stored procedure is called, and the credential is used to create a proxy..</span></span>  
  
> [!NOTE]  
>  <span data-ttu-id="916ae-211">Esta información se facilita para ayudarle a entender las implicaciones de ejecutar agentes con el contexto de seguridad adecuado.</span><span class="sxs-lookup"><span data-stu-id="916ae-211">This information is provided to help you understand what is involved in running agents with the appropriate security context.</span></span> <span data-ttu-id="916ae-212">No debería ser necesario interactuar directamente con las credenciales o los proxy que se hayan creado.</span><span class="sxs-lookup"><span data-stu-id="916ae-212">You should not have to interact directly with the credentials or proxies that have been created.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="916ae-213">Consulte también</span><span class="sxs-lookup"><span data-stu-id="916ae-213">See Also</span></span>  
 <span data-ttu-id="916ae-214">[Replication Security Best Practices](replication-security-best-practices.md) </span><span class="sxs-lookup"><span data-stu-id="916ae-214">[Replication Security Best Practices](replication-security-best-practices.md) </span></span>  
 <span data-ttu-id="916ae-215">[Seguridad de Replicación de SQL Server](view-and-modify-replication-security-settings.md) </span><span class="sxs-lookup"><span data-stu-id="916ae-215">[SQL Server Replication Security](view-and-modify-replication-security-settings.md) </span></span>  
 [<span data-ttu-id="916ae-216">Proteger la carpeta de instantáneas</span><span class="sxs-lookup"><span data-stu-id="916ae-216">Secure the Snapshot Folder</span></span>](secure-the-snapshot-folder.md)  
  
  
