---
title: Proteger el suscriptor | Microsoft Docs
ms.custom: ''
ms.date: 04/26/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: replication
ms.topic: conceptual
helpviewer_keywords:
- subscriptions [SQL Server replication], security
- Subscribers [SQL Server replication], security
- security [SQL Server replication], Subscribers
ms.assetid: c8f0d62a-8b5d-4a21-9aec-223da52bb708
author: MashaMSFT
ms.author: mathoma
ms.openlocfilehash: 1f03b9a202c3c49f147368460518a579f28dc850
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 08/04/2020
ms.locfileid: "87675264"
---
# <a name="secure-the-subscriber"></a><span data-ttu-id="e3321-102">Proteger el suscriptor</span><span class="sxs-lookup"><span data-stu-id="e3321-102">Secure the Subscriber</span></span>
  <span data-ttu-id="e3321-103">Los agentes de mezcla y de distribución se conectan al suscriptor.</span><span class="sxs-lookup"><span data-stu-id="e3321-103">Merge Agents and Distribution Agents connect to the Subscriber.</span></span> <span data-ttu-id="e3321-104">Estas conexiones pueden realizarse en el contexto de un inicio de sesión de [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] o de Windows.</span><span class="sxs-lookup"><span data-stu-id="e3321-104">These connections can be made under the context of a [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] login or a Windows login.</span></span> <span data-ttu-id="e3321-105">Es importante proporcionar un inicio de sesión apropiado para estos agentes, al mismo tiempo que se sigue el principio de conceder los derechos mínimos necesarios y proteger el almacenamiento de todas las contraseñas.</span><span class="sxs-lookup"><span data-stu-id="e3321-105">It is important to provide an appropriate login for these agents while following the principle of granting the minimal rights necessary and also protecting the storage of all passwords.</span></span> <span data-ttu-id="e3321-106">Para obtener información acerca de los permisos necesarios para cada agente, vea [Replication Agent Security Model](replication-agent-security-model.md).</span><span class="sxs-lookup"><span data-stu-id="e3321-106">For information about the permissions required for each agent, see [Replication Agent Security Model](replication-agent-security-model.md).</span></span>  
  
## <a name="distribution-agent"></a><span data-ttu-id="e3321-107">Agente de distribución</span><span class="sxs-lookup"><span data-stu-id="e3321-107">Distribution Agent</span></span>  
 <span data-ttu-id="e3321-108">Hay un Agente de distribución por suscripción (un agente independiente, predeterminado para las publicaciones creadas en el Asistente para nueva publicación), o un Agente de distribución por par de base de datos de publicaciones y base de datos de suscripciones (un agente compartido).</span><span class="sxs-lookup"><span data-stu-id="e3321-108">There is either one Distribution Agent per subscription (an independent agent, the default for publications created in the New Publication Wizard) or one Distribution Agent per publication database and subscription database pair (a shared agent).</span></span> <span data-ttu-id="e3321-109">T</span><span class="sxs-lookup"><span data-stu-id="e3321-109">T</span></span>  
  
 <span data-ttu-id="e3321-110">Para especificar la información de conexión para suscripciones de inserción, vea [Create a Push Subscription](../create-a-push-subscription.md) (Crear una suscripción de inserción).</span><span class="sxs-lookup"><span data-stu-id="e3321-110">To specify connection information for push subscriptions, see [Create a Push Subscription](../create-a-push-subscription.md).</span></span>  
  
 <span data-ttu-id="e3321-111">Para especificar la información de conexión para suscripciones de extracción, vea [Create a Pull Subscription](../create-a-pull-subscription.md) (Crear una suscripción de extracción).</span><span class="sxs-lookup"><span data-stu-id="e3321-111">To specify connection information for pull subscriptions, see [Create a Pull Subscription](../create-a-pull-subscription.md)</span></span>  
  
## <a name="merge-agent"></a><span data-ttu-id="e3321-112">Agente de mezcla</span><span class="sxs-lookup"><span data-stu-id="e3321-112">Merge Agent</span></span>  
 <span data-ttu-id="e3321-113">Cada suscripción de mezcla tiene su propio Agente de mezcla que conecta y actualiza el publicador y el suscriptor.</span><span class="sxs-lookup"><span data-stu-id="e3321-113">Each merge subscription has its own Merge Agent that connects to and updates both the Publisher and the Subscriber.</span></span>  
  
 <span data-ttu-id="e3321-114">Para especificar la información de conexión para suscripciones de inserción, vea [Create a Push Subscription](../create-a-push-subscription.md) (Crear una suscripción de inserción).</span><span class="sxs-lookup"><span data-stu-id="e3321-114">To specify connection information for push subscriptions, see [Create a Push Subscription](../create-a-push-subscription.md).</span></span>  
  
 <span data-ttu-id="e3321-115">Para especificar la información de conexión para suscripciones de extracción, vea [Create a Pull Subscription](../create-a-pull-subscription.md) (Crear una suscripción de extracción).</span><span class="sxs-lookup"><span data-stu-id="e3321-115">To specify connection information for pull subscriptions, see [Create a Pull Subscription](../create-a-pull-subscription.md).</span></span>  
  
## <a name="immediate-updating-subscriptions"></a><span data-ttu-id="e3321-116">Suscripciones de actualización inmediata</span><span class="sxs-lookup"><span data-stu-id="e3321-116">Immediate Updating Subscriptions</span></span>  
 <span data-ttu-id="e3321-117">Al configurar una suscripción de actualización inmediata, se especifica una cuenta en el suscriptor con la que se realizan las conexiones al publicador.</span><span class="sxs-lookup"><span data-stu-id="e3321-117">When you configure an immediate updating subscription, you specify an account at the Subscriber under which connections to the Publisher are made.</span></span> <span data-ttu-id="e3321-118">Las conexiones las utilizan los desencadenadores que se activan en el suscriptor y propagan los cambios al publicador.</span><span class="sxs-lookup"><span data-stu-id="e3321-118">Connections are used by the triggers that fire at the Subscriber and propagate changes to the Publisher.</span></span> <span data-ttu-id="e3321-119">Hay tres opciones disponibles para el tipo de conexión:</span><span class="sxs-lookup"><span data-stu-id="e3321-119">There are three options available for the type of connection:</span></span>  
  
-   <span data-ttu-id="e3321-120">Un servidor vinculado que crea la replicación; la conexión se establece con las credenciales especificadas durante la configuración.</span><span class="sxs-lookup"><span data-stu-id="e3321-120">A linked server that replication creates; the connection is made with the credentials you specify at configuration time.</span></span>  
  
-   <span data-ttu-id="e3321-121">Un servidor vinculado que crea la replicación; la conexión se establece con las credenciales del usuario que realiza el cambio en el suscriptor.</span><span class="sxs-lookup"><span data-stu-id="e3321-121">A linked server that replication creates; the connection is made with the credentials of the user making the change at the Subscriber.</span></span>  
  
-   <span data-ttu-id="e3321-122">Un servidor vinculado o un servidor remoto previamente definido.</span><span class="sxs-lookup"><span data-stu-id="e3321-122">A linked server or remote server that you have already defined.</span></span>  
  
> [!IMPORTANT]  
>  <span data-ttu-id="e3321-123">Para especificar la información de conexión, use el procedimiento almacenado [sp_link_publication &#40;Transact-SQL&#41;](/sql/relational-databases/system-stored-procedures/sp-link-publication-transact-sql).</span><span class="sxs-lookup"><span data-stu-id="e3321-123">To specify connection information, use the stored procedure [sp_link_publication &#40;Transact-SQL&#41;](/sql/relational-databases/system-stored-procedures/sp-link-publication-transact-sql).</span></span> <span data-ttu-id="e3321-124">También puede usar la página **Inicio de sesión para suscripciones actualizables** del Asistente para nueva suscripción, que llama a **sp_link_publication**.</span><span class="sxs-lookup"><span data-stu-id="e3321-124">You can also use the **Login for Updatable Subscriptions** page of the New Subscription Wizard, which calls **sp_link_publication**.</span></span> <span data-ttu-id="e3321-125">En ciertas condiciones, este procedimiento almacenado puede producir un error si el suscriptor ejecuta el Service Pack 1 (SP1) de [!INCLUDE[ssVersion2005](../../../includes/ssversion2005-md.md)] o posterior y el publicador ejecuta una versión anterior.</span><span class="sxs-lookup"><span data-stu-id="e3321-125">Under certain conditions, this stored procedure can fail if the Subscriber is running [!INCLUDE[ssVersion2005](../../../includes/ssversion2005-md.md)] Service Pack 1 (SP1) or later, and the Publisher is running an earlier version.</span></span> <span data-ttu-id="e3321-126">Si el procedimiento almacenado produce un error en estas circunstancias, actualice el publicador a [!INCLUDE[ssVersion2005](../../../includes/ssversion2005-md.md)] SP1 o posterior.</span><span class="sxs-lookup"><span data-stu-id="e3321-126">If the stored procedure fails in this scenario, upgrade the Publisher to [!INCLUDE[ssVersion2005](../../../includes/ssversion2005-md.md)] SP1 or later.</span></span>  
  
 <span data-ttu-id="e3321-127">Para más información, vea [Create an Updatable Subscription to a Transactional Publication](../publish/create-an-updatable-subscription-to-a-transactional-publication.md) (Create an Updatable Subscription to a Transactional Publication) y [View and Modify Replication Security Settings](view-and-modify-replication-security-settings.md) (Ver y modificar la configuración de seguridad de la replicación).</span><span class="sxs-lookup"><span data-stu-id="e3321-127">For more information, see [Create an Updatable Subscription to a Transactional Publication](../publish/create-an-updatable-subscription-to-a-transactional-publication.md) and [View and Modify Replication Security Settings](view-and-modify-replication-security-settings.md).</span></span>  
  
> [!IMPORTANT]  
>  <span data-ttu-id="e3321-128">La cuenta especificada para la conexión solo debe tener permiso para insertar, actualizar y eliminar datos en las vistas que crea la replicación en la base de datos de publicaciones; no debe tener ningún permiso adicional.</span><span class="sxs-lookup"><span data-stu-id="e3321-128">The account specified for the connection should only be granted permission to insert, update, and delete data on the views that replication creates in the publication database; it should not be given any additional permissions.</span></span> <span data-ttu-id="e3321-129">Conceda permisos para las vistas de la base de datos de publicación designadas con el formato **syncobj_** _\<HexadecimalNumber>_ a la cuenta que ha configurado en cada suscriptor.</span><span class="sxs-lookup"><span data-stu-id="e3321-129">Grant permissions on views in the publication database that are named in the form **syncobj_**_\<HexadecimalNumber>_ to the account you configured at each Subscriber.</span></span>  
  
## <a name="queued-updating-subscriptions"></a><span data-ttu-id="e3321-130">Suscriptores de actualización en cola</span><span class="sxs-lookup"><span data-stu-id="e3321-130">Queued Updating Subscriptions</span></span>  
 <span data-ttu-id="e3321-131">Al configurar suscripciones de actualización en cola, hay dos áreas relacionadas con la seguridad que debe tener en cuenta:</span><span class="sxs-lookup"><span data-stu-id="e3321-131">When you configure queued updating subscriptions, there are two areas to keep in mind that relate to security:</span></span>  
  
-   <span data-ttu-id="e3321-132">Solo hay un Agente de lectura de cola para cada distribuidor.</span><span class="sxs-lookup"><span data-stu-id="e3321-132">There is only one Queue Reader Agent for each Distributor.</span></span> <span data-ttu-id="e3321-133">Para cada distribuidor, se recomienda configurar como máximo una publicación habilitada para las suscripciones de actualización en cola.</span><span class="sxs-lookup"><span data-stu-id="e3321-133">It is recommended that for each Distributor, you configure at most one publication that is enabled for queued updating subscriptions.</span></span>  
  
-   <span data-ttu-id="e3321-134">El Agente de lectura de cola establece las conexiones con el distribuidor, el publicador y cada suscriptor:</span><span class="sxs-lookup"><span data-stu-id="e3321-134">The Queue Reader agent makes connections to the Distributor, Publisher, and each Subscriber:</span></span>  
  
    -   <span data-ttu-id="e3321-135">La cuenta con la que se ejecuta el agente y establece conexiones con el distribuidor se especifica al crear el agente (si utiliza el Asistente para nueva publicación, el agente se crea al crear una publicación habilitada para suscripciones de actualización).</span><span class="sxs-lookup"><span data-stu-id="e3321-135">The account under which the agent runs and makes connections to the Distributor is specified when you create the agent (if you use the New Publication Wizard, the agent is created when you create a publication that is enabled for updating subscriptions).</span></span>  
  
    -   <span data-ttu-id="e3321-136">La cuenta con la que el agente establece conexiones con el publicador se especifica al configurar la distribución para un publicador.</span><span class="sxs-lookup"><span data-stu-id="e3321-136">The account under which the agent makes connections to the Publisher is specified when you configure distribution for a Publisher.</span></span> <span data-ttu-id="e3321-137">Especifique la cuenta de Windows con la que se ejecuta el agente o una cuenta de [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] .</span><span class="sxs-lookup"><span data-stu-id="e3321-137">Specify the Windows account under which the agent runs or a [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] account.</span></span>  
  
    -   <span data-ttu-id="e3321-138">La cuenta con la que el agente establece conexiones con el suscriptor se especifica al crear la suscripción.</span><span class="sxs-lookup"><span data-stu-id="e3321-138">The account under which the agent makes connections to the Subscriber is specified when you create the subscription.</span></span>  
  
    > [!IMPORTANT]  
    >  <span data-ttu-id="e3321-139">Utilice la autenticación de [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] para las conexiones con los suscriptores y especifique una cuenta distinta para la conexión con cada suscriptor.</span><span class="sxs-lookup"><span data-stu-id="e3321-139">Use [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] Authentication for connections to Subscribers, and specify a different account for the connection to each Subscriber.</span></span> <span data-ttu-id="e3321-140">Si utiliza una suscripción de extracción, la replicación establece siempre la conexión para que utilice la autenticación de Windows (en las suscripciones de extracción, la replicación no tiene acceso a los metadatos de un suscriptor que deba usar la autenticación de [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] ).</span><span class="sxs-lookup"><span data-stu-id="e3321-140">If you use a pull subscription, replication always sets the connection to use Windows Authentication (for pull subscriptions, replication cannot access metadata at the Subscriber required to use [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] Authentication).</span></span> <span data-ttu-id="e3321-141">En este caso, cambie la conexión para que use la autenticación de [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] después de configurar la suscripción.</span><span class="sxs-lookup"><span data-stu-id="e3321-141">In this case, change the connection to use [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] Authentication after the subscription is configured.</span></span>  
  
     <span data-ttu-id="e3321-142">Para más información, vea: Cómo: Crear una suscripción de actualización en una publicación transaccional (SQL Server Management Studio) y [Ver y modificar la configuración de seguridad de la replicación](view-and-modify-replication-security-settings.md).</span><span class="sxs-lookup"><span data-stu-id="e3321-142">For more information, see How to: Create an Updating Subscription to a Transactional Publication (SQL Server Management Studio) and [View and Modify Replication Security Settings](view-and-modify-replication-security-settings.md).</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="e3321-143">Consulte también</span><span class="sxs-lookup"><span data-stu-id="e3321-143">See Also</span></span>  
 <span data-ttu-id="e3321-144">[Habilitar conexiones cifradas en el motor de base de datos &#40;Administrador de configuración de SQL Server&#41;](../../../database-engine/configure-windows/enable-encrypted-connections-to-the-database-engine.md) </span><span class="sxs-lookup"><span data-stu-id="e3321-144">[Enable Encrypted Connections to the Database Engine &#40;SQL Server Configuration Manager&#41;](../../../database-engine/configure-windows/enable-encrypted-connections-to-the-database-engine.md) </span></span>  
 <span data-ttu-id="e3321-145">[Replication Security Best Practices](replication-security-best-practices.md) </span><span class="sxs-lookup"><span data-stu-id="e3321-145">[Replication Security Best Practices](replication-security-best-practices.md) </span></span>  
 [<span data-ttu-id="e3321-146">Seguridad de Replicación de SQL Server</span><span class="sxs-lookup"><span data-stu-id="e3321-146">SQL Server Replication Security</span></span>](view-and-modify-replication-security-settings.md)  
  
  
