---
title: Proteger el distribuidor | Microsoft Docs
ms.custom: ''
ms.date: 03/06/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: replication
ms.topic: conceptual
helpviewer_keywords:
- security [SQL Server replication], Distributors
- Distributors [SQL Server replication], security
ms.assetid: 76d78229-0ff2-4aa4-9b4e-ad97534c5296
author: MashaMSFT
ms.author: mathoma
ms.openlocfilehash: d55f5e214f89b678367124da8342ec9801ab686a
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 08/04/2020
ms.locfileid: "87661898"
---
# <a name="secure-the-distributor"></a><span data-ttu-id="b35b5-102">Proteger el distribuidor</span><span class="sxs-lookup"><span data-stu-id="b35b5-102">Secure the Distributor</span></span>
  <span data-ttu-id="b35b5-103">Al distribuidor se conectan los siguientes agentes de replicación: el Agente de registro del LOG, el Agente de instantáneas, el Agente de lectura de cola, el Agente de distribución y el Agente de mezcla.</span><span class="sxs-lookup"><span data-stu-id="b35b5-103">The following replication agents connect to the Distributor: the Log Reader Agent, Snapshot Agent, Queue Reader Agent, Distribution Agent, and Merge Agent.</span></span> <span data-ttu-id="b35b5-104">Es importante proporcionar un inicio de sesión adecuado para cada uno de estos agentes respetando el principio de conceder los derechos mínimos necesarios y proteger el almacenamiento de todas las contraseñas:</span><span class="sxs-lookup"><span data-stu-id="b35b5-104">It is important to provide an appropriate login for each of these agents while following the principle of granting the minimal rights necessary and also protecting the storage of all passwords:</span></span>  
  
-   <span data-ttu-id="b35b5-105">Para información sobre la administración de inicios de sesión y contraseñas, vea [Manage Logins and Passwords in Replication](identity-and-access-control-replication.md#manage-logins-and-passwords-in-replication) (Administrar inicios de sesión y contraseñas en la replicación).</span><span class="sxs-lookup"><span data-stu-id="b35b5-105">For information about managing logins and passwords, see [Manage Logins and Passwords in Replication](identity-and-access-control-replication.md#manage-logins-and-passwords-in-replication).</span></span>  
  
-   <span data-ttu-id="b35b5-106">Para obtener información detallada acerca de los permisos exigidos para cada agente, vea [Replication Agent Security Model](replication-agent-security-model.md).</span><span class="sxs-lookup"><span data-stu-id="b35b5-106">For detailed information about the permissions required for each agent, see [Replication Agent Security Model](replication-agent-security-model.md).</span></span>  
  
 <span data-ttu-id="b35b5-107">Además de administrar correctamente los inicios de sesión y contraseñas, es importante conocer el rol del vínculo del servidor remoto **repl_distributor** y la cuenta **distributor_admin** .</span><span class="sxs-lookup"><span data-stu-id="b35b5-107">In addition to managing logins and passwords appropriately, it is important to understand the role of the **repl_distributor** remote server link and the **distributor_admin** account.</span></span>  
  
## <a name="securing-the-connection-from-the-publisher-to-the-distributor"></a><span data-ttu-id="b35b5-108">Proteger la conexión del publicador al distribuidor</span><span class="sxs-lookup"><span data-stu-id="b35b5-108">Securing the Connection from the Publisher to the Distributor</span></span>  
 <span data-ttu-id="b35b5-109">Para permitir la comunicación necesaria cuando los procedimientos almacenados administrativos se ejecutan en el publicador y actualizan información en el distribuidor, la replicación configura automáticamente el servidor remoto **repl_distributor**.</span><span class="sxs-lookup"><span data-stu-id="b35b5-109">To support the communication necessary when administrative stored procedures execute at the Publisher and update information at the Distributor, replication automatically configures the remote server **repl_distributor**.</span></span> <span data-ttu-id="b35b5-110">La entrada del servidor remoto **repl_distributor** se utiliza para la comunicación con la base de datos de distribución, independientemente de si está incluida en la instancia del publicador (un distribuidor local) o reside en una instancia remota de [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] (un distribuidor remoto).</span><span class="sxs-lookup"><span data-stu-id="b35b5-110">The **repl_distributor** remote server entry is used for communication to the distribution database regardless of whether the distribution database is contained within the Publisher instance (a local Distributor) or resides within a remote [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] instance (a remote Distributor).</span></span>  
  
 <span data-ttu-id="b35b5-111">Cuando la base de datos de distribución está incluida en una instancia local, se genera una contraseña aleatoria y se configura automáticamente.</span><span class="sxs-lookup"><span data-stu-id="b35b5-111">When the distribution database is contained on a local instance, a random password is generated and configured automatically.</span></span> <span data-ttu-id="b35b5-112">Cuando la base de datos de distribución se encuentra en una instancia remota, el administrador configura una contraseña compartida durante la instalación del publicador y el distribuidor; a continuación, esta contraseña se utiliza para proporcionar autenticación del tráfico que pasa por el vínculo **repl_distributor** .</span><span class="sxs-lookup"><span data-stu-id="b35b5-112">When the distribution database is located on a remote instance, the administrator configures a shared password during setup of the Publisher and Distributor; this password is then used to provide authentication of traffic that traverses the **repl_distributor** link.</span></span>  
  
 <span data-ttu-id="b35b5-113">El distribuidor utiliza la entrada del servidor remoto **repl_distributor** para comprobar que el servidor que llama está configurado como un publicador en el distribuidor, valida la contraseña proporcionada por el publicador y valida que el procedimiento almacenado sea un procedimiento almacenado de replicación durante la ejecución.</span><span class="sxs-lookup"><span data-stu-id="b35b5-113">The Distributor uses the **repl_distributor** remote server entry to verify that the calling server is configured as a Publisher at the Distributor, validates the password supplied by the Publisher, and validates that the stored procedure is a replication stored procedure during execution.</span></span>  
  
 <span data-ttu-id="b35b5-114">La contraseña configurada para la entrada del servidor remoto **repl_distributor** durante la instalación está asociada a un inicio de sesión de [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] , **distributor_admin**, que se agrega al rol fijo de servidor **sysadmin** en el distribuidor.</span><span class="sxs-lookup"><span data-stu-id="b35b5-114">The password configured for the **repl_distributor** remote server entry during setup is associated with a [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] login, **distributor_admin**, which is added to the **sysadmin** fixed server role at the Distributor.</span></span> <span data-ttu-id="b35b5-115">Los procedimientos almacenados de replicación utilizan el inicio de sesión **distributor_admin** al conectarse al distribuidor.</span><span class="sxs-lookup"><span data-stu-id="b35b5-115">The **distributor_admin** login is used by replication stored procedures when connecting to the Distributor.</span></span>  
  
> [!NOTE]  
>  <span data-ttu-id="b35b5-116">No cambie manualmente la contraseña de **distributor_admin** .</span><span class="sxs-lookup"><span data-stu-id="b35b5-116">Do not change the password for the **distributor_admin** manually.</span></span> <span data-ttu-id="b35b5-117">Use siempre el procedimiento almacenado **sp_changedistributor_password** o los cuadros de diálogo **Propiedades del distribuidor** o **Actualizar contraseñas de replicación** de [!INCLUDE[ssManStudioFull](../../../includes/ssmanstudiofull-md.md)], ya que los cambios de contraseña se aplican a las publicaciones locales automáticamente.</span><span class="sxs-lookup"><span data-stu-id="b35b5-117">Always use the **sp_changedistributor_password** stored procedure, or the **Distributor Properties** or **Update Replication Passwords** dialog boxes in [!INCLUDE[ssManStudioFull](../../../includes/ssmanstudiofull-md.md)], because password changes are then applied to local publications automatically.</span></span>  
  
## <a name="snapshot-folder-security"></a><span data-ttu-id="b35b5-118">Seguridad de la carpeta de instantáneas</span><span class="sxs-lookup"><span data-stu-id="b35b5-118">Snapshot Folder Security</span></span>  
 <span data-ttu-id="b35b5-119">Asegúrese de que el recurso compartido de instantáneas tiene acceso de lectura a la cuenta con la que se ejecutan el Agente de mezcla (para la replicación de mezcla) o el Agente de distribución (para la replicación transaccional o de instantáneas), así como acceso de escritura a la cuenta con la que se ejecuta el Agente de instantáneas.</span><span class="sxs-lookup"><span data-stu-id="b35b5-119">Ensure that the snapshot share has read access granted to the account under which the Merge Agent (for merge replication) or Distribution Agent (for snapshot or transactional replication) runs and write access granted to the account under which the Snapshot Agent runs.</span></span> <span data-ttu-id="b35b5-120">Para obtener más información sobre la carpeta de instantáneas, vea [Proteger la carpeta de instantáneas](secure-the-snapshot-folder.md).</span><span class="sxs-lookup"><span data-stu-id="b35b5-120">For more information about the snapshot folder, see [Secure the Snapshot Folder](secure-the-snapshot-folder.md).</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="b35b5-121">Consulte también</span><span class="sxs-lookup"><span data-stu-id="b35b5-121">See Also</span></span>  
 <span data-ttu-id="b35b5-122">[View and Modify Replication Security Settings](view-and-modify-replication-security-settings.md)  (Ver y modificar la configuración de seguridad de la replicación)</span><span class="sxs-lookup"><span data-stu-id="b35b5-122">[View and Modify Replication Security Settings](view-and-modify-replication-security-settings.md) </span></span>  
 <span data-ttu-id="b35b5-123">[Habilitar conexiones cifradas en el motor de base de datos &#40;Administrador de configuración de SQL Server&#41;](../../../database-engine/configure-windows/enable-encrypted-connections-to-the-database-engine.md) </span><span class="sxs-lookup"><span data-stu-id="b35b5-123">[Enable Encrypted Connections to the Database Engine &#40;SQL Server Configuration Manager&#41;](../../../database-engine/configure-windows/enable-encrypted-connections-to-the-database-engine.md) </span></span>  
 <span data-ttu-id="b35b5-124">[Replication Security Best Practices](replication-security-best-practices.md) </span><span class="sxs-lookup"><span data-stu-id="b35b5-124">[Replication Security Best Practices](replication-security-best-practices.md) </span></span>  
 [<span data-ttu-id="b35b5-125">Seguridad de Replicación de SQL Server</span><span class="sxs-lookup"><span data-stu-id="b35b5-125">SQL Server Replication Security</span></span>](view-and-modify-replication-security-settings.md)  
  
  
