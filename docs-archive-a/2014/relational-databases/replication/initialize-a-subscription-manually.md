---
title: Inicializar una suscripción manualmente | Microsoft Docs
ms.custom: ''
ms.date: 06/13/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: replication
ms.topic: conceptual
helpviewer_keywords:
- manual subscription initialization [SQL Server replication]
- subscriptions [SQL Server replication], initializing
- initializing subscriptions [SQL Server replication], without snapshots
ms.assetid: 27a1bc38-e498-4fff-8082-04b52aa4b22c
author: MashaMSFT
ms.author: mathoma
ms.openlocfilehash: 4eaeb50da9e4b71a08ec78614ae62ea33e3dc0d1
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 08/04/2020
ms.locfileid: "87663347"
---
# <a name="initialize-a-subscription-manually"></a><span data-ttu-id="7e47c-102">Inicializar una suscripción manualmente</span><span class="sxs-lookup"><span data-stu-id="7e47c-102">Initialize a Subscription Manually</span></span>
  <span data-ttu-id="7e47c-103">En este tema se describe cómo inicializar una suscripción manualmente en [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)] mediante [!INCLUDE[ssManStudioFull](../../includes/ssmanstudiofull-md.md)] o [!INCLUDE[tsql](../../includes/tsql-md.md)].</span><span class="sxs-lookup"><span data-stu-id="7e47c-103">This topic describes how to initialize a subscription manually in [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)] by using [!INCLUDE[ssManStudioFull](../../includes/ssmanstudiofull-md.md)] or [!INCLUDE[tsql](../../includes/tsql-md.md)].</span></span> <span data-ttu-id="7e47c-104">Aunque la instantánea inicial se usa normalmente para inicializar una suscripción, las suscripciones a las publicaciones se pueden inicializar sin utilizar una instantánea, con tal de que el esquema y los datos iniciales ya estén presentes en el suscriptor.</span><span class="sxs-lookup"><span data-stu-id="7e47c-104">While the initial snapshot is normally used to initialize a subscription, subscriptions to publications can be initialized without using a snapshot, provided that the schema and initial data are already present at the subscriber.</span></span>  
  
##  <a name="before-you-begin"></a><a name="BeforeYouBegin"></a> <span data-ttu-id="7e47c-105">Antes de comenzar</span><span class="sxs-lookup"><span data-stu-id="7e47c-105">Before You Begin</span></span>  
  
###  <a name="limitations-and-restrictions"></a><a name="Restrictions"></a> <span data-ttu-id="7e47c-106">Limitaciones y restricciones</span><span class="sxs-lookup"><span data-stu-id="7e47c-106">Limitations and Restrictions</span></span>  
  
-   <span data-ttu-id="7e47c-107">Si se produce actividad en una base de datos publicada con la replicación transaccional entre el momento en que se copian los datos y el esquema en el suscriptor y el momento en que se inicializa manualmente la suscripción, es posible que los cambios que resulten de dicha actividad no se repliquen en el suscriptor.</span><span class="sxs-lookup"><span data-stu-id="7e47c-107">If there is activity on a database published using transactional replication between the time data and schema are copied to the Subscriber and the time at which the subscription is manually initialized, changes resulting from this activity might not be replicated to the Subscriber.</span></span>  
  
##  <a name="using-sql-server-management-studio"></a><a name="SSMSProcedure"></a> <span data-ttu-id="7e47c-108">Uso de SQL Server Management Studio</span><span class="sxs-lookup"><span data-stu-id="7e47c-108">Using SQL Server Management Studio</span></span>  
 <span data-ttu-id="7e47c-109">Para inicializar manualmente una suscripción a una publicación copie el esquema (y, normalmente, los datos) en la base de datos de suscripciones.</span><span class="sxs-lookup"><span data-stu-id="7e47c-109">Initialize a subscription to a publication manually by copying the schema (and typically data) to the subscription database.</span></span> <span data-ttu-id="7e47c-110">El esquema y los datos deben coincidir con la base de datos de publicaciones.</span><span class="sxs-lookup"><span data-stu-id="7e47c-110">The schema and data should match the publication database.</span></span> <span data-ttu-id="7e47c-111">A continuación, especifique que la suscripción no requiere esquema y datos en la página **Inicializar suscripciones** del Asistente para nuevas suscripciones.</span><span class="sxs-lookup"><span data-stu-id="7e47c-111">Then specify that the subscription does not require schema and data on the **Initialize Subscriptions** page of the New Subscription Wizard.</span></span> <span data-ttu-id="7e47c-112">Para obtener más información sobre cómo utilizar este asistente, vea [Initialize a Transactional Subscription Without a Snapshot](initialize-a-transactional-subscription-without-a-snapshot.md) y [Create a Pull Subscription](create-a-pull-subscription.md).</span><span class="sxs-lookup"><span data-stu-id="7e47c-112">For more information about accessing this wizard, see [Initialize a Transactional Subscription Without a Snapshot](initialize-a-transactional-subscription-without-a-snapshot.md) and [Create a Pull Subscription](create-a-pull-subscription.md).</span></span>  
  
 <span data-ttu-id="7e47c-113">Al sincronizar la suscripción por primera vez, los objetos y metadatos requeridos por la replicación se copian en la base de datos de suscripciones.</span><span class="sxs-lookup"><span data-stu-id="7e47c-113">When you synchronize the subscription for the first time, the objects and metadata required by replication are copied to the subscription database.</span></span>  
  
#### <a name="to-initialize-a-subscription-to-a-publication-manually"></a><span data-ttu-id="7e47c-114">Para inicializar una suscripción a una publicación manualmente</span><span class="sxs-lookup"><span data-stu-id="7e47c-114">To initialize a subscription to a publication manually</span></span>  
  
1.  <span data-ttu-id="7e47c-115">Asegúrese de que el esquema y los datos están copiados en la base de datos de suscripciones.</span><span class="sxs-lookup"><span data-stu-id="7e47c-115">Ensure that the schema and data are copied to the subscription database.</span></span>  
  
2.  <span data-ttu-id="7e47c-116">Desactive la casilla **Inicializar** en la página **Inicializar suscripciones** del Asistente para nuevas suscripciones.</span><span class="sxs-lookup"><span data-stu-id="7e47c-116">Clear the **Initialize** check box on the **Initialize Subscriptions** page of the New Subscription Wizard.</span></span> <span data-ttu-id="7e47c-117">Haga esto con cada suscripción que requiera solo copiar metadatos y objetos de replicación.</span><span class="sxs-lookup"><span data-stu-id="7e47c-117">Do this for each subscription that requires only replication objects and metadata to be copied.</span></span>  
  
##  <a name="using-transact-sql"></a><a name="TsqlProcedure"></a> <span data-ttu-id="7e47c-118">Usar Transact-SQL</span><span class="sxs-lookup"><span data-stu-id="7e47c-118">Using Transact-SQL</span></span>  
 <span data-ttu-id="7e47c-119">Las suscripciones se pueden inicializar manualmente con los procedimientos almacenados de replicación.</span><span class="sxs-lookup"><span data-stu-id="7e47c-119">Subscriptions can be initialized manually using replication stored procedures.</span></span>  
  
#### <a name="to-manually-initialize-a-pull-subscription-to-a-transactional-publication"></a><span data-ttu-id="7e47c-120">Para inicializar manualmente una suscripción de extracción a una publicación transaccional</span><span class="sxs-lookup"><span data-stu-id="7e47c-120">To manually initialize a pull subscription to a transactional publication</span></span>  
  
1.  <span data-ttu-id="7e47c-121">Asegúrese de que el esquema y los datos existen en la base de datos de suscripciones.</span><span class="sxs-lookup"><span data-stu-id="7e47c-121">Ensure that the schema and data exist on the subscription database.</span></span> <span data-ttu-id="7e47c-122">Para obtener más información, consulte [Initialize a Transactional Subscription Without a Snapshot](initialize-a-transactional-subscription-without-a-snapshot.md).</span><span class="sxs-lookup"><span data-stu-id="7e47c-122">For more information, see [Initialize a Transactional Subscription Without a Snapshot](initialize-a-transactional-subscription-without-a-snapshot.md).</span></span>  
  
2.  <span data-ttu-id="7e47c-123">En el publicador de la base de datos de publicaciones, ejecute [sp_addsubscription](/sql/relational-databases/system-stored-procedures/sp-addsubscription-transact-sql).</span><span class="sxs-lookup"><span data-stu-id="7e47c-123">At the Publisher on the publication database, execute [sp_addsubscription](/sql/relational-databases/system-stored-procedures/sp-addsubscription-transact-sql).</span></span> <span data-ttu-id="7e47c-124">Especifique **@publication** , **@subscriber** , el nombre de la base de datos en el suscriptor que contiene los datos publicados para **@destination_db** , un valor de **pull** para **@subscription_type** y un valor de **Replication support Only** para **@sync_type** .</span><span class="sxs-lookup"><span data-stu-id="7e47c-124">Specify **@publication**, **@subscriber**, the name of the database at the Subscriber containing the published data for **@destination_db**, a value of **pull** for **@subscription_type**, and a value of **replication support only** for **@sync_type**.</span></span> <span data-ttu-id="7e47c-125">Para obtener más información, consulte [Create a Pull Subscription](create-a-pull-subscription.md).</span><span class="sxs-lookup"><span data-stu-id="7e47c-125">For more information, see [Create a Pull Subscription](create-a-pull-subscription.md).</span></span>  
  
3.  <span data-ttu-id="7e47c-126">En el suscriptor, ejecute [sp_addpullsubscription](/sql/relational-databases/system-stored-procedures/sp-addpullsubscription-transact-sql).</span><span class="sxs-lookup"><span data-stu-id="7e47c-126">At the Subscriber, execute [sp_addpullsubscription](/sql/relational-databases/system-stored-procedures/sp-addpullsubscription-transact-sql).</span></span> <span data-ttu-id="7e47c-127">Para obtener más información acerca de las suscripciones de actualización, vea [Create an Updatable Subscription to a Transactional Publication](publish/create-an-updatable-subscription-to-a-transactional-publication.md).</span><span class="sxs-lookup"><span data-stu-id="7e47c-127">For updating subscriptions, see [Create an Updatable Subscription to a Transactional Publication](publish/create-an-updatable-subscription-to-a-transactional-publication.md).</span></span>  
  
4.  <span data-ttu-id="7e47c-128">En el suscriptor, ejecute [sp_addpullsubscription_agent](/sql/relational-databases/system-stored-procedures/sp-addpullsubscription-agent-transact-sql).</span><span class="sxs-lookup"><span data-stu-id="7e47c-128">At the Subscriber, execute [sp_addpullsubscription_agent](/sql/relational-databases/system-stored-procedures/sp-addpullsubscription-agent-transact-sql).</span></span> <span data-ttu-id="7e47c-129">Para obtener más información, consulte [Create a Pull Subscription](create-a-pull-subscription.md).</span><span class="sxs-lookup"><span data-stu-id="7e47c-129">For more information, see [Create a Pull Subscription](create-a-pull-subscription.md).</span></span>  
  
5.  <span data-ttu-id="7e47c-130">Inicie el Agente de distribución para transferir los objetos de replicación y descargue los cambios más recientes del publicador.</span><span class="sxs-lookup"><span data-stu-id="7e47c-130">Start the Distribution Agent to transfer replication objects and download the latest changes from the Publisher.</span></span> <span data-ttu-id="7e47c-131">Para obtener más información, consulte [Synchronize a Pull Subscription](synchronize-a-pull-subscription.md).</span><span class="sxs-lookup"><span data-stu-id="7e47c-131">For more information, see [Synchronize a Pull Subscription](synchronize-a-pull-subscription.md).</span></span>  
  
#### <a name="to-manually-initialize-a-push-subscription-to-a-transactional-publication"></a><span data-ttu-id="7e47c-132">Para inicializar manualmente una suscripción de inserción a una publicación transaccional</span><span class="sxs-lookup"><span data-stu-id="7e47c-132">To manually initialize a push subscription to a transactional publication</span></span>  
  
1.  <span data-ttu-id="7e47c-133">Asegúrese de que el esquema y los datos existen en la base de datos de suscripciones.</span><span class="sxs-lookup"><span data-stu-id="7e47c-133">Ensure that the schema and data exist on the subscription database.</span></span> <span data-ttu-id="7e47c-134">Para obtener más información, consulte [Initialize a Transactional Subscription Without a Snapshot](initialize-a-transactional-subscription-without-a-snapshot.md).</span><span class="sxs-lookup"><span data-stu-id="7e47c-134">For more information, see [Initialize a Transactional Subscription Without a Snapshot](initialize-a-transactional-subscription-without-a-snapshot.md).</span></span>  
  
2.  <span data-ttu-id="7e47c-135">En el publicador de la base de datos de publicaciones, ejecute [sp_addsubscription](/sql/relational-databases/system-stored-procedures/sp-addsubscription-transact-sql).</span><span class="sxs-lookup"><span data-stu-id="7e47c-135">At the Publisher on the publication database, execute [sp_addsubscription](/sql/relational-databases/system-stored-procedures/sp-addsubscription-transact-sql).</span></span> <span data-ttu-id="7e47c-136">Especifique el nombre de la base de datos en el suscriptor que contiene los datos publicados para **@destination_db** , un valor de **inserte** para **@subscription_type** y un valor de **Replication support Only** para **@sync_type** .</span><span class="sxs-lookup"><span data-stu-id="7e47c-136">Specify the name of the database at the Subscriber containing the published data for **@destination_db**, a value of **push** for **@subscription_type**, and a value of **replication support only** for **@sync_type**.</span></span> <span data-ttu-id="7e47c-137">Para obtener más información acerca de las suscripciones de actualización, vea [Create an Updatable Subscription to a Transactional Publication](publish/create-an-updatable-subscription-to-a-transactional-publication.md).</span><span class="sxs-lookup"><span data-stu-id="7e47c-137">For updating subscriptions, see [Create an Updatable Subscription to a Transactional Publication](publish/create-an-updatable-subscription-to-a-transactional-publication.md).</span></span>  
  
3.  <span data-ttu-id="7e47c-138">En el publicador de la base de datos de publicaciones, ejecute [sp_addpushsubscription_agent](/sql/relational-databases/system-stored-procedures/sp-addpullsubscription-agent-transact-sql).</span><span class="sxs-lookup"><span data-stu-id="7e47c-138">At the Publisher on the publication database, execute [sp_addpushsubscription_agent](/sql/relational-databases/system-stored-procedures/sp-addpullsubscription-agent-transact-sql).</span></span> <span data-ttu-id="7e47c-139">Para obtener más información, consulte [Create a Push Subscription](create-a-push-subscription.md).</span><span class="sxs-lookup"><span data-stu-id="7e47c-139">For more information, see [Create a Push Subscription](create-a-push-subscription.md).</span></span>  
  
4.  <span data-ttu-id="7e47c-140">Inicie el Agente de distribución para transferir los objetos de replicación y descargue los cambios más recientes del publicador.</span><span class="sxs-lookup"><span data-stu-id="7e47c-140">Start the Distribution Agent to transfer replication objects and download the latest changes from the Publisher.</span></span> <span data-ttu-id="7e47c-141">Para obtener más información, consulte [Synchronize a Push Subscription](synchronize-a-push-subscription.md).</span><span class="sxs-lookup"><span data-stu-id="7e47c-141">For more information, see [Synchronize a Push Subscription](synchronize-a-push-subscription.md).</span></span>  
  
#### <a name="to-manually-initialize-a-pull-subscription-to-a-merge-publication"></a><span data-ttu-id="7e47c-142">Para inicializar manualmente una suscripción de extracción a una publicación de combinación</span><span class="sxs-lookup"><span data-stu-id="7e47c-142">To manually initialize a pull subscription to a merge publication</span></span>  
  
1.  <span data-ttu-id="7e47c-143">Asegúrese de que el esquema y los datos existen en la base de datos de suscripciones.</span><span class="sxs-lookup"><span data-stu-id="7e47c-143">Ensure that the schema and data exist on the subscription database.</span></span> <span data-ttu-id="7e47c-144">Esto se puede hacer restaurando una copia de seguridad de la base de datos de publicación en el suscriptor.</span><span class="sxs-lookup"><span data-stu-id="7e47c-144">This can be done by restoring a backup of the publication database at the Subscriber.</span></span>  
  
2.  <span data-ttu-id="7e47c-145">En el publicador, ejecute [sp_addmergesubscription](/sql/relational-databases/system-stored-procedures/sp-addmergesubscription-transact-sql).</span><span class="sxs-lookup"><span data-stu-id="7e47c-145">At the Publisher, execute [sp_addmergesubscription](/sql/relational-databases/system-stored-procedures/sp-addmergesubscription-transact-sql).</span></span> <span data-ttu-id="7e47c-146">Especifique **@publication** , **@subscriber** , **@subscriber_db** y un valor de **pull** para **@subscription_type** .</span><span class="sxs-lookup"><span data-stu-id="7e47c-146">Specify **@publication**, **@subscriber**, **@subscriber_db**, and a value of **pull** for **@subscription_type**.</span></span> <span data-ttu-id="7e47c-147">Esto registra la suscripción de extracción.</span><span class="sxs-lookup"><span data-stu-id="7e47c-147">This registers the pull subscription.</span></span>  
  
3.  <span data-ttu-id="7e47c-148">En la base de datos del suscriptor que contiene los datos publicados, ejecute [sp_addmergepullsubscription](/sql/relational-databases/system-stored-procedures/sp-addmergepullsubscription-transact-sql).</span><span class="sxs-lookup"><span data-stu-id="7e47c-148">At the Subscriber on the database containing the published data, execute [sp_addmergepullsubscription](/sql/relational-databases/system-stored-procedures/sp-addmergepullsubscription-transact-sql).</span></span> <span data-ttu-id="7e47c-149">Especifique un valor de **none** para **@sync_type**.</span><span class="sxs-lookup"><span data-stu-id="7e47c-149">Specify a value of **none** for **@sync_type**.</span></span>  
  
4.  <span data-ttu-id="7e47c-150">En el suscriptor, ejecute [sp_addmergepullsubscription_agent](/sql/relational-databases/system-stored-procedures/sp-addmergepullsubscription-agent-transact-sql).</span><span class="sxs-lookup"><span data-stu-id="7e47c-150">At the Subscriber, execute [sp_addmergepullsubscription_agent](/sql/relational-databases/system-stored-procedures/sp-addmergepullsubscription-agent-transact-sql).</span></span> <span data-ttu-id="7e47c-151">Para obtener más información, consulte [Create a Pull Subscription](create-a-pull-subscription.md).</span><span class="sxs-lookup"><span data-stu-id="7e47c-151">For more information, see [Create a Pull Subscription](create-a-pull-subscription.md).</span></span>  
  
5.  <span data-ttu-id="7e47c-152">Inicie el Agente de mezcla para transferir los objetos de replicación y descargue los cambios más recientes del publicador.</span><span class="sxs-lookup"><span data-stu-id="7e47c-152">Start the Merge Agent to transfer replication objects and download the latest changes from the Publisher.</span></span> <span data-ttu-id="7e47c-153">Para obtener más información, consulte [Synchronize a Pull Subscription](synchronize-a-pull-subscription.md).</span><span class="sxs-lookup"><span data-stu-id="7e47c-153">For more information, see [Synchronize a Pull Subscription](synchronize-a-pull-subscription.md).</span></span>  
  
#### <a name="to-manually-initialize-a-push-subscription-to-a-merge-publication"></a><span data-ttu-id="7e47c-154">Para inicializar manualmente una suscripción de inserción a una publicación de combinación</span><span class="sxs-lookup"><span data-stu-id="7e47c-154">To manually initialize a push subscription to a merge publication</span></span>  
  
1.  <span data-ttu-id="7e47c-155">Asegúrese de que el esquema y los datos existen en la base de datos de suscripciones.</span><span class="sxs-lookup"><span data-stu-id="7e47c-155">Ensure that the schema and data exist on the subscription database.</span></span> <span data-ttu-id="7e47c-156">Esto se puede hacer restaurando una copia de seguridad de la base de datos de publicación en el suscriptor.</span><span class="sxs-lookup"><span data-stu-id="7e47c-156">This can be done by restoring a backup of the publication database at the Subscriber.</span></span>  
  
2.  <span data-ttu-id="7e47c-157">En la base de datos de publicación del publicador, ejecute [sp_addmergesubscription](/sql/relational-databases/system-stored-procedures/sp-addmergesubscription-transact-sql).</span><span class="sxs-lookup"><span data-stu-id="7e47c-157">At the Publisher on the publication database, execute [sp_addmergesubscription](/sql/relational-databases/system-stored-procedures/sp-addmergesubscription-transact-sql).</span></span> <span data-ttu-id="7e47c-158">Especifique el nombre de la base de datos en el suscriptor que contiene los datos publicados para **@subscriber_db** , un valor de **inserte** para **@subscription_type** y un valor de **None** para **@sync_type** .</span><span class="sxs-lookup"><span data-stu-id="7e47c-158">Specify the name of the database at the Subscriber containing the published data for **@subscriber_db**, a value of **push** for **@subscription_type**, and a value of **none** for **@sync_type**.</span></span>  
  
3.  <span data-ttu-id="7e47c-159">En el publicador de la base de datos de publicaciones, ejecute [sp_addmergepushsubscription_agent](/sql/relational-databases/system-stored-procedures/sp-addmergepushsubscription-agent-transact-sql).</span><span class="sxs-lookup"><span data-stu-id="7e47c-159">At the Publisher on the publication database, execute [sp_addmergepushsubscription_agent](/sql/relational-databases/system-stored-procedures/sp-addmergepushsubscription-agent-transact-sql).</span></span> <span data-ttu-id="7e47c-160">Para obtener más información, consulte [Create a Push Subscription](create-a-push-subscription.md).</span><span class="sxs-lookup"><span data-stu-id="7e47c-160">For more information, see [Create a Push Subscription](create-a-push-subscription.md).</span></span>  
  
4.  <span data-ttu-id="7e47c-161">Inicie el Agente de mezcla para transferir los objetos de replicación y descargue los cambios más recientes del publicador.</span><span class="sxs-lookup"><span data-stu-id="7e47c-161">Start the Merge Agent to transfer replication objects and download the latest changes from the Publisher.</span></span> <span data-ttu-id="7e47c-162">Para obtener más información, consulte [Synchronize a Push Subscription](synchronize-a-push-subscription.md).</span><span class="sxs-lookup"><span data-stu-id="7e47c-162">For more information, see [Synchronize a Push Subscription](synchronize-a-push-subscription.md).</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="7e47c-163">Consulte también</span><span class="sxs-lookup"><span data-stu-id="7e47c-163">See Also</span></span>  
 <span data-ttu-id="7e47c-164">[Initialize a Transactional Subscription Without a Snapshot](initialize-a-transactional-subscription-without-a-snapshot.md) </span><span class="sxs-lookup"><span data-stu-id="7e47c-164">[Initialize a Transactional Subscription Without a Snapshot](initialize-a-transactional-subscription-without-a-snapshot.md) </span></span>  
 <span data-ttu-id="7e47c-165">[Hacer copias de seguridad y restaurar bases de datos replicadas](administration/back-up-and-restore-replicated-databases.md) </span><span class="sxs-lookup"><span data-stu-id="7e47c-165">[Back Up and Restore Replicated Databases](administration/back-up-and-restore-replicated-databases.md) </span></span>  
 [<span data-ttu-id="7e47c-166">Procedimientos recomendados de seguridad de replicación</span><span class="sxs-lookup"><span data-stu-id="7e47c-166">Replication Security Best Practices</span></span>](security/replication-security-best-practices.md)  
  
  
