---
title: Creación de una suscripción para un suscriptor que no sea de SQL Server | Microsoft Docs
ms.custom: ''
ms.date: 06/13/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: replication
ms.topic: conceptual
helpviewer_keywords:
- subscriptions [SQL Server replication], non-SQL Server Subscribers
- Subscribers [SQL Server replication], non-SQL Server Subscribers
- non-SQL Server Subscribers, subscriptions
ms.assetid: 5020ee68-b988-4d57-8066-67d183e61237
author: MashaMSFT
ms.author: mathoma
ms.openlocfilehash: 31a7d1e52c53cb858039f1fd0ed403f255ad5ca2
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 08/04/2020
ms.locfileid: "87745217"
---
# <a name="create-a-subscription-for-a-non-sql-server-subscriber"></a><span data-ttu-id="e57e2-102">Crear una suscripción para un suscriptor que no sea de SQL Server</span><span class="sxs-lookup"><span data-stu-id="e57e2-102">Create a Subscription for a Non-SQL Server Subscriber</span></span>
  <span data-ttu-id="e57e2-103">En este tema se describe cómo crear una suscripción para un suscriptor que no sea de SQL Server en [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)] mediante [!INCLUDE[ssManStudioFull](../../includes/ssmanstudiofull-md.md)] o [!INCLUDE[tsql](../../includes/tsql-md.md)].</span><span class="sxs-lookup"><span data-stu-id="e57e2-103">This topic describes how to create a subscription for a non-SQL Server Subscriber in [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)] by using [!INCLUDE[ssManStudioFull](../../includes/ssmanstudiofull-md.md)] or [!INCLUDE[tsql](../../includes/tsql-md.md)].</span></span> <span data-ttu-id="e57e2-104">La replicación transaccional y la replicación de instantáneas admiten la publicación de datos en suscriptores que no son de[!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] .</span><span class="sxs-lookup"><span data-stu-id="e57e2-104">Transactional and snapshot replication support publishing data to non-[!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] Subscribers.</span></span> <span data-ttu-id="e57e2-105">Para obtener más información sobre plataformas de suscriptores admitidos, vea [Non-SQL Server Subscribers](non-sql/non-sql-server-subscribers.md).</span><span class="sxs-lookup"><span data-stu-id="e57e2-105">For information about supported Subscriber platforms, see [Non-SQL Server Subscribers](non-sql/non-sql-server-subscribers.md).</span></span>  
  
 <span data-ttu-id="e57e2-106">**En este tema**</span><span class="sxs-lookup"><span data-stu-id="e57e2-106">**In This Topic**</span></span>  
  
-   <span data-ttu-id="e57e2-107">**Para crear una suscripción para un suscriptor que no sea de SQL Server con:**</span><span class="sxs-lookup"><span data-stu-id="e57e2-107">**To create a subscription for a non-SQL Server Subscriber, using:**</span></span>  
  
     [<span data-ttu-id="e57e2-108">SQL Server Management Studio</span><span class="sxs-lookup"><span data-stu-id="e57e2-108">SQL Server Management Studio</span></span>](#SSMSProcedure)  
  
     [<span data-ttu-id="e57e2-109">Transact-SQL</span><span class="sxs-lookup"><span data-stu-id="e57e2-109">Transact-SQL</span></span>](#TsqlProcedure)  
  
##  <a name="using-sql-server-management-studio"></a><a name="SSMSProcedure"></a> <span data-ttu-id="e57e2-110">Uso de SQL Server Management Studio</span><span class="sxs-lookup"><span data-stu-id="e57e2-110">Using SQL Server Management Studio</span></span>  
 <span data-ttu-id="e57e2-111">Para crear una publicación para un suscriptor que no sea de[!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] :</span><span class="sxs-lookup"><span data-stu-id="e57e2-111">To create a subscription for a non-[!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] Subscriber:</span></span>  
  
1.  <span data-ttu-id="e57e2-112">Instale y configure el software de cliente y el proveedor o proveedores OLE DB adecuados en el distribuidor de [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] .</span><span class="sxs-lookup"><span data-stu-id="e57e2-112">Install and configure the appropriate client software and OLE DB provider(s) on the [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] Distributor.</span></span> <span data-ttu-id="e57e2-113">Para obtener más información, consulte [Oracle Subscribers](non-sql/oracle-subscribers.md) y [IBM DB2 Subscribers](non-sql/ibm-db2-subscribers.md).</span><span class="sxs-lookup"><span data-stu-id="e57e2-113">For more information, see [Oracle Subscribers](non-sql/oracle-subscribers.md) and [IBM DB2 Subscribers](non-sql/ibm-db2-subscribers.md).</span></span>  
  
2.  <span data-ttu-id="e57e2-114">Cree una publicación mediante el Asistente para nueva publicación.</span><span class="sxs-lookup"><span data-stu-id="e57e2-114">Create a publication using the New Publication Wizard.</span></span> <span data-ttu-id="e57e2-115">Para obtener información sobre cómo crear una publicación de una base de datos de Oracle, vea [Crear una publicación a partir de una base de datos de Oracle](publish/create-a-publication.md) y [Crear una publicación a partir de una base de datos de Oracle](publish/create-a-publication-from-an-oracle-database.md).</span><span class="sxs-lookup"><span data-stu-id="e57e2-115">For more information about creating publications, see [Create a Publication](publish/create-a-publication.md) and [Create a Publication from an Oracle Database](publish/create-a-publication-from-an-oracle-database.md).</span></span> <span data-ttu-id="e57e2-116">En el Asistente para nueva publicación, especifique las siguientes opciones:</span><span class="sxs-lookup"><span data-stu-id="e57e2-116">Specify the following options in the New Publication Wizard:</span></span>  
  
    -   <span data-ttu-id="e57e2-117">En la página **Tipo de publicación** , seleccione **Publicación de instantáneas** o **Publicación transaccional**.</span><span class="sxs-lookup"><span data-stu-id="e57e2-117">On the **Publication Type** page, select **Snapshot publication** or **Transactional publication**.</span></span>  
  
    -   <span data-ttu-id="e57e2-118">En la página **Agente de instantáneas** , desactive **Crear una instantánea inmediatamente**.</span><span class="sxs-lookup"><span data-stu-id="e57e2-118">On the **Snapshot Agent** page, clear **Create a snapshot immediately**.</span></span>  
  
         <span data-ttu-id="e57e2-119">La instantánea se crea una vez habilitada la publicación para los suscriptores que no son de[!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] a fin de garantizar que el Agente de instantáneas genera scripts de inicialización e instantáneas adecuados para los suscriptores que no son de[!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] .</span><span class="sxs-lookup"><span data-stu-id="e57e2-119">You create the snapshot after the publication is enabled for non-[!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] Subscribers to ensure that the Snapshot Agent generates a snapshot and initialization scripts that are suitable for non-[!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] Subscribers.</span></span>  
  
3.  <span data-ttu-id="e57e2-120">Habilite la publicación para los suscriptores que no son de [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] mediante el cuadro de diálogo **Propiedades de la publicación: \<PublicationName>** .</span><span class="sxs-lookup"><span data-stu-id="e57e2-120">Enable the publication for non-[!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] Subscribers using the **Publication Properties - \<PublicationName>** dialog box.</span></span> <span data-ttu-id="e57e2-121">Para obtener más información acerca de este paso, vea [Publication Properties, Subscription Options](publication-properties-subscription-options.md) .</span><span class="sxs-lookup"><span data-stu-id="e57e2-121">See [Publication Properties, Subscription Options](publication-properties-subscription-options.md) for more information about this step.</span></span>  
  
4.  <span data-ttu-id="e57e2-122">Cree una suscripción mediante el Asistente para nuevas suscripciones.</span><span class="sxs-lookup"><span data-stu-id="e57e2-122">Create a subscription using the New Subscription Wizard.</span></span> <span data-ttu-id="e57e2-123">En este tema se proporciona más información acerca de este paso.</span><span class="sxs-lookup"><span data-stu-id="e57e2-123">This topic provides more information about this step.</span></span>  
  
5.  <span data-ttu-id="e57e2-124">(Opcional) Cambie la propiedad de artículo **pre_creation_cmd** para conservar las tablas en el suscriptor.</span><span class="sxs-lookup"><span data-stu-id="e57e2-124">(Optional) Change the **pre_creation_cmd** article property to retain tables at the Subscriber.</span></span> <span data-ttu-id="e57e2-125">En este tema se proporciona más información acerca de este paso.</span><span class="sxs-lookup"><span data-stu-id="e57e2-125">This topic provides more information about this step.</span></span>  
  
6.  <span data-ttu-id="e57e2-126">Genere una instantánea para la publicación.</span><span class="sxs-lookup"><span data-stu-id="e57e2-126">Generate a snapshot for the publication.</span></span> <span data-ttu-id="e57e2-127">En este tema se proporciona más información acerca de este paso.</span><span class="sxs-lookup"><span data-stu-id="e57e2-127">This topic provides more information about this step.</span></span>  
  
7.  <span data-ttu-id="e57e2-128">Sincronice la suscripción.</span><span class="sxs-lookup"><span data-stu-id="e57e2-128">Synchronize the subscription.</span></span> <span data-ttu-id="e57e2-129">Para obtener más información, consulte [Synchronize a Push Subscription](synchronize-a-push-subscription.md).</span><span class="sxs-lookup"><span data-stu-id="e57e2-129">For more information, see [Synchronize a Push Subscription](synchronize-a-push-subscription.md).</span></span>  
  
#### <a name="to-enable-a-publication-for-non-sql-server-subscribers"></a><span data-ttu-id="e57e2-130">Para habilitar una publicación para suscriptores que no son de SQL Server</span><span class="sxs-lookup"><span data-stu-id="e57e2-130">To enable a publication for non-SQL Server Subscribers</span></span>  
  
1.  <span data-ttu-id="e57e2-131">Conéctese al publicador en [!INCLUDE[ssManStudioFull](../../includes/ssmanstudiofull-md.md)]y luego expanda el nodo del servidor.</span><span class="sxs-lookup"><span data-stu-id="e57e2-131">Connect to the Publisher in [!INCLUDE[ssManStudioFull](../../includes/ssmanstudiofull-md.md)], and then expand the server node.</span></span>  
  
2.  <span data-ttu-id="e57e2-132">Expanda la carpeta **Replicación** y, a continuación, expanda la carpeta **Publicaciones locales** .</span><span class="sxs-lookup"><span data-stu-id="e57e2-132">Expand the **Replication** folder, and then expand the **Local Publications** folder.</span></span>  
  
3.  <span data-ttu-id="e57e2-133">Haga clic con el botón secundario en la publicación y, a continuación, haga clic en **Propiedades**.</span><span class="sxs-lookup"><span data-stu-id="e57e2-133">Right-click the publication, and then click **Properties**.</span></span>  
  
4.  <span data-ttu-id="e57e2-134">En la página **Opciones de suscripción** , seleccione el valor **True** para la opción **Permitir suscriptores que no sean de SQL**.</span><span class="sxs-lookup"><span data-stu-id="e57e2-134">On the **Subscription Options** page, select a value of **True** for the option **Allow non-SQL Server Subscribers**.</span></span> <span data-ttu-id="e57e2-135">Al seleccionar esta opción, se modifican una serie de propiedades para que la publicación sea compatible con suscriptores que no son de[!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] .</span><span class="sxs-lookup"><span data-stu-id="e57e2-135">Selecting this option changes a number of properties so that the publication is compatible with non-[!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] Subscribers.</span></span>  
  
    > [!NOTE]  
    >  <span data-ttu-id="e57e2-136">Al seleccionar **True** se asigna el valor 'drop' a la propiedad de artículo **pre_creation_cmd** .</span><span class="sxs-lookup"><span data-stu-id="e57e2-136">Selecting **True** sets the value of the **pre_creation_cmd** article property to 'drop'.</span></span> <span data-ttu-id="e57e2-137">El valor mencionado indica que la replicación debe quitar una tabla en el suscriptor si coincide con el nombre de la tabla del artículo.</span><span class="sxs-lookup"><span data-stu-id="e57e2-137">This setting specifies that replication should drop a table at the Subscriber if it matches the name of the table in the article.</span></span> <span data-ttu-id="e57e2-138">Si en el suscriptor existen tablas que desea conservar, use el procedimiento almacenado [sp_changearticle](/sql/relational-databases/system-stored-procedures/sp-changearticle-transact-sql) para cada artículo; asigne el valor 'none' a **pre_creation_cmd**: `sp_changearticle @publication= 'MyPublication', @article= 'MyArticle', @property='pre_creation_cmd', @value='none'`.</span><span class="sxs-lookup"><span data-stu-id="e57e2-138">If you have existing tables at the Subscriber that you want to keep, use the [sp_changearticle](/sql/relational-databases/system-stored-procedures/sp-changearticle-transact-sql) stored procedure for each article; specify a value 'none' for **pre_creation_cmd**: `sp_changearticle @publication= 'MyPublication', @article= 'MyArticle', @property='pre_creation_cmd', @value='none'`.</span></span>  
  
5.  [!INCLUDE[clickOK](../../includes/clickok-md.md)] <span data-ttu-id="e57e2-139">Se le pedirá que cree una nueva instantánea para la publicación.</span><span class="sxs-lookup"><span data-stu-id="e57e2-139">You will be prompted to create a new snapshot for the publication.</span></span> <span data-ttu-id="e57e2-140">Si no desea crear ninguna en este momento, siga los pasos descritos en el procedimiento correspondiente más adelante.</span><span class="sxs-lookup"><span data-stu-id="e57e2-140">If you do not want to create one at this time, use the steps described in the next "how to" procedure at a later time.</span></span>  
  
#### <a name="to-create-a-subscription-for-a-non-sql-server-subscriber"></a><span data-ttu-id="e57e2-141">Para crear una suscripción para un suscriptor que no sea de SQL Server</span><span class="sxs-lookup"><span data-stu-id="e57e2-141">To create a subscription for a non-SQL Server Subscriber</span></span>  
  
1.  <span data-ttu-id="e57e2-142">Expanda la carpeta **Replicación** y, a continuación, expanda la carpeta **Publicaciones locales** .</span><span class="sxs-lookup"><span data-stu-id="e57e2-142">Expand the **Replication** folder, and then expand the **Local Publications** folder.</span></span>  
  
2.  <span data-ttu-id="e57e2-143">Haga clic con el botón secundario en la publicación correspondiente y, a continuación, haga clic en **Nuevas suscripciones**.</span><span class="sxs-lookup"><span data-stu-id="e57e2-143">Right-click the appropriate publication, and then click **New Subscriptions**.</span></span>  
  
3.  <span data-ttu-id="e57e2-144">En la página **Ubicación del Agente de distribución** , asegúrese de que la opción **Ejecutar todos los agentes en el distribuidor** está seleccionada.</span><span class="sxs-lookup"><span data-stu-id="e57e2-144">On the **Distribution Agent Location** page, ensure **Run all agents at the Distributor** is selected.</span></span> <span data-ttu-id="e57e2-145">Los suscriptores que no son de[!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] no pueden ejecutar agentes en el suscriptor.</span><span class="sxs-lookup"><span data-stu-id="e57e2-145">Non-[!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] Subscribers do not support running agents at the Subscriber.</span></span>  
  
4.  <span data-ttu-id="e57e2-146">En la página **Suscriptores** , haga clic en **Agregar suscriptor** y, a continuación, haga clic en **Agregar suscriptor que no sea de SQL Server**.</span><span class="sxs-lookup"><span data-stu-id="e57e2-146">On the **Subscribers** page, click **Add Subscriber** and then click **Add Non-SQL Server Subscriber**.</span></span>  
  
5.  <span data-ttu-id="e57e2-147">En el cuadro de diálogo **Agregar suscriptor que no sea de SQL Server** , seleccione el tipo de suscriptor.</span><span class="sxs-lookup"><span data-stu-id="e57e2-147">In the **Add Non-SQL Server Subscriber** dialog box, select the type of Subscriber.</span></span>  
  
6.  <span data-ttu-id="e57e2-148">Especifique un valor en **Nombre del origen de datos**:</span><span class="sxs-lookup"><span data-stu-id="e57e2-148">Enter a value in **Data source name**:</span></span>  
  
    -   <span data-ttu-id="e57e2-149">Para Oracle, es el nombre TNS (transparent network substrate) configurado.</span><span class="sxs-lookup"><span data-stu-id="e57e2-149">For Oracle, this is the transparent network substrate (TNS) name you configured.</span></span>  
  
    -   <span data-ttu-id="e57e2-150">Para IBM, puede ser cualquier nombre.</span><span class="sxs-lookup"><span data-stu-id="e57e2-150">For IBM, this can be any name.</span></span> <span data-ttu-id="e57e2-151">Lo habitual es especificar la dirección de red del suscriptor.</span><span class="sxs-lookup"><span data-stu-id="e57e2-151">It is typical to specify the network address of the Subscriber.</span></span>  
  
     <span data-ttu-id="e57e2-152">El asistente no valida el nombre del origen de datos especificado en este paso ni las credenciales del paso 9.</span><span class="sxs-lookup"><span data-stu-id="e57e2-152">The data source name entered in this step and the credentials specified in step 9 are not validated by this wizard.</span></span> <span data-ttu-id="e57e2-153">No se utilizan para la replicación hasta que se ejecuta el Agente de distribución para la suscripción.</span><span class="sxs-lookup"><span data-stu-id="e57e2-153">They are not used by replication until the Distribution Agent runs for the subscription.</span></span> <span data-ttu-id="e57e2-154">Asegúrese de que haber comprobado todos los valores conectándose al suscriptor mediante una herramienta cliente (como **sqlplus** para Oracle).</span><span class="sxs-lookup"><span data-stu-id="e57e2-154">Ensure that all values have been tested by connecting to the Subscriber using a client tool (such as **sqlplus** for Oracle).</span></span> <span data-ttu-id="e57e2-155">Para obtener más información, consulte [Oracle Subscribers](non-sql/oracle-subscribers.md) y [IBM DB2 Subscribers](non-sql/ibm-db2-subscribers.md).</span><span class="sxs-lookup"><span data-stu-id="e57e2-155">For more information, see [Oracle Subscribers](non-sql/oracle-subscribers.md) and [IBM DB2 Subscribers](non-sql/ibm-db2-subscribers.md).</span></span>  
  
7.  [!INCLUDE[clickOK](../../includes/clickok-md.md)] <span data-ttu-id="e57e2-156">En la página **Suscriptores** del asistente, el suscriptor aparece en la columna **Suscriptor** con un **(destino predeterminado)** de solo lectura en la columna **Base de datos de suscripciones** :</span><span class="sxs-lookup"><span data-stu-id="e57e2-156">On the **Subscribers** page of the wizard, the Subscriber is now displayed in the **Subscriber** column with a read-only **(default destination)** in the **Subscription Database** column:</span></span>  
  
    -   <span data-ttu-id="e57e2-157">En Oracle, un servidor tiene como máximo una base de datos, por lo que no es necesario especificarla.</span><span class="sxs-lookup"><span data-stu-id="e57e2-157">For Oracle, a server has at most one database, so it is not necessary to specify the database.</span></span>  
  
    -   <span data-ttu-id="e57e2-158">Para IBM DB2, la base de datos se especifica en la propiedad **Catálogo inicial** de la cadena de conexión DB2, la cual puede indicarse en el campo **Opciones de conexión adicionales** que se describe más adelante en este proceso.</span><span class="sxs-lookup"><span data-stu-id="e57e2-158">For IBM DB2, the database is specified in the **Initial Catalog** property of the DB2 connection string, which can be entered in the **Additional connection options** field described later in this process.</span></span>  
  
8.  <span data-ttu-id="e57e2-159">En la página **seguridad de agente de distribución** , haga clic en el botón de propiedades (**...**) situado junto al suscriptor para tener acceso al cuadro de diálogo **seguridad agente de distribución** .</span><span class="sxs-lookup"><span data-stu-id="e57e2-159">On the **Distribution Agent Security** page, click the properties button (**...**) next to the Subscriber to access the **Distribution Agent Security** dialog box.</span></span>  
  
9. <span data-ttu-id="e57e2-160">En el cuadro de diálogo **Seguridad del Agente de distribución** :</span><span class="sxs-lookup"><span data-stu-id="e57e2-160">In the **Distribution Agent Security** dialog box:</span></span>  
  
    -   <span data-ttu-id="e57e2-161">En los campos **Cuenta de proceso**, **Contraseña**y **Confirmar contraseña** , especifique la cuenta y contraseña de [!INCLUDE[msCoName](../../includes/msconame-md.md)] Windows con las que se deberá ejecutar el Agente de distribución y establecer las conexiones locales al distribuidor.</span><span class="sxs-lookup"><span data-stu-id="e57e2-161">In the **Process account**, **Password**, and **Confirm password** fields, enter the [!INCLUDE[msCoName](../../includes/msconame-md.md)] Windows account and password under which the Distribution Agent should run and make local connections to the Distributor.</span></span>  
  
         <span data-ttu-id="e57e2-162">La cuenta requiere los siguientes permisos mínimos: miembro del rol fijo de base de datos **db_owner** de la base de datos de distribución; miembro de la lista de acceso a la publicación (PAL); disponer de permisos de lectura en el recurso compartido de instantáneas y disponer de permiso de lectura en el directorio de instalación del proveedor OLE DB.</span><span class="sxs-lookup"><span data-stu-id="e57e2-162">The account requires these minimum permissions: member of the **db_owner** fixed database role in the distribution database; member of the publication access list (PAL); read permissions on the snapshot share; and read permission on the install directory of the OLE DB provider.</span></span> <span data-ttu-id="e57e2-163">Para obtener más información sobre la PAL, vea [Secure the Publisher](security/secure-the-publisher.md) (Proteger el publicador).</span><span class="sxs-lookup"><span data-stu-id="e57e2-163">For more information about the PAL, see [Secure the Publisher](security/secure-the-publisher.md).</span></span>  
  
    -   <span data-ttu-id="e57e2-164">En **Conectar al suscriptor**, en los campos **Inicio de sesión**, **Contraseña**y **Confirmar contraseña** , escriba el nombre de inicio de sesión y la contraseña que deben utilizarse para conectar al suscriptor.</span><span class="sxs-lookup"><span data-stu-id="e57e2-164">Under **Connect to the Subscriber**, in the **Login**, **Password**, and **Confirm password** fields, enter the login and password that should be used to connect to the Subscriber.</span></span> <span data-ttu-id="e57e2-165">Este inicio de sesión ya debería estar configurado y disponer de los permisos suficientes para crear objetos en la base de datos de suscripciones.</span><span class="sxs-lookup"><span data-stu-id="e57e2-165">This login should already be configured and should have sufficient permissions to create objects in the subscription database.</span></span>  
  
    -   <span data-ttu-id="e57e2-166">En el campo **Opciones de conexión adicionales** , especifique cualquier opción de conexión para el suscriptor en forma de cadena de conexión (Oracle no requiere opciones adicionales).</span><span class="sxs-lookup"><span data-stu-id="e57e2-166">In the **Additional connection options** field, specify any connection options for the Subscriber in the form of a connection string (Oracle does not require additional options).</span></span> <span data-ttu-id="e57e2-167">Las opciones deben ir separadas con punto y coma.</span><span class="sxs-lookup"><span data-stu-id="e57e2-167">Each option should be separated by a semi-colon.</span></span> <span data-ttu-id="e57e2-168">A continuación se ofrece un ejemplo de una cadena de conexión DB2 (se han incluido saltos de línea para facilitar la lectura):</span><span class="sxs-lookup"><span data-stu-id="e57e2-168">The following is an example of a DB2 connection string (line breaks are for readability):</span></span>  
  
        ```  
        Provider=DB2OLEDB;Initial Catalog=MY_SUBSCRIBER_DB;Network Transport Library=TCP;Host CCSID=1252;  
        PC Code Page=1252;Network Address=MY_SUBSCRIBER;Network Port=50000;Package Collection=MY_PKGCOL;  
        Default Schema=MY_SCHEMA;Process Binary as Character=False;Units of Work=RUW;DBMS Platform=DB2/NT;  
        Persist Security Info=False;Connection Pooling=True;  
        ```  
  
         <span data-ttu-id="e57e2-169">La mayoría de las opciones de la cadena son específicas para el servidor DB2 que está configurando, pero la opción **Process Binary as Character** siempre debe establecerse en **False**.</span><span class="sxs-lookup"><span data-stu-id="e57e2-169">Most of the options in the string are specific to the DB2 server you are configuring, but the **Process Binary as Character** option should always be set to **False**.</span></span> <span data-ttu-id="e57e2-170">Se requiere un valor para que la opción **Catálogo original** identifique la base de datos de suscripciones.</span><span class="sxs-lookup"><span data-stu-id="e57e2-170">A value is required for the **Initial Catalog** option to identify the subscription database.</span></span>  
  
10. <span data-ttu-id="e57e2-171">En la página **Programación de sincronización** , seleccione una programación para el Agente de distribución en el menú **Programación del agente** (la programación suele ser **Ejecutar continuamente**).</span><span class="sxs-lookup"><span data-stu-id="e57e2-171">On the **Synchronization Schedule** page, select a schedule for the Distribution Agent from the **Agent Schedule** menu (the schedule is typically **Run continuously**).</span></span>  
  
11. <span data-ttu-id="e57e2-172">En la página **Inicializar suscripciones** , especifique si la suscripción debe inicializarse y, en ese caso, cuándo debe llevarse a cabo:</span><span class="sxs-lookup"><span data-stu-id="e57e2-172">On the **Initialize Subscriptions** page, specify whether the subscription should be initialized and, if so, when it should be initialized:</span></span>  
  
    -   <span data-ttu-id="e57e2-173">Desactive **Inicializar** únicamente si ha creado todos los objetos y agregado todos los datos necesarios a la base de datos de suscripciones.</span><span class="sxs-lookup"><span data-stu-id="e57e2-173">Clear **Initialize** only if you have created all objects and added all required data in the subscription database.</span></span>  
  
    -   <span data-ttu-id="e57e2-174">Seleccione **Inmediatamente** en la lista desplegable de la columna **Inicializar cuando** para que el Agente de distribución transfiera los archivos de instantáneas al suscriptor una vez que el asistente haya finalizado.</span><span class="sxs-lookup"><span data-stu-id="e57e2-174">Select **Immediately** from the drop-down list in the **Initialize When** column to have the Distribution Agent transfer snapshot files to the Subscriber after this wizard is completed.</span></span> <span data-ttu-id="e57e2-175">Seleccione **En la primera sincronización** para que el agente transfiera los archivos la próxima vez que esté programado para ejecutarse.</span><span class="sxs-lookup"><span data-stu-id="e57e2-175">Select **At first synchronization** to have the agent transfer the files the next time it is scheduled to run.</span></span>  
  
12. <span data-ttu-id="e57e2-176">En la página **Acciones del asistente** , incluya de forma opcional la suscripción.</span><span class="sxs-lookup"><span data-stu-id="e57e2-176">On the **Wizard Actions** page, optionally script the subscription.</span></span> <span data-ttu-id="e57e2-177">Para más información, consulte [Scripting Replication](scripting-replication.md).</span><span class="sxs-lookup"><span data-stu-id="e57e2-177">For more information, see [Scripting Replication](scripting-replication.md).</span></span>  
  
#### <a name="to-retain-tables-at-the-subscriber"></a><span data-ttu-id="e57e2-178">Para conservar las tablas en el suscriptor</span><span class="sxs-lookup"><span data-stu-id="e57e2-178">To retain tables at the Subscriber</span></span>  
  
-   <span data-ttu-id="e57e2-179">De forma predeterminada, al habilitar una publicación para suscriptores que no son de[!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] , se asigna el valor 'drop' a la propiedad de artículo **pre_creation_cmd** .</span><span class="sxs-lookup"><span data-stu-id="e57e2-179">By default, enabling a publication for non-[!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] Subscribers sets the value of the **pre_creation_cmd** article property to 'drop'.</span></span> <span data-ttu-id="e57e2-180">El valor mencionado indica que la replicación debe quitar una tabla en el suscriptor si coincide con el nombre de la tabla del artículo.</span><span class="sxs-lookup"><span data-stu-id="e57e2-180">This setting specifies that replication should drop a table at the Subscriber if it matches the name of the table in the article.</span></span> <span data-ttu-id="e57e2-181">Si en el suscriptor existen tablas que desea conservar, use el procedimiento almacenado [sp_changearticle](/sql/relational-databases/system-stored-procedures/sp-changearticle-transact-sql) para cada artículo; asigne el valor 'none' a **pre_creation_cmd**.</span><span class="sxs-lookup"><span data-stu-id="e57e2-181">If you have existing tables at the Subscriber that you want to keep, use the [sp_changearticle](/sql/relational-databases/system-stored-procedures/sp-changearticle-transact-sql) stored procedure for each article; specify a value 'none' for **pre_creation_cmd**.</span></span> <span data-ttu-id="e57e2-182">`sp_changearticle @publication= 'MyPublication', @article= 'MyArticle', @property='pre_creation_cmd', @value='none'`.</span><span class="sxs-lookup"><span data-stu-id="e57e2-182">`sp_changearticle @publication= 'MyPublication', @article= 'MyArticle', @property='pre_creation_cmd', @value='none'`.</span></span>  
  
#### <a name="to-generate-a-snapshot-for-the-publication"></a><span data-ttu-id="e57e2-183">Para generar una instantánea para la publicación</span><span class="sxs-lookup"><span data-stu-id="e57e2-183">To generate a snapshot for the publication</span></span>  
  
1.  <span data-ttu-id="e57e2-184">Expanda la carpeta **Replicación** y, a continuación, expanda la carpeta **Publicaciones locales** .</span><span class="sxs-lookup"><span data-stu-id="e57e2-184">Expand the **Replication** folder, and then expand the **Local Publications** folder.</span></span>  
  
2.  <span data-ttu-id="e57e2-185">Haga clic con el botón secundario en la publicación y, a continuación, haga clic en **Ver estado del agente de instantáneas**.</span><span class="sxs-lookup"><span data-stu-id="e57e2-185">Right-click the publication, and then click **View Snapshot Agent Status**.</span></span>  
  
3.  <span data-ttu-id="e57e2-186">En el cuadro de diálogo **Ver estado del Agente de instantáneas: \<Publication>** , haga clic en **Iniciar**.</span><span class="sxs-lookup"><span data-stu-id="e57e2-186">In the **View Snapshot Agent Status - \<Publication>** dialog box, click **Start**.</span></span>  
  
 <span data-ttu-id="e57e2-187">Cuando el Agente de instantáneas termina de generar la instantánea, aparece un mensaje del tipo "[100%] Se ha generado una instantánea de 17 artículos".</span><span class="sxs-lookup"><span data-stu-id="e57e2-187">When the Snapshot Agent finishes generating the snapshot, a message is displayed, such as "[100%] A snapshot of 17 article(s) was generated."</span></span>  
  
##  <a name="using-transact-sql"></a><a name="TsqlProcedure"></a> <span data-ttu-id="e57e2-188">Usar Transact-SQL</span><span class="sxs-lookup"><span data-stu-id="e57e2-188">Using Transact-SQL</span></span>  
 <span data-ttu-id="e57e2-189">Puede crear suscripciones de inserción para suscriptores que no sean de[!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] mediante programación con procedimientos almacenados de replicación.</span><span class="sxs-lookup"><span data-stu-id="e57e2-189">You can create push subscriptions to non-[!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] Subscribers programmatically using replication stored procedures.</span></span>  
  
> [!IMPORTANT]  
>  <span data-ttu-id="e57e2-190">Cuando sea posible, pida a los usuarios que proporcionen credenciales de seguridad en tiempo de ejecución.</span><span class="sxs-lookup"><span data-stu-id="e57e2-190">When possible, prompt users to enter security credentials at runtime.</span></span> <span data-ttu-id="e57e2-191">Si debe almacenar las credenciales en un archivo de script, proteja el archivo para evitar el acceso no autorizado.</span><span class="sxs-lookup"><span data-stu-id="e57e2-191">If you must store credentials in a script file, you must secure the file to prevent unauthorized access.</span></span>  
  
#### <a name="to-create-a-push-subscription-for-a-transactional-or-snapshot-publication-to-a-non-sql-server-subscriber"></a><span data-ttu-id="e57e2-192">Para crear una suscripción de inserción para una publicación transaccional o de instantáneas a un suscriptor que no sea de SQL Server</span><span class="sxs-lookup"><span data-stu-id="e57e2-192">To create a push subscription for a transactional or snapshot publication to a non-SQL Server Subscriber</span></span>  
  
1.  <span data-ttu-id="e57e2-193">Instale el proveedor OLE DB más reciente para el Suscriptor que no sea de[!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] en el Publicador y el Distribuidor.</span><span class="sxs-lookup"><span data-stu-id="e57e2-193">Install the most recent OLE DB provider for the non-[!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] Subscriber at both the Publisher and Distributor.</span></span> <span data-ttu-id="e57e2-194">Para los requisitos de replicación para un proveedor OLE DB, vea [Non-SQL Server Subscribers](non-sql/non-sql-server-subscribers.md), [Oracle Subscribers](non-sql/oracle-subscribers.md), [IBM DB2 Subscribers](non-sql/ibm-db2-subscribers.md).</span><span class="sxs-lookup"><span data-stu-id="e57e2-194">For the replication requirements for an OLE DB provider, see [Non-SQL Server Subscribers](non-sql/non-sql-server-subscribers.md), [Oracle Subscribers](non-sql/oracle-subscribers.md), [IBM DB2 Subscribers](non-sql/ibm-db2-subscribers.md).</span></span>  
  
2.  <span data-ttu-id="e57e2-195">En el publicador de la base de datos de publicaciones, compruebe que la publicación admita suscripciones que no sean de [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] mediante la ejecución de [sp_helppublication &#40;Transact-SQL&#41;](/sql/relational-databases/system-stored-procedures/sp-helppublication-transact-sql).</span><span class="sxs-lookup"><span data-stu-id="e57e2-195">At the Publisher on the publication database, verify that the publication supports non-[!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] Subscribers by executing [sp_helppublication &#40;Transact-SQL&#41;](/sql/relational-databases/system-stored-procedures/sp-helppublication-transact-sql).</span></span>  
  
    -   <span data-ttu-id="e57e2-196">Si el valor de `enabled_for_het_sub` es 1, se admiten Suscriptores que no sean de [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)].</span><span class="sxs-lookup"><span data-stu-id="e57e2-196">If the value of `enabled_for_het_sub` is 1, non-[!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] Subscribers are supported.</span></span>  
  
    -   <span data-ttu-id="e57e2-197">Si el valor de `enabled_for_het_sub` es 0, ejecute [sp_changepublication &#40;&#41;de TRANSACT-SQL ](/sql/relational-databases/system-stored-procedures/sp-changepublication-transact-sql), especificando `enabled_for_het_sub` para **@property** y `true` para **@value** .</span><span class="sxs-lookup"><span data-stu-id="e57e2-197">If the value of `enabled_for_het_sub` is 0, execute [sp_changepublication &#40;Transact-SQL&#41;](/sql/relational-databases/system-stored-procedures/sp-changepublication-transact-sql), specifying `enabled_for_het_sub` for **@property** and `true` for **@value**.</span></span>  
  
        > [!NOTE]  
        >  <span data-ttu-id="e57e2-198">Antes de cambiar `enabled_for_het_sub` a `true`, debe quitar cualquier suscripción existente en la publicación.</span><span class="sxs-lookup"><span data-stu-id="e57e2-198">Before changing `enabled_for_het_sub` to `true`, you must drop any existing subscriptions to the publication.</span></span> <span data-ttu-id="e57e2-199">No puede establecer `enabled_for_het_sub` en `true` cuando la publicación también admite las suscripciones de actualización.</span><span class="sxs-lookup"><span data-stu-id="e57e2-199">You cannot set `enabled_for_het_sub` to `true` when the publication also supports updating subscriptions.</span></span> <span data-ttu-id="e57e2-200">El cambio de `enabled_for_het_sub` afectará a otras propiedades de publicación.</span><span class="sxs-lookup"><span data-stu-id="e57e2-200">Changing `enabled_for_het_sub` will affect other publication properties.</span></span> <span data-ttu-id="e57e2-201">Para más información, consulte [Non-SQL Server Subscribers](non-sql/non-sql-server-subscribers.md).</span><span class="sxs-lookup"><span data-stu-id="e57e2-201">For more information, see [Non-SQL Server Subscribers](non-sql/non-sql-server-subscribers.md).</span></span>  
  
3.  <span data-ttu-id="e57e2-202">En el publicador de la base de datos de publicaciones, ejecute [sp_addsubscription &#40;Transact-SQL&#41;](/sql/relational-databases/system-stored-procedures/sp-addsubscription-transact-sql).</span><span class="sxs-lookup"><span data-stu-id="e57e2-202">At the Publisher on the publication database, execute [sp_addsubscription &#40;Transact-SQL&#41;](/sql/relational-databases/system-stored-procedures/sp-addsubscription-transact-sql).</span></span> <span data-ttu-id="e57e2-203">Especifique **@publication** , **@subscriber** , un valor de **(destino predeterminado)** para **@destination_db** , un valor de **inserte** para **@subscription_type** y un valor de 3 para **@subscriber_type** (especifica un proveedor OLE DB).</span><span class="sxs-lookup"><span data-stu-id="e57e2-203">Specify **@publication**, **@subscriber**, a value of **(default destination)** for **@destination_db**, a value of **push** for **@subscription_type**, and a value of 3 for **@subscriber_type** (specifies an OLE DB provider).</span></span>  
  
4.  <span data-ttu-id="e57e2-204">En el publicador de la base de datos de publicaciones, ejecute [sp_addpushsubscription_agent &#40;Transact-SQL&#41;](/sql/relational-databases/system-stored-procedures/sp-addpushsubscription-agent-transact-sql).</span><span class="sxs-lookup"><span data-stu-id="e57e2-204">At the Publisher on the publication database, execute [sp_addpushsubscription_agent &#40;Transact-SQL&#41;](/sql/relational-databases/system-stored-procedures/sp-addpushsubscription-agent-transact-sql).</span></span> <span data-ttu-id="e57e2-205">Especifique lo siguiente:</span><span class="sxs-lookup"><span data-stu-id="e57e2-205">Specify the following:</span></span>  
  
    -   <span data-ttu-id="e57e2-206">Los **@subscriber** **@publication** parámetros y.</span><span class="sxs-lookup"><span data-stu-id="e57e2-206">The **@subscriber**and **@publication** parameters.</span></span>  
  
    -   <span data-ttu-id="e57e2-207">Un valor de **(destino predeterminado)** para **@subscriber_db** ,</span><span class="sxs-lookup"><span data-stu-id="e57e2-207">A value of **(default destination)** for **@subscriber_db**,</span></span>  
  
    -   <span data-ttu-id="e57e2-208">Propiedades del origen de datos que no es de [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] **@subscriber_provider** , **@subscriber_datasrc** , **@subscriber_location** , **@subscriber_provider_string** y **@subscriber_catalog** .</span><span class="sxs-lookup"><span data-stu-id="e57e2-208">The properties of the non-[!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] data source for **@subscriber_provider**, **@subscriber_datasrc**, **@subscriber_location**, **@subscriber_provider_string**, and **@subscriber_catalog**.</span></span>  
  
    -   <span data-ttu-id="e57e2-209">Las [!INCLUDE[msCoName](../../includes/msconame-md.md)] credenciales de Windows con las que se ejecuta el agente de distribución en el distribuidor para **@job_login** y **@job_password** .</span><span class="sxs-lookup"><span data-stu-id="e57e2-209">The [!INCLUDE[msCoName](../../includes/msconame-md.md)] Windows credentials under which the Distribution Agent at the Distributor runs for **@job_login** and **@job_password**.</span></span>  
  
        > [!NOTE]  
        >  <span data-ttu-id="e57e2-210">Las conexiones realizadas mediante la autenticación integrada de Windows siempre utilizan las credenciales de Windows especificadas por **@job_login** y **@job_password** .</span><span class="sxs-lookup"><span data-stu-id="e57e2-210">Connections made using Windows Integrated Authentication always use the Windows credentials specified by **@job_login** and **@job_password**.</span></span> <span data-ttu-id="e57e2-211">El Agente de distribución siempre realiza la conexión local con el distribuidor mediante la autenticación integrada de Windows.</span><span class="sxs-lookup"><span data-stu-id="e57e2-211">The Distribution Agent always makes the local connection to the Distributor using Windows Integrated Authentication.</span></span> <span data-ttu-id="e57e2-212">De forma predeterminada, el agente se conectará con el suscriptor mediante la autenticación integrada de Windows.</span><span class="sxs-lookup"><span data-stu-id="e57e2-212">By default, the agent will connect to the Subscriber using Windows Integrated Authentication.</span></span>  
  
    -   <span data-ttu-id="e57e2-213">Un valor de **0** para **@subscriber_security_mode** y la información de inicio de sesión del proveedor de OLE DB para **@subscriber_login** y **@subscriber_password** .</span><span class="sxs-lookup"><span data-stu-id="e57e2-213">A value of **0** for **@subscriber_security_mode** and the OLE DB provider login information for **@subscriber_login** and **@subscriber_password**.</span></span>  
  
    -   <span data-ttu-id="e57e2-214">Una programación para el trabajo del Agente de distribución de esta suscripción.</span><span class="sxs-lookup"><span data-stu-id="e57e2-214">A schedule for the Distribution Agent job for this subscription.</span></span> <span data-ttu-id="e57e2-215">Para obtener más información, consulte [Specify Synchronization Schedules](specify-synchronization-schedules.md).</span><span class="sxs-lookup"><span data-stu-id="e57e2-215">For more information, see [Specify Synchronization Schedules](specify-synchronization-schedules.md).</span></span>  
  
    > [!IMPORTANT]  
    >  <span data-ttu-id="e57e2-216">Al crear una suscripción de inserción en un publicador con un distribuidor remoto, los valores suministrados para todos los parámetros, incluidos *job_login* y *job_password*, se envían al distribuidor como texto simple.</span><span class="sxs-lookup"><span data-stu-id="e57e2-216">When creating a push subscription at a Publisher with a remote Distributor, the values supplied for all parameters, including *job_login* and *job_password*, are sent to the Distributor as plain text.</span></span> <span data-ttu-id="e57e2-217">Antes de ejecutar este procedimiento almacenado, se recomienda cifrar la conexión entre el publicador y su distribuidor remoto.</span><span class="sxs-lookup"><span data-stu-id="e57e2-217">You should encrypt the connection between the Publisher and its remote Distributor before executing this stored procedure.</span></span> <span data-ttu-id="e57e2-218">Para obtener más información, vea [Habilitar conexiones cifradas en el motor de base de datos &#40;Administrador de configuración de SQL Server&#41;](../../database-engine/configure-windows/enable-encrypted-connections-to-the-database-engine.md).</span><span class="sxs-lookup"><span data-stu-id="e57e2-218">For more information, see [Enable Encrypted Connections to the Database Engine &#40;SQL Server Configuration Manager&#41;](../../database-engine/configure-windows/enable-encrypted-connections-to-the-database-engine.md).</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="e57e2-219">Consulte también</span><span class="sxs-lookup"><span data-stu-id="e57e2-219">See Also</span></span>  
 <span data-ttu-id="e57e2-220">[IBM DB2 Subscribers](non-sql/ibm-db2-subscribers.md) </span><span class="sxs-lookup"><span data-stu-id="e57e2-220">[IBM DB2 Subscribers](non-sql/ibm-db2-subscribers.md) </span></span>  
 <span data-ttu-id="e57e2-221">[Oracle Subscribers](non-sql/oracle-subscribers.md) </span><span class="sxs-lookup"><span data-stu-id="e57e2-221">[Oracle Subscribers](non-sql/oracle-subscribers.md) </span></span>  
 <span data-ttu-id="e57e2-222">[Otros suscriptores que no son de SQL Server](non-sql/other-non-sql-server-subscribers.md) </span><span class="sxs-lookup"><span data-stu-id="e57e2-222">[Other Non-SQL Server Subscribers](non-sql/other-non-sql-server-subscribers.md) </span></span>  
 <span data-ttu-id="e57e2-223">[Replication System Stored Procedures Concepts](concepts/replication-system-stored-procedures-concepts.md) </span><span class="sxs-lookup"><span data-stu-id="e57e2-223">[Replication System Stored Procedures Concepts](concepts/replication-system-stored-procedures-concepts.md) </span></span>  
 [<span data-ttu-id="e57e2-224">Procedimientos recomendados de seguridad de replicación</span><span class="sxs-lookup"><span data-stu-id="e57e2-224">Replication Security Best Practices</span></span>](security/replication-security-best-practices.md)  
  
  
