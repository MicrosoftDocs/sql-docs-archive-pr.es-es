---
title: Replicación transaccional punto a punto | Microsoft Docs
ms.custom: ''
ms.date: 08/29/2016
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: replication
ms.topic: conceptual
helpviewer_keywords:
- bidirectional replication
- transactional replication, bidirectional replication
- bidirectional transactional replication
- transactional replication, peer-to-peer replication
- peer-to-peer transactional replication
ms.assetid: 23e7e8c1-002f-4e69-8c99-d63e4100de64
author: MashaMSFT
ms.author: mathoma
ms.openlocfilehash: f61db9a8e7cecb107fd1b27fae966d133e043c8b
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 08/04/2020
ms.locfileid: "87673625"
---
# <a name="peer-to-peer-transactional-replication"></a><span data-ttu-id="3ec5e-102">Peer-to-Peer Transactional Replication</span><span class="sxs-lookup"><span data-stu-id="3ec5e-102">Peer-to-Peer Transactional Replication</span></span>
  <span data-ttu-id="3ec5e-103">La replicación punto a punto proporciona una solución escalada y de alta disponibilidad manteniendo copias de datos en varias instancias de servidor, también denominadas *nodos*.</span><span class="sxs-lookup"><span data-stu-id="3ec5e-103">Peer-to-peer replication provides a scale-out and high-availability solution by maintaining copies of data across multiple server instances, also referred to as *nodes*.</span></span> <span data-ttu-id="3ec5e-104">Generada en la base de replicación transaccional, la replicación punto a punto propaga transaccionalmente los cambios coherentes en tiempo casi real.</span><span class="sxs-lookup"><span data-stu-id="3ec5e-104">Built on the foundation of transactional replication, peer-to-peer replication propagates transactionally consistent changes in near real-time.</span></span> <span data-ttu-id="3ec5e-105">Esto permite a las aplicaciones que requieran una escalada de las operaciones de lectura distribuir las lecturas de los clientes en varios nodos.</span><span class="sxs-lookup"><span data-stu-id="3ec5e-105">This enables applications that require scale-out of read operations to distribute the reads from clients across multiple nodes.</span></span> <span data-ttu-id="3ec5e-106">Dado que los datos se mantienen en los nodos en tiempo casi real, la replicación punto a punto proporciona redundancia de datos, lo que aumenta la disponibilidad de los mismos.</span><span class="sxs-lookup"><span data-stu-id="3ec5e-106">Because data is maintained across the nodes in near real-time, peer-to-peer replication provides data redundancy, which increases the availability of data.</span></span>  
  
 <span data-ttu-id="3ec5e-107">Imagine una aplicación web.</span><span class="sxs-lookup"><span data-stu-id="3ec5e-107">Consider a Web application.</span></span> <span data-ttu-id="3ec5e-108">Ésta se puede beneficiar de la replicación punto a punto de las maneras siguientes:</span><span class="sxs-lookup"><span data-stu-id="3ec5e-108">This can benefit from peer-to-peer replication in the following ways:</span></span>  
  
-   <span data-ttu-id="3ec5e-109">Las consultas del catálogo y otras lecturas se expanden por varios nodos.</span><span class="sxs-lookup"><span data-stu-id="3ec5e-109">Catalog queries and other reads are spread across multiple nodes.</span></span> <span data-ttu-id="3ec5e-110">Esto permite que el rendimiento permanezca coherente conforme aumentan las lecturas.</span><span class="sxs-lookup"><span data-stu-id="3ec5e-110">This enables performance to remain consistent as reads increase.</span></span>  
  
-   <span data-ttu-id="3ec5e-111">Si se produce un error en uno de los nodos del sistema, un nivel de aplicación puede redirigir las escrituras para dicho nodo a otro.</span><span class="sxs-lookup"><span data-stu-id="3ec5e-111">If one of the nodes in the system fails, an application layer can redirect the writes for that node to another node.</span></span> <span data-ttu-id="3ec5e-112">Así se mantiene la disponibilidad.</span><span class="sxs-lookup"><span data-stu-id="3ec5e-112">This maintains availability.</span></span>  
  
-   <span data-ttu-id="3ec5e-113">Si un nodo requiere el mantenimiento o el sistema completo requiere una actualización, cada nodo se puede tomar sin conexión y agregar de nuevo al sistema sin que se vea afectada la disponibilidad de la aplicación.</span><span class="sxs-lookup"><span data-stu-id="3ec5e-113">If a node requires maintenance or the whole system requires an upgrade, each node can be taken offline and added back to the system without affecting the availability of the application.</span></span>  
  
 <span data-ttu-id="3ec5e-114">Aunque la replicación punto a punto habilita la escalada de las operaciones de lectura, el rendimiento de escritura para la topología es similar para un nodo único.</span><span class="sxs-lookup"><span data-stu-id="3ec5e-114">Although peer-to-peer replication enables scaling out of read operations, write performance for the topology is like that for a single node.</span></span> <span data-ttu-id="3ec5e-115">Esto se debe a que en última instancia todas las inserciones, actualizaciones y eliminaciones se propagan a todos los nodos.</span><span class="sxs-lookup"><span data-stu-id="3ec5e-115">This is because ultimately all inserts, updates, and deletes are propagated to all nodes.</span></span> <span data-ttu-id="3ec5e-116">La replicación reconoce cuándo se ha aplicado un cambio a un nodo determinado y evita cambios cíclicos en los nodos más de una vez.</span><span class="sxs-lookup"><span data-stu-id="3ec5e-116">Replication recognizes when a change has been applied to a given node and prevents changes from cycling through the nodes more than one time.</span></span> <span data-ttu-id="3ec5e-117">Se recomienda encarecidamente que las operaciones de escritura para cada fila se realicen en un solo nodo, por las razones siguientes:</span><span class="sxs-lookup"><span data-stu-id="3ec5e-117">We strongly recommend that write operations for each row be performed at only node, for the following reasons:</span></span>  
  
-   <span data-ttu-id="3ec5e-118">Si una fila se modifica en más de un nodo, puede producirse un conflicto o incluso la pérdida de una actualización cuando la fila se propaga a otros nodos.</span><span class="sxs-lookup"><span data-stu-id="3ec5e-118">If a row is modified at more than one node, it can cause a conflict or even a lost update when the row is propagated to other nodes.</span></span>  
  
-   <span data-ttu-id="3ec5e-119">Siempre hay alguna latencia implicada cuando se replican los cambios.</span><span class="sxs-lookup"><span data-stu-id="3ec5e-119">There is always some latency involved when changes are replicated.</span></span> <span data-ttu-id="3ec5e-120">Para las aplicaciones que requieren que se vea el cambio más reciente inmediatamente, el equilibrio de carga dinámico de la aplicación en varios nodos puede ser problemático.</span><span class="sxs-lookup"><span data-stu-id="3ec5e-120">For applications that require the latest change to be seen immediately, dynamically load balancing the application across multiple nodes can be problematic.</span></span>  
  
 <span data-ttu-id="3ec5e-121">La replicación punto a punto incluye la opción de habilitar la detección de conflictos en una topología punto a punto.</span><span class="sxs-lookup"><span data-stu-id="3ec5e-121">Peer-to-peer replication includes the option to enable conflict detection across a peer-to-peer topology.</span></span> <span data-ttu-id="3ec5e-122">Esta opción ayuda a evitar problemas que se producen por conflictos no detectados, como comportamientos incoherentes de las aplicaciones y actualizaciones perdidas.</span><span class="sxs-lookup"><span data-stu-id="3ec5e-122">This option helps prevent the issues that are caused from undetected conflicts, including inconsistent application behavior and lost updates.</span></span> <span data-ttu-id="3ec5e-123">Habilitando esta opción, de forma predeterminada, un cambio conflictivo se trata como un error crítico que produce el error del Agente de distribución.</span><span class="sxs-lookup"><span data-stu-id="3ec5e-123">By enabling this option, by default a conflicting change is treated as a critical error that causes the failure of the Distribution Agent.</span></span> <span data-ttu-id="3ec5e-124">En caso de un conflicto, la topología permanece en un estado incoherente hasta que se resuelve el conflicto manualmente y los datos se hacen coherentes en toda la topología.</span><span class="sxs-lookup"><span data-stu-id="3ec5e-124">In the event of a conflict, the topology remains in an inconsistent state until the conflict is resolved manually and the data is made consistent across the topology.</span></span> <span data-ttu-id="3ec5e-125">Para más información, consulte [Conflict Detection in Peer-to-Peer Replication](peer-to-peer-conflict-detection-in-peer-to-peer-replication.md).</span><span class="sxs-lookup"><span data-stu-id="3ec5e-125">For more information, see [Conflict Detection in Peer-to-Peer Replication](peer-to-peer-conflict-detection-in-peer-to-peer-replication.md).</span></span>  
  
> [!NOTE]  
>  <span data-ttu-id="3ec5e-126">Para evitar la posible incoherencia de datos, asegúrese de evitar los conflictos en una topología punto a punto, incluso con la detección de conflictos habilitada.</span><span class="sxs-lookup"><span data-stu-id="3ec5e-126">To avoid potential data inconsistency, make sure that you avoid conflicts in a peer-to-peer topology, even with conflict detection enabled.</span></span> <span data-ttu-id="3ec5e-127">Para asegurarse de que las operaciones de escritura para una fila determinada se realizan en un solo nodo, las aplicaciones que tienen acceso y cambian datos deben particionar las operaciones de inserción, actualización y eliminación.</span><span class="sxs-lookup"><span data-stu-id="3ec5e-127">To ensure that write operations for a particular row are performed at only one node, applications that access and change data must partition insert, update, and delete operations.</span></span> <span data-ttu-id="3ec5e-128">Este particionamiento asegura que las modificaciones a una fila determinada que se originan en un nodo están sincronizadas con todos los demás nodos en la topología antes de que se modifique la fila por un nodo diferente.</span><span class="sxs-lookup"><span data-stu-id="3ec5e-128">This partitioning ensures that modifications to a given row originating at one node are synchronized with all other nodes in the topology before the row is modified by a different node.</span></span> <span data-ttu-id="3ec5e-129">Si una aplicación requiere funcionalidades sofisticadas de detección y resolución de conflictos, use la replicación de mezcla.</span><span class="sxs-lookup"><span data-stu-id="3ec5e-129">If an application requires sophisticated conflict detection and resolution capabilities, use merge replication.</span></span> <span data-ttu-id="3ec5e-130">Para obtener más información, consulte [Replicación de mezcla](../merge/merge-replication.md) y [Detectar y solucionar conflictos de replicación de mezcla](../merge/advanced-merge-replication-conflict-detection-and-resolution.md).</span><span class="sxs-lookup"><span data-stu-id="3ec5e-130">For more information, see [Merge Replication](../merge/merge-replication.md) and [Detect and Resolve Merge Replication Conflicts](../merge/advanced-merge-replication-conflict-detection-and-resolution.md).</span></span>  
  
## <a name="peer-to-peer-topologies"></a><span data-ttu-id="3ec5e-131">Topologías punto a punto</span><span class="sxs-lookup"><span data-stu-id="3ec5e-131">Peer-to-Peer Topologies</span></span>  
 <span data-ttu-id="3ec5e-132">En los siguientes escenarios se ilustran los usos típicos de la replicación punto a punto.</span><span class="sxs-lookup"><span data-stu-id="3ec5e-132">The following scenarios illustrate typical uses for peer-to-peer replication.</span></span>  
  
### <a name="topology-that-has-two-participating-databases"></a><span data-ttu-id="3ec5e-133">Topología en la que participan dos bases de datos</span><span class="sxs-lookup"><span data-stu-id="3ec5e-133">Topology That Has Two Participating Databases</span></span>  
 <span data-ttu-id="3ec5e-134">![Replicación punto a punto, dos nodos](../media/repl-multinode-01.gif "Replicación punto a punto, dos nodos")</span><span class="sxs-lookup"><span data-stu-id="3ec5e-134">![Peer-to-peer replication, two nodes](../media/repl-multinode-01.gif "Peer-to-peer replication, two nodes")</span></span>  
  
 <span data-ttu-id="3ec5e-135">En las ilustraciones anteriores se muestran dos bases de datos participantes, con tráfico de usuario dirigido a las bases de datos a través de un servidor de aplicaciones.</span><span class="sxs-lookup"><span data-stu-id="3ec5e-135">Both of the preceding illustrations show two participating databases, with user traffic directed to the databases through an application server.</span></span> <span data-ttu-id="3ec5e-136">Esta configuración se puede usar en varias aplicaciones, desde sitios web hasta aplicaciones de grupos de trabajo, y proporciona las siguientes ventajas:</span><span class="sxs-lookup"><span data-stu-id="3ec5e-136">This configuration can be used for a variety of applications, from Web sites to workgroup applications, and provides the following benefits:</span></span>  
  
-   <span data-ttu-id="3ec5e-137">Rendimiento de lectura mejorado, porque las lecturas se reparten en dos servidores.</span><span class="sxs-lookup"><span data-stu-id="3ec5e-137">Improved read performance, because reads are spread out over two servers.</span></span>  
  
-   <span data-ttu-id="3ec5e-138">Alta disponibilidad si se requiere mantenimiento o en caso de error en un nodo.</span><span class="sxs-lookup"><span data-stu-id="3ec5e-138">Higher availability if maintenance is required or in case of failure at one node.</span></span>  
  
 <span data-ttu-id="3ec5e-139">En ambas ilustraciones, la actividad de lectura tiene equilibrio de carga entre las bases de datos participantes, pero las actualizaciones se controlan de forma diferente:</span><span class="sxs-lookup"><span data-stu-id="3ec5e-139">In both illustrations, read activity is load-balanced between the participating databases, but updates are handled differently:</span></span>  
  
-   <span data-ttu-id="3ec5e-140">En la izquierda, las actualizaciones se particionan entre los dos servidores.</span><span class="sxs-lookup"><span data-stu-id="3ec5e-140">On the left, updates are partitioned between the two servers.</span></span> <span data-ttu-id="3ec5e-141">Si la base de datos contiene un catálogo de productos, podría, por ejemplo, hacer que una aplicación personalizada dirija las actualizaciones al nodo **A** para los nombres de productos que empiecen con la letra A hasta la M y que dirija las actualizaciones al nodo **B** para los nombres de productos que empiecen con la letra N hasta la Z. Más tarde, las actualizaciones se replican en el otro nodo.</span><span class="sxs-lookup"><span data-stu-id="3ec5e-141">If the database contained a product catalog, you could, for example, have a custom application direct updates to node **A** for product names that start with A through M, and direct updates to node **B** for product names that start with N through Z. Updates are then replicated to the other node.</span></span>  
  
-   <span data-ttu-id="3ec5e-142">A la derecha, todas las actualizaciones se dirigen al nodo **B**. Desde ahí, las actualizaciones se replican en el nodo **A**. Si **B** se encuentra en modo sin conexión (por ejemplo, por motivos de mantenimiento), el servidor de aplicaciones puede dirigir toda la actividad a **A**. Cuando **B** vuelve a estar en línea, las actualizaciones pueden pasar a él, y el servidor de aplicaciones puede mover todas las actualizaciones de vuelta al nodo **B** o seguir dirigiéndolas al nodo **A**.</span><span class="sxs-lookup"><span data-stu-id="3ec5e-142">On the right, all updates are directed to node **B**. From there, updates are replicated to node **A**. If **B** is offline (for example, for maintenance), the application server can direct all activity to **A**. When **B** is back online, updates can flow to it, and the application server can move all updates back to **B** or keep directing them to **A**.</span></span>  
  
 <span data-ttu-id="3ec5e-143">La replicación punto a punto puede admitir este método, pero el ejemplo de actualización centralizada de la derecha también se utiliza frecuentemente con la replicación transaccional estándar.</span><span class="sxs-lookup"><span data-stu-id="3ec5e-143">Peer-to-peer replication can support either approach, but the central update example on the right is also often used with standard transactional replication.</span></span>  
  
### <a name="topologies-that-have-three-or-more-participating-databases"></a><span data-ttu-id="3ec5e-144">Topología en la que participan tres o más bases de datos</span><span class="sxs-lookup"><span data-stu-id="3ec5e-144">Topologies That Have Three or More Participating Databases</span></span>  
 <span data-ttu-id="3ec5e-145">![Replicación punto a punto a ubicaciones dispersas](../media/repl-multinode-02.gif "Replicación punto a punto a ubicaciones dispersas")</span><span class="sxs-lookup"><span data-stu-id="3ec5e-145">![Peer-to-peer replication to dispersed locations](../media/repl-multinode-02.gif "Peer-to-peer replication to dispersed locations")</span></span>  
  
 <span data-ttu-id="3ec5e-146">En la ilustración anterior se muestran tres bases de datos participantes que proporcionan datos para una organización de soporte de software internacional, con oficinas en Los Ángeles, Londres y Taipei.</span><span class="sxs-lookup"><span data-stu-id="3ec5e-146">The preceding illustration shows three participating databases that provide data for a worldwide software support organization, with offices in Los Angeles, London, and Taipei.</span></span> <span data-ttu-id="3ec5e-147">Los ingenieros de soporte de cada oficina reciben llamadas de clientes e incluyen y actualizan la información de las llamadas de los clientes.</span><span class="sxs-lookup"><span data-stu-id="3ec5e-147">The support engineers at each office take customer calls and enter and update information about each customer call.</span></span> <span data-ttu-id="3ec5e-148">Las zonas horarias de las tres oficinas tienen una diferencia de ocho horas, por lo que no se superponen en la jornada laboral.</span><span class="sxs-lookup"><span data-stu-id="3ec5e-148">The time zones for the three offices are eight hours apart, so there is no overlap in the workday.</span></span> <span data-ttu-id="3ec5e-149">Cuando la oficina de Taipei cierra, se abre la oficina de Londres.</span><span class="sxs-lookup"><span data-stu-id="3ec5e-149">As the Taipei office closes, the London office is opening for the day.</span></span> <span data-ttu-id="3ec5e-150">Si hay una llamada en curso cuando se cierra una oficina, la llamada se transfiere a un representante de la siguiente oficina abierta.</span><span class="sxs-lookup"><span data-stu-id="3ec5e-150">If a call is still in progress as one office is closing, the call is transferred to a representative at the next office to open.</span></span>  
  
 <span data-ttu-id="3ec5e-151">Cada ubicación tiene una base de datos y un servidor de aplicaciones, que los ingenieros de soporte utilizan para incluir y actualizar la información de las llamadas de los clientes.</span><span class="sxs-lookup"><span data-stu-id="3ec5e-151">Each location has a database and an application server, which are used by the support engineers as they enter and update information about customer calls.</span></span> <span data-ttu-id="3ec5e-152">La topología se particiona por tiempo.</span><span class="sxs-lookup"><span data-stu-id="3ec5e-152">The topology is partitioned by time.</span></span> <span data-ttu-id="3ec5e-153">Por consiguiente, las actualizaciones solo se producen en el nodo que está abierto; a continuación, las actualizaciones pasan al resto de bases de datos participantes.</span><span class="sxs-lookup"><span data-stu-id="3ec5e-153">Therefore, updates occur only at the node that is currently open for business, and then the updates flow to the other participating databases.</span></span> <span data-ttu-id="3ec5e-154">Esta topología proporciona las siguientes ventajas:</span><span class="sxs-lookup"><span data-stu-id="3ec5e-154">This topology provides the following benefits:</span></span>  
  
-   <span data-ttu-id="3ec5e-155">Independencia sin aislamiento: cada oficina puede insertar, actualizar o eliminar datos de forma independiente, pero también puede compartirlos porque se replican en el resto de bases de datos participantes.</span><span class="sxs-lookup"><span data-stu-id="3ec5e-155">Independence without isolation: Each office can insert, update, or delete data independently but can also share the data because it is replicated to all other participating databases.</span></span>  
  
-   <span data-ttu-id="3ec5e-156">Alta disponibilidad en caso de error o para permitir el mantenimiento en una o más de las bases de datos participantes.</span><span class="sxs-lookup"><span data-stu-id="3ec5e-156">Higher availability in case of failure or to allow maintenance at one or more of the participating databases.</span></span>  
  
     <span data-ttu-id="3ec5e-157">![Replicación punto a punto, tres y cuatro nodos](../media/repl-multinode-04.gif "Replicación punto a punto, tres y cuatro nodos")</span><span class="sxs-lookup"><span data-stu-id="3ec5e-157">![Peer-to-peer replication, three and four nodes](../media/repl-multinode-04.gif "Peer-to-peer replication, three and four nodes")</span></span>  
  
 <span data-ttu-id="3ec5e-158">La ilustración anterior muestra la adición de un nodo a la topología de tres nodos.</span><span class="sxs-lookup"><span data-stu-id="3ec5e-158">The preceding illustration shows the addition of a node to the three-node topology.</span></span> <span data-ttu-id="3ec5e-159">Se podría agregar un nodo en este escenario por las razones siguientes:</span><span class="sxs-lookup"><span data-stu-id="3ec5e-159">A node could be added in this scenario for the following reasons:</span></span>  
  
-   <span data-ttu-id="3ec5e-160">Porque se abre otra oficina.</span><span class="sxs-lookup"><span data-stu-id="3ec5e-160">Because another office is opened.</span></span>  
  
-   <span data-ttu-id="3ec5e-161">Para proporcionar mayor disponibilidad para admitir el mantenimiento o aumentar la tolerancia a errores si se produce un error de disco u otro error principal.</span><span class="sxs-lookup"><span data-stu-id="3ec5e-161">To provide higher availability to support maintenance or increase fault tolerance if a disk failure or other major failure occurs.</span></span>  
  
 <span data-ttu-id="3ec5e-162">Observe que en ambas topologías de tres y cuatro nodos, todas las bases de datos publican y se suscriben a todas las demás bases de datos.</span><span class="sxs-lookup"><span data-stu-id="3ec5e-162">Notice that in both the three- and four-node topologies, all databases publish and subscribe to all other databases.</span></span> <span data-ttu-id="3ec5e-163">Esto proporciona la máxima disponibilidad en caso de necesidades de mantenimiento o error de uno o más nodos.</span><span class="sxs-lookup"><span data-stu-id="3ec5e-163">This provides maximum availability in case of maintenance needs or failure of one or more nodes.</span></span> <span data-ttu-id="3ec5e-164">Al agregar nodos, se deben equilibrar las necesidades de disponibilidad y escalabilidad respecto al rendimiento y la complejidad de implementación y administración.</span><span class="sxs-lookup"><span data-stu-id="3ec5e-164">As nodes are added, you must balance availability and scalability needs against performance and the complexity of deployment and administration.</span></span>  
  
## <a name="configuring-peer-to-peer-replication"></a><span data-ttu-id="3ec5e-165">Configurar la replicación punto a punto</span><span class="sxs-lookup"><span data-stu-id="3ec5e-165">Configuring Peer-to-Peer Replication</span></span>  
 <span data-ttu-id="3ec5e-166">La configuración de una topología de replicación punto a punto es muy similar a la configuración de una serie de suscripciones y publicaciones transaccionales estándar.</span><span class="sxs-lookup"><span data-stu-id="3ec5e-166">Configuring a peer-to-peer replication topology is very similar to configuring a series of standard transactional publications and subscriptions.</span></span> <span data-ttu-id="3ec5e-167">En los pasos descritos en los temas siguientes se muestra la configuración de un sistema de tres nodos, similar a la configuración mostrada a la izquierda en la ilustración anterior que muestra topología punto a punto.</span><span class="sxs-lookup"><span data-stu-id="3ec5e-167">The steps described in the following topics show the configuration of a three-node system, similar to the configuration shown on the left in the previous illustration that shows peer-to-peer topology.</span></span>  
  
## <a name="considerations-for-using-peer-to-peer-replication"></a><span data-ttu-id="3ec5e-168">Consideraciones para utilizar la replicación punto a punto</span><span class="sxs-lookup"><span data-stu-id="3ec5e-168">Considerations for Using Peer-to-Peer Replication</span></span>  
 <span data-ttu-id="3ec5e-169">Esta sección proporciona información e instrucciones para tener en cuenta al usar la replicación punto a punto.</span><span class="sxs-lookup"><span data-stu-id="3ec5e-169">This section provides information and guidelines to consider when you use peer-to-peer replication.</span></span>  
  
### <a name="general-considerations"></a><span data-ttu-id="3ec5e-170">Consideraciones generales</span><span class="sxs-lookup"><span data-stu-id="3ec5e-170">General Considerations</span></span>  
  
-   <span data-ttu-id="3ec5e-171">La replicación punto a punto solo está disponible en las versiones Enterprise de [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)].</span><span class="sxs-lookup"><span data-stu-id="3ec5e-171">Peer-to-peer replication is available only in Enterprise versions of [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)].</span></span>  
  
-   <span data-ttu-id="3ec5e-172">Todas las bases de datos que participan en la replicación punto a punto deberían contener datos y esquema idénticos:</span><span class="sxs-lookup"><span data-stu-id="3ec5e-172">All databases that participate in peer-to-peer replication should contain identical schema and data:</span></span>  
  
    -   <span data-ttu-id="3ec5e-173">Los nombres de objeto, esquema de objeto y nombres de publicación deberían ser idénticos.</span><span class="sxs-lookup"><span data-stu-id="3ec5e-173">Object names, object schema, and publication names should be identical.</span></span>  
  
    -   <span data-ttu-id="3ec5e-174">Las publicaciones deben permitir la replicación de los cambios de esquema.</span><span class="sxs-lookup"><span data-stu-id="3ec5e-174">Publications must allow schema changes to be replicated.</span></span> <span data-ttu-id="3ec5e-175">(Este es un valor de **1** para la propiedad de publicación **replicate_ddl**, que es el valor predeterminado). Para obtener más información, vea [Make Schema Changes on Publication Databases](../publish/make-schema-changes-on-publication-databases.md) (Realizar cambios de esquema en bases de datos de publicaciones).</span><span class="sxs-lookup"><span data-stu-id="3ec5e-175">(This is a setting of **1** for the publication property **replicate_ddl**, which is the default setting.) For more information, see [Make Schema Changes on Publication Databases](../publish/make-schema-changes-on-publication-databases.md).</span></span>  
  
    -   <span data-ttu-id="3ec5e-176">No se admite el filtrado de filas y columnas.</span><span class="sxs-lookup"><span data-stu-id="3ec5e-176">Row and column filtering are not supported.</span></span>  
  
-   <span data-ttu-id="3ec5e-177">Se recomienda que cada nodo use su propia base de datos de distribución.</span><span class="sxs-lookup"><span data-stu-id="3ec5e-177">We recommend that each node use its own distribution database.</span></span> <span data-ttu-id="3ec5e-178">Esto elimina la posibilidad de tener un punto de error único.</span><span class="sxs-lookup"><span data-stu-id="3ec5e-178">This eliminates the potential of having a single point of failure.</span></span>  
  
-   <span data-ttu-id="3ec5e-179">Las tablas y otros objetos no se pueden incluir en varias publicaciones punto a punto de una única base de datos de publicación.</span><span class="sxs-lookup"><span data-stu-id="3ec5e-179">Tables and other objects cannot be included in multiple peer-to-peer publications in a single publication database.</span></span>  
  
-   <span data-ttu-id="3ec5e-180">Debe habilitarse una publicación para la replicación punto a punto antes de crear las suscripciones.</span><span class="sxs-lookup"><span data-stu-id="3ec5e-180">A publication must be enabled for peer-to-peer replication before any subscriptions are created.</span></span>  
  
-   <span data-ttu-id="3ec5e-181">Las suscripciones se deben inicializar con una copia de seguridad o con la opción **'Solo compatibilidad con replicación'** .</span><span class="sxs-lookup"><span data-stu-id="3ec5e-181">Subscriptions must be initialized by using a backup or with the **'replication support only'** option.</span></span> <span data-ttu-id="3ec5e-182">Para obtener más información, consulte [Initialize a Transactional Subscription Without a Snapshot](../initialize-a-transactional-subscription-without-a-snapshot.md).</span><span class="sxs-lookup"><span data-stu-id="3ec5e-182">For more information, see [Initialize a Transactional Subscription Without a Snapshot](../initialize-a-transactional-subscription-without-a-snapshot.md).</span></span>  
  
-   <span data-ttu-id="3ec5e-183">No se recomienda el uso de columnas de identidad.</span><span class="sxs-lookup"><span data-stu-id="3ec5e-183">We do not recommend the use of identity columns.</span></span> <span data-ttu-id="3ec5e-184">Cuando se utilizan identidades, se deben administrar manualmente los intervalos asignados a las tablas en cada base de datos participante.</span><span class="sxs-lookup"><span data-stu-id="3ec5e-184">When using identities, you must manually manage the ranges assigned to the tables at each participating database.</span></span> <span data-ttu-id="3ec5e-185">Para obtener más información, vea la sección sobre cómo asignar rangos para la administración manual de rangos de identidad en el tema [Replicar columnas de identidad](../publish/replicate-identity-columns.md).</span><span class="sxs-lookup"><span data-stu-id="3ec5e-185">For more information, see the section "Assigning Ranges for Manual Identity Range Management" in [Replicate Identity Columns](../publish/replicate-identity-columns.md).</span></span>  
  
### <a name="feature-restrictions"></a><span data-ttu-id="3ec5e-186">Restricciones de características</span><span class="sxs-lookup"><span data-stu-id="3ec5e-186">Feature Restrictions</span></span>  
 <span data-ttu-id="3ec5e-187">La replicación punto a punto admite las características principales de replicación transaccional pero no admite las opciones siguientes:</span><span class="sxs-lookup"><span data-stu-id="3ec5e-187">Peer-to-peer replication supports the core features of transactional replication, but does not support the following options:</span></span>  
  
-   <span data-ttu-id="3ec5e-188">Inicialización y reinicialización con una instantánea.</span><span class="sxs-lookup"><span data-stu-id="3ec5e-188">Initialization and reinitialization with a snapshot.</span></span>  
  
-   <span data-ttu-id="3ec5e-189">Filtros de filas y columnas.</span><span class="sxs-lookup"><span data-stu-id="3ec5e-189">Row and column filters.</span></span>  
  
-   <span data-ttu-id="3ec5e-190">Columnas de marca de tiempo.</span><span class="sxs-lookup"><span data-stu-id="3ec5e-190">Timestamp columns.</span></span>  
  
-   <span data-ttu-id="3ec5e-191">Suscriptores y publicadores que no son de[!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] .</span><span class="sxs-lookup"><span data-stu-id="3ec5e-191">Non-[!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] Publishers and Subscribers.</span></span>  
  
-   <span data-ttu-id="3ec5e-192">Suscripciones de actualización inmediata y de actualización en cola.</span><span class="sxs-lookup"><span data-stu-id="3ec5e-192">Immediate updating and queued updating subscriptions.</span></span>  
  
-   <span data-ttu-id="3ec5e-193">Suscripciones anónimas.</span><span class="sxs-lookup"><span data-stu-id="3ec5e-193">Anonymous subscriptions.</span></span>  
  
-   <span data-ttu-id="3ec5e-194">Suscripciones parciales.</span><span class="sxs-lookup"><span data-stu-id="3ec5e-194">Partial subscriptions.</span></span>  
  
-   <span data-ttu-id="3ec5e-195">Suscripciones adjuntables y suscripciones transformables</span><span class="sxs-lookup"><span data-stu-id="3ec5e-195">Attachable subscriptions and transformable subscriptions.</span></span> <span data-ttu-id="3ec5e-196">(Ambas opciones han quedado desusadas en [!INCLUDE[ssVersion2005](../../../includes/ssversion2005-md.md)]).</span><span class="sxs-lookup"><span data-stu-id="3ec5e-196">(Both of these options were deprecated in [!INCLUDE[ssVersion2005](../../../includes/ssversion2005-md.md)].)</span></span>  
  
-   <span data-ttu-id="3ec5e-197">Agentes de distribución compartidos.</span><span class="sxs-lookup"><span data-stu-id="3ec5e-197">Shared Distribution Agents.</span></span>  
  
-   <span data-ttu-id="3ec5e-198">El parámetro **-SubscriptionStreams** del Agente de distribución y el parámetro **-MaxCmdsInTran**del Agente de registro del LOG.</span><span class="sxs-lookup"><span data-stu-id="3ec5e-198">The Distribution Agent parameter **-SubscriptionStreams** and the Log Reader Agent parameter **-MaxCmdsInTran**.</span></span>  
  
-   <span data-ttu-id="3ec5e-199">Las propiedades del artículo \*\* \@ destination_owner\*\* y \*\* \@ destination_table\*\*.</span><span class="sxs-lookup"><span data-stu-id="3ec5e-199">The article properties **\@destination_owner** and **\@destination_table**.</span></span>  

-   <span data-ttu-id="3ec5e-200">La replicación transaccional punto a punto no admite la creación de una suscripción transaccional unidireccional para una publicación punto a punto.</span><span class="sxs-lookup"><span data-stu-id="3ec5e-200">Peer-to-Peer transactional replication does not support creating a one-way transactional subscription to a Peer-to-Peer publication</span></span>
  
 <span data-ttu-id="3ec5e-201">Las siguientes propiedades requieren consideraciones especiales:</span><span class="sxs-lookup"><span data-stu-id="3ec5e-201">The following properties have special considerations:</span></span>  
  
-   <span data-ttu-id="3ec5e-202">La propiedad de publicación \*\* \@ allow_initialize_from_backup\*\* requiere un valor de `true` .</span><span class="sxs-lookup"><span data-stu-id="3ec5e-202">The publication property **\@allow_initialize_from_backup** requires a value of `true`.</span></span>  
  
-   <span data-ttu-id="3ec5e-203">La propiedad del artículo \*\* \@ replicate_ddl\*\* requiere un valor de `true` ; \*\* \@ identityrangemanagementoption\*\* requiere un valor de `manual` ; and \*\* \@ status\*\* requiere que se establezca la opción **24** .</span><span class="sxs-lookup"><span data-stu-id="3ec5e-203">The article property **\@replicate_ddl** requires a value of `true`; **\@identityrangemanagementoption** requires a value of `manual`; and **\@status** requires that option **24** is set.</span></span>  
  
-   <span data-ttu-id="3ec5e-204">El valor de las propiedades del artículo \*\* \@ ins_cmd**, \*\* \@ del_cmd**y \*\* \@ upd_cmd\*\* no se puede establecer en `SQL` .</span><span class="sxs-lookup"><span data-stu-id="3ec5e-204">The value for article properties **\@ins_cmd**, **\@del_cmd**, and **\@upd_cmd** cannot be set to `SQL`.</span></span>  
  
-   <span data-ttu-id="3ec5e-205">La propiedad de suscripción \*\* \@ sync_type\*\* requiere un valor de `none` o `automatic` .</span><span class="sxs-lookup"><span data-stu-id="3ec5e-205">The subscription property **\@sync_type** requires a value of `none` or `automatic`.</span></span>  
  
### <a name="maintenance-considerations"></a><span data-ttu-id="3ec5e-206">Consideraciones de mantenimiento</span><span class="sxs-lookup"><span data-stu-id="3ec5e-206">Maintenance Considerations</span></span>  
 <span data-ttu-id="3ec5e-207">Las acciones siguientes exigen que se detenga el sistema.</span><span class="sxs-lookup"><span data-stu-id="3ec5e-207">The following actions require the system to be quiesced.</span></span> <span data-ttu-id="3ec5e-208">Esto significa que hay que detener la actividad de las tablas publicadas en todos los nodos y asegurarse de que cada nodo haya recibido todos los cambios de los demás nodos.</span><span class="sxs-lookup"><span data-stu-id="3ec5e-208">This means stopping activity on published tables at all nodes and making sure that each node has received all changes from all other nodes.</span></span>  
  
-   <span data-ttu-id="3ec5e-209">Agregar un [!INCLUDE[ssVersion2005](../../../includes/ssversion2005-md.md)] nodo a una topología existente</span><span class="sxs-lookup"><span data-stu-id="3ec5e-209">Adding a [!INCLUDE[ssVersion2005](../../../includes/ssversion2005-md.md)] node to an existing topology</span></span>  
  
-   <span data-ttu-id="3ec5e-210">Agregar un artículo a una publicación existente</span><span class="sxs-lookup"><span data-stu-id="3ec5e-210">Adding an article to an existing publication</span></span>  
  
-   <span data-ttu-id="3ec5e-211">Realizar cambios en el esquema</span><span class="sxs-lookup"><span data-stu-id="3ec5e-211">Making schema changes</span></span>  
  
-   <span data-ttu-id="3ec5e-212">Restaurar un nodo desde una copia de seguridad</span><span class="sxs-lookup"><span data-stu-id="3ec5e-212">Restoring a node from a backup</span></span>  
  
 <span data-ttu-id="3ec5e-213">Para obtener más información, consulte [Quiesce a Replication Topology &#40;Replication Transact-SQL Programming&#41;](../administration/quiesce-a-replication-topology-replication-transact-sql-programming.md) (Cómo detener una topología de replicación [programación de la replicación con Transact-SQL]) y [Administrar una topología punto a punto &#40;programación de la replicación con Transact-SQL&#41;](../administration/administer-a-peer-to-peer-topology-replication-transact-sql-programming.md).</span><span class="sxs-lookup"><span data-stu-id="3ec5e-213">For more information, see [Quiesce a Replication Topology &#40;Replication Transact-SQL Programming&#41;](../administration/quiesce-a-replication-topology-replication-transact-sql-programming.md) and [Administer a Peer-to-Peer Topology &#40;Replication Transact-SQL Programming&#41;](../administration/administer-a-peer-to-peer-topology-replication-transact-sql-programming.md).</span></span>  
  
-   <span data-ttu-id="3ec5e-214">Si agrega un nuevo nodo a una topología punto a punto, solo debe restaurar a partir de las copias de seguridad que se crearon una vez agregado el nuevo nodo.</span><span class="sxs-lookup"><span data-stu-id="3ec5e-214">If you add a new node to a peer-to-peer topology, you should restore only from backups that were created after the new node was added.</span></span>  
  
-   <span data-ttu-id="3ec5e-215">No puede reinicializar las suscripciones en una topología punto a punto.</span><span class="sxs-lookup"><span data-stu-id="3ec5e-215">You cannot reinitialize subscriptions in a peer-to-peer topology.</span></span> <span data-ttu-id="3ec5e-216">Si tiene que asegurarse de que un nodo tiene una copia nueva de los datos, restaure una copia de seguridad en el nodo.</span><span class="sxs-lookup"><span data-stu-id="3ec5e-216">If you have to ensure that a node has a new copy of the data, restore a backup at the node.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="3ec5e-217">Consulte también</span><span class="sxs-lookup"><span data-stu-id="3ec5e-217">See Also</span></span>  
 <span data-ttu-id="3ec5e-218">[Administrar una topología punto a punto &#40;programación de la replicación con Transact-SQL&#41;](../administration/administer-a-peer-to-peer-topology-replication-transact-sql-programming.md) </span><span class="sxs-lookup"><span data-stu-id="3ec5e-218">[Administer a Peer-to-Peer Topology &#40;Replication Transact-SQL Programming&#41;](../administration/administer-a-peer-to-peer-topology-replication-transact-sql-programming.md) </span></span>  
 <span data-ttu-id="3ec5e-219">[Estrategias para hacer copias de seguridad y restaurar replicación de instantáneas o replicación transaccional](../administration/strategies-for-backing-up-and-restoring-snapshot-and-transactional-replication.md) </span><span class="sxs-lookup"><span data-stu-id="3ec5e-219">[Strategies for Backing Up and Restoring Snapshot and Transactional Replication](../administration/strategies-for-backing-up-and-restoring-snapshot-and-transactional-replication.md) </span></span>  
 [<span data-ttu-id="3ec5e-220">Tipos de publicaciones para la replicación transaccional</span><span class="sxs-lookup"><span data-stu-id="3ec5e-220">Publication Types for Transactional Replication</span></span>](transactional-replication.md)  
  
  
