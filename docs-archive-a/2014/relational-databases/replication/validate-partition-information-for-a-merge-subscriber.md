---
title: Validar la información de particiones para un suscriptor de mezcla | Microsoft Docs
ms.custom: ''
ms.date: 03/06/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: replication
ms.topic: conceptual
helpviewer_keywords:
- merge replication data validation [SQL Server replication], partitions
- parameterized filters [SQL Server replication], validating partition information
- validating partition information
ms.assetid: c059553e-df2c-4333-ba79-e8d6e2890c34
author: MashaMSFT
ms.author: mathoma
ms.openlocfilehash: 3032ff13af69a0690e1f81f08f7b3fb17aae0ee1
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 08/04/2020
ms.locfileid: "87662771"
---
# <a name="validate-partition-information-for-a-merge-subscriber"></a><span data-ttu-id="5c0eb-102">Validar la información de particiones para un suscriptor de mezcla</span><span class="sxs-lookup"><span data-stu-id="5c0eb-102">Validate Partition Information for a Merge Subscriber</span></span>
  <span data-ttu-id="5c0eb-103">Al definir un filtro de fila con parámetros para una publicación de combinación, se utiliza una función que hace referencia a la información del suscriptor, como el nombre de inicio de sesión del suscriptor.</span><span class="sxs-lookup"><span data-stu-id="5c0eb-103">When you define a parameterized row filter for a merge publication, you use a function that references Subscriber information, such as the Subscriber's login name.</span></span> <span data-ttu-id="5c0eb-104">De manera predeterminada, la replicación valida la información del suscriptor basándose en esa función antes de cada sincronización y cada vez que se aplica una instantánea al suscriptor.</span><span class="sxs-lookup"><span data-stu-id="5c0eb-104">By default, replication validates Subscriber information based on that function before each synchronization and whenever a snapshot is applied at the Subscriber.</span></span> <span data-ttu-id="5c0eb-105">El proceso de validación garantiza que los datos se dividan correctamente para cada suscriptor.</span><span class="sxs-lookup"><span data-stu-id="5c0eb-105">The validation process ensures that data is partitioned correctly for each Subscriber.</span></span> <span data-ttu-id="5c0eb-106">El comportamiento de la validación se controla con la propiedad de publicación **validate_subscriber_info**, que se puede cambiar con [sp_changemergepublication &#40;Transact-SQL&#41;](/sql/relational-databases/system-stored-procedures/sp-changemergepublication-transact-sql) o en la página **Opciones de suscripción** del cuadro de diálogo **Propiedades de la publicación**.</span><span class="sxs-lookup"><span data-stu-id="5c0eb-106">Validation behavior is controlled by the **validate_subscriber_info** publication property, which can be changed using [sp_changemergepublication &#40;Transact-SQL&#41;](/sql/relational-databases/system-stored-procedures/sp-changemergepublication-transact-sql) or on the **Subscription Options** page of the **Publication Properties** dialog box.</span></span> <span data-ttu-id="5c0eb-107">Para obtener más información acerca de cómo cambiar las propiedades de la publicación, vea [View and Modify Publication Properties](publish/view-and-modify-publication-properties.md).</span><span class="sxs-lookup"><span data-stu-id="5c0eb-107">For more information about changing publication properties, see [View and Modify Publication Properties](publish/view-and-modify-publication-properties.md).</span></span>  
  
## <a name="how-partition-validation-works"></a><span data-ttu-id="5c0eb-108">Cómo funciona la validación de particiones</span><span class="sxs-lookup"><span data-stu-id="5c0eb-108">How Partition Validation Works</span></span>  
 <span data-ttu-id="5c0eb-109">Por ejemplo, cuando se filtra una publicación con la función **SUSER_SNAME()**, el Agente de mezcla aplica la instantánea inicial a cada suscriptor en función de datos que sean válidos para la expresión **SUSER_SNAME()** .</span><span class="sxs-lookup"><span data-stu-id="5c0eb-109">When a publication is filtered, for example, using the function **SUSER_SNAME()**, the Merge Agent applies the initial snapshot to each Subscriber based on data that is valid for the **SUSER_SNAME()** expression.</span></span>  
  
 <span data-ttu-id="5c0eb-110">Si está habilitada la validación, cuando el suscriptor se vuelve a conectar al publicador para la siguiente sincronización, el Agente de mezcla valida la información en el suscriptor y garantiza que cada partición del suscriptor sea igual a la que se recibió en la instantánea inicial.</span><span class="sxs-lookup"><span data-stu-id="5c0eb-110">If validation is enabled, when the Subscriber reconnects to the Publisher for the next synchronization, the Merge Agent validates the information at the Subscriber and ensures that each Subscriber's partition is the same as the one received in the initial snapshot.</span></span> <span data-ttu-id="5c0eb-111">En cada aplicación de mezcla o instantáneas posterior, el Agente de mezcla valida cada partición del suscriptor.</span><span class="sxs-lookup"><span data-stu-id="5c0eb-111">For each subsequent merge or snapshot application, the Merge Agent validates each Subscriber's partition.</span></span>  
  
 <span data-ttu-id="5c0eb-112">Si el Agente de mezcla detecta que la función utilizada en la expresión de filtro devuelve un valor distinto del que devolvía en la instantánea inicial, se producirá un error en la aplicación de mezcla o instantáneas, y es posible que sea necesario reinicializar esa suscripción en el suscriptor.</span><span class="sxs-lookup"><span data-stu-id="5c0eb-112">If the Merge Agent detects that the function used in the filtering expression returns a different value than it did at the initial snapshot, the merge or snapshot application fails, and that Subscriber's subscription might require reinitialization.</span></span> <span data-ttu-id="5c0eb-113">La reinicialización puede ser necesaria para evitar problemas que pueden surgir si cambia la configuración de mezcla de un suscriptor, pero puede ser suficiente cambiar la información del suscriptor, como el nombre de inicio de sesión, al valor que tenía en el momento de la instantánea original.</span><span class="sxs-lookup"><span data-stu-id="5c0eb-113">Reinitialization might be necessary to prevent problems that can arise if the merge settings of a Subscriber are changed, but it might be sufficient to change information at the Subscriber, such as the login name, back to the value used at the time of the original snapshot.</span></span>  
  
 <span data-ttu-id="5c0eb-114">Cuando el Agente de mezcla valida una partición, además de validarla por comparación con los valores devueltos por las funciones utilizadas en las expresiones de filtro, el agente también comprueba si la instantánea se generó antes que los cambios que la invalidan, como operaciones de limpieza de metadatos o cambios de esquema.</span><span class="sxs-lookup"><span data-stu-id="5c0eb-114">When the Merge Agent validates a partition, in addition to validating the partition against the values returned by any functions used in filtering expressions, the agent also checks whether the snapshot was generated prior to changes that invalidate it, such as metadata cleanup operations or schema changes.</span></span> <span data-ttu-id="5c0eb-115">Si una instantánea dividida es demasiado antigua, el Agente de mezcla devolverá un error y será necesario volver a generar una instantánea dividida para ese suscriptor, basándose en una instantánea normal actual.</span><span class="sxs-lookup"><span data-stu-id="5c0eb-115">If a partitioned snapshot is too old, the Merge Agent will return an error and you must regenerate a partitioned snapshot for that Subscriber based on a current regular snapshot.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="5c0eb-116">Consulte también</span><span class="sxs-lookup"><span data-stu-id="5c0eb-116">See Also</span></span>  
 <span data-ttu-id="5c0eb-117">[Preguntas más frecuentes para administradores de replicación](administration/frequently-asked-questions-for-replication-administrators.md) </span><span class="sxs-lookup"><span data-stu-id="5c0eb-117">[Replication Administration FAQ](administration/frequently-asked-questions-for-replication-administrators.md) </span></span>  
 <span data-ttu-id="5c0eb-118">[Prácticas recomendadas para la administración de replicación](administration/best-practices-for-replication-administration.md) </span><span class="sxs-lookup"><span data-stu-id="5c0eb-118">[Best Practices for Replication Administration](administration/best-practices-for-replication-administration.md) </span></span>  
 <span data-ttu-id="5c0eb-119">[Reinicializar suscripciones](reinitialize-subscriptions.md) </span><span class="sxs-lookup"><span data-stu-id="5c0eb-119">[Reinitialize Subscriptions](reinitialize-subscriptions.md) </span></span>  
 [<span data-ttu-id="5c0eb-120">Validar datos replicados</span><span class="sxs-lookup"><span data-stu-id="5c0eb-120">Validate Replicated Data</span></span>](validate-data-at-the-subscriber.md)  
  
  
