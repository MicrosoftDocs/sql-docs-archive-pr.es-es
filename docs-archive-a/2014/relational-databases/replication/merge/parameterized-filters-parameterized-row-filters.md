---
title: Filtros de fila con parámetros | Microsoft Docs
ms.custom: ''
ms.date: 06/02/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: replication
ms.topic: conceptual
helpviewer_keywords:
- publications [SQL Server replication], dynamic filters
- merge replication [SQL Server replication], dynamic filters
- parameterized filters [SQL Server replication]
- filters [SQL Server replication], dynamic
- merge replication parameterized filters [SQL Server replication]
- publications [SQL Server replication], parameterized filters
- parameterized filters [SQL Server replication], about parameterized filters
- filters [SQL Server replication], parameterized
- dynamic filters [SQL Server replication]
ms.assetid: b48a6825-068f-47c8-afdc-c83540da4639
author: MashaMSFT
ms.author: mathoma
ms.openlocfilehash: a293d5dfc6bfbdf66afb680f0604117e2cc02b2d
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 08/04/2020
ms.locfileid: "87662836"
---
# <a name="parameterized-row-filters"></a><span data-ttu-id="11420-102">Parameterized Row Filters</span><span class="sxs-lookup"><span data-stu-id="11420-102">Parameterized Row Filters</span></span>
  <span data-ttu-id="11420-103">Los filtros de filas con parámetros permiten enviar diferentes particiones de datos a diferentes suscriptores sin necesidad de crear varias publicaciones (los filtros con parámetros se denominaban filtros dinámicos en versiones anteriores de [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)]).</span><span class="sxs-lookup"><span data-stu-id="11420-103">Parameterized row filters allow different partitions of data to be sent to different Subscribers without requiring multiple publications to be created (parameterized filters were referred to as dynamic filters in previous versions of [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)]).</span></span> <span data-ttu-id="11420-104">Una partición es un subconjunto de filas de una tabla; dependiendo de la configuración elegida al crear un filtro de filas con parámetros, cada fila de una tabla publicada puede pertenecer a una sola partición (lo que produce particiones no superpuestas) o a dos o más particiones (lo que produce particiones superpuestas).</span><span class="sxs-lookup"><span data-stu-id="11420-104">A partition is a subset of the rows in a table; depending on the settings chosen when creating a parameterized row filter, each row in a published table can belong to one partition only (which produces nonoverlapping partitions) or to two or more partitions (which produces overlapping partitions).</span></span>  
  
 <span data-ttu-id="11420-105">Las particiones no superpuestas se pueden compartir entre varias suscripciones o restringirse de forma que solo una suscripción reciba una partición determinada.</span><span class="sxs-lookup"><span data-stu-id="11420-105">Nonoverlapping partitions can be shared among subscriptions or they can be restricted so that only one subscription receives a given partition.</span></span> <span data-ttu-id="11420-106">La configuración que controla el comportamiento de la partición se describe en "Usar las opciones de filtrado apropiadas" más adelante en este tema.</span><span class="sxs-lookup"><span data-stu-id="11420-106">The settings that control partition behavior are described in "Using the Appropriate Filtering Options" later in this topic.</span></span> <span data-ttu-id="11420-107">Con esta configuración, puede adaptar los filtros con parámetros a los requisitos de rendimiento y de la aplicación.</span><span class="sxs-lookup"><span data-stu-id="11420-107">Using these settings you can tailor parameterized filtering according to application and performance requirements.</span></span> <span data-ttu-id="11420-108">En general, las particiones superpuestas proporcionan un mayor grado de flexibilidad, mientras que las particiones no superpuestas replicadas en una sola suscripción proporcionan un mejor rendimiento.</span><span class="sxs-lookup"><span data-stu-id="11420-108">In general, overlapping partitions allow for greater flexibility, and nonoverlapping partitions replicated to a single subscription provide better performance.</span></span>  
  
 <span data-ttu-id="11420-109">Los filtros con parámetros se utilizan en una sola tabla y generalmente se combinan con filtros de combinación para extender el filtrado a las tablas relacionadas.</span><span class="sxs-lookup"><span data-stu-id="11420-109">Parameterized filters are used on a single table and are typically combined with join filters to extend filtering to related tables.</span></span> <span data-ttu-id="11420-110">Para obtener más información, consulte [Join Filters](join-filters.md).</span><span class="sxs-lookup"><span data-stu-id="11420-110">For more information, see [Join Filters](join-filters.md).</span></span>  
  
 <span data-ttu-id="11420-111">Para definir o modificar un filtro de fila con parámetros, vea [Definir y modificar un filtro de fila con parámetros para un artículo de mezcla](../publish/define-and-modify-a-parameterized-row-filter-for-a-merge-article.md).</span><span class="sxs-lookup"><span data-stu-id="11420-111">To define or modify a parameterized row filter, see [Define and Modify a Parameterized Row Filter for a Merge Article](../publish/define-and-modify-a-parameterized-row-filter-for-a-merge-article.md).</span></span>  
  
## <a name="how-parameterized-filters-work"></a><span data-ttu-id="11420-112">Cómo funcionan los filtros con parámetros</span><span class="sxs-lookup"><span data-stu-id="11420-112">How Parameterized Filters Work</span></span>  
 <span data-ttu-id="11420-113">Un filtro de fila con parámetros utiliza una cláusula WHERE para seleccionar los datos apropiados para publicar.</span><span class="sxs-lookup"><span data-stu-id="11420-113">A parameterized row filter uses a WHERE clause to select the appropriate data to be published.</span></span> <span data-ttu-id="11420-114">En vez de especificar un valor literal en la cláusula (como ocurre con un filtro de fila estático), se especifica una o las dos funciones del sistema siguientes: SUSER_SNAME() y HOST_NAME().</span><span class="sxs-lookup"><span data-stu-id="11420-114">Rather than specifying a literal value in the clause (as you do with a static row filter), you specify one or both of the following system functions: SUSER_SNAME() and HOST_NAME().</span></span> <span data-ttu-id="11420-115">También se pueden utilizar funciones definidas por el usuario, pero deben incluir SUSER_SNAME() o HOST_NAME() en el cuerpo de la función, o evaluar una de estas funciones del sistema (como `MyUDF(SUSER_SNAME()`).</span><span class="sxs-lookup"><span data-stu-id="11420-115">User-defined functions can also be used, but they must include SUSER_SNAME() or HOST_NAME() in the body of the function, or evaluate one of these system functions (such as `MyUDF(SUSER_SNAME()`).</span></span> <span data-ttu-id="11420-116">Si una función definida por el usuario incluye SUSER_SNAME() o HOST_NAME() en el cuerpo de la función, no se pueden pasar parámetros a la función.</span><span class="sxs-lookup"><span data-stu-id="11420-116">If a user-defined function includes SUSER_SNAME() or HOST_NAME() in the body of the function, you cannot pass parameters to the function.</span></span>  
  
 <span data-ttu-id="11420-117">Las funciones del sistema SUSER_SNAME() y HOST_NAME() no son específicas para la replicación de mezcla, pero la replicación de mezcla las utiliza para el filtrado con parámetros:</span><span class="sxs-lookup"><span data-stu-id="11420-117">The system functions SUSER_SNAME() and HOST_NAME() are not specific to merge replication, but they are used by merge replication for parameterized filtering:</span></span>  
  
-   <span data-ttu-id="11420-118">SUSER_SNAME() devuelve información de inicio de sesión para las conexiones establecidas con una instancia de [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)].</span><span class="sxs-lookup"><span data-stu-id="11420-118">SUSER_SNAME() returns login information for connections made to an instance of [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)].</span></span> <span data-ttu-id="11420-119">Cuando se utiliza en un filtro con parámetros, devuelve el inicio de sesión que utiliza el Agente de mezcla para conectarse al publicador (el inicio de sesión se especifica al crear una suscripción).</span><span class="sxs-lookup"><span data-stu-id="11420-119">When used in a parameterized filter, it returns the login used by the Merge Agent to connect to the Publisher (you specify a login when you create a subscription).</span></span>  
  
-   <span data-ttu-id="11420-120">HOST_NAME() devuelve el nombre del equipo que se está conectando a una instancia de [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)].</span><span class="sxs-lookup"><span data-stu-id="11420-120">HOST_NAME() returns the name of the computer that is connecting to an instance of [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)].</span></span> <span data-ttu-id="11420-121">Cuando se utiliza en un filtro con parámetros, devuelve de manera predeterminada el nombre del equipo en el que se está ejecutando el Agente de mezcla.</span><span class="sxs-lookup"><span data-stu-id="11420-121">When used in a parameterized filter, by default it returns the name of the computer on which the Merge Agent is running.</span></span> <span data-ttu-id="11420-122">Para las suscripciones de extracción, es el nombre del suscriptor, y para las suscripciones de inserción, es el nombre del distribuidor.</span><span class="sxs-lookup"><span data-stu-id="11420-122">For pull subscriptions it is the name of the Subscriber; for push subscriptions it is the name of the Distributor.</span></span>  
  
     <span data-ttu-id="11420-123">También es posible anular esta función con un valor distinto del nombre del suscriptor o el distribuidor.</span><span class="sxs-lookup"><span data-stu-id="11420-123">It is also possible to override this function with a value other than the name of the Subscriber or Distributor.</span></span> <span data-ttu-id="11420-124">Generalmente, las aplicaciones invalidan esta función con valores más significativos, como el nombre o el indentificador de un vendedor.</span><span class="sxs-lookup"><span data-stu-id="11420-124">Typically applications override this function with more meaningful values, such as a salesperson name or salesperson ID.</span></span> <span data-ttu-id="11420-125">Para obtener más información, vea la sección "Invalidar el valor de HOST_NAME_NAME()" en este mismo tema.</span><span class="sxs-lookup"><span data-stu-id="11420-125">For more information, see the section "Overriding the HOST_NAME() Value" in this topic.</span></span>  
  
 <span data-ttu-id="11420-126">El valor que devuelve la función del sistema se compara con la columna especificada en la tabla que está filtrando y se descargan los datos apropiados al suscriptor.</span><span class="sxs-lookup"><span data-stu-id="11420-126">The value returned by the system function is compared to a column you specify in the table you are filtering, and the appropriate data is downloaded to the Subscriber.</span></span> <span data-ttu-id="11420-127">Esta comparación se lleva a cabo al inicializar la suscripción (para que la instantánea inicial contenga únicamente los datos correctos) y cada vez que se sincroniza la suscripción.</span><span class="sxs-lookup"><span data-stu-id="11420-127">This comparison is made when the subscription is initialized (so only the appropriate data is contained in the initial snapshot) and every time the subscription is synchronized.</span></span> <span data-ttu-id="11420-128">De forma predeterminada, si un cambio en el publicador hace que se mueva una fila fuera de una partición, la fila se elimina en el suscriptor (este comportamiento se controla mediante el **@allow_partition_realignment** parámetro de [sp_addmergepublication &#40;&#41;de TRANSACT-SQL ](/sql/relational-databases/system-stored-procedures/sp-addmergepublication-transact-sql)).</span><span class="sxs-lookup"><span data-stu-id="11420-128">By default, if a change at the Publisher results in a row being moved out of a partition, the row is deleted at the Subscriber (this behavior is controlled using the **@allow_partition_realignment** parameter of [sp_addmergepublication &#40;Transact-SQL&#41;](/sql/relational-databases/system-stored-procedures/sp-addmergepublication-transact-sql)).</span></span>  
  
> [!NOTE]  
>  <span data-ttu-id="11420-129">Cuando se realizan comparaciones para los filtros con parámetros, se utiliza siempre la intercalación de base de datos.</span><span class="sxs-lookup"><span data-stu-id="11420-129">When comparisons are made for parameterized filters, the database collation is always used.</span></span> <span data-ttu-id="11420-130">Por ejemplo, si la intercalación de base de datos no distingue entre mayúsculas y minúsculas, pero la intercalación de tabla o columna sí lo hace, la comparación no distinguirá entre mayúsculas y minúsculas.</span><span class="sxs-lookup"><span data-stu-id="11420-130">For example, if the database collation is case insensitive, but the table or column collation is case sensitive, the comparison will be case insensitive.</span></span>  
  
### <a name="filtering-with-suser_sname"></a><span data-ttu-id="11420-131">Filtrar con SUSER_SNAME()</span><span class="sxs-lookup"><span data-stu-id="11420-131">Filtering with SUSER_SNAME()</span></span>  
 <span data-ttu-id="11420-132">Considere la **tabla Employee** en la base de datos de ejemplo [!INCLUDE[ssSampleDBCoShort](../../../includes/sssampledbcoshort-md.md)] .</span><span class="sxs-lookup"><span data-stu-id="11420-132">Consider the **Employee Table** in the [!INCLUDE[ssSampleDBCoShort](../../../includes/sssampledbcoshort-md.md)] sample database.</span></span> <span data-ttu-id="11420-133">Esta tabla incluye la columna **LoginID**, que contiene el inicio de sesión de cada empleado en la forma '*dominio\inicioDeSesión*'.</span><span class="sxs-lookup"><span data-stu-id="11420-133">This table includes the column **LoginID**, which contains the login for each employee in the form '*domain\login*'.</span></span> <span data-ttu-id="11420-134">Para filtrar esta tabla con el fin de que los empleados reciban únicamente los datos relacionados con ellos, especifique la cláusula de filtro:</span><span class="sxs-lookup"><span data-stu-id="11420-134">To filter this table so that employees receive only the data related to them, specify a filter clause of:</span></span>  
  
```  
LoginID = SUSER_SNAME()  
```  
  
 <span data-ttu-id="11420-135">Por ejemplo, el valor para uno de los empleados es 'adventure-works\john5'.</span><span class="sxs-lookup"><span data-stu-id="11420-135">For example, the value for one of the employees is 'adventure-works\john5'.</span></span> <span data-ttu-id="11420-136">Cuando el Agente de mezcla se conecta al publicador, utiliza el nombre de inicio de sesión especificado al crear la suscripción (en este caso, 'adventure-works\john5').</span><span class="sxs-lookup"><span data-stu-id="11420-136">When the Merge Agent connects to the Publisher, it uses the login you specified when creating the subscription (in this case 'adventure-works\john5').</span></span> <span data-ttu-id="11420-137">A continuación, el Agente de mezcla compara el valor devuelto por SUSER_SNAME() con los valores de la tabla y descarga únicamente la fila que contiene el valor 'adventure-works\john5' en la columna **LoginID** .</span><span class="sxs-lookup"><span data-stu-id="11420-137">The Merge Agent then compares the value returned by SUSER_SNAME() to the values in the table and downloads only the row that contains a value of 'adventure-works\john5' in the **LoginID** column.</span></span>  
  
### <a name="filtering-with-host_name"></a><span data-ttu-id="11420-138">Filtrar con HOST_NAME()</span><span class="sxs-lookup"><span data-stu-id="11420-138">Filtering with HOST_NAME()</span></span>  
 <span data-ttu-id="11420-139">Considere la tabla **HumanResources.Employee** .</span><span class="sxs-lookup"><span data-stu-id="11420-139">Consider the **HumanResources.Employee** table.</span></span> <span data-ttu-id="11420-140">Suponga que esta tabla contiene una columna **ComputerName** con el nombre del equipo de cada empleado en formato '*nombre_tipoDeEquipo*'.</span><span class="sxs-lookup"><span data-stu-id="11420-140">Suppose this table contained a column such as **ComputerName** with the name of each employee's computer in the form '*name_computertype*'.</span></span> <span data-ttu-id="11420-141">Para filtrar esta tabla con el fin de que los empleados reciban únicamente los datos relacionados con ellos, especifique la cláusula de filtro:</span><span class="sxs-lookup"><span data-stu-id="11420-141">To filter this table so that employees receive only the data related to them, specify a filter clause of:</span></span>  
  
```  
ComputerName = HOST_NAME()  
```  
  
 <span data-ttu-id="11420-142">Por ejemplo, el valor de uno de los empleados podría ser 'john5_laptop'.</span><span class="sxs-lookup"><span data-stu-id="11420-142">For example, the value for one of the employees could be 'john5_laptop'.</span></span> <span data-ttu-id="11420-143">Cuando el Agente de mezcla se conecta al publicador, compara el valor devuelto por HOST_NAME() con los valores de la tabla y descarga únicamente la fila que contiene el valor 'john5_laptop' en la columna **ComputerName** .</span><span class="sxs-lookup"><span data-stu-id="11420-143">When the Merge Agent connects to the Publisher, it compares the value returned by HOST_NAME() to the values in the table and downloads only the row that contains a value of 'john5_laptop' in the **ComputerName** column.</span></span>  
  
 <span data-ttu-id="11420-144">También puede combinar las funciones en un filtro.</span><span class="sxs-lookup"><span data-stu-id="11420-144">It is also possible to combine the functions in a filter.</span></span> <span data-ttu-id="11420-145">Por ejemplo, si desea asegurarse de que un empleado reciba datos solamente cuando utilice su nombre de inicio de sesión en su equipo, la cláusula de filtro podría ser:</span><span class="sxs-lookup"><span data-stu-id="11420-145">For example, if you wanted to ensure that an employee received data only if they used their login on their computer, the filter clause could be:</span></span>  
  
```  
LoginID = SUSER_SNAME() AND ComputerName = HOST_NAME()  
```  
  
 <span data-ttu-id="11420-146">A menos que vaya a reemplazar el valor de HOST_NAME(), el filtrado con HOST_NAME() solamente se suele utilizar con suscripciones de extracción.</span><span class="sxs-lookup"><span data-stu-id="11420-146">Unless you are overriding the HOST_NAME() value, filtering with HOST_NAME() is typically used only with pull subscriptions.</span></span> <span data-ttu-id="11420-147">El valor que devuelve la función es el nombre del equipo en el que se está ejecutando el Agente de mezcla.</span><span class="sxs-lookup"><span data-stu-id="11420-147">The value returned by the function is the name of the computer on which the Merge Agent is running.</span></span> <span data-ttu-id="11420-148">Para las suscripciones de extracción, el valor es diferente para cada suscripción, pero para las suscripciones de inserción, el valor es el mismo (todos los agentes de mezcla se ejecutan en el distribuidor para las suscripciones de inserción).</span><span class="sxs-lookup"><span data-stu-id="11420-148">For pull subscriptions, the value is different for each subscription, but for push subscriptions, the value is the same (all Merge Agents run at the Distributor for push subscriptions).</span></span>  
  
> [!IMPORTANT]  
>  <span data-ttu-id="11420-149">El valor de la función HOST_NAME() se puede reemplazar; por lo tanto, no es posible utilizar filtros que incluyan HOST_NAME() para controlar el acceso a particiones de datos.</span><span class="sxs-lookup"><span data-stu-id="11420-149">The value for the HOST_NAME() function can be overridden; therefore it is not possible to use filters that include HOST_NAME() to control access to partitions of data.</span></span> <span data-ttu-id="11420-150">Para controlar el acceso a particiones de datos, utilice SUSER_SNAME(), SUSER_SNAME() en combinación con HOST_NAME(), o utilice filtros de fila estáticos.</span><span class="sxs-lookup"><span data-stu-id="11420-150">To control access to partitions of data, use SUSER_SNAME(), SUSER_SNAME() in combination with HOST_NAME(), or use static row filters.</span></span>  
  
#### <a name="overriding-the-host_name-value"></a><span data-ttu-id="11420-151">Reemplazar el valor de HOST_NAME()</span><span class="sxs-lookup"><span data-stu-id="11420-151">Overriding the HOST_NAME() Value</span></span>  
 <span data-ttu-id="11420-152">Como se indicó anteriormente, HOST_NAME() devuelve, de manera predeterminada, el nombre del equipo que se está conectando a una instancia de [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)].</span><span class="sxs-lookup"><span data-stu-id="11420-152">As noted earlier, HOST_NAME() by default returns the name of the computer that is connecting to an instance of [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)].</span></span> <span data-ttu-id="11420-153">Cuando se utilizan filtros con parámetros, es frecuente reemplazar este valor con otro suministrado al crear una suscripción.</span><span class="sxs-lookup"><span data-stu-id="11420-153">When using parameterized filters, it is common to override this value by supplying a value when you create a subscription.</span></span> <span data-ttu-id="11420-154">A continuación, la función HOST_NAME() devuelve el valor que se ha especificado en vez del nombre del equipo.</span><span class="sxs-lookup"><span data-stu-id="11420-154">The HOST_NAME() function then returns the value you specify rather than the name of the computer.</span></span>  
  
> [!NOTE]  
>  <span data-ttu-id="11420-155">Si reemplaza HOST_NAME(), todas las llamadas a la función HOST_NAME() devolverán el valor especificado.</span><span class="sxs-lookup"><span data-stu-id="11420-155">If you override HOST_NAME(), all calls to the HOST_NAME() function will return the value you specify.</span></span> <span data-ttu-id="11420-156">Asegúrese de que otras aplicaciones no dependen de HOST_NAME() al devolver el nombre del equipo.</span><span class="sxs-lookup"><span data-stu-id="11420-156">Ensure that other applications are not depending on HOST_NAME() returning the computer name.</span></span>  
  
 <span data-ttu-id="11420-157">Considere la tabla **HumanResources.Employee** .</span><span class="sxs-lookup"><span data-stu-id="11420-157">Consider the **HumanResources.Employee** table.</span></span> <span data-ttu-id="11420-158">Esta tabla incluye la columna **EmployeeID**.</span><span class="sxs-lookup"><span data-stu-id="11420-158">This table includes the column **EmployeeID**.</span></span> <span data-ttu-id="11420-159">Para filtrar esta tabla con el fin de que cada empleado reciba únicamente los datos relacionados con él, especifique la cláusula de filtro:</span><span class="sxs-lookup"><span data-stu-id="11420-159">To filter this table so that each employee receives only the data related to them, specify a filter clause of:</span></span>  
  
 `EmployeeID = CONVERT(int,HOST_NAME())`  
  
 <span data-ttu-id="11420-160">Por ejemplo, a la empleada Pamela Ansman-Wolfe se le ha asignado el identificador 280.</span><span class="sxs-lookup"><span data-stu-id="11420-160">For example, employee Pamela Ansman-Wolfe has been assigned an employee ID of 280.</span></span> <span data-ttu-id="11420-161">Especifique el valor de identificador de empleado (280 en este ejemplo) como valor de HOST_NAME() al crear una suscripción para esta empleada.</span><span class="sxs-lookup"><span data-stu-id="11420-161">Specify the value of the employee ID (280 in our example) for the HOST_NAME() value when creating a subscription for this employee.</span></span> <span data-ttu-id="11420-162">Cuando el Agente de mezcla se conecte al publicador, comparará el valor devuelto por HOST_NAME() con los valores de la tabla y descargará únicamente la fila que contiene el valor 280 en la columna **EmployeeID** .</span><span class="sxs-lookup"><span data-stu-id="11420-162">When the Merge Agent connects to the Publisher, it compares the value returned by HOST_NAME() to the values in the table and downloads only the row that contains a value of 280 in the **EmployeeID** column.</span></span>  
  
> [!IMPORTANT]
>  <span data-ttu-id="11420-163">La función HOST_NAME() devuelve un valor `nchar`, por lo que debe usar CONVERT si la columna de la cláusula del filtro es de tipo de datos numérico, como en el ejemplo anterior.</span><span class="sxs-lookup"><span data-stu-id="11420-163">The HOST_NAME() function returns an `nchar` value, so you must use CONVERT if the column in the filter clause is of a numeric data type, as it is in the example above.</span></span> <span data-ttu-id="11420-164">Por motivos de rendimiento, se recomienda no aplicar funciones a los nombres de columna en las cláusulas de los filtros de fila con parámetros, como `CONVERT(nchar,EmployeeID) = HOST_NAME()`.</span><span class="sxs-lookup"><span data-stu-id="11420-164">For performance reasons, we recommended that you do not apply functions to column names in parameterized row filter clauses, such as `CONVERT(nchar,EmployeeID) = HOST_NAME()`.</span></span> <span data-ttu-id="11420-165">En su lugar, se recomienda usar el método que se muestra en el ejemplo: `EmployeeID = CONVERT(int,HOST_NAME())`.</span><span class="sxs-lookup"><span data-stu-id="11420-165">Instead, we recommend using the approach shown in the example: `EmployeeID = CONVERT(int,HOST_NAME())`.</span></span> <span data-ttu-id="11420-166">Esta cláusula se puede usar para el **@subset_filterclause** parámetro de [sp_addmergearticle](/sql/relational-databases/system-stored-procedures/sp-addmergearticle-transact-sql), pero normalmente no se puede usar en el Asistente para nueva publicación (el asistente ejecuta la cláusula de filtro para validarla, lo que produce un error porque el nombre del equipo no se puede convertir en `int` ).</span><span class="sxs-lookup"><span data-stu-id="11420-166">This clause can be used for the **@subset_filterclause** parameter of [sp_addmergearticle](/sql/relational-databases/system-stored-procedures/sp-addmergearticle-transact-sql), but it typically cannot be used in the New Publication Wizard (the wizard executes the filter clause to validate it, which fails because the computer name cannot be converted to an `int`).</span></span> <span data-ttu-id="11420-167">Si usa el Asistente para nueva publicación, se recomienda especificar `CONVERT(nchar,EmployeeID) = HOST_NAME()` en el asistente y, a continuación, usar [sp_changemergearticle](/sql/relational-databases/system-stored-procedures/sp-changemergearticle-transact-sql) para cambiar la cláusula a `EmployeeID = CONVERT(int,HOST_NAME())` antes de crear una instantánea de la publicación.</span><span class="sxs-lookup"><span data-stu-id="11420-167">If you use the New Publication Wizard, we recommend specifying `CONVERT(nchar,EmployeeID) = HOST_NAME()` in the wizard and then use [sp_changemergearticle](/sql/relational-databases/system-stored-procedures/sp-changemergearticle-transact-sql) to change the clause to `EmployeeID = CONVERT(int,HOST_NAME())` before creating a snapshot for the publication.</span></span>  
  
 <span data-ttu-id="11420-168">**Para reemplazar el valor de HOST_NAME()**</span><span class="sxs-lookup"><span data-stu-id="11420-168">**To override the HOST_NAME() value**</span></span>  
  
 <span data-ttu-id="11420-169">Utilice uno de los métodos siguientes para reemplazar el valor de HOST_NAME():</span><span class="sxs-lookup"><span data-stu-id="11420-169">Use one of the following methods to override the HOST_NAME() value:</span></span>  
  
-   [!INCLUDE[ssManStudioFull](../../../includes/ssmanstudiofull-md.md)]<span data-ttu-id="11420-170">: especifique un valor en la página **Valores de HOST\_NAME\(\)** del Asistente para nueva suscripción.</span><span class="sxs-lookup"><span data-stu-id="11420-170">: specify a value on the **HOST\_NAME\(\) Values** page of the New Subscription Wizard.</span></span> <span data-ttu-id="11420-171">Para obtener más información sobre la creación de suscripciones, vea [Suscribirse a publicaciones](../subscribe-to-publications.md).</span><span class="sxs-lookup"><span data-stu-id="11420-171">For more information about creating subscriptions, see [Subscribe to Publications](../subscribe-to-publications.md).</span></span>  
  
-   <span data-ttu-id="11420-172">[!INCLUDE[tsql](../../../includes/tsql-md.md)]Programación de la replicación: especifique un valor para el **@hostname** parámetro de [sp_addmergesubscription &#40;&#41;de Transact-SQL](/sql/relational-databases/system-stored-procedures/sp-addmergesubscription-transact-sql) (para suscripciones de inserción) o [sp_addmergepullsubscription_agent &#40;Transact-SQL&#41;](/sql/relational-databases/system-stored-procedures/sp-addmergepullsubscription-agent-transact-sql) (para las suscripciones de extracción).</span><span class="sxs-lookup"><span data-stu-id="11420-172">Replication [!INCLUDE[tsql](../../../includes/tsql-md.md)] programming: specify a value for the **@hostname** parameter of [sp_addmergesubscription &#40;Transact-SQL&#41;](/sql/relational-databases/system-stored-procedures/sp-addmergesubscription-transact-sql) (for push subscriptions) or [sp_addmergepullsubscription_agent &#40;Transact-SQL&#41;](/sql/relational-databases/system-stored-procedures/sp-addmergepullsubscription-agent-transact-sql) (for pull subscriptions).</span></span>  
  
-   <span data-ttu-id="11420-173">Agente de mezcla: especifique un valor para el parámetro **-Hostname** en la línea de comandos o a través de un perfil de agente.</span><span class="sxs-lookup"><span data-stu-id="11420-173">Merge Agent: specify a value for the **-Hostname** parameter at the command line or through an agent profile.</span></span> <span data-ttu-id="11420-174">Para obtener más información acerca del Agente de mezcla, vea [Replication Merge Agent](../agents/replication-merge-agent.md).</span><span class="sxs-lookup"><span data-stu-id="11420-174">For more information about the Merge Agent, see [Replication Merge Agent](../agents/replication-merge-agent.md).</span></span> <span data-ttu-id="11420-175">Para obtener más información acerca de los perfiles de agente, vea [Replication Agent Profiles](../agents/replication-agent-profiles.md).</span><span class="sxs-lookup"><span data-stu-id="11420-175">For more information about agent profiles, see [Replication Agent Profiles](../agents/replication-agent-profiles.md).</span></span>  
  
## <a name="initializing-a-subscription-to-a-publication-with-parameterized-filters"></a><span data-ttu-id="11420-176">Inicializar una suscripción a una publicación con filtros con parámetros</span><span class="sxs-lookup"><span data-stu-id="11420-176">Initializing a Subscription to a Publication with Parameterized Filters</span></span>  
 <span data-ttu-id="11420-177">Cuando se utilizan filtros de fila con parámetros en las publicaciones de combinación, la replicación inicializa cada suscripción con una instantánea en dos partes.</span><span class="sxs-lookup"><span data-stu-id="11420-177">When parameterized row filters are used in merge publications, replication initializes each subscription with a two-part snapshot.</span></span> <span data-ttu-id="11420-178">Para más información, consulte [Instantáneas para publicaciones de combinación con filtros con parámetros](../snapshots-for-merge-publications-with-parameterized-filters.md).</span><span class="sxs-lookup"><span data-stu-id="11420-178">For more information, see [Snapshots for Merge Publications with Parameterized Filters](../snapshots-for-merge-publications-with-parameterized-filters.md).</span></span>  
  
## <a name="using-the-appropriate-filtering-options"></a><span data-ttu-id="11420-179">Usar las opciones de filtrado apropiadas</span><span class="sxs-lookup"><span data-stu-id="11420-179">Using the Appropriate Filtering Options</span></span>  
 <span data-ttu-id="11420-180">Hay dos áreas clave que puede controlar cuando se utilizan filtros con parámetros:</span><span class="sxs-lookup"><span data-stu-id="11420-180">There are two key areas over which you have control when using parameterized filters:</span></span>  
  
-   <span data-ttu-id="11420-181">Cómo procesa los filtros la replicación de mezcla, que se controla con una de las dos opciones de publicación siguientes: **use partition groups** y **keep partition changes**.</span><span class="sxs-lookup"><span data-stu-id="11420-181">How the filters are processed by merge replication, which is controlled by one of two publication settings: **use partition groups** and **keep partition changes**.</span></span>  
  
-   <span data-ttu-id="11420-182">Cómo se comparten los datos entre los suscriptores, que debe reflejarse en la opción de artículo **partition options**(opciones de partición).</span><span class="sxs-lookup"><span data-stu-id="11420-182">How the data is shared among Subscribers, which must be reflected by the article setting **partition options**.</span></span>  
  
 <span data-ttu-id="11420-183">Para establecer opciones de filtrado, vea [Optimize Parameterized Row Filters](../publish/optimize-parameterized-row-filters.md).</span><span class="sxs-lookup"><span data-stu-id="11420-183">To set filtering options, see [Optimize Parameterized Row Filters](../publish/optimize-parameterized-row-filters.md).</span></span>  
  
### <a name="setting-use-partition-groups-and-keep-partition-changes"></a><span data-ttu-id="11420-184">Configurar 'use partition groups' y 'keep partition changes'</span><span class="sxs-lookup"><span data-stu-id="11420-184">Setting 'use partition groups' and 'keep partition changes'</span></span>  
 <span data-ttu-id="11420-185">Las opciones **use partition groups** y **keep partition changes** mejoran el rendimiento de la sincronización para las publicaciones con artículos filtrados, ya que almacenan metadatos adicionales en la base de datos de publicaciones.</span><span class="sxs-lookup"><span data-stu-id="11420-185">Both the **use partition groups** and **keep partition changes** options improve the synchronization performance for publications with filtered articles by storing additional metadata in the publication database.</span></span> <span data-ttu-id="11420-186">La opción **use partition groups** proporciona una mayor mejora en el rendimiento mediante la característica de particiones precalculadas.</span><span class="sxs-lookup"><span data-stu-id="11420-186">The **use partition groups** option provides greater performance improvement through the use of the precomputed partitions feature.</span></span> <span data-ttu-id="11420-187">Esta opción se establece de manera predeterminada en `true` si los artículos de la publicación cumplen una serie de requisitos.</span><span class="sxs-lookup"><span data-stu-id="11420-187">This option is set to `true` by default if the articles in your publication adhere to a set of requirements.</span></span> <span data-ttu-id="11420-188">Para obtener más información sobre estos requisitos, vea [Optimizar el rendimiento de los filtros con parámetros con particiones calculadas previamente](parameterized-filters-optimize-for-precomputed-partitions.md).</span><span class="sxs-lookup"><span data-stu-id="11420-188">For more information about these requirements, see [Optimize Parameterized Filter Performance with Precomputed Partitions](parameterized-filters-optimize-for-precomputed-partitions.md).</span></span> <span data-ttu-id="11420-189">Si los artículos no cumplen los requisitos para usar particiones precalculadas, la opción **mantener cambios de partición** en está establecida en `true` .</span><span class="sxs-lookup"><span data-stu-id="11420-189">If your articles do not meet the requirements for using precomputed partitions, the **keep partition changes** option to is set to `true`.</span></span>  
  
### <a name="setting-partition-options"></a><span data-ttu-id="11420-190">Configurar 'partition options'</span><span class="sxs-lookup"><span data-stu-id="11420-190">Setting 'partition options'</span></span>  
 <span data-ttu-id="11420-191">Al crear un artículo, se especifica un valor para la propiedad **partition options** , en función de cómo van a compartir los suscriptores los datos de la tabla filtrada.</span><span class="sxs-lookup"><span data-stu-id="11420-191">You specify a value for the **partition options** property when creating an article, according to the way in which data in the filtered table will be shared by Subscribers.</span></span> <span data-ttu-id="11420-192">Es posible asignar a la propiedad uno de cuatro valores usando [sp_addmergearticle](/sql/relational-databases/system-stored-procedures/sp-addmergearticle-transact-sql), [sp_changemergearticle](/sql/relational-databases/system-stored-procedures/sp-changemergearticle-transact-sql)y el cuadro de diálogo **Propiedades del artículo** .</span><span class="sxs-lookup"><span data-stu-id="11420-192">The property can be set to one of four values using [sp_addmergearticle](/sql/relational-databases/system-stored-procedures/sp-addmergearticle-transact-sql), [sp_changemergearticle](/sql/relational-databases/system-stored-procedures/sp-changemergearticle-transact-sql), and the **Article Properties** dialog box.</span></span> <span data-ttu-id="11420-193">La propiedad se puede establecer en uno de dos valores en los cuadros de diálogo **Agregar filtro** o **Editar filtro** , disponibles desde el Asistente para nueva publicación y el cuadro de diálogo **Propiedades de la publicación** .</span><span class="sxs-lookup"><span data-stu-id="11420-193">The property can be set to one of two values using the **Add Filter** or **Edit Filter** dialog boxes, which are available from the New Publication Wizard and the **Publication Properties** dialog box.</span></span> <span data-ttu-id="11420-194">La tabla siguiente resume los valores disponibles:</span><span class="sxs-lookup"><span data-stu-id="11420-194">The following table summarizes the available values:</span></span>  
  
|<span data-ttu-id="11420-195">Descripción</span><span class="sxs-lookup"><span data-stu-id="11420-195">Description</span></span>|<span data-ttu-id="11420-196">Valor en Agregar filtro y Editar filtro</span><span class="sxs-lookup"><span data-stu-id="11420-196">Value in Add Filter and Edit Filter</span></span>|<span data-ttu-id="11420-197">Valor en Propiedades del artículo</span><span class="sxs-lookup"><span data-stu-id="11420-197">Value in Article Properties</span></span>|<span data-ttu-id="11420-198">Valor en procedimientos almacenados</span><span class="sxs-lookup"><span data-stu-id="11420-198">Value in stored procedures</span></span>|  
|-----------------|-----------------------------------------|---------------------------------|--------------------------------|  
|<span data-ttu-id="11420-199">Los datos de las particiones se superponen y el suscriptor puede actualizar las columnas a las que se hace referencia en un filtro con parámetros.</span><span class="sxs-lookup"><span data-stu-id="11420-199">Data in the partitions is overlapping, and the Subscriber can update columns referenced in a parameterized filter.</span></span>|<span data-ttu-id="11420-200">**Una fila de esta tabla irá a varias suscripciones**</span><span class="sxs-lookup"><span data-stu-id="11420-200">**A row from this table will go to multiple subscriptions**</span></span>|<span data-ttu-id="11420-201">**Superpuestas**</span><span class="sxs-lookup"><span data-stu-id="11420-201">**Overlapping**</span></span>|<span data-ttu-id="11420-202">**0**</span><span class="sxs-lookup"><span data-stu-id="11420-202">**0**</span></span>|  
|<span data-ttu-id="11420-203">Los datos de las particiones se superponen y el suscriptor no puede actualizar las columnas a las que se hace referencia en un filtro con parámetros.</span><span class="sxs-lookup"><span data-stu-id="11420-203">Data in the partitions is overlapping, and the Subscriber cannot update columns referenced in a parameterized filter.</span></span>|<span data-ttu-id="11420-204">N/A<sup>1</sup></span><span class="sxs-lookup"><span data-stu-id="11420-204">N/A<sup>1</sup></span></span>|<span data-ttu-id="11420-205">**Superpuestas, no permitir cambios de datos fuera de la partición**</span><span class="sxs-lookup"><span data-stu-id="11420-205">**Overlapping, disallow out-of-partition data changes**</span></span>|<span data-ttu-id="11420-206">**1**</span><span class="sxs-lookup"><span data-stu-id="11420-206">**1**</span></span>|  
|<span data-ttu-id="11420-207">Los datos de las particiones no se superponen y los datos se comparten entre las suscripciones.</span><span class="sxs-lookup"><span data-stu-id="11420-207">Data in the partitions is not overlapping, and the data is shared between subscriptions.</span></span> <span data-ttu-id="11420-208">El suscriptor no puede actualizar columnas a las que se hace referencia en un filtro con parámetros.</span><span class="sxs-lookup"><span data-stu-id="11420-208">The Subscriber cannot update columns referenced in a parameterized filter.</span></span>|<span data-ttu-id="11420-209">N/A<sup>1</sup></span><span class="sxs-lookup"><span data-stu-id="11420-209">N/A<sup>1</sup></span></span>|<span data-ttu-id="11420-210">**No superpuestas, compartir entre suscripciones**</span><span class="sxs-lookup"><span data-stu-id="11420-210">**Nonoverlapping, shared between subscriptions**</span></span>|<span data-ttu-id="11420-211">**2**</span><span class="sxs-lookup"><span data-stu-id="11420-211">**2**</span></span>|  
|<span data-ttu-id="11420-212">Los datos de las particiones no se superponen y hay una sola suscripción por partición.</span><span class="sxs-lookup"><span data-stu-id="11420-212">Data in the partitions is not overlapping, and there is a single subscription per partition.</span></span> <span data-ttu-id="11420-213">El suscriptor no puede actualizar las columnas a las que se hace referencia en un filtro con parámetros. <sup>2</sup></span><span class="sxs-lookup"><span data-stu-id="11420-213">The Subscriber cannot update columns referenced in a parameterized filter.<sup>2</sup></span></span>|<span data-ttu-id="11420-214">**Una fila de esta tabla irá a una sola suscripción**</span><span class="sxs-lookup"><span data-stu-id="11420-214">**A row from this table will go to only one subscription**</span></span>|<span data-ttu-id="11420-215">**No superpuestas, una sola suscripción**</span><span class="sxs-lookup"><span data-stu-id="11420-215">**Nonoverlapping, single subscription**</span></span>|<span data-ttu-id="11420-216">**3**</span><span class="sxs-lookup"><span data-stu-id="11420-216">**3**</span></span>|  
  
 <span data-ttu-id="11420-217"><sup>1</sup> si la opción de filtrado subyacente se establece en **0**, **1**o **2**, los cuadros de diálogo **Agregar filtro** y **Editar filtro** mostrarán **una fila de esta tabla irá a varias suscripciones**.</span><span class="sxs-lookup"><span data-stu-id="11420-217"><sup>1</sup> If the underlying filtering option is set to **0**, or **1**, or **2**, the **Add Filter** and **Edit Filter** dialog boxes will display **A row from this table will go to multiple subscriptions**.</span></span>  
  
 <span data-ttu-id="11420-218"><sup>2</sup> si especifica esta opción, solo puede haber una suscripción para cada partición de datos de ese artículo.</span><span class="sxs-lookup"><span data-stu-id="11420-218"><sup>2</sup> If you specify this option, there can only be a single subscription for each partition of data in that article.</span></span> <span data-ttu-id="11420-219">Si se crea una segunda partición en la que el criterio de filtrado de la nueva suscripción se resuelve en la misma partición que la suscripción existente, se quitará la suscripción existente.</span><span class="sxs-lookup"><span data-stu-id="11420-219">If a second subscription is created in which the filtering criterion of the new subscription resolves to the same partition as the existing subscription, the existing subscription is dropped.</span></span>  
  
> [!IMPORTANT]  
>  <span data-ttu-id="11420-220">El valor de **partition options** debe establecerse en función de cómo comparten los datos los suscriptores.</span><span class="sxs-lookup"><span data-stu-id="11420-220">The **partition options** value must be set according to how data is shared by Subscribers.</span></span> <span data-ttu-id="11420-221">Por ejemplo, si especifica una partición sin superposición con una sola suscripción por partición, pero después actualiza los datos en otro suscriptor, se puede producir un error en el Agente de mezcla durante la sincronización y dar lugar a una falta de convergencia.</span><span class="sxs-lookup"><span data-stu-id="11420-221">If, for example, you specify that a partition is nonoverlapping with a single subscription per partition, but data is then updated at another Subscriber, the Merge Agent can fail during synchronization and non-convergence can occur.</span></span>  
  
#### <a name="selecting-the-appropriate-partition-option"></a><span data-ttu-id="11420-222">Seleccionar la opción de partición apropiada</span><span class="sxs-lookup"><span data-stu-id="11420-222">Selecting the Appropriate Partition Option</span></span>  
 <span data-ttu-id="11420-223">Las particiones no superpuestas funcionan en combinación con las particiones precalculadas para mejorar el rendimiento en situaciones en las que se admiten algunas limitaciones funcionales.</span><span class="sxs-lookup"><span data-stu-id="11420-223">Nonoverlapping partitions work in conjunction with precomputed partitions to improve performance in situations where some functional limitations are acceptable.</span></span> <span data-ttu-id="11420-224">Las particiones precalculadas aceleran la descarga de datos para los suscriptores, pero hacen más lenta la carga.</span><span class="sxs-lookup"><span data-stu-id="11420-224">Precomputed partitions quicken downloads to Subscribers, but slow uploads.</span></span> <span data-ttu-id="11420-225">Las particiones no superpuestas minimizan el costo de carga asociado a las particiones precalculadas.</span><span class="sxs-lookup"><span data-stu-id="11420-225">Nonoverlapping partitions minimize the upload cost associated with precomputed partitions.</span></span> <span data-ttu-id="11420-226">La ventaja en el rendimiento de las particiones no superpuestas es más evidente cuando los filtros con parámetros y de combinación utilizados son más complejos.</span><span class="sxs-lookup"><span data-stu-id="11420-226">The performance benefit of nonoverlapping partitions is more noticeable when the parameterized filters and join filters used are more complex.</span></span>  
  
 <span data-ttu-id="11420-227">Tenga en cuenta los siguientes escenarios al decidir qué opciones de partición debe utilizar en una publicación.</span><span class="sxs-lookup"><span data-stu-id="11420-227">Consider the following scenarios when deciding which partition options to use in a publication.</span></span>  
  
-   [!INCLUDE[ssSampleDBCoShort](../../../includes/sssampledbcoshort-md.md)] <span data-ttu-id="11420-228">tiene un equipo de ventas móvil en el que cada vendedor es responsable de los clientes de un código postal determinado.</span><span class="sxs-lookup"><span data-stu-id="11420-228">has a mobile sales force with each sales person responsible for customers in a given zip code.</span></span> <span data-ttu-id="11420-229">La aplicación requiere que se actualice el código postal si un cliente se traslada de un área de ventas a otra, para poder asignar el cliente a otro vendedor.</span><span class="sxs-lookup"><span data-stu-id="11420-229">The application requires that  the zip code be updated if a customer moves from one sales territory to another, so that the customer is assigned to a different sales person.</span></span> <span data-ttu-id="11420-230">El filtro con parámetros se basa en el código postal del cliente, y la actualización quita el código postal de la partición de un vendedor y lo inserta en la partición de otro vendedor.</span><span class="sxs-lookup"><span data-stu-id="11420-230">The parameterized filter is based on the customer's zip code, and the update removes the zip code from one sales person's partition and inserts it into another sales person's partition.</span></span> <span data-ttu-id="11420-231">Para esto, se requieren particiones superpuestas y la capacidad de actualizar columnas a las que se hace referencia en un filtro con parámetros.</span><span class="sxs-lookup"><span data-stu-id="11420-231">This requires overlapping partitions with the ability to update columns referenced in a parameterized filter.</span></span> <span data-ttu-id="11420-232">Esta opción proporciona la máxima flexibilidad, pero es posible que no funcione tan bien con particiones no superpuestas.</span><span class="sxs-lookup"><span data-stu-id="11420-232">This option maximizes flexibility but might not perform as well as nonoverlapping partitions.</span></span>  
  
-   <span data-ttu-id="11420-233">Una agencia de empleo suministra datos a las oficinas regionales de cada condado del estado.</span><span class="sxs-lookup"><span data-stu-id="11420-233">An employment agency has data that is supplied to regional offices in each county of the state.</span></span> <span data-ttu-id="11420-234">Los datos no se superponen; cada fila de la tabla de la oficina principal de la agencia está incluida en una sola partición, pero esa partición se envía a varias oficinas del mismo condado.</span><span class="sxs-lookup"><span data-stu-id="11420-234">The data does not overlap; each row in the table at the agency's headquarters is included in only one partition, but that partition is sent to multiple offices in the same county.</span></span> <span data-ttu-id="11420-235">Es apropiado utilizar la opción de particiones no superpuestas con las particiones compartidas entre suscripciones, lo que proporciona una mejora en el rendimiento en comparación con las particiones superpuestas, a la vez que satisface los requisitos de la aplicación.</span><span class="sxs-lookup"><span data-stu-id="11420-235">The nonoverlapping partition option with partitions shared between subscriptions is appropriate, providing a performance improvement over overlapping partitions while satisfying the application requirements.</span></span>  
  
-   <span data-ttu-id="11420-236">Si tiene particiones no superpuestas y solo una suscripción recibe y actualiza los datos de una partición, puede obtener ventajas adicionales en el rendimiento.</span><span class="sxs-lookup"><span data-stu-id="11420-236">If you have nonoverlapping partitions and only one subscription receives and updates the data in a partition, further performance benefits can be realized.</span></span> <span data-ttu-id="11420-237">Este escenario es común para los sistemas de punto de venta y las aplicaciones de personal de campo en las que los datos se recopilan principalmente en el suscriptor y se cargan en el publicador.</span><span class="sxs-lookup"><span data-stu-id="11420-237">This scenario is common for point of sale systems, and field force applications in which data is primarily collected at the Subscriber and uploaded to the Publisher.</span></span> <span data-ttu-id="11420-238">Considere una tabla **Package** en una aplicación de entrega: a medida que se cargan los paquetes en un camión, el estado de cada paquete cambia en la tabla **Package** , y el cambio se replica en la oficina principal.</span><span class="sxs-lookup"><span data-stu-id="11420-238">Consider a **Package** table in a delivery application: as each package is loaded onto a truck, the status of the package is changed in the **Package** table, and the change is replicated back to headquarters.</span></span> <span data-ttu-id="11420-239">Los conductores no actualizan el estado del mismo paquete en dos camiones distintos, por lo que la tabla **Package** es un buen candidato para una partición no superpuesta con una sola suscripción por partición.</span><span class="sxs-lookup"><span data-stu-id="11420-239">Drivers would not update the status of the same package on two different trucks, so the **Package** table is a good candidate for a nonoverlapping partition with a single subscription per partition.</span></span>  
  
#### <a name="considerations-for-nonoverlapping-partitions"></a><span data-ttu-id="11420-240">Consideraciones para particiones no superpuestas</span><span class="sxs-lookup"><span data-stu-id="11420-240">Considerations for Nonoverlapping Partitions</span></span>  
 <span data-ttu-id="11420-241">Tenga en cuenta las consideraciones siguientes al utilizar particiones no superpuestas:</span><span class="sxs-lookup"><span data-stu-id="11420-241">Keep the following considerations in mind when using nonoverlapping partitions.</span></span>  
  
##### <a name="general-considerations"></a><span data-ttu-id="11420-242">Consideraciones generales</span><span class="sxs-lookup"><span data-stu-id="11420-242">General Considerations</span></span>  
  
-   <span data-ttu-id="11420-243">La publicación debe utilizar particiones precalculadas.</span><span class="sxs-lookup"><span data-stu-id="11420-243">The publication must use precomputed partitions.</span></span>  
  
-   <span data-ttu-id="11420-244">Una fila debe pertenecer a una sola partición.</span><span class="sxs-lookup"><span data-stu-id="11420-244">A row must belong to only one partition.</span></span>  
  
-   <span data-ttu-id="11420-245">Los artículos no pueden formar parte de un registro lógico.</span><span class="sxs-lookup"><span data-stu-id="11420-245">Articles cannot be part of a logical record.</span></span>  
  
-   <span data-ttu-id="11420-246">No se admiten otros asociados de sincronización (esta característica ha quedado desusada).</span><span class="sxs-lookup"><span data-stu-id="11420-246">Alternate synchronization partners are not supported (this feature is deprecated).</span></span>  
  
-   <span data-ttu-id="11420-247">El suscriptor no puede actualizar columnas a las que se hace referencia en un filtro con parámetros.</span><span class="sxs-lookup"><span data-stu-id="11420-247">The Subscriber cannot update columns referenced in a parameterized filter.</span></span>  
  
-   <span data-ttu-id="11420-248">Si una inserción en un suscriptor no pertenece a la partición, no se eliminará.</span><span class="sxs-lookup"><span data-stu-id="11420-248">If an insert at a Subscriber does not belong to the partition, it is not deleted.</span></span> <span data-ttu-id="11420-249">Sin embargo, tampoco se replicará en otros suscriptores.</span><span class="sxs-lookup"><span data-stu-id="11420-249">However, it will not be replicated to other Subscribers.</span></span>  
  
-   <span data-ttu-id="11420-250">En algunas circunstancias con particiones superpuestas, los intervalos de identidad se ajustan cuando el Agente de mezcla inserta datos.</span><span class="sxs-lookup"><span data-stu-id="11420-250">In some circumstances with overlapping partitions, identity ranges are adjusted when the Merge Agent inserts data.</span></span> <span data-ttu-id="11420-251">Con las particiones no superpuestas, los intervalos solo se pueden ajustar durante las inserciones realizadas por un usuario con permisos para ajustar intervalos de identidad en la base de datos de suscripciones.</span><span class="sxs-lookup"><span data-stu-id="11420-251">With nonoverlapping partitions, ranges can only be adjusted during inserts by a user who has permission to adjust identity ranges in the subscription database.</span></span> <span data-ttu-id="11420-252">El usuario debe ser el propietario de la tabla o debe ser miembro del rol fijo de servidor **sysadmin** , del rol fijo de base de datos **db_owner** o del rol fijo de base de datos **db_ddladmin** .</span><span class="sxs-lookup"><span data-stu-id="11420-252">The user must either own the table, or be a member of the **sysadmin** fixed server role, the **db_owner** fixed database role, or the **db_ddladmin** fixed database role.</span></span>  
  
##### <a name="additional-considerations-for-nonoverlapping-partitions-with-a-single-subscription-per-partition"></a><span data-ttu-id="11420-253">Otras consideraciones para las particiones no superpuestas con una sola suscripción por partición</span><span class="sxs-lookup"><span data-stu-id="11420-253">Additional Considerations for Nonoverlapping Partitions with a Single Subscription per Partition</span></span>  
  
-   <span data-ttu-id="11420-254">Los artículos solo pueden existir en una publicación y no se pueden volver a publicar.</span><span class="sxs-lookup"><span data-stu-id="11420-254">Articles can exist in only one publication; articles cannot be republished.</span></span>  
  
-   <span data-ttu-id="11420-255">La publicación debe permitir que los suscriptores inicien el proceso de instantánea.</span><span class="sxs-lookup"><span data-stu-id="11420-255">The publication must allow Subscribers to initiate the snapshot process.</span></span> <span data-ttu-id="11420-256">Para más información, consulte [Instantáneas para publicaciones de combinación con filtros con parámetros](../snapshots-for-merge-publications-with-parameterized-filters.md).</span><span class="sxs-lookup"><span data-stu-id="11420-256">For more information, see [Snapshots for Merge Publications with Parameterized Filters](../snapshots-for-merge-publications-with-parameterized-filters.md).</span></span>  
  
##### <a name="additional-considerations-for-join-filters"></a><span data-ttu-id="11420-257">Otras consideraciones para los filtros de combinación</span><span class="sxs-lookup"><span data-stu-id="11420-257">Additional Considerations for Join Filters</span></span>  
  
-   <span data-ttu-id="11420-258">En una jerarquía de filtros de combinación, un artículo con una partición superpuesta no puede aparecer por encima de un artículo con una partición no superpuesta.</span><span class="sxs-lookup"><span data-stu-id="11420-258">In a join filter hierarchy, an article with an overlapping partition cannot appear above an article with a nonoverlapping partition.</span></span> <span data-ttu-id="11420-259">Es decir, un artículo primario debe usar particiones no superpuestas si las utiliza el artículo secundario.</span><span class="sxs-lookup"><span data-stu-id="11420-259">In other words, a parent article must use nonoverlapping partitions if the child article does.</span></span> <span data-ttu-id="11420-260">Para obtener información acerca de los filtros de combinación, vea [Join Filters](join-filters.md).</span><span class="sxs-lookup"><span data-stu-id="11420-260">For information about join filters, see [Join Filters](join-filters.md).</span></span>  
  
-   <span data-ttu-id="11420-261">Un filtro de combinación en el que la partición no superpuesta es un proceso secundario debe tener la propiedad **join unique key** establecida en 1.</span><span class="sxs-lookup"><span data-stu-id="11420-261">A join filter in which the nonoverlapping partition is a child must have the **join unique key** property set to 1.</span></span> <span data-ttu-id="11420-262">Para obtener más información, consulte [Join Filters](join-filters.md).</span><span class="sxs-lookup"><span data-stu-id="11420-262">For more information, see [Join Filters](join-filters.md).</span></span>  
  
-   <span data-ttu-id="11420-263">El artículo solamente debe tener un filtro con parámetros o un filtro de combinación.</span><span class="sxs-lookup"><span data-stu-id="11420-263">The article should only have one parameterized filter or join filter.</span></span> <span data-ttu-id="11420-264">Se admite tener un filtro con parámetros y ser el proceso primario en un filtro de combinación.</span><span class="sxs-lookup"><span data-stu-id="11420-264">Having a parameterized filter and being the parent in a join filter is allowed.</span></span> <span data-ttu-id="11420-265">No se permite tener un filtro con parámetros y ser el proceso secundario en un filtro de combinación.</span><span class="sxs-lookup"><span data-stu-id="11420-265">Having a parameterized filter and being the child in a join filter is not allowed.</span></span> <span data-ttu-id="11420-266">Tampoco se permite tener más de un filtro de combinación.</span><span class="sxs-lookup"><span data-stu-id="11420-266">Having more than one join filter is also not allowed.</span></span>  
  
-   <span data-ttu-id="11420-267">Si dos tablas del publicador tienen una relación de filtro de combinación y la tabla secundaria tiene filas que no tienen una fila correspondiente en la tabla primaria, la inserción de la fila que falta en la tabla primaria no hará que las filas relacionadas se descarguen al suscriptor (las filas se descargarían con particiones superpuestas).</span><span class="sxs-lookup"><span data-stu-id="11420-267">If two tables at the Publisher have a join filter relationship and the child table has rows that have no corresponding row in the parent table, an insert of the missing parent row will not result in the related rows being downloaded to the Subscriber (the rows would be downloaded with overlapping partitions).</span></span> <span data-ttu-id="11420-268">Por ejemplo, si la tabla **SalesOrderDetail** tiene filas sin una fila correspondiente en la tabla **SalesOrderHeader** , e inserta la fila que falta en **SalesOrderHeader**, la fila se descargará en el suscriptor, pero las filas correspondientes en **SalesOrderDetail** no lo harán.</span><span class="sxs-lookup"><span data-stu-id="11420-268">For example, if the **SalesOrderDetail** table has rows with no corresponding row in the **SalesOrderHeader** table, and you insert the missing row in **SalesOrderHeader**, the row is downloaded to the Subscriber, but the corresponding rows in **SalesOrderDetail** are not.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="11420-269">Consulte también</span><span class="sxs-lookup"><span data-stu-id="11420-269">See Also</span></span>  
 <span data-ttu-id="11420-270">[Prácticas recomendadas para filtros de fila basados en el tiempo](best-practices-for-time-based-row-filters.md) </span><span class="sxs-lookup"><span data-stu-id="11420-270">[Best Practices for Time-Based Row Filters](best-practices-for-time-based-row-filters.md) </span></span>  
 <span data-ttu-id="11420-271">[Filtrar datos publicados](../publish/filter-published-data.md) </span><span class="sxs-lookup"><span data-stu-id="11420-271">[Filter Published Data](../publish/filter-published-data.md) </span></span>  
 [<span data-ttu-id="11420-272">Filtrar datos publicados para la replicación de mezcla</span><span class="sxs-lookup"><span data-stu-id="11420-272">Filter Published Data for Merge Replication</span></span>](filter-published-data-for-merge-replication.md)  
  
  
