---
title: Aumentar el rendimiento de la replicación general | Microsoft Docs
ms.custom: ''
ms.date: 03/08/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: replication
ms.topic: conceptual
helpviewer_keywords:
- publications [SQL Server replication], design and performance
- designing databases [SQL Server], replication performance
- Snapshot Agent, performance
- snapshots [SQL Server replication], performance considerations
- merge replication performance [SQL Server replication]
- snapshot replication [SQL Server], performance
- subscriptions [SQL Server replication], performance considerations
- agents [SQL Server replication], performance
- performance [SQL Server replication], general considerations
- transactional replication, performance
ms.assetid: 895b1ad7-ffb9-4a5c-bda6-e1dfbd56d9bf
author: MashaMSFT
ms.author: mathoma
ms.openlocfilehash: 0a85519a947e7d5d03f324b71984d2ffb40bcefe
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 08/04/2020
ms.locfileid: "87750777"
---
# <a name="enhance-general-replication-performance"></a><span data-ttu-id="d1c40-102">Aumentar el rendimiento de la replicación general</span><span class="sxs-lookup"><span data-stu-id="d1c40-102">Enhance General Replication Performance</span></span>
  <span data-ttu-id="d1c40-103">Puede aumentar el rendimiento general de todos los tipos de replicación en su aplicación y en la red siguiendo las directrices descritas en este tema.</span><span class="sxs-lookup"><span data-stu-id="d1c40-103">You can enhance the general performance for all types of replication in your application and on your network by using the guidelines described in this topic.</span></span>  
  
## <a name="server-and-network"></a><span data-ttu-id="d1c40-104">Servidor y red</span><span class="sxs-lookup"><span data-stu-id="d1c40-104">Server and Network</span></span>  
  
-   <span data-ttu-id="d1c40-105">Defina la cantidad mínima y máxima de memoria asignada a [!INCLUDE[msCoName](../../../includes/msconame-md.md)] [!INCLUDE[ssDEnoversion](../../../includes/ssdenoversion-md.md)].</span><span class="sxs-lookup"><span data-stu-id="d1c40-105">Set the minimum and maximum amount of memory allocated to [!INCLUDE[msCoName](../../../includes/msconame-md.md)] [!INCLUDE[ssDEnoversion](../../../includes/ssdenoversion-md.md)].</span></span>  
  
     <span data-ttu-id="d1c40-106">De forma predeterminada, el [!INCLUDE[ssDE](../../../includes/ssde-md.md)] cambia dinámicamente sus necesidades de memoria según los recursos del sistema disponibles.</span><span class="sxs-lookup"><span data-stu-id="d1c40-106">By default, the [!INCLUDE[ssDE](../../../includes/ssde-md.md)] changes its memory requirements dynamically based on available system resources.</span></span> <span data-ttu-id="d1c40-107">Para evitar la disponibilidad insuficiente de memoria durante las actividades de replicación, utilice la opción **min server memory** para establecer la memoria mínima disponible.</span><span class="sxs-lookup"><span data-stu-id="d1c40-107">To avoid low memory availability during replication activities, use the **min server memory** option to set the minimum available memory.</span></span> <span data-ttu-id="d1c40-108">Para evitar que el sistema operativo tenga que paginar en el disco para disponer de memoria, puede definir también una cantidad máxima de memoria con la opción **max server memory** .</span><span class="sxs-lookup"><span data-stu-id="d1c40-108">To avoid having the operating system page to disc for memory, you can also set a maximum amount of memory with the **max server memory** option.</span></span> <span data-ttu-id="d1c40-109">Para obtener más información, consulte [Opciones de configuración del servidor de memoria del servidor](../../../database-engine/configure-windows/server-memory-server-configuration-options.md).</span><span class="sxs-lookup"><span data-stu-id="d1c40-109">For more information, see [Server Memory Server Configuration Options](../../../database-engine/configure-windows/server-memory-server-configuration-options.md).</span></span>  
  
-   <span data-ttu-id="d1c40-110">Garantice una asignación adecuada de los archivos de datos y los archivos de registro de la base de datos.</span><span class="sxs-lookup"><span data-stu-id="d1c40-110">Ensure proper allocation of database data files and log files.</span></span> <span data-ttu-id="d1c40-111">Utilice una unidad de disco independiente para el registro de transacciones de todas las bases de datos implicadas en la replicación.</span><span class="sxs-lookup"><span data-stu-id="d1c40-111">Use a separate disk drive for the transaction log for all databases involved in replication.</span></span>  
  
     <span data-ttu-id="d1c40-112">Puede reducir el tiempo que se tarda en escribir las transacciones si almacena los archivos de registro en una unidad de disco diferente de la unidad en la que almacena la base de datos.</span><span class="sxs-lookup"><span data-stu-id="d1c40-112">You can decrease the time it takes to write transactions by storing the log files on a disk drive different than the one used to store the database.</span></span> <span data-ttu-id="d1c40-113">Puede reflejar esa unidad mediante una matriz redundante de discos económicos (RAID-1) si requiere tolerancia a errores.</span><span class="sxs-lookup"><span data-stu-id="d1c40-113">You can mirror that drive, using a Redundant Array of Inexpensive Disks (RAID)-1, if you require fault tolerance.</span></span> <span data-ttu-id="d1c40-114">Utilice RAID 0 ó 0+1 (según el grado de tolerancia a errores necesario) con otros archivos de la base de datos.</span><span class="sxs-lookup"><span data-stu-id="d1c40-114">Use RAID 0 or 0+1 (depending on your need for fault tolerance) for other database files.</span></span> <span data-ttu-id="d1c40-115">Esta práctica es recomendable con independencia de si se utiliza o no la replicación.</span><span class="sxs-lookup"><span data-stu-id="d1c40-115">This is a good practice regardless of whether or not replication is being used.</span></span>  
  
-   <span data-ttu-id="d1c40-116">Considere la posibilidad de agregar memoria a los servidores que se usan en la replicación, en especial al distribuidor.</span><span class="sxs-lookup"><span data-stu-id="d1c40-116">Consider adding memory to servers used in replication, particularly the Distributor.</span></span>  
  
-   <span data-ttu-id="d1c40-117">Utilice equipos con varios procesadores.</span><span class="sxs-lookup"><span data-stu-id="d1c40-117">Use multiprocessor computers.</span></span>  
  
     <span data-ttu-id="d1c40-118">Los agentes de replicación pueden aprovechar los procesadores adicionales del servidor.</span><span class="sxs-lookup"><span data-stu-id="d1c40-118">Replication agents can take advantage of additional processors on the server.</span></span> <span data-ttu-id="d1c40-119">Si la CPU tiene un uso intensivo, considere la posibilidad de instalar una CPU más rápida o varias CPU.</span><span class="sxs-lookup"><span data-stu-id="d1c40-119">If you are running at high CPU usage, consider installing a faster CPU or multiple CPUs.</span></span>  
  
-   <span data-ttu-id="d1c40-120">Utilice una red rápida.</span><span class="sxs-lookup"><span data-stu-id="d1c40-120">Use a fast network.</span></span>  
  
     <span data-ttu-id="d1c40-121">La red puede suponer un cuello de botella importante para el rendimiento, en especial para la replicación transaccional.</span><span class="sxs-lookup"><span data-stu-id="d1c40-121">The network can be a significant performance bottleneck, particularly for transactional replication.</span></span> <span data-ttu-id="d1c40-122">La propagación de cambios a los suscriptores puede mejorarse significativamente utilizando una red rápida de 100 Mbps o superior.</span><span class="sxs-lookup"><span data-stu-id="d1c40-122">The propagation of changes to Subscribers can be significantly enhanced by using a fast network of 100 megabits per second (Mbps) or faster.</span></span> <span data-ttu-id="d1c40-123">Si la red es lenta, especifique una configuración de red y parámetros de agente apropiados.</span><span class="sxs-lookup"><span data-stu-id="d1c40-123">If the network is slow, specify appropriate network settings and agent parameters.</span></span>  
  
## <a name="database-design"></a><span data-ttu-id="d1c40-124">Diseño de la base de datos</span><span class="sxs-lookup"><span data-stu-id="d1c40-124">Database Design</span></span>  
  
-   <span data-ttu-id="d1c40-125">Siga las prácticas recomendadas para el diseño de la base de datos.</span><span class="sxs-lookup"><span data-stu-id="d1c40-125">Follow best practices for database design.</span></span>  
  
     <span data-ttu-id="d1c40-126">Una base de datos replicada por lo general se beneficia de las mismas optimizaciones de rendimiento que una base de datos no replicada.</span><span class="sxs-lookup"><span data-stu-id="d1c40-126">A replicated database generally benefits from the same performance optimizations as a non-replicated database.</span></span> <span data-ttu-id="d1c40-127">No obstante, los índices deben utilizarse con precaución en el suscriptor: la columna de clave principal del suscriptor debe indizarse, pero los índices adicionales pueden afectar al rendimiento de inserción, actualización y eliminación.</span><span class="sxs-lookup"><span data-stu-id="d1c40-127">However, indexes should be used with caution at the Subscriber: the primary key column at the Subscriber should be indexed, but additional indexes can affect insert, update, and delete performance.</span></span>  
  
-   <span data-ttu-id="d1c40-128">Considere la posibilidad de establecer la opción READ_COMMITTED_SNAPSHOT de la base de datos.</span><span class="sxs-lookup"><span data-stu-id="d1c40-128">Consider setting the READ_COMMITTED_SNAPSHOT database option.</span></span>  
  
     <span data-ttu-id="d1c40-129">Para ayudar a reducir la contención entre la actividad de los usuarios y la actividad del agente de replicación, configure esta opción para las bases de datos de suscripciones y publicaciones:</span><span class="sxs-lookup"><span data-stu-id="d1c40-129">To help reduce contention between user activity and replication agent activity, set this option for the publication and subscription databases:</span></span>  
  
    ```  
    ALTER DATABASE AdventureWorks  
    SET READ_COMMITTED_SNAPSHOT ON  
    ```  
  
     <span data-ttu-id="d1c40-130">Para obtener más información, vea [ALTER DATABASE &#40;Transact-SQL&#41;](/sql/t-sql/statements/alter-database-transact-sql).</span><span class="sxs-lookup"><span data-stu-id="d1c40-130">For more information, see [ALTER DATABASE &#40;Transact-SQL&#41;](/sql/t-sql/statements/alter-database-transact-sql).</span></span>  
  
-   <span data-ttu-id="d1c40-131">Tenga cuidado con la lógica de negocios de los desencadenadores.</span><span class="sxs-lookup"><span data-stu-id="d1c40-131">Be cautious with application logic in triggers.</span></span>  
  
     <span data-ttu-id="d1c40-132">La lógica de negocios de los desencadenadores definidos por el usuario en el Suscriptor puede ralentizar la replicación de los cambios en el suscriptor.</span><span class="sxs-lookup"><span data-stu-id="d1c40-132">Business logic in user-defined triggers at the Subscriber can slow down the replication of changes to the Subscriber:</span></span>  
  
    -   <span data-ttu-id="d1c40-133">En la replicación transaccional, puede ser más eficaz incluir esta lógica en procedimientos almacenados personalizados que se utilizan para aplicar los comandos replicados.</span><span class="sxs-lookup"><span data-stu-id="d1c40-133">For transactional replication, it can be more efficient to include this logic in custom stored procedures used to apply the replicated commands.</span></span> <span data-ttu-id="d1c40-134">Para más información, vea [Especificar cómo se propagan los cambios para los artículos transaccionales](../transactional/transactional-articles-specify-how-changes-are-propagated.md).</span><span class="sxs-lookup"><span data-stu-id="d1c40-134">For more information, see [Specify How Changes Are Propagated for Transactional Articles](../transactional/transactional-articles-specify-how-changes-are-propagated.md).</span></span>  
  
    -   <span data-ttu-id="d1c40-135">En la replicación de mezcla, puede ser más eficaz utilizar controladores de lógica de negocios.</span><span class="sxs-lookup"><span data-stu-id="d1c40-135">For merge replication, it can be more efficient to use business logic handlers.</span></span> <span data-ttu-id="d1c40-136">Para obtener más información, consulte [Ejecutar lógica de negocios durante la sincronización de mezcla](../merge/execute-business-logic-during-merge-synchronization.md).</span><span class="sxs-lookup"><span data-stu-id="d1c40-136">For more information, see [Execute Business Logic During Merge Synchronization](../merge/execute-business-logic-during-merge-synchronization.md).</span></span>  
  
     <span data-ttu-id="d1c40-137">Si utiliza desencadenadores para mantener la integridad referencial en las tablas publicadas para la replicación de mezcla, especifique el orden de procesamiento de las tablas para reducir el número de reintentos requeridos por el Agente de mezcla.</span><span class="sxs-lookup"><span data-stu-id="d1c40-137">If you use triggers to maintain referential integrity in tables published for merge replication, specify the processing order of tables to reduce the number of retries required for the Merge Agent.</span></span> <span data-ttu-id="d1c40-138">Para más información, vea [Specify merge replication properties](../publish/specify-merge-replication-properties.md) (Especificación de propiedades de replicación de mezcla).</span><span class="sxs-lookup"><span data-stu-id="d1c40-138">For more information, see [Specify Merge Replication properties](../publish/specify-merge-replication-properties.md).</span></span>  
  
-   <span data-ttu-id="d1c40-139">Limite el uso de tipos de datos de objetos grandes (LOB).</span><span class="sxs-lookup"><span data-stu-id="d1c40-139">Limit the use of Large Object (LOB) data types.</span></span>  
  
     <span data-ttu-id="d1c40-140">Los LOB requieren más espacio de almacenamiento y procesamiento que otros tipos de datos de columna.</span><span class="sxs-lookup"><span data-stu-id="d1c40-140">LOBs require more storage space and processing than other column data types.</span></span> <span data-ttu-id="d1c40-141">No incluya estas columnas en los artículos a menos que sea necesario para la aplicación.</span><span class="sxs-lookup"><span data-stu-id="d1c40-141">Do not include these columns in articles unless necessary for your application.</span></span> <span data-ttu-id="d1c40-142">Los tipos de datos `text`, `ntext` y `image` han quedado desusados.</span><span class="sxs-lookup"><span data-stu-id="d1c40-142">The data types `text`, `ntext`, and `image` are deprecated.</span></span> <span data-ttu-id="d1c40-143">Si incluye LOB, se recomienda que utilice los tipos de datos `varchar(max)`, `nvarchar(max)` y `varbinary(max)`, respectivamente.</span><span class="sxs-lookup"><span data-stu-id="d1c40-143">If you do include LOBs, we recommend that you use the data types `varchar(max)`, `nvarchar(max)`, `varbinary(max)`, respectively.</span></span>  
  
     <span data-ttu-id="d1c40-144">Para la replicación transaccional, considere la posibilidad de utilizar el perfil de Agente de distribución denominado **Perfil de distribución para secuencias OLEDB**.</span><span class="sxs-lookup"><span data-stu-id="d1c40-144">For transactional replication, consider using the Distribution Agent profile called **Distribution Profile for OLEDB streaming**.</span></span> <span data-ttu-id="d1c40-145">Para obtener más información, consulte [Replication Agent Profiles](../agents/replication-agent-profiles.md).</span><span class="sxs-lookup"><span data-stu-id="d1c40-145">For more information, see [Replication Agent Profiles](../agents/replication-agent-profiles.md).</span></span>  
  
## <a name="publication-design"></a><span data-ttu-id="d1c40-146">Diseño de la publicación</span><span class="sxs-lookup"><span data-stu-id="d1c40-146">Publication Design</span></span>  
  
-   <span data-ttu-id="d1c40-147">Publique solamente los datos necesarios.</span><span class="sxs-lookup"><span data-stu-id="d1c40-147">Publish only the data required.</span></span>  
  
     <span data-ttu-id="d1c40-148">Puesto que la replicación es fácil de configurar, hay cierta tendencia a publicar más datos de los que son realmente necesarios.</span><span class="sxs-lookup"><span data-stu-id="d1c40-148">Because replication is easy to set up, there is a tendency to publish more data than is actually required.</span></span> <span data-ttu-id="d1c40-149">Esto puede consumir recursos adicionales en las bases de datos de distribución y en los archivos de instantáneas, y puede reducir el rendimiento de los datos requeridos.</span><span class="sxs-lookup"><span data-stu-id="d1c40-149">This can consume additional resources within the distribution databases and snapshot files, and can lower the throughput for required data.</span></span> <span data-ttu-id="d1c40-150">Evite publicar tablas innecesarias y considere actualizar las publicaciones con menor frecuencia.</span><span class="sxs-lookup"><span data-stu-id="d1c40-150">Avoid publishing unnecessary tables and consider updating publications less frequently.</span></span>  
  
-   <span data-ttu-id="d1c40-151">Minimice los conflictos a través del diseño de publicaciones y el comportamiento de la aplicación.</span><span class="sxs-lookup"><span data-stu-id="d1c40-151">Minimize conflicts through publication design and application behavior.</span></span>  
  
     <span data-ttu-id="d1c40-152">Los siguientes tipos de replicación permiten cambiar los datos en los suscriptores: replicación de mezcla, replicación transaccional con suscripciones actualizables y replicación transaccional punto a punto.</span><span class="sxs-lookup"><span data-stu-id="d1c40-152">The following types of replication allow data to be changed at Subscribers: merge replication, transactional replication with updatable subscriptions, and peer-to-peer transactional replication.</span></span> <span data-ttu-id="d1c40-153">La replicación de mezcla y la replicación transaccional con suscripciones actualizables admiten conflictos de datos si se actualiza una fila determinada en varios nodos entre las sincronizaciones.</span><span class="sxs-lookup"><span data-stu-id="d1c40-153">Merge replication and transactional replication with updatable subscriptions support data conflicts if a given row is updated at more than one node between synchronizations.</span></span> <span data-ttu-id="d1c40-154">La replicación punto a punto no admite los conflictos de datos; los cambios en los datos deben particionarse.</span><span class="sxs-lookup"><span data-stu-id="d1c40-154">Peer-to-peer replication does not support data conflicts; data changes must be partitioned.</span></span> <span data-ttu-id="d1c40-155">Independientemente del tipo de replicación utilizada, se recomienda realizar particiones de los cambios siempre que sea posible, ya que así se reduce el procesamiento necesario para la detección y resolución de conflictos.</span><span class="sxs-lookup"><span data-stu-id="d1c40-155">Regardless of the type of replication used, we recommend that you partition changes whenever possible, because this reduces the processing required for conflict detection and resolution.</span></span>  
  
     <span data-ttu-id="d1c40-156">Para realizar particiones de cambios se pueden publicar subconjuntos de datos en cada suscriptor o hacer que una aplicación dirija los cambios de una fila determinada a un nodo en concreto:</span><span class="sxs-lookup"><span data-stu-id="d1c40-156">Changes can be partitioned by publishing subsets of data to each Subscriber or by having an application direct changes for a given row to a given node:</span></span>  
  
    -   <span data-ttu-id="d1c40-157">La replicación de mezcla admite la publicación de subconjuntos de datos utilizando filtros con parámetros con una sola publicación.</span><span class="sxs-lookup"><span data-stu-id="d1c40-157">Merge replication supports publishing subsets of data using parameterized filters with a single publication.</span></span> <span data-ttu-id="d1c40-158">Para obtener más información, consulte [Filtros de fila con parámetros](../merge/parameterized-filters-parameterized-row-filters.md).</span><span class="sxs-lookup"><span data-stu-id="d1c40-158">For more information, see [Parameterized Row Filters](../merge/parameterized-filters-parameterized-row-filters.md).</span></span>  
  
    -   <span data-ttu-id="d1c40-159">La replicación transaccional admite la publicación de subconjuntos de datos utilizando filtros estáticos con varias publicaciones.</span><span class="sxs-lookup"><span data-stu-id="d1c40-159">Transactional replication supports publishing subsets of data using static filters with multiple publications.</span></span> <span data-ttu-id="d1c40-160">Para obtener más información, vea [Filtrar datos publicados](../publish/filter-published-data.md).</span><span class="sxs-lookup"><span data-stu-id="d1c40-160">For more information, see [Filter Published Data](../publish/filter-published-data.md).</span></span>  
  
-   <span data-ttu-id="d1c40-161">Utilice los filtros de fila con prudencia.</span><span class="sxs-lookup"><span data-stu-id="d1c40-161">Use row filters judiciously.</span></span>  
  
     <span data-ttu-id="d1c40-162">Cuando una publicación transaccional incluye uno o varios artículos que utilizan filtros de fila, el Agente de registro del LOG tiene que aplicar el filtro a cada fila afectada por una actualización de la tabla conforme examina el registro de transacciones.</span><span class="sxs-lookup"><span data-stu-id="d1c40-162">When a transactional publication includes one or more articles that use row filters, the Log Reader Agent must apply the filter to each row affected by an update to the table as it scans the transaction log.</span></span> <span data-ttu-id="d1c40-163">Por tanto, el rendimiento del Agente de registro del LOG se verá afectado.</span><span class="sxs-lookup"><span data-stu-id="d1c40-163">The throughput of the Log Reader Agent is therefore affected.</span></span>  
  
     <span data-ttu-id="d1c40-164">De igual modo, la replicación de mezcla debe evaluar las filas cambiadas o eliminadas para determinar qué suscriptores deben recibir esas filas.</span><span class="sxs-lookup"><span data-stu-id="d1c40-164">Similarly, merge replication must evaluate changed or deleted rows to determine which Subscribers should receive those rows.</span></span> <span data-ttu-id="d1c40-165">Cuando se emplean filtros de fila para reducir los datos requeridos en el suscriptor, este procesamiento es más complejo y puede ser más lento que cuando publica todas las filas en una tabla.</span><span class="sxs-lookup"><span data-stu-id="d1c40-165">When row filters are employed to reduce the data required at a Subscriber, this processing is more complex and can be slower than when you publish all rows in a table.</span></span> <span data-ttu-id="d1c40-166">Considere cuidadosamente el compromiso entre la reducción de los requisitos de almacenamiento en cada suscriptor y la necesidad de conseguir el máximo rendimiento.</span><span class="sxs-lookup"><span data-stu-id="d1c40-166">Consider carefully the tradeoff between reduced storage requirements at each Subscriber and the need for achieving maximum throughput.</span></span> <span data-ttu-id="d1c40-167">Para obtener más información sobre el filtrado, consulte [Filtrar datos publicados](../publish/filter-published-data.md).</span><span class="sxs-lookup"><span data-stu-id="d1c40-167">For more information on filtering, see [Filter Published Data](../publish/filter-published-data.md).</span></span>  
  
## <a name="subscription-considerations"></a><span data-ttu-id="d1c40-168">Consideraciones acerca de las suscripciones</span><span class="sxs-lookup"><span data-stu-id="d1c40-168">Subscription Considerations</span></span>  
  
-   <span data-ttu-id="d1c40-169">Utilice suscripciones de extracción cuando haya un gran número de suscriptores.</span><span class="sxs-lookup"><span data-stu-id="d1c40-169">Use pull subscriptions when there are a large number of Subscribers.</span></span>  
  
     <span data-ttu-id="d1c40-170">El Agente de distribución y el Agente de mezcla se ejecutan en el distribuidor para las suscripciones de inserción, y en los suscriptores para las suscripciones de extracción.</span><span class="sxs-lookup"><span data-stu-id="d1c40-170">The Distribution Agent and Merge Agent run at the Distributor for push subscriptions, and at Subscribers for pull subscriptions.</span></span> <span data-ttu-id="d1c40-171">El uso de las suscripciones de extracción puede mejorar el rendimiento desplazando el procesamiento de agentes del distribuidor a los suscriptores.</span><span class="sxs-lookup"><span data-stu-id="d1c40-171">Using pull subscriptions can improve performance by moving agent processing from the Distributor to Subscribers.</span></span> <span data-ttu-id="d1c40-172">Para obtener más información, vea [Suscribirse a publicaciones](../subscribe-to-publications.md).</span><span class="sxs-lookup"><span data-stu-id="d1c40-172">For more information, see [Subscribe to Publications](../subscribe-to-publications.md).</span></span>  
  
-   <span data-ttu-id="d1c40-173">Considere la posibilidad de reinicializar la suscripción si los suscriptores están muy retrasados.</span><span class="sxs-lookup"><span data-stu-id="d1c40-173">Consider reinitialization of the subscription if Subscribers are too far behind.</span></span>  
  
     <span data-ttu-id="d1c40-174">Cuando sea necesario enviar grandes cantidades de cambios a los suscriptores, reinicializarlos con una nueva instantánea puede ser más rápido que utilizar la replicación para mover los cambios individuales.</span><span class="sxs-lookup"><span data-stu-id="d1c40-174">When large amounts of changes need to be sent to Subscribers, reinitializing them with a new snapshot might be faster than using replication to move the individual changes.</span></span> <span data-ttu-id="d1c40-175">Para obtener más información, vea [Reinicializar suscripciones](../reinitialize-subscriptions.md).</span><span class="sxs-lookup"><span data-stu-id="d1c40-175">For more information, see [Reinitialize Subscriptions](../reinitialize-subscriptions.md).</span></span>  
  
     <span data-ttu-id="d1c40-176">En la replicación transaccional, el Monitor de replicación muestra, en la pestaña **Comandos sin distribuir** , información acerca del número de transacciones de la base de datos de distribución que aún no se han distribuido a un suscriptor, así como el tiempo estimado para la distribución de dichas transacciones.</span><span class="sxs-lookup"><span data-stu-id="d1c40-176">For transactional replication, Replication Monitor displays on the **Undistributed Commands** tab information about: the number of transactions in the distribution database that have not yet been distributed to a Subscriber; and the estimated time for distributing these transactions.</span></span> <span data-ttu-id="d1c40-177">Para más información, vea [Visualización de información y realización de tareas mediante el Monitor de replicación](../monitor/view-information-and-perform-tasks-replication-monitor.md).</span><span class="sxs-lookup"><span data-stu-id="d1c40-177">For more information, see [View Information and Perform Tasks using Replication Monitor](../monitor/view-information-and-perform-tasks-replication-monitor.md).</span></span>  
  
## <a name="snapshot-considerations"></a><span data-ttu-id="d1c40-178">Consideraciones acerca de las instantáneas</span><span class="sxs-lookup"><span data-stu-id="d1c40-178">Snapshot Considerations</span></span>  
  
-   <span data-ttu-id="d1c40-179">Ejecute el Agente de instantáneas solamente cuando sea necesario y en horas de poca actividad.</span><span class="sxs-lookup"><span data-stu-id="d1c40-179">Run the Snapshot Agent only when necessary and at off-peak times.</span></span>  
  
     <span data-ttu-id="d1c40-180">El Agente de instantáneas copia los datos de forma masiva desde la tabla publicada en el publicador a un archivo de la carpeta de instantáneas del distribuidor.</span><span class="sxs-lookup"><span data-stu-id="d1c40-180">The Snapshot Agent bulk copies data from the published table on the Publisher to a file in the snapshot folder on the Distributor.</span></span> <span data-ttu-id="d1c40-181">Generar una instantánea puede ser un proceso que consume muchos recursos y es mejor programarla para que se lleve a cabo durante las horas de poca actividad.</span><span class="sxs-lookup"><span data-stu-id="d1c40-181">Generating a snapshot can be a resource intensive process and is best scheduled during off-peak times.</span></span>  
  
-   <span data-ttu-id="d1c40-182">Utilice una instantánea en modo nativo a menos que sea necesaria una instantánea en modo de carácter.</span><span class="sxs-lookup"><span data-stu-id="d1c40-182">Use a native mode snapshot unless a character mode snapshot is required.</span></span>  
  
     <span data-ttu-id="d1c40-183">Utilice la instantánea en modo nativo predeterminada para todos los suscriptores excepto los suscriptores que no sean de[!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] y los que ejecuten [!INCLUDE[ssEW](../../../includes/ssew-md.md)], que requieren una instantánea en modo de carácter.</span><span class="sxs-lookup"><span data-stu-id="d1c40-183">Use the default native mode snapshot for all Subscribers except non-[!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] Subscribers and Subscribers running [!INCLUDE[ssEW](../../../includes/ssew-md.md)], which require a character mode snapshot.</span></span>  
  
-   <span data-ttu-id="d1c40-184">Utilice una única carpeta de instantáneas para una publicación.</span><span class="sxs-lookup"><span data-stu-id="d1c40-184">Use a single snapshot folder for a publication.</span></span>  
  
     <span data-ttu-id="d1c40-185">Al especificar las propiedades de la publicación relacionadas con una ubicación de instantáneas, puede elegir generar archivos de instantáneas en la carpeta de instantáneas predeterminada, en una carpeta de instantáneas alternativa o ambas.</span><span class="sxs-lookup"><span data-stu-id="d1c40-185">When specifying the publication properties related to snapshot location, you can choose to generate snapshot files to the default snapshot folder, to an alternate snapshot folder, or to both.</span></span> <span data-ttu-id="d1c40-186">La generación de los archivos de instantáneas en las dos ubicaciones requiere espacio adicional en disco y más procesamiento cuando se ejecuta el Agente de instantáneas.</span><span class="sxs-lookup"><span data-stu-id="d1c40-186">Generating snapshot files in both locations requires additional disk space and more processing when the Snapshot Agent runs.</span></span>  
  
-   <span data-ttu-id="d1c40-187">Coloque la carpeta de instantáneas en una unidad local del distribuidor que no se utilice para almacenar bases de datos o archivos de registro.</span><span class="sxs-lookup"><span data-stu-id="d1c40-187">Place the snapshot folder on a drive local to the Distributor that is not used to store database or log files.</span></span>  
  
     <span data-ttu-id="d1c40-188">El Agente de instantáneas realiza una escritura secuencial de los datos en la carpeta de instantáneas.</span><span class="sxs-lookup"><span data-stu-id="d1c40-188">The Snapshot Agent performs a sequential write of data to the snapshot folder.</span></span> <span data-ttu-id="d1c40-189">Colocar la carpeta de instantáneas en una unidad independiente de cualquier base de datos o archivo de registro reduce la contención entre los discos y ayuda a que el proceso de las instantáneas se complete más deprisa.</span><span class="sxs-lookup"><span data-stu-id="d1c40-189">Placing the snapshot folder on a separate drive from any database or log files reduces contention among the disks and helps the snapshot process complete faster.</span></span>  
  
-   <span data-ttu-id="d1c40-190">Cuando cree la base de datos de suscripciones en el suscriptor, considere la posibilidad de especificar un modelo de recuperación simple o por medio de registros de operaciones masivas.</span><span class="sxs-lookup"><span data-stu-id="d1c40-190">When you create the subscription database at the Subscriber, consider specifying a recovery model of simple or bulk-logged.</span></span> <span data-ttu-id="d1c40-191">Esto permite un registro mínimo de las inserciones masivas realizadas durante la aplicación de la instantánea en el suscriptor.</span><span class="sxs-lookup"><span data-stu-id="d1c40-191">This allows minimal logging of the bulk inserts performed during the application of the snapshot at the Subscriber.</span></span> <span data-ttu-id="d1c40-192">Una vez que se ha aplicado la instantánea a la base de datos de suscripciones, puede cambiar a otro modelo de recuperación diferente si es necesario (las bases de datos replicadas pueden utilizar cualquiera de los modelos de recuperación).</span><span class="sxs-lookup"><span data-stu-id="d1c40-192">After the snapshot has been applied to the subscription database, you can change to a different recovery model if necessary (replicated databases can use any of the recovery models).</span></span> <span data-ttu-id="d1c40-193">Para obtener más información sobre cómo seleccionar un modelo de recuperación, consulte [Información general sobre restauración y recuperación &#40;SQL Server&#41;](../../backup-restore/restore-and-recovery-overview-sql-server.md).</span><span class="sxs-lookup"><span data-stu-id="d1c40-193">For more information about selecting a recovery model, see [Restore and Recovery Overview &#40;SQL Server&#41;](../../backup-restore/restore-and-recovery-overview-sql-server.md).</span></span>  
  
-   <span data-ttu-id="d1c40-194">Considere la posibilidad de utilizar la carpeta de instantáneas alternativa y las instantáneas comprimidas en medios extraíbles para las redes de ancho de banda reducido.</span><span class="sxs-lookup"><span data-stu-id="d1c40-194">Consider using the alternate snapshot folder and compressed snapshots on removable media for low-bandwidth networks.</span></span>  
  
     <span data-ttu-id="d1c40-195">Comprimir archivos de instantáneas en la carpeta de instantáneas alternativa puede reducir los requisitos de almacenamiento en disco y facilitar la transferencia de los archivos de instantáneas en medios extraíbles.</span><span class="sxs-lookup"><span data-stu-id="d1c40-195">Compressing snapshot files in the alternate snapshot folder can reduce snapshot disk storage requirements and make it easier to transfer snapshot files on removable media.</span></span>  
  
     <span data-ttu-id="d1c40-196">En algunos casos, las instantáneas comprimidas pueden mejorar el rendimiento de la transferencia de archivos de instantáneas en la red.</span><span class="sxs-lookup"><span data-stu-id="d1c40-196">Compressed snapshots can, in some cases, improve the performance of transferring snapshot files across the network.</span></span> <span data-ttu-id="d1c40-197">No obstante, la compresión de instantáneas requiere que el Agente de instantáneas realice un procesamiento adicional al generar los archivos de instantáneas, y otro procesamiento adicional por parte del Agente de distribución o del Agente de mezcla al aplicar los archivos de instantáneas.</span><span class="sxs-lookup"><span data-stu-id="d1c40-197">However, compressing the snapshot requires additional processing by the Snapshot Agent when generating the snapshot files, and by the Distribution Agent or Merge Agent when applying the snapshot files.</span></span> <span data-ttu-id="d1c40-198">Esto puede ralentizar, en algunos casos, la generación de instantáneas y aumentar el tiempo de aplicación de una instantánea.</span><span class="sxs-lookup"><span data-stu-id="d1c40-198">This may slow down snapshot generation and increase the time it takes to apply a snapshot in some cases.</span></span> <span data-ttu-id="d1c40-199">Además, las instantáneas comprimidas no se pueden reanudar si se produce un error de red; por tanto, no son adecuadas para redes no confiables.</span><span class="sxs-lookup"><span data-stu-id="d1c40-199">Additionally, compressed snapshots cannot be resumed if a network failure occurs; therefore they are not suitable for unreliable networks.</span></span> <span data-ttu-id="d1c40-200">Cuando utilice instantáneas comprimidas en una red, tenga en cuenta estos inconvenientes.</span><span class="sxs-lookup"><span data-stu-id="d1c40-200">Consider these tradeoffs carefully when using compressed snapshots across a network.</span></span> <span data-ttu-id="d1c40-201">Para obtener más información, consulte [Alternate Snapshot Folder Locations](../alternate-snapshot-folder-locations.md) y [Compressed Snapshots](../compressed-snapshots.md).</span><span class="sxs-lookup"><span data-stu-id="d1c40-201">For more information, see [Alternate Snapshot Folder Locations](../alternate-snapshot-folder-locations.md) and [Compressed Snapshots](../compressed-snapshots.md).</span></span>  
  
-   <span data-ttu-id="d1c40-202">Considere la posibilidad de inicializar una suscripción manualmente.</span><span class="sxs-lookup"><span data-stu-id="d1c40-202">Consider initializing a subscription manually.</span></span>  
  
     <span data-ttu-id="d1c40-203">En algunos casos, como aquellos en los que intervienen grandes conjuntos de datos iniciales, es preferible inicializar una suscripción mediante otro método distinto a una instantánea.</span><span class="sxs-lookup"><span data-stu-id="d1c40-203">In some scenarios, such as those involving large initial datasets, it is preferable to initialize a subscription using a method other than a snapshot.</span></span> <span data-ttu-id="d1c40-204">Para obtener más información, consulte [Initialize a Transactional Subscription Without a Snapshot](../initialize-a-transactional-subscription-without-a-snapshot.md).</span><span class="sxs-lookup"><span data-stu-id="d1c40-204">For more information, see [Initialize a Transactional Subscription Without a Snapshot](../initialize-a-transactional-subscription-without-a-snapshot.md).</span></span>  
  
## <a name="agent-parameters"></a><span data-ttu-id="d1c40-205">Parámetros de los agentes</span><span class="sxs-lookup"><span data-stu-id="d1c40-205">Agent Parameters</span></span>  
  
-   <span data-ttu-id="d1c40-206">Reduzca el nivel de detalle de los agentes de replicación, excepto durante la prueba inicial, la supervisión o la depuración.</span><span class="sxs-lookup"><span data-stu-id="d1c40-206">Reduce the verbose levels of replication agents except during initial testing, monitoring, or debugging.</span></span>  
  
     <span data-ttu-id="d1c40-207">Reduzca los parámetros **-HistoryVerboseLevel** y **-OutputVerboseLevel** de los agentes de distribución o de mezcla.</span><span class="sxs-lookup"><span data-stu-id="d1c40-207">Reduce the **-HistoryVerboseLevel** parameter and the **-OutputVerboseLevel** parameter of the Distribution Agents or Merge Agents.</span></span> <span data-ttu-id="d1c40-208">Esto reducirá número de nuevas filas insertadas para realizar el seguimiento de la salida y el historial del agente.</span><span class="sxs-lookup"><span data-stu-id="d1c40-208">This reduces the number of new rows inserted to track agent history and output.</span></span> <span data-ttu-id="d1c40-209">En su lugar, los mensajes anteriores del historial con el mismo estado se actualizarán a la nueva información del historial.</span><span class="sxs-lookup"><span data-stu-id="d1c40-209">Instead, previous history messages with the same status are updated to the new history information.</span></span> <span data-ttu-id="d1c40-210">Aumente los niveles de detalle de la prueba, la supervisión y la depuración para tener toda la información que sea posible sobre la actividad del agente.</span><span class="sxs-lookup"><span data-stu-id="d1c40-210">Increase the verbose levels for testing, monitoring, and debugging so that you have as much information about agent activity as possible.</span></span>  
  
-   <span data-ttu-id="d1c40-211">Use el parámetro **-MaxBCPThreads** del Agente de instantáneas, del Agente de mezcla y del Agente de distribución (el número de subprocesos especificados no debe superar el número de procesadores del equipo).</span><span class="sxs-lookup"><span data-stu-id="d1c40-211">Use the **-MaxBCPThreads** parameter of the Snapshot Agent, Merge Agent, and Distribution Agent (the number of threads specified should not exceed the number of processors on the computer).</span></span> <span data-ttu-id="d1c40-212">Este parámetro especifica el número de operaciones de copia masiva que se pueden realizar en paralelo cuando se crea y aplica la instantánea.</span><span class="sxs-lookup"><span data-stu-id="d1c40-212">This parameter specifies the number of bulk copy operations that can be performed in parallel when the snapshot is created and applied.</span></span>  
  
-   <span data-ttu-id="d1c40-213">Use el parámetro **-UseInprocLoader** del Agente de distribución y del Agente de mezcla (este parámetro no se puede usar si las tablas publicadas incluyen columnas XML).</span><span class="sxs-lookup"><span data-stu-id="d1c40-213">Use the **-UseInprocLoader** parameter of the Distribution Agent and the Merge Agent (this parameter cannot be used if published tables include XML columns).</span></span> <span data-ttu-id="d1c40-214">Con este parámetro, el agente utiliza el comando BULK INSERT cuando se aplica la instantánea.</span><span class="sxs-lookup"><span data-stu-id="d1c40-214">This parameter causes the agent to use the BULK INSERT command when the snapshot is applied.</span></span>  
  
 <span data-ttu-id="d1c40-215">Los parámetros del agente se pueden especificar en los perfiles del agente y en la línea de comandos.</span><span class="sxs-lookup"><span data-stu-id="d1c40-215">Agent parameters can be specified in agent profiles and on the command line.</span></span> <span data-ttu-id="d1c40-216">Para más información, consulte:</span><span class="sxs-lookup"><span data-stu-id="d1c40-216">For more information, see:</span></span>  
  
-   [<span data-ttu-id="d1c40-217">Trabajar con perfiles del Agente de replicación</span><span class="sxs-lookup"><span data-stu-id="d1c40-217">Work with Replication Agent Profiles</span></span>](../agents/work-with-replication-agent-profiles.md)  
  
-   [<span data-ttu-id="d1c40-218">Ver y modificar parámetros del símbolo del sistema de los agentes de replicación &#40;SQL Server Management Studio&#41;</span><span class="sxs-lookup"><span data-stu-id="d1c40-218">View and Modify Replication Agent Command Prompt Parameters &#40;SQL Server Management Studio&#41;</span></span>](../agents/view-and-modify-replication-agent-command-prompt-parameters.md)  
  
-   <span data-ttu-id="d1c40-219">[Replication Agent Executables Concepts](../concepts/replication-agent-executables-concepts.md).</span><span class="sxs-lookup"><span data-stu-id="d1c40-219">[Replication Agent Executables Concepts](../concepts/replication-agent-executables-concepts.md).</span></span>  
  
  
