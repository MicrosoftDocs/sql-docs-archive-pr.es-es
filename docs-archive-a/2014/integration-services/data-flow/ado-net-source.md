---
title: Origen de ADO NET | Microsoft Docs
ms.custom: ''
ms.date: 03/06/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: integration-services
ms.topic: conceptual
f1_keywords:
- sql12.dts.designer.adonetsource.f1
helpviewer_keywords:
- ADO.NET source
- sources [Integration Services], ADO.NET
- sources [Integration Services], DataReader
- .NET Framework [Integration Services]
- DataReader source
ms.assetid: 2a2f1750-2cda-4dda-9dca-623a96a6b3c0
author: chugugrace
ms.author: chugu
ms.openlocfilehash: eb50a6171ed29fc5328663d8ce9992e0462e02f4
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 08/04/2020
ms.locfileid: "87748851"
---
# <a name="ado-net-source"></a><span data-ttu-id="9683d-102">Origen de ADO NET</span><span class="sxs-lookup"><span data-stu-id="9683d-102">ADO NET Source</span></span>
  <span data-ttu-id="9683d-103">El origen de ADO NET consume datos de un proveedor .NET y hace que los datos estén disponibles para el flujo de datos.</span><span class="sxs-lookup"><span data-stu-id="9683d-103">The ADO NET source consumes data from a .NET provider and makes the data available to the data flow.</span></span>  
  
 <span data-ttu-id="9683d-104">Puede usar el origen de ADO NET para conectarse a [!INCLUDE[msCoName](../../includes/msconame-md.md)] [!INCLUDE[ssSDSfull](../../includes/sssdsfull-md.md)].</span><span class="sxs-lookup"><span data-stu-id="9683d-104">You can use the ADO NET source to connect to [!INCLUDE[msCoName](../../includes/msconame-md.md)] [!INCLUDE[ssSDSfull](../../includes/sssdsfull-md.md)].</span></span> <span data-ttu-id="9683d-105">No se admite la conexión a [!INCLUDE[ssSDS](../../includes/sssds-md.md)] mediante OLE DB.</span><span class="sxs-lookup"><span data-stu-id="9683d-105">Connecting to [!INCLUDE[ssSDS](../../includes/sssds-md.md)] by using OLE DB is not supported.</span></span> <span data-ttu-id="9683d-106">Para más información sobre [!INCLUDE[ssSDS](../../includes/sssds-md.md)], consulte [Instrucciones y limitaciones generales (Azure SQL Database)](https://go.microsoft.com/fwlink/?LinkId=248228).</span><span class="sxs-lookup"><span data-stu-id="9683d-106">For more information about [!INCLUDE[ssSDS](../../includes/sssds-md.md)], see [General Guidelines and Limitations (Azure SQL Database)](https://go.microsoft.com/fwlink/?LinkId=248228).</span></span>  
  
## <a name="data-type-support"></a><span data-ttu-id="9683d-107">Compatibilidad con tipos de datos</span><span class="sxs-lookup"><span data-stu-id="9683d-107">Data Type Support</span></span>  
 <span data-ttu-id="9683d-108">El origen convierte cualquier tipo de datos que no se asigna a un tipo de datos de [!INCLUDE[ssISnoversion](../../includes/ssisnoversion-md.md)] específico en el tipo de datos de [!INCLUDE[ssISnoversion](../../includes/ssisnoversion-md.md)] DT_NTEXT.</span><span class="sxs-lookup"><span data-stu-id="9683d-108">The source converts any data type that does not map to a specific [!INCLUDE[ssISnoversion](../../includes/ssisnoversion-md.md)] data type to the DT_NTEXT [!INCLUDE[ssISnoversion](../../includes/ssisnoversion-md.md)] data type.</span></span> <span data-ttu-id="9683d-109">Esta conversión se produce aunque el tipo de datos sea `System.Object`.</span><span class="sxs-lookup"><span data-stu-id="9683d-109">This conversion occurs even if the data type is `System.Object`.</span></span>  
  
 <span data-ttu-id="9683d-110">Puede cambiar el tipo de datos DT_NTEXT a DT_WSTR, o el tipo de datos DT_WSTR a DT_NTEXT.</span><span class="sxs-lookup"><span data-stu-id="9683d-110">You can change the DT_NTEXT data type to the DT_WSTR data type, or the change DT_WSTR to DT_NTEXT.</span></span> <span data-ttu-id="9683d-111">Para cambiar los tipos de datos, establezca la propiedad **DataType** en el cuadro de diálogo **Editor avanzado** del origen de ADO NET.</span><span class="sxs-lookup"><span data-stu-id="9683d-111">You change data types by setting the **DataType** property in the **Advanced Editor** dialog box of the ADO NET source.</span></span> <span data-ttu-id="9683d-112">Para más información, consulte [Common Properties](../common-properties.md).</span><span class="sxs-lookup"><span data-stu-id="9683d-112">For more information, see [Common Properties](../common-properties.md).</span></span>  
  
 <span data-ttu-id="9683d-113">El tipo de datos DT_NTEXT también se puede convertir en el tipo de datos DT_BYTES o DT_STR utilizando una transformación de conversión de datos después del origen de ADO NET.</span><span class="sxs-lookup"><span data-stu-id="9683d-113">The DT_NTEXT data type can also be converted to the DT_BYTES or DT_STR data type by using a Data Conversion transformation after the ADO NET source.</span></span> <span data-ttu-id="9683d-114">Para más información, consulte [Data Conversion Transformation](transformations/data-conversion-transformation.md).</span><span class="sxs-lookup"><span data-stu-id="9683d-114">For more information, see [Data Conversion Transformation](transformations/data-conversion-transformation.md).</span></span>  
  
 <span data-ttu-id="9683d-115">En [!INCLUDE[ssISnoversion](../../includes/ssisnoversion-md.md)], los tipos de datos de fecha, DT_DBDATE, DT_DBTIME2, DT_DBTIMESTAMP2 y DT_DBTIMESTAMPOFFSET, se asignan a ciertos tipos de datos de fecha de [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)].</span><span class="sxs-lookup"><span data-stu-id="9683d-115">In [!INCLUDE[ssISnoversion](../../includes/ssisnoversion-md.md)], the date data types, DT_DBDATE, DT_DBTIME2, DT_DBTIMESTAMP2, and DT_DBTIMESTAMPOFFSET, map to certain date data types in [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)].</span></span> <span data-ttu-id="9683d-116">Puede configurar el origen de ADO NET de modo que se conviertan los tipos de datos de fecha de los datos que utiliza [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] en los que usa [!INCLUDE[ssISnoversion](../../includes/ssisnoversion-md.md)] .</span><span class="sxs-lookup"><span data-stu-id="9683d-116">You can configure the ADO NET source to convert the date data types from those that [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] uses to those that [!INCLUDE[ssISnoversion](../../includes/ssisnoversion-md.md)] uses.</span></span> <span data-ttu-id="9683d-117">Para configurar el origen de ADO NET de modo que se conviertan estos tipos de datos de fecha, establezca la propiedad **Type System Version** del administrador de conexiones de [!INCLUDE[vstecado](../../includes/vstecado-md.md)] en **Latest**.</span><span class="sxs-lookup"><span data-stu-id="9683d-117">To configure the ADO NET source to convert these date data types, set the **Type System Version** property of the [!INCLUDE[vstecado](../../includes/vstecado-md.md)] connection manager to **Latest**.</span></span> <span data-ttu-id="9683d-118">(La propiedad **Type System Version** está en la página **Todo** del cuadro de diálogo **Administrador de conexiones** .</span><span class="sxs-lookup"><span data-stu-id="9683d-118">(The **Type System Version** property is on the **All** page of the **Connection Manager** dialog box.</span></span> <span data-ttu-id="9683d-119">Para abrir el cuadro de diálogo **Administrador de conexiones** , haga clic con el botón derecho en el administrador de conexiones de [!INCLUDE[vstecado](../../includes/vstecado-md.md)] y, después, elija **Editar**).</span><span class="sxs-lookup"><span data-stu-id="9683d-119">To open the **Connection Manager** dialog box, right-click the [!INCLUDE[vstecado](../../includes/vstecado-md.md)] connection manager, and then click **Edit**.)</span></span>  
  
> [!NOTE]  
>  <span data-ttu-id="9683d-120">Si la propiedad **Type System Version** del administrador de conexiones de [!INCLUDE[vstecado](../../includes/vstecado-md.md)] se establece en **SQL Server 2005**, el sistema convierte los tipos de datos de fecha de [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] en DT_WSTR.</span><span class="sxs-lookup"><span data-stu-id="9683d-120">If the **Type System Version** property for the [!INCLUDE[vstecado](../../includes/vstecado-md.md)] connection manager is set to **SQL Server 2005**, the system converts the [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] date data types to DT_WSTR.</span></span>  
  
 <span data-ttu-id="9683d-121">El sistema convierte los tipos de datos definidos por el usuario (UDT) en objetos binarios grandes (BLOB) de [!INCLUDE[ssISnoversion](../../includes/ssisnoversion-md.md)] cuando el administrador de conexiones de [!INCLUDE[vstecado](../../includes/vstecado-md.md)] especifica el proveedor como Proveedor de datos .NET para [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] (SqlClient).</span><span class="sxs-lookup"><span data-stu-id="9683d-121">The system converts user-defined data types (UDTs) to [!INCLUDE[ssISnoversion](../../includes/ssisnoversion-md.md)] binary large objects (BLOB) when the [!INCLUDE[vstecado](../../includes/vstecado-md.md)] connection manager specifies the provider as the .NET Data Provider for [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] (SqlClient).</span></span> <span data-ttu-id="9683d-122">El sistema aplica las reglas siguientes cuando convierte el tipo de datos UDT:</span><span class="sxs-lookup"><span data-stu-id="9683d-122">The system applies the following rules when it converts the UDT data type:</span></span>  
  
-   <span data-ttu-id="9683d-123">Si los datos son de un tipo UDT que no es grande, el sistema los convierte en DT_BYTES.</span><span class="sxs-lookup"><span data-stu-id="9683d-123">If the data is a non-large UDT, the system converts the data to DT_BYTES.</span></span>  
  
-   <span data-ttu-id="9683d-124">Si los datos son de un tipo UDT que no es grande y la propiedad **Length** de la columna de la base de datos se establece en -1 o en un valor mayor que 8000 bytes, el sistema convierte los datos en DT_IMAGE.</span><span class="sxs-lookup"><span data-stu-id="9683d-124">If the data is a non-large UDT, and the **Length** property of the column on the database is set to -1 or a value greater than 8,000 bytes, the system converts the data to DT_IMAGE.</span></span>  
  
-   <span data-ttu-id="9683d-125">Si los datos son de un tipo UDT grande, el sistema los convierte en DT_IMAGE.</span><span class="sxs-lookup"><span data-stu-id="9683d-125">If the data is a large UDT, the system converts the data to DT_IMAGE.</span></span>  
  
    > [!NOTE]  
    >  <span data-ttu-id="9683d-126">Si el origen de ADO NET no está configurado para utilizar la salida de errores, el sistema pasa el flujo de datos a la columna DT_IMAGE en fragmentos de 8.000 bytes.</span><span class="sxs-lookup"><span data-stu-id="9683d-126">If the ADO NET source is not configured to use error output, the system streams the data to the DT_IMAGE column in chunks of 8,000 bytes.</span></span> <span data-ttu-id="9683d-127">Si el origen de ADO NET está configurado para utilizar la salida de errores, el sistema pasa la matriz entera de bytes a la columna DT_IMAGE.</span><span class="sxs-lookup"><span data-stu-id="9683d-127">If the ADO NET source is configured to use error output, the system passes the whole array of bytes to the DT_IMAGE column.</span></span> <span data-ttu-id="9683d-128">Para más información sobre cómo configurar los componentes para que se use la salida de errores, vea [Control de errores en los datos](error-handling-in-data.md).</span><span class="sxs-lookup"><span data-stu-id="9683d-128">For more information about how to configure components to use error output, see [Error Handling in Data](error-handling-in-data.md).</span></span>  
  
 <span data-ttu-id="9683d-129">Para más información sobre los tipos de datos de [!INCLUDE[ssISnoversion](../../includes/ssisnoversion-md.md)] , las conversiones de tipos de datos admitidas y la asignación de tipo de datos en bases de datos específicas (como [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)]), vea [Tipos de datos de Integration Services](integration-services-data-types.md).</span><span class="sxs-lookup"><span data-stu-id="9683d-129">For more information about the [!INCLUDE[ssISnoversion](../../includes/ssisnoversion-md.md)] data types, supported data type conversions, and data type mapping across certain databases including [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)], see [Integration Services Data Types](integration-services-data-types.md).</span></span>  
  
 <span data-ttu-id="9683d-130">Para más información sobre cómo asignar tipos de datos de [!INCLUDE[ssISnoversion](../../includes/ssisnoversion-md.md)] a tipos de datos administrados, vea [Trabajar con tipos de datos del flujo de datos](../extending-packages-custom-objects/data-flow/working-with-data-types-in-the-data-flow.md).</span><span class="sxs-lookup"><span data-stu-id="9683d-130">For information about mapping [!INCLUDE[ssISnoversion](../../includes/ssisnoversion-md.md)] data types to managed data types, see [Working with Data Types in the Data Flow](../extending-packages-custom-objects/data-flow/working-with-data-types-in-the-data-flow.md).</span></span>  
  
## <a name="ado-net-source-troubleshooting"></a><span data-ttu-id="9683d-131">Solución de problemas del origen de ADO NET</span><span class="sxs-lookup"><span data-stu-id="9683d-131">ADO NET Source Troubleshooting</span></span>  
 <span data-ttu-id="9683d-132">Puede registrar las llamadas que el origen de ADO NET realiza a proveedores de datos externos.</span><span class="sxs-lookup"><span data-stu-id="9683d-132">You can log the calls that the ADO NET source makes to external data providers.</span></span> <span data-ttu-id="9683d-133">Puede utilizar esta capacidad de registro para solucionar los problemas relacionados con la carga de datos de orígenes de datos externos que realiza el origen de ADO NET.</span><span class="sxs-lookup"><span data-stu-id="9683d-133">You can use this logging capability to troubleshoot the loading of data from external data sources that the ADO NET source performs.</span></span> <span data-ttu-id="9683d-134">Para registrar las llamadas realizadas por el origen de ADO NET a proveedores de datos externos, habilite el registro de paquetes y seleccione el evento **Diagnostic** en el nivel de paquete.</span><span class="sxs-lookup"><span data-stu-id="9683d-134">To log the calls that the ADO NET source makes to external data providers, enable package logging and select the **Diagnostic** event at the package level.</span></span> <span data-ttu-id="9683d-135">Para más información, vea [Herramientas para solucionar problemas con la ejecución de paquetes](../troubleshooting/troubleshooting-tools-for-package-execution.md).</span><span class="sxs-lookup"><span data-stu-id="9683d-135">For more information, see [Troubleshooting Tools for Package Execution](../troubleshooting/troubleshooting-tools-for-package-execution.md).</span></span>  
  
## <a name="ado-net-source-configuration"></a><span data-ttu-id="9683d-136">Configuración del origen de ADO NET</span><span class="sxs-lookup"><span data-stu-id="9683d-136">ADO NET Source Configuration</span></span>  
 <span data-ttu-id="9683d-137">Para configurar el origen de ADO NET, debe proporcionar la instrucción SQL que define el conjunto de resultados.</span><span class="sxs-lookup"><span data-stu-id="9683d-137">You configure the ADO NET source by providing the SQL statement that defines the result set.</span></span> <span data-ttu-id="9683d-138">Por ejemplo, un origen de ADO NET que se conecta a la base de datos [!INCLUDE[ssSampleDBUserInputNonLocal](../../includes/sssampledbuserinputnonlocal-md.md)] y utiliza la instrucción SQL `SELECT * FROM Production.Product` extrae todas las filas de la tabla **Production.Product** y proporciona el conjunto de datos a un componente de nivel inferior.</span><span class="sxs-lookup"><span data-stu-id="9683d-138">For example, an ADO NET source that connects to the [!INCLUDE[ssSampleDBUserInputNonLocal](../../includes/sssampledbuserinputnonlocal-md.md)] database and uses the SQL statement `SELECT * FROM Production.Product` extracts all the rows from the **Production.Product** table and provides the dataset to a downstream component.</span></span>  
  
> [!NOTE]  
>  <span data-ttu-id="9683d-139">Cuando use una instrucción SQL para invocar un procedimiento almacenado que devuelve resultados de una tabla temporal, use la opción WITH RESULT SETS para definir los metadatos del conjunto de resultados.</span><span class="sxs-lookup"><span data-stu-id="9683d-139">When you use an SQL statement to invoke a stored procedure that returns results from a temporary table, use the WITH RESULT SETS option to define metadata for the result set.</span></span>  
  
> [!NOTE]  
>  <span data-ttu-id="9683d-140">Si utiliza una instrucción SQL para ejecutar un procedimiento almacenado y el paquete genera el error siguiente, es posible que pueda resolver el error agregando la instrucción `SET FMTONLY OFF` antes de la instrucción EXEC.</span><span class="sxs-lookup"><span data-stu-id="9683d-140">If you use an SQL statement to execute a stored procedure and the package fails with the following error, you may be able to resolve the error by adding the `SET FMTONLY OFF` statement before the exec statement.</span></span>  
>   
>  <span data-ttu-id="9683d-141">**La columna <column_name> no se encuentra en el origen de datos.**</span><span class="sxs-lookup"><span data-stu-id="9683d-141">**Column <column_name> cannot be found at the datasource.**</span></span>  
  
 <span data-ttu-id="9683d-142">Este origen de ADO NET utiliza un administrador de conexiones [!INCLUDE[vstecado](../../includes/vstecado-md.md)] para conectarse a un origen de datos. El administrador de conexiones especifica el proveedor .NET.</span><span class="sxs-lookup"><span data-stu-id="9683d-142">The ADO NET source uses an [!INCLUDE[vstecado](../../includes/vstecado-md.md)] connection manager to connect to a data source, and the connection manager specifies the .NET provider.</span></span> <span data-ttu-id="9683d-143">Para más información, consulte [ADO.NET Connection Manager](../connection-manager/ado-net-connection-manager.md).</span><span class="sxs-lookup"><span data-stu-id="9683d-143">For more information, see [ADO.NET Connection Manager](../connection-manager/ado-net-connection-manager.md).</span></span>  
  
 <span data-ttu-id="9683d-144">El origen de ADO NET tiene una salida normal y una salida de errores.</span><span class="sxs-lookup"><span data-stu-id="9683d-144">The ADO NET source has one regular output and one error output.</span></span>  
  
 <span data-ttu-id="9683d-145">Puede establecer propiedades a través del Diseñador de [!INCLUDE[ssIS](../../includes/ssis-md.md)] o mediante programación.</span><span class="sxs-lookup"><span data-stu-id="9683d-145">You can set properties through [!INCLUDE[ssIS](../../includes/ssis-md.md)] Designer or programmatically.</span></span>  
  
 <span data-ttu-id="9683d-146">Para obtener más información acerca de las propiedades que puede establecer a través del cuadro de diálogo **Editor avanzado** o mediante programación, haga clic en uno de los temas siguientes:</span><span class="sxs-lookup"><span data-stu-id="9683d-146">For more information about the properties that you can set in the **Advanced Editor** dialog box or programmatically, click one of the following topics:</span></span>  
  
-   [<span data-ttu-id="9683d-147">Common Properties</span><span class="sxs-lookup"><span data-stu-id="9683d-147">Common Properties</span></span>](../common-properties.md)  
  
-   [<span data-ttu-id="9683d-148">Propiedades personalizadas de ADO NET</span><span class="sxs-lookup"><span data-stu-id="9683d-148">ADO NET Custom Properties</span></span>](ado-net-custom-properties.md)  
  
 <span data-ttu-id="9683d-149">Para más información sobre cómo establecer propiedades, vea [Establecer las propiedades de un componente de flujo de datos](set-the-properties-of-a-data-flow-component.md).</span><span class="sxs-lookup"><span data-stu-id="9683d-149">For more information about how to set properties, see [Set the Properties of a Data Flow Component](set-the-properties-of-a-data-flow-component.md).</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="9683d-150">Consulte también</span><span class="sxs-lookup"><span data-stu-id="9683d-150">See Also</span></span>  
 <span data-ttu-id="9683d-151">[Destino de DataReader](datareader-destination.md) </span><span class="sxs-lookup"><span data-stu-id="9683d-151">[DataReader Destination](datareader-destination.md) </span></span>  
 <span data-ttu-id="9683d-152">[Destino de ADO NET](ado-net-destination.md) </span><span class="sxs-lookup"><span data-stu-id="9683d-152">[ADO NET Destination](ado-net-destination.md) </span></span>  
 [<span data-ttu-id="9683d-153">Flujo de datos</span><span class="sxs-lookup"><span data-stu-id="9683d-153">Data Flow</span></span>](data-flow.md)  
  
  
