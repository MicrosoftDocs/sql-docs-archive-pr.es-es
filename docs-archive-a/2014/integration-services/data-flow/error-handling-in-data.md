---
title: Control de errores en los datos| Microsoft Docs
ms.custom: ''
ms.date: 03/06/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: integration-services
ms.topic: conceptual
helpviewer_keywords:
- truncating data
- data conversion errors [Integration Services]
- errors [Integration Services], data flow components
- lookups [Integration Services]
- errors [Integration Services]
- errors [Integration Services], data flow outputs
- error outputs [Integration Services]
- data flow [Integration Services], errors
- expressions [Integration Services], errors
ms.assetid: c61667b4-25cb-4d45-a52f-a733e32863f4
author: chugugrace
ms.author: chugu
ms.openlocfilehash: 442ecc68fc352d50955af9302fbcedf77ba36338
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 08/04/2020
ms.locfileid: "87751354"
---
# <a name="error-handling-in-data"></a><span data-ttu-id="56951-102">Control de errores en los datos</span><span class="sxs-lookup"><span data-stu-id="56951-102">Error Handling in Data</span></span>
  <span data-ttu-id="56951-103">Cuando un componente de flujo de datos aplica una transformación a los datos de columna, extrae datos de orígenes o carga datos en destinos, pueden producirse errores.</span><span class="sxs-lookup"><span data-stu-id="56951-103">When a data flow component applies a transformation to column data, extracts data from sources, or loads data into destinations, errors can occur.</span></span> <span data-ttu-id="56951-104">Los errores con frecuencia se producen debido a valores de datos inesperados.</span><span class="sxs-lookup"><span data-stu-id="56951-104">Errors frequently occur because of unexpected data values.</span></span> <span data-ttu-id="56951-105">Por ejemplo, una conversión de datos genera un error porque una columna contiene una cadena en lugar de un número, una inserción en una base de datos genera un error porque los datos corresponden a una fecha y la columna tiene un tipo de datos numéricos, o una expresión genera un error al evaluarse porque el valor de la columna es cero, lo que da como resultado una operación matemática no válida.</span><span class="sxs-lookup"><span data-stu-id="56951-105">For example, a data conversion fails because a column contains a string instead of a number, an insertion into a database column fails because the data is a date and the column has a numeric data type, or an expression fails to evaluate because a column value is zero, resulting in a mathematical operation that is not valid.</span></span>  
  
 <span data-ttu-id="56951-106">Los errores normalmente corresponden a una de las siguientes categorías:</span><span class="sxs-lookup"><span data-stu-id="56951-106">Errors typically fall into one the following categories:</span></span>  
  
-   <span data-ttu-id="56951-107">Errores de conversión de datos, que se producen cuando la conversión tiene como resultado la pérdida de dígitos significativos, la pérdida de dígitos insignificantes y el truncamiento de cadenas.</span><span class="sxs-lookup"><span data-stu-id="56951-107">Data conversion errors, which occur if a conversion results in loss of significant digits, the loss of insignificant digits, and the truncation of strings.</span></span> <span data-ttu-id="56951-108">Los errores de conversión de datos también se producen si la conversión requerida no se admite.</span><span class="sxs-lookup"><span data-stu-id="56951-108">Data conversion errors also occur if the requested conversion is not supported.</span></span>  
  
-   <span data-ttu-id="56951-109">Errores de evaluación de expresiones, que se producen si las expresiones que se evalúan en tiempo de ejecución realizan operaciones no válidas o pasan a ser sintácticamente incorrectas debido a valores de datos faltantes o incorrectos.</span><span class="sxs-lookup"><span data-stu-id="56951-109">Expression evaluation errors, which occur if expressions that are evaluated at run time perform invalid operations or become syntactically incorrect because of missing or incorrect data values.</span></span>  
  
-   <span data-ttu-id="56951-110">Errores de búsqueda, que se producen si una operación de búsqueda genera un error al intentar buscar una coincidencia en la tabla de búsqueda.</span><span class="sxs-lookup"><span data-stu-id="56951-110">Lookup errors, which occur if a lookup operation fails to locate a match in the lookup table.</span></span>  
  
 <span data-ttu-id="56951-111">Muchos componentes de flujo de datos admiten salidas de error, que le permiten controlar la forma en que el componente controla los errores de nivel de fila en los datos entrantes y salientes.</span><span class="sxs-lookup"><span data-stu-id="56951-111">Many data flow components support error outputs, which let you control how the component handles row-level errors in both incoming and outgoing data.</span></span> <span data-ttu-id="56951-112">El modo en que se comporta el componente cuando se produce un truncamiento o error se especifica estableciendo opciones en columnas individuales en la entrada o la salida.</span><span class="sxs-lookup"><span data-stu-id="56951-112">You specify how the component behaves when truncation or an error occurs by setting options on individual columns in the input or output.</span></span> <span data-ttu-id="56951-113">Por ejemplo, puede especificar que el componente genere un error si se truncan los datos de nombre del cliente, pero que omita los errores en otra columna que contenga datos menos importantes.</span><span class="sxs-lookup"><span data-stu-id="56951-113">For example, you can specify that the component should fail if customer name data is truncated, but ignore errors on another column that contains less important data.</span></span>  
  
 <span data-ttu-id="56951-114">La salida de error se puede conectar a la entrada de otra transformación o cargarse en un destino diferente de la salida que no es de error.</span><span class="sxs-lookup"><span data-stu-id="56951-114">The error output can be connected to the input of another transformation or loaded into a different destination than the non-error output.</span></span> <span data-ttu-id="56951-115">Por ejemplo, la salida de error puede estar conectada a una transformación Columna derivada que proporciona una cadena para una columna en blanco.</span><span class="sxs-lookup"><span data-stu-id="56951-115">For example, the error output can be a connected to a Derived Column transformation that provides a string for a column that is blank.</span></span>  
  
 <span data-ttu-id="56951-116">El siguiente diagrama muestra un flujo de datos simple que incluye una salida de error.</span><span class="sxs-lookup"><span data-stu-id="56951-116">The following diagram shows a simple data flow including an error output.</span></span>  
  
 <span data-ttu-id="56951-117">![Flujo de datos con salida de error](../media/mw-dts-11.gif "Flujo de datos con salida de error")</span><span class="sxs-lookup"><span data-stu-id="56951-117">![Data flow with error output](../media/mw-dts-11.gif "Data flow with error output")</span></span>  
  
 <span data-ttu-id="56951-118">Además de las columnas de datos, la salida de error incluye las columnas **ErrorCode** y **ErrorColumn** .</span><span class="sxs-lookup"><span data-stu-id="56951-118">In addition to the data columns, the error output includes the **ErrorCode** and **ErrorColumn** columns.</span></span> <span data-ttu-id="56951-119">La columna **ErrorCode** identifica el error y la columna **ErrorColumn** contiene el identificador de linaje de la columna de error.</span><span class="sxs-lookup"><span data-stu-id="56951-119">The **ErrorCode** column identifies the error and the **ErrorColumn** contains the lineage identifier of the error column.</span></span> <span data-ttu-id="56951-120">Para ver los metadatos de estas columnas, haga clic en la ruta que conecta la salida de error al siguiente componente en el flujo de datos.</span><span class="sxs-lookup"><span data-stu-id="56951-120">To view the metadata of these columns, click the path that connects the error output to the next component in the data flow.</span></span> <span data-ttu-id="56951-121">En algunas circunstancias, el valor de la columna **ErrorColumn** se establece en cero.</span><span class="sxs-lookup"><span data-stu-id="56951-121">Under some circumstances, the value of the **ErrorColumn** column is set to zero.</span></span> <span data-ttu-id="56951-122">Esto ocurre cuando la condición de error afecta a toda la fila en lugar de a una única columna.</span><span class="sxs-lookup"><span data-stu-id="56951-122">This occurs when the error condition affects the entire row instead of a single column.</span></span> <span data-ttu-id="56951-123">Un ejemplo es cuando se produce un error de búsqueda en la transformación Búsqueda.</span><span class="sxs-lookup"><span data-stu-id="56951-123">An example is when a lookup fails in the Lookup transformation.</span></span>  
  
 <span data-ttu-id="56951-124">Para obtener más información, vea [Flujo de datos](data-flow.md) y [Rutas de Integration Services](integration-services-paths.md).</span><span class="sxs-lookup"><span data-stu-id="56951-124">For more information, see [Data Flow](data-flow.md) and [Integration Services Paths](integration-services-paths.md).</span></span>  
  
 <span data-ttu-id="56951-125">Para obtener una lista de los errores, advertencias y otros mensajes de Integration Services, vea [Integration Services Error and Message Reference](../integration-services-error-and-message-reference.md).</span><span class="sxs-lookup"><span data-stu-id="56951-125">For a list of Integration Services errors, warnings, and other messages, see [Integration Services Error and Message Reference](../integration-services-error-and-message-reference.md).</span></span>  
  
## <a name="error-and-truncation-options"></a><span data-ttu-id="56951-126">Opciones de errores y truncamiento</span><span class="sxs-lookup"><span data-stu-id="56951-126">Error and Truncation Options</span></span>  
 <span data-ttu-id="56951-127">Los errores se asocian a una de estas dos categorías: errores o truncamientos.</span><span class="sxs-lookup"><span data-stu-id="56951-127">Errors fall into one of two categories: errors or truncations.</span></span> <span data-ttu-id="56951-128">Un error indica un error inequívoco y genera un resultado NULL.</span><span class="sxs-lookup"><span data-stu-id="56951-128">An error indicates an unequivocal failure, and generates a NULL result.</span></span> <span data-ttu-id="56951-129">Tales errores pueden incluir errores de conversión de datos o errores de evaluación de expresiones.</span><span class="sxs-lookup"><span data-stu-id="56951-129">Such errors can include data conversion errors or expression evaluation errors.</span></span> <span data-ttu-id="56951-130">Por ejemplo, un intento para convertir una cadena que contiene caracteres alfabéticos en un número produce un error.</span><span class="sxs-lookup"><span data-stu-id="56951-130">For example, an attempt to convert a string that contains alphabetical characters to a number causes an error.</span></span> <span data-ttu-id="56951-131">Las conversiones de datos, evaluaciones de expresiones y asignaciones de resultados de expresiones a variables, propiedades y columnas de datos pueden dar error debido a conversiones no válidas y tipos de datos incompatibles.</span><span class="sxs-lookup"><span data-stu-id="56951-131">Data conversions, expression evaluations, and assignments of expression results to variables, properties, and data columns may fail because of illegal casts and incompatible data types.</span></span> <span data-ttu-id="56951-132">Para obtener más información, vea [Conversión &#40;expresión de SSIS&#41;](../expressions/cast-ssis-expression.md), [Tipos de datos de Integration Services en las expresiones](../expressions/integration-services-data-types-in-expressions.md) y [Tipos de datos de Integration Services](integration-services-data-types.md).</span><span class="sxs-lookup"><span data-stu-id="56951-132">For more information see, [Cast &#40;SSIS Expression&#41;](../expressions/cast-ssis-expression.md), [Integration Services Data Types in Expressions](../expressions/integration-services-data-types-in-expressions.md), and [Integration Services Data Types](integration-services-data-types.md).</span></span>  
  
 <span data-ttu-id="56951-133">Un truncamiento es de menor gravedad que un error.</span><span class="sxs-lookup"><span data-stu-id="56951-133">A truncation is less serious than an error.</span></span> <span data-ttu-id="56951-134">Un truncamiento genera resultados se pueden utilizar o que inclusive pueden ser beneficiosos.</span><span class="sxs-lookup"><span data-stu-id="56951-134">A truncation generates results that might be usable or even desirable.</span></span> <span data-ttu-id="56951-135">Puede elegir tratar los truncamientos como errores o como condiciones aceptables.</span><span class="sxs-lookup"><span data-stu-id="56951-135">You can elect to treat truncations as errors or as acceptable conditions.</span></span> <span data-ttu-id="56951-136">Por ejemplo, si está insertando una cadena de 15 caracteres en una columna que solo tiene un carácter de ancho, puede elegir truncar la cadena.</span><span class="sxs-lookup"><span data-stu-id="56951-136">For example, if you are inserting a 15-character string into a column that is only one character wide, you can elect to truncate the string.</span></span>  
  
 <span data-ttu-id="56951-137">Puede configurar la manera en que los orígenes, transformaciones y destinos controlan errores y truncamientos.</span><span class="sxs-lookup"><span data-stu-id="56951-137">You can configure how sources, transformations, and destinations handle errors and truncations.</span></span> <span data-ttu-id="56951-138">Las opciones se describen en la siguiente tabla.</span><span class="sxs-lookup"><span data-stu-id="56951-138">The following table describes the options.</span></span>  
  
|<span data-ttu-id="56951-139">Opción</span><span class="sxs-lookup"><span data-stu-id="56951-139">Option</span></span>|<span data-ttu-id="56951-140">Descripción</span><span class="sxs-lookup"><span data-stu-id="56951-140">Description</span></span>|  
|------------|-----------------|  
|<span data-ttu-id="56951-141">Error de componente</span><span class="sxs-lookup"><span data-stu-id="56951-141">Fail Component</span></span>|<span data-ttu-id="56951-142">La tarea Flujo de datos genera un error cuando se produce un error o truncamiento.</span><span class="sxs-lookup"><span data-stu-id="56951-142">The Data Flow task fails when an error or a truncation occurs.</span></span> <span data-ttu-id="56951-143">El error es la opción predeterminada para un error o truncamiento.</span><span class="sxs-lookup"><span data-stu-id="56951-143">Failure is the default option for an error and a truncation.</span></span>|  
|<span data-ttu-id="56951-144">Omitir error</span><span class="sxs-lookup"><span data-stu-id="56951-144">Ignore Failure</span></span>|<span data-ttu-id="56951-145">El error o truncamiento se omite y la fila de datos se dirige a la salida de transformación u origen.</span><span class="sxs-lookup"><span data-stu-id="56951-145">The error or the truncation is ignored and the data row is directed to the output of the transformation or source.</span></span>|  
|<span data-ttu-id="56951-146">Redirigir fila</span><span class="sxs-lookup"><span data-stu-id="56951-146">Redirect Row</span></span>|<span data-ttu-id="56951-147">La fila de datos de error o truncamiento se dirige a la salida de error del origen, transformación o destino.</span><span class="sxs-lookup"><span data-stu-id="56951-147">The error or the truncation data row is directed to the error output of the source, transformation, or destination.</span></span>|  
  
## <a name="adding-the-error-description"></a><span data-ttu-id="56951-148">Agregar la descripción del error</span><span class="sxs-lookup"><span data-stu-id="56951-148">Adding the Error Description</span></span>  
 <span data-ttu-id="56951-149">De forma predeterminada, una salida de error proporciona el código de error numérico y generalmente contiene el identificador de la columna en la que ocurrió el error.</span><span class="sxs-lookup"><span data-stu-id="56951-149">By default an error output provides the numeric error code and usually contains the identifier of the column in which the error occurred.</span></span> <span data-ttu-id="56951-150">Puede utilizar el componente de script para incluir la descripción del error en una columna adicional mediante el uso de una única línea del script para llamar al método <xref:Microsoft.SqlServer.Dts.Pipeline.Wrapper.IDTSComponentMetaData100.GetErrorDescription%2A> de la interfaz <xref:Microsoft.SqlServer.Dts.Pipeline.Wrapper.IDTSComponentMetaData100>.</span><span class="sxs-lookup"><span data-stu-id="56951-150">You can use the Script component to include the error description in an additional column by using a single line of script to call the <xref:Microsoft.SqlServer.Dts.Pipeline.Wrapper.IDTSComponentMetaData100.GetErrorDescription%2A> method of the <xref:Microsoft.SqlServer.Dts.Pipeline.Wrapper.IDTSComponentMetaData100> interface.</span></span>  
  
 <span data-ttu-id="56951-151">El componente de script se puede agregar al segmento de error del flujo de datos en cualquier componente de nivel inferior de los componentes de flujo de datos cuyos errores desea capturar, pero generalmente se ubica inmediatamente antes de las filas de error escritas para un destino.</span><span class="sxs-lookup"><span data-stu-id="56951-151">The Script component can be added to the error segment of the data flow anywhere downstream from the data flow components whose errors that you want to capture, but is typically placed immediately before the error rows are written to a destination.</span></span> <span data-ttu-id="56951-152">De esta manera, el script solo busca descripciones para filas de error escritas.</span><span class="sxs-lookup"><span data-stu-id="56951-152">This way, the script looks up only descriptions for error rows that are written.</span></span> <span data-ttu-id="56951-153">Por ejemplo, el segmento de error del flujo de datos puede corregir algunos errores y no escribir esas filas para un destino de error.</span><span class="sxs-lookup"><span data-stu-id="56951-153">For example, the error segment of the data flow may correct some errors and not write those rows to an error destination.</span></span> <span data-ttu-id="56951-154">Para obtener más información, vea [mejorar una salida de error con el componente de script](../extending-packages-scripting-data-flow-script-component-examples/enhancing-an-error-output-with-the-script-component.md).</span><span class="sxs-lookup"><span data-stu-id="56951-154">For more information, see [Enhancing an Error Output with the Script Component](../extending-packages-scripting-data-flow-script-component-examples/enhancing-an-error-output-with-the-script-component.md).</span></span>  
  
### <a name="to-configure-an-error-output"></a><span data-ttu-id="56951-155">Para configurar una salida de error</span><span class="sxs-lookup"><span data-stu-id="56951-155">To configure an error output</span></span>  
  
-   [<span data-ttu-id="56951-156">Configurar una salida de error en un componente de flujo de datos</span><span class="sxs-lookup"><span data-stu-id="56951-156">Configure an Error Output in a Data Flow Component</span></span>](../configure-an-error-output-in-a-data-flow-component.md)  
  
## <a name="see-also"></a><span data-ttu-id="56951-157">Consulte también</span><span class="sxs-lookup"><span data-stu-id="56951-157">See Also</span></span>  
 <span data-ttu-id="56951-158">[Flujo de datos](data-flow.md) </span><span class="sxs-lookup"><span data-stu-id="56951-158">[Data Flow](data-flow.md) </span></span>  
 <span data-ttu-id="56951-159">[Transformación de datos con transformaciones](transformations/transform-data-with-transformations.md) </span><span class="sxs-lookup"><span data-stu-id="56951-159">[Transform Data with Transformations](transformations/transform-data-with-transformations.md) </span></span>  
 <span data-ttu-id="56951-160">[Conectar componentes con rutas de acceso](../connect-components-with-paths.md) </span><span class="sxs-lookup"><span data-stu-id="56951-160">[Connect Components with Paths](../connect-components-with-paths.md) </span></span>  
 <span data-ttu-id="56951-161">[Tarea Flujo de datos](../control-flow/data-flow-task.md) </span><span class="sxs-lookup"><span data-stu-id="56951-161">[Data Flow Task](../control-flow/data-flow-task.md) </span></span>  
 [<span data-ttu-id="56951-162">Flujo de datos</span><span class="sxs-lookup"><span data-stu-id="56951-162">Data Flow</span></span>](data-flow.md)  
  
  
