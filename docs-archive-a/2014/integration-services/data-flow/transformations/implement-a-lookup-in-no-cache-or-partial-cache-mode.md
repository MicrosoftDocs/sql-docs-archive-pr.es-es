---
title: Implementar una búsqueda en modo No hay caché o Caché parcial | Microsoft Docs
ms.custom: ''
ms.date: 06/13/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: integration-services
ms.topic: conceptual
helpviewer_keywords:
- Lookup transformation
- match exactly [Integration Services]
- lookups [Integration Services]
- exact matches [Integration Services]
ms.assetid: 01b7fbca-5181-4d47-9f75-7f25af6b40d2
author: chugugrace
ms.author: chugu
ms.openlocfilehash: 5c3958450d6371299972a69f5312a3c631c853aa
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 08/04/2020
ms.locfileid: "87676098"
---
# <a name="implement-a-lookup-in-no-cache-or-partial-cache-mode"></a><span data-ttu-id="de64f-102">Implementar una búsqueda en modo No hay caché o Caché parcial</span><span class="sxs-lookup"><span data-stu-id="de64f-102">Implement a Lookup in No Cache or Partial Cache Mode</span></span>
  <span data-ttu-id="de64f-103">Puede configurar la transformación Búsqueda para utilizar el modo Caché parcial o el modo Sin caché:</span><span class="sxs-lookup"><span data-stu-id="de64f-103">You can configure the Lookup transformation to use the partial cache or no cache mode:</span></span>  
  
-   <span data-ttu-id="de64f-104">Caché parcial</span><span class="sxs-lookup"><span data-stu-id="de64f-104">Partial cache</span></span>  
  
     <span data-ttu-id="de64f-105">Las filas con entradas coincidentes en el conjunto de datos de referencia y, opcionalmente, las que no tienen entradas coincidentes se almacenan en la memoria caché.</span><span class="sxs-lookup"><span data-stu-id="de64f-105">The rows with matching entries in the reference dataset and, optionally, the rows without matching entries in the dataset are stored in cache.</span></span> <span data-ttu-id="de64f-106">Cuando se supera el tamaño de la memoria caché, la transformación Búsqueda quita automáticamente de la memoria caché las filas utilizadas con menor frecuencia.</span><span class="sxs-lookup"><span data-stu-id="de64f-106">When the memory size of the cache is exceeded, the Lookup transformation automatically removes the least frequently used rows from the cache.</span></span>  
  
-   <span data-ttu-id="de64f-107">Sin caché</span><span class="sxs-lookup"><span data-stu-id="de64f-107">No cache</span></span>  
  
     <span data-ttu-id="de64f-108">No se carga ningún dato en la caché.</span><span class="sxs-lookup"><span data-stu-id="de64f-108">No data is loaded into cache.</span></span>  
  
 <span data-ttu-id="de64f-109">Tanto si se selecciona el modo Caché parcial como el modo Sin caché, se utiliza un administrador de conexiones OLE DB para conectar con el conjunto de datos de referencia.</span><span class="sxs-lookup"><span data-stu-id="de64f-109">Whether you select partial cache or no cache, you use an OLE DB connection manager to connect to the reference dataset.</span></span> <span data-ttu-id="de64f-110">El conjunto de datos de referencia se genera mediante una tabla, vista o consulta SQL durante la ejecución de la transformación Búsqueda</span><span class="sxs-lookup"><span data-stu-id="de64f-110">The reference dataset is generated by using a table, view, or SQL query during the execution of the Lookup transformation</span></span>  
  
### <a name="to-implement-a-lookup-transformation-in-no-cache-or-partial-cache-mode"></a><span data-ttu-id="de64f-111">Para implementar una transformación Búsqueda en modo No hay caché o Caché parcial</span><span class="sxs-lookup"><span data-stu-id="de64f-111">To implement a Lookup transformation in no cache or partial cache mode</span></span>  
  
1.  <span data-ttu-id="de64f-112">En [!INCLUDE[ssBIDevStudioFull](../../../includes/ssbidevstudiofull-md.md)], abra el proyecto de [!INCLUDE[ssISnoversion](../../../includes/ssisnoversion-md.md)] que contiene el paquete con el que desea trabajar y ábralo.</span><span class="sxs-lookup"><span data-stu-id="de64f-112">In [!INCLUDE[ssBIDevStudioFull](../../../includes/ssbidevstudiofull-md.md)], open the [!INCLUDE[ssISnoversion](../../../includes/ssisnoversion-md.md)] project that contains the package you want, and then open the package.</span></span>  
  
2.  <span data-ttu-id="de64f-113">En la pestaña **Flujo de datos** , agregue una transformación de Búsqueda.</span><span class="sxs-lookup"><span data-stu-id="de64f-113">On the **Data Flow** tab, add a Lookup transformation.</span></span>  
  
3.  <span data-ttu-id="de64f-114">Conecte la transformación Búsqueda al flujo de datos arrastrando un conector desde un origen o una transformación anterior hasta la transformación Búsqueda.</span><span class="sxs-lookup"><span data-stu-id="de64f-114">Connect the Lookup transformation to the data flow by dragging a connector from a source or a previous transformation to the Lookup transformation.</span></span>  
  
    > [!NOTE]  
    >  <span data-ttu-id="de64f-115">Una transformación Búsqueda que se configure para utilizar el modo sin memoria caché podría no validarse si esa transformación se conectara a un archivo plano que contuviera un campo de fecha vacío.</span><span class="sxs-lookup"><span data-stu-id="de64f-115">A Lookup transformation that is configured to use the no cache mode might not validate if that transformation connects to a flat file that contains an empty date field.</span></span> <span data-ttu-id="de64f-116">El que la transformación se valide depende de si el administrador de conexiones para el archivo plano se ha configurado para conservar los valores NULL.</span><span class="sxs-lookup"><span data-stu-id="de64f-116">Whether the transformation validates depends on whether the connection manager for the flat file has been configured to retain null values.</span></span> <span data-ttu-id="de64f-117">Para asegurarse de que la transformación Búsqueda se valida, en el **Editor de origen de archivos planos**, de la página **Administrador de conexiones**, seleccione la opción **Conservar los valores null del origen como valores null en el flujo de datos** .</span><span class="sxs-lookup"><span data-stu-id="de64f-117">To ensure that the Lookup transformation validates, in the **Flat File Source Editor**, on the **Connection Manager Page**, select the **Retain null values from the source as null values in the data flow** option.</span></span>  
  
4.  <span data-ttu-id="de64f-118">Haga doble clic en el origen o la transformación anterior para configurar el componente.</span><span class="sxs-lookup"><span data-stu-id="de64f-118">Double-click the source or previous transformation to configure the component.</span></span>  
  
5.  <span data-ttu-id="de64f-119">Haga doble clic en la transformación Búsqueda y, luego, en el **Editor de transformación Búsqueda**, en la página **General** , seleccione **Caché parcial** o **No hay caché**.</span><span class="sxs-lookup"><span data-stu-id="de64f-119">Double-click the Lookup transformation, and then in the **Lookup Transformation Editor**, on the **General** page, select **Partialcache** or **No cache**.</span></span>  
  
6.  <span data-ttu-id="de64f-120">En la lista **Especificar cómo administrar las filas con entradas no coincidentes** , seleccione una opción de control de errores.</span><span class="sxs-lookup"><span data-stu-id="de64f-120">For **Specify how to handle rows with no matching entries** list, select an error handling option from the list.</span></span>  
  
7.  <span data-ttu-id="de64f-121">En la página **Conexión** , seleccione un administrador de conexiones en la lista **Administradores de conexión OLE DB** o haga clic en **Nuevo** para crear un nuevo administrador de conexiones.</span><span class="sxs-lookup"><span data-stu-id="de64f-121">On the **Connection** page, select a connection manager from the **OLE DB connection manager** list or click **New** to create a new connection manager.</span></span> <span data-ttu-id="de64f-122">Para más información, consulte [OLE DB Connection Manager](../../connection-manager/ole-db-connection-manager.md).</span><span class="sxs-lookup"><span data-stu-id="de64f-122">For more information, see [OLE DB Connection Manager](../../connection-manager/ole-db-connection-manager.md).</span></span>  
  
8.  <span data-ttu-id="de64f-123">Realice uno de los siguientes pasos:</span><span class="sxs-lookup"><span data-stu-id="de64f-123">Do one of the following steps:</span></span>  
  
    -   <span data-ttu-id="de64f-124">Haga clic en **Usar una tabla o una vista**y, a continuación, seleccione una tabla o una vista, o haga clic en **Nueva** para crear una tabla o una vista.</span><span class="sxs-lookup"><span data-stu-id="de64f-124">Click **Use a table or a view**, and then either select a table or view, or click **New** to create a table or view.</span></span>  
  
    -   <span data-ttu-id="de64f-125">Haga clic en **Usar los resultados de una consulta SQL**y, a continuación, genere una consulta en la ventana **Comando SQL** .</span><span class="sxs-lookup"><span data-stu-id="de64f-125">Click **Use results of an SQL query**, and then build a query in the **SQL Command** window.</span></span>  
  
         <span data-ttu-id="de64f-126">O bien</span><span class="sxs-lookup"><span data-stu-id="de64f-126">-or-</span></span>  
  
         <span data-ttu-id="de64f-127">Haga clic en **Generar consulta** para generar una consulta con las herramientas gráficas que proporciona el **Generador de consultas** .</span><span class="sxs-lookup"><span data-stu-id="de64f-127">Click **Build Query** to build a query by using the graphical tools that the **Query Builder** provides.</span></span>  
  
         <span data-ttu-id="de64f-128">O bien</span><span class="sxs-lookup"><span data-stu-id="de64f-128">-or-</span></span>  
  
         <span data-ttu-id="de64f-129">Haga clic en **Examinar** para importar una instrucción SQL de un archivo.</span><span class="sxs-lookup"><span data-stu-id="de64f-129">Click **Browse** to import an SQL statement from a file.</span></span>  
  
     <span data-ttu-id="de64f-130">Para validar la consulta SQL, haga clic en **Analizar consulta**.</span><span class="sxs-lookup"><span data-stu-id="de64f-130">To validate the SQL query, click **Parse Query**.</span></span>  
  
     <span data-ttu-id="de64f-131">Para ver un ejemplo de los datos, haga clic en **Vista previa**.</span><span class="sxs-lookup"><span data-stu-id="de64f-131">To view a sample of the data, click **Preview**.</span></span>  
  
9. <span data-ttu-id="de64f-132">Haga clic en la página **Columnas** y, a continuación, arrastre por lo menos una columna desde la lista **Columnas de entrada disponibles** hasta una columna de la lista **Columnas de búsqueda disponibles** .</span><span class="sxs-lookup"><span data-stu-id="de64f-132">Click the **Columns** page, and then drag at least one column from the **Available Input Columns** list to a column in the **Available Lookup Column** list.</span></span>  
  
    > [!NOTE]  
    >  <span data-ttu-id="de64f-133">La transformación Búsqueda asigna automáticamente las columnas que tienen el mismo nombre y el mismo tipo de datos.</span><span class="sxs-lookup"><span data-stu-id="de64f-133">The Lookup transformation automatically maps columns that have the same name and the same data type.</span></span>  
  
    > [!NOTE]  
    >  <span data-ttu-id="de64f-134">Las columnas deben tener tipos coincidentes de datos para asignarse.</span><span class="sxs-lookup"><span data-stu-id="de64f-134">Columns must have matching data types to be mapped.</span></span> <span data-ttu-id="de64f-135">Para obtener más información, vea [Integration Services Data Types](../integration-services-data-types.md).</span><span class="sxs-lookup"><span data-stu-id="de64f-135">For more information, see [Integration Services Data Types](../integration-services-data-types.md).</span></span>  
  
10. <span data-ttu-id="de64f-136">Incluir las columnas de búsqueda en el resultado realizando los pasos siguientes:</span><span class="sxs-lookup"><span data-stu-id="de64f-136">Include lookup columns in the output by doing the following steps:</span></span>  
  
    1.  <span data-ttu-id="de64f-137">En la lista **Columnas de búsqueda disponibles** , seleccione las columnas.</span><span class="sxs-lookup"><span data-stu-id="de64f-137">From the **Available Lookup Columns** list, select columns.</span></span>  
  
    2.  <span data-ttu-id="de64f-138">En la lista **Operación de búsqueda** , especifique si los valores de las columnas de búsqueda reemplazan los valores de la columna de entrada o se escriben en una nueva columna.</span><span class="sxs-lookup"><span data-stu-id="de64f-138">In **Lookup Operation** list, specify whether the values from the lookup columns replace values in the input column or are written to a new column.</span></span>  
  
11. <span data-ttu-id="de64f-139">Si seleccionó **Caché parcial** en el paso 5, en la página **Avanzadas** , establezca las opciones de caché siguientes:</span><span class="sxs-lookup"><span data-stu-id="de64f-139">If you selected **Partial cache** in step 5, on the **Advanced** page, set the following cache options:</span></span>  
  
    -   <span data-ttu-id="de64f-140">En la lista **Tamaño de caché (32 bits)** , seleccione el tamaño de caché para los entornos de 32 bits.</span><span class="sxs-lookup"><span data-stu-id="de64f-140">From the **Cache size (32-bit)** list, select the cache size for 32-bit environments.</span></span>  
  
    -   <span data-ttu-id="de64f-141">En la lista **Tamaño de caché (64 bits)** , seleccione el tamaño de caché para los entornos de 64 bits.</span><span class="sxs-lookup"><span data-stu-id="de64f-141">From the **Cache size (64-bit)** list, select the cache size for 64-bit environments.</span></span>  
  
    -   <span data-ttu-id="de64f-142">Para almacenar en memoria caché las filas con entradas no coincidentes en la referencia, seleccione **Habilitar caché para las filas con entradas no coincidentes**.</span><span class="sxs-lookup"><span data-stu-id="de64f-142">To cache the rows without matching entries in the reference, select **Enable cache for rows with no matching entries**.</span></span>  
  
    -   <span data-ttu-id="de64f-143">En la lista **Asignación desde caché** , seleccione el porcentaje que debe utilizarse de la memoria caché para almacenar las filas sin entradas coincidentes.</span><span class="sxs-lookup"><span data-stu-id="de64f-143">From the **Allocation from cache** list, select the percentage of the cache to use to store the rows without matching entries.</span></span>  
  
12. <span data-ttu-id="de64f-144">Para modificar la instrucción SQL que genera el conjunto de datos de referencia, seleccione **Modificar la instrucción SQL**y cambie la instrucción SQL mostrada en el cuadro de texto.</span><span class="sxs-lookup"><span data-stu-id="de64f-144">To modify the SQL statement that generates the reference dataset, select **Modify the SQL statement**, and change the SQL statement displayed in the text box.</span></span>  
  
     <span data-ttu-id="de64f-145">Si la instrucción incluye parámetros, haga clic en **Parámetros** para asignar los parámetros a las columnas de entrada.</span><span class="sxs-lookup"><span data-stu-id="de64f-145">If the statement includes parameters, click **Parameters** to map the parameters to input columns.</span></span>  
  
    > [!NOTE]  
    >  <span data-ttu-id="de64f-146">La instrucción SQL opcional que se especifica en esta página invalida y reemplaza el nombre de tabla que se especificó en la página **Conexión** del **Editor de transformación Búsqueda**.</span><span class="sxs-lookup"><span data-stu-id="de64f-146">The optional SQL statement that you specify on this page overrides and replaces the table name that you specified on the **Connection** page of the **Lookup Transformation Editor**.</span></span>  
  
13. <span data-ttu-id="de64f-147">Para configurar la salida de errores, haga clic en la página **Salida de error** y establezca las opciones de control de errores.</span><span class="sxs-lookup"><span data-stu-id="de64f-147">To configure the error output, click the **Error Output** page and set the error handling options.</span></span> <span data-ttu-id="de64f-148">Para obtener más información, vea [Editor de transformación Búsqueda &#40;página Salida de error&#41;](../../lookup-transformation-editor-error-output-page.md).</span><span class="sxs-lookup"><span data-stu-id="de64f-148">For more information, see [Lookup Transformation Editor &#40;Error Output Page&#41;](../../lookup-transformation-editor-error-output-page.md).</span></span>  
  
14. <span data-ttu-id="de64f-149">Haga clic en **Aceptar** para guardar los cambios en la transformación Búsqueda y, a continuación, ejecute el paquete.</span><span class="sxs-lookup"><span data-stu-id="de64f-149">Click **OK** to save your changes to the Lookup transformation, and then run the package.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="de64f-150">Consulte también</span><span class="sxs-lookup"><span data-stu-id="de64f-150">See Also</span></span>  
 [<span data-ttu-id="de64f-151">Transformaciones de Integration Services</span><span class="sxs-lookup"><span data-stu-id="de64f-151">Integration Services Transformations</span></span>](integration-services-transformations.md)  
  
  
