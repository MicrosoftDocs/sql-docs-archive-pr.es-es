---
title: Transformación Búsqueda de términos | Microsoft Docs
ms.custom: ''
ms.date: 03/06/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: integration-services
ms.topic: conceptual
f1_keywords:
- sql12.dts.designer.termlookuptrans.f1
helpviewer_keywords:
- extracting data [Integration Services]
- match extracted terms [Integration Services]
- text extraction [Integration Services]
- term extractions [Integration Services]
- lookups [Integration Services]
- counting extracted items
- Term Lookup transformation
ms.assetid: 3c0fa2f8-cb6a-4371-b184-7447be001de1
author: chugugrace
ms.author: chugu
ms.openlocfilehash: a679f9e191b2b1ec54d982a715085fe5b6bddfc5
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 08/04/2020
ms.locfileid: "87748841"
---
# <a name="term-lookup-transformation"></a><span data-ttu-id="1df15-102">Búsqueda de términos, transformación</span><span class="sxs-lookup"><span data-stu-id="1df15-102">Term Lookup Transformation</span></span>
  <span data-ttu-id="1df15-103">La transformación Búsqueda de términos compara los términos extraídos del texto en una columna de entrada de transformación con los términos de una tabla de referencia.</span><span class="sxs-lookup"><span data-stu-id="1df15-103">The Term Lookup transformation matches terms extracted from text in a transformation input column with terms in a reference table.</span></span> <span data-ttu-id="1df15-104">A continuación, cuenta la cantidad de veces que un término aparece en la tabla de búsqueda en el conjunto de datos de entrada y escribe el recuento junto con el término de la tabla de referencia en columnas en la salida de transformación.</span><span class="sxs-lookup"><span data-stu-id="1df15-104">It then counts the number of times a term in the lookup table occurs in the input data set, and writes the count together with the term from the reference table to columns in the transformation output.</span></span> <span data-ttu-id="1df15-105">Esta transformación resulta útil para crear una lista personalizada de palabras basada en el texto de entrada, que incluye estadísticas de frecuencia de aparición de palabras.</span><span class="sxs-lookup"><span data-stu-id="1df15-105">This transformation is useful for creating a custom word list based on the input text, complete with word frequency statistics.</span></span>  
  
 <span data-ttu-id="1df15-106">Antes de que la transformación Búsqueda de términos realice una búsqueda, extrae palabras del texto en una columna de entrada aplicando el mismo método que la transformación Extracción de términos:</span><span class="sxs-lookup"><span data-stu-id="1df15-106">Before the Term Lookup transformation performs a lookup, it extracts words from the text in an input column using the same method as the Term Extraction transformation:</span></span>  
  
-   <span data-ttu-id="1df15-107">El texto se divide en frases.</span><span class="sxs-lookup"><span data-stu-id="1df15-107">Text is broken into sentences.</span></span>  
  
-   <span data-ttu-id="1df15-108">Las frases se dividen en palabras.</span><span class="sxs-lookup"><span data-stu-id="1df15-108">Sentences are broken into words.</span></span>  
  
-   <span data-ttu-id="1df15-109">Las palabras se normalizan.</span><span class="sxs-lookup"><span data-stu-id="1df15-109">Words are normalized.</span></span>  
  
 <span data-ttu-id="1df15-110">Para personalizar de forma adicional cuáles son los términos que deben coincidir, la transformación Búsqueda de términos puede configurarse para obtener coincidencias que distingan mayúsculas de minúsculas.</span><span class="sxs-lookup"><span data-stu-id="1df15-110">To further customize which terms to match, the Term Lookup transformation can be configured to perform a case-sensitive match.</span></span>  
  
## <a name="matches"></a><span data-ttu-id="1df15-111">Coincide</span><span class="sxs-lookup"><span data-stu-id="1df15-111">Matches</span></span>  
 <span data-ttu-id="1df15-112">La transformación Búsqueda de términos realiza una búsqueda y devuelve un valor aplicando las siguientes reglas:</span><span class="sxs-lookup"><span data-stu-id="1df15-112">The Term Lookup performs a lookup and returns a value using the following rules:</span></span>  
  
-   <span data-ttu-id="1df15-113">Si la transformación se configura para obtener coincidencias que distingan mayúsculas de minúsculas, se descartan las coincidencias que no pasan la comparación con distinción de mayúsculas y minúsculas.</span><span class="sxs-lookup"><span data-stu-id="1df15-113">If the transformation is configured to perform case-sensitive matches, matches that fail a case-sensitive comparison are discarded.</span></span> <span data-ttu-id="1df15-114">Por ejemplo, *estudiante* y *ESTUDIANTE* se consideran palabras diferentes.</span><span class="sxs-lookup"><span data-stu-id="1df15-114">For example, *student* and *STUDENT* are treated as separate words.</span></span>  
  
    > [!NOTE]  
    >  <span data-ttu-id="1df15-115">Una palabra sin mayúsculas puede coincidir con una palabra que aparece con mayúscula inicial al principio de una frase.</span><span class="sxs-lookup"><span data-stu-id="1df15-115">A non-capitalized word can be matched with a word that is capitalized at the beginning of a sentence.</span></span> <span data-ttu-id="1df15-116">Por ejemplo, la coincidencia entre *estudiante* y *Estudiante* resulta correcta cuando *Estudiante* es la primera palabra de una frase.</span><span class="sxs-lookup"><span data-stu-id="1df15-116">For example, the match between *student* and *Student* succeeds when *Student* is the first word in a sentence.</span></span>  
  
-   <span data-ttu-id="1df15-117">Si la forma plural del nombre o frase existe en la tabla de referencia, la búsqueda coincide solo con la forma plural del nombre o frase.</span><span class="sxs-lookup"><span data-stu-id="1df15-117">If a plural form of the noun or noun phrase exists in the reference table, the lookup matches only the plural form of the noun or noun phrase.</span></span> <span data-ttu-id="1df15-118">Por ejemplo, se contarían todas las instancias de *estudiantes* independientemente de las instancias de *estudiante*.</span><span class="sxs-lookup"><span data-stu-id="1df15-118">For example, all instances of *students* would be counted separately from the instances of *student*.</span></span>  
  
-   <span data-ttu-id="1df15-119">Si solo se encuentra la forma singular de la palabra en la tabla de referencia, las formas singular y plural de la palabra o frase coinciden con la forma singular.</span><span class="sxs-lookup"><span data-stu-id="1df15-119">If only the singular form of the word is found in the reference table, both the singular and the plural forms of the word or phrase are matched to the singular form.</span></span> <span data-ttu-id="1df15-120">Por ejemplo, si la tabla de búsqueda contiene la palabra *estudiante*y la transformación encuentra las palabras *estudiante* y *estudiantes*, ambas palabras se contarían como coincidencia del término buscado *estudiante*.</span><span class="sxs-lookup"><span data-stu-id="1df15-120">For example, if the lookup table contains *student*, and the transformation finds the words *student* and *students*, both words would be counted as a match for the lookup term *student*.</span></span>  
  
-   <span data-ttu-id="1df15-121">Si el texto de la columna de entrada es una frase lematizada, solo la última palabra en la frase se ve afectada por la normalización.</span><span class="sxs-lookup"><span data-stu-id="1df15-121">If the text in the input column is a lemmatized noun phrase, only the last word in the noun phrase is affected by normalization.</span></span> <span data-ttu-id="1df15-122">Por ejemplo, la versión lematizada de *citas con los médicos* es *cita con los médicos*.</span><span class="sxs-lookup"><span data-stu-id="1df15-122">For example, the lemmatized version of *doctors appointments* is *doctors appointment*.</span></span>  
  
 <span data-ttu-id="1df15-123">Cuando un elemento de búsqueda contiene términos que se superponen en el conjunto de referencia (es decir, un subtérmino se encuentra en más de un registro de referencia), la transformación Búsqueda de términos solo devuelve un resultado de búsqueda.</span><span class="sxs-lookup"><span data-stu-id="1df15-123">When a lookup item contains terms that overlap in the reference set-that is, a sub-term is found in more than one reference record-the Term Lookup transformation returns only one lookup result.</span></span> <span data-ttu-id="1df15-124">En el siguiente ejemplo se muestra el resultado cuando un elemento de la búsqueda contiene un subtérmino que se superpone.</span><span class="sxs-lookup"><span data-stu-id="1df15-124">The following example shows the result when a lookup item contains an overlapping sub-term.</span></span> <span data-ttu-id="1df15-125">El subtérmino que se superpone en este caso es *Windows*, que se encuentra en dos términos de referencia.</span><span class="sxs-lookup"><span data-stu-id="1df15-125">The overlapping sub-term in this case is *Windows*, which is found within two reference terms.</span></span> <span data-ttu-id="1df15-126">Sin embargo, la transformación no devuelve dos resultados, sino únicamente un solo término de referencia, *Windows*.</span><span class="sxs-lookup"><span data-stu-id="1df15-126">However, the transformation does not return two results, but returns only a single reference term, *Windows*.</span></span> <span data-ttu-id="1df15-127">No se devuelve el segundo término de referencia, *Windows 7 Professional*.</span><span class="sxs-lookup"><span data-stu-id="1df15-127">The second reference term, *Windows 7 Professional*, is not returned.</span></span>  
  
|<span data-ttu-id="1df15-128">Elemento</span><span class="sxs-lookup"><span data-stu-id="1df15-128">Item</span></span>|<span data-ttu-id="1df15-129">Value</span><span class="sxs-lookup"><span data-stu-id="1df15-129">Value</span></span>|  
|----------|-----------|  
|<span data-ttu-id="1df15-130">Término de entrada</span><span class="sxs-lookup"><span data-stu-id="1df15-130">Input term</span></span>|<span data-ttu-id="1df15-131">Windows 7 Professional</span><span class="sxs-lookup"><span data-stu-id="1df15-131">Windows 7 Professional</span></span>|  
|<span data-ttu-id="1df15-132">Términos de referencia</span><span class="sxs-lookup"><span data-stu-id="1df15-132">Reference terms</span></span>|<span data-ttu-id="1df15-133">Windows, Windows 7 Professional</span><span class="sxs-lookup"><span data-stu-id="1df15-133">Windows, Windows 7 Professional</span></span>|  
|<span data-ttu-id="1df15-134">Output</span><span class="sxs-lookup"><span data-stu-id="1df15-134">Output</span></span>|<span data-ttu-id="1df15-135">Windows</span><span class="sxs-lookup"><span data-stu-id="1df15-135">Windows</span></span>|  
  
 <span data-ttu-id="1df15-136">La transformación Búsqueda de términos puede obtener coincidencias de nombres y frases que contienen caracteres especiales, y los datos en la tabla de referencia pueden incluir estos caracteres.</span><span class="sxs-lookup"><span data-stu-id="1df15-136">The Term Lookup transformation can match nouns and noun phrases that contain special characters, and the data in the reference table may include these characters.</span></span> <span data-ttu-id="1df15-137">Los caracteres especiales son los siguientes: %, @, &, $, #, \*, :, ;, ., **,** , !, ?, \<, >, +, =, ^, ~, |, \\, /, (, ), [, ], {, }, " y '.</span><span class="sxs-lookup"><span data-stu-id="1df15-137">The special characters are as follows: %, @, &, $, #, \*, :, ;, ., **,** , !, ?, \<, >, +, =, ^, ~, |, \\, /, (, ), [, ], {, }, ", and '.</span></span>  
  
## <a name="data-types"></a><span data-ttu-id="1df15-138">Tipo de datos</span><span class="sxs-lookup"><span data-stu-id="1df15-138">Data Types</span></span>  
 <span data-ttu-id="1df15-139">La transformación Búsqueda de términos solo puede usar una columna que tenga el tipo de datos DT_WSTR o DT_NTEXT.</span><span class="sxs-lookup"><span data-stu-id="1df15-139">The Term Lookup transformation can only use a column that has either the DT_WSTR or the DT_NTEXT data type.</span></span> <span data-ttu-id="1df15-140">Si una columna contiene texto, pero no tiene uno de estos tipos de datos, la transformación Conversión de datos puede agregar una columna con el tipo de datos DT_WSTR o DT_NTEXT al flujo de datos y copiar los valores de columnas en la nueva columna.</span><span class="sxs-lookup"><span data-stu-id="1df15-140">If a column contains text, but does not have one of these data types, the Data Conversion transformation can add a column with the DT_WSTR or DT_NTEXT data type to the data flow and copy the column values to the new column.</span></span> <span data-ttu-id="1df15-141">La salida de transformación Conversión de datos posteriormente se puede usar como la entrada para la transformación Búsqueda de términos.</span><span class="sxs-lookup"><span data-stu-id="1df15-141">The output from the Data Conversion transformation can then be used as the input to the Term Lookup transformation.</span></span> <span data-ttu-id="1df15-142">Para más información, consulte [Data Conversion Transformation](data-conversion-transformation.md).</span><span class="sxs-lookup"><span data-stu-id="1df15-142">For more information, see [Data Conversion Transformation](data-conversion-transformation.md).</span></span>  
  
## <a name="configuration-the-term-lookup-transformation"></a><span data-ttu-id="1df15-143">Configuración de la transformación Búsqueda de términos</span><span class="sxs-lookup"><span data-stu-id="1df15-143">Configuration the Term Lookup Transformation</span></span>  
 <span data-ttu-id="1df15-144">Las columnas de entrada de la transformación Búsqueda de términos incluyen la propiedad InputColumnType, que indica el uso de la columna.</span><span class="sxs-lookup"><span data-stu-id="1df15-144">The Term Lookup transformation input columns includes the InputColumnType property, which indicates the use of the column.</span></span> <span data-ttu-id="1df15-145">InputColumnType puede incluir los valores siguientes:</span><span class="sxs-lookup"><span data-stu-id="1df15-145">InputColumnType can contain the following values:</span></span>  
  
-   <span data-ttu-id="1df15-146">El valor 0 indica que la columna se pasa a la salida solamente y no se utiliza en la búsqueda.</span><span class="sxs-lookup"><span data-stu-id="1df15-146">The value 0 indicates the column is passed through to the output only and is not used in the lookup.</span></span>  
  
-   <span data-ttu-id="1df15-147">El valor 1 indica que la columna se usa en la búsqueda solamente.</span><span class="sxs-lookup"><span data-stu-id="1df15-147">The value 1 indicates the column is used in the lookup only.</span></span>  
  
-   <span data-ttu-id="1df15-148">El valor 2 indica que la columna se pasa a la salida y también se utiliza en la búsqueda.</span><span class="sxs-lookup"><span data-stu-id="1df15-148">The value 2 indicates the column is passed through to the output, and is also used in the lookup.</span></span>  
  
 <span data-ttu-id="1df15-149">Las columnas de salida de transformación cuya propiedad InputColumnType se establece en 0 o 2 incluyen la propiedad CustomLineageID para una columna, que contiene el identificador de linaje asignado a la columna por un componente de flujo de datos requerido.</span><span class="sxs-lookup"><span data-stu-id="1df15-149">Transformation output columns whose InputColumnType property is set to 0 or 2 include the CustomLineageID property for a column, which contains the lineage identifier assigned to the column by an upstream data flow component.</span></span>  
  
 <span data-ttu-id="1df15-150">La transformación Búsqueda de términos agrega dos columnas a la salida de transformación, que se denomina de forma predeterminada `Term` y `Frequency`.</span><span class="sxs-lookup"><span data-stu-id="1df15-150">The Term Lookup transformation adds two columns to the transformation output, named by default `Term` and `Frequency`.</span></span> <span data-ttu-id="1df15-151">`Term` contiene un término de la tabla de búsqueda y `Frequency` contiene el número de veces que el término en la tabla de referencia aparece en el conjunto de datos de entrada establecidos.</span><span class="sxs-lookup"><span data-stu-id="1df15-151">`Term` contains a term from the lookup table and `Frequency` contains the number of times the term in the reference table occurs in the input data set.</span></span> <span data-ttu-id="1df15-152">Estas columnas no incluyen la propiedad CustomLineageID.</span><span class="sxs-lookup"><span data-stu-id="1df15-152">These columns do not include the CustomLineageID property.</span></span>  
  
 <span data-ttu-id="1df15-153">La tabla de búsqueda debe ser una tabla en una base de datos de [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] o de Access.</span><span class="sxs-lookup"><span data-stu-id="1df15-153">The lookup table must be a table in a [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] or an Access database.</span></span> <span data-ttu-id="1df15-154">Si la salida de transformación Extracción de términos se guarda en una tabla, esta tabla se puede usar como tabla de referencia, pero también se pueden usar otras tablas.</span><span class="sxs-lookup"><span data-stu-id="1df15-154">If the output of the Term Extraction transformation is saved to a table, this table can be used as the reference table, but other tables can also be used.</span></span> <span data-ttu-id="1df15-155">El texto en archivos planos, libros de Excel u otros orígenes se debe importar a una base de datos de [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] o de Access antes de poder usar la transformación Búsqueda de términos.</span><span class="sxs-lookup"><span data-stu-id="1df15-155">Text in flat files, Excel workbooks or other sources must be imported to a [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] database or an Access database before you can use the Term Lookup transformation.</span></span>  
  
 <span data-ttu-id="1df15-156">La transformación Búsqueda de términos usa una conexión OLE DB independiente para conectarse a la tabla de referencia.</span><span class="sxs-lookup"><span data-stu-id="1df15-156">The Term Lookup transformation uses a separate OLE DB connection to connect to the reference table.</span></span> <span data-ttu-id="1df15-157">Para más información, consulte [OLE DB Connection Manager](../../connection-manager/ole-db-connection-manager.md).</span><span class="sxs-lookup"><span data-stu-id="1df15-157">For more information, see [OLE DB Connection Manager](../../connection-manager/ole-db-connection-manager.md).</span></span>  
  
 <span data-ttu-id="1df15-158">La transformación Búsqueda de términos funciona en un modo de almacenamiento previo en caché completo.</span><span class="sxs-lookup"><span data-stu-id="1df15-158">The Term Lookup transformation works in a fully precached mode.</span></span> <span data-ttu-id="1df15-159">En el tiempo de ejecución, la transformación Búsqueda de términos lee los términos de la tabla de referencia y los almacena en su memoria privada antes de que procese cualquier fila de entrada de transformación.</span><span class="sxs-lookup"><span data-stu-id="1df15-159">At run time, the Term Lookup transformation reads the terms from the reference table and stores them in its private memory before it processes any transformation input rows.</span></span>  
  
 <span data-ttu-id="1df15-160">Debido a que los términos en una columna de entrada pueden repetirse, la salida de transformación Búsqueda de términos normalmente tiene más filas que la entrada de la transformación.</span><span class="sxs-lookup"><span data-stu-id="1df15-160">Because the terms in an input column row may repeat, the output of the Term Lookup transformation typically has more rows than the transformation input.</span></span>  
  
 <span data-ttu-id="1df15-161">La transformación tiene una entrada y una salida.</span><span class="sxs-lookup"><span data-stu-id="1df15-161">The transformation has one input and one output.</span></span> <span data-ttu-id="1df15-162">No admite salidas de error.</span><span class="sxs-lookup"><span data-stu-id="1df15-162">It does not support error outputs.</span></span>  
  
 <span data-ttu-id="1df15-163">Puede establecer propiedades a través del Diseñador de [!INCLUDE[ssIS](../../../includes/ssis-md.md)] o mediante programación.</span><span class="sxs-lookup"><span data-stu-id="1df15-163">You can set properties through [!INCLUDE[ssIS](../../../includes/ssis-md.md)] Designer or programmatically.</span></span>  
  
 <span data-ttu-id="1df15-164">Para obtener más información sobre las propiedades que se pueden establecer en el cuadro de diálogo **Editor de transformación Búsqueda de términos** , haga clic en uno de los siguientes temas:</span><span class="sxs-lookup"><span data-stu-id="1df15-164">For more information about the properties that you can set in the **Term Lookup Transformation Editor** dialog box, click one of the following topics:</span></span>  
  
-   [<span data-ttu-id="1df15-165">Editor de transformación Búsqueda de términos &#40;pestaña Tabla de referencia&#41;</span><span class="sxs-lookup"><span data-stu-id="1df15-165">Term Lookup Transformation Editor &#40;Reference Table Tab&#41;</span></span>](../../term-lookup-transformation-editor-reference-table-tab.md)  
  
-   [<span data-ttu-id="1df15-166">Editor de transformación Búsqueda de términos &#40;pestaña Búsqueda de términos&#41;</span><span class="sxs-lookup"><span data-stu-id="1df15-166">Term Lookup Transformation Editor &#40;Term Lookup Tab&#41;</span></span>](../../term-lookup-transformation-editor-term-lookup-tab.md)  
  
-   [<span data-ttu-id="1df15-167">Editor de transformación Búsqueda de términos &#40;pestaña Avanzadas&#41;</span><span class="sxs-lookup"><span data-stu-id="1df15-167">Term Lookup Transformation Editor &#40;Advanced Tab&#41;</span></span>](../../term-lookup-transformation-editor-advanced-tab.md)  
  
 <span data-ttu-id="1df15-168">Para obtener más información acerca de las propiedades que puede establecer a través del cuadro de diálogo **Editor avanzado** o mediante programación, haga clic en uno de los temas siguientes:</span><span class="sxs-lookup"><span data-stu-id="1df15-168">For more information about the properties that you can set in the **Advanced Editor** dialog box or programmatically, click one of the following topics:</span></span>  
  
-   [<span data-ttu-id="1df15-169">Common Properties</span><span class="sxs-lookup"><span data-stu-id="1df15-169">Common Properties</span></span>](../../common-properties.md)  
  
-   [<span data-ttu-id="1df15-170">Propiedades personalizadas de transformación</span><span class="sxs-lookup"><span data-stu-id="1df15-170">Transformation Custom Properties</span></span>](transformation-custom-properties.md)  
  
 <span data-ttu-id="1df15-171">Para más información sobre cómo establecer propiedades, vea [Establecer las propiedades de un componente de flujo de datos](../set-the-properties-of-a-data-flow-component.md).</span><span class="sxs-lookup"><span data-stu-id="1df15-171">For more information about how to set properties, see [Set the Properties of a Data Flow Component](../set-the-properties-of-a-data-flow-component.md).</span></span>  
  
  
