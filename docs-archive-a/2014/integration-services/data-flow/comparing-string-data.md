---
title: Comparar datos de cadena | Microsoft Docs
ms.custom: ''
ms.date: 03/06/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: integration-services
ms.topic: conceptual
helpviewer_keywords:
- comparing string data
- comparison options [Integration Services]
- locales [Integration Services]
- converting string data
- string comparisons
ms.assetid: 93aeb5bd-e208-46b7-8979-dea2dcd37d4c
author: chugugrace
ms.author: chugu
ms.openlocfilehash: 5670f434470d8fad0a8b593ccde0c01ae307e417
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 08/04/2020
ms.locfileid: "87676609"
---
# <a name="comparing-string-data"></a><span data-ttu-id="9c56a-102">comparar datos de cadena</span><span class="sxs-lookup"><span data-stu-id="9c56a-102">Comparing String Data</span></span>
  <span data-ttu-id="9c56a-103">Las comparaciones de cadenas son una parte importante de muchas de las transformaciones realizadas por [!INCLUDE[ssISnoversion](../../includes/ssisnoversion-md.md)], y las comparaciones de cadenas también se utilizan en la evaluación de expresiones en variables y expresiones de propiedades.</span><span class="sxs-lookup"><span data-stu-id="9c56a-103">String comparisons are an important part of many of the transformations performed by [!INCLUDE[ssISnoversion](../../includes/ssisnoversion-md.md)], and string comparisons are also used in the evaluation of expressions in variables and property expressions.</span></span> <span data-ttu-id="9c56a-104">Por ejemplo, la transformación Ordenar compara valores en un conjunto de datos para ordenar datos en orden ascendente o descendente.</span><span class="sxs-lookup"><span data-stu-id="9c56a-104">For example, the Sort transformation compares values in a dataset to sort data in ascending or descending order.</span></span>  
  
## <a name="configuring-transformations-for-string-comparisons"></a><span data-ttu-id="9c56a-105">Configurar transformaciones para las comparaciones de cadenas</span><span class="sxs-lookup"><span data-stu-id="9c56a-105">Configuring Transformations for String Comparisons</span></span>  
 <span data-ttu-id="9c56a-106">Las transformaciones Ordenar, Agregado, Agrupación aproximada y Búsqueda aproximada se pueden personalizar para cambiar la manera en que se comparan las cadenas en el nivel de columna.</span><span class="sxs-lookup"><span data-stu-id="9c56a-106">The Sort, Aggregate, Fuzzy Grouping, and Fuzzy Lookup transformations can be customized to change the way strings are compared at the column level.</span></span> <span data-ttu-id="9c56a-107">Por ejemplo, se puede especificar que una comparación omita la distinción entre mayúsculas y minúsculas, lo que significa que los caracteres en mayúscula o minúscula se tratan como si fueran el mismo carácter.</span><span class="sxs-lookup"><span data-stu-id="9c56a-107">For example, you can specify that a comparison ignores case, which means that uppercase and lowercase characters are treated as the same character.</span></span>  
  
 <span data-ttu-id="9c56a-108">Las siguientes transformaciones usan expresiones que pueden incluir comparaciones de cadenas.</span><span class="sxs-lookup"><span data-stu-id="9c56a-108">The following transformations use expressions that can include string comparisons.</span></span>  
  
-   <span data-ttu-id="9c56a-109">La transformación División condicional puede usar comparaciones de cadenas en expresiones para determinar a qué salida se debe enviar la fila de datos.</span><span class="sxs-lookup"><span data-stu-id="9c56a-109">The Conditional Split transformation can use string comparisons in expressions to determine which output to send the data row to.</span></span> <span data-ttu-id="9c56a-110">Para más información, consulte [Conditional Split Transformation](transformations/conditional-split-transformation.md).</span><span class="sxs-lookup"><span data-stu-id="9c56a-110">For more information, see [Conditional Split Transformation](transformations/conditional-split-transformation.md).</span></span>  
  
-   <span data-ttu-id="9c56a-111">La transformación Columna derivada puede usar comparaciones de cadenas en expresiones para generar nuevos valores de columna.</span><span class="sxs-lookup"><span data-stu-id="9c56a-111">The Derived Column transformation can use string comparisons in expressions to generate new column values.</span></span> <span data-ttu-id="9c56a-112">Para más información, consulte [Derived Column Transformation](transformations/derived-column-transformation.md).</span><span class="sxs-lookup"><span data-stu-id="9c56a-112">For more information, see [Derived Column Transformation](transformations/derived-column-transformation.md).</span></span>  
  
 <span data-ttu-id="9c56a-113">Las variables, asignaciones de variables y restricciones de precedencia también usan expresiones, que pueden incluir comparaciones de cadenas.</span><span class="sxs-lookup"><span data-stu-id="9c56a-113">Variables, variable mappings, and precedence constraints also use expressions, which can include string comparisons.</span></span> <span data-ttu-id="9c56a-114">Para obtener más información sobre las expresiones, vea [Expresiones de Integration Services &#40;SSIS&#41;](../expressions/integration-services-ssis-expressions.md).</span><span class="sxs-lookup"><span data-stu-id="9c56a-114">For more information about expressions, see [Integration Services &#40;SSIS&#41; Expressions](../expressions/integration-services-ssis-expressions.md).</span></span>  
  
## <a name="processing-during-string-comparison"></a><span data-ttu-id="9c56a-115">Procesamiento durante la comparación de cadenas</span><span class="sxs-lookup"><span data-stu-id="9c56a-115">Processing during String Comparison</span></span>  
 <span data-ttu-id="9c56a-116">Según los datos y la configuración de la transformación, se puede producir el siguiente procesamiento durante la comparación de datos de cadena:</span><span class="sxs-lookup"><span data-stu-id="9c56a-116">Depending on the data and the configuration of the transformation, the following processing may occur during the comparison of string data:</span></span>  
  
-   <span data-ttu-id="9c56a-117">Convertir datos en Unicode.</span><span class="sxs-lookup"><span data-stu-id="9c56a-117">Converting data to Unicode.</span></span> <span data-ttu-id="9c56a-118">Si los datos de origen no son ya Unicode, los datos se convierten automáticamente en Unicode antes de que se produzca la comparación.</span><span class="sxs-lookup"><span data-stu-id="9c56a-118">If the source data is not already Unicode, the data is automatically converted to Unicode before the comparison occurs.</span></span>  
  
-   <span data-ttu-id="9c56a-119">Usar la configuración regional para aplicar normas específicas para una región con el fin de interpretar la fecha, la hora, los datos decimales y el orden.</span><span class="sxs-lookup"><span data-stu-id="9c56a-119">Using locale to apply locale-specific rules for interpreting date, time, decimal data, and sort order.</span></span>  
  
-   <span data-ttu-id="9c56a-120">Aplicar opciones de comparación a nivel de columna para cambiar la sensibilidad de las comparaciones.</span><span class="sxs-lookup"><span data-stu-id="9c56a-120">Applying comparison options at the column level to change the sensitivity of comparisons.</span></span>  
  
## <a name="converting-string-data-to-unicode"></a><span data-ttu-id="9c56a-121">Convertir datos de cadenas en Unicode.</span><span class="sxs-lookup"><span data-stu-id="9c56a-121">Converting String Data to Unicode</span></span>  
 <span data-ttu-id="9c56a-122">Según las operaciones realizadas por la transformación y la configuración de la transformación, los datos de cadena se pueden convertir en el tipo de datos DT_WSTR, que es una representación Unicode de los caracteres de cadenas.</span><span class="sxs-lookup"><span data-stu-id="9c56a-122">Depending on the operations that the transformation performs and the configuration of the transformation, string data may be converted to the DT_WSTR data type, which is a Unicode representation of string characters.</span></span>  
  
 <span data-ttu-id="9c56a-123">Los datos de cadena que tienen el tipo de datos DT_STR se convierten a Unicode utilizando la página de códigos de la columna.</span><span class="sxs-lookup"><span data-stu-id="9c56a-123">String data that has the DT_STR data type is converted to Unicode using the code page of the column.</span></span> [!INCLUDE[ssISnoversion](../../includes/ssisnoversion-md.md)] <span data-ttu-id="9c56a-124">admite páginas de códigos en el nivel de columna y cada columna se puede convertir mediante una página de códigos diferente.</span><span class="sxs-lookup"><span data-stu-id="9c56a-124">supports code pages at the column level, and each column can be converted by using a different code page.</span></span>  
  
 <span data-ttu-id="9c56a-125">En la mayoría de los casos, [!INCLUDE[ssISnoversion](../../includes/ssisnoversion-md.md)] puede identificar la página de códigos correcta a partir del origen de datos.</span><span class="sxs-lookup"><span data-stu-id="9c56a-125">In most cases, [!INCLUDE[ssISnoversion](../../includes/ssisnoversion-md.md)] can identify the correct code page from the data source.</span></span> <span data-ttu-id="9c56a-126">Por ejemplo, en [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] se puede establecer una intercalación en los niveles de base de datos y columna.</span><span class="sxs-lookup"><span data-stu-id="9c56a-126">For example, in [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] you can set a collation at the database and column levels.</span></span> <span data-ttu-id="9c56a-127">La página de códigos se deriva de una intercalación de [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] , que puede ser una intercalación de Windows o SQL.</span><span class="sxs-lookup"><span data-stu-id="9c56a-127">The code page is derived from a [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] collation, which can be either a Windows or an SQL collation.</span></span>  
  
 <span data-ttu-id="9c56a-128">Si [!INCLUDE[ssISnoversion](../../includes/ssisnoversion-md.md)] proporciona una página de códigos inesperada, o si el paquete obtiene acceso a un origen de datos mediante un proveedor que no ofrece información suficiente para determinar la página de códigos correcta, puede especificar una página de códigos predeterminada en el origen de OLE DB y el destino de OLE DB.</span><span class="sxs-lookup"><span data-stu-id="9c56a-128">If [!INCLUDE[ssISnoversion](../../includes/ssisnoversion-md.md)] provides an unexpected code page, or if the package accesses a data source by using a provider that does not supply sufficient information to determine the correct code page, you can specify a default code page in the OLE DB source and the OLE DB destination.</span></span> <span data-ttu-id="9c56a-129">Las páginas de códigos predeterminadas se usan en lugar de las páginas de códigos que proporciona [!INCLUDE[ssISnoversion](../../includes/ssisnoversion-md.md)] .</span><span class="sxs-lookup"><span data-stu-id="9c56a-129">The default code pages are used instead of the code pages that [!INCLUDE[ssISnoversion](../../includes/ssisnoversion-md.md)] provides.</span></span>  
  
 <span data-ttu-id="9c56a-130">Los archivos no tienen páginas de códigos.</span><span class="sxs-lookup"><span data-stu-id="9c56a-130">Files do not have code pages.</span></span> <span data-ttu-id="9c56a-131">En lugar de ello, los administradores de conexión de archivos planos y de varios archivos planos que usan un paquete para conectarse a los datos de archivos incluyen una propiedad para especificar la página de códigos del archivo.</span><span class="sxs-lookup"><span data-stu-id="9c56a-131">Instead, the Flat File and the Multiple Flat Files connection managers that a package uses to connect to file data include a property for specifying the code page of the file.</span></span> <span data-ttu-id="9c56a-132">La página de códigos solamente se puede establecer en el nivel de archivo, no en el nivel de columna.</span><span class="sxs-lookup"><span data-stu-id="9c56a-132">The code page can be set at the file level only, not at the column level.</span></span>  
  
## <a name="setting-locale"></a><span data-ttu-id="9c56a-133">Establecer la configuración regional</span><span class="sxs-lookup"><span data-stu-id="9c56a-133">Setting Locale</span></span>  
 [!INCLUDE[ssISnoversion](../../includes/ssisnoversion-md.md)] <span data-ttu-id="9c56a-134">no usa la página de códigos para inferir reglas específicas de la configuración regional para ordenar los datos o interpretar los datos de fecha, hora y decimales.</span><span class="sxs-lookup"><span data-stu-id="9c56a-134">does not use the code page to infer locale-specific rules for sorting data or interpreting date, time, and decimal data.</span></span> <span data-ttu-id="9c56a-135">En su lugar, la transformación lee la configuración regional fijada por la propiedad LocaleId en el componente de flujo de datos, tarea Flujo de datos, contenedor o paquete.</span><span class="sxs-lookup"><span data-stu-id="9c56a-135">Instead, the transformation reads the locale that is set by the LocaleId property on the data flow component, Data Flow task, container, or package.</span></span> <span data-ttu-id="9c56a-136">De manera predeterminada, la configuración regional de una transformación es heredada de su tarea Flujo de datos, que a su vez la hereda del paquete.</span><span class="sxs-lookup"><span data-stu-id="9c56a-136">By default, the locale of a transformation is inherited from its Data Flow task, which in turn inherits from the package.</span></span> <span data-ttu-id="9c56a-137">Si la tarea Flujo de datos está en un contenedor como el contenedor de bucles For, hereda su configuración regional del contenedor.</span><span class="sxs-lookup"><span data-stu-id="9c56a-137">If the Data Flow task is in a container such as the For Loop container, it inherits its locale from the container.</span></span>  
  
 <span data-ttu-id="9c56a-138">También puede especificar una configuración regional para un administrador de conexiones de archivos planos y un administrador de conexiones de varios archivos planos.</span><span class="sxs-lookup"><span data-stu-id="9c56a-138">You can also specify a locale for a Flat File connection manager and a Multiple Flat Files connection manager.</span></span>  
  
## <a name="setting-comparison-options"></a><span data-ttu-id="9c56a-139">Establecer las opciones de comparación</span><span class="sxs-lookup"><span data-stu-id="9c56a-139">Setting Comparison Options</span></span>  
 <span data-ttu-id="9c56a-140">La configuración regional proporciona las reglas básicas para comparar los datos de cadenas.</span><span class="sxs-lookup"><span data-stu-id="9c56a-140">The locale provides the basic rules for comparing string data.</span></span> <span data-ttu-id="9c56a-141">Por ejemplo, la configuración regional especifica la posición de ordenación para cada letra del alfabeto.</span><span class="sxs-lookup"><span data-stu-id="9c56a-141">For example, the locale specifies the sort position of each letter in the alphabet.</span></span> <span data-ttu-id="9c56a-142">Sin embargo, estas reglas pueden no ser suficientes para las comparaciones realizadas por algunas transformaciones, y [!INCLUDE[ssISnoversion](../../includes/ssisnoversion-md.md)] admite un conjunto de opciones de comparación avanzada que van más allá de las reglas de comparación de una configuración regional.</span><span class="sxs-lookup"><span data-stu-id="9c56a-142">However, these rules may not be sufficient for the comparisons that some transformations perform, and [!INCLUDE[ssISnoversion](../../includes/ssisnoversion-md.md)] supports a set of advanced comparison options that go beyond the comparison rules of a locale.</span></span> <span data-ttu-id="9c56a-143">Estas opciones de comparación se establecen en el nivel de columna.</span><span class="sxs-lookup"><span data-stu-id="9c56a-143">These comparison options are set at the column level.</span></span> <span data-ttu-id="9c56a-144">Por ejemplo, una de las opciones de comparación le permite omitir los caracteres sin espacio.</span><span class="sxs-lookup"><span data-stu-id="9c56a-144">For example, one of the comparison options lets you ignore nonspacing characters.</span></span> <span data-ttu-id="9c56a-145">El efecto de esta opción es omitir los signos diacríticos como el acento, lo que hace que "a" y "å" sean idénticos con fines de comparación.</span><span class="sxs-lookup"><span data-stu-id="9c56a-145">The effect of this option is to ignore diacritics such as the accent, which makes "a" and "å" identical for comparison purposes.</span></span>  
  
 <span data-ttu-id="9c56a-146">La siguiente tabla describe las opciones de comparación y un estilo de ordenación.</span><span class="sxs-lookup"><span data-stu-id="9c56a-146">The following table describes the comparison options and a sort style.</span></span>  
  
|<span data-ttu-id="9c56a-147">Opción de comparación</span><span class="sxs-lookup"><span data-stu-id="9c56a-147">Comparison option</span></span>|<span data-ttu-id="9c56a-148">Descripción</span><span class="sxs-lookup"><span data-stu-id="9c56a-148">Description</span></span>|  
|-----------------------|-----------------|  
|<span data-ttu-id="9c56a-149">Omitir mayúsculas y minúsculas</span><span class="sxs-lookup"><span data-stu-id="9c56a-149">Ignore case</span></span>|<span data-ttu-id="9c56a-150">Especifica si la comparación distingue entre mayúsculas y minúsculas.</span><span class="sxs-lookup"><span data-stu-id="9c56a-150">Specifies whether the comparison distinguishes between uppercase and lowercase letters.</span></span> <span data-ttu-id="9c56a-151">Si se establece esta opción, la comparación de las cadenas omite la distinción entre mayúsculas y minúsculas.</span><span class="sxs-lookup"><span data-stu-id="9c56a-151">If this option is set, the string comparison ignores case.</span></span> <span data-ttu-id="9c56a-152">Por ejemplo, "ABC" se interpreta igual que "abc".</span><span class="sxs-lookup"><span data-stu-id="9c56a-152">For example, "ABC" becomes the same as "abc".</span></span>|  
|<span data-ttu-id="9c56a-153">Omitir tipo de kana</span><span class="sxs-lookup"><span data-stu-id="9c56a-153">Ignore kana type</span></span>|<span data-ttu-id="9c56a-154">Especifica si la comparación distingue entre los dos tipos de caracteres kana japoneses: hiragana y katakana.</span><span class="sxs-lookup"><span data-stu-id="9c56a-154">Specifies whether the comparison distinguishes between the two types of Japanese kana characters: hiragana and katakana.</span></span> <span data-ttu-id="9c56a-155">Si se establece esta opción, la comparación de las cadenas omite los tipos de caracteres kana.</span><span class="sxs-lookup"><span data-stu-id="9c56a-155">If this option is set, the string comparison ignores kana type.</span></span>|  
|<span data-ttu-id="9c56a-156">Omitir ancho de caracteres</span><span class="sxs-lookup"><span data-stu-id="9c56a-156">Ignore character width</span></span>|<span data-ttu-id="9c56a-157">Especifica si la comparación distingue entre un carácter de un solo byte y el mismo carácter cuando se representa con un carácter de doble byte.</span><span class="sxs-lookup"><span data-stu-id="9c56a-157">Specifies whether the comparison distinguishes between a single-byte character and the same character when it is represented as a double-byte character.</span></span> <span data-ttu-id="9c56a-158">Si se establece esta opción, la comparación de las cadenas trata las representaciones de un solo byte y de doble byte del mismo carácter como idénticas.</span><span class="sxs-lookup"><span data-stu-id="9c56a-158">If this option is set, the string comparison treats single-byte and double-byte representations of the same character as identical.</span></span>|  
|<span data-ttu-id="9c56a-159">Omitir caracteres sin espacio</span><span class="sxs-lookup"><span data-stu-id="9c56a-159">Ignore nonspacing characters</span></span>|<span data-ttu-id="9c56a-160">Especifica si la comparación distingue entre caracteres con espacio y signos diacríticos.</span><span class="sxs-lookup"><span data-stu-id="9c56a-160">Specifies whether the comparison distinguishes between spacing characters and diacritics.</span></span> <span data-ttu-id="9c56a-161">Si se establece esta opción, la comparación omite los signos diacríticos.</span><span class="sxs-lookup"><span data-stu-id="9c56a-161">If this option is set, the comparison ignores diacritics.</span></span> <span data-ttu-id="9c56a-162">Por ejemplo, "å" se considera igual que "a".</span><span class="sxs-lookup"><span data-stu-id="9c56a-162">For example, "å" is equal to "a".</span></span>|  
|<span data-ttu-id="9c56a-163">Omitir símbolos</span><span class="sxs-lookup"><span data-stu-id="9c56a-163">Ignore symbols</span></span>|<span data-ttu-id="9c56a-164">Especifica si la comparación distingue entre caracteres que representan letras y los símbolos tales como espacios en blanco, puntuación, símbolos de moneda y símbolos matemáticos.</span><span class="sxs-lookup"><span data-stu-id="9c56a-164">Specifies whether the comparison distinguishes between letter characters and symbols such as white-space characters, punctuation, currency symbols, and mathematical symbols.</span></span> <span data-ttu-id="9c56a-165">Si se establece esta opción, la comparación de las cadenas omite los símbolos.</span><span class="sxs-lookup"><span data-stu-id="9c56a-165">If this option is set, the string comparison ignores symbols.</span></span> <span data-ttu-id="9c56a-166">Por ejemplo, " Nueva York" pasa a ser lo mismo que "Nueva York" y "\*ABC" es idéntico a "ABC"'.</span><span class="sxs-lookup"><span data-stu-id="9c56a-166">For example, " New York" becomes the same as "New York" and "\*ABC" is the same as "ABC"'.</span></span>|  
|<span data-ttu-id="9c56a-167">Ordenar signos de puntuación como símbolos</span><span class="sxs-lookup"><span data-stu-id="9c56a-167">Sort punctuation as symbols</span></span>|<span data-ttu-id="9c56a-168">Especifica si la comparación ordena todos los símbolos de puntuación, salvo guión y apóstrofo, antes de los caracteres alfanuméricos.</span><span class="sxs-lookup"><span data-stu-id="9c56a-168">Specifies whether the comparison sorts all punctuation symbols, except the hyphen and apostrophe, before the alphanumeric characters.</span></span> <span data-ttu-id="9c56a-169">Por ejemplo, si se establece esta opción, ".ABC" queda en el orden antes de "ABC".</span><span class="sxs-lookup"><span data-stu-id="9c56a-169">For example, if this option is set, ".ABC" sorts before "ABC".</span></span>|  
  
 <span data-ttu-id="9c56a-170">Las transformaciones Ordenar, Agregado, Agrupación aproximada y Búsqueda aproximada incluyen estas opciones para comparar datos.</span><span class="sxs-lookup"><span data-stu-id="9c56a-170">The Sort, Aggregate, Fuzzy Grouping and Fuzzy Lookup transformations include these options for comparing data.</span></span>  
  
 <span data-ttu-id="9c56a-171">La marca de comparación **FullySensitive** aparece en el cuadro de diálogo del **Editor avanzado** de las transformaciones Agrupación aproximada y Búsqueda aproximada.</span><span class="sxs-lookup"><span data-stu-id="9c56a-171">The **FullySensitive** comparison flag displays in the **Advanced Editor** dialog box for the Fuzzy Grouping and Fuzzy Lookup transformations.</span></span> <span data-ttu-id="9c56a-172">Si se selecciona la marca de comparación **FullySensitive** , esto significa que se aplican todas las opciones de comparación.</span><span class="sxs-lookup"><span data-stu-id="9c56a-172">Selecting the **FullySensitive** comparison flag means that all the comparison options apply.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="9c56a-173">Consulte también</span><span class="sxs-lookup"><span data-stu-id="9c56a-173">See Also</span></span>  
 <span data-ttu-id="9c56a-174">[Tipos de datos de Integration Services](integration-services-data-types.md) </span><span class="sxs-lookup"><span data-stu-id="9c56a-174">[Integration Services Data Types](integration-services-data-types.md) </span></span>  
 <span data-ttu-id="9c56a-175">[Análisis rápido](../fast-parse.md) </span><span class="sxs-lookup"><span data-stu-id="9c56a-175">[Fast Parse](../fast-parse.md) </span></span>  
 [<span data-ttu-id="9c56a-176">Análisis estándar</span><span class="sxs-lookup"><span data-stu-id="9c56a-176">Standard Parse</span></span>](../standard-parse.md)  
  
  
