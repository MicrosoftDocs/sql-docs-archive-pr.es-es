---
title: Tarea Servicio web | Microsoft Docs
ms.custom: ''
ms.date: 03/06/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: integration-services
ms.topic: conceptual
f1_keywords:
- sql12.dts.designer.webservicetask.f1
helpviewer_keywords:
- Web Service task [Integration Services]
ms.assetid: 5c7206f1-7d6a-4923-8dff-3c4912da4157
author: chugugrace
ms.author: chugu
ms.openlocfilehash: 1a2f719a6fb0076a3bb286865199a9cf6a008d32
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 08/04/2020
ms.locfileid: "87669793"
---
# <a name="web-service-task"></a><span data-ttu-id="60e5c-102">Tarea Servicio web</span><span class="sxs-lookup"><span data-stu-id="60e5c-102">Web Service Task</span></span>
  <span data-ttu-id="60e5c-103">La tarea Servicio web ejecuta un método de servicio web.</span><span class="sxs-lookup"><span data-stu-id="60e5c-103">The Web Service task executes a Web service method.</span></span> <span data-ttu-id="60e5c-104">Puede usar la tarea Servicio web para los siguientes objetivos:</span><span class="sxs-lookup"><span data-stu-id="60e5c-104">You can use the Web Service task for the following purposes:</span></span>  
  
-   <span data-ttu-id="60e5c-105">Escribir en una variable los valores devueltos por un método de servicio web.</span><span class="sxs-lookup"><span data-stu-id="60e5c-105">Writing to a variable the values that a Web service method returns.</span></span> <span data-ttu-id="60e5c-106">Por ejemplo, puede obtener la temperatura más alta del día con un método de servicio web y luego usar ese valor para actualizar una variable que se utiliza en una expresión que establece un valor de columna.</span><span class="sxs-lookup"><span data-stu-id="60e5c-106">For example, you could obtain the highest temperature of the day from a Web service method, and then use that value to update a variable that is used in an expression that sets a column value.</span></span>  
  
-   <span data-ttu-id="60e5c-107">Escribir en un archivo los valores devueltos por un método de servicio web.</span><span class="sxs-lookup"><span data-stu-id="60e5c-107">Writing to a file the values that a Web service method returns.</span></span> <span data-ttu-id="60e5c-108">Por ejemplo, se puede escribir una lista de potenciales clientes en un archivo y luego utilizar el archivo como origen de datos en un paquete que limpia los datos antes de que se escriban en una base de datos.</span><span class="sxs-lookup"><span data-stu-id="60e5c-108">For example, a list of potential customers can be written to a file and the file then used as a data source in a package that cleans the data before it is written to a database.</span></span>  
  
## <a name="wsdl-file"></a><span data-ttu-id="60e5c-109">Archivo WSDL</span><span class="sxs-lookup"><span data-stu-id="60e5c-109">WSDL File</span></span>  
 <span data-ttu-id="60e5c-110">La tarea Servicio web usa un administrador de conexiones HTTP para conectarse al servicio web.</span><span class="sxs-lookup"><span data-stu-id="60e5c-110">The Web Service task uses an HTTP connection manager to connect to the Web service.</span></span> <span data-ttu-id="60e5c-111">El administrador de conexiones HTTP se configura independientemente de la tarea Servicio web y se hace referencia a él en la tarea.</span><span class="sxs-lookup"><span data-stu-id="60e5c-111">The HTTP connection manager is configured separately from the Web Service task, and is referenced in the task.</span></span> <span data-ttu-id="60e5c-112">El administrador de conexiones HTTP especifica la configuración de proxy del servidor, como la dirección URL del servidor, las credenciales para obtener acceso al servidor de servicios web y la duración del tiempo de espera.</span><span class="sxs-lookup"><span data-stu-id="60e5c-112">The HTTP connection manager specifies the server proxy settings such as the server URL, credentials for accessing the Web services server, and time-out length.</span></span> <span data-ttu-id="60e5c-113">Para obtener más información, vea [Administrador de conexiones HTTP](../connection-manager/http-connection-manager.md).</span><span class="sxs-lookup"><span data-stu-id="60e5c-113">For more information, see [HTTP Connection Manager](../connection-manager/http-connection-manager.md).</span></span>  
  
> [!IMPORTANT]  
>  <span data-ttu-id="60e5c-114">El administrador de conexiones HTTP solo es compatible con la autenticación anónima y la autenticación básica.</span><span class="sxs-lookup"><span data-stu-id="60e5c-114">The HTTP connection manager supports only anonymous authentication and basic authentication.</span></span> <span data-ttu-id="60e5c-115">No es compatible con la autenticación de Windows.</span><span class="sxs-lookup"><span data-stu-id="60e5c-115">It does not support Windows Authentication.</span></span>  
  
 <span data-ttu-id="60e5c-116">El administrador de conexiones HTTP puede apuntar a un sitio web o a un archivo de Lenguaje de descripción de servicios web (WSDL).</span><span class="sxs-lookup"><span data-stu-id="60e5c-116">The HTTP connection manager can point to a Web site or to a Web Service Description Language (WSDL) file.</span></span> <span data-ttu-id="60e5c-117">La dirección URL del administrador de conexiones HTTP que apunta a un archivo WSDL incluye el parámetro `?WSDL` ; por ejemplo, `http://MyServer/MyWebService/MyPage.asmx?WSDL`.</span><span class="sxs-lookup"><span data-stu-id="60e5c-117">The URL of the HTTP connection manager that points to a WSDL file includes the `?WSDL` parameter: for example, `http://MyServer/MyWebService/MyPage.asmx?WSDL`.</span></span>  
  
 <span data-ttu-id="60e5c-118">El archivo WSDL debe estar localmente disponible para configurar la tarea Servicio web mediante el cuadro de diálogo **Editor de la tarea Servicio web** que proporciona el Diseñador [!INCLUDE[ssIS](../../includes/ssis-md.md)] .</span><span class="sxs-lookup"><span data-stu-id="60e5c-118">The WSDL file must be available locally to configure the Web Service task using the **Web Service Task Editor** dialog box that [!INCLUDE[ssIS](../../includes/ssis-md.md)] Designer provides.</span></span>  
  
-   <span data-ttu-id="60e5c-119">Si el administrador de conexiones HTTP apunta a un sitio web, el archivo WSDL se debe copiar manualmente en un equipo local.</span><span class="sxs-lookup"><span data-stu-id="60e5c-119">If the HTTP connection manager points to a Web site, the WSDL file must be copied manually to a local computer.</span></span>  
  
-   <span data-ttu-id="60e5c-120">Si el administrador de conexiones HTTP apunta a un archivo WSDL, el archivo se puede descargar desde el sitio web en un archivo local mediante la tarea Servicio web.</span><span class="sxs-lookup"><span data-stu-id="60e5c-120">If the HTTP connection manager points to a WSDL file, the file can be downloaded from the Web site to a local file by the Web Service task.</span></span>  
  
 <span data-ttu-id="60e5c-121">El archivo WSDL enumera los métodos que ofrece el servicio web, los parámetros de entrada que requieren los métodos, las respuestas que devuelven los métodos, y cómo comunicarse con el servicio web.</span><span class="sxs-lookup"><span data-stu-id="60e5c-121">The WSDL file lists the methods that the Web service offers, the input parameters that the methods require, the responses that the methods return, and how to communicate with the Web service.</span></span>  
  
 <span data-ttu-id="60e5c-122">Si el método usa parámetros de entrada, la tarea Servicio web requiere valores de parámetros.</span><span class="sxs-lookup"><span data-stu-id="60e5c-122">If the method uses input parameters, the Web Service task requires parameter values.</span></span> <span data-ttu-id="60e5c-123">Por ejemplo, un método de servicio web que recomienda el largo de los esquíes que debe comprar de acuerdo con su altura requiere que se proporcione su altura como parámetro de entrada.</span><span class="sxs-lookup"><span data-stu-id="60e5c-123">For example, a Web service method that recommends the length of skis you should purchase based on your height requires that your height be submitted in an input parameter.</span></span> <span data-ttu-id="60e5c-124">Los valores de parámetros se pueden proporcionar mediante cadenas que se definen en la tarea o mediante variables definidas en el ámbito de la tarea o en un contenedor principal.</span><span class="sxs-lookup"><span data-stu-id="60e5c-124">The parameter values can be provided either by strings that are defined in the task, or by variables defined in the scope of the task or a parent container.</span></span> <span data-ttu-id="60e5c-125">La ventaja de utilizar variables es que permiten actualizar dinámicamente los valores de parámetros mediante configuraciones de paquetes o scripts.</span><span class="sxs-lookup"><span data-stu-id="60e5c-125">The advantage of using variables is that they let you dynamically update the parameter values by using package configurations or scripts.</span></span> <span data-ttu-id="60e5c-126">Para obtener más información, vea [Variables de Integration Services &#40;SSIS&#41;](../integration-services-ssis-variables.md) y [Configuraciones de paquetes](../package-configurations.md).</span><span class="sxs-lookup"><span data-stu-id="60e5c-126">For more information, see [Integration Services &#40;SSIS&#41; Variables](../integration-services-ssis-variables.md) and [Package Configurations](../package-configurations.md).</span></span>  
  
 <span data-ttu-id="60e5c-127">Muchos métodos de servicio web no usan parámetros de entrada.</span><span class="sxs-lookup"><span data-stu-id="60e5c-127">Many Web service methods do not use input parameters.</span></span> <span data-ttu-id="60e5c-128">Por ejemplo, un método de servicio web que obtiene los nombres de los presidentes nacidos en el mes en curso no requiere un parámetro de entrada porque el servicio web puede determinar localmente cuál es el mes en curso.</span><span class="sxs-lookup"><span data-stu-id="60e5c-128">For example, a Web service method that gets the names of presidents who were born in the current month would not require an input parameter because the Web service can determine the current month locally.</span></span>  
  
 <span data-ttu-id="60e5c-129">Los resultados del método de servicio web se pueden escribir en una variable o un archivo.</span><span class="sxs-lookup"><span data-stu-id="60e5c-129">The results of the Web service method can be written to a variable or to a file.</span></span> <span data-ttu-id="60e5c-130">El administrador de conexiones Archivo se utiliza para especificar el archivo o para proporcionar el nombre de la variable en la que se deben escribir los resultados.</span><span class="sxs-lookup"><span data-stu-id="60e5c-130">You use the File connection manager either to specify the file or to provide the name of the variable to write the results to.</span></span> <span data-ttu-id="60e5c-131">Para más información, vea [Administrador de conexiones de archivos](../connection-manager/file-connection-manager.md) e [Variables de Integration Services &#40;SSIS&#41;](../integration-services-ssis-variables.md).</span><span class="sxs-lookup"><span data-stu-id="60e5c-131">For more information, see [File Connection Manager](../connection-manager/file-connection-manager.md) and [Integration Services &#40;SSIS&#41; Variables](../integration-services-ssis-variables.md).</span></span>  
  
## <a name="custom-logging-messages-available-on-the-web-service-task"></a><span data-ttu-id="60e5c-132">Mensajes de registro personalizados disponibles en la tarea Servicio web</span><span class="sxs-lookup"><span data-stu-id="60e5c-132">Custom Logging Messages Available on the Web Service Task</span></span>  
 <span data-ttu-id="60e5c-133">La siguiente tabla contiene las entradas del registro personalizadas que puede habilitar para la tarea Servicio web.</span><span class="sxs-lookup"><span data-stu-id="60e5c-133">The following table lists the custom log entries that you can enable for the Web Service task.</span></span> <span data-ttu-id="60e5c-134">Para obtener más información, vea [Registro de Integration Services &#40;SSIS&#41;](../performance/integration-services-ssis-logging.md) y [Mensajes personalizados para registro](../custom-messages-for-logging.md).</span><span class="sxs-lookup"><span data-stu-id="60e5c-134">For more information, see [Integration Services &#40;SSIS&#41; Logging](../performance/integration-services-ssis-logging.md) and [Custom Messages for Logging](../custom-messages-for-logging.md).</span></span>  
  
|<span data-ttu-id="60e5c-135">Entrada del registro</span><span class="sxs-lookup"><span data-stu-id="60e5c-135">Log entry</span></span>|<span data-ttu-id="60e5c-136">Descripción</span><span class="sxs-lookup"><span data-stu-id="60e5c-136">Description</span></span>|  
|---------------|-----------------|  
|`WSTaskBegin`|<span data-ttu-id="60e5c-137">La tarea inició el acceso a un servicio web.</span><span class="sxs-lookup"><span data-stu-id="60e5c-137">The task began to access a Web service.</span></span>|  
|`WSTaskEnd`|<span data-ttu-id="60e5c-138">La tarea completó un método de servicio web.</span><span class="sxs-lookup"><span data-stu-id="60e5c-138">The task completed a Web service method.</span></span>|  
|`WSTaskInfo`|<span data-ttu-id="60e5c-139">Información descriptiva acerca de la tarea.</span><span class="sxs-lookup"><span data-stu-id="60e5c-139">Descriptive information about the task.</span></span>|  
  
## <a name="configuration-of-the-web-service-task"></a><span data-ttu-id="60e5c-140">Configuración de la tarea Servicio web</span><span class="sxs-lookup"><span data-stu-id="60e5c-140">Configuration of the Web Service Task</span></span>  
 <span data-ttu-id="60e5c-141">Puede establecer propiedades a través del Diseñador de [!INCLUDE[ssIS](../../includes/ssis-md.md)] o mediante programación.</span><span class="sxs-lookup"><span data-stu-id="60e5c-141">You can set properties through [!INCLUDE[ssIS](../../includes/ssis-md.md)] Designer or programmatically.</span></span>  
  
 <span data-ttu-id="60e5c-142">Para obtener más información acerca de las propiedades que puede establecer en el Diseñador [!INCLUDE[ssIS](../../includes/ssis-md.md)] , haga clic en uno de los temas siguientes:</span><span class="sxs-lookup"><span data-stu-id="60e5c-142">For more information about the properties that you can set in [!INCLUDE[ssIS](../../includes/ssis-md.md)] Designer, click one of the following topics:</span></span>  
  
-   [<span data-ttu-id="60e5c-143">Editor de la tarea Servicio web &#40;página General&#41;</span><span class="sxs-lookup"><span data-stu-id="60e5c-143">Web Service Task Editor &#40;General Page&#41;</span></span>](../general-page-of-integration-services-designers-options.md)  
  
-   [<span data-ttu-id="60e5c-144">Editor de la tarea Servicio web &#40;página Entrada&#41;</span><span class="sxs-lookup"><span data-stu-id="60e5c-144">Web Service Task Editor &#40;Input Page&#41;</span></span>](../web-service-task-editor-input-page.md)  
  
-   [<span data-ttu-id="60e5c-145">Editor de la tarea Servicio web &#40;página Salida&#41;</span><span class="sxs-lookup"><span data-stu-id="60e5c-145">Web Service Task Editor &#40;Output Page&#41;</span></span>](../web-service-task-editor-output-page.md)  
  
-   [<span data-ttu-id="60e5c-146">Página Expresiones</span><span class="sxs-lookup"><span data-stu-id="60e5c-146">Expressions Page</span></span>](../expressions/expressions-page.md)  
  
 <span data-ttu-id="60e5c-147">Para obtener más información sobre cómo establecer estas propiedades en el Diseñador [!INCLUDE[ssIS](../../includes/ssis-md.md)] , haga clic en el siguiente tema:</span><span class="sxs-lookup"><span data-stu-id="60e5c-147">For more information about how to set these properties in [!INCLUDE[ssIS](../../includes/ssis-md.md)] Designer, click the following topic:</span></span>  
  
-   [<span data-ttu-id="60e5c-148">Establecer las propiedades de tareas o contenedores</span><span class="sxs-lookup"><span data-stu-id="60e5c-148">Set the Properties of a Task or Container</span></span>](../set-the-properties-of-a-task-or-container.md)  
  
## <a name="programmatic-configuration-of-the-web-service-task"></a><span data-ttu-id="60e5c-149">Configuración mediante programación de la tarea Servicio web</span><span class="sxs-lookup"><span data-stu-id="60e5c-149">Programmatic Configuration of the Web Service Task</span></span>  
 <span data-ttu-id="60e5c-150">Para obtener más información sobre cómo establecer estas propiedades mediante programación, haga clic en uno de los temas siguientes:</span><span class="sxs-lookup"><span data-stu-id="60e5c-150">For more information about programmatically setting these properties, click one of the following topics:</span></span>  
  
-   <xref:Microsoft.SqlServer.Dts.Tasks.WebServiceTask.WebServiceTask>  
  
## <a name="related-content"></a><span data-ttu-id="60e5c-151">Contenido relacionado</span><span class="sxs-lookup"><span data-stu-id="60e5c-151">Related Content</span></span>  
 <span data-ttu-id="60e5c-152">Vídeo [ How to: Call a Web Service by Using the Web Service Task (SQL Server Video)](https://go.microsoft.com/fwlink/?LinkId=259642) (Procedimiento para llamar a un servicio web con la tarea Servicio web [vídeo de SQL Server]), en technet.microsoft.com.</span><span class="sxs-lookup"><span data-stu-id="60e5c-152">Video, [How to: Call a Web Service by Using the Web Service Task (SQL Server Video)](https://go.microsoft.com/fwlink/?LinkId=259642), on technet.microsoft.com.</span></span>  
  
 <span data-ttu-id="60e5c-153">[Cómo consumir el servicio Web a través del paquete SSIS](https://www.c-sharpcorner.com/article/how-to-consume-web-service-through-ssis-package/).</span><span class="sxs-lookup"><span data-stu-id="60e5c-153">[How To Consume Web Service Through SSIS Package](https://www.c-sharpcorner.com/article/how-to-consume-web-service-through-ssis-package/).</span></span>  
  
  
