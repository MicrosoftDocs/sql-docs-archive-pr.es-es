---
title: Tarea Transferir base de datos | Microsoft Docs
ms.custom: ''
ms.date: 06/13/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: integration-services
ms.topic: conceptual
f1_keywords:
- sql12.dts.designer.transferdatabasetask.f1
helpviewer_keywords:
- Transfer Database task [Integration Services]
ms.assetid: b9a2e460-cdbc-458f-8df8-06b8b2de3d67
author: chugugrace
ms.author: chugu
ms.openlocfilehash: 85123eaff3e274bb4a96908ea99aef02c328ba23
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 08/04/2020
ms.locfileid: "87662186"
---
# <a name="transfer-database-task"></a><span data-ttu-id="67eca-102">Tarea Transferir bases de datos</span><span class="sxs-lookup"><span data-stu-id="67eca-102">Transfer Database Task</span></span>
  <span data-ttu-id="67eca-103">La tarea Transferir bases de datos transfiere una base de datos de [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] entre dos instancias de [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)].</span><span class="sxs-lookup"><span data-stu-id="67eca-103">The Transfer Database task transfers a [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] database between two instances of [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)].</span></span> <span data-ttu-id="67eca-104">A diferencia de otras tareas que solo transfieren objetos de [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] copiándolos, la tarea Transferir bases de datos puede copiar o mover una base de datos.</span><span class="sxs-lookup"><span data-stu-id="67eca-104">In contrast to the other tasks that only transfer [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] objects by copying them, the Transfer Database task can either copy or move a database.</span></span> <span data-ttu-id="67eca-105">Esta tarea también puede utilizarse para copiar una base de datos en el mismo servidor.</span><span class="sxs-lookup"><span data-stu-id="67eca-105">This task can also be used to copy a database within the same server.</span></span>  
  
## <a name="offline-and-online-modes"></a><span data-ttu-id="67eca-106">Modo sin conexión y en línea</span><span class="sxs-lookup"><span data-stu-id="67eca-106">Offline and Online Modes</span></span>  
 <span data-ttu-id="67eca-107">La base de datos se puede transferir en modo en línea o sin conexión.</span><span class="sxs-lookup"><span data-stu-id="67eca-107">The database can be transferred by using online or offline mode.</span></span> <span data-ttu-id="67eca-108">Cuando se utiliza el modo en línea, la base de datos permanece adjunta y se transfiere utilizando el Objeto de administración de SQL (SMO) para copiar los objetos de la base de datos.</span><span class="sxs-lookup"><span data-stu-id="67eca-108">When you use online mode, the database remains attached and it is transferred by using SQL Management Object (SMO) to copy the database objects.</span></span> <span data-ttu-id="67eca-109">Cuando se utiliza el modo sin conexión, la base de datos se separa, los archivos de la base de datos se copian o se mueven, y la base de datos se adjunta en el destino cuando finaliza la transferencia correctamente.</span><span class="sxs-lookup"><span data-stu-id="67eca-109">When you use offline mode, the database is detached, the database files are copied or moved, and the database is attached at the destination after the transfer finishes successfully.</span></span> <span data-ttu-id="67eca-110">Si la base de datos se copia, se vuelve a adjuntar automáticamente al origen después de que la copia se lleve a cabo correctamente.</span><span class="sxs-lookup"><span data-stu-id="67eca-110">If the database is copied, it is automatically reattached at the source if the copy is successful.</span></span> <span data-ttu-id="67eca-111">En el modo sin conexión, la base de datos se copia más rápidamente, pero no está disponible para los usuarios durante la transferencia.</span><span class="sxs-lookup"><span data-stu-id="67eca-111">In offline mode, the database is copied more quickly, but the database is unavailable to users during the transfer.</span></span>  
  
 <span data-ttu-id="67eca-112">El modo sin conexión requiere que se especifiquen los recursos compartidos de archivos de red en los servidores de origen y de destino que contienen los archivos de la base de datos.</span><span class="sxs-lookup"><span data-stu-id="67eca-112">Offline mode requires that you specify the network file shares on the source and destination servers that contain the database files.</span></span> <span data-ttu-id="67eca-113">Si la carpeta está compartida y el usuario tiene acceso a ella, puede hacer referencia al recurso compartido de red con la sintaxis \\\nombreDeEquipo\Archivos de programa\miCarpeta\\.</span><span class="sxs-lookup"><span data-stu-id="67eca-113">If the folder is shared and can be accessed by the user, you can reference the network share using the syntax \\\computername\Program Files\myfolder\\.</span></span> <span data-ttu-id="67eca-114">De lo contrario, debe usar la sintaxis \\\nombreDeEquipo\c$\Archivos de programa\miCarpeta\\.</span><span class="sxs-lookup"><span data-stu-id="67eca-114">Otherwise, you must use the syntax \\\computername\c$\Program Files\myfolder\\.</span></span> <span data-ttu-id="67eca-115">Para utilizar esta última sintaxis, el usuario debe tener acceso de escritura a los recursos compartidos de red en el origen y en el destino.</span><span class="sxs-lookup"><span data-stu-id="67eca-115">To use the latter syntax, the user must have write access to the source and destination network shares.</span></span>  
  
## <a name="transfer-of-databases-between-versions-of-sql-server"></a><span data-ttu-id="67eca-116">Transferencia de bases de datos entre versiones de SQL Server</span><span class="sxs-lookup"><span data-stu-id="67eca-116">Transfer of Databases Between Versions of SQL Server</span></span>  
 <span data-ttu-id="67eca-117">La tarea Transferir bases de datos puede transferir una base de datos entre instancias de versiones de [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] diferentes.</span><span class="sxs-lookup"><span data-stu-id="67eca-117">The Transfer Database task can transfer a database between instances of different [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] versions.</span></span>  
  
## <a name="events"></a><span data-ttu-id="67eca-118">Eventos</span><span class="sxs-lookup"><span data-stu-id="67eca-118">Events</span></span>  
 <span data-ttu-id="67eca-119">La tarea Transferir bases de datos no indica el progreso incremental de la transferencia del mensaje de error; solo indica 0% y 100%.</span><span class="sxs-lookup"><span data-stu-id="67eca-119">The Transfer Database task does not report incremental progress of the error message transfer; it reports only 0% and 100 % completion.</span></span>  
  
## <a name="execution-value"></a><span data-ttu-id="67eca-120">Valor de ejecución</span><span class="sxs-lookup"><span data-stu-id="67eca-120">Execution Value</span></span>  
 <span data-ttu-id="67eca-121">El valor de ejecución, definido en la propiedad `ExecutionValue` de la tarea, devuelve el valor 1, ya que a diferencia de otras tareas de transferencia, la tarea Transferir bases de datos solo puede transferir una base de datos.</span><span class="sxs-lookup"><span data-stu-id="67eca-121">The execution value, defined in the `ExecutionValue` property of the task, returns the value 1, because in contrast to other transfer tasks, the Transfer Database task can transfer only one database.</span></span>  
  
 <span data-ttu-id="67eca-122">Si se asigna una variable definida por el usuario a la propiedad `ExecValueVariable` de la tarea Transferir bases de datos, se puede hacer que la información de la transferencia del mensaje de error esté disponible para otros objetos del paquete.</span><span class="sxs-lookup"><span data-stu-id="67eca-122">By assigning a user-defined variable to the `ExecValueVariable` property of the Transfer Database task, information about the error message transfer can be made available to other objects in the package.</span></span> <span data-ttu-id="67eca-123">Para más información, vea [Variables de Integration Services &#40;SSIS&#41;](../integration-services-ssis-variables.md) y [Usar variables en paquetes](../use-variables-in-packages.md).</span><span class="sxs-lookup"><span data-stu-id="67eca-123">For more information, see [Integration Services &#40;SSIS&#41; Variables](../integration-services-ssis-variables.md) and [Use Variables in Packages](../use-variables-in-packages.md).</span></span>  
  
## <a name="log-entries"></a><span data-ttu-id="67eca-124">Entradas del registro</span><span class="sxs-lookup"><span data-stu-id="67eca-124">Log Entries</span></span>  
 <span data-ttu-id="67eca-125">La tarea Transferir bases de datos incluye las siguientes entradas del registro personalizadas:</span><span class="sxs-lookup"><span data-stu-id="67eca-125">The Transfer Database task includes the following custom log entries:</span></span>  
  
-   <span data-ttu-id="67eca-126">SourceSQLServer    Esta entrada del registro muestra el nombre del servidor de origen.</span><span class="sxs-lookup"><span data-stu-id="67eca-126">SourceSQLServer    This log entry lists the name of the source server.</span></span>  
  
-   <span data-ttu-id="67eca-127">DestSQLServer    Esta entrada del registro muestra el nombre del servidor de destino.</span><span class="sxs-lookup"><span data-stu-id="67eca-127">DestSQLServer    This log entry lists the name of the destination server.</span></span>  
  
-   <span data-ttu-id="67eca-128">SourceDB    Esta entrada del registro muestra el nombre de la base de datos que se transfiere.</span><span class="sxs-lookup"><span data-stu-id="67eca-128">SourceDB    This log entry lists the name of the database that is transferred.</span></span>  
  
 <span data-ttu-id="67eca-129">Además, se escribe una entrada del registro para el evento `OnInformation` cuando se sobrescribe la base de datos de destino.</span><span class="sxs-lookup"><span data-stu-id="67eca-129">In addition, a log entry for the `OnInformation` event is written when the destination database is overwritten.</span></span>  
  
## <a name="security-and-permissions"></a><span data-ttu-id="67eca-130">Seguridad y permisos</span><span class="sxs-lookup"><span data-stu-id="67eca-130">Security and Permissions</span></span>  
 <span data-ttu-id="67eca-131">Para transferir una base de datos en el modo sin conexión, el usuario que ejecuta el paquete debe ser miembro del rol de servidor sysadmin.</span><span class="sxs-lookup"><span data-stu-id="67eca-131">To transfer a database using offline mode, the user who runs the package must be a member of the sysadmin server role.</span></span>  
  
 <span data-ttu-id="67eca-132">Para transferir una base de datos en el modo en línea, el usuario que ejecuta el paquete debe ser miembro del rol de servidor sysadmin o el propietario (dbo) de la base de datos seleccionada.</span><span class="sxs-lookup"><span data-stu-id="67eca-132">To transfer a database using online mode, the user who runs the package must be a member of the sysadmin server role or the database owner (dbo) of the selected database.</span></span>  
  
## <a name="configuration-of-the-transfer-database-task"></a><span data-ttu-id="67eca-133">Configuración de la tarea Transferir bases de datos</span><span class="sxs-lookup"><span data-stu-id="67eca-133">Configuration of the Transfer Database Task</span></span>  
 <span data-ttu-id="67eca-134">Puede especificar si la tarea debe intentar volver a adjuntar la base de datos de origen si la transferencia de la base de datos no se realiza.</span><span class="sxs-lookup"><span data-stu-id="67eca-134">You can specify whether the task tries to reattach the source database if the database transfer fails.</span></span>  
  
 <span data-ttu-id="67eca-135">La tarea Transferir bases de datos también se puede configurar para que permita sobrescribir y reemplazar una base de datos de destino con el mismo nombre.</span><span class="sxs-lookup"><span data-stu-id="67eca-135">The Transfer Database task can also be configured to permit overwriting a destination database that has the same name, replacing the destination database.</span></span>  
  
 <span data-ttu-id="67eca-136">Asimismo, es posible cambiar el nombre de la base de datos de origen como parte del proceso de transferencia.</span><span class="sxs-lookup"><span data-stu-id="67eca-136">The source database can also be renamed as part of the transfer process.</span></span> <span data-ttu-id="67eca-137">Si desea transferir una base de datos a una instancia de destino de [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] que ya contenga una base de datos con el mismo nombre, puede cambiar el nombre de la base de datos de origen para poder transferirla.</span><span class="sxs-lookup"><span data-stu-id="67eca-137">If you want to transfer a database to a destination instance of [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] that already contains a database that has the same name, renaming the source database allows the database to be transferred.</span></span> <span data-ttu-id="67eca-138">Sin embargo, el nombre de los archivos de base de datos también deben ser distintos; si en el destino ya existen archivos de base de datos con el mismo nombre, la tarea generará un error.</span><span class="sxs-lookup"><span data-stu-id="67eca-138">However, the database file names must also be different; if database files that have the same names already exist at the destination, the task fails.</span></span>  
  
 <span data-ttu-id="67eca-139">Al copiar una base de datos, su tamaño no puede ser menor que el tamaño de la base de datos **model** del servidor de destino.</span><span class="sxs-lookup"><span data-stu-id="67eca-139">When you copy a database, the database cannot be smaller than the size of the **model** database on the destination server.</span></span> <span data-ttu-id="67eca-140">Se puede aumentar el tamaño de la base de datos que se va a copiar o reducir el tamaño de **modelo**.</span><span class="sxs-lookup"><span data-stu-id="67eca-140">You can either increase the size of the database to copy, or reduce the size of **model**.</span></span>  
  
 <span data-ttu-id="67eca-141">Durante la ejecución, la tarea Transferir bases de datos se conecta a los servidores de origen y de destino utilizando uno o dos administradores de conexión SMO.</span><span class="sxs-lookup"><span data-stu-id="67eca-141">At run time, the Transfer Database task connects to the source and destination servers by using one or two SMO connection managers.</span></span> <span data-ttu-id="67eca-142">Cuando se crea una copia de la base de datos en el mismo servidor, solo se requiere un administrador de conexiones SMO.</span><span class="sxs-lookup"><span data-stu-id="67eca-142">When you create a copy of a database on the same server, only one SMO connection manager is required.</span></span> <span data-ttu-id="67eca-143">Los administradores de conexión SMO se configuran independientemente de la tarea Transferir bases de datos y después se hace referencia a ellos en dicha tarea.</span><span class="sxs-lookup"><span data-stu-id="67eca-143">The SMO connection managers are configured separately from the Transfer Database task, and then are referenced in the Transfer Database task.</span></span> <span data-ttu-id="67eca-144">Los administradores de conexión SMO especifican el servidor y el modo de autenticación que se utilizan cuando la tarea tiene acceso al servidor.</span><span class="sxs-lookup"><span data-stu-id="67eca-144">The SMO connection managers specify the server and the authentication mode to use when the task accesses the server.</span></span> <span data-ttu-id="67eca-145">Para más información, consulte [SMO Connection Manager](../connection-manager/smo-connection-manager.md).</span><span class="sxs-lookup"><span data-stu-id="67eca-145">For more information, see [SMO Connection Manager](../connection-manager/smo-connection-manager.md).</span></span>  
  
 <span data-ttu-id="67eca-146">Puede establecer propiedades a través del Diseñador de [!INCLUDE[ssIS](../../includes/ssis-md.md)] o mediante programación.</span><span class="sxs-lookup"><span data-stu-id="67eca-146">You can set properties through [!INCLUDE[ssIS](../../includes/ssis-md.md)] Designer or programmatically.</span></span>  
  
 <span data-ttu-id="67eca-147">Para obtener más información acerca de las propiedades que puede establecer en el Diseñador [!INCLUDE[ssIS](../../includes/ssis-md.md)] , haga clic en uno de los temas siguientes:</span><span class="sxs-lookup"><span data-stu-id="67eca-147">For more information about the properties that you can set in [!INCLUDE[ssIS](../../includes/ssis-md.md)] Designer, click one of the following topics:</span></span>  
  
-   [<span data-ttu-id="67eca-148">Editor de la tarea Transferir bases de datos &#40;página General&#41;</span><span class="sxs-lookup"><span data-stu-id="67eca-148">Transfer Database Task Editor &#40;General Page&#41;</span></span>](../general-page-of-integration-services-designers-options.md)  
  
-   [<span data-ttu-id="67eca-149">Editor de la tarea Transferir bases de datos &#40;página Bases de datos&#41;</span><span class="sxs-lookup"><span data-stu-id="67eca-149">Transfer Database Task Editor &#40;Databases Page&#41;</span></span>](../transfer-database-task-editor-databases-page.md)  
  
-   [<span data-ttu-id="67eca-150">Página Expresiones</span><span class="sxs-lookup"><span data-stu-id="67eca-150">Expressions Page</span></span>](../expressions/expressions-page.md)  
  
 <span data-ttu-id="67eca-151">Para obtener más información sobre cómo establecer estas propiedades en el Diseñador [!INCLUDE[ssIS](../../includes/ssis-md.md)] , haga clic en el siguiente tema:</span><span class="sxs-lookup"><span data-stu-id="67eca-151">For more information about how to set these properties in [!INCLUDE[ssIS](../../includes/ssis-md.md)] Designer, click the following topic:</span></span>  
  
-   [<span data-ttu-id="67eca-152">Establecer las propiedades de tareas o contenedores</span><span class="sxs-lookup"><span data-stu-id="67eca-152">Set the Properties of a Task or Container</span></span>](../set-the-properties-of-a-task-or-container.md)  
  
## <a name="programmatic-configuration-of-the-transfer-database-task"></a><span data-ttu-id="67eca-153">Configuración mediante programación de la tarea Transferir bases de datos</span><span class="sxs-lookup"><span data-stu-id="67eca-153">Programmatic Configuration of the Transfer Database Task</span></span>  
 <span data-ttu-id="67eca-154">Para obtener más información sobre cómo establecer estas propiedades mediante programación, haga clic en el tema siguiente:</span><span class="sxs-lookup"><span data-stu-id="67eca-154">For more information about programmatically setting these properties, click the following topic:</span></span>  
  
-   <xref:Microsoft.SqlServer.Dts.Tasks.TransferDatabaseTask.TransferDatabaseTask>  
  
  
