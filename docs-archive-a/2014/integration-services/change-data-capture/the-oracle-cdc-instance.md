---
title: Instancia Oracle CDC | Microsoft Docs
ms.custom: ''
ms.date: 06/13/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: integration-services
ms.topic: conceptual
ms.assetid: ed71e8c4-e013-4bf2-8b6c-1e833ff2a41d
author: chugugrace
ms.author: chugu
ms.openlocfilehash: 2228872b5a190fd416dccaa8062dd79dbc1f7a79
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 08/04/2020
ms.locfileid: "87673226"
---
# <a name="the-oracle-cdc-instance"></a><span data-ttu-id="de00a-102">La instancia CDC de Oracle</span><span class="sxs-lookup"><span data-stu-id="de00a-102">The Oracle CDC Instance</span></span>
  <span data-ttu-id="de00a-103">La instancia CDC de Oracle es un proceso creado por el servicio CDC de Oracle para procesar los cambios capturados a partir de una sola base de datos de origen de Oracle.</span><span class="sxs-lookup"><span data-stu-id="de00a-103">The Oracle CDC Instance is a process created by the Oracle CDC Service to process changes captured from a single Oracle source database.</span></span> <span data-ttu-id="de00a-104">La instancia CDC de Oracle recupera su configuración de la tabla **cdc.xdbcdc_config** y mantiene su estado en la tabla **cdc.xdbcdc_state** .</span><span class="sxs-lookup"><span data-stu-id="de00a-104">The Oracle CDC Instance retrieves its configuration from the **cdc.xdbcdc_config** table and maintains its state in the **cdc.xdbcdc_state** table.</span></span> <span data-ttu-id="de00a-105">Estas tablas forman parte de la base de datos CDC, que define la instancia CDC de Oracle.</span><span class="sxs-lookup"><span data-stu-id="de00a-105">These tables are part of the CDC database, which defines the Oracle CDC Instance.</span></span> <span data-ttu-id="de00a-106">Para obtener más información acerca de la base de datos y las tablas xdbcdc, vea [The CDC Databases](the-oracle-cdc-service.md).</span><span class="sxs-lookup"><span data-stu-id="de00a-106">For more information about the xdbcdc database and tables see [The CDC Databases](the-oracle-cdc-service.md).</span></span>  
  
 <span data-ttu-id="de00a-107">A continuación se describen las tareas que realiza la instancia CDC de Oracle:</span><span class="sxs-lookup"><span data-stu-id="de00a-107">The following describes the tasks carried out by the Oracle CDC instance:</span></span>  
  
-   <span data-ttu-id="de00a-108">**Comprobar el inicio del servicio**: cuando se inicia, la instancia CDC carga su configuración desde la tabla **xdbcdc_config** y realiza una serie de comprobaciones de estado que se aseguran de que el estado almacenado de la instancia CDC sea coherente y que puede empezar a procesar cambios.</span><span class="sxs-lookup"><span data-stu-id="de00a-108">**Handling service startup verification**: When started, the CDC instance loads its configuration from the **xdbcdc_config** table and performs a series of status verifications that ensure that the CDC instance persisted state is consistent and that it can start processing changes.</span></span>  
  
-   <span data-ttu-id="de00a-109">**Preparar la captura de cambios**: cuando la comprobación se realiza correctamente, la instancia CDC de Oracle examina todas las instancias de captura definidas actualmente y prepara las consultas de Oracle LogMiner y otras estructuras auxiliares necesarias para la captura de cambios.</span><span class="sxs-lookup"><span data-stu-id="de00a-109">**Preparing for change capture**: When the verification passes successfully, the Oracle CDC Instance scans all of the capture instances currently defined and prepares the Oracle LogMiner queries and other support structures required for change capture.</span></span> <span data-ttu-id="de00a-110">Además, la instancia de Oracle vuelve a cargar el estado interno de captura que se guardó la última vez que se ejecutó la instancia CDC de Oracle.</span><span class="sxs-lookup"><span data-stu-id="de00a-110">In addition, the Oracle instance re-loads the internal capture state that was saved the last time the Oracle CDC Instance run.</span></span>  
  
-   <span data-ttu-id="de00a-111">**Capturar cambios desde Oracle**: la instancia CDC de Oracle agrupa los cambios de Oracle mediante Oracle LogMiner, los ordena según la confirmación de la transacción y después cambia el tiempo en una transacción y los escribe en las tablas de cambios de [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] en la base de datos CDC.</span><span class="sxs-lookup"><span data-stu-id="de00a-111">**Capturing changes from Oracle**: The Oracle CDC Instance pools changes from Oracle by means of the Oracle LogMiner facility, orders them in according to transaction commit, and then changes the time in a transaction and writes them to the [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] change tables in the CDC database.</span></span>  
  
-   <span data-ttu-id="de00a-112">**Administrar el cierre del servicio**: el servicio CDC de Oracle administra el ciclo de vida de la instancia CDC de Oracle.</span><span class="sxs-lookup"><span data-stu-id="de00a-112">**Handling service shutdown**: The life cycle of the Oracle CDC Instance is managed by the Oracle CDC Service.</span></span> <span data-ttu-id="de00a-113">Cuando se solicita el cierre de la instancia CDC de Oracle, realiza las tareas siguientes:</span><span class="sxs-lookup"><span data-stu-id="de00a-113">When the Oracle CDC Instance is requested to shut down, it performs the following tasks:</span></span>  
  
    -   <span data-ttu-id="de00a-114">Deja de leer desde el registro de transacciones de Oracle.</span><span class="sxs-lookup"><span data-stu-id="de00a-114">Stops reading from the Oracle transaction log.</span></span>  
  
    -   <span data-ttu-id="de00a-115">Deja de escribir las transacciones completadas de Oracle en la base de datos CDC.</span><span class="sxs-lookup"><span data-stu-id="de00a-115">Stops writing completed Oracle transactions to the CDC database.</span></span>  
  
    -   <span data-ttu-id="de00a-116">Espera hasta 30 segundos (si es necesario) hasta que la transacción actual termina de escribir en la base de datos CDC.</span><span class="sxs-lookup"><span data-stu-id="de00a-116">Waits for up to 30 seconds (if necessary) until the current transaction finishes writing to the CDC database.</span></span> <span data-ttu-id="de00a-117">Si transcurren más de 30 segundos, se cancela la escritura y se revierte la transacción (se volverá a intentar cuando se reinicie la instancia CDC).</span><span class="sxs-lookup"><span data-stu-id="de00a-117">If more than 30 seconds pass, the writing is cancelled and transaction is rolled back (to be retried when the CDC instance is restarted).</span></span>  
  
    -   <span data-ttu-id="de00a-118">En un subproceso independiente, escribe en la tabla de transacciones de ensayo todos los registros almacenados en caché posibles durante un máximo de 30 segundos (de la transacción más antigua a la más reciente), actualiza la tabla **xdbcdc_state** y confirma todos los cambios.</span><span class="sxs-lookup"><span data-stu-id="de00a-118">In a separate thread, writes as many memory-cached records as possible to the staged transactions table for up to 30 seconds (from the oldest transaction to the newest), then updates the **xdbcdc_state** table and commits all the changes.</span></span>  
  
-   <span data-ttu-id="de00a-119">**Administrar los cambios de configuración**: la instancia CDC de Oracle recibe una notificación de los cambios de configuración por parte del servicio CDC o mediante la detección de una nueva versión de la tabla **cdc.xdbcdc_config** .</span><span class="sxs-lookup"><span data-stu-id="de00a-119">**Handling configuration changes**: The Oracle CDC Instance is notified about configuration changes either from the CDC Service or by detecting a new version in the **cdc.xdbcdc_config** table.</span></span> <span data-ttu-id="de00a-120">La mayoría de los cambios no necesitan que se reinicie la instancia CDC de Oracle (por ejemplo, agregar o quitar instancias de captura).</span><span class="sxs-lookup"><span data-stu-id="de00a-120">Most changes do not require the restart of the Oracle CDC Instance (for example, adding or removing capture instances).</span></span> <span data-ttu-id="de00a-121">Sin embargo, algunos cambios (como cambiar las credenciales de acceso o la cadena de conexión de Oracle) sí hacen necesario el reinicio de la instancia CDC.</span><span class="sxs-lookup"><span data-stu-id="de00a-121">However, some changes, such as changing the Oracle connection string or access credentials do require the restart of the CDC Instance.</span></span>  
  
-   <span data-ttu-id="de00a-122">**Administrar la recuperación**: cuando se inicia una instancia CDC de Oracle, su estado interno se restaura desde las tablas **xdbcdc_state** y **xdbcdc_staged_transactions** .</span><span class="sxs-lookup"><span data-stu-id="de00a-122">**Handling recovery**: When an Oracle CDC Instance starts its internal state is restored from the **xdbcdc_state** and the **xdbcdc_staged_transactions** tables.</span></span> <span data-ttu-id="de00a-123">Una vez restaurado el estado, la instancia CDC continúa de la forma habitual.</span><span class="sxs-lookup"><span data-stu-id="de00a-123">Once the state is restored, the CDC instance proceeds as usual.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="de00a-124">Consulte también</span><span class="sxs-lookup"><span data-stu-id="de00a-124">See Also</span></span>  
 [<span data-ttu-id="de00a-125">Tratamiento de errores</span><span class="sxs-lookup"><span data-stu-id="de00a-125">Error Handling</span></span>](error-handling.md)  
  
  
