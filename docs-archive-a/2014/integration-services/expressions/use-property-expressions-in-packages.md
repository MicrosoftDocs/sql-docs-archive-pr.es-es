---
title: Usar expresiones de propiedad en paquetes | Microsoft Docs
ms.custom: ''
ms.date: 03/06/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: integration-services
ms.topic: conceptual
helpviewer_keywords:
- packages [Integration Services], expressions
- Integration Services packages, expressions
- SQL Server Integration Services packages, expressions
- dynamic properties
- updating package properties
- SSIS packages, expressions
- expressions [Integration Services], property expressions
- property expressions [Integration Services]
ms.assetid: a4bfc925-3ef6-431e-b1dd-7e0023d3a92d
author: chugugrace
ms.author: chugu
ms.openlocfilehash: bb373428e91cfc8cb4b26a986da6d795ab2fea98
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 08/04/2020
ms.locfileid: "87675497"
---
# <a name="use-property-expressions-in-packages"></a><span data-ttu-id="48d93-102">Usar expresiones de propiedad en paquetes</span><span class="sxs-lookup"><span data-stu-id="48d93-102">Use Property Expressions in Packages</span></span>
  <span data-ttu-id="48d93-103">Una expresión de propiedad es una expresión asignada a una propiedad para permitir la actualización dinámica de la propiedad en tiempo de ejecución.</span><span class="sxs-lookup"><span data-stu-id="48d93-103">A property expression is an expression that is assigned to a property to enable dynamic update of the property at run time.</span></span> <span data-ttu-id="48d93-104">Por ejemplo, una expresión de propiedad puede actualizar la línea Para que utiliza una tarea Enviar correo, insertando una dirección de correo electrónico almacenada en una variable.</span><span class="sxs-lookup"><span data-stu-id="48d93-104">For example, a property expression can update the To line that a Send Mail task uses by inserting an e-mail address that is stored in a variable.</span></span>

 <span data-ttu-id="48d93-105">Se puede agregar una expresión a un paquete, tarea, bucle ForEach, bucle For, secuencia, enumerador ForEach, controlador de eventos, administrador de conexiones de paquetes o proyectos, o proveedor de registro.</span><span class="sxs-lookup"><span data-stu-id="48d93-105">An expression can be added to a package, task, Foreach Loop, For Loop, Sequence, Foreach enumerator, event handler, a package or project level connection manager, or log provider.</span></span> <span data-ttu-id="48d93-106">Cualquier propiedad de estos objetos que sea de lectura/escritura puede implementa una expresión de propiedad.</span><span class="sxs-lookup"><span data-stu-id="48d93-106">Any property of these objects that is read/write can implement a property expression.</span></span> [!INCLUDE[ssISnoversion](../../../includes/ssisnoversion-md.md)] <span data-ttu-id="48d93-107">también admite el uso de expresiones de propiedad en algunas propiedades personalizadas de los componentes de flujo de datos.</span><span class="sxs-lookup"><span data-stu-id="48d93-107">also supports the use of property expressions in some custom properties of data flow components.</span></span> <span data-ttu-id="48d93-108">Las variables y restricciones de precedencia no admiten expresiones de propiedad, pero incluyen propiedades especiales en las que puede utilizar expresiones.</span><span class="sxs-lookup"><span data-stu-id="48d93-108">Variables and precedence constraints do not support property expressions, but they include special properties in which you can use expressions.</span></span>

 <span data-ttu-id="48d93-109">Las expresiones de propiedad se pueden actualizar de diferentes maneras:</span><span class="sxs-lookup"><span data-stu-id="48d93-109">Property expressions can be updated in different ways:</span></span>

-   <span data-ttu-id="48d93-110">Las variables definidas por el usuario se pueden incluir en configuraciones de paquetes y actualizar al implementar el paquete.</span><span class="sxs-lookup"><span data-stu-id="48d93-110">User-defined variables can be included in package configurations and then updated when the package is deployed.</span></span> <span data-ttu-id="48d93-111">Durante la ejecución, la expresión de propiedad se evalúa con el valor actualizado de la variable.</span><span class="sxs-lookup"><span data-stu-id="48d93-111">At run time, the property expression is evaluated using the updated variable value.</span></span>

-   <span data-ttu-id="48d93-112">Las variables del sistema incluidas en expresiones se actualizan en tiempo de ejecución y esto cambia los resultados de la evaluación de la propiedad.</span><span class="sxs-lookup"><span data-stu-id="48d93-112">System variables that are included in expressions are updated at run time, which changes the results of the property evaluation.</span></span>

-   <span data-ttu-id="48d93-113">Las funciones de fecha y hora se evalúan en tiempo de ejecución y proporcionan los valores actualizados para las expresiones de propiedad.</span><span class="sxs-lookup"><span data-stu-id="48d93-113">Date and time functions are evaluated at run time and provide the updated values to property expressions.</span></span>

-   <span data-ttu-id="48d93-114">Los scripts ejecutados por la tarea Script y el componente de script pueden actualizar las variables de las expresiones.</span><span class="sxs-lookup"><span data-stu-id="48d93-114">Variables in expressions can be updated by the scripts that the Script task and the Script component run.</span></span>

 <span data-ttu-id="48d93-115">Las expresiones se generan con el lenguaje de expresiones de [!INCLUDE[msCoName](../../includes/msconame-md.md)] [!INCLUDE[ssISnoversion](../../../includes/ssisnoversion-md.md)].</span><span class="sxs-lookup"><span data-stu-id="48d93-115">The expressions are built using the [!INCLUDE[msCoName](../../includes/msconame-md.md)] [!INCLUDE[ssISnoversion](../../../includes/ssisnoversion-md.md)] expression language.</span></span> <span data-ttu-id="48d93-116">Las expresiones pueden utilizar variables del sistema o definidas por el usuario, junto con los operadores, funciones y conversiones de tipo que proporciona el lenguaje de expresiones.</span><span class="sxs-lookup"><span data-stu-id="48d93-116">The expressions can use system or user-defined variables, together with the operators, functions, and type casts that the expression language provides.</span></span>

> [!NOTE]
>  <span data-ttu-id="48d93-117">Los nombres están definidos por el usuario y las variables del sistema distinguen mayúsculas y minúsculas.</span><span class="sxs-lookup"><span data-stu-id="48d93-117">The names of user-defined and system variables are case-sensitive.</span></span>

 <span data-ttu-id="48d93-118">Para más información, vea [Expresiones de Integration Services &#40;SSIS&#41;](integration-services-ssis-expressions.md).</span><span class="sxs-lookup"><span data-stu-id="48d93-118">For more information, see [Integration Services &#40;SSIS&#41; Expressions](integration-services-ssis-expressions.md).</span></span>

 <span data-ttu-id="48d93-119">Un uso importante de las expresiones de propiedad es para personalizar las configuraciones de cada instancia implementada de un paquete.</span><span class="sxs-lookup"><span data-stu-id="48d93-119">An important use of property expressions is to customize configurations for each deployed instance of a package.</span></span> <span data-ttu-id="48d93-120">Esto permite actualizar de forma dinámica las propiedades del paquete para diferentes entornos.</span><span class="sxs-lookup"><span data-stu-id="48d93-120">This makes it possible to dynamically update package properties for different environments.</span></span> <span data-ttu-id="48d93-121">Por ejemplo, puede crear una expresión de propiedad que asigne una variable a la cadena de conexión de un administrador de conexiones y, después, actualizar la variable cuando se implemente el paquete, asegurándose de que la cadena de conexión sea correcta en tiempo de ejecución.</span><span class="sxs-lookup"><span data-stu-id="48d93-121">For example, you can create a property expression that assigns a variable to the connection string of a connection manager, and then update the variable when the package is deployed, ensuring that the connection string is correct at run time.</span></span> <span data-ttu-id="48d93-122">Las configuraciones de paquetes se cargan antes de evaluar las expresiones de propiedad.</span><span class="sxs-lookup"><span data-stu-id="48d93-122">Package configurations are loaded before the property expressions are evaluated.</span></span>

 <span data-ttu-id="48d93-123">Una propiedad solo puede utilizar una expresión de propiedad, y una expresión de propiedad solo se puede aplicar a una propiedad.</span><span class="sxs-lookup"><span data-stu-id="48d93-123">A property can use only one property expression and a property expression can apply only to one property.</span></span> <span data-ttu-id="48d93-124">Sin embargo, puede generar varias expresiones de propiedad idénticas y asignarlas a diferentes propiedades.</span><span class="sxs-lookup"><span data-stu-id="48d93-124">However, you can build multiple identical property expressions and assign them to different properties.</span></span>

 <span data-ttu-id="48d93-125">Algunas propiedades se establecen mediante el uso de valores provenientes de enumeradores.</span><span class="sxs-lookup"><span data-stu-id="48d93-125">Some properties are set by using values from enumerators.</span></span> <span data-ttu-id="48d93-126">Cuando hace referencia al miembro enumerador en una expresión de propiedad, debe utilizar el valor numérico equivalente al nombre descriptivo del miembro enumerador.</span><span class="sxs-lookup"><span data-stu-id="48d93-126">When you reference the enumerator member in a property expression, you must use the numeric value that is equivalent to the friendly name of the enumerator member.</span></span> <span data-ttu-id="48d93-127">Por ejemplo, si una expresión de propiedad establece la propiedad `LoggingMode`, que utiliza un valor de la enumeración `DTSLoggingMode`, la expresión de propiedad debe utilizar 0, 1 o 2 en lugar de los nombres descriptivos `Enabled`, `Disabled` o `UseParentSetting`.</span><span class="sxs-lookup"><span data-stu-id="48d93-127">For example, if a property expression sets the `LoggingMode` property, which uses a value from the `DTSLoggingMode` enumeration, the property expression must use 0, 1, or 2 instead of the friendly names `Enabled`, `Disabled`, or `UseParentSetting`.</span></span> <span data-ttu-id="48d93-128">Para más información, vea [Constantes enumeradas en expresiones de propiedad](enumerated-constants-in-property-expressions.md).</span><span class="sxs-lookup"><span data-stu-id="48d93-128">For more information, see [Enumerated Constants in Property Expressions](enumerated-constants-in-property-expressions.md).</span></span>

## <a name="property-expression-user-interface"></a><span data-ttu-id="48d93-129">Interfaz de usuario de las expresiones de propiedad</span><span class="sxs-lookup"><span data-stu-id="48d93-129">Property Expression User Interface</span></span>
 [!INCLUDE[ssISnoversion](../../../includes/ssisnoversion-md.md)] <span data-ttu-id="48d93-130">proporciona un conjunto de herramientas para generar y administrar expresiones de propiedad.</span><span class="sxs-lookup"><span data-stu-id="48d93-130">provides a set of tools for building and managing property expressions.</span></span>

-   <span data-ttu-id="48d93-131">La página **Expresiones** , que se encuentra en los editores personalizados de tareas, el contenedor de bucles For y los contenedores ForEach.</span><span class="sxs-lookup"><span data-stu-id="48d93-131">The **Expressions** page, found in the custom editors for tasks, the For Loop container, and the Foreach containers.</span></span> <span data-ttu-id="48d93-132">La página **Expresiones** permite modificar expresiones y ver una lista de las expresiones de propiedad que utiliza una tarea, un bucle ForEach o un bucle For.</span><span class="sxs-lookup"><span data-stu-id="48d93-132">The **Expressions** page lets you edit expressions and view a list of the property expressions that a task, Foreach Loop, or For Loop uses.</span></span>

-   <span data-ttu-id="48d93-133">La ventana **Propiedades** , para modificar expresiones y ver una lista de las expresiones de propiedad que utilizadas por un paquete o por los objetos de un paquete.</span><span class="sxs-lookup"><span data-stu-id="48d93-133">The **Properties** window, for editing expressions and viewing a list of the property expressions that a package or package objects use.</span></span>

-   <span data-ttu-id="48d93-134">El cuadro de diálogo **Editor de expresiones de propiedad** , para crear, actualizar y eliminar expresiones de propiedad.</span><span class="sxs-lookup"><span data-stu-id="48d93-134">The **Property Expressions Editor** dialog box, for creating, updating, and deleting property expressions.</span></span>

-   <span data-ttu-id="48d93-135">El cuadro de diálogo **Generador de expresiones** , para crear una expresión con las herramientas gráficas.</span><span class="sxs-lookup"><span data-stu-id="48d93-135">The **Expression Builder** dialog box, for building an expression using graphical tools.</span></span> <span data-ttu-id="48d93-136">En el cuadro de diálogo **Generador de expresiones** se pueden evaluar expresiones para que las revise, sin asignar el resultado de la evaluación a la propiedad.</span><span class="sxs-lookup"><span data-stu-id="48d93-136">The **Expression Builder** dialog box can evaluate expressions for your review without assigning the evaluation result to the property.</span></span>

 <span data-ttu-id="48d93-137">El diagrama siguiente muestra las interfaces de usuario que sirven para agregar, cambiar y quitar expresiones de propiedad.</span><span class="sxs-lookup"><span data-stu-id="48d93-137">The following diagram shows the user interfaces that you use to add, change, and remove property expressions.</span></span>

 <span data-ttu-id="48d93-138">![Interfaz de usuario para expresiones de propiedad](../media/ssis-propertyexpressionui.gif "Interfaz de usuario para expresiones de propiedad")</span><span class="sxs-lookup"><span data-stu-id="48d93-138">![The user interface for property expressions](../media/ssis-propertyexpressionui.gif "The user interface for property expressions")</span></span>

 <span data-ttu-id="48d93-139">En la ventana **Propiedades** y en la página **Expresiones**, haga clic en el botón Examinar **(…)** en el nivel de la colección de **Expresiones** para abrir el cuadro de diálogo **Editor de expresiones de propiedad**.</span><span class="sxs-lookup"><span data-stu-id="48d93-139">In the **Properties** window and the **Expressions** page, click the browse button **(...)** at the **Expressions** collection level to open the **Property Expressions Editor** dialog box.</span></span> <span data-ttu-id="48d93-140">El Editor de expresiones de propiedad le permite asignar una propiedad a una expresión y escribir una expresión de propiedad.</span><span class="sxs-lookup"><span data-stu-id="48d93-140">The Property Expressions Editor allows you to map a property to an expression and to type a property expression.</span></span> <span data-ttu-id="48d93-141">Si quiere usar las herramientas gráficas de expresiones para crear y validar la expresión, haga clic en el botón Examinar **(…)** en el nivel de expresión para abrir el cuadro de diálogo **Generador de expresiones** y, después, cree o modifique la expresión (y, de manera opcional, valídela).</span><span class="sxs-lookup"><span data-stu-id="48d93-141">If you want to use the graphical expression tools to create and then validate the expression, click the browse button **(...)** at the expression level to open the **Expression Builder** dialog box, and then create or modify and optionally validate the expression.</span></span>

 <span data-ttu-id="48d93-142">También puede abrir el cuadro de diálogo **Generador de expresiones** desde el cuadro de diálogo **Editor de expresiones de propiedad** .</span><span class="sxs-lookup"><span data-stu-id="48d93-142">You can also open the **Expression Builder** dialog box from the **Property Expressions Editor** dialog box.</span></span>

#### <a name="to-work-with-property-expressions"></a><span data-ttu-id="48d93-143">Para trabajar con expresiones de propiedad</span><span class="sxs-lookup"><span data-stu-id="48d93-143">To work with property expressions</span></span>

-   [<span data-ttu-id="48d93-144">Agregar o cambiar una expresión de propiedad</span><span class="sxs-lookup"><span data-stu-id="48d93-144">Add or Change a Property Expression</span></span>](add-or-change-a-property-expression.md)

### <a name="setting-property-expressions-of-data-flow-components"></a><span data-ttu-id="48d93-145">Establecer expresiones de propiedad de componentes de flujo de datos</span><span class="sxs-lookup"><span data-stu-id="48d93-145">Setting Property Expressions of Data Flow Components</span></span>
 <span data-ttu-id="48d93-146">Si genera un paquete en [!INCLUDE[ssBIDevStudioFull](../../includes/ssbidevstudiofull-md.md)], las propiedades de los componentes de flujo de datos que admiten expresiones de propiedad se muestran en la tarea Flujo de datos a la que pertenecen.</span><span class="sxs-lookup"><span data-stu-id="48d93-146">If you construct a package in [!INCLUDE[ssBIDevStudioFull](../../includes/ssbidevstudiofull-md.md)], the properties of data flow components that support property expressions are exposed on the Data Flow task to which they belong.</span></span> <span data-ttu-id="48d93-147">Para agregar, cambiar y quitar las expresiones de propiedad de componentes de flujo de datos, haga clic con el botón derecho en la tarea Flujo de datos del flujo de datos al que pertenecen los componentes de flujo de datos y haga clic en **Propiedades**.</span><span class="sxs-lookup"><span data-stu-id="48d93-147">To add, change, and remove the property expressions of data flow components, you right-click the Data Flow task for the data flow to which the data flow components belong and click **Properties**.</span></span> <span data-ttu-id="48d93-148">La ventana Propiedades enumera las propiedades de los componentes de flujo de datos con los que puede utilizar expresiones de propiedad.</span><span class="sxs-lookup"><span data-stu-id="48d93-148">The Properties window lists the properties of data flow components with which you can use property expressions.</span></span> <span data-ttu-id="48d93-149">Por ejemplo, para crear o modificar una expresión de propiedad para la propiedad SamplingValue de una transformación Muestreo de fila en un flujo de datos denominado SampleCustomer, haga clic con el botón derecho en la tarea Flujo de datos del flujo de datos al que pertenece la transformación Muestreo de fila y haga clic en **Propiedades**.</span><span class="sxs-lookup"><span data-stu-id="48d93-149">For example, to create or modify a property expression for the SamplingValue property of a Row Sampling transformation in a data flow named SampleCustomer, right-click the Data Flow task for the data flow to which the Row Sampling transformation belongs and click **Properties**.</span></span> <span data-ttu-id="48d93-150">La propiedad SamplingValue se muestra en la ventana Propiedades y tiene el formato [SampleCustomer].[SamplingValue].</span><span class="sxs-lookup"><span data-stu-id="48d93-150">The SamplingValue property is listed in the Properties window, and has the format [SampleCustomer].[SamplingValue].</span></span>

 <span data-ttu-id="48d93-151">En la ventana Propiedades, puede agregar, cambiar y quitar expresiones de propiedad para componentes de flujo de datos de la misma manera que las expresiones de propiedad para otros tipos de objetos de [!INCLUDE[ssISnoversion](../../../includes/ssisnoversion-md.md)] .</span><span class="sxs-lookup"><span data-stu-id="48d93-151">In the Properties window, you add, change, and remove property expressions for data flow components in the same way as property expressions for other [!INCLUDE[ssISnoversion](../../../includes/ssisnoversion-md.md)] object types.</span></span> <span data-ttu-id="48d93-152">La ventana Propiedades también proporciona acceso a varios cuadros de diálogo y generadores que sirven para agregar, cambiar o quitar expresiones de propiedad para componentes de flujo de datos.</span><span class="sxs-lookup"><span data-stu-id="48d93-152">The Properties window also provides access to the various dialog boxes and builders that you use to add, change, or remove property expressions for data flow components.</span></span> <span data-ttu-id="48d93-153">Para obtener más información sobre las propiedades de componentes de flujo de datos que se pueden actualizar a través de expresiones de propiedad, vea [Transformation Custom Properties](../data-flow/transformations/transformation-custom-properties.md).</span><span class="sxs-lookup"><span data-stu-id="48d93-153">For more information about the properties of data flow components that can be updated by property expressions, see [Transformation Custom Properties](../data-flow/transformations/transformation-custom-properties.md).</span></span>

## <a name="loading-property-expressions"></a><span data-ttu-id="48d93-154">Cargar expresiones de propiedad</span><span class="sxs-lookup"><span data-stu-id="48d93-154">Loading Property Expressions</span></span>
 <span data-ttu-id="48d93-155">No se puede especificar ni controlar el momento en que se cargan las expresiones.</span><span class="sxs-lookup"><span data-stu-id="48d93-155">You cannot specify or control when property expressions are loaded.</span></span> <span data-ttu-id="48d93-156">Las expresiones de propiedad se evalúan y cargan cuando se validan el paquete y los objetos de paquete.</span><span class="sxs-lookup"><span data-stu-id="48d93-156">The property expressions are evaluated and loaded when the package and the package objects are validated.</span></span> <span data-ttu-id="48d93-157">La validación se produce cuando se guarda el paquete, se abre en el Diseñador [!INCLUDE[ssIS](../../../includes/ssis-md.md)] y se ejecuta.</span><span class="sxs-lookup"><span data-stu-id="48d93-157">Validation occurs when you save the package, open the package in [!INCLUDE[ssIS](../../../includes/ssis-md.md)] Designer, and run the package.</span></span>

 <span data-ttu-id="48d93-158">Por lo tanto, no verá los valores actualizados de las propiedades de los objetos de paquete que utilizan expresiones de propiedad en el Diseñador [!INCLUDE[ssIS](../../../includes/ssis-md.md)] hasta que guarde el paquete, lo ejecute o lo vuelva a abrir después de agregarle las expresiones de propiedad.</span><span class="sxs-lookup"><span data-stu-id="48d93-158">You will therefore not see the updated values of the properties of the package objects that use property expressions in [!INCLUDE[ssIS](../../../includes/ssis-md.md)] Designer until you save the package, run the package, or reopen the package after adding the property expressions.</span></span>

 <span data-ttu-id="48d93-159">Las expresiones de propiedad asociadas a los diferentes tipos de objetos (administradores de conexiones, proveedores de registro y enumeradores) también se cargan cuando se llama a métodos específicos para ese tipo de objeto.</span><span class="sxs-lookup"><span data-stu-id="48d93-159">The property expressions associated with different types of objects-connection managers, log providers, and enumerators-are also loaded when methods specific to that object type are called.</span></span> <span data-ttu-id="48d93-160">Por ejemplo, las propiedades de administradores de conexión se cargan antes de que [!INCLUDE[ssISnoversion](../../../includes/ssisnoversion-md.md)] crea una instancia de la conexión.</span><span class="sxs-lookup"><span data-stu-id="48d93-160">For example, the properties of connection managers are loaded before [!INCLUDE[ssISnoversion](../../../includes/ssisnoversion-md.md)] creates an instance of the connection.</span></span>

 <span data-ttu-id="48d93-161">Las expresiones de propiedad se cargan una vez que se han cargado las configuraciones de paquete.</span><span class="sxs-lookup"><span data-stu-id="48d93-161">Property expressions are loaded after package configurations have loaded.</span></span> <span data-ttu-id="48d93-162">Por ejemplo, las variables se actualizan primero con sus configuraciones, y luego se evalúan y cargan las expresiones de propiedad que utilizan las variables.</span><span class="sxs-lookup"><span data-stu-id="48d93-162">For example, variables are updated first by their configurations, and then the property expressions that use the variables are evaluated and loaded.</span></span> <span data-ttu-id="48d93-163">Esto significa que las expresiones de propiedad siempre utilizan los valores de variables establecidas con configuraciones.</span><span class="sxs-lookup"><span data-stu-id="48d93-163">This means that the property expressions always use the values of variables that are set by configurations.</span></span>

> [!NOTE]
>  <span data-ttu-id="48d93-164">No se puede usar la `Set` opción de la utilidad **DTExec** para rellenar una expresión de propiedad.</span><span class="sxs-lookup"><span data-stu-id="48d93-164">You cannot use the `Set` option of the **dtexec** utility to populate a property expression.</span></span>

 <span data-ttu-id="48d93-165">La tabla siguiente resume cuándo se evalúan y cargan las expresiones de propiedad de [!INCLUDE[ssISnoversion](../../../includes/ssisnoversion-md.md)] .</span><span class="sxs-lookup"><span data-stu-id="48d93-165">The following table summarizes when property expressions of [!INCLUDE[ssISnoversion](../../../includes/ssisnoversion-md.md)] are evaluated and loaded.</span></span>

|<span data-ttu-id="48d93-166">Tipo de objeto</span><span class="sxs-lookup"><span data-stu-id="48d93-166">Object type</span></span>|<span data-ttu-id="48d93-167">Carga y evaluación</span><span class="sxs-lookup"><span data-stu-id="48d93-167">Load and evaluate</span></span>|
|-----------------|-----------------------|
|<span data-ttu-id="48d93-168">Paquete, bucle Foreach, bucle For, secuencia, tareas y componentes de flujo de datos</span><span class="sxs-lookup"><span data-stu-id="48d93-168">Package, Foreach loop, For Loop, Sequence, tasks, and data flow components</span></span>|<span data-ttu-id="48d93-169">Tras la carga de configuraciones</span><span class="sxs-lookup"><span data-stu-id="48d93-169">After loading configurations</span></span><br /><br /> <span data-ttu-id="48d93-170">Antes de la validación</span><span class="sxs-lookup"><span data-stu-id="48d93-170">Before validation</span></span><br /><br /> <span data-ttu-id="48d93-171">Antes de la ejecución</span><span class="sxs-lookup"><span data-stu-id="48d93-171">Before execution</span></span>|
|<span data-ttu-id="48d93-172">Administradores de conexión</span><span class="sxs-lookup"><span data-stu-id="48d93-172">Connection managers</span></span>|<span data-ttu-id="48d93-173">Tras la carga de configuraciones</span><span class="sxs-lookup"><span data-stu-id="48d93-173">After loading configurations</span></span><br /><br /> <span data-ttu-id="48d93-174">Antes de la validación</span><span class="sxs-lookup"><span data-stu-id="48d93-174">Before validation</span></span><br /><br /> <span data-ttu-id="48d93-175">Antes de la ejecución</span><span class="sxs-lookup"><span data-stu-id="48d93-175">Before execution</span></span><br /><br /> <span data-ttu-id="48d93-176">Antes de la creación de una instancia de conexión</span><span class="sxs-lookup"><span data-stu-id="48d93-176">Before creating a connection instance</span></span>|
|<span data-ttu-id="48d93-177">Proveedores de registro</span><span class="sxs-lookup"><span data-stu-id="48d93-177">Log providers</span></span>|<span data-ttu-id="48d93-178">Tras la carga de configuraciones</span><span class="sxs-lookup"><span data-stu-id="48d93-178">After loading configurations</span></span><br /><br /> <span data-ttu-id="48d93-179">Antes de la validación</span><span class="sxs-lookup"><span data-stu-id="48d93-179">Before validation</span></span><br /><br /> <span data-ttu-id="48d93-180">Antes de la ejecución</span><span class="sxs-lookup"><span data-stu-id="48d93-180">Before execution</span></span><br /><br /> <span data-ttu-id="48d93-181">Antes de la apertura de registros</span><span class="sxs-lookup"><span data-stu-id="48d93-181">Before opening logs</span></span>|
|<span data-ttu-id="48d93-182">Enumeradores Foreach</span><span class="sxs-lookup"><span data-stu-id="48d93-182">Foreach enumerators</span></span>|<span data-ttu-id="48d93-183">Tras la carga de configuraciones</span><span class="sxs-lookup"><span data-stu-id="48d93-183">After loading configurations</span></span><br /><br /> <span data-ttu-id="48d93-184">Antes de la validación</span><span class="sxs-lookup"><span data-stu-id="48d93-184">Before validation</span></span><br /><br /> <span data-ttu-id="48d93-185">Antes de la ejecución</span><span class="sxs-lookup"><span data-stu-id="48d93-185">Before execution</span></span><br /><br /> <span data-ttu-id="48d93-186">Antes de cada enumeración del bucle</span><span class="sxs-lookup"><span data-stu-id="48d93-186">Before each enumeration of the loop</span></span>|

## <a name="using-property-expressions-in-the-foreach-loop"></a><span data-ttu-id="48d93-187">Usar expresiones de propiedad en el bucle Foreach</span><span class="sxs-lookup"><span data-stu-id="48d93-187">Using Property Expressions in the Foreach Loop</span></span>
 <span data-ttu-id="48d93-188">A menudo, es útil implementar una expresión de propiedad para establecer el valor de la propiedad `ConnectionString` de los administradores de conexión que se utilizan dentro del contenedor de bucles Foreach.</span><span class="sxs-lookup"><span data-stu-id="48d93-188">It is frequently useful to implement a property expression to set the value of the `ConnectionString` property of connection managers that are used inside the Foreach Loop container.</span></span> <span data-ttu-id="48d93-189">Después de que el enumerador asigne su valor actual a una variable en cada iteración del bucle, la expresión de propiedad puede usar el valor de esa variable para actualizar el valor de la propiedad `ConnectionString` de forma dinámica.</span><span class="sxs-lookup"><span data-stu-id="48d93-189">After the enumerator maps its current value to a variable on each iteration of the loop, the property expression can use the value of this variable to update the value of the `ConnectionString` property dynamically .</span></span>

 <span data-ttu-id="48d93-190">Si desea utilizar expresiones de propiedad con la propiedad `ConnectionString` de administradores de conexión de archivos, varios archivos, archivos planos y varios archivos planos que utiliza un bucle Foreach, deberá tener en cuenta varios aspectos.</span><span class="sxs-lookup"><span data-stu-id="48d93-190">If you want to use property expressions with the `ConnectionString` property of File, Multiple Files, Flat Files, and Multiple Flat Files connection managers that a Foreach Loop uses, there are some things that you should consider.</span></span> <span data-ttu-id="48d93-191">Un paquete se puede configurar para ejecutar varios ejecutables simultáneamente estableciendo la propiedad `MaxConcurrentExecutables` en un valor mayor que 1 o en el valor -1.</span><span class="sxs-lookup"><span data-stu-id="48d93-191">A package can be configured to run multiple executables concurrently by setting the `MaxConcurrentExecutables` property either to a value greater than 1 or to the value -1.</span></span> <span data-ttu-id="48d93-192">El valor de -1 permite que el número máximo de ejecutables en ejecución simultánea sea igual al número de procesadores más dos.</span><span class="sxs-lookup"><span data-stu-id="48d93-192">A value of -1 allows the maximum number of concurrently running executables to equal the number of processors plus two.</span></span> <span data-ttu-id="48d93-193">Para evitar las consecuencias negativas de la ejecución paralela de ejecutables, el valor de `MaxConcurrentExecutables` se debe establecer en 1.</span><span class="sxs-lookup"><span data-stu-id="48d93-193">To avoid negative consequences from the parallel execution of executables, the value `MaxConcurrentExecutables` should be set to 1.</span></span> <span data-ttu-id="48d93-194">Si `MaxConcurrentExecutables` no se establece en 1, el valor de la propiedad `ConnectionString` no se puede garantizar y se pueden obtener resultados impredecibles.</span><span class="sxs-lookup"><span data-stu-id="48d93-194">If `MaxConcurrentExecutables` is not set to 1, then the value of the `ConnectionString` property cannot be guaranteed and results are unpredictable.</span></span>

 <span data-ttu-id="48d93-195">Por ejemplo, suponga que un bucle Foreach que enumera los archivos de una carpeta recupera los nombres de archivo y luego utiliza la tarea Ejecutar SQL para insertar cada nombre de archivo en una tabla.</span><span class="sxs-lookup"><span data-stu-id="48d93-195">For example, consider a Foreach Loop that enumerates files in a folder, retrieves the file names, and then uses an Execute SQL task to insert each file name into a table.</span></span> <span data-ttu-id="48d93-196">Si `MaxConcurrentExecutables` no se establece en 1, es posible que se produzcan conflictos de escritura si dos instancias de la tarea Ejecutar SQL intentan escribir en la tabla al mismo tiempo.</span><span class="sxs-lookup"><span data-stu-id="48d93-196">If `MaxConcurrentExecutables` is not set to 1, then write conflicts could occur if two instances of the Execute SQL task attempted to write to the table at the same time.</span></span>

## <a name="sample-property-expressions"></a><span data-ttu-id="48d93-197">Ejemplo de expresiones de propiedad</span><span class="sxs-lookup"><span data-stu-id="48d93-197">Sample Property Expressions</span></span>
 <span data-ttu-id="48d93-198">En las siguientes expresiones de ejemplo se muestra cómo utilizar variables del sistema, operadores, funciones y literales de cadena en las expresiones de propiedad.</span><span class="sxs-lookup"><span data-stu-id="48d93-198">The following sample expressions show how to use system variables, operators, functions, and string literals in property expressions.</span></span>

### <a name="property-expression-for-the-loggingmode-property-of-a-package"></a><span data-ttu-id="48d93-199">Expresión de propiedad para la propiedad LoggingMode de un paquete</span><span class="sxs-lookup"><span data-stu-id="48d93-199">Property Expression for the LoggingMode Property of a Package</span></span>
 <span data-ttu-id="48d93-200">Se puede usar la siguiente expresión de propiedad para establecer la propiedad LoggingMode de un paquete.</span><span class="sxs-lookup"><span data-stu-id="48d93-200">The following property expression can be used to set the LoggingMode property of a package.</span></span> <span data-ttu-id="48d93-201">La expresión utiliza las funciones DAY y GETDATE para obtener un entero que representa la parte de la fecha correspondiente al día de la fecha.</span><span class="sxs-lookup"><span data-stu-id="48d93-201">The expression uses the DAY and GETDATE functions to get an integer that represents the day datepart of a date.</span></span> <span data-ttu-id="48d93-202">Si el día es el 1 o el 15, se habilita el registro; de lo contrario, el registro se deshabilita.</span><span class="sxs-lookup"><span data-stu-id="48d93-202">If the day is the 1st or 15th, logging is enabled; otherwise, logging is disabled.</span></span> <span data-ttu-id="48d93-203">El valor 1 es el entero equivalente del miembro de enumerador LoggingMode `Enabled` y el valor 2 es el entero equivalente del miembro `Disabled` .</span><span class="sxs-lookup"><span data-stu-id="48d93-203">The value 1 is the integer equivalent of the LoggingMode enumerator member `Enabled`, and the value 2 is the integer equivalent of the member `Disabled`.</span></span> <span data-ttu-id="48d93-204">Debe utilizar el valor numérico en lugar del nombre del miembro enumerador en la expresión.</span><span class="sxs-lookup"><span data-stu-id="48d93-204">You must use the numeric value instead of the enumerator member name in the expression.</span></span>

 `DAY((DT_DBTIMESTAMP)GETDATE())==1||DAY((DT_DBTIMESTAMP)GETDATE())==15?1:2`

### <a name="property-expression-for-the-subject-of-an-e-mail-message"></a><span data-ttu-id="48d93-205">Expresión de propiedad para el asunto de un mensaje de correo electrónico</span><span class="sxs-lookup"><span data-stu-id="48d93-205">Property Expression for the Subject of an E-mail Message</span></span>
 <span data-ttu-id="48d93-206">Se puede usar la siguiente expresión de propiedad para establecer la propiedad Subject de una tarea Enviar correo y proporcionar un asunto de correo electrónico útil.</span><span class="sxs-lookup"><span data-stu-id="48d93-206">The following property expression can be used to set the Subject property of a Send Mail task and provide a useful e-mail subject.</span></span> <span data-ttu-id="48d93-207">La expresión utiliza una combinación de literales de cadena, variables del sistema, operadores de concatenación (+) y conversión, y las funciones DATEDIFF y GETDATE.</span><span class="sxs-lookup"><span data-stu-id="48d93-207">The expression uses a combination of string literals, system variables, the concatenation (+) and cast operators, and the DATEDIFF and GETDATE functions.</span></span> <span data-ttu-id="48d93-208">Las variables del sistema son las variables `PackageName` y `StartTime` .</span><span class="sxs-lookup"><span data-stu-id="48d93-208">The system variables are the `PackageName` and `StartTime` variables.</span></span>

 `"PExpression-->Package: (" + @[System::PackageName] + ") Started:"+  (DT_WSTR, 30) @[System::StartTime] + " Duration:"  +  (DT_WSTR,10) (DATEDIFF( "ss", @[System::StartTime] , GETDATE()  )) + " seconds"`

 <span data-ttu-id="48d93-209">Si el nombre del paquete es EmailRowCountPP, se ejecutó el 4 de marzo de 2005 y la duración de la ejecución fue de 9 segundos, la expresión se evalúa como la cadena siguiente.</span><span class="sxs-lookup"><span data-stu-id="48d93-209">If the package name is EmailRowCountPP, was run on 3/4/2005, and the duration of the run was 9 seconds, the expression evaluates to the following string.</span></span>

 <span data-ttu-id="48d93-210">PExpression-->Package: (EmailRowCountPP) Started:3/4/2005 11:06:18 AM Duration:9 seconds.</span><span class="sxs-lookup"><span data-stu-id="48d93-210">PExpression-->Package: (EmailRowCountPP) Started:3/4/2005 11:06:18 AM Duration:9 seconds.</span></span>

### <a name="property-expression-for-the-message-of-an-e-mail-message"></a><span data-ttu-id="48d93-211">Expresión de propiedad para el cuerpo de un mensaje de correo electrónico</span><span class="sxs-lookup"><span data-stu-id="48d93-211">Property Expression for the Message of an E-mail Message</span></span>
 <span data-ttu-id="48d93-212">Se puede usar la siguiente expresión de propiedad para establecer la propiedad MessageSource de una tarea Enviar correo.</span><span class="sxs-lookup"><span data-stu-id="48d93-212">The following property expression can be used to set the MessageSource property of a Send Mail task.</span></span> <span data-ttu-id="48d93-213">La expresión utiliza una combinación de literales de cadena, variables definidas por el usuario y el operador de concatenación (+).</span><span class="sxs-lookup"><span data-stu-id="48d93-213">The expression uses a combination of string literals, user-defined variables, and the concatenation (+) operator.</span></span> <span data-ttu-id="48d93-214">Las variables definidas por el usuario se denominan `nasdaqrawrows`, `nyserawrows`y `amexrawrows`.</span><span class="sxs-lookup"><span data-stu-id="48d93-214">The user-defined variables are named `nasdaqrawrows`, `nyserawrows`, and `amexrawrows`.</span></span> <span data-ttu-id="48d93-215">La cadena "\n" indica un retorno de carro.</span><span class="sxs-lookup"><span data-stu-id="48d93-215">The string "\n" indicates a carriage return.</span></span>

 `"Rows Processed: "  +   "\n" +"   NASDAQ: "  +   (dt_wstr,9)@[nasdaqrawrows]   + "\n" + "   NYSE: "  +  (dt_wstr,9)@[nyserawrows]  + "\n" + "   Amex: "  +  (dt_wstr,9)@[amexrawrows]`

 <span data-ttu-id="48d93-216">Si `nasdaqrawrows` es 7058, `nyserawrows` es 3528 y `amexrawrows` es 1102, la expresión se evalúa como la cadena siguiente.</span><span class="sxs-lookup"><span data-stu-id="48d93-216">If `nasdaqrawrows` is 7058, `nyserawrows` is 3528, and `amexrawrows` is 1102, the expression evaluates to the following string.</span></span>

 <span data-ttu-id="48d93-217">Rows Processed:</span><span class="sxs-lookup"><span data-stu-id="48d93-217">Rows Processed:</span></span>

 <span data-ttu-id="48d93-218">NASDAQ: 7058</span><span class="sxs-lookup"><span data-stu-id="48d93-218">NASDAQ: 7058</span></span>

 <span data-ttu-id="48d93-219">NYSE: 3528</span><span class="sxs-lookup"><span data-stu-id="48d93-219">NYSE: 3528</span></span>

 <span data-ttu-id="48d93-220">AMEX: 1102</span><span class="sxs-lookup"><span data-stu-id="48d93-220">AMEX: 1102</span></span>

### <a name="property-expression-for-the-executable-property-of-an-execute-process-task"></a><span data-ttu-id="48d93-221">Expresión de propiedad para la propiedad Ejecutable de una tarea Ejecutar proceso</span><span class="sxs-lookup"><span data-stu-id="48d93-221">Property Expression for the Executable Property of an Execute Process Task</span></span>
 <span data-ttu-id="48d93-222">Se puede usar la siguiente expresión de propiedad para establecer la propiedad Executable de una tarea Ejecutar proceso.</span><span class="sxs-lookup"><span data-stu-id="48d93-222">The following property expression can be used to set the Executable property of an Execute Process task.</span></span> <span data-ttu-id="48d93-223">La expresión utiliza una combinación de literales de cadena, operadores y funciones.</span><span class="sxs-lookup"><span data-stu-id="48d93-223">The expression uses a combination of string literals, operators, and functions.</span></span> <span data-ttu-id="48d93-224">La expresión utiliza las funciones DATEPART y GETDATE y el operador condicional.</span><span class="sxs-lookup"><span data-stu-id="48d93-224">The expression uses the DATEPART and GETDATE functions and the conditional operator.</span></span>

 `DATEPART("weekday", GETDATE()) ==2?"notepad.exe":"mspaint.exe"`

 <span data-ttu-id="48d93-225">Si es el segundo día de la semana, la tarea Ejecutar proceso ejecuta notepad.exe, de lo contrario, ejecuta mspaint.exe.</span><span class="sxs-lookup"><span data-stu-id="48d93-225">If it is the second day in the week, the Execute Process task runs notepad.exe, otherwise the task runs mspaint.exe.</span></span>

### <a name="property-expression-for-the-connectionstring-property-of-a-flat-file-connection-manager"></a><span data-ttu-id="48d93-226">Expresión de propiedad para la propiedad ConnectionString de un administrador de conexiones de archivos planos</span><span class="sxs-lookup"><span data-stu-id="48d93-226">Property Expression for the ConnectionString Property of a Flat File Connection Manager</span></span>
 <span data-ttu-id="48d93-227">Se puede usar la siguiente expresión de propiedad para establecer la propiedad ConnectionString de un administrador de conexiones de archivos planos.</span><span class="sxs-lookup"><span data-stu-id="48d93-227">The following property expression can be used to set the ConnectionString property of a Flat File connection manager.</span></span> <span data-ttu-id="48d93-228">La expresión utiliza una sola variable definida por el usuario, `myfilenamefull`, que contiene la ruta de acceso a un archivo de texto.</span><span class="sxs-lookup"><span data-stu-id="48d93-228">The expression uses a single user-defined variable, `myfilenamefull`, which contains the path to a text file.</span></span>

 `@[User::myfilenamefull]`

> [!NOTE]
>  <span data-ttu-id="48d93-229">Solo se puede tener acceso a las expresiones de propiedad para los administradores de conexión a través de la ventana Propiedades.</span><span class="sxs-lookup"><span data-stu-id="48d93-229">Property expressions for connection managers can be accessed only by using the Properties window.</span></span> <span data-ttu-id="48d93-230">Para ver las propiedades de un administrador de conexiones, seleccione el administrador de conexiones en el área **Administradores de conexiones** del Diseñador [!INCLUDE[ssIS](../../../includes/ssis-md.md)] cuando la ventana Propiedades esté abierta, o bien haga clic con el botón derecho en el administrador de conexiones y seleccione **Propiedades**.</span><span class="sxs-lookup"><span data-stu-id="48d93-230">To view the properties for a connection manager, you must select the connection manager in the **Connection Managers** area of [!INCLUDE[ssIS](../../../includes/ssis-md.md)] Designer when the Properties window is open, or right-click the connection manager and select **Properties**.</span></span>

### <a name="property-expression-for-the-configstring-property-of-a-text-file-log-provider"></a><span data-ttu-id="48d93-231">Expresión de propiedad para la propiedad ConfigString de un proveedor de registro de archivos de texto</span><span class="sxs-lookup"><span data-stu-id="48d93-231">Property Expression for the ConfigString Property of a Text File Log Provider</span></span>
 <span data-ttu-id="48d93-232">Se puede usar la siguiente expresión de propiedad para establecer la propiedad ConfigString de un proveedor de registro de archivos de texto.</span><span class="sxs-lookup"><span data-stu-id="48d93-232">The following property expression can be used to set the ConfigString property of a Text File log provider.</span></span> <span data-ttu-id="48d93-233">La expresión usa una sola variable definida por el usuario, `varConfigString`, que contiene el nombre del administrador de conexiones de archivos que se va a usar.</span><span class="sxs-lookup"><span data-stu-id="48d93-233">The expression uses a single user-defined variable, `varConfigString`, which contains the name of the File connection manager to use.</span></span> <span data-ttu-id="48d93-234">El administrador de conexiones de archivos especifica la ruta de acceso del archivo de texto en el que se escriben las entradas del registro.</span><span class="sxs-lookup"><span data-stu-id="48d93-234">The File connection manager specifies the path of the text file to which log entries are written.</span></span>

 `@[User::varConfigString]`

> [!NOTE]
>  <span data-ttu-id="48d93-235">Solo se puede tener acceso a las expresiones de propiedad para los administradores de registro a través de la ventana Propiedades.</span><span class="sxs-lookup"><span data-stu-id="48d93-235">Property expressions for log providers can be accessed only by using the Properties window.</span></span> <span data-ttu-id="48d93-236">Para ver las propiedades de un proveedor de registro, seleccione el proveedor de registro en la pestaña **Explorador de paquetes** del Diseñador [!INCLUDE[ssIS](../../../includes/ssis-md.md)] cuando la ventana Propiedades esté abierta, o bien haga clic con el botón derecho en el proveedor de registro (en el Explorador de paquetes) y haga clic en **Propiedades**.</span><span class="sxs-lookup"><span data-stu-id="48d93-236">To view the properties of a log provider, you must select the log provider on the **Package Explorer** tab of [!INCLUDE[ssIS](../../../includes/ssis-md.md)] Designer when the Properties window is open, or right-click the log provider in Package Explorer and click **Properties**.</span></span>

## <a name="external-resources"></a><span data-ttu-id="48d93-237">Recursos externos</span><span class="sxs-lookup"><span data-stu-id="48d93-237">External Resources</span></span>

-   [<span data-ttu-id="48d93-238">Marcador de resaltado de expresión y configuración (proyecto de CodePlex)</span><span class="sxs-lookup"><span data-stu-id="48d93-238">Expression and Configuration Highlighter (CodePlex Project)</span></span>](https://go.microsoft.com/fwlink/?LinkId=146625)

-   <span data-ttu-id="48d93-239">Artículo técnico, sobre [ejemplos de expresiones SSIS](https://go.microsoft.com/fwlink/?LinkId=220761), en social.technet.microsoft.com</span><span class="sxs-lookup"><span data-stu-id="48d93-239">Technical article, [SSIS Expression Examples](https://go.microsoft.com/fwlink/?LinkId=220761), on social.technet.microsoft.com</span></span>

## <a name="see-also"></a><span data-ttu-id="48d93-240">Consulte también</span><span class="sxs-lookup"><span data-stu-id="48d93-240">See Also</span></span>
 [<span data-ttu-id="48d93-241">Usar variables en paquetes</span><span class="sxs-lookup"><span data-stu-id="48d93-241">Use Variables in Packages</span></span>](../use-variables-in-packages.md)


