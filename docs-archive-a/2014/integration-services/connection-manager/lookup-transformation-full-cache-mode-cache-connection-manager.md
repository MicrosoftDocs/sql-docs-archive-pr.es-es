---
title: Implementar una transformación búsqueda en el modo de caché completa mediante el administrador de conexiones de caché | Microsoft Docs
ms.custom: ''
ms.date: 06/13/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: integration-services
ms.topic: conceptual
helpviewer_keywords:
- Lookup transformation [Integration Services]
ms.assetid: 58bc7611-5fb5-4113-9742-10959e06b94c
author: chugugrace
ms.author: chugu
ms.openlocfilehash: 8b8c77f7ecfbe79db00acce09f706468ec0a0055
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 08/04/2020
ms.locfileid: "87676139"
---
# <a name="implement-a-lookup-transformation-in-full-cache-mode-using-the-cache-connection-manager"></a><span data-ttu-id="f07eb-102">Implementar una transformación de búsqueda en el modo de caché completa mediante el Administrador de conexiones de caché</span><span class="sxs-lookup"><span data-stu-id="f07eb-102">Implement a Lookup Transformation in Full Cache Mode Using the Cache Connection Manager</span></span>
  <span data-ttu-id="f07eb-103">Puede configurar la transformación de búsqueda para utilizar el modo de caché completa y un Administrador de conexiones de caché.</span><span class="sxs-lookup"><span data-stu-id="f07eb-103">You can configure the Lookup transformation to use full cache mode and a Cache connection manager.</span></span> <span data-ttu-id="f07eb-104">En el modo de caché completa, el conjunto de datos de referencia se carga en la memoria caché antes de que se ejecute la transformación Búsqueda.</span><span class="sxs-lookup"><span data-stu-id="f07eb-104">In full cache mode, the reference dataset is loaded into cache before the Lookup transformation runs.</span></span>  
  
> [!NOTE]  
>  <span data-ttu-id="f07eb-105">El administrador de conexiones de caché no admite los tipos de datos de objetos binarios grandes (BLOB) DT_TEXT, DT_NTEXT y DT_IMAGE.</span><span class="sxs-lookup"><span data-stu-id="f07eb-105">The Cache connection manager does not support the Binary Large Object (BLOB) data types DT_TEXT, DT_NTEXT, and DT_IMAGE.</span></span> <span data-ttu-id="f07eb-106">Si el conjunto de datos de referencia contiene un tipo de datos BLOB, se producirá un error en el componente al ejecutar el paquete.</span><span class="sxs-lookup"><span data-stu-id="f07eb-106">If the reference dataset contains a BLOB data type, the component will fail when you run the package.</span></span> <span data-ttu-id="f07eb-107">Puede utilizar el **Editor del administrador de conexiones de caché** para modificar los tipos de datos de columna.</span><span class="sxs-lookup"><span data-stu-id="f07eb-107">You can use the **Cache Connection Manager Editor** to modify column data types.</span></span> <span data-ttu-id="f07eb-108">Para obtener más información, vea [Cache Connection Manager Editor](../cache-connection-manager-editor.md).</span><span class="sxs-lookup"><span data-stu-id="f07eb-108">For more information, see [Cache Connection Manager Editor](../cache-connection-manager-editor.md).</span></span>  
  
 <span data-ttu-id="f07eb-109">La transformación Búsqueda realiza búsquedas mediante la combinación de datos de las columnas de entrada procedentes de un origen de datos conectado con columnas de un conjunto de datos de referencia.</span><span class="sxs-lookup"><span data-stu-id="f07eb-109">The Lookup transformation performs lookups by joining data in input columns from a connected data source with columns in a reference dataset.</span></span> <span data-ttu-id="f07eb-110">Para más información, consulte [Lookup Transformation](../data-flow/transformations/lookup-transformation.md).</span><span class="sxs-lookup"><span data-stu-id="f07eb-110">For more information, see [Lookup Transformation](../data-flow/transformations/lookup-transformation.md).</span></span>  
  
 <span data-ttu-id="f07eb-111">Puede elegir entre las siguientes opciones para generar un conjunto de datos de referencia:</span><span class="sxs-lookup"><span data-stu-id="f07eb-111">You use one of the following to generate a reference dataset:</span></span>  
  
-   <span data-ttu-id="f07eb-112">Archivo caché (.caw)</span><span class="sxs-lookup"><span data-stu-id="f07eb-112">Cache file (.caw)</span></span>  
  
     <span data-ttu-id="f07eb-113">Se configura el administrador de conexiones de caché para leer los datos de un archivo caché existente.</span><span class="sxs-lookup"><span data-stu-id="f07eb-113">You configure the Cache connection manager to read data from an existing cache file.</span></span>  
  
-   <span data-ttu-id="f07eb-114">Origen de datos conectado en el flujo de datos</span><span class="sxs-lookup"><span data-stu-id="f07eb-114">Connected data source in the data flow</span></span>  
  
     <span data-ttu-id="f07eb-115">Se utiliza una transformación de caché para escribir los datos procedentes de un origen de datos conectado del flujo de datos en un administrador de conexiones de caché.</span><span class="sxs-lookup"><span data-stu-id="f07eb-115">You use a Cache Transform transformation to write data from a connected data source in the data flow to a Cache connection manager.</span></span> <span data-ttu-id="f07eb-116">Los datos siempre se almacenan en memoria.</span><span class="sxs-lookup"><span data-stu-id="f07eb-116">The data is always stored in memory.</span></span>  
  
     <span data-ttu-id="f07eb-117">Debe agregar la transformación Búsqueda a un flujo de datos independiente.</span><span class="sxs-lookup"><span data-stu-id="f07eb-117">You must add the Lookup transformation to a separate data flow.</span></span> <span data-ttu-id="f07eb-118">Esto permite a la transformación de caché rellenar el administrador de conexiones de caché antes de que se ejecute la transformación Búsqueda.</span><span class="sxs-lookup"><span data-stu-id="f07eb-118">This enables the Cache Transform to populate the Cache connection manager before the Lookup transformation is executed.</span></span> <span data-ttu-id="f07eb-119">Los flujos de datos pueden estar en el mismo paquete o en dos paquetes independientes.</span><span class="sxs-lookup"><span data-stu-id="f07eb-119">The data flows can be in the same package or in two separate packages.</span></span>  
  
     <span data-ttu-id="f07eb-120">Si los flujos de datos están en el mismo paquete, utilice una restricción de precedencia para conectar los flujos de datos.</span><span class="sxs-lookup"><span data-stu-id="f07eb-120">If the data flows are in the same package, use a precedence constraint to connect the data flows.</span></span> <span data-ttu-id="f07eb-121">Esto permite a la transformación de caché ejecutarse antes de que se ejecute la transformación Búsqueda.</span><span class="sxs-lookup"><span data-stu-id="f07eb-121">This enables the Cache Transform to run before the Lookup transformation runs.</span></span>  
  
     <span data-ttu-id="f07eb-122">Si los flujos de datos están en paquetes independientes, puede utilizar la tarea Ejecutar paquete para llamar al paquete secundario desde el paquete primario.</span><span class="sxs-lookup"><span data-stu-id="f07eb-122">If the data flows are in separate packages, you can use the Execute Package task to call the child package from the parent package.</span></span> <span data-ttu-id="f07eb-123">Puede llamar a varios paquetes secundarios si agrega varias tareas Ejecutar Paquete a una tarea del contenedor de secuencias del paquete primario.</span><span class="sxs-lookup"><span data-stu-id="f07eb-123">You can call multiple child packages by adding multiple Execute Package tasks to a Sequence Container task in the parent package.</span></span>  
  
 <span data-ttu-id="f07eb-124">Puede compartir el conjunto de datos de referencia almacenado en caché entre varias transformaciones Búsqueda si utiliza uno de los métodos siguientes:</span><span class="sxs-lookup"><span data-stu-id="f07eb-124">You can share the reference dataset stored in cache, between multiple Lookup transformations by using one of the following methods:</span></span>  
  
-   <span data-ttu-id="f07eb-125">Configurar las transformaciones Búsqueda de un único paquete para utilizar el mismo administrador de conexiones de caché.</span><span class="sxs-lookup"><span data-stu-id="f07eb-125">Configure the Lookup transformations in a single package to use the same Cache connection manager.</span></span>  
  
-   <span data-ttu-id="f07eb-126">Configurar los administradores de conexiones de caché en paquetes diferentes para utilizar el mismo archivo caché.</span><span class="sxs-lookup"><span data-stu-id="f07eb-126">Configure the Cache connection managers in different packages to use the same cache file.</span></span>  
  
 <span data-ttu-id="f07eb-127">Para obtener más información, vea los temas siguientes:</span><span class="sxs-lookup"><span data-stu-id="f07eb-127">For more information, see the following topics:</span></span>  
  
-   [<span data-ttu-id="f07eb-128">Transformación de caché</span><span class="sxs-lookup"><span data-stu-id="f07eb-128">Cache Transform</span></span>](../data-flow/transformations/cache-transform.md)  
  
-   [<span data-ttu-id="f07eb-129">Administrador de conexiones de caché</span><span class="sxs-lookup"><span data-stu-id="f07eb-129">Cache Connection Manager</span></span>](cache-connection-manager.md)  
  
-   [<span data-ttu-id="f07eb-130">Restricciones de precedencia</span><span class="sxs-lookup"><span data-stu-id="f07eb-130">Precedence Constraints</span></span>](../control-flow/precedence-constraints.md)  
  
-   [<span data-ttu-id="f07eb-131">Tarea Ejecutar paquete</span><span class="sxs-lookup"><span data-stu-id="f07eb-131">Execute Package Task</span></span>](../control-flow/execute-package-task.md)  
  
-   [<span data-ttu-id="f07eb-132">Contenedor de secuencias</span><span class="sxs-lookup"><span data-stu-id="f07eb-132">Sequence Container</span></span>](../control-flow/sequence-container.md)  
  
 <span data-ttu-id="f07eb-133">Para ver un vídeo donde se muestra cómo implementar una transformación de búsquedas en el modo de caché completa con el Administrador de conexiones de caché, visite [Cómo implementar una transformación Búsqueda en modo de memoria caché completa (vídeo de SQL Server)](https://go.microsoft.com/fwlink/?LinkId=131031).</span><span class="sxs-lookup"><span data-stu-id="f07eb-133">For a video that demonstrates how to implement a Lookup transformation in Full Cache mode using the Cache connection manager, see [How to: Implement a Lookup Transformation in Full Cache Mode (SQL Server Video)](https://go.microsoft.com/fwlink/?LinkId=131031).</span></span>  
  
### <a name="to-implement-a-lookup-transformation-in-full-cache-mode-in-one-package-by-using-cache-connection-manager-and-a-data-source-in-the-data-flow"></a><span data-ttu-id="f07eb-134">Implementar una transformación Búsqueda en el modo de caché completa en un paquete utilizando el Administrador de conexiones de caché y un origen de datos del flujo de datos</span><span class="sxs-lookup"><span data-stu-id="f07eb-134">To implement a Lookup transformation in full cache mode in one package by using Cache connection manager and a data source in the data flow</span></span>  
  
1.  <span data-ttu-id="f07eb-135">En [!INCLUDE[ssBIDevStudioFull](../../includes/ssbidevstudiofull-md.md)], abra un proyecto [!INCLUDE[ssISnoversion](../../includes/ssisnoversion-md.md)] y, a continuación, abra un paquete.</span><span class="sxs-lookup"><span data-stu-id="f07eb-135">In [!INCLUDE[ssBIDevStudioFull](../../includes/ssbidevstudiofull-md.md)], open a [!INCLUDE[ssISnoversion](../../includes/ssisnoversion-md.md)] project, and then open a package.</span></span>  
  
2.  <span data-ttu-id="f07eb-136">En la pestaña **Flujo de control** , agregue dos tareas Flujo de datos y conéctelas utilizando un conector verde:</span><span class="sxs-lookup"><span data-stu-id="f07eb-136">On the **Control Flow** tab, add two Data Flow tasks, and then connect the tasks by using a green connector:</span></span>  
  
3.  <span data-ttu-id="f07eb-137">En el primer flujo de datos, agregue una transformación de caché y, a continuación, conéctela a un origen de datos.</span><span class="sxs-lookup"><span data-stu-id="f07eb-137">In the first data flow, add a Cache Transform transformation, and then connect the transformation to a data source.</span></span>  
  
     <span data-ttu-id="f07eb-138">Configure el origen de datos según sea necesario.</span><span class="sxs-lookup"><span data-stu-id="f07eb-138">Configure the data source as needed.</span></span>  
  
4.  <span data-ttu-id="f07eb-139">Haga doble clic en la transformación de caché y, después, en el **Editor de transformación Caché**, en la página **Administrador de conexiones** , haga clic en **Nuevo** para crear un administrador de conexiones de caché.</span><span class="sxs-lookup"><span data-stu-id="f07eb-139">Double-click the Cache Transform, and then in the **Cache Transformation Editor**, on the **Connection Manager** page, click **New** to create a new Cache connection manager.</span></span>  
  
5.  <span data-ttu-id="f07eb-140">Haga clic en la pestaña **Columnas** del cuadro de diálogo **Editor del administrador de conexiones de caché** y, a continuación, utilice la opción **Posición de índice** para especificar cuáles son las columnas de índice.</span><span class="sxs-lookup"><span data-stu-id="f07eb-140">Click the **Columns** tab of the **Cache Connection Manager Editor** dialog box, and then specify which columns are the index columns by using the **Index Position** option.</span></span>  
  
     <span data-ttu-id="f07eb-141">Para las columnas de no índice, la posición de índice es 0.</span><span class="sxs-lookup"><span data-stu-id="f07eb-141">For non-index columns, the index position is 0.</span></span> <span data-ttu-id="f07eb-142">Para las columnas de índice, la posición de índice es un número secuencial positivo.</span><span class="sxs-lookup"><span data-stu-id="f07eb-142">For index columns, the index position is a sequential, positive number.</span></span>  
  
    > [!NOTE]  
    >  <span data-ttu-id="f07eb-143">Cuando la transformación Búsqueda se configura para utilizar un administrador de conexiones de caché, a las columnas de entrada solo se les puede asignar las columnas de índice del conjunto de datos de referencia.</span><span class="sxs-lookup"><span data-stu-id="f07eb-143">When the Lookup transformation is configured to use a Cache connection manager, only index columns in the reference dataset can be mapped to input columns.</span></span> <span data-ttu-id="f07eb-144">Asimismo, todas las columnas de índice deben estar asignadas.</span><span class="sxs-lookup"><span data-stu-id="f07eb-144">Also, all index columns must be mapped.</span></span> <span data-ttu-id="f07eb-145">Para obtener más información, vea [Cache Connection Manager Editor](../cache-connection-manager-editor.md).</span><span class="sxs-lookup"><span data-stu-id="f07eb-145">For more information, see [Cache Connection Manager Editor](../cache-connection-manager-editor.md).</span></span>  
  
6.  <span data-ttu-id="f07eb-146">Para guardar la memoria caché en un archivo, en el **Editor del administrador de conexiones de caché**, en la pestaña **General** , configure el administrador a través de las opciones siguientes:</span><span class="sxs-lookup"><span data-stu-id="f07eb-146">To save the cache to a file, in the **Cache Connection Manager Editor**, on the **General** tab, configure the Cache connection manager by setting the following options:</span></span>  
  
    -   <span data-ttu-id="f07eb-147">Seleccione **Utilizar la caché del archivo**.</span><span class="sxs-lookup"><span data-stu-id="f07eb-147">Select **Use file cache**.</span></span>  
  
    -   <span data-ttu-id="f07eb-148">En **Nombre de archivo**, escriba la ruta de acceso al archivo o haga clic en **Examinar** para seleccionar el archivo.</span><span class="sxs-lookup"><span data-stu-id="f07eb-148">For **File name**, either type the file path or click **Browse** to select the file.</span></span>  
  
         <span data-ttu-id="f07eb-149">Si escribe una ruta de acceso para un archivo que no existe, el sistema crea el archivo al ejecutar el paquete.</span><span class="sxs-lookup"><span data-stu-id="f07eb-149">If you type a path for a file that does not exist, the system creates the file when you run the package.</span></span>  
  
    > [!NOTE]  
    >  <span data-ttu-id="f07eb-150">El nivel de protección del paquete no se aplica al archivo caché.</span><span class="sxs-lookup"><span data-stu-id="f07eb-150">The protection level of the package does not apply to the cache file.</span></span> <span data-ttu-id="f07eb-151">Si el archivo caché contiene información confidencial, utilice una lista de control de acceso (ACL) para restringir el acceso a la ubicación o carpeta en la que almacena el archivo.</span><span class="sxs-lookup"><span data-stu-id="f07eb-151">If the cache file contains sensitive information, use an access control list (ACL) to restrict access to the location or folder in which you store the file.</span></span> <span data-ttu-id="f07eb-152">Solo debería permitir el acceso a ciertas cuentas.</span><span class="sxs-lookup"><span data-stu-id="f07eb-152">You should enable access only to certain accounts.</span></span> <span data-ttu-id="f07eb-153">Para más información, vea [Acceso a los archivos usados por los paquetes](../access-to-files-used-by-packages.md).</span><span class="sxs-lookup"><span data-stu-id="f07eb-153">For more information, see [Access to Files Used by Packages](../access-to-files-used-by-packages.md).</span></span>  
  
7.  <span data-ttu-id="f07eb-154">Configure la transformación de caché según sea necesario.</span><span class="sxs-lookup"><span data-stu-id="f07eb-154">Configure the Cache Transform as needed.</span></span> <span data-ttu-id="f07eb-155">Para obtener más información, vea [Editor de transformación Caché &#40;página Administrador de conexiones&#41;](../cache-transformation-editor-connection-manager-page.md) y [Editor de transformación Caché &#40;página Asignaciones&#41;](../cache-transformation-editor-mappings-page.md).</span><span class="sxs-lookup"><span data-stu-id="f07eb-155">For more information, see [Cache Transformation Editor &#40;Connection Manager Page&#41;](../cache-transformation-editor-connection-manager-page.md) and [Cache Transformation Editor &#40;Mappings Page&#41;](../cache-transformation-editor-mappings-page.md).</span></span>  
  
8.  <span data-ttu-id="f07eb-156">En el segundo flujo de datos, agregue una transformación Búsqueda y, a continuación, realice las tareas siguientes para configurar la transformación:</span><span class="sxs-lookup"><span data-stu-id="f07eb-156">In the second data flow, add a Lookup transformation, and then configure the transformation by doing the following tasks:</span></span>  
  
    1.  <span data-ttu-id="f07eb-157">Conecte la transformación Búsqueda al flujo de datos arrastrando un conector desde un origen o una transformación anterior hasta la transformación Búsqueda.</span><span class="sxs-lookup"><span data-stu-id="f07eb-157">Connect the Lookup transformation to the data flow by dragging a connector from a source or a previous transformation to the Lookup transformation.</span></span>  
  
        > [!NOTE]  
        >  <span data-ttu-id="f07eb-158">Una transformación Búsqueda podría no validarse si se conecta a un archivo plano que contiene un campo de fecha vacío.</span><span class="sxs-lookup"><span data-stu-id="f07eb-158">A Lookup transformation might not validate if that transformation connects to a flat file that contains an empty date field.</span></span> <span data-ttu-id="f07eb-159">El que la transformación se valide depende de si el administrador de conexiones para el archivo plano se ha configurado para conservar los valores NULL.</span><span class="sxs-lookup"><span data-stu-id="f07eb-159">Whether the transformation validates depends on whether the connection manager for the flat file has been configured to retain null values.</span></span> <span data-ttu-id="f07eb-160">Para asegurarse de que la transformación Búsqueda se valida, en el **Editor de origen de archivos planos**, de la página **Administrador de conexiones**, seleccione la opción **Conservar los valores null del origen como valores null en el flujo de datos** .</span><span class="sxs-lookup"><span data-stu-id="f07eb-160">To ensure that the Lookup transformation validates, in the **Flat File Source Editor**, on the **Connection Manager Page**, select the **Retain null values from the source as null values in the data flow** option.</span></span>  
  
    2.  <span data-ttu-id="f07eb-161">Haga doble clic en el origen o la transformación anterior para configurar el componente.</span><span class="sxs-lookup"><span data-stu-id="f07eb-161">Double-click the source or previous transformation to configure the component.</span></span>  
  
    3.  <span data-ttu-id="f07eb-162">Haga doble clic en la transformación Búsqueda y, después, en el **Editor de transformación Búsqueda**, en la página **General** , seleccione **Caché completa**.</span><span class="sxs-lookup"><span data-stu-id="f07eb-162">Double-click the Lookup transformation, and then in the **Lookup Transformation Editor**, on the **General** page, select **Full cache**.</span></span>  
  
    4.  <span data-ttu-id="f07eb-163">En el área **Tipo de conexión** , seleccione **Administrador de conexiones de caché**.</span><span class="sxs-lookup"><span data-stu-id="f07eb-163">In the **Connection type** area, select **Cache connection manager**.</span></span>  
  
    5.  <span data-ttu-id="f07eb-164">En la lista **Especificar cómo administrar las filas sin entradas coincidentes** , seleccione una opción de control de errores.</span><span class="sxs-lookup"><span data-stu-id="f07eb-164">From the **Specify how to handle rows with no matching entries** list, select an error handling option.</span></span>  
  
    6.  <span data-ttu-id="f07eb-165">En la página **Conexión** , en la lista **Administrador de conexiones de caché** , seleccione un administrador de conexiones de caché.</span><span class="sxs-lookup"><span data-stu-id="f07eb-165">On the **Connection** page, from the **Cache connection manager** list, select a Cache connection manager.</span></span>  
  
    7.  <span data-ttu-id="f07eb-166">Haga clic en la página **Columnas** y, a continuación, arrastre por lo menos una columna desde la lista **Columnas de entrada disponibles** hasta una columna de la lista **Columnas de búsqueda disponibles** .</span><span class="sxs-lookup"><span data-stu-id="f07eb-166">Click the **Columns** page, and then drag at least one column from the **Available Input Columns** list to a column in the **Available Lookup Column** list.</span></span>  
  
        > [!NOTE]  
        >  <span data-ttu-id="f07eb-167">La transformación Búsqueda asigna automáticamente las columnas que tienen el mismo nombre y el mismo tipo de datos.</span><span class="sxs-lookup"><span data-stu-id="f07eb-167">The Lookup transformation automatically maps columns that have the same name and the same data type.</span></span>  
  
        > [!NOTE]  
        >  <span data-ttu-id="f07eb-168">Las columnas deben tener tipos coincidentes de datos para asignarse.</span><span class="sxs-lookup"><span data-stu-id="f07eb-168">Columns must have matching data types to be mapped.</span></span> <span data-ttu-id="f07eb-169">Para obtener más información, vea [Integration Services Data Types](../data-flow/integration-services-data-types.md).</span><span class="sxs-lookup"><span data-stu-id="f07eb-169">For more information, see [Integration Services Data Types](../data-flow/integration-services-data-types.md).</span></span>  
  
    8.  <span data-ttu-id="f07eb-170">En la lista **Columnas de búsqueda disponibles** , seleccione las columnas.</span><span class="sxs-lookup"><span data-stu-id="f07eb-170">In the **Available Lookup Columns** list, select columns.</span></span> <span data-ttu-id="f07eb-171">A continuación, en la lista **Operación de búsqueda** , especifique si los valores de las columnas de búsqueda reemplazan los valores de la columna de entrada o se escriben en una nueva columna.</span><span class="sxs-lookup"><span data-stu-id="f07eb-171">Then in the **Lookup Operation** list, specify whether the values from the lookup columns replace values in the input column or are written to a new column.</span></span>  
  
    9. <span data-ttu-id="f07eb-172">Para configurar la salida de errores, haga clic en la página **Salida de error** y establezca las opciones de control de errores.</span><span class="sxs-lookup"><span data-stu-id="f07eb-172">To configure the error output, click the **Error Output** page and set the error handling options.</span></span> <span data-ttu-id="f07eb-173">Para obtener más información, vea [Editor de transformación Búsqueda &#40;página Salida de error&#41;](../lookup-transformation-editor-error-output-page.md).</span><span class="sxs-lookup"><span data-stu-id="f07eb-173">For more information, see [Lookup Transformation Editor &#40;Error Output Page&#41;](../lookup-transformation-editor-error-output-page.md).</span></span>  
  
    10. <span data-ttu-id="f07eb-174">Haga clic en **Aceptar** para guardar los cambios realizados en la transformación Búsqueda.</span><span class="sxs-lookup"><span data-stu-id="f07eb-174">Click **OK** to save your changes to the Lookup transformation.</span></span>  
  
9. <span data-ttu-id="f07eb-175">Ejecute el paquete.</span><span class="sxs-lookup"><span data-stu-id="f07eb-175">Run the package.</span></span>  
  
### <a name="to-implement-a-lookup-transformation-in-full-cache-mode-in-two-packages-by-using-cache-connection-manager-and-a-data-source-in-the-data-flow"></a><span data-ttu-id="f07eb-176">Para implementar una transformación Búsqueda en el modo de caché completa en dos paquetes mediante el administrador de conexiones de caché y un origen de datos del flujo de datos</span><span class="sxs-lookup"><span data-stu-id="f07eb-176">To implement a Lookup transformation in full cache mode in two packages by using Cache connection manager and a data source in the data flow</span></span>  
  
1.  <span data-ttu-id="f07eb-177">En [!INCLUDE[ssBIDevStudioFull](../../includes/ssbidevstudiofull-md.md)], abra un proyecto [!INCLUDE[ssISnoversion](../../includes/ssisnoversion-md.md)] y, a continuación, abra dos paquetes.</span><span class="sxs-lookup"><span data-stu-id="f07eb-177">In [!INCLUDE[ssBIDevStudioFull](../../includes/ssbidevstudiofull-md.md)], open a [!INCLUDE[ssISnoversion](../../includes/ssisnoversion-md.md)] project, and then open two packages.</span></span>  
  
2.  <span data-ttu-id="f07eb-178">En la pestaña Flujo de control de cada paquete, agregue una tarea Flujo de datos.</span><span class="sxs-lookup"><span data-stu-id="f07eb-178">On the Control Flow tab in each package, add a Data Flow task.</span></span>  
  
3.  <span data-ttu-id="f07eb-179">En el paquete principal, agregue una transformación de caché al flujo de datos y, a continuación, conéctela a un origen de datos.</span><span class="sxs-lookup"><span data-stu-id="f07eb-179">In the parent package, add a Cache Transform transformation to the data flow, and then connect the transformation to a data source.</span></span>  
  
     <span data-ttu-id="f07eb-180">Configure el origen de datos según sea necesario.</span><span class="sxs-lookup"><span data-stu-id="f07eb-180">Configure the data source as needed.</span></span>  
  
4.  <span data-ttu-id="f07eb-181">Haga doble clic en la transformación de caché y, después, en el **Editor de transformación Caché**, en la página **Administrador de conexiones** , haga clic en **Nuevo** para crear un administrador de conexiones de caché.</span><span class="sxs-lookup"><span data-stu-id="f07eb-181">Double-click the Cache Transform, and then in the **Cache Transformation Editor**, on the **Connection Manager** page, click **New** to create a new Cache connection manager.</span></span>  
  
5.  <span data-ttu-id="f07eb-182">En el **Editor del administrador de conexiones de caché**, en la pestaña **General** , configure el administrador estableciendo las opciones siguientes:</span><span class="sxs-lookup"><span data-stu-id="f07eb-182">In the **Cache Connection Manager Editor**, on the **General** tab, configure the Cache connection manager by setting the following options:</span></span>  
  
    -   <span data-ttu-id="f07eb-183">Seleccione **Utilizar la caché del archivo**.</span><span class="sxs-lookup"><span data-stu-id="f07eb-183">Select **Use file cache**.</span></span>  
  
    -   <span data-ttu-id="f07eb-184">En **Nombre de archivo**, escriba la ruta de acceso al archivo o haga clic en **Examinar** para seleccionar el archivo.</span><span class="sxs-lookup"><span data-stu-id="f07eb-184">For **File name**, either type the file path or click **Browse** to select the file.</span></span>  
  
         <span data-ttu-id="f07eb-185">Si escribe una ruta de acceso para un archivo que no existe, el sistema crea el archivo al ejecutar el paquete.</span><span class="sxs-lookup"><span data-stu-id="f07eb-185">If you type a path for a file that does not exist, the system creates the file when you run the package.</span></span>  
  
    > [!NOTE]  
    >  <span data-ttu-id="f07eb-186">El nivel de protección del paquete no se aplica al archivo caché.</span><span class="sxs-lookup"><span data-stu-id="f07eb-186">The protection level of the package does not apply to the cache file.</span></span> <span data-ttu-id="f07eb-187">Si el archivo caché contiene información confidencial, utilice una lista de control de acceso (ACL) para restringir el acceso a la ubicación o carpeta en la que almacena el archivo.</span><span class="sxs-lookup"><span data-stu-id="f07eb-187">If the cache file contains sensitive information, use an access control list (ACL) to restrict access to the location or folder in which you store the file.</span></span> <span data-ttu-id="f07eb-188">Solo debería permitir el acceso a ciertas cuentas.</span><span class="sxs-lookup"><span data-stu-id="f07eb-188">You should enable access only to certain accounts.</span></span> <span data-ttu-id="f07eb-189">Para más información, vea [Acceso a los archivos usados por los paquetes](../access-to-files-used-by-packages.md).</span><span class="sxs-lookup"><span data-stu-id="f07eb-189">For more information, see [Access to Files Used by Packages](../access-to-files-used-by-packages.md).</span></span>  
  
6.  <span data-ttu-id="f07eb-190">Haga clic en la pestaña **Columnas** e indique qué columnas son las columnas de índice mediante la opción **Posición de índice** .</span><span class="sxs-lookup"><span data-stu-id="f07eb-190">Click the **Columns** tab, and then specify which columns are the index columns by using the **Index Position** option.</span></span>  
  
     <span data-ttu-id="f07eb-191">Para las columnas de no índice, la posición de índice es 0.</span><span class="sxs-lookup"><span data-stu-id="f07eb-191">For non-index columns, the index position is 0.</span></span> <span data-ttu-id="f07eb-192">Para las columnas de índice, la posición de índice es un número secuencial positivo.</span><span class="sxs-lookup"><span data-stu-id="f07eb-192">For index columns, the index position is a sequential, positive number.</span></span>  
  
    > [!NOTE]  
    >  <span data-ttu-id="f07eb-193">Cuando la transformación Búsqueda se configura para utilizar un administrador de conexiones de caché, a las columnas de entrada solo se les puede asignar las columnas de índice del conjunto de datos de referencia.</span><span class="sxs-lookup"><span data-stu-id="f07eb-193">When the Lookup transformation is configured to use a Cache connection manager, only index columns in the reference dataset can be mapped to input columns.</span></span> <span data-ttu-id="f07eb-194">Asimismo, todas las columnas de índice deben estar asignadas.</span><span class="sxs-lookup"><span data-stu-id="f07eb-194">Also, all index columns must be mapped.</span></span> <span data-ttu-id="f07eb-195">Para obtener más información, vea [Cache Connection Manager Editor](../cache-connection-manager-editor.md).</span><span class="sxs-lookup"><span data-stu-id="f07eb-195">For more information, see [Cache Connection Manager Editor](../cache-connection-manager-editor.md).</span></span>  
  
7.  <span data-ttu-id="f07eb-196">Configure la transformación de caché según sea necesario.</span><span class="sxs-lookup"><span data-stu-id="f07eb-196">Configure the Cache Transform as needed.</span></span> <span data-ttu-id="f07eb-197">Para obtener más información, vea [Editor de transformación Caché &#40;página Administrador de conexiones&#41;](../cache-transformation-editor-connection-manager-page.md) y [Editor de transformación Caché &#40;página Asignaciones&#41;](../cache-transformation-editor-mappings-page.md).</span><span class="sxs-lookup"><span data-stu-id="f07eb-197">For more information, see [Cache Transformation Editor &#40;Connection Manager Page&#41;](../cache-transformation-editor-connection-manager-page.md) and [Cache Transformation Editor &#40;Mappings Page&#41;](../cache-transformation-editor-mappings-page.md).</span></span>  
  
8.  <span data-ttu-id="f07eb-198">Realice una de las siguientes acciones para rellenar el administrador de conexiones de caché que se utiliza en el segundo paquete:</span><span class="sxs-lookup"><span data-stu-id="f07eb-198">Do one of the following to populate the Cache connection manager that is used in the second package:</span></span>  
  
    -   <span data-ttu-id="f07eb-199">Ejecute el paquete primario.</span><span class="sxs-lookup"><span data-stu-id="f07eb-199">Run the parent package.</span></span>  
  
    -   <span data-ttu-id="f07eb-200">Haga doble clic en el administrador de conexiones de caché que ha creado en el paso 4, haga clic en **Columnas**, seleccione las filas y, después, presione CTRL+C para copiar los metadatos de columna.</span><span class="sxs-lookup"><span data-stu-id="f07eb-200">Double-click the Cache connection manager you created in step 4, click **Columns**, select the rows, and then press CTRL+C to copy the column metadata.</span></span>  
  
9. <span data-ttu-id="f07eb-201">En el paquete secundario, cree un administrador de conexiones de caché. Para hacerlo, haga clic con el botón derecho en el área **Administradores de conexiones** , haga clic en **Nueva conexión**, seleccione **CACHÉ** en el cuadro de diálogo **Agregar administrador de conexiones SSIS** y, después, haga clic en **Agregar**.</span><span class="sxs-lookup"><span data-stu-id="f07eb-201">In the child package, create a Cache connection manager by right-clicking in the **Connection Managers** area, clicking **New Connection**, selecting **CACHE** in the **Add SSIS Connection Manager** dialog box, and then clicking **Add**.</span></span>  
  
     <span data-ttu-id="f07eb-202">El área **Administradores de conexión** aparece en la parte inferior de las pestañas **Flujo de control**, **Flujo de datos**y **Controladores de eventos** del Diseñador de [!INCLUDE[ssISnoversion](../../includes/ssisnoversion-md.md)] .</span><span class="sxs-lookup"><span data-stu-id="f07eb-202">The **Connection Managers** area appears on the bottom of the **Control Flow**, **Data Flow**, and **Event Handlers** tabs of [!INCLUDE[ssISnoversion](../../includes/ssisnoversion-md.md)] Designer.</span></span>  
  
10. <span data-ttu-id="f07eb-203">En el **Editor del administrador de conexiones de caché**, en la pestaña **General** , configure el administrador para leer los datos del archivo caché seleccionado a través de las opciones siguientes:</span><span class="sxs-lookup"><span data-stu-id="f07eb-203">In the **Cache Connection Manager Editor**, on the **General** tab, configure the Cache connection manager to read the data from the cache file that you selected by setting the following options:</span></span>  
  
    -   <span data-ttu-id="f07eb-204">Seleccione **Utilizar la caché del archivo**.</span><span class="sxs-lookup"><span data-stu-id="f07eb-204">Select **Use file cache**.</span></span>  
  
    -   <span data-ttu-id="f07eb-205">En **Nombre de archivo**, escriba la ruta de acceso al archivo o haga clic en **Examinar** para seleccionar el archivo.</span><span class="sxs-lookup"><span data-stu-id="f07eb-205">For **File name**, either type the file path or click **Browse** to select the file.</span></span>  
  
    > [!NOTE]  
    >  <span data-ttu-id="f07eb-206">El nivel de protección del paquete no se aplica al archivo caché.</span><span class="sxs-lookup"><span data-stu-id="f07eb-206">The protection level of the package does not apply to the cache file.</span></span> <span data-ttu-id="f07eb-207">Si el archivo caché contiene información confidencial, utilice una lista de control de acceso (ACL) para restringir el acceso a la ubicación o carpeta en la que almacena el archivo.</span><span class="sxs-lookup"><span data-stu-id="f07eb-207">If the cache file contains sensitive information, use an access control list (ACL) to restrict access to the location or folder in which you store the file.</span></span> <span data-ttu-id="f07eb-208">Solo debería permitir el acceso a ciertas cuentas.</span><span class="sxs-lookup"><span data-stu-id="f07eb-208">You should enable access only to certain accounts.</span></span> <span data-ttu-id="f07eb-209">Para más información, vea [Acceso a los archivos usados por los paquetes](../access-to-files-used-by-packages.md).</span><span class="sxs-lookup"><span data-stu-id="f07eb-209">For more information, see [Access to Files Used by Packages](../access-to-files-used-by-packages.md).</span></span>  
  
11. <span data-ttu-id="f07eb-210">Si ha copiado los metadatos de columna en el paso 8, haga clic en **Columnas**, seleccione la fila vacía y, después, presione CTRL+V para pegar los metadatos de columna.</span><span class="sxs-lookup"><span data-stu-id="f07eb-210">If you copied the column metadata in step 8, click **Columns**, select the empty row, and then press CTRL+V to paste the column metadata.</span></span>  
  
12. <span data-ttu-id="f07eb-211">Agregue una transformación Búsqueda y, a continuación, configúrela mediante las tareas siguientes:</span><span class="sxs-lookup"><span data-stu-id="f07eb-211">Add a Lookup transformation, and then configure the transformation by doing the following:</span></span>  
  
    1.  <span data-ttu-id="f07eb-212">Conecte la transformación Búsqueda al flujo de datos arrastrando un conector desde un origen o una transformación anterior hasta la transformación Búsqueda.</span><span class="sxs-lookup"><span data-stu-id="f07eb-212">Connect the Lookup transformation to the data flow by dragging a connector from a source or a previous transformation to the Lookup transformation.</span></span>  
  
        > [!NOTE]  
        >  <span data-ttu-id="f07eb-213">Una transformación Búsqueda podría no validarse si se conecta a un archivo plano que contiene un campo de fecha vacío.</span><span class="sxs-lookup"><span data-stu-id="f07eb-213">A Lookup transformation might not validate if that transformation connects to a flat file that contains an empty date field.</span></span> <span data-ttu-id="f07eb-214">El que la transformación se valide depende de si el administrador de conexiones para el archivo plano se ha configurado para conservar los valores NULL.</span><span class="sxs-lookup"><span data-stu-id="f07eb-214">Whether the transformation validates depends on whether the connection manager for the flat file has been configured to retain null values.</span></span> <span data-ttu-id="f07eb-215">Para asegurarse de que la transformación Búsqueda se valida, en el **Editor de origen de archivos planos**, de la página **Administrador de conexiones**, seleccione la opción **Conservar los valores null del origen como valores null en el flujo de datos** .</span><span class="sxs-lookup"><span data-stu-id="f07eb-215">To ensure that the Lookup transformation validates, in the **Flat File Source Editor**, on the **Connection Manager Page**, select the **Retain null values from the source as null values in the data flow** option.</span></span>  
  
    2.  <span data-ttu-id="f07eb-216">Haga doble clic en el origen o la transformación anterior para configurar el componente.</span><span class="sxs-lookup"><span data-stu-id="f07eb-216">Double-click the source or previous transformation to configure the component.</span></span>  
  
    3.  <span data-ttu-id="f07eb-217">Haga doble clic en la transformación Búsqueda y, después, seleccione **Caché completa** en la página **General** del **Editor de transformación Búsqueda**.</span><span class="sxs-lookup"><span data-stu-id="f07eb-217">Double-click the Lookup transformation, and then select **Full cache** on the **General** page of the **Lookup Transformation Editor**.</span></span>  
  
    4.  <span data-ttu-id="f07eb-218">En el área **Tipo de conexión** , seleccione **Administrador de conexiones de caché** .</span><span class="sxs-lookup"><span data-stu-id="f07eb-218">Select **Cache connection manager** in the **Connection type** area.</span></span>  
  
    5.  <span data-ttu-id="f07eb-219">En la lista **Especificar cómo administrar las filas sin entradas coincidentes** , seleccione una opción de control de errores para las filas sin entradas coincidentes.</span><span class="sxs-lookup"><span data-stu-id="f07eb-219">Select an error handling option for rows without matching entries from the **Specify how to handle rows with no matching entries** list.</span></span>  
  
    6.  <span data-ttu-id="f07eb-220">En la página **Conexión** , en la lista **Administrador de conexiones de caché** , seleccione el administrador de conexiones de caché que agregó anteriormente.</span><span class="sxs-lookup"><span data-stu-id="f07eb-220">On the **Connection** page, from the **Cache connection manager** list, select the Cache connection manager that you added.</span></span>  
  
    7.  <span data-ttu-id="f07eb-221">Haga clic en la página **Columnas** y, a continuación, arrastre por lo menos una columna desde la lista **Columnas de entrada disponibles** hasta una columna de la lista **Columnas de búsqueda disponibles** .</span><span class="sxs-lookup"><span data-stu-id="f07eb-221">Click the **Columns** page, and then drag at least one column from the **Available Input Columns** list to a column in the **Available Lookup Column** list.</span></span>  
  
        > [!NOTE]  
        >  <span data-ttu-id="f07eb-222">La transformación Búsqueda asigna automáticamente las columnas que tienen el mismo nombre y el mismo tipo de datos.</span><span class="sxs-lookup"><span data-stu-id="f07eb-222">The Lookup transformation automatically maps columns that have the same name and the same data type.</span></span>  
  
        > [!NOTE]  
        >  <span data-ttu-id="f07eb-223">Las columnas deben tener tipos coincidentes de datos para asignarse.</span><span class="sxs-lookup"><span data-stu-id="f07eb-223">Columns must have matching data types to be mapped.</span></span> <span data-ttu-id="f07eb-224">Para obtener más información, vea [Integration Services Data Types](../data-flow/integration-services-data-types.md).</span><span class="sxs-lookup"><span data-stu-id="f07eb-224">For more information, see [Integration Services Data Types](../data-flow/integration-services-data-types.md).</span></span>  
  
    8.  <span data-ttu-id="f07eb-225">En la lista **Columnas de búsqueda disponibles** , seleccione las columnas.</span><span class="sxs-lookup"><span data-stu-id="f07eb-225">In the **Available Lookup Columns** list, select columns.</span></span> <span data-ttu-id="f07eb-226">A continuación, en la lista **Operación de búsqueda** , especifique si los valores de las columnas de búsqueda reemplazan los valores de la columna de entrada o se escriben en una nueva columna.</span><span class="sxs-lookup"><span data-stu-id="f07eb-226">Then in the **Lookup Operation** list, specify whether the values from the lookup columns replace values in the input column or are written to a new column.</span></span>  
  
    9. <span data-ttu-id="f07eb-227">Para configurar la salida de errores, haga clic en la página **Salida de error** y establezca las opciones de control de errores.</span><span class="sxs-lookup"><span data-stu-id="f07eb-227">To configure the error output, click the **Error Output** page and set the error handling options.</span></span> <span data-ttu-id="f07eb-228">Para obtener más información, vea [Editor de transformación Búsqueda &#40;página Salida de error&#41;](../lookup-transformation-editor-error-output-page.md).</span><span class="sxs-lookup"><span data-stu-id="f07eb-228">For more information, see [Lookup Transformation Editor &#40;Error Output Page&#41;](../lookup-transformation-editor-error-output-page.md).</span></span>  
  
    10. <span data-ttu-id="f07eb-229">Haga clic en **Aceptar** para guardar los cambios realizados en la transformación Búsqueda.</span><span class="sxs-lookup"><span data-stu-id="f07eb-229">Click **OK** to save your changes to the Lookup transformation.</span></span>  
  
13. <span data-ttu-id="f07eb-230">Abra el paquete primario, agregue una tarea Ejecutar paquete al flujo de control y, a continuación, configure la tarea para llamar al paquete secundario.</span><span class="sxs-lookup"><span data-stu-id="f07eb-230">Open the parent package, add an Execute Package task to the control flow, and then configure the task to call the child package.</span></span> <span data-ttu-id="f07eb-231">Para más información, consulte [Execute Package Task](../control-flow/execute-package-task.md).</span><span class="sxs-lookup"><span data-stu-id="f07eb-231">For more information, see [Execute Package Task](../control-flow/execute-package-task.md).</span></span>  
  
14. <span data-ttu-id="f07eb-232">Ejecute los paquetes.</span><span class="sxs-lookup"><span data-stu-id="f07eb-232">Run the packages.</span></span>  
  
### <a name="to-implement-a-lookup-transformation-in-full-cache-mode-by-using-cache-connection-manager-and-an-existing-cache-file"></a><span data-ttu-id="f07eb-233">Para implementar una transformación Búsqueda en el modo de caché completa mediante el administrador de conexiones de caché y un archivo caché existente</span><span class="sxs-lookup"><span data-stu-id="f07eb-233">To implement a Lookup transformation in full cache mode by using Cache connection manager and an existing cache file</span></span>  
  
1.  <span data-ttu-id="f07eb-234">En [!INCLUDE[ssBIDevStudioFull](../../includes/ssbidevstudiofull-md.md)], abra un proyecto [!INCLUDE[ssISnoversion](../../includes/ssisnoversion-md.md)] y, a continuación, abra un paquete.</span><span class="sxs-lookup"><span data-stu-id="f07eb-234">In [!INCLUDE[ssBIDevStudioFull](../../includes/ssbidevstudiofull-md.md)], open a [!INCLUDE[ssISnoversion](../../includes/ssisnoversion-md.md)] project, and then open a package.</span></span>  
  
2.  <span data-ttu-id="f07eb-235">Haga clic con el botón derecho en el área **Administradores de conexiones** y, después, en **Nueva conexión**.</span><span class="sxs-lookup"><span data-stu-id="f07eb-235">Right-click in the **Connection Managers** area, and then click **New Connection**.</span></span>  
  
     <span data-ttu-id="f07eb-236">El área **Administradores de conexión** aparece en la parte inferior de las pestañas **Flujo de control**, **Flujo de datos**y **Controladores de eventos** del Diseñador de [!INCLUDE[ssISnoversion](../../includes/ssisnoversion-md.md)] .</span><span class="sxs-lookup"><span data-stu-id="f07eb-236">The **Connection Managers** area appears on the bottom of the **Control Flow**, **Data Flow**, and **Event Handlers** tabs of [!INCLUDE[ssISnoversion](../../includes/ssisnoversion-md.md)] Designer.</span></span>  
  
3.  <span data-ttu-id="f07eb-237">En el cuadro de diálogo **Agregar administrador de conexiones SSIS** , seleccione **CACHÉ**y, a continuación, haga clic en **Agregar** para agregar un administrador de conexiones de caché.</span><span class="sxs-lookup"><span data-stu-id="f07eb-237">In the **Add SSIS Connection Manager** dialog box, select **CACHE**, and then click **Add** to add a Cache connection manager.</span></span>  
  
4.  <span data-ttu-id="f07eb-238">Haga doble clic en el Administrador de conexiones de caché para abrir el **Editor del administrador de conexiones de caché**.</span><span class="sxs-lookup"><span data-stu-id="f07eb-238">Double-click the Cache connection manager to open the **Cache Connection Manager Editor**.</span></span>  
  
5.  <span data-ttu-id="f07eb-239">En el **Editor del administrador de conexiones de caché**, en la pestaña **General** , configure el administrador estableciendo las opciones siguientes:</span><span class="sxs-lookup"><span data-stu-id="f07eb-239">In the **Cache Connection Manager Editor**, on the **General** tab, configure the Cache connection manager by setting the following options:</span></span>  
  
    -   <span data-ttu-id="f07eb-240">Seleccione **Utilizar la caché del archivo**.</span><span class="sxs-lookup"><span data-stu-id="f07eb-240">Select **Use file cache**.</span></span>  
  
    -   <span data-ttu-id="f07eb-241">En **Nombre de archivo**, escriba la ruta de acceso al archivo o haga clic en **Examinar** para seleccionar el archivo.</span><span class="sxs-lookup"><span data-stu-id="f07eb-241">For **File name**, either type the file path or click **Browse** to select the file.</span></span>  
  
    > [!NOTE]  
    >  <span data-ttu-id="f07eb-242">El nivel de protección del paquete no se aplica al archivo caché.</span><span class="sxs-lookup"><span data-stu-id="f07eb-242">The protection level of the package does not apply to the cache file.</span></span> <span data-ttu-id="f07eb-243">Si el archivo caché contiene información confidencial, utilice una lista de control de acceso (ACL) para restringir el acceso a la ubicación o carpeta en la que almacena el archivo.</span><span class="sxs-lookup"><span data-stu-id="f07eb-243">If the cache file contains sensitive information, use an access control list (ACL) to restrict access to the location or folder in which you store the file.</span></span> <span data-ttu-id="f07eb-244">Solo debería permitir el acceso a ciertas cuentas.</span><span class="sxs-lookup"><span data-stu-id="f07eb-244">You should enable access only to certain accounts.</span></span> <span data-ttu-id="f07eb-245">Para más información, vea [Acceso a los archivos usados por los paquetes](../access-to-files-used-by-packages.md).</span><span class="sxs-lookup"><span data-stu-id="f07eb-245">For more information, see [Access to Files Used by Packages](../access-to-files-used-by-packages.md).</span></span>  
  
6.  <span data-ttu-id="f07eb-246">Haga clic en la pestaña **Columnas** e indique qué columnas son las columnas de índice mediante la opción **Posición de índice** .</span><span class="sxs-lookup"><span data-stu-id="f07eb-246">Click the **Columns** tab, and then specify which columns are the index columns by using the **Index Position** option.</span></span>  
  
     <span data-ttu-id="f07eb-247">Para las columnas de no índice, la posición de índice es 0.</span><span class="sxs-lookup"><span data-stu-id="f07eb-247">For non-index columns, the index position is 0.</span></span> <span data-ttu-id="f07eb-248">Para las columnas de índice, la posición de índice es un número secuencial positivo.</span><span class="sxs-lookup"><span data-stu-id="f07eb-248">For index columns, the index position is a sequential, positive number.</span></span>  
  
    > [!NOTE]  
    >  <span data-ttu-id="f07eb-249">Cuando la transformación Búsqueda se configura para utilizar un administrador de conexiones de caché, a las columnas de entrada solo se les puede asignar las columnas de índice del conjunto de datos de referencia.</span><span class="sxs-lookup"><span data-stu-id="f07eb-249">When the Lookup transformation is configured to use a Cache connection manager, only index columns in the reference dataset can be mapped to input columns.</span></span> <span data-ttu-id="f07eb-250">Asimismo, todas las columnas de índice deben estar asignadas.</span><span class="sxs-lookup"><span data-stu-id="f07eb-250">Also, all index columns must be mapped.</span></span> <span data-ttu-id="f07eb-251">Para obtener más información, vea [Cache Connection Manager Editor](../cache-connection-manager-editor.md).</span><span class="sxs-lookup"><span data-stu-id="f07eb-251">For more information, see [Cache Connection Manager Editor](../cache-connection-manager-editor.md).</span></span>  
  
7.  <span data-ttu-id="f07eb-252">En la pestaña **Flujo de control** , agregue una tarea Flujo de datos al paquete y, a continuación, agregue una transformación Búsqueda al flujo de datos.</span><span class="sxs-lookup"><span data-stu-id="f07eb-252">On the **Control Flow** tab, add a Data Flow task to the package, and then add a Lookup transformation to the data flow.</span></span>  
  
8.  <span data-ttu-id="f07eb-253">Para configurar la transformación Búsqueda, realice una de las siguientes acciones:</span><span class="sxs-lookup"><span data-stu-id="f07eb-253">Configure the Lookup transformation by doing the following:</span></span>  
  
    1.  <span data-ttu-id="f07eb-254">Conecte la transformación Búsqueda al flujo de datos arrastrando un conector desde un origen o una transformación anterior hasta la transformación Búsqueda.</span><span class="sxs-lookup"><span data-stu-id="f07eb-254">Connect the Lookup transformation to the data flow by dragging a connector from a source or a previous transformation to the Lookup transformation.</span></span>  
  
        > [!NOTE]  
        >  <span data-ttu-id="f07eb-255">Una transformación Búsqueda podría no validarse si se conecta a un archivo plano que contiene un campo de fecha vacío.</span><span class="sxs-lookup"><span data-stu-id="f07eb-255">A Lookup transformation might not validate if that transformation connects to a flat file that contains an empty date field.</span></span> <span data-ttu-id="f07eb-256">El que la transformación se valide depende de si el administrador de conexiones para el archivo plano se ha configurado para conservar los valores NULL.</span><span class="sxs-lookup"><span data-stu-id="f07eb-256">Whether the transformation validates depends on whether the connection manager for the flat file has been configured to retain null values.</span></span> <span data-ttu-id="f07eb-257">Para asegurarse de que la transformación Búsqueda se valida, en el **Editor de origen de archivos planos**, de la página **Administrador de conexiones**, seleccione la opción **Conservar los valores null del origen como valores null en el flujo de datos** .</span><span class="sxs-lookup"><span data-stu-id="f07eb-257">To ensure that the Lookup transformation validates, in the **Flat File Source Editor**, on the **Connection Manager Page**, select the **Retain null values from the source as null values in the data flow** option.</span></span>  
  
    2.  <span data-ttu-id="f07eb-258">Haga doble clic en el origen o la transformación anterior para configurar el componente.</span><span class="sxs-lookup"><span data-stu-id="f07eb-258">Double-click the source or previous transformation to configure the component.</span></span>  
  
    3.  <span data-ttu-id="f07eb-259">Haga doble clic en la transformación Búsqueda y, después, en el **Editor de transformación Búsqueda**, en la página **General** , seleccione **Caché completa**.</span><span class="sxs-lookup"><span data-stu-id="f07eb-259">Double-click the Lookup transformation, and then in the **Lookup Transformation Editor**, on the **General** page, select **Full cache**.</span></span>  
  
    4.  <span data-ttu-id="f07eb-260">En el área **Tipo de conexión** , seleccione **Administrador de conexiones de caché** .</span><span class="sxs-lookup"><span data-stu-id="f07eb-260">Select **Cache connection manager** in the **Connection type** area.</span></span>  
  
    5.  <span data-ttu-id="f07eb-261">En la lista **Especificar cómo administrar las filas sin entradas coincidentes** , seleccione una opción de control de errores para las filas sin entradas coincidentes.</span><span class="sxs-lookup"><span data-stu-id="f07eb-261">Select an error handling option for rows without matching entries from the **Specify how to handle rows with no matching entries** list.</span></span>  
  
    6.  <span data-ttu-id="f07eb-262">En la página **Conexión** , en la lista **Administrador de conexiones de caché** , seleccione el administrador de conexiones de caché que agregó anteriormente.</span><span class="sxs-lookup"><span data-stu-id="f07eb-262">On the **Connection** page, from the **Cache connection manager** list, select the Cache connection manager that you added.</span></span>  
  
    7.  <span data-ttu-id="f07eb-263">Haga clic en la página **Columnas** y, a continuación, arrastre por lo menos una columna desde la lista **Columnas de entrada disponibles** hasta una columna de la lista **Columnas de búsqueda disponibles** .</span><span class="sxs-lookup"><span data-stu-id="f07eb-263">Click the **Columns** page, and then drag at least one column from the **Available Input Columns** list to a column in the **Available Lookup Column** list.</span></span>  
  
        > [!NOTE]  
        >  <span data-ttu-id="f07eb-264">La transformación Búsqueda asigna automáticamente las columnas que tienen el mismo nombre y el mismo tipo de datos.</span><span class="sxs-lookup"><span data-stu-id="f07eb-264">The Lookup transformation automatically maps columns that have the same name and the same data type.</span></span>  
  
        > [!NOTE]  
        >  <span data-ttu-id="f07eb-265">Las columnas deben tener tipos coincidentes de datos para asignarse.</span><span class="sxs-lookup"><span data-stu-id="f07eb-265">Columns must have matching data types to be mapped.</span></span> <span data-ttu-id="f07eb-266">Para obtener más información, vea [Integration Services Data Types](../data-flow/integration-services-data-types.md).</span><span class="sxs-lookup"><span data-stu-id="f07eb-266">For more information, see [Integration Services Data Types](../data-flow/integration-services-data-types.md).</span></span>  
  
    8.  <span data-ttu-id="f07eb-267">En la lista **Columnas de búsqueda disponibles** , seleccione las columnas.</span><span class="sxs-lookup"><span data-stu-id="f07eb-267">In the **Available Lookup Columns** list, select columns.</span></span> <span data-ttu-id="f07eb-268">A continuación, en la lista **Operación de búsqueda** , especifique si los valores de las columnas de búsqueda reemplazan los valores de la columna de entrada o se escriben en una nueva columna.</span><span class="sxs-lookup"><span data-stu-id="f07eb-268">Then in the **Lookup Operation** list, specify whether the values from the lookup columns replace values in the input column or are written to a new column.</span></span>  
  
    9. <span data-ttu-id="f07eb-269">Para configurar la salida de errores, haga clic en la página **Salida de error** y establezca las opciones de control de errores.</span><span class="sxs-lookup"><span data-stu-id="f07eb-269">To configure the error output, click the **Error Output** page and set the error handling options.</span></span> <span data-ttu-id="f07eb-270">Para obtener más información, vea [Editor de transformación Búsqueda &#40;página Salida de error&#41;](../lookup-transformation-editor-error-output-page.md).</span><span class="sxs-lookup"><span data-stu-id="f07eb-270">For more information, see [Lookup Transformation Editor &#40;Error Output Page&#41;](../lookup-transformation-editor-error-output-page.md).</span></span>  
  
    10. <span data-ttu-id="f07eb-271">Haga clic en **Aceptar** para guardar los cambios realizados en la transformación Búsqueda.</span><span class="sxs-lookup"><span data-stu-id="f07eb-271">Click **OK** to save your changes to the Lookup transformation.</span></span>  
  
9. <span data-ttu-id="f07eb-272">Ejecute el paquete.</span><span class="sxs-lookup"><span data-stu-id="f07eb-272">Run the package.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="f07eb-273">Consulte también</span><span class="sxs-lookup"><span data-stu-id="f07eb-273">See Also</span></span>  
 <span data-ttu-id="f07eb-274">[Implementación de una transformación Búsqueda en el modo Caché completa con el administrador de conexiones OLE DB](lookup-transformation-full-cache-mode-ole-db-connection-manager.md) </span><span class="sxs-lookup"><span data-stu-id="f07eb-274">[Implement a Lookup Transformation in Full Cache Mode Using the OLE DB Connection Manager](lookup-transformation-full-cache-mode-ole-db-connection-manager.md) </span></span>  
 <span data-ttu-id="f07eb-275">[Implementación de una búsqueda en los modos No hay caché o Caché parcial](../data-flow/transformations/implement-a-lookup-in-no-cache-or-partial-cache-mode.md) </span><span class="sxs-lookup"><span data-stu-id="f07eb-275">[Implement a Lookup in No Cache or Partial Cache Mode](../data-flow/transformations/implement-a-lookup-in-no-cache-or-partial-cache-mode.md) </span></span>  
 [<span data-ttu-id="f07eb-276">Transformaciones de Integration Services</span><span class="sxs-lookup"><span data-stu-id="f07eb-276">Integration Services Transformations</span></span>](../data-flow/transformations/integration-services-transformations.md)  
  
  
