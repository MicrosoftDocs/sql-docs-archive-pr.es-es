---
title: Controladores de eventos de Integration Services (SSIS) | Microsoft Docs
ms.custom: ''
ms.date: 03/09/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: integration-services
ms.topic: conceptual
helpviewer_keywords:
- Integration Services packages, events
- run-time [Integration Services]
- SQL Server Integration Services packages, events
- event handlers [Integration Services], about event handlers
- events [Integration Services]
- packages [Integration Services], events
- event handlers [Integration Services]
- SSIS packages, events
- containers [Integration Services], events
- events [Integration Services], about events
ms.assetid: 6f60cf93-35dc-431c-908d-2049c4ab66ba
author: chugugrace
ms.author: chugu
ms.openlocfilehash: 78bcd6579aa8306c89fd9530fad3557ac57f102a
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 08/04/2020
ms.locfileid: "87673162"
---
# <a name="integration-services-ssis-event-handlers"></a><span data-ttu-id="c4c09-102">Controladores de eventos de Integration Services (SSIS)</span><span class="sxs-lookup"><span data-stu-id="c4c09-102">Integration Services (SSIS) Event Handlers</span></span>
  <span data-ttu-id="c4c09-103">En el tiempo de ejecución, los ejecutables (paquetes y contenedores de bucles Foreach, bucles For, de secuencia y de host de tarea) producen eventos.</span><span class="sxs-lookup"><span data-stu-id="c4c09-103">At run time, executables (packages and Foreach Loop, For Loop, Sequence, and task host containers) raise events.</span></span> <span data-ttu-id="c4c09-104">Por ejemplo un evento OnError se produce cuando se genera un error.</span><span class="sxs-lookup"><span data-stu-id="c4c09-104">For example, an OnError event is raised when an error occurs.</span></span> <span data-ttu-id="c4c09-105">Puede crear controladores de eventos personalizados para estos eventos con el fin de ampliar la funcionalidad de paquetes y facilitar la administración de paquetes en el tiempo de ejecución.</span><span class="sxs-lookup"><span data-stu-id="c4c09-105">You can create custom event handlers for these events to extend package functionality and make packages easier to manage at run time.</span></span> <span data-ttu-id="c4c09-106">Los controladores de eventos pueden realizar tareas tales como las siguientes:</span><span class="sxs-lookup"><span data-stu-id="c4c09-106">Event handlers can perform tasks such as the following:</span></span>

-   <span data-ttu-id="c4c09-107">Limpiar un almacén temporal de datos cuando un paquete o tarea termina de ejecutarse.</span><span class="sxs-lookup"><span data-stu-id="c4c09-107">Clean up temporary data storage when a package or task finishes running.</span></span>

-   <span data-ttu-id="c4c09-108">Recuperar la información de sistema para evaluar la disponibilidad de los recursos antes de que el paquete se ejecute.</span><span class="sxs-lookup"><span data-stu-id="c4c09-108">Retrieve system information to assess resource availability before a package runs.</span></span>

-   <span data-ttu-id="c4c09-109">Actualizar datos en una tabla cuando se produce un error en una búsqueda en una tabla de referencia.</span><span class="sxs-lookup"><span data-stu-id="c4c09-109">Refresh data in a table when a lookup in a reference table fails.</span></span>

-   <span data-ttu-id="c4c09-110">Enviar un mensaje de correo electrónico cuando se produce un error o una advertencia, o cuando se genera un error en una tarea.</span><span class="sxs-lookup"><span data-stu-id="c4c09-110">Send an e-mail message when an error or a warning occurs or when a task fails.</span></span>

 <span data-ttu-id="c4c09-111">Si un evento no tiene controlador de eventos, el evento se desencadena en el siguiente contenedor en sentido ascendente en la jerarquía de contenedores en un paquete.</span><span class="sxs-lookup"><span data-stu-id="c4c09-111">If an event has no event handler, the event is raised to the next container up the container hierarchy in a package.</span></span> <span data-ttu-id="c4c09-112">Si este contenedor tiene un controlador de eventos, éste se ejecuta en respuesta al evento.</span><span class="sxs-lookup"><span data-stu-id="c4c09-112">If this container has an event handler, the event handler runs in response to the event.</span></span> <span data-ttu-id="c4c09-113">En caso contrario, el evento se desencadena en el siguiente contenedor en sentido ascendente en la jerarquía de contenedores.</span><span class="sxs-lookup"><span data-stu-id="c4c09-113">If not, the event is raised to the next container up the container hierarchy.</span></span>

 <span data-ttu-id="c4c09-114">El diagrama siguiente muestra un paquete simple que tiene un contenedor de bucles For que contiene una tarea Ejecutar SQL.</span><span class="sxs-lookup"><span data-stu-id="c4c09-114">The following diagram shows a simple package that has a For Loop container that contains one Execute SQL task.</span></span>

 <span data-ttu-id="c4c09-115">![Paquete, bucle For, host de tarea y tarea Ejecutar SQL](media/mw-dts-eventhandlerpkg.gif "Paquete, bucle For, host de tarea y tarea Ejecutar SQL")</span><span class="sxs-lookup"><span data-stu-id="c4c09-115">![Package, For Loop, task host, and Execute SQL task](media/mw-dts-eventhandlerpkg.gif "Package, For Loop, task host, and Execute SQL task")</span></span>

 <span data-ttu-id="c4c09-116">Solo el paquete tiene un controlador de eventos, para su evento `OnError`.</span><span class="sxs-lookup"><span data-stu-id="c4c09-116">Only the package has an event handler, for its `OnError` event.</span></span> <span data-ttu-id="c4c09-117">Si se produce un error cuando se ejecuta una tarea Ejecutar SQL, se ejecuta el controlador de eventos `OnError` para el paquete.</span><span class="sxs-lookup"><span data-stu-id="c4c09-117">If an error occurs when the Execute SQL task runs, the `OnError` event handler for the package runs.</span></span> <span data-ttu-id="c4c09-118">El siguiente diagrama muestra la secuencia de llamadas que produce el controlador de eventos `OnError` para que se ejecute el paquete.</span><span class="sxs-lookup"><span data-stu-id="c4c09-118">The following diagram shows the sequence of calls that causes the `OnError` event handler for the package to execute.</span></span>

 <span data-ttu-id="c4c09-119">![Flujo del controlador de eventos](media/mw-dts-eventhandlers.gif "Flujo del controlador de eventos")</span><span class="sxs-lookup"><span data-stu-id="c4c09-119">![Event handler flow](media/mw-dts-eventhandlers.gif "Event handler flow")</span></span>

 <span data-ttu-id="c4c09-120">Los controladores de eventos son miembros de una colección de controladores de eventos y todos los contenedores incluyen esta colección.</span><span class="sxs-lookup"><span data-stu-id="c4c09-120">Event handlers are members of an event handler collection, and all containers include this collection.</span></span> <span data-ttu-id="c4c09-121">Si crea el paquete mediante el Diseñador [!INCLUDE[ssIS](../includes/ssis-md.md)] , puede ver los miembros de las colecciones de controladores de eventos en las carpetas **Controladores de eventos** en la pestaña **Explorador de paquetes** del Diseñador [!INCLUDE[ssIS](../includes/ssis-md.md)] .</span><span class="sxs-lookup"><span data-stu-id="c4c09-121">If you create the package using [!INCLUDE[ssIS](../includes/ssis-md.md)] Designer, you can see the members of the event handler collections in the **Event Handlers** folders on the **Package Explorer** tab of [!INCLUDE[ssIS](../includes/ssis-md.md)] Designer.</span></span>

 <span data-ttu-id="c4c09-122">Puede configurar el contenedor del controlador de eventos de las maneras siguientes:</span><span class="sxs-lookup"><span data-stu-id="c4c09-122">You can configure the event handler container in the following ways:</span></span>

-   <span data-ttu-id="c4c09-123">Especifique un nombre y una descripción para el controlador de eventos.</span><span class="sxs-lookup"><span data-stu-id="c4c09-123">Specify a name and description for the event handler.</span></span>

-   <span data-ttu-id="c4c09-124">Indique si se ejecuta el controlador de eventos, si se produce un error en el paquete cuando se produce un error en el controlador de eventos, y la cantidad de errores que se pueden producir antes de que se produzca un error en el controlador de eventos.</span><span class="sxs-lookup"><span data-stu-id="c4c09-124">Indicate whether the event handler runs, whether the package fails if the event handler fails, and the number of errors that can occur before the event handler fails.</span></span>

-   <span data-ttu-id="c4c09-125">Especifique un resultado de ejecución que se debe devolver en lugar del resultado de ejecución real que el controlador de eventos devuelve en el tiempo de ejecución.</span><span class="sxs-lookup"><span data-stu-id="c4c09-125">Specify an execution result to return instead of the actual execution result that the event handler returns at run time.</span></span>

-   <span data-ttu-id="c4c09-126">Especifique la opción de transacción para el controlador de eventos.</span><span class="sxs-lookup"><span data-stu-id="c4c09-126">Specify the transaction option for the event handler.</span></span>

-   <span data-ttu-id="c4c09-127">Especifique el modo de registro que usa el controlador de eventos.</span><span class="sxs-lookup"><span data-stu-id="c4c09-127">Specify the logging mode that the event handler uses.</span></span>

## <a name="event-handler-content"></a><span data-ttu-id="c4c09-128">Contenido del controlador de eventos</span><span class="sxs-lookup"><span data-stu-id="c4c09-128">Event Handler Content</span></span>
 <span data-ttu-id="c4c09-129">Crear un controlador de eventos es similar a generar un paquete. Un controlador de eventos tiene tareas y contenedores, que se ordenan en un flujo de control, y un controlador de eventos también puede incluir flujos de datos.</span><span class="sxs-lookup"><span data-stu-id="c4c09-129">Creating an event handler is similar to building a package; an event handler has tasks and containers, which are sequenced into a control flow, and an event handler can also include data flows.</span></span> <span data-ttu-id="c4c09-130">El Diseñador [!INCLUDE[ssIS](../includes/ssis-md.md)] incluye la pestaña **Controladores de eventos** para crear controladores de eventos personalizados.</span><span class="sxs-lookup"><span data-stu-id="c4c09-130">The [!INCLUDE[ssIS](../includes/ssis-md.md)] Designer includes the **Event Handlers** tab for creating custom event handlers.</span></span> <span data-ttu-id="c4c09-131">Para obtener más información, vea [controladores de eventos de paquetes SSIS](integration-services-ssis-event-handlers.md).</span><span class="sxs-lookup"><span data-stu-id="c4c09-131">For more information, see [SSIS Package Event Handlers](integration-services-ssis-event-handlers.md).</span></span>

 <span data-ttu-id="c4c09-132">También se pueden crear controladores de eventos mediante programación.</span><span class="sxs-lookup"><span data-stu-id="c4c09-132">You can also create event handlers programmatically.</span></span> <span data-ttu-id="c4c09-133">Para obtener más información, consulte [Controlar eventos mediante programación](building-packages-programmatically/handling-events-programmatically.md).</span><span class="sxs-lookup"><span data-stu-id="c4c09-133">For more information, see [Handling Events Programmatically](building-packages-programmatically/handling-events-programmatically.md).</span></span>

## <a name="run-time-events"></a><span data-ttu-id="c4c09-134">Eventos de tiempo de ejecución</span><span class="sxs-lookup"><span data-stu-id="c4c09-134">Run-Time Events</span></span>
 <span data-ttu-id="c4c09-135">En la siguiente tabla se enumeran los controladores de eventos que proporciona [!INCLUDE[ssISnoversion](../includes/ssisnoversion-md.md)] y se describen los eventos de tiempo de ejecución que hacen que el controlador de eventos se ejecute.</span><span class="sxs-lookup"><span data-stu-id="c4c09-135">The following table lists the event handlers that [!INCLUDE[ssISnoversion](../includes/ssisnoversion-md.md)] provides, and describes the run-time events that cause the event handler to run.</span></span>

|<span data-ttu-id="c4c09-136">Controlador de eventos</span><span class="sxs-lookup"><span data-stu-id="c4c09-136">Event handler</span></span>|<span data-ttu-id="c4c09-137">Evento</span><span class="sxs-lookup"><span data-stu-id="c4c09-137">Event</span></span>|
|-------------------|-----------|
|`OnError`|<span data-ttu-id="c4c09-138">Controlador de eventos para el evento `OnError`.</span><span class="sxs-lookup"><span data-stu-id="c4c09-138">The event handler for the `OnError` event.</span></span> <span data-ttu-id="c4c09-139">Este evento es desencadenado por un ejecutable cuando se produce un error.</span><span class="sxs-lookup"><span data-stu-id="c4c09-139">This event is raised by an executable when an error occurs.</span></span>|
|<span data-ttu-id="c4c09-140">**OnExecStatusChanged**</span><span class="sxs-lookup"><span data-stu-id="c4c09-140">**OnExecStatusChanged**</span></span>|<span data-ttu-id="c4c09-141">El controlador de eventos para el evento **OnExecStatusChanged** .</span><span class="sxs-lookup"><span data-stu-id="c4c09-141">The event handler for the **OnExecStatusChanged** event.</span></span> <span data-ttu-id="c4c09-142">Este evento es desencadenado por un ejecutable cuando se modifica su estado de ejecución.</span><span class="sxs-lookup"><span data-stu-id="c4c09-142">This event is raised by an executable when its execution status changes.</span></span>|
|<span data-ttu-id="c4c09-143">**OnInformation**</span><span class="sxs-lookup"><span data-stu-id="c4c09-143">**OnInformation**</span></span>|<span data-ttu-id="c4c09-144">El controlador de eventos para el evento **OnInformation** .</span><span class="sxs-lookup"><span data-stu-id="c4c09-144">The event handler for the **OnInformation** event.</span></span> <span data-ttu-id="c4c09-145">Este evento se desencadena durante la validación y ejecución de un ejecutable para proporcionar información.</span><span class="sxs-lookup"><span data-stu-id="c4c09-145">This event is raised during the validation and execution of an executable to report information.</span></span> <span data-ttu-id="c4c09-146">Este evento transmite únicamente información, no errores o advertencias.</span><span class="sxs-lookup"><span data-stu-id="c4c09-146">This event conveys information only, no errors or warnings.</span></span>|
|<span data-ttu-id="c4c09-147">**OnPostExecute**</span><span class="sxs-lookup"><span data-stu-id="c4c09-147">**OnPostExecute**</span></span>|<span data-ttu-id="c4c09-148">El controlador de eventos para el evento **OnPostExecute** .</span><span class="sxs-lookup"><span data-stu-id="c4c09-148">The event handler for the **OnPostExecute** event.</span></span> <span data-ttu-id="c4c09-149">Este evento es desencadenado por un ejecutable inmediatamente después de haber terminado de ejecutarse.</span><span class="sxs-lookup"><span data-stu-id="c4c09-149">This event is raised by an executable immediately after it has finished running.</span></span>|
|<span data-ttu-id="c4c09-150">**OnPostValidate**</span><span class="sxs-lookup"><span data-stu-id="c4c09-150">**OnPostValidate**</span></span>|<span data-ttu-id="c4c09-151">El controlador de eventos para el evento **OnPostValidate** .</span><span class="sxs-lookup"><span data-stu-id="c4c09-151">The event handler for the **OnPostValidate** event.</span></span> <span data-ttu-id="c4c09-152">Este evento es desencadenado por un ejecutable cuando termina su validación.</span><span class="sxs-lookup"><span data-stu-id="c4c09-152">This event is raised by an executable when its validation is finished.</span></span>|
|<span data-ttu-id="c4c09-153">**OnPreExecute**</span><span class="sxs-lookup"><span data-stu-id="c4c09-153">**OnPreExecute**</span></span>|<span data-ttu-id="c4c09-154">El controlador de eventos para el evento **OnPreExecute** .</span><span class="sxs-lookup"><span data-stu-id="c4c09-154">The event handler for the **OnPreExecute** event.</span></span> <span data-ttu-id="c4c09-155">Este evento es desencadenado por un ejecutable inmediatamente antes de que se ejecuta.</span><span class="sxs-lookup"><span data-stu-id="c4c09-155">This event is raised by an executable immediately before it runs.</span></span>|
|<span data-ttu-id="c4c09-156">**OnPreValidate**</span><span class="sxs-lookup"><span data-stu-id="c4c09-156">**OnPreValidate**</span></span>|<span data-ttu-id="c4c09-157">El controlador de eventos para el evento **OnPreValidate** .</span><span class="sxs-lookup"><span data-stu-id="c4c09-157">The event handler for the **OnPreValidate** event.</span></span> <span data-ttu-id="c4c09-158">Este evento es desencadenado por un ejecutable cuando se inicia su validación.</span><span class="sxs-lookup"><span data-stu-id="c4c09-158">This event is raised by an executable when its validation starts.</span></span>|
|<span data-ttu-id="c4c09-159">**OnProgress**</span><span class="sxs-lookup"><span data-stu-id="c4c09-159">**OnProgress**</span></span>|<span data-ttu-id="c4c09-160">El controlador de eventos para el evento **OnProgress** .</span><span class="sxs-lookup"><span data-stu-id="c4c09-160">The event handler for the **OnProgress** event.</span></span> <span data-ttu-id="c4c09-161">Este evento es desencadenado por un ejecutable cuando el ejecutable realiza un progreso que se puede medir.</span><span class="sxs-lookup"><span data-stu-id="c4c09-161">This event is raised by an executable when measurable progress is made by the executable.</span></span>|
|<span data-ttu-id="c4c09-162">**OnQueryCancel**</span><span class="sxs-lookup"><span data-stu-id="c4c09-162">**OnQueryCancel**</span></span>|<span data-ttu-id="c4c09-163">El controlador de eventos para el evento **OnQueryCancel** .</span><span class="sxs-lookup"><span data-stu-id="c4c09-163">The event handler for the **OnQueryCancel** event.</span></span> <span data-ttu-id="c4c09-164">Este evento es desencadenado por un ejecutable para determinar si debe dejar de ejecutarse.</span><span class="sxs-lookup"><span data-stu-id="c4c09-164">This event is raised by an executable to determine whether it should stop running.</span></span>|
|<span data-ttu-id="c4c09-165">**OnTaskFailed**</span><span class="sxs-lookup"><span data-stu-id="c4c09-165">**OnTaskFailed**</span></span>|<span data-ttu-id="c4c09-166">El controlador de eventos para el evento **OnTaskFailed** .</span><span class="sxs-lookup"><span data-stu-id="c4c09-166">The event handler for the **OnTaskFailed** event.</span></span> <span data-ttu-id="c4c09-167">Este evento es desencadenado por una tarea cuando se produce un error.</span><span class="sxs-lookup"><span data-stu-id="c4c09-167">This event is raised by a task when it fails.</span></span>|
|<span data-ttu-id="c4c09-168">**OnVariableValueChanged**</span><span class="sxs-lookup"><span data-stu-id="c4c09-168">**OnVariableValueChanged**</span></span>|<span data-ttu-id="c4c09-169">El controlador de eventos para el evento **OnVariableValueChanged** .</span><span class="sxs-lookup"><span data-stu-id="c4c09-169">The event handler for the **OnVariableValueChanged** event.</span></span> <span data-ttu-id="c4c09-170">Este evento es desencadenado por un ejecutable cuando se modifica el valor de una variable.</span><span class="sxs-lookup"><span data-stu-id="c4c09-170">This event is raised by an executable when the value of a variable changes.</span></span> <span data-ttu-id="c4c09-171">El evento es desencadenado por el ejecutable en el que se define la variable.</span><span class="sxs-lookup"><span data-stu-id="c4c09-171">The event is raised by the executable on which the variable is defined.</span></span> <span data-ttu-id="c4c09-172">Este evento no se genera si se establece la propiedad **RaiseChangeEvent** de la variable en `False` .</span><span class="sxs-lookup"><span data-stu-id="c4c09-172">This event is not raised if you set the **RaiseChangeEvent** property for the variable to `False`.</span></span> <span data-ttu-id="c4c09-173">Para más información, vea [Variables de Integration Services &#40;SSIS&#41;](integration-services-ssis-variables.md).</span><span class="sxs-lookup"><span data-stu-id="c4c09-173">For more information, see [Integration Services &#40;SSIS&#41; Variables](integration-services-ssis-variables.md).</span></span>|
|<span data-ttu-id="c4c09-174">**OnWarning**</span><span class="sxs-lookup"><span data-stu-id="c4c09-174">**OnWarning**</span></span>|<span data-ttu-id="c4c09-175">El controlador de eventos para el evento **OnWarning** .</span><span class="sxs-lookup"><span data-stu-id="c4c09-175">The event handler for the **OnWarning** event.</span></span> <span data-ttu-id="c4c09-176">Este evento es desencadenado por un ejecutable cuando se produce una advertencia.</span><span class="sxs-lookup"><span data-stu-id="c4c09-176">This event is raised by an executable when a warning occurs.</span></span>|

## <a name="configuration-of-an-event-handler"></a><span data-ttu-id="c4c09-177">Configuración de un controlador de eventos</span><span class="sxs-lookup"><span data-stu-id="c4c09-177">Configuration of an Event Handler</span></span>
 <span data-ttu-id="c4c09-178">Puede establecer propiedades en la ventana **Propiedades** de [!INCLUDE[ssBIDevStudioFull](../includes/ssbidevstudiofull-md.md)] o mediante programación.</span><span class="sxs-lookup"><span data-stu-id="c4c09-178">You can set properties in the **Properties** window of [!INCLUDE[ssBIDevStudioFull](../includes/ssbidevstudiofull-md.md)] or programmatically.</span></span>

 <span data-ttu-id="c4c09-179">Para obtener información sobre cómo establecer estas propiedades en [!INCLUDE[ssBIDevStudioFull](../includes/ssbidevstudiofull-md.md)], vea [Establecer las propiedades de tareas o contenedores](../../2014/integration-services/set-the-properties-of-a-task-or-container.md).</span><span class="sxs-lookup"><span data-stu-id="c4c09-179">For information about how to set these properties in [!INCLUDE[ssBIDevStudioFull](../includes/ssbidevstudiofull-md.md)], see [Set the Properties of a Task or Container](../../2014/integration-services/set-the-properties-of-a-task-or-container.md).</span></span>

 <span data-ttu-id="c4c09-180">Para obtener información sobre cómo establecer mediante programación estas propiedades, vea <xref:Microsoft.SqlServer.Dts.Runtime.DtsEventHandler>.</span><span class="sxs-lookup"><span data-stu-id="c4c09-180">For information about programmatically setting these properties, see <xref:Microsoft.SqlServer.Dts.Runtime.DtsEventHandler>.</span></span>

## <a name="related-tasks"></a><span data-ttu-id="c4c09-181">Related Tasks</span><span class="sxs-lookup"><span data-stu-id="c4c09-181">Related Tasks</span></span>
 <span data-ttu-id="c4c09-182">Para obtener información sobre cómo agregar un controlador de eventos a un paquete, vea [agregar un controlador de eventos a un paquete](../../2014/integration-services/add-an-event-handler-to-a-package.md).</span><span class="sxs-lookup"><span data-stu-id="c4c09-182">For information about how to add an event handler to a package, see [Add an Event Handler to a Package](../../2014/integration-services/add-an-event-handler-to-a-package.md).</span></span>


