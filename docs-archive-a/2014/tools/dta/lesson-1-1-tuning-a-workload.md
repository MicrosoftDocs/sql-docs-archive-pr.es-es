---
title: Optimizar una carga de trabajo | Microsoft Docs
ms.custom: ''
ms.date: 03/06/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: database-engine
ms.topic: conceptual
helpviewer_keywords:
- workloads [SQL Server], tuning
ms.assetid: 6229bf3f-1182-4bc6-8451-cedc37f4b62e
author: stevestein
ms.author: sstein
ms.openlocfilehash: f95aab55d402ac72228dcc4326ad00ea15e7471f
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 08/04/2020
ms.locfileid: "87747354"
---
# <a name="tuning-a-workload"></a><span data-ttu-id="43faa-102">Optimizar una carga de trabajo</span><span class="sxs-lookup"><span data-stu-id="43faa-102">Tuning a Workload</span></span>
  <span data-ttu-id="43faa-103">El Asistente para la optimización de motor de base de datos puede utilizarse para determinar el mejor diseño físico de la base de datos para el rendimiento de las consultas en las bases de datos y las tablas que seleccione para optimizar.</span><span class="sxs-lookup"><span data-stu-id="43faa-103">The Database Engine Tuning Advisor can be used to find the best physical database design for query performance on the databases and tables that you select for tuning.</span></span>  
  
 <span data-ttu-id="43faa-104">En esta tarea se usa la base de datos de ejemplo [!INCLUDE[ssSampleDBobject](../../includes/sssampledbobject-md.md)] .</span><span class="sxs-lookup"><span data-stu-id="43faa-104">This task uses the [!INCLUDE[ssSampleDBobject](../../includes/sssampledbobject-md.md)] sample database.</span></span> <span data-ttu-id="43faa-105">Con el objeto de mejorar la seguridad, las bases de datos de ejemplo no se instalan de forma predeterminada.</span><span class="sxs-lookup"><span data-stu-id="43faa-105">To enhance security, the sample databases are not installed by default.</span></span> <span data-ttu-id="43faa-106">Para instalarlas, consulte [Instalar ejemplos de SQL Server y bases de datos de ejemplo](http://sqlserversamples.codeplex.com).</span><span class="sxs-lookup"><span data-stu-id="43faa-106">To install the sample databases, see [Installing SQL Server Samples and Sample Databases](http://sqlserversamples.codeplex.com).</span></span>  
  
### <a name="tune-a-workload-transact-sql-script-file"></a><span data-ttu-id="43faa-107">Optimizar un archivo de script Transact-SQL de carga de trabajo</span><span class="sxs-lookup"><span data-stu-id="43faa-107">Tune a workload Transact-SQL script file</span></span>  
  
1.  <span data-ttu-id="43faa-108">Copie una instrucción o instrucciones SELECT de ejemplo de la sección A.</span><span class="sxs-lookup"><span data-stu-id="43faa-108">Copy a sample SELECT statement or statements from "A.</span></span> <span data-ttu-id="43faa-109">Uso de SELECT para recuperar filas y columnas" en [Ejemplos de SELECT &#40;Transact-SQL&#41;](/sql/t-sql/queries/select-examples-transact-sql) y pegue las instrucciones en el Editor de consultas de [!INCLUDE[ssManStudioFull](../../includes/ssmanstudiofull-md.md)].</span><span class="sxs-lookup"><span data-stu-id="43faa-109">Using SELECT to retrieve rows and columns" in [SELECT Examples &#40;Transact-SQL&#41;](/sql/t-sql/queries/select-examples-transact-sql) and paste the statements into the Query Editor of [!INCLUDE[ssManStudioFull](../../includes/ssmanstudiofull-md.md)].</span></span> <span data-ttu-id="43faa-110">Guarde el archivo como **MyScript.sql** en un directorio donde pueda encontrarlo fácilmente.</span><span class="sxs-lookup"><span data-stu-id="43faa-110">Save the file as **MyScript.sql** in a directory where you can easily find it.</span></span>  
  
2.  <span data-ttu-id="43faa-111">Inicie el Asistente para la optimización de motor de base de datos.</span><span class="sxs-lookup"><span data-stu-id="43faa-111">Start Database Engine Tuning Advisor.</span></span> <span data-ttu-id="43faa-112">Consulte [Iniciar el Asistente para la optimización de motor de base de datos](../../relational-databases/performance/database-engine-tuning-advisor.md).</span><span class="sxs-lookup"><span data-stu-id="43faa-112">See [Launching Database Engine Tuning Advisor](../../relational-databases/performance/database-engine-tuning-advisor.md).</span></span>  
  
3.  <span data-ttu-id="43faa-113">En el panel derecho de la GUI del Asistente para la optimización de motor de base de datos, escriba **MySession** en **Nombre de sesión**.</span><span class="sxs-lookup"><span data-stu-id="43faa-113">In the right pane of the Database Engine Tuning Advisor GUI, type **MySession** in **Session name**.</span></span>  
  
4.  <span data-ttu-id="43faa-114">Seleccione **Archivo** para la **Carga de trabajo**y, después, haga clic en el botón **Busque un archivo de carga de trabajo** para localizar el archivo **MyScript.sql** que guardó en el paso 1.</span><span class="sxs-lookup"><span data-stu-id="43faa-114">Select **File** for your **Workload**, and click the **Browse for a workload file** button to locate the **MyScript.sql** file that you saved in Step 1.</span></span>  
  
5.  <span data-ttu-id="43faa-115">Seleccione [!INCLUDE[ssSampleDBobject](../../includes/sssampledbobject-md.md)] en la lista **Base de datos para análisis de carga de trabajo** , seleccione [!INCLUDE[ssSampleDBobject](../../includes/sssampledbobject-md.md)] en la cuadrícula **Seleccionar bases de datos y tablas para optimizar** y deje activada la opción **Guardar registro de optimización** .</span><span class="sxs-lookup"><span data-stu-id="43faa-115">Select [!INCLUDE[ssSampleDBobject](../../includes/sssampledbobject-md.md)] in the **Database for workload analysis** list, select [!INCLUDE[ssSampleDBobject](../../includes/sssampledbobject-md.md)] in the **Select databases and tables to tune** grid, and leave **Save tuning log** selected.</span></span> <span data-ttu-id="43faa-116">**Base de datos para análisis de carga de trabajo** especifica la primera base de datos a la que se conecta el Asistente para la optimización de motor de base de datos al optimizar una carga de trabajo.</span><span class="sxs-lookup"><span data-stu-id="43faa-116">**Database for workload analysis** specifies the first database to which Database Engine Tuning Advisor connects when tuning a workload.</span></span> <span data-ttu-id="43faa-117">Una vez iniciada la optimización, el Asistente para la optimización de motor de base de datos se conecta a las bases de datos especificadas en las instrucciones `USE DATABASE` que contiene la carga de trabajo.</span><span class="sxs-lookup"><span data-stu-id="43faa-117">After tuning begins, Database Engine Tuning Advisor connects to the databases specified by the `USE DATABASE` statements contained in the workload.</span></span>  
  
6.  <span data-ttu-id="43faa-118">Haga clic en la pestaña **Opciones de optimización** . No establecerá ninguna opción de optimización para esta práctica, pero dedique un momento a revisar las opciones predeterminadas de optimización.</span><span class="sxs-lookup"><span data-stu-id="43faa-118">Click the **Tuning Options** tab. You will not set any tuning options for this practice, but take a moment to review the default tuning options.</span></span> <span data-ttu-id="43faa-119">Presione F1 para ver la Ayuda para esta página con pestañas.</span><span class="sxs-lookup"><span data-stu-id="43faa-119">Press F1 to view the Help for this tabbed page.</span></span> <span data-ttu-id="43faa-120">Haga clic en **Opciones avanzadas** para ver opciones de optimización adicionales.</span><span class="sxs-lookup"><span data-stu-id="43faa-120">Click **Advanced Options** to view additional tuning options.</span></span> <span data-ttu-id="43faa-121">Haga clic en **Ayuda** , en el cuadro de diálogo **Opciones avanzadas de optimización** , para obtener información sobre las opciones que aparecen.</span><span class="sxs-lookup"><span data-stu-id="43faa-121">Click **Help** in the **Advanced Tuning Options** dialog box for information about the tuning options that are displayed there.</span></span> <span data-ttu-id="43faa-122">Haga clic en **Cancelar** para cerrar el cuadro de diálogo **Opciones avanzadas de optimización** , y deje seleccionadas las opciones predeterminadas.</span><span class="sxs-lookup"><span data-stu-id="43faa-122">Click **Cancel** to close the **Advanced Tuning Options** dialog box, leaving the default options selected.</span></span>  
  
7.  <span data-ttu-id="43faa-123">Haga clic en el botón **Iniciar análisis** de la barra de herramientas.</span><span class="sxs-lookup"><span data-stu-id="43faa-123">Click the **Start Analysis** button on the toolbar.</span></span> <span data-ttu-id="43faa-124">Mientras Asistente para la optimización de motor de base de datos está analizando la carga de trabajo, puede supervisar el estado en la pestaña **progreso** . Una vez completada la optimización, se muestra la pestaña **recomendaciones** .</span><span class="sxs-lookup"><span data-stu-id="43faa-124">While Database Engine Tuning Advisor is analyzing the workload, you can monitor the status on the **Progress** tab. When tuning is complete, the **Recommendations** tab is displayed.</span></span>  
  
     <span data-ttu-id="43faa-125">Si recibe un error acerca de la fecha y la hora de detención de la optimización, **Compruebe la hora de detención en** la pestaña **Opciones de optimización** principales. Asegúrese de que la fecha y la hora de **detención** son posteriores a la fecha y hora actuales y, si es necesario, cámbielas.</span><span class="sxs-lookup"><span data-stu-id="43faa-125">If you receive an error about the tuning stop date and time, check the **Stop at** time on the main **Tuning Options** tab. Make sure the **Stop at** date and time are greater than the current date and time, and if necessary, change them.</span></span>  
  
8.  <span data-ttu-id="43faa-126">Una vez completado el análisis, guarde su recomendación como un script de [!INCLUDE[tsql](../../includes/tsql-md.md)] haciendo clic en **Guardar recomendaciones** en el menú **Acciones** .</span><span class="sxs-lookup"><span data-stu-id="43faa-126">After the analysis completes, save your recommendation as a [!INCLUDE[tsql](../../includes/tsql-md.md)] script by clicking **Save Recommendations** on the **Actions** menu.</span></span> <span data-ttu-id="43faa-127">En el cuadro de diálogo **Guardar como** , navegue hasta el directorio en el que quiere guardar el script de recomendaciones y escriba el nombre de archivo **MyRecommendations**.</span><span class="sxs-lookup"><span data-stu-id="43faa-127">In the **Save As** dialog box, navigate to the directory where you want to save the recommendations script, and type the file name **MyRecommendations**.</span></span>  
  
## <a name="summary"></a><span data-ttu-id="43faa-128">Resumen</span><span class="sxs-lookup"><span data-stu-id="43faa-128">Summary</span></span>  
 <span data-ttu-id="43faa-129">Ha completado la optimización de una carga de trabajo de instrucción SELECT simple en la base de datos [!INCLUDE[ssSampleDBobject](../../includes/sssampledbobject-md.md)] .</span><span class="sxs-lookup"><span data-stu-id="43faa-129">You have completed tuning a simple SELECT statement workload on the [!INCLUDE[ssSampleDBobject](../../includes/sssampledbobject-md.md)] database.</span></span> <span data-ttu-id="43faa-130">El Asistente para la optimización de motor de base de datos también puede utilizar tablas y archivos de seguimiento del [!INCLUDE[ssSqlProfiler](../../includes/sssqlprofiler-md.md)] como cargas de trabajo de optimización.</span><span class="sxs-lookup"><span data-stu-id="43faa-130">The Database Engine Tuning Advisor can also take [!INCLUDE[ssSqlProfiler](../../includes/sssqlprofiler-md.md)] trace files and tables as tuning workloads.</span></span> <span data-ttu-id="43faa-131">La tarea siguiente muestra cómo ver e interpretar las recomendaciones de optimización que ha recibido tras la optimización de práctica.</span><span class="sxs-lookup"><span data-stu-id="43faa-131">The next task shows you how to view and interpret the tuning recommendations that you received as a result of the practice tuning.</span></span>  
  
## <a name="next-task-in-lesson"></a><span data-ttu-id="43faa-132">Siguiente tarea de la lección</span><span class="sxs-lookup"><span data-stu-id="43faa-132">Next Task in Lesson</span></span>  
 [<span data-ttu-id="43faa-133">Ver recomendaciones de optimización</span><span class="sxs-lookup"><span data-stu-id="43faa-133">Viewing Tuning Recommendations</span></span>](lesson-1-2-viewing-tuning-recommendations.md)  
  
  
