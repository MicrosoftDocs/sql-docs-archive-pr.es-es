---
title: Guardar seguimientos y plantillas de seguimiento | Microsoft Docs
ms.custom: ''
ms.date: 06/13/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: profiler
ms.topic: conceptual
helpviewer_keywords:
- saving traces
- traces [SQL Server], saving
- templates [SQL Server], SQL Server Profiler
- Profiler [SQL Server Profiler], templates
- trace templates [SQL Server]
- exporting trace templates
- importing trace templates
- SQL Server Profiler, templates
ms.assetid: 957e6bf8-e7a3-4a59-a1cd-0a41538a8158
author: stevestein
ms.author: sstein
ms.openlocfilehash: 36db7ccfd8b185d60eb39c20a58842f469e7878d
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 08/04/2020
ms.locfileid: "87747817"
---
# <a name="save-traces-and-trace-templates"></a><span data-ttu-id="df107-102">Guardar seguimientos y plantillas de seguimiento</span><span class="sxs-lookup"><span data-stu-id="df107-102">Save Traces and Trace Templates</span></span>
  <span data-ttu-id="df107-103">Es importante distinguir entre guardar archivos de seguimiento y guardar plantillas de seguimiento.</span><span class="sxs-lookup"><span data-stu-id="df107-103">It is important to distinguish saving trace files from saving trace templates.</span></span> <span data-ttu-id="df107-104">Guardar un archivo de seguimiento implica guardar los datos de eventos capturados en un lugar especificado.</span><span class="sxs-lookup"><span data-stu-id="df107-104">Saving a trace file involves saving the captured event data to a specified place.</span></span> <span data-ttu-id="df107-105">Guardar una plantilla de seguimiento implica guardar la definición del seguimiento, como las columnas de datos, las clases de eventos o los filtros especificados.</span><span class="sxs-lookup"><span data-stu-id="df107-105">Saving a trace template involves saving the definition of the trace, such as specified data columns, event classes, or filters.</span></span>  
  
## <a name="saving-traces"></a><span data-ttu-id="df107-106">guardar seguimientos</span><span class="sxs-lookup"><span data-stu-id="df107-106">Saving Traces</span></span>  
 <span data-ttu-id="df107-107">Guarde los datos de los eventos capturados en un archivo o una tabla de [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] cuando necesite analizar o reproducir los datos capturados más adelante.</span><span class="sxs-lookup"><span data-stu-id="df107-107">Save captured event data to a file or a [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] table when you need to analyze or replay the captured data at a later time.</span></span> <span data-ttu-id="df107-108">Utilice un archivo de seguimiento para lo siguiente:</span><span class="sxs-lookup"><span data-stu-id="df107-108">Use a trace file to do the following:</span></span>  
  
-   <span data-ttu-id="df107-109">Utilice un archivo de seguimiento o una tabla de seguimiento para crear una carga de trabajo a fin de utilizarla como entrada para el Asistente para la optimización de motor de base de datos.</span><span class="sxs-lookup"><span data-stu-id="df107-109">Use a trace file or trace table to create a workload that is used as input for Database Engine Tuning Advisor.</span></span>  
  
-   <span data-ttu-id="df107-110">Utilice un archivo de seguimiento para capturar eventos y enviar el archivo de seguimiento a un proveedor de asistencia técnica para su análisis.</span><span class="sxs-lookup"><span data-stu-id="df107-110">Use a trace file to capture events and send the trace file to the support provider for analysis.</span></span>  
  
-   <span data-ttu-id="df107-111">Utilice las herramientas de procesamiento de consultas de [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] para tener acceso a los datos o verlos en el [!INCLUDE[ssSqlProfiler](../../includes/sssqlprofiler-md.md)].</span><span class="sxs-lookup"><span data-stu-id="df107-111">Use the query processing tools in [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] to access the data or to view the data in [!INCLUDE[ssSqlProfiler](../../includes/sssqlprofiler-md.md)].</span></span> <span data-ttu-id="df107-112">Solo pueden tener acceso directo a la tabla de seguimiento los miembros del rol fijo de servidor **sysadmin** o el creador de la tabla.</span><span class="sxs-lookup"><span data-stu-id="df107-112">Only members of the **sysadmin** fixed server role or the table creator can access the trace table directly.</span></span>  
  
> [!NOTE]  
>  <span data-ttu-id="df107-113">La captura de datos de seguimiento en una tabla resulta una operación más lenta que la captura de datos de seguimiento en un archivo.</span><span class="sxs-lookup"><span data-stu-id="df107-113">Capturing trace data to a table is a slower operation than capturing trace data to a file.</span></span> <span data-ttu-id="df107-114">Una alternativa es capturar los datos de seguimiento en un archivo, abrir el archivo de seguimiento y, después, guardar el seguimiento como una tabla de seguimiento.</span><span class="sxs-lookup"><span data-stu-id="df107-114">An alternative is to capture trace data to a file, open the trace file, and then save the trace as a trace table.</span></span>  
  
 <span data-ttu-id="df107-115">Cuando use un archivo de seguimiento, el [!INCLUDE[ssSqlProfiler](../../includes/sssqlprofiler-md.md)] guardará los datos de eventos capturados (no las definiciones de seguimiento) en un archivo de seguimiento ( [!INCLUDE[ssSqlProfiler](../../includes/sssqlprofiler-md.md)] .trc) del\*.</span><span class="sxs-lookup"><span data-stu-id="df107-115">When you use a trace file, [!INCLUDE[ssSqlProfiler](../../includes/sssqlprofiler-md.md)] saves captured event data (not trace definitions) to a [!INCLUDE[ssSqlProfiler](../../includes/sssqlprofiler-md.md)] Trace (\*.trc) file.</span></span> <span data-ttu-id="df107-116">La extensión se agrega automáticamente al final del archivo al guardarlo, independientemente de si se ha especificado otra extensión.</span><span class="sxs-lookup"><span data-stu-id="df107-116">The extension is added to the end of the file automatically when the trace file is saved, regardless of any other specified extension.</span></span> <span data-ttu-id="df107-117">Por ejemplo, si especifica un archivo de seguimiento denominado **Seguimiento.dat**, el nombre del archivo creado será **Seguimiento.dat.trc**.</span><span class="sxs-lookup"><span data-stu-id="df107-117">For example, if you specify a trace file called **Trace.dat**, the file created is called **Trace.dat.trc**.</span></span>  
  
> [!IMPORTANT]  
>  <span data-ttu-id="df107-118">Los usuarios que tienen el permiso SHOWPLAN, ALTER TRACE o VIEW SERVER STATE pueden ver consultas capturadas en la salida del plan de presentación.</span><span class="sxs-lookup"><span data-stu-id="df107-118">Users who have the SHOWPLAN, the ALTER TRACE, or the VIEW SERVER STATE permission can view queries that are captured in Showplan output.</span></span> <span data-ttu-id="df107-119">Estas consultas pueden contener información confidencial, como contraseñas.</span><span class="sxs-lookup"><span data-stu-id="df107-119">These queries may contain sensitive information such as passwords.</span></span> <span data-ttu-id="df107-120">Por consiguiente, se recomienda conceder estos permisos solo a los usuarios que tengan autorización para ver información confidencial, como los miembros del rol fijo de base de datos **db_owner** o los miembros del rol fijo de servidor **sysadmin** .</span><span class="sxs-lookup"><span data-stu-id="df107-120">Therefore, we recommend that you only grant these permissions to users who are authorized to view sensitive information, such as members of the **db_owner** fixed database role, or members of the **sysadmin** fixed server role.</span></span> <span data-ttu-id="df107-121">Además, se recomienda guardar solo los archivos del plan de presentación o los archivos de seguimiento que contengan eventos relacionados con el plan de presentación en una ubicación que utilice el sistema de archivos NTFS, así como restringir el acceso a los usuarios que tengan autorización para ver información confidencial.</span><span class="sxs-lookup"><span data-stu-id="df107-121">Additionally, we recommend that you only save Showplan files or trace files that contain Showplan-related events to a location that uses the NTFS file system, and that you restrict access to users who are authorized to view sensitive information.</span></span>  
  
## <a name="saving-templates"></a><span data-ttu-id="df107-122">Guardar plantillas</span><span class="sxs-lookup"><span data-stu-id="df107-122">Saving Templates</span></span>  
 <span data-ttu-id="df107-123">La definición de la plantilla de un seguimiento incluye las clases de eventos, columnas de datos, filtros y todas las demás propiedades (excepto los datos de eventos capturados) que se utilizan para crear un seguimiento.</span><span class="sxs-lookup"><span data-stu-id="df107-123">The template definition of a trace includes the event classes, data columns, filters, and all other properties (except the captured event data) that are used to create a trace.</span></span> [!INCLUDE[ssSqlProfiler](../../includes/sssqlprofiler-md.md)] <span data-ttu-id="df107-124">proporciona plantillas del sistema predefinidas para las tareas de seguimiento comunes y para tareas específicas, como crear una carga de trabajo que el Asistente para la optimización de motor de base de datos pueda utilizar para ajustar el diseño físico de la base de datos.</span><span class="sxs-lookup"><span data-stu-id="df107-124">provides predefined system templates for common tracing tasks and for specific tasks, such as creating a workload that Database Engine Tuning Advisor can use to tune the physical database design.</span></span> <span data-ttu-id="df107-125">También se pueden crear y guardar plantillas definidas por el usuario.</span><span class="sxs-lookup"><span data-stu-id="df107-125">You can also create and save user-defined templates.</span></span>  
  
### <a name="importing-and-exporting-templates"></a><span data-ttu-id="df107-126">Importar y exportar plantillas</span><span class="sxs-lookup"><span data-stu-id="df107-126">Importing and Exporting Templates</span></span>  
 [!INCLUDE[ssSqlProfiler](../../includes/sssqlprofiler-md.md)] <span data-ttu-id="df107-127">permite importar y exportar plantillas de un servidor a otro.</span><span class="sxs-lookup"><span data-stu-id="df107-127">allows you to import and export templates from one server to another.</span></span> <span data-ttu-id="df107-128">Al exportar una plantilla se mueve una copia de una plantilla existente al directorio especificado.</span><span class="sxs-lookup"><span data-stu-id="df107-128">Exporting a template moves a copy of an existing template to a directory that you specify.</span></span> <span data-ttu-id="df107-129">Al importar una plantilla se realiza una copia de una plantilla especificada.</span><span class="sxs-lookup"><span data-stu-id="df107-129">Importing a template makes a copy of a template that you specify.</span></span> <span data-ttu-id="df107-130">Cuando estas plantillas se ven en el [!INCLUDE[ssSqlProfiler](../../includes/sssqlprofiler-md.md)], se pueden distinguir de las plantillas del sistema por el término "(usuario)" que sigue al nombre de la plantilla.</span><span class="sxs-lookup"><span data-stu-id="df107-130">When these templates are viewed in [!INCLUDE[ssSqlProfiler](../../includes/sssqlprofiler-md.md)], you can distinguish them from system templates by the term "(user)" that follows the template name.</span></span> <span data-ttu-id="df107-131">Las plantillas del sistema predefinidas no se pueden sobrescribir ni modificar directamente.</span><span class="sxs-lookup"><span data-stu-id="df107-131">You cannot overwrite or directly modify a predefined system template.</span></span>  
  
### <a name="analyzing-performance-with-templates"></a><span data-ttu-id="df107-132">Analizar el rendimiento con plantillas</span><span class="sxs-lookup"><span data-stu-id="df107-132">Analyzing Performance with Templates</span></span>  
 <span data-ttu-id="df107-133">Si supervisa [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)]con frecuencia, utilice plantillas para analizar el rendimiento.</span><span class="sxs-lookup"><span data-stu-id="df107-133">If you frequently monitor [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)], use templates to analyze performance.</span></span> <span data-ttu-id="df107-134">Las plantillas capturan los mismos datos de eventos cada vez y utilizan la misma definición de seguimiento para supervisar los mismos eventos.</span><span class="sxs-lookup"><span data-stu-id="df107-134">The templates capture the same event data each time and use the same trace definition to monitor the same events.</span></span> <span data-ttu-id="df107-135">No tendrá que definir las clases de eventos y las columnas de datos cada vez que cree un seguimiento.</span><span class="sxs-lookup"><span data-stu-id="df107-135">You do not need to define the event classes and data columns every time you create a trace.</span></span> <span data-ttu-id="df107-136">Además, se puede proporcionar una plantilla a otro usuario para supervisar eventos específicos de [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] .</span><span class="sxs-lookup"><span data-stu-id="df107-136">Also, a template can be given to another user to monitor specific [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] events.</span></span> <span data-ttu-id="df107-137">Por ejemplo, un proveedor de asistencia técnica puede proporcionar una plantilla a un cliente.</span><span class="sxs-lookup"><span data-stu-id="df107-137">For example, a support provider can supply a customer with a template.</span></span> <span data-ttu-id="df107-138">El cliente puede utilizar la plantilla para capturar los datos de eventos necesarios, que posteriormente enviará al proveedor de asistencia técnica para que los analice.</span><span class="sxs-lookup"><span data-stu-id="df107-138">The customer uses the template to capture the required event data, which is then sent to the support provider for analysis.</span></span>  
  
 <span data-ttu-id="df107-139">**Para guardar un seguimiento en un archivo**</span><span class="sxs-lookup"><span data-stu-id="df107-139">**To save a trace to a file**</span></span>  
  
 [<span data-ttu-id="df107-140">Guardar los resultados de un seguimiento en un archivo &#40;SQL Server Profiler&#41;</span><span class="sxs-lookup"><span data-stu-id="df107-140">Save Trace Results to a File &#40;SQL Server Profiler&#41;</span></span>](save-trace-results-to-a-file-sql-server-profiler.md)  
  
 [<span data-ttu-id="df107-141">sp_trace_create &#40;Transact-SQL&#41;</span><span class="sxs-lookup"><span data-stu-id="df107-141">sp_trace_create &#40;Transact-SQL&#41;</span></span>](/sql/relational-databases/system-stored-procedures/sp-trace-create-transact-sql)  
  
## <a name="see-also"></a><span data-ttu-id="df107-142">Consulte también</span><span class="sxs-lookup"><span data-stu-id="df107-142">See Also</span></span>  
 <span data-ttu-id="df107-143">[Guardar los resultados de un seguimiento en una tabla &#40;SQL Server Profiler&#41;](save-trace-results-to-a-table-sql-server-profiler.md) </span><span class="sxs-lookup"><span data-stu-id="df107-143">[Save Trace Results to a Table &#40;SQL Server Profiler&#41;](save-trace-results-to-a-table-sql-server-profiler.md) </span></span>  
 <span data-ttu-id="df107-144">[Crear una plantilla de seguimiento &#40;SQL Server Profiler&#41;](create-a-trace-template-sql-server-profiler.md) </span><span class="sxs-lookup"><span data-stu-id="df107-144">[Create a Trace Template &#40;SQL Server Profiler&#41;](create-a-trace-template-sql-server-profiler.md) </span></span>  
 <span data-ttu-id="df107-145">[Derivar una plantilla a partir de un seguimiento en ejecución &#40;SQL Server Profiler&#41;](derive-a-template-from-a-running-trace-sql-server-profiler.md) </span><span class="sxs-lookup"><span data-stu-id="df107-145">[Derive a Template from a Running Trace &#40;SQL Server Profiler&#41;](derive-a-template-from-a-running-trace-sql-server-profiler.md) </span></span>  
 <span data-ttu-id="df107-146">[Derivar una plantilla a partir de un archivo o tabla de seguimiento &#40;SQL Server Profiler&#41;](derive-a-template-from-a-trace-file-or-trace-table-sql-server-profiler.md) </span><span class="sxs-lookup"><span data-stu-id="df107-146">[Derive a Template from a Trace File or Trace Table &#40;SQL Server Profiler&#41;](derive-a-template-from-a-trace-file-or-trace-table-sql-server-profiler.md) </span></span>  
 <span data-ttu-id="df107-147">[Exportar una plantilla de seguimiento &#40;SQL Server Profiler&#41;](export-a-trace-template-sql-server-profiler.md) </span><span class="sxs-lookup"><span data-stu-id="df107-147">[Export a Trace Template &#40;SQL Server Profiler&#41;](export-a-trace-template-sql-server-profiler.md) </span></span>  
 [<span data-ttu-id="df107-148">Importar una plantilla de seguimiento &#40;SQL Server Profiler&#41;</span><span class="sxs-lookup"><span data-stu-id="df107-148">Import a Trace Template &#40;SQL Server Profiler&#41;</span></span>](import-a-trace-template-sql-server-profiler.md)  
  
  
