---
title: Diseñar agregaciones (XMLA) | Microsoft Docs
ms.custom: ''
ms.date: 03/06/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: analysis-services
ms.topic: reference
helpviewer_keywords:
- statistical information [XML for Analysis]
- batches [XML for Analysis]
- aggregations [Analysis Services], XML for Analysis
- XMLA, aggregations
- queries [XMLA]
- XML for Analysis, aggregations
- iterative aggregation process [XMLA]
ms.assetid: 4dd27afa-10c7-408d-bc24-ca74217ddbcb
author: minewiskan
ms.author: owend
ms.openlocfilehash: 632cc071605cff6e42adec4acd32c9bd9949fc77
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 08/04/2020
ms.locfileid: "87676227"
---
# <a name="designing-aggregations-xmla"></a><span data-ttu-id="3d524-102">Diseñar agregaciones (XMLA)</span><span class="sxs-lookup"><span data-stu-id="3d524-102">Designing Aggregations (XMLA)</span></span>
  <span data-ttu-id="3d524-103">Los diseños de agregaciones están asociados a las particiones de un grupo de medida determinado para asegurar que las particiones usan la misma estructura al almacenar agregaciones.</span><span class="sxs-lookup"><span data-stu-id="3d524-103">Aggregation designs are associated with the partitions of a particular measure group to make sure that the partitions use the same structure when storing aggregations.</span></span> <span data-ttu-id="3d524-104">El uso de la misma estructura de almacenamiento para las particiones permite definir fácilmente las particiones que se pueden combinar posteriormente mediante el comando [MergePartitions](https://docs.microsoft.com/bi-reference/xmla/xml-elements-commands/mergepartitions-element-xmla) .</span><span class="sxs-lookup"><span data-stu-id="3d524-104">Using the same storage structure for partitions lets you to easily define partitions that can be later merged using the [MergePartitions](https://docs.microsoft.com/bi-reference/xmla/xml-elements-commands/mergepartitions-element-xmla) command.</span></span> <span data-ttu-id="3d524-105">Para obtener más información sobre los diseños de agregaciones, vea [agregaciones y diseños de agregaciones](../multidimensional-models-olap-logical-cube-objects/aggregations-and-aggregation-designs.md).</span><span class="sxs-lookup"><span data-stu-id="3d524-105">For more information about aggregation designs, see [Aggregations and Aggregation Designs](../multidimensional-models-olap-logical-cube-objects/aggregations-and-aggregation-designs.md).</span></span>  
  
 <span data-ttu-id="3d524-106">Para definir agregaciones para un diseño de agregaciones, puede utilizar el comando [DesignAggregations](https://docs.microsoft.com/bi-reference/xmla/xml-elements-commands/designaggregations-element-xmla) en XML for Analysis (XMLA).</span><span class="sxs-lookup"><span data-stu-id="3d524-106">To define aggregations for an aggregation design, you can use the [DesignAggregations](https://docs.microsoft.com/bi-reference/xmla/xml-elements-commands/designaggregations-element-xmla) command in XML for Analysis (XMLA).</span></span> <span data-ttu-id="3d524-107">El comando `DesignAggregations` tiene propiedades que identifican el diseño de agregaciones que se usa como una referencia y definen cómo controlar el proceso de diseño basado en esa referencia.</span><span class="sxs-lookup"><span data-stu-id="3d524-107">The `DesignAggregations` command has properties that identify which aggregation design to use as a reference and how to control the design process based upon that reference.</span></span> <span data-ttu-id="3d524-108">Mediante el comando `DesignAggregations` y sus propiedades, puede diseñar agregaciones de forma iterativa o por lotes y luego ver las estadísticas de diseño resultantes para evaluar el proceso de diseño.</span><span class="sxs-lookup"><span data-stu-id="3d524-108">Using the `DesignAggregations` command and its properties, you can design aggregations iteratively or in batch, and then view the resulting design statistics to evaluate the design process.</span></span>  
  
## <a name="specifying-an-aggregation-design"></a><span data-ttu-id="3d524-109">Especificar un diseño de agregaciones</span><span class="sxs-lookup"><span data-stu-id="3d524-109">Specifying an Aggregation Design</span></span>  
 <span data-ttu-id="3d524-110">La propiedad [Object](https://docs.microsoft.com/bi-reference/xmla/xml-elements-properties/object-element-xmla) del `DesignAggregations` comando debe contener una referencia de objeto a un diseño de agregaciones existente.</span><span class="sxs-lookup"><span data-stu-id="3d524-110">The [Object](https://docs.microsoft.com/bi-reference/xmla/xml-elements-properties/object-element-xmla) property of the `DesignAggregations` command must contain an object reference to an existing aggregation design.</span></span> <span data-ttu-id="3d524-111">La referencia de objeto contiene un identificador de la base de datos, identificador de cubo, identificador de grupo de medida e identificador de diseño de agregaciones.</span><span class="sxs-lookup"><span data-stu-id="3d524-111">The object reference contains a database identifier, cube identifier, measure group identifier, and aggregation design identifier.</span></span> <span data-ttu-id="3d524-112">Si el diseño de agregaciones aún no existe, se produce un error.</span><span class="sxs-lookup"><span data-stu-id="3d524-112">If the aggregation design does not already exist, an error occurs.</span></span>  
  
## <a name="controlling-the-design-process"></a><span data-ttu-id="3d524-113">Controlar el proceso de diseño</span><span class="sxs-lookup"><span data-stu-id="3d524-113">Controlling the Design Process</span></span>  
 <span data-ttu-id="3d524-114">Puede usar las propiedades siguientes del comando `DesignAggregations` para controlar el algoritmo que se usa para definir las agregaciones para el diseño de agregaciones:</span><span class="sxs-lookup"><span data-stu-id="3d524-114">You can use the following properties of the `DesignAggregations` command to control the algorithm used to define aggregations for the aggregation design:</span></span>  
  
-   <span data-ttu-id="3d524-115">La propiedad [Steps](https://docs.microsoft.com/bi-reference/xmla/xml-elements-properties/steps-element-xmla) determina cuántas iteraciones `DesignAggregations` debe tomar el comando antes de devolver el control a la aplicación cliente.</span><span class="sxs-lookup"><span data-stu-id="3d524-115">The [Steps](https://docs.microsoft.com/bi-reference/xmla/xml-elements-properties/steps-element-xmla) property determines how many iterations the `DesignAggregations` command should take before it returns control to the client application.</span></span>  
  
-   <span data-ttu-id="3d524-116">La propiedad [Time](https://docs.microsoft.com/bi-reference/xmla/xml-elements-properties/time-element-xmla) determina el número de milisegundos que `DesignAggregations` debe tardar el comando antes de devolver el control a la aplicación cliente.</span><span class="sxs-lookup"><span data-stu-id="3d524-116">The [Time](https://docs.microsoft.com/bi-reference/xmla/xml-elements-properties/time-element-xmla) property determines how many milliseconds the `DesignAggregations` command should take before it returns control to the client application.</span></span>  
  
-   <span data-ttu-id="3d524-117">La propiedad [optimización](https://docs.microsoft.com/bi-reference/xmla/xml-elements-properties/optimization-element-xmla) determina el porcentaje estimado de mejora del rendimiento `DesignAggregations` que el comando debe intentar lograr.</span><span class="sxs-lookup"><span data-stu-id="3d524-117">The [Optimization](https://docs.microsoft.com/bi-reference/xmla/xml-elements-properties/optimization-element-xmla) property determines the estimated percentage of performance improvement the `DesignAggregations` command should try to achieve.</span></span> <span data-ttu-id="3d524-118">Si diseña agregaciones de forma iterativa, solo tendrá que enviar esta propiedad en el primer comando.</span><span class="sxs-lookup"><span data-stu-id="3d524-118">If you are iteratively designing aggregations, you only have to send this property on the first command.</span></span>  
  
-   <span data-ttu-id="3d524-119">La propiedad [Storage](https://docs.microsoft.com/bi-reference/xmla/xml-elements-properties/storage-element-xmla) determina la cantidad estimada de almacenamiento en disco, en bytes, que usa el `DesignAggregations` comando.</span><span class="sxs-lookup"><span data-stu-id="3d524-119">The [Storage](https://docs.microsoft.com/bi-reference/xmla/xml-elements-properties/storage-element-xmla) property determines the estimated amount of disk storage, in bytes, used by the `DesignAggregations` command.</span></span> <span data-ttu-id="3d524-120">Si diseña agregaciones de forma iterativa, solo tendrá que enviar esta propiedad en el primer comando.</span><span class="sxs-lookup"><span data-stu-id="3d524-120">If you are iteratively designing aggregations, you only have to send this property on the first command.</span></span>  
  
-   <span data-ttu-id="3d524-121">La propiedad [Materialization](https://docs.microsoft.com/bi-reference/xmla/xml-elements-properties/materialize-element-xmla) determina si el `DesignAggregations` comando debe crear las agregaciones definidas durante el proceso de diseño.</span><span class="sxs-lookup"><span data-stu-id="3d524-121">The [Materialize](https://docs.microsoft.com/bi-reference/xmla/xml-elements-properties/materialize-element-xmla) property determines whether the `DesignAggregations` command should create the aggregations defined during the design process.</span></span> <span data-ttu-id="3d524-122">Si diseña agregaciones de forma iterativa, esta propiedad debería establecerse en false hasta que esté listo para guardar las agregaciones diseñadas.</span><span class="sxs-lookup"><span data-stu-id="3d524-122">If you are iteratively designing aggregations, this property should be set to false until you are ready to save the designed aggregations.</span></span> <span data-ttu-id="3d524-123">Cuando la propiedad está establecida en true, finaliza el proceso de diseño actual y las agregaciones definidas se agregan al diseño de agregaciones especificado.</span><span class="sxs-lookup"><span data-stu-id="3d524-123">When set to true, the current design process ends and the defined aggregations are added to the specified aggregation design.</span></span>  
  
## <a name="specifying-queries"></a><span data-ttu-id="3d524-124">Especificar consultas</span><span class="sxs-lookup"><span data-stu-id="3d524-124">Specifying Queries</span></span>  
 <span data-ttu-id="3d524-125">El comando DesignAggregations admite el comando de optimización basada en el uso incluyendo uno o más `Query` elementos en la propiedad [queries](https://docs.microsoft.com/bi-reference/xmla/xml-elements-properties/queries-element-xmla) .</span><span class="sxs-lookup"><span data-stu-id="3d524-125">The DesignAggregations command supports usage-based optimization command by including one or more `Query` elements in the [Queries](https://docs.microsoft.com/bi-reference/xmla/xml-elements-properties/queries-element-xmla) property.</span></span> <span data-ttu-id="3d524-126">La `Queries` propiedad puede contener uno o más elementos de [consulta](https://docs.microsoft.com/bi-reference/xmla/xml-elements-properties/query-element-xmla) .</span><span class="sxs-lookup"><span data-stu-id="3d524-126">The `Queries` property can contain one or more [Query](https://docs.microsoft.com/bi-reference/xmla/xml-elements-properties/query-element-xmla) elements.</span></span> <span data-ttu-id="3d524-127">Si la propiedad `Queries` no contiene ningún elemento `Query`, el diseño de agregaciones especificado en el elemento `Object` usa una estructura predeterminada que contiene un conjunto general de agregaciones.</span><span class="sxs-lookup"><span data-stu-id="3d524-127">If the `Queries` property does not contain any `Query` elements, the aggregation design specified in the `Object` element uses a default structure that contains a general set of aggregations.</span></span> <span data-ttu-id="3d524-128">Este conjunto general de agregaciones está diseñado para cumplir los criterios especificados en las propiedades `Optimization` y `Storage` del comando `DesignAggregations`.</span><span class="sxs-lookup"><span data-stu-id="3d524-128">This general set of aggregations is designed to meet the criteria specified in the `Optimization` and `Storage` properties of the `DesignAggregations` command.</span></span>  
  
 <span data-ttu-id="3d524-129">Cada elemento `Query` representa una consulta de objetivo que utiliza el proceso de diseño para definir agregaciones dirigidas a las consultas utilizadas con más frecuencia.</span><span class="sxs-lookup"><span data-stu-id="3d524-129">Each `Query` element represents a goal query that the design process uses to define aggregations that target the most frequently used queries.</span></span> <span data-ttu-id="3d524-130">Puede especificar sus propias consultas objetivo o puede usar la información almacenada por una instancia de [!INCLUDE[msCoName](../../includes/msconame-md.md)] [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] en el registro de consultas para recuperar información acerca de las consultas que se usan con más frecuencia.</span><span class="sxs-lookup"><span data-stu-id="3d524-130">You can either specify your own goal queries, or you can use the information stored by an instance of [!INCLUDE[msCoName](../../includes/msconame-md.md)] [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] in the query log to retrieve information about the most frequently used queries.</span></span> <span data-ttu-id="3d524-131">El Asistente para optimización basada en el uso utiliza el registro de la consulta para recuperar consultas de objetivo según el tiempo, uso o un usuario especificado cuando envía un comando `DesignAggregations`.</span><span class="sxs-lookup"><span data-stu-id="3d524-131">The Usage-Based Optimization Wizard uses the query log to retrieve goal queries based on time, usage, or a specified user when it sends a `DesignAggregations` command.</span></span> <span data-ttu-id="3d524-132">Para obtener más información, vea [Asistente para optimización basada en el uso (ayuda F1](../usage-based-optimization-wizard-f1-help.md)).</span><span class="sxs-lookup"><span data-stu-id="3d524-132">For more information, see [Usage-Based Optimization Wizard F1 Help](../usage-based-optimization-wizard-f1-help.md).</span></span>  
  
 <span data-ttu-id="3d524-133">Si está diseñando agregaciones de forma repetitiva, solo tiene que incluir consultas de objetivo en el primer comando `DesignAggregations` porque la instancia de [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] almacena estas consultas de objetivo y las usa durante la ejecución de posteriores comandos `DesignAggregations`.</span><span class="sxs-lookup"><span data-stu-id="3d524-133">If you are iteratively designing aggregations, you only have to pass goal queries in the first `DesignAggregations` command because the [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] instance stores these goal queries and uses these queries during subsequent `DesignAggregations` commands.</span></span> <span data-ttu-id="3d524-134">Después de incluir las consultas del objetivo en el primer comando `DesignAggregations` de un proceso iterativo, cualquier comando `DesignAggregations` posterior que contenga las consultas de objetivo en la propiedad `Queries` generará un error.</span><span class="sxs-lookup"><span data-stu-id="3d524-134">After you pass goal queries in the first `DesignAggregations` command of an iterative process, any subsequent `DesignAggregations` command that contains goal queries in the `Queries` property generates an error.</span></span>  
  
 <span data-ttu-id="3d524-135">El elemento `Query` contiene un valor delimitado por comas que contiene los siguientes argumentos:</span><span class="sxs-lookup"><span data-stu-id="3d524-135">The `Query` element contains a comma-delimited value that contains the following arguments:</span></span>  
  
 <span data-ttu-id="3d524-136">*Frequency*,*Dataset*[,*Dataset*...]</span><span class="sxs-lookup"><span data-stu-id="3d524-136">*Frequency*,*Dataset*[,*Dataset*...]</span></span>  
  
 <span data-ttu-id="3d524-137">*Frecuencia*</span><span class="sxs-lookup"><span data-stu-id="3d524-137">*Frequency*</span></span>  
 <span data-ttu-id="3d524-138">Un factor de ponderación que corresponde al número de veces que se ha ejecutado con anterioridad la consulta.</span><span class="sxs-lookup"><span data-stu-id="3d524-138">A weighting factor that corresponds to the number of times that the query has previously been executed.</span></span> <span data-ttu-id="3d524-139">Si el `Query` elemento representa una nueva consulta, el valor de *frecuencia* representa el factor de ponderación utilizado por el proceso de diseño para evaluar la consulta.</span><span class="sxs-lookup"><span data-stu-id="3d524-139">If the `Query` element represents a new query, the *Frequency* value represents the weighting factor used by the design process to evaluate the query.</span></span> <span data-ttu-id="3d524-140">A medida que el valor de frecuencia se vuelve mayor, el valor de ponderación que se asigna a la consulta durante el proceso de diseño va aumentando.</span><span class="sxs-lookup"><span data-stu-id="3d524-140">As the frequency value becomes larger, the weight that is put on the query during the design process increases.</span></span>  
  
 <span data-ttu-id="3d524-141">*Dataset*</span><span class="sxs-lookup"><span data-stu-id="3d524-141">*Dataset*</span></span>  
 <span data-ttu-id="3d524-142">Una cadena numérica que especifica qué atributos de una dimensión se van a incluir en la consulta.</span><span class="sxs-lookup"><span data-stu-id="3d524-142">A numeric string that specifies which attributes from a dimension are to be included in the query.</span></span> <span data-ttu-id="3d524-143">Esta cadena debe tener el mismo número de caracteres que el número de atributos de la dimensión.</span><span class="sxs-lookup"><span data-stu-id="3d524-143">This string must have the same number of characters as the number of attributes in the dimension.</span></span> <span data-ttu-id="3d524-144">El cero (0) indica que el atributo de la posición ordinal especificada no está incluido en la consulta de la dimensión especificada, mientras que el uno (1) indica que el atributo de la posición ordinal especificada está incluido en la consulta de la dimensión especificada.</span><span class="sxs-lookup"><span data-stu-id="3d524-144">Zero (0) indicates that the attribute in the specified ordinal position is not included in the query for the specified dimension, while one (1) indicates that the attribute in the specified ordinal position is included in the query for the specified dimension.</span></span>  
  
 <span data-ttu-id="3d524-145">Por ejemplo, la cadena "011" haría referencia a una consulta que implicaría una dimensión con tres atributos, de los que el segundo y el tercero estarían incluidos en la consulta.</span><span class="sxs-lookup"><span data-stu-id="3d524-145">For example, the string "011" would refer to a query involving a dimension with three attributes, from which the second and third attributes are included in the query.</span></span>  
  
> [!NOTE]  
>  <span data-ttu-id="3d524-146">Algunos atributos no se tienen en cuenta en el conjunto de datos.</span><span class="sxs-lookup"><span data-stu-id="3d524-146">Some attributes are excluded from consideration in the dataset.</span></span> <span data-ttu-id="3d524-147">Para obtener más información sobre los atributos excluidos, vea [elemento Query &#40;XMLA&#41;](https://docs.microsoft.com/bi-reference/xmla/xml-elements-properties/query-element-xmla).</span><span class="sxs-lookup"><span data-stu-id="3d524-147">For more information about excluded attributes, see [Query Element &#40;XMLA&#41;](https://docs.microsoft.com/bi-reference/xmla/xml-elements-properties/query-element-xmla).</span></span>  
  
 <span data-ttu-id="3d524-148">Cada dimensión del grupo de medida que contiene el diseño de agregaciones se representa mediante un valor de *conjunto* de elementos en el `Query` elemento.</span><span class="sxs-lookup"><span data-stu-id="3d524-148">Each dimension in the measure group that contains the aggregation design is represented by a *Dataset* value in the `Query` element.</span></span> <span data-ttu-id="3d524-149">El orden de los valores de *Dataset* debe coincidir con el orden de las dimensiones incluidas en el grupo de medidas.</span><span class="sxs-lookup"><span data-stu-id="3d524-149">The order of *Dataset* values must match the order of dimensions included in the measure group.</span></span>  
  
## <a name="designing-aggregations-using-iterative-or-batch-processes"></a><span data-ttu-id="3d524-150">Diseñar agregaciones mediante el proceso iterativo o proceso por lotes</span><span class="sxs-lookup"><span data-stu-id="3d524-150">Designing Aggregations Using Iterative or Batch Processes</span></span>  
 <span data-ttu-id="3d524-151">Puede usar el comando `DesignAggregations` como parte de un proceso iterativo o proceso por lotes, dependiendo de la interactividad que requiere el proceso de diseño.</span><span class="sxs-lookup"><span data-stu-id="3d524-151">You can use the `DesignAggregations` command as part of an iterative process or a batch process, depending on the interactivity required by the design process.</span></span>  
  
### <a name="designing-aggregations-using-an-iterative-process"></a><span data-ttu-id="3d524-152">Diseñar agregaciones mediante un proceso iterativo</span><span class="sxs-lookup"><span data-stu-id="3d524-152">Designing Aggregations Using an Iterative Process</span></span>  
 <span data-ttu-id="3d524-153">Para diseñar agregaciones de forma iterativa, debe enviar varios comandos `DesignAggregations` para proporcionar un control exhaustivo sobre el proceso de diseño.</span><span class="sxs-lookup"><span data-stu-id="3d524-153">To iteratively design aggregations, you send multiple `DesignAggregations` commands to provide fine control over the design process.</span></span> <span data-ttu-id="3d524-154">El Asistente para diseñar agregaciones usa este mismo enfoque para proporcionar un control exhaustivo sobre el proceso de diseño.</span><span class="sxs-lookup"><span data-stu-id="3d524-154">The Aggregation Design Wizard uses this same approach to provide fine control over the design process.</span></span> <span data-ttu-id="3d524-155">Para obtener más información, vea [Asistente para diseñar agregaciones (ayuda F1](../aggregation-design-wizard-f1-help.md)).</span><span class="sxs-lookup"><span data-stu-id="3d524-155">For more information, see [Aggregation Design Wizard F1 Help](../aggregation-design-wizard-f1-help.md).</span></span>  
  
> [!NOTE]  
>  <span data-ttu-id="3d524-156">Para diseñar agregaciones de forma iterativa, se requiere una sesión explícita.</span><span class="sxs-lookup"><span data-stu-id="3d524-156">An explicit session is required to iteratively design aggregations.</span></span> <span data-ttu-id="3d524-157">Para obtener más información sobre las sesiones explícitas, vea [Administrar conexiones y sesiones &#40;XMLA&#41;](managing-connections-and-sessions-xmla.md).</span><span class="sxs-lookup"><span data-stu-id="3d524-157">For more information about explicit sessions, see [Managing Connections and Sessions &#40;XMLA&#41;](managing-connections-and-sessions-xmla.md).</span></span>  
  
 <span data-ttu-id="3d524-158">Para iniciar el proceso iterativo, envíe primero un comando `DesignAggregations` que contenga la información siguiente:</span><span class="sxs-lookup"><span data-stu-id="3d524-158">To start the iterative process, you first send a `DesignAggregations` command that contains the following information:</span></span>  
  
-   <span data-ttu-id="3d524-159">Los valores de propiedad `Storage` y `Optimization` a los que va dirigido el proceso de diseño completo.</span><span class="sxs-lookup"><span data-stu-id="3d524-159">The `Storage` and `Optimization` property values on which the whole design process is targeted.</span></span>  
  
-   <span data-ttu-id="3d524-160">Los valores de propiedad `Steps` y `Time` en los que se limita el primer paso del proceso de diseño.</span><span class="sxs-lookup"><span data-stu-id="3d524-160">The `Steps` and `Time` property values on which the first step of the design process is limited.</span></span>  
  
-   <span data-ttu-id="3d524-161">Si se desea una optimización basada en uso, la propiedad `Queries` que contiene las consultas de objetivo a las que va dirigido el proceso de diseño completo.</span><span class="sxs-lookup"><span data-stu-id="3d524-161">If you want usage-based optimization, the `Queries` property that contains the goal queries on which the whole design process is targeted.</span></span>  
  
-   <span data-ttu-id="3d524-162">La propiedad `Materialize` está establecida en false.</span><span class="sxs-lookup"><span data-stu-id="3d524-162">The `Materialize` property set to false.</span></span> <span data-ttu-id="3d524-163">Establecer esta propiedad en false indica que el proceso de diseño no guarda las agregaciones definidas en el diseño de agregaciones una vez completado el comando.</span><span class="sxs-lookup"><span data-stu-id="3d524-163">Setting this property to false indicates that the design process does not save the defined aggregations to the aggregation design when the command is completed.</span></span>  
  
 <span data-ttu-id="3d524-164">Cuando finaliza el primer comando `DesignAggregations`, éste devuelve un conjunto de filas que contiene las estadísticas de diseño.</span><span class="sxs-lookup"><span data-stu-id="3d524-164">When the first `DesignAggregations` command finishes, the command returns a rowset that contains design statistics.</span></span> <span data-ttu-id="3d524-165">Puede evaluar estas estadísticas de diseño para determinar si el proceso de diseño debe continuar o si ha finalizado.</span><span class="sxs-lookup"><span data-stu-id="3d524-165">You can evaluate these design statistics to determine whether the design process should continue or whether the design process is finished.</span></span> <span data-ttu-id="3d524-166">Si el proceso debe continuar, entonces envíe otro comando `DesignAggregations` que contenga los valores `Steps` y `Time` con los que se limita este paso del proceso de diseño.</span><span class="sxs-lookup"><span data-stu-id="3d524-166">If the process should continue, you then send another `DesignAggregations` command that contains the `Steps` and `Time` values with which this step of the design process is limited.</span></span> <span data-ttu-id="3d524-167">Evalúe las estadísticas resultantes y, a continuación, determine si el proceso de diseño debe continuar.</span><span class="sxs-lookup"><span data-stu-id="3d524-167">You evaluate the resulting statistics and then determine whether the design process should continue.</span></span> <span data-ttu-id="3d524-168">Este proceso iterativo de enviar comandos `DesignAggregations` y evaluar los resultados continúa hasta que alcance sus objetivos y tenga un conjunto de agregaciones adecuado y definido.</span><span class="sxs-lookup"><span data-stu-id="3d524-168">This iterative process of sending `DesignAggregations` commands and evaluating the results continues until you reach your goals and have a appropriate set of aggregations defined.</span></span>  
  
 <span data-ttu-id="3d524-169">Cuando haya obtenido el conjunto de agregaciones que desea, envíe un último comando `DesignAggregations`.</span><span class="sxs-lookup"><span data-stu-id="3d524-169">After you have reached the set of aggregations that you want, you send one final `DesignAggregations` command.</span></span> <span data-ttu-id="3d524-170">Este último comando `DesignAggregations` debe tener su propiedad `Steps` establecida en 1 y su propiedad `Materialize` establecidas en true.</span><span class="sxs-lookup"><span data-stu-id="3d524-170">This final `DesignAggregations` command should have its `Steps` property set to 1 and its `Materialize` property set to true.</span></span> <span data-ttu-id="3d524-171">Al usar estos valores, este último comando `DesignAggregations` completa el proceso del diseño y guarda la agregación definida en el diseño de agregaciones.</span><span class="sxs-lookup"><span data-stu-id="3d524-171">By using these settings, this final `DesignAggregations` command completes the design process and saves the defined aggregation to the aggregation design.</span></span>  
  
### <a name="designing-aggregations-using-a-batch-process"></a><span data-ttu-id="3d524-172">Diseñar agregaciones mediante un proceso por lotes</span><span class="sxs-lookup"><span data-stu-id="3d524-172">Designing Aggregations Using a Batch Process</span></span>  
 <span data-ttu-id="3d524-173">También puede diseñar agregaciones en un proceso por lotes enviando un único comando `DesignAggregations` que contiene los valores de propiedad `Steps`, `Time`, `Storage` y `Optimization` a los que el proceso de diseño completo va dirigido y se limita.</span><span class="sxs-lookup"><span data-stu-id="3d524-173">You can also design aggregations in a batch process by sending a single `DesignAggregations` command that contains the `Steps`, `Time`, `Storage`, and `Optimization` property values on which the whole design process is targeted and limited.</span></span> <span data-ttu-id="3d524-174">Si desea una optimización basada en uso, las consultas de objetivo a las que se dirige el proceso de diseño deberían también estar incluidas en la propiedad `Queries`.</span><span class="sxs-lookup"><span data-stu-id="3d524-174">If you want usage-based optimization, the goal queries on which the design process is targeted should also be included in the `Queries` property.</span></span> <span data-ttu-id="3d524-175">Asegúrese también de que la propiedad `Materialize` está establecida en true, para que el proceso de diseño guarde las agregaciones definidas en el diseño de agregaciones cuando finaliza el comando.</span><span class="sxs-lookup"><span data-stu-id="3d524-175">Also make sure that the `Materialize` property is set to true, so that the design process saves the defined aggregations to the aggregation design when the command finishes.</span></span>  
  
 <span data-ttu-id="3d524-176">Puede diseñar agregaciones mediante un proceso por lotes en una sesión tanto implícita como explícita.</span><span class="sxs-lookup"><span data-stu-id="3d524-176">You can design aggregations using a batch process in either an implicit or explicit session.</span></span> <span data-ttu-id="3d524-177">Para obtener más información sobre las sesiones implícitas y explícitas, vea [Administrar conexiones y sesiones &#40;XMLA&#41;](managing-connections-and-sessions-xmla.md).</span><span class="sxs-lookup"><span data-stu-id="3d524-177">For more information about implicit and explicit sessions, see [Managing Connections and Sessions &#40;XMLA&#41;](managing-connections-and-sessions-xmla.md).</span></span>  
  
## <a name="returning-design-statistics"></a><span data-ttu-id="3d524-178">Devolver estadísticas de diseño</span><span class="sxs-lookup"><span data-stu-id="3d524-178">Returning Design Statistics</span></span>  
 <span data-ttu-id="3d524-179">Cuando el comando `DesignAggregations` devuelve el control a la aplicación cliente, el comando devuelve un conjunto de filas que contiene una fila única que representa las estadísticas de diseño para el comando.</span><span class="sxs-lookup"><span data-stu-id="3d524-179">When the `DesignAggregations` command returns control to the client application, the command returns a rowset that contains a single row representing the design statistics for the command.</span></span> <span data-ttu-id="3d524-180">El conjunto de filas contiene las columnas que se muestran en la tabla siguiente.</span><span class="sxs-lookup"><span data-stu-id="3d524-180">The rowset contains the columns listed in the following table.</span></span>  
  
|<span data-ttu-id="3d524-181">Columna</span><span class="sxs-lookup"><span data-stu-id="3d524-181">Column</span></span>|<span data-ttu-id="3d524-182">Tipo de datos</span><span class="sxs-lookup"><span data-stu-id="3d524-182">Data type</span></span>|<span data-ttu-id="3d524-183">Descripción</span><span class="sxs-lookup"><span data-stu-id="3d524-183">Description</span></span>|  
|------------|---------------|-----------------|  
|<span data-ttu-id="3d524-184">Pasos</span><span class="sxs-lookup"><span data-stu-id="3d524-184">Steps</span></span>|<span data-ttu-id="3d524-185">Entero</span><span class="sxs-lookup"><span data-stu-id="3d524-185">Integer</span></span>|<span data-ttu-id="3d524-186">El número de pasos que realiza el comando antes de devolver el control a la aplicación cliente.</span><span class="sxs-lookup"><span data-stu-id="3d524-186">The number of steps taken by the command before returning control to the client application.</span></span>|  
|<span data-ttu-id="3d524-187">Time</span><span class="sxs-lookup"><span data-stu-id="3d524-187">Time</span></span>|<span data-ttu-id="3d524-188">Entero largo</span><span class="sxs-lookup"><span data-stu-id="3d524-188">Long integer</span></span>|<span data-ttu-id="3d524-189">El número de milisegundos que tarda el comando antes de devolver el control a la aplicación cliente.</span><span class="sxs-lookup"><span data-stu-id="3d524-189">The number of milliseconds taken by the command before returning control to the client application.</span></span>|  
|<span data-ttu-id="3d524-190">Optimization</span><span class="sxs-lookup"><span data-stu-id="3d524-190">Optimization</span></span>|<span data-ttu-id="3d524-191">Double</span><span class="sxs-lookup"><span data-stu-id="3d524-191">Double</span></span>|<span data-ttu-id="3d524-192">El porcentaje estimado de mejora del rendimiento que alcanza el comando antes de devolver el control a la aplicación cliente.</span><span class="sxs-lookup"><span data-stu-id="3d524-192">The estimated percentage of performance improvement achieved by the command before returning control to the client application.</span></span>|  
|<span data-ttu-id="3d524-193">Storage</span><span class="sxs-lookup"><span data-stu-id="3d524-193">Storage</span></span>|<span data-ttu-id="3d524-194">Entero largo</span><span class="sxs-lookup"><span data-stu-id="3d524-194">Long integer</span></span>|<span data-ttu-id="3d524-195">El número estimado de bytes que toma el comando antes de devolver el control a la aplicación cliente.</span><span class="sxs-lookup"><span data-stu-id="3d524-195">The estimated number of bytes taken by the command before returning control to the client application.</span></span>|  
|<span data-ttu-id="3d524-196">Agregaciones</span><span class="sxs-lookup"><span data-stu-id="3d524-196">Aggregations</span></span>|<span data-ttu-id="3d524-197">Entero largo</span><span class="sxs-lookup"><span data-stu-id="3d524-197">Long integer</span></span>|<span data-ttu-id="3d524-198">El número de agregaciones definido por el comando antes de devolver el control a la aplicación cliente.</span><span class="sxs-lookup"><span data-stu-id="3d524-198">The number of aggregations defined by the command before returning control to the client application.</span></span>|  
|<span data-ttu-id="3d524-199">LastStep</span><span class="sxs-lookup"><span data-stu-id="3d524-199">LastStep</span></span>|<span data-ttu-id="3d524-200">Boolean</span><span class="sxs-lookup"><span data-stu-id="3d524-200">Boolean</span></span>|<span data-ttu-id="3d524-201">Indica si los datos en el conjunto de filas representan el último paso del proceso de diseño.</span><span class="sxs-lookup"><span data-stu-id="3d524-201">Indicates whether the data in the rowset represents the last step in the design process.</span></span> <span data-ttu-id="3d524-202">Si la propiedad `Materialize` del comando está establecida en true, el valor de esta columna está establecido en true.</span><span class="sxs-lookup"><span data-stu-id="3d524-202">If the `Materialize` property of the command was set to true,  the value of this column is set to true.</span></span>|  
  
 <span data-ttu-id="3d524-203">Puede usar las estadísticas de diseño contenidas en el conjunto de filas que se devuelve después de cada comando `DesignAggregations` en ambos diseños, iterativo y por lotes.</span><span class="sxs-lookup"><span data-stu-id="3d524-203">You can use the design statistics that are contained in the rowset returned after each `DesignAggregations` command in both iterative and batch design.</span></span> <span data-ttu-id="3d524-204">En diseño iterativo, puede usar estadísticas de diseño para determinar y mostrar el progreso.</span><span class="sxs-lookup"><span data-stu-id="3d524-204">In iterative design, you can use the design statistics to determine and display progress.</span></span> <span data-ttu-id="3d524-205">Cuando diseña agregaciones por lotes, puede usar estadísticas de diseño para determinar el número de agregaciones que crea el comando.</span><span class="sxs-lookup"><span data-stu-id="3d524-205">When you are designing aggregations in batch, you can use the design statistics to determine the number of aggregations created by the command.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="3d524-206">Consulte también</span><span class="sxs-lookup"><span data-stu-id="3d524-206">See Also</span></span>  
 [<span data-ttu-id="3d524-207">Desarrollar con XMLA en Analysis Services</span><span class="sxs-lookup"><span data-stu-id="3d524-207">Developing with XMLA in Analysis Services</span></span>](developing-with-xmla-in-analysis-services.md)  
  
  
