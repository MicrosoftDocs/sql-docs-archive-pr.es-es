---
title: Configurar el Firewall de Windows para permitir el acceso a Analysis Services | Microsoft Docs
ms.custom: ''
ms.date: 06/13/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: analysis-services
ms.topic: conceptual
helpviewer_keywords:
- ports [Analysis Services]
- Windows Firewall [Analysis Services]
- firewall systems [Analysis Services]
ms.assetid: 7673acc5-75f0-4703-9ce2-87425ea39d49
author: minewiskan
ms.author: owend
ms.openlocfilehash: f7d63b392148bf10a6b121dd4d201b7a7c61e0c4
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 08/04/2020
ms.locfileid: "87745513"
---
# <a name="configure-the-windows-firewall-to-allow-analysis-services-access"></a><span data-ttu-id="452a0-102">Configurar Firewall de Windows para permitir el acceso a Analysis Services</span><span class="sxs-lookup"><span data-stu-id="452a0-102">Configure the Windows Firewall to Allow Analysis Services Access</span></span>
  <span data-ttu-id="452a0-103">Un primer paso esencial para hacer que [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] o [!INCLUDE[ssGeminiShort](../../includes/ssgeminishort-md.md)] esté disponible en la red consiste en determinar si es necesario desbloquear puertos en un firewall.</span><span class="sxs-lookup"><span data-stu-id="452a0-103">An essential first step in making [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] or [!INCLUDE[ssGeminiShort](../../includes/ssgeminishort-md.md)] available on the network is to determine whether you need to unblock ports in a firewall.</span></span> <span data-ttu-id="452a0-104">La mayoría de las instalaciones necesitarán que cree al menos una regla de firewall de entrada que permita las conexiones a [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)].</span><span class="sxs-lookup"><span data-stu-id="452a0-104">Most installations will require that you create at least one in-bound firewall rule that allows connections to [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)].</span></span>  
  
 <span data-ttu-id="452a0-105">Los requisitos de configuración del firewall varían según cómo instalara [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)].</span><span class="sxs-lookup"><span data-stu-id="452a0-105">Firewall configuration requirements vary depending on how you installed [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)]:</span></span>  
  
-   <span data-ttu-id="452a0-106">Abra el puerto TCP 2383 al instalar una instancia predeterminada o crear un clúster de conmutación por error de [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] .</span><span class="sxs-lookup"><span data-stu-id="452a0-106">Open TCP port 2383 when installing a default instance or creating an [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] failover cluster.</span></span>  
  
-   <span data-ttu-id="452a0-107">Abra el puerto TCP 2382 al instalar una instancia con nombre.</span><span class="sxs-lookup"><span data-stu-id="452a0-107">Open TCP port 2382 when installing a named instance.</span></span> <span data-ttu-id="452a0-108">Las instancias con nombre usan asignaciones de puerto dinámicas.</span><span class="sxs-lookup"><span data-stu-id="452a0-108">Named instances use dynamic port assignments.</span></span> <span data-ttu-id="452a0-109">Igual que el servicio de detección de Analysis Services, el servicio SQL Server Browser escucha en el puerto TCP 2382 y redirige la solicitud de conexión al puerto utilizado actualmente por [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)].</span><span class="sxs-lookup"><span data-stu-id="452a0-109">As the discovery service for Analysis Services, SQL Server Browser service listens on TCP port 2382 and redirects the connection request to the port currently used by [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)].</span></span>  
  
-   <span data-ttu-id="452a0-110">Abra el puerto TCP 2382 al instalar [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] en modo de SharePoint para admitir [!INCLUDE[ssGeminiShort](../../includes/ssgeminishort-md.md)] 2013.</span><span class="sxs-lookup"><span data-stu-id="452a0-110">Open TCP port 2382 when installing [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] in SharePoint mode to support [!INCLUDE[ssGeminiShort](../../includes/ssgeminishort-md.md)] 2013.</span></span> <span data-ttu-id="452a0-111">En [!INCLUDE[ssGeminiShort](../../includes/ssgeminishort-md.md)] 2013, la instancia de [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] es externa para SharePoint.</span><span class="sxs-lookup"><span data-stu-id="452a0-111">In [!INCLUDE[ssGeminiShort](../../includes/ssgeminishort-md.md)] 2013, the [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] instance is external to SharePoint.</span></span> <span data-ttu-id="452a0-112">Las solicitudes de entrada a la instancia con nombre 'PowerPivot' se originan en aplicaciones web de SharePoint a través de una conexión de red, lo que requiere un puerto abierto.</span><span class="sxs-lookup"><span data-stu-id="452a0-112">Inbound requests to the named 'PowerPivot' instance originate from SharePoint web applications over a network connection, requiring an open port.</span></span> <span data-ttu-id="452a0-113">Como ocurre con otras instancias con nombre de [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] , cree una regla de entrada para el servicio SQL Server Browser en el puerto TCP 2382 para permitir el acceso a [!INCLUDE[ssGeminiShort](../../includes/ssgeminishort-md.md)].</span><span class="sxs-lookup"><span data-stu-id="452a0-113">As with other [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] named instances, create an inbound rule for SQL Server Browser service on TCP 2382 to allow access to [!INCLUDE[ssGeminiShort](../../includes/ssgeminishort-md.md)].</span></span>  
  
-   <span data-ttu-id="452a0-114">En [!INCLUDE[ssGeminiShort](../../includes/ssgeminishort-md.md)] 2010, no abra puertos en Firewall de Windows.</span><span class="sxs-lookup"><span data-stu-id="452a0-114">For [!INCLUDE[ssGeminiShort](../../includes/ssgeminishort-md.md)] 2010, do not open ports in Windows Firewall.</span></span> <span data-ttu-id="452a0-115">Como complemento de SharePoint, el servicio usa los puertos configurados para SharePoint y solo realiza conexiones locales a la instancia de [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] que carga y consulta modelos de datos de [!INCLUDE[ssGemini](../../includes/ssgemini-md.md)] .</span><span class="sxs-lookup"><span data-stu-id="452a0-115">As an add-in to SharePoint, the service uses ports configured for SharePoint and makes only local connections to the [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] instance that loads and queries [!INCLUDE[ssGemini](../../includes/ssgemini-md.md)] data models.</span></span>  
  
-   <span data-ttu-id="452a0-116">En el caso de [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] instancias que se ejecutan en Azure virtual machines, use instrucciones alternativas para configurar el acceso al servidor.</span><span class="sxs-lookup"><span data-stu-id="452a0-116">For [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] instances running on Azure Virtual Machines, use alternate instructions for configuring server access.</span></span> <span data-ttu-id="452a0-117">Consulte [SQL Server Business Intelligence en Azure virtual machines](https://msdn.microsoft.com/library/windowsazure/jj992719.aspx).</span><span class="sxs-lookup"><span data-stu-id="452a0-117">See [SQL Server Business Intelligence in Azure Virtual Machines](https://msdn.microsoft.com/library/windowsazure/jj992719.aspx).</span></span>  
  
 <span data-ttu-id="452a0-118">Aunque la instancia predeterminada de escucha [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] en el puerto TCP 2383, puede configurar el servidor para que escuche en otro puerto fijo, conectándose al servidor en este formato: \<servername> : \<portnumber> .</span><span class="sxs-lookup"><span data-stu-id="452a0-118">Although the default instance of [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] listens on TCP port 2383, you can configure the server to listen on a different fixed port, connecting to the server in this format: \<servername>:\<portnumber>.</span></span>  
  
 <span data-ttu-id="452a0-119">Una instancia de [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] solo puede utilizar un puerto TCP.</span><span class="sxs-lookup"><span data-stu-id="452a0-119">Only one TCP port can be used by an [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] instance.</span></span> <span data-ttu-id="452a0-120">En los equipos que tienen varias tarjetas de red o varias direcciones IP, [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] escucha en un puerto TCP para todas las direcciones IP asignadas o con alias en el equipo.</span><span class="sxs-lookup"><span data-stu-id="452a0-120">On computers having multiple network cards or multiple IP addresses, [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] listens on one TCP port for all IP addresses assigned or aliased to the computer.</span></span> <span data-ttu-id="452a0-121">Si tiene requisitos específicos de varios puertos, considere la posibilidad de configurar [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] para el acceso HTTP.</span><span class="sxs-lookup"><span data-stu-id="452a0-121">If you have specific multi-port requirements, consider configuring [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] for HTTP access.</span></span> <span data-ttu-id="452a0-122">Después puede configurar varios extremos HTTP en los puertos que elija.</span><span class="sxs-lookup"><span data-stu-id="452a0-122">You can then set up multiple HTTP endpoints on whatever ports you choose.</span></span> <span data-ttu-id="452a0-123">Vea [Configurar el acceso HTTP a Analysis Services en Internet Information Services &#40;IIS&#41; 8.0](configure-http-access-to-analysis-services-on-iis-8-0.md).</span><span class="sxs-lookup"><span data-stu-id="452a0-123">See [Configure HTTP Access to Analysis Services on Internet Information Services &#40;IIS&#41; 8.0](configure-http-access-to-analysis-services-on-iis-8-0.md).</span></span>  
  
 <span data-ttu-id="452a0-124">Este tema contiene las siguientes secciones:</span><span class="sxs-lookup"><span data-stu-id="452a0-124">This topic contains the following sections:</span></span>  
  
-   [<span data-ttu-id="452a0-125">Comprobar la configuración de puertos y del firewall para Analysis Services</span><span class="sxs-lookup"><span data-stu-id="452a0-125">Check port and firewall settings for Analysis Services</span></span>](#bkmk_checkport)  
  
-   [<span data-ttu-id="452a0-126">Configurar el Firewall de Windows para una instancia predeterminada de Analysis Services</span><span class="sxs-lookup"><span data-stu-id="452a0-126">Configure Windows Firewall for a default instance of Analysis Services</span></span>](#bkmk_default)  
  
-   [<span data-ttu-id="452a0-127">Configurar el acceso de Firewall de Windows para una instancia con nombre de Analysis Services</span><span class="sxs-lookup"><span data-stu-id="452a0-127">Configure Windows Firewall access for a named instance of Analysis Services</span></span>](#bkmk_named)  
  
-   [<span data-ttu-id="452a0-128">Configuración de puertos para un clúster de Analysis Services</span><span class="sxs-lookup"><span data-stu-id="452a0-128">Port configuration for an Analysis Services cluster</span></span>](#bkmk_cluster)  
  
-   [<span data-ttu-id="452a0-129">Configuración de puertos de PowerPivot para SharePoint</span><span class="sxs-lookup"><span data-stu-id="452a0-129">Port configuration for PowerPivot for SharePoint</span></span>](#bkmk_powerpivot)  
  
-   [<span data-ttu-id="452a0-130">Utilizar un puerto fijo para una instancia predeterminada o con nombre de Analysis Services</span><span class="sxs-lookup"><span data-stu-id="452a0-130">Use a fixed port for a default or named instance of Analysis Services</span></span>](#bkmk_fixed)  
  
 <span data-ttu-id="452a0-131">Para obtener más información sobre la configuración predeterminada de Firewall de Windows y una descripción de los puertos TCP que afectan al motor de base de datos, Analysis Services, Reporting Services e Integration Services, vea [Configurar Firewall de Windows para permitir el acceso a SQL Server](../../sql-server/install/configure-the-windows-firewall-to-allow-sql-server-access.md).</span><span class="sxs-lookup"><span data-stu-id="452a0-131">For more information about the default Windows firewall settings, and a description of the TCP ports that affect the Database Engine, Analysis Services, Reporting Services, and Integration Services, see [Configure the Windows Firewall to Allow SQL Server Access](../../sql-server/install/configure-the-windows-firewall-to-allow-sql-server-access.md).</span></span>  
  
##  <a name="check-port-and-firewall-settings-for-analysis-services"></a><a name="bkmk_checkport"></a><span data-ttu-id="452a0-132">Comprobar la configuración del puerto y del firewall para Analysis Services</span><span class="sxs-lookup"><span data-stu-id="452a0-132">Check port and firewall settings for Analysis Services</span></span>  
 <span data-ttu-id="452a0-133">En los sistemas operativos Microsoft Windows compatibles con [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)], Firewall de Windows está activado de forma predeterminada y bloquea las conexiones remotas.</span><span class="sxs-lookup"><span data-stu-id="452a0-133">On the Microsoft Windows operating systems that are supported by [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)], Windows Firewall is on by default and is blocking remote connections.</span></span> <span data-ttu-id="452a0-134">Debe abrir manualmente un puerto en el firewall para permitir las solicitudes de entrada en Analysis Services.</span><span class="sxs-lookup"><span data-stu-id="452a0-134">You must manually open a port in the firewall to allow inbound requests to Analysis Services.</span></span> <span data-ttu-id="452a0-135">El programa de instalación de SQL Server no realiza este paso automáticamente.</span><span class="sxs-lookup"><span data-stu-id="452a0-135">SQL Server Setup does not perform this step for you.</span></span>  
  
 <span data-ttu-id="452a0-136">La configuración de puertos se especifica en el archivo msmdsrv.ini y en la página Propiedades generales de una instancia de Analysis Services en SQL Server Management Studio.</span><span class="sxs-lookup"><span data-stu-id="452a0-136">Port settings are specified in the msmdsrv.ini file and in the General properties page of an Analysis Services instance in SQL Server Management Studio.</span></span> <span data-ttu-id="452a0-137">Si `Port` está establecido en un entero positivo, el servicio está escuchando en un puerto fijo.</span><span class="sxs-lookup"><span data-stu-id="452a0-137">If `Port` is set to a positive integer, the service is listening on a fixed port.</span></span> <span data-ttu-id="452a0-138">Si `Port` está establecido en 0, el servicio está escuchando en el puerto 2383 si es la instancia predeterminada o en un puerto asignado dinámicamente si es una instancia con nombre.</span><span class="sxs-lookup"><span data-stu-id="452a0-138">If `Port` is set to 0, the service is listening on port 2383 if it is the default instance or on a dynamically assigned port if it is a named instance.</span></span>  
  
 <span data-ttu-id="452a0-139">Las asignaciones dinámicas de puerto solo las usan las instancias con nombre.</span><span class="sxs-lookup"><span data-stu-id="452a0-139">Dynamic port assignments are only used by named instances.</span></span> <span data-ttu-id="452a0-140">El servicio `MSOLAP$InstanceName` determina qué puerto utilizará cuando se inicie.</span><span class="sxs-lookup"><span data-stu-id="452a0-140">The `MSOLAP$InstanceName` service determines which port to use when it starts up.</span></span> <span data-ttu-id="452a0-141">Puede determinar el número de puerto real en uso por una instancia con nombre haciendo lo siguiente:</span><span class="sxs-lookup"><span data-stu-id="452a0-141">You can determine the actual port number in use by a named instance by doing the following:</span></span>  
  
-   <span data-ttu-id="452a0-142">Inicie el administrador de tareas y haga clic en **servicios** para obtener el PID de `MSOLAP$InstanceName` .</span><span class="sxs-lookup"><span data-stu-id="452a0-142">Start Task Manager and then click **Services** to get the PID of the `MSOLAP$InstanceName`.</span></span>  
  
-   <span data-ttu-id="452a0-143">Ejecute `netstat -ao -p TCP` desde la línea de comandos para ver la información del puerto TCP para ese PID.</span><span class="sxs-lookup"><span data-stu-id="452a0-143">Run `netstat -ao -p TCP` from the command line to view the TCP port information for that PID.</span></span>  
  
-   <span data-ttu-id="452a0-144">Compruebe el puerto mediante SQL Server Management Studio y conéctese a un servidor de Analysis Services en este formato: \<IPAddress> : \<portnumber> .</span><span class="sxs-lookup"><span data-stu-id="452a0-144">Verify the port by using SQL Server Management Studio and connect to an Analysis Services server in this format: \<IPAddress>:\<portnumber>.</span></span>  
  
 <span data-ttu-id="452a0-145">Aunque una aplicación podría estar escuchando en un puerto concreto, las conexiones no tendrán éxito si un firewall está bloqueando el acceso.</span><span class="sxs-lookup"><span data-stu-id="452a0-145">Although an application might be listening on a specific port, connections will not succeed if a firewall is blocking access.</span></span> <span data-ttu-id="452a0-146">Para que las conexiones alcancen una instancia con nombre de Analysis Services, debe desbloquear el acceso a msmdsrv.exe o al puerto fijo en el que está escuchando en el firewall.</span><span class="sxs-lookup"><span data-stu-id="452a0-146">In order for connections to reach a named Analysis Services instance, you must unblock access to either msmdsrv.exe or the fixed port on which it is listening in the firewall.</span></span> <span data-ttu-id="452a0-147">En las secciones restantes de este tema se proporcionan instrucciones para hacerlo.</span><span class="sxs-lookup"><span data-stu-id="452a0-147">The remaining sections in this topic provide instructions for doing so.</span></span>  
  
 <span data-ttu-id="452a0-148">Para comprobar si la configuración del firewall ya está definida para Analysis Services, utilice Firewall de Windows con seguridad avanzada en el Panel de control.</span><span class="sxs-lookup"><span data-stu-id="452a0-148">To check whether firewall settings are already defined for Analysis Services, use Windows Firewall with Advanced Security in Control Panel.</span></span> <span data-ttu-id="452a0-149">La página Firewall de la carpeta Supervisión muestra una lista completa de las reglas definidas para el servidor local.</span><span class="sxs-lookup"><span data-stu-id="452a0-149">The Firewall page in the Monitoring folder shows a complete list of the rules defined for the local server.</span></span>  
  
 <span data-ttu-id="452a0-150">Tenga en cuenta que para [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)], todas las reglas de firewall debe definirse manualmente.</span><span class="sxs-lookup"><span data-stu-id="452a0-150">Note that for [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)], all firewall rules must be manually defined.</span></span> <span data-ttu-id="452a0-151">Aunque [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] y SQL Server Browser reservan los puertos 2382 y 2383, ni el programa de instalación de SQL Server ni ninguna de las herramientas de configuración definen reglas de firewall que permitan el acceso a los puertos o los archivos ejecutables del programa.</span><span class="sxs-lookup"><span data-stu-id="452a0-151">Although [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] and SQL Server Browser reserve ports 2382 and 2383, neither the SQL Server setup program nor any of the configuration tools define firewall rules that allow access to either the ports or the program executable files.</span></span>  
  
##  <a name="configure-windows-firewall-for-a-default-instance-of-analysis-services"></a><a name="bkmk_default"></a> <span data-ttu-id="452a0-152">Configurar Firewall de Windows para una instancia predeterminada de Analysis Services</span><span class="sxs-lookup"><span data-stu-id="452a0-152">Configure Windows Firewall for a default instance of Analysis Services</span></span>  
 <span data-ttu-id="452a0-153">La instancia predeterminada de [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] escucha en el puerto TCP 2383.</span><span class="sxs-lookup"><span data-stu-id="452a0-153">The default instance of [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] listens on TCP port 2383.</span></span> <span data-ttu-id="452a0-154">Si instaló la instancia predeterminada y desea usar este puerto, solo tiene que desbloquear el acceso de entrada al puerto TCP 2383 en Firewall de Windows para habilitar el acceso remoto a la instancia predeterminada de [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)].</span><span class="sxs-lookup"><span data-stu-id="452a0-154">If you installed the default instance and want to use this port, you only need to unblock inbound access to TCP port 2383 in Windows Firewall to enable remote access to the default instance of [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)].</span></span> <span data-ttu-id="452a0-155">Si instaló la instancia predeterminada pero desea configurar el servicio para que escuche en un puerto fijo, vea [Utilizar un puerto fijo para una instancia predeterminada o con nombre de Analysis Services](#bkmk_fixed) en este tema.</span><span class="sxs-lookup"><span data-stu-id="452a0-155">If you installed the default instance but want to configure the service to listen on a fixed port, see [Use a fixed port for a default or named instance of Analysis Services](#bkmk_fixed) in this topic.</span></span>  
  
 <span data-ttu-id="452a0-156">Para comprobar si el servicio se está ejecutando como la instancia predeterminada (MSSQLServerOLAPService), compruebe el nombre del servicio en el Administrador de configuración de SQL Server.</span><span class="sxs-lookup"><span data-stu-id="452a0-156">To verify whether the service is running as the default instance (MSSQLServerOLAPService), check the service name in SQL Server Configuration Manager.</span></span> <span data-ttu-id="452a0-157">Una instancia predeterminada de Analysis Services siempre se muestra como **SQL Server Analysis Services (MSSQLSERVER)**.</span><span class="sxs-lookup"><span data-stu-id="452a0-157">A default instance of Analysis Services is always listed as **SQL Server Analysis Services (MSSQLSERVER)**.</span></span>  
  
> [!NOTE]  
>  <span data-ttu-id="452a0-158">Los distintos sistemas operativos Windows proporcionan herramientas alternativas para configurar Firewall de Windows.</span><span class="sxs-lookup"><span data-stu-id="452a0-158">Different Windows operating systems provide alternative tools for configuring Windows Firewall.</span></span> <span data-ttu-id="452a0-159">La mayoría de estas herramientas le permiten elegir entre abrir un puerto o un programa ejecutable concreto.</span><span class="sxs-lookup"><span data-stu-id="452a0-159">Most of these tools let you choose between opening a specific port or program executable.</span></span> <span data-ttu-id="452a0-160">A menos que tenga una razón para especificar el programa ejecutable, recomendamos que especifique el puerto.</span><span class="sxs-lookup"><span data-stu-id="452a0-160">Unless you have a reason for specifying the program executable, we recommend that you specify the port.</span></span>  
  
 <span data-ttu-id="452a0-161">Al especificar una regla de entrada, asegúrese de adoptar una convención de nomenclatura que le permita encontrar fácilmente las reglas más adelante, por ejemplo, **SQL Server Analysis Services (TCP-entrada) 2383**.</span><span class="sxs-lookup"><span data-stu-id="452a0-161">When specifying an inbound rule, be sure to adopt a naming convention that allows you to easily find the rules later (for example, **SQL Server Analysis Services (TCP-in) 2383**).</span></span>  
  
#### <a name="windows-firewall-with-advanced-security"></a><span data-ttu-id="452a0-162">Firewall de Windows con seguridad avanzada</span><span class="sxs-lookup"><span data-stu-id="452a0-162">Windows Firewall with Advanced Security</span></span>  
  
1.  <span data-ttu-id="452a0-163">En Windows 7 o Windows Vista, en el Panel de control, haga clic en **Sistema y seguridad**, seleccione **Firewall de Windows**y haga clic en **Configuración avanzada**.</span><span class="sxs-lookup"><span data-stu-id="452a0-163">On Windows 7 or Windows Vista, in Control Panel, click **System and Security**, select **Windows Firewall**, and then click **Advanced settings**.</span></span> <span data-ttu-id="452a0-164">En Windows Server 2008 o 2008 R2, abra Herramientas administrativas y haga clic en **Firewall de Windows con seguridad avanzada**.</span><span class="sxs-lookup"><span data-stu-id="452a0-164">On Windows Server 2008 or 2008 R2, open Administrator Tools and click **Windows Firewall with Advanced Security**.</span></span> <span data-ttu-id="452a0-165">En Windows Server 2012, abra la página Aplicaciones y escriba **Firewall de Windows**.</span><span class="sxs-lookup"><span data-stu-id="452a0-165">On Windows Server 2012, open the Applications page and type **Windows Firewall**.</span></span>  
  
2.  <span data-ttu-id="452a0-166">Haga clic con el botón derecho en **Reglas de entrada** y seleccione **Nueva regla**.</span><span class="sxs-lookup"><span data-stu-id="452a0-166">Right-click **Inbound Rules** and select **New Rule**.</span></span>  
  
3.  <span data-ttu-id="452a0-167">En tipo de regla, haga clic en `Port` y después en **siguiente**.</span><span class="sxs-lookup"><span data-stu-id="452a0-167">In Rule Type, click `Port` and then click **Next**.</span></span>  
  
4.  <span data-ttu-id="452a0-168">En protocolo y puertos, seleccione **TCP** y, a continuación, escriba `2383` en **puertos locales específicos**.</span><span class="sxs-lookup"><span data-stu-id="452a0-168">In Protocol and Ports, select **TCP** and then type `2383` in **Specific local ports**.</span></span>  
  
5.  <span data-ttu-id="452a0-169">En Acción, haga clic en **Permitir la conexión** y, después, haga clic en **Siguiente**.</span><span class="sxs-lookup"><span data-stu-id="452a0-169">In Action, click **Allow the connection** and then click **Next**.</span></span>  
  
6.  <span data-ttu-id="452a0-170">En Perfil, borre cualquier ubicación de red que no sea aplicable y haga clic en **Siguiente**.</span><span class="sxs-lookup"><span data-stu-id="452a0-170">In Profile, clear any network locations that do not apply and then click **Next**.</span></span>  
  
7.  <span data-ttu-id="452a0-171">En nombre, escriba un nombre descriptivo para esta regla (por ejemplo, `SQL Server Analysis Services (tcp-in) 2383` ) y, a continuación, haga clic en **Finalizar**.</span><span class="sxs-lookup"><span data-stu-id="452a0-171">In Name, type a descriptive name for this rule (for example, `SQL Server Analysis Services (tcp-in) 2383`), and then click **Finish**.</span></span>  
  
8.  <span data-ttu-id="452a0-172">Para comprobar que las conexiones remotas están habilitadas, abra SQL Server Management Studio o Excel en un equipo diferente y conéctese a [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] especificando el nombre de red del servidor en **Nombre de servidor**.</span><span class="sxs-lookup"><span data-stu-id="452a0-172">To verify that remote connections are enabled, open SQL Server Management Studio or Excel on a different computer and connect to [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] by specifying the network name of the server in **Server name**.</span></span>  
  
    > [!NOTE]  
    >  <span data-ttu-id="452a0-173">Otros usuarios no tendrán acceso a este servidor hasta que les conceda permisos.</span><span class="sxs-lookup"><span data-stu-id="452a0-173">Other users will not have access to this server until you grant permissions.</span></span> <span data-ttu-id="452a0-174">Para obtener más información, vea [Cómo autorizar el acceso a objetos y operaciones &#40;Analysis Services&#41;](../multidimensional-models/authorizing-access-to-objects-and-operations-analysis-services.md).</span><span class="sxs-lookup"><span data-stu-id="452a0-174">For more information, see [Authorizing access to objects and operations &#40;Analysis Services&#41;](../multidimensional-models/authorizing-access-to-objects-and-operations-analysis-services.md).</span></span>  
  
#### <a name="netsh-advfirewall-syntax"></a><span data-ttu-id="452a0-175">Sintaxis de Netsh AdvFirewall</span><span class="sxs-lookup"><span data-stu-id="452a0-175">Netsh AdvFirewall Syntax</span></span>  
  
-   <span data-ttu-id="452a0-176">El siguiente comando crea una regla de entrada que permite solicitudes entrantes en el puerto TCP 2383.</span><span class="sxs-lookup"><span data-stu-id="452a0-176">The following command creates an inbound rule that allows incoming requests on TCP port 2383.</span></span>  
  
    ```  
    netsh advfirewall firewall add rule name="SQL Server Analysis Services inbound on TCP 2383" dir=in action=allow protocol=TCP localport=2383 profile=domain  
    ```  
  
##  <a name="configure-windows-firewall-access-for-a-named-instance-of-analysis-services"></a><a name="bkmk_named"></a><span data-ttu-id="452a0-177">Configurar el acceso de Firewall de Windows para una instancia con nombre de Analysis Services</span><span class="sxs-lookup"><span data-stu-id="452a0-177">Configure Windows Firewall access for a named instance of Analysis Services</span></span>  
 <span data-ttu-id="452a0-178">Las instancias con nombre de [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] pueden escuchar en un puerto fijo o en un puerto asignado dinámicamente, donde el servicio SQL Server Browser proporciona información de la conexión actual para el servicio en el momento de la conexión.</span><span class="sxs-lookup"><span data-stu-id="452a0-178">Named instances of [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] can either listen on a fixed port or on a dynamically assigned port, where SQL Server Browser service provides the connection information that is current for the service at the time of the connection.</span></span>  
  
 <span data-ttu-id="452a0-179">El servicio SQL Server Browser escucha en el puerto TCP 2382.</span><span class="sxs-lookup"><span data-stu-id="452a0-179">SQL Server Browser service listens on TCP port 2382.</span></span> <span data-ttu-id="452a0-180">No se usa UDP.</span><span class="sxs-lookup"><span data-stu-id="452a0-180">UDP is not used.</span></span> <span data-ttu-id="452a0-181">TCP es el único protocolo de transmisión que usa [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)].</span><span class="sxs-lookup"><span data-stu-id="452a0-181">TCP is the only transmission protocol used by [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)].</span></span>  
  
 <span data-ttu-id="452a0-182">Elija uno de los siguientes métodos para habilitar el acceso remoto a una instancia con nombre de Analysis Services:</span><span class="sxs-lookup"><span data-stu-id="452a0-182">Choose one of the following approaches to enable remote access to a named instance of Analysis Services:</span></span>  
  
-   <span data-ttu-id="452a0-183">Use asignaciones dinámicas de puertos y el servicio SQL Server Browser.</span><span class="sxs-lookup"><span data-stu-id="452a0-183">Use dynamic port assignments and SQL Server Browser service.</span></span> <span data-ttu-id="452a0-184">Desbloquee el puerto utilizado por el servicio SQL Server Browser en Firewall de Windows.</span><span class="sxs-lookup"><span data-stu-id="452a0-184">Unblock the port used by SQL Server Browser service in Windows Firewall.</span></span> <span data-ttu-id="452a0-185">Conéctese al servidor con este formato: \<servername> \\<nombreDeInstancia \> .</span><span class="sxs-lookup"><span data-stu-id="452a0-185">Connect to the server in this format: \<servername>\\<instancename\>.</span></span>  
  
-   <span data-ttu-id="452a0-186">Use un puerto fijo y el servicio SQL Server Browser conjuntamente.</span><span class="sxs-lookup"><span data-stu-id="452a0-186">Use a fixed port and SQL Server Browser service together.</span></span> <span data-ttu-id="452a0-187">Este enfoque le permite conectarse con este formato: \<servername> \\<InstanceName \> , idéntico al enfoque de asignación dinámica de puertos, excepto que en este caso el servidor escucha en un puerto fijo.</span><span class="sxs-lookup"><span data-stu-id="452a0-187">This approach lets you connect using this format: \<servername>\\<instancename\>, identical to the dynamic port assignment approach, except that in this case the server listens on a fixed port.</span></span> <span data-ttu-id="452a0-188">En este escenario, el Servicio SQL Server Browser proporciona la resolución de nombres a la instancia de Analysis Services que escucha en el puerto fijo.</span><span class="sxs-lookup"><span data-stu-id="452a0-188">In this scenario, SQL Server Browser Service provides name resolution to the Analysis Services instance listening on the fixed port.</span></span> <span data-ttu-id="452a0-189">Para usar este método, configure el servidor para que escuche en un puerto fijo y desbloquee el acceso a dicho puerto y al puerto utilizado por el servicio SQL Server Browser.</span><span class="sxs-lookup"><span data-stu-id="452a0-189">To use this approach, configure the server to listen on a fixed port, unblock access to that port, and unblock access to the port used by SQL Server Browser service.</span></span>  
  
 <span data-ttu-id="452a0-190">El servicio SQL Server Browser solo se usa con instancias con nombre, nunca con la instancia predeterminada.</span><span class="sxs-lookup"><span data-stu-id="452a0-190">SQL Server Browser service is only used with named instances, never with the default instance.</span></span> <span data-ttu-id="452a0-191">El servicio se instala y habilita de modo automático siempre que se instala una característica de SQL Server como una instancia con nombre.</span><span class="sxs-lookup"><span data-stu-id="452a0-191">The service is automatically installed and enabled whenever you install any SQL Server feature as a named instance.</span></span> <span data-ttu-id="452a0-192">Si elige un método que requiera el servicio SQL Server Browser, asegúrese de que permanece habilitado e iniciado en el servidor.</span><span class="sxs-lookup"><span data-stu-id="452a0-192">If you choose an approach that requires SQL Server Browser service, be sure it remains enabled and started on your server.</span></span>  
  
 <span data-ttu-id="452a0-193">Si no puede utilizar el servicio SQL Server Browser, debe asignar un puerto fijo en la cadena de conexión, omitiendo la resolución de nombres de dominio.</span><span class="sxs-lookup"><span data-stu-id="452a0-193">If you cannot use SQL Server Browser service, you must assign a fixed port in the connection string, bypassing domain name resolution.</span></span> <span data-ttu-id="452a0-194">Sin el servicio SQL Server Browser, todas las conexiones de cliente deben incluir el número de puerto en la cadena de conexión (por ejemplo, AW-SRV01:54321).</span><span class="sxs-lookup"><span data-stu-id="452a0-194">Without SQL Server Browser service, all client connections must include the port number on the connection string (for example, AW-SRV01:54321).</span></span>  
  
 <span data-ttu-id="452a0-195">**Opción 1: usar las asignaciones dinámicas de puerto y desbloquear el acceso al servicio SQL Server Browser**</span><span class="sxs-lookup"><span data-stu-id="452a0-195">**Option 1: Use dynamic port assignments and unblock access to SQL Server Browser service**</span></span>  
  
 <span data-ttu-id="452a0-196">`MSOLAP$InstanceName` establece las asignaciones dinámicas de puerto para las instancias con nombre de Analysis Services cuando se inicia el servicio.</span><span class="sxs-lookup"><span data-stu-id="452a0-196">Dynamic port assignments for named instances of Analysis Services are established by the `MSOLAP$InstanceName` when the service starts.</span></span> <span data-ttu-id="452a0-197">De forma predeterminada, el servicio reclama el primer número de puerto disponible que encuentra, utilizando un número de puerto diferente cada vez que se reinicia el servicio.</span><span class="sxs-lookup"><span data-stu-id="452a0-197">By default, the service claims the first available port number that it finds, using a different port number each time the service is restarted.</span></span>  
  
 <span data-ttu-id="452a0-198">El servicio SQL Server Browser administra la resolución de nombres de instancia.</span><span class="sxs-lookup"><span data-stu-id="452a0-198">Instance name resolution is handled by the SQL Server browser service.</span></span> <span data-ttu-id="452a0-199">Siempre es necesario desbloquear el puerto TCP 2382 para el servicio SQL Server Browser en el caso de que se usen asignaciones dinámicas de puerto con una instancia con nombre.</span><span class="sxs-lookup"><span data-stu-id="452a0-199">Unblocking TCP port 2382 for SQL Server Browser service is always required if you are using dynamic port assignments with a named instance.</span></span>  
  
> [!NOTE]  
>  <span data-ttu-id="452a0-200">El servicio SQL Server Browser escucha en el puerto UDP 1434 y en el puerto TCP 2382 para el Motor de base de datos y Analysis Services, respectivamente.</span><span class="sxs-lookup"><span data-stu-id="452a0-200">SQL Server Browser service listens on both UDP port 1434 and TCP port 2382 for the Database Engine and Analysis Services, respectively.</span></span> <span data-ttu-id="452a0-201">Aunque ya desbloqueara el puerto UDP 1434 para el servicio SQL Server Browser, debe seguir desbloqueando el puerto TCP 2382 para Analysis Services.</span><span class="sxs-lookup"><span data-stu-id="452a0-201">Even if you already unblocked UDP port 1434 for the SQL Server Browser service, you must still unblock TCP port 2382 for Analysis Services.</span></span>  
  
#### <a name="windows-firewall-with-advanced-security"></a><span data-ttu-id="452a0-202">Firewall de Windows con seguridad avanzada</span><span class="sxs-lookup"><span data-stu-id="452a0-202">Windows Firewall with Advanced Security</span></span>  
  
1.  <span data-ttu-id="452a0-203">En Windows 7 o Windows Vista, en el Panel de control, haga clic en **Sistema y seguridad**, seleccione **Firewall de Windows**y haga clic en **Configuración avanzada**.</span><span class="sxs-lookup"><span data-stu-id="452a0-203">On Windows 7 or Windows Vista, in Control Panel, click **System and Security**, select **Windows Firewall**, and then click **Advanced settings**.</span></span> <span data-ttu-id="452a0-204">En Windows Server 2008 o 2008 R2, abra Herramientas administrativas y haga clic en **Firewall de Windows con seguridad avanzada**.</span><span class="sxs-lookup"><span data-stu-id="452a0-204">On Windows Server 2008 or 2008 R2, open Administrator Tools and click **Windows Firewall with Advanced Security**.</span></span> <span data-ttu-id="452a0-205">En Windows Server 2012, abra la página Aplicaciones y escriba **Firewall de Windows**.</span><span class="sxs-lookup"><span data-stu-id="452a0-205">On Windows Server 2012, open the Applications page and type **Windows Firewall**.</span></span>  
  
2.  <span data-ttu-id="452a0-206">Para desbloquear el acceso al servicio SQL Server Browser, haga clic con el botón derecho en **Reglas de entrada** y seleccione **Nueva regla**.</span><span class="sxs-lookup"><span data-stu-id="452a0-206">To unblock access to SQL Server Browser service, right-click **Inbound Rules** and select **New Rule**.</span></span>  
  
3.  <span data-ttu-id="452a0-207">En tipo de regla, haga clic en `Port` y después en **siguiente**.</span><span class="sxs-lookup"><span data-stu-id="452a0-207">In Rule Type, click `Port` and then click **Next**.</span></span>  
  
4.  <span data-ttu-id="452a0-208">En protocolo y puertos, seleccione **TCP** y, a continuación, escriba `2382` en **puertos locales específicos**.</span><span class="sxs-lookup"><span data-stu-id="452a0-208">In Protocol and Ports, select **TCP** and then type `2382` in **Specific local ports**.</span></span>  
  
5.  <span data-ttu-id="452a0-209">En Acción, haga clic en **Permitir la conexión** y, después, haga clic en **Siguiente**.</span><span class="sxs-lookup"><span data-stu-id="452a0-209">In Action, click **Allow the connection** and then click **Next**.</span></span>  
  
6.  <span data-ttu-id="452a0-210">En Perfil, borre cualquier ubicación de red que no sea aplicable y haga clic en **Siguiente**.</span><span class="sxs-lookup"><span data-stu-id="452a0-210">In Profile, clear any network locations that do not apply and then click **Next**.</span></span>  
  
7.  <span data-ttu-id="452a0-211">En nombre, escriba un nombre descriptivo para esta regla (por ejemplo, `SQL Server Browser Service (tcp-in) 2382` ) y, a continuación, haga clic en **Finalizar**.</span><span class="sxs-lookup"><span data-stu-id="452a0-211">In Name, type a descriptive name for this rule (for example, `SQL Server Browser Service (tcp-in) 2382`), and then click **Finish**.</span></span>  
  
8.  <span data-ttu-id="452a0-212">Para comprobar que las conexiones remotas están habilitadas, abra SQL Server Management Studio o Excel en un equipo diferente y conéctese al Analysis Services especificando el nombre de red del servidor y el nombre de instancia en este formato: \<servername> \\<nombreDeInstancia \> .</span><span class="sxs-lookup"><span data-stu-id="452a0-212">To verify that remote connections are enabled, open SQL Server Management Studio or Excel on a different computer and connect to the Analysis Services by specifying the network name of the server and the instance name in this format: \<servername>\\<instancename\>.</span></span> <span data-ttu-id="452a0-213">Por ejemplo, en un servidor denominado **AW-SRV01** con una instancia con nombre denominada **Finanzas**, el nombre del servidor es **AW-SRV01\Finanzas**.</span><span class="sxs-lookup"><span data-stu-id="452a0-213">For example, on a server named **AW-SRV01** with a named instance of **Finance**, the server name is **AW-SRV01\Finance**.</span></span>  
  
 <span data-ttu-id="452a0-214">**Opción 2: configurar un puerto fijo para una instancia con nombre**</span><span class="sxs-lookup"><span data-stu-id="452a0-214">**Option 2: Use a fixed port for a named instance**</span></span>  
  
 <span data-ttu-id="452a0-215">O bien, puede asignar un puerto fijo y, a continuación, desbloquear el acceso a dicho puerto.</span><span class="sxs-lookup"><span data-stu-id="452a0-215">Alternatively, you can assign a fixed port, and then unblock access to that port.</span></span> <span data-ttu-id="452a0-216">Este método proporciona una capacidad de auditoría mejor que si se permite el acceso al programa ejecutable.</span><span class="sxs-lookup"><span data-stu-id="452a0-216">This approach offers better auditing capability than if you allowed access to the program executable.</span></span> <span data-ttu-id="452a0-217">Por eso, se recomienda utilizar un puerto fijo para acceder a una instancia de Analysis Services.</span><span class="sxs-lookup"><span data-stu-id="452a0-217">For this reason, using a fixed port is the recommended approach for accessing any Analysis Services instance.</span></span>  
  
 <span data-ttu-id="452a0-218">Para asignar un puerto fijo, siga las instrucciones de [Utilizar un puerto fijo para una instancia predeterminada o con nombre de Analysis Services](#bkmk_fixed) en este tema y vuelva a esta sección para desbloquear el puerto.</span><span class="sxs-lookup"><span data-stu-id="452a0-218">To assign a fixed port, follow the instructions in [Use a fixed port for a default or named instance of Analysis Services](#bkmk_fixed) in this topic, then return to this section to unblock the port.</span></span>  
  
#### <a name="windows-firewall-with-advanced-security"></a><span data-ttu-id="452a0-219">Firewall de Windows con seguridad avanzada</span><span class="sxs-lookup"><span data-stu-id="452a0-219">Windows Firewall with Advanced Security</span></span>  
  
1.  <span data-ttu-id="452a0-220">En Windows 7 o Windows Vista, en el Panel de control, haga clic en **Sistema y seguridad**, seleccione **Firewall de Windows**y haga clic en **Configuración avanzada**.</span><span class="sxs-lookup"><span data-stu-id="452a0-220">On Windows 7 or Windows Vista, in Control Panel, click **System and Security**, select **Windows Firewall**, and then click **Advanced settings**.</span></span> <span data-ttu-id="452a0-221">En Windows Server 2008 o 2008 R2, abra Herramientas administrativas y haga clic en **Firewall de Windows con seguridad avanzada**.</span><span class="sxs-lookup"><span data-stu-id="452a0-221">On Windows Server 2008 or 2008 R2, open Administrator Tools and click **Windows Firewall with Advanced Security**.</span></span> <span data-ttu-id="452a0-222">En Windows Server 2012, abra la página Aplicaciones y escriba **Firewall de Windows**.</span><span class="sxs-lookup"><span data-stu-id="452a0-222">On Windows Server 2012, open the Applications page and type **Windows Firewall**.</span></span>  
  
2.  <span data-ttu-id="452a0-223">Para desbloquear el acceso a Analysis Services, haga clic con el botón derecho en **Reglas de entrada** y seleccione **Nueva regla**.</span><span class="sxs-lookup"><span data-stu-id="452a0-223">To unblock access to Analysis Services, right-click **Inbound Rules** and select **New Rule**.</span></span>  
  
3.  <span data-ttu-id="452a0-224">En tipo de regla, haga clic en `Port` y después en **siguiente**.</span><span class="sxs-lookup"><span data-stu-id="452a0-224">In Rule Type, click `Port` and then click **Next**.</span></span>  
  
4.  <span data-ttu-id="452a0-225">En Protocolo y puertos, seleccione **TCP** y escriba el puerto fijo en **Puertos locales específicos**.</span><span class="sxs-lookup"><span data-stu-id="452a0-225">In Protocol and Ports, select **TCP** and then type the fixed port in **Specific local ports**.</span></span>  
  
5.  <span data-ttu-id="452a0-226">En Acción, haga clic en **Permitir la conexión** y, después, haga clic en **Siguiente**.</span><span class="sxs-lookup"><span data-stu-id="452a0-226">In Action, click **Allow the connection** and then click **Next**.</span></span>  
  
6.  <span data-ttu-id="452a0-227">En Perfil, borre cualquier ubicación de red que no sea aplicable y haga clic en **Siguiente**.</span><span class="sxs-lookup"><span data-stu-id="452a0-227">In Profile, clear any network locations that do not apply and then click **Next**.</span></span>  
  
7.  <span data-ttu-id="452a0-228">En nombre, escriba un nombre descriptivo para esta regla (por ejemplo, `SQL Server Analysis Services on port 54321` ) y, a continuación, haga clic en **Finalizar**.</span><span class="sxs-lookup"><span data-stu-id="452a0-228">In Name, type a descriptive name for this rule (for example, `SQL Server Analysis Services on port 54321`), and then click **Finish**.</span></span>  
  
8.  <span data-ttu-id="452a0-229">Para comprobar que las conexiones remotas están habilitadas, abra SQL Server Management Studio o Excel en un equipo diferente y conéctese al Analysis Services especificando el nombre de red del servidor y el número de puerto en este formato: \<servername> : \<portnumber> .</span><span class="sxs-lookup"><span data-stu-id="452a0-229">To verify that remote connections are enabled, open SQL Server Management Studio or Excel on a different computer and connect to the Analysis Services by specifying the network name of the server and the port number in this format: \<servername>:\<portnumber>.</span></span>  
  
#### <a name="netsh-advfirewall-syntax"></a><span data-ttu-id="452a0-230">Sintaxis de Netsh AdvFirewall</span><span class="sxs-lookup"><span data-stu-id="452a0-230">Netsh AdvFirewall Syntax</span></span>  
  
-   <span data-ttu-id="452a0-231">Los siguientes comandos crean reglas de entrada que desbloquean el puerto TCP 2382 para el servicio SQL Server Browser y desbloquean el puerto fijo que especificó para la instancia de Analysis Services.</span><span class="sxs-lookup"><span data-stu-id="452a0-231">The following commands create inbound rules that unblock TCP 2382 for SQL Server Browser service and unblock the fixed port that you specified for the Analysis Services instance.</span></span> <span data-ttu-id="452a0-232">Puede ejecutar cualquiera de los comandos siguientes para permitir el acceso a una instancia con nombre de Analysis Services.</span><span class="sxs-lookup"><span data-stu-id="452a0-232">You can run either one to allow access to a named Analysis Services instance.</span></span>  
  
     <span data-ttu-id="452a0-233">En este comando de ejemplo, el puerto 54321 es el puerto fijo.</span><span class="sxs-lookup"><span data-stu-id="452a0-233">In this sample command, port 54321 is the fixed port.</span></span> <span data-ttu-id="452a0-234">Asegúrese de reemplazarlo con el puerto real en uso en el sistema.</span><span class="sxs-lookup"><span data-stu-id="452a0-234">Be sure to replace it with the actual port in use on your system.</span></span>  
  
    ```  
    netsh advfirewall firewall add rule name="SQL Server Analysis Services (tcp-in) on 54321" dir=in action=allow protocol=TCP localport=54321 profile=domain  
    ```  
  
    ```  
    netsh advfirewall firewall add rule name="SQL Server Browser Services inbound on TCP 2382" dir=in action=allow protocol=TCP localport=2382 profile=domain  
    ```  
  
##  <a name="use-a-fixed-port-for-a-default-or-named-instance-of-analysis-services"></a><a name="bkmk_fixed"></a><span data-ttu-id="452a0-235">Use un puerto fijo para una instancia predeterminada o con nombre de Analysis Services</span><span class="sxs-lookup"><span data-stu-id="452a0-235">Use a fixed port for a default or named instance of Analysis Services</span></span>  
 <span data-ttu-id="452a0-236">En esta sección se explica cómo configurar Analysis Services para escuchar en un puerto fijo.</span><span class="sxs-lookup"><span data-stu-id="452a0-236">This section explains how to configure Analysis Services to listen on a fixed port.</span></span> <span data-ttu-id="452a0-237">El uso de un puerto fijo es habitual si se instala Analysis Services como una instancia con nombre, pero también puede usar este método si los requisitos de seguridad o de la empresa especifican que se usen asignaciones de puertos no predeterminadas.</span><span class="sxs-lookup"><span data-stu-id="452a0-237">Using a fixed port is common if you installed Analysis Services as a named instance, but you can also use this approach if business or security requirements specify that you use non-default port assignments.</span></span>  
  
 <span data-ttu-id="452a0-238">Tenga en cuenta que el uso de un puerto fijo modificará la sintaxis de conexión para la instancia predeterminada exigiéndole anexar el número de puerto al nombre del servidor.</span><span class="sxs-lookup"><span data-stu-id="452a0-238">Note that using a fixed port will alter the connection syntax for the default instance by requiring you to append the port number to the server name.</span></span> <span data-ttu-id="452a0-239">Por ejemplo, la conexión a una instancia predeterminada local de Analysis Services que escucha en el puerto 54321 en SQL Server Management Studio requeriría escribir localhost:54321 como nombre del servidor en el cuadro de diálogo Conectar con el servidor en Management Studio.</span><span class="sxs-lookup"><span data-stu-id="452a0-239">For example, connecting to a local, default Analysis Services instance listening on port 54321 in SQL Server Management Studio would require that you type localhost:54321 as the server name in the Connect to Server dialog box in Management Studio.</span></span>  
  
 <span data-ttu-id="452a0-240">Si usa una instancia con nombre, puede asignar un puerto fijo sin cambios en la forma en que especifica el nombre del servidor (en concreto, puede usar \<servername\instancename> para conectarse a una instancia con nombre que escucha en un puerto fijo).</span><span class="sxs-lookup"><span data-stu-id="452a0-240">If you are using a named instance, you can assign a fixed port with no changes to how you specify the server name (specifically, you can use \<servername\instancename> to connect to a named instance listening on a fixed port).</span></span> <span data-ttu-id="452a0-241">Esto solo funciona si se está ejecutando el servicio SQL Server Browser y se desbloquea el puerto en el que escucha.</span><span class="sxs-lookup"><span data-stu-id="452a0-241">This works only if SQL Server Browser service is running and you unblocked the port on which it is listening.</span></span> <span data-ttu-id="452a0-242">SQL Server Browser servicio proporcionará la redirección al puerto fijo basado en \<servername\instancename> .</span><span class="sxs-lookup"><span data-stu-id="452a0-242">SQL Server Browser service will provide redirection to the fixed port based on \<servername\instancename>.</span></span> <span data-ttu-id="452a0-243">Siempre y cuando abra puertos para el servicio SQL Server Browser y para la instancia con nombre de Analysis Services que escucha en el puerto fijo, el servicio SQL Server Browser resolverá la conexión con una instancia con nombre.</span><span class="sxs-lookup"><span data-stu-id="452a0-243">As long as you open ports for both SQL Server Browser service and the named instance of Analysis Services listening on the fixed port, SQL Server Browser service will resolve the connection to a named instance.</span></span>  
  
1.  <span data-ttu-id="452a0-244">Determine un puerto TCP/IP disponible para su uso.</span><span class="sxs-lookup"><span data-stu-id="452a0-244">Determine an available TCP/IP port to use.</span></span>  
  
     <span data-ttu-id="452a0-245">Para ver una lista de los puertos reservados y registrados cuyo uso debe evitar, vea la página dedicada a los [números de puerto (IANA)](https://go.microsoft.com/fwlink/?LinkID=198469).</span><span class="sxs-lookup"><span data-stu-id="452a0-245">To view a list of reserved and registered ports that you should avoid using, see [Port Numbers (IANA)](https://go.microsoft.com/fwlink/?LinkID=198469).</span></span> <span data-ttu-id="452a0-246">Para ver una lista de los puertos que ya están en uso en el sistema, abra una ventana de símbolo del sistema y escriba `netstat -a -p TCP` para mostrar una lista de los puertos TCP que están abiertos en el sistema.</span><span class="sxs-lookup"><span data-stu-id="452a0-246">To view a list of ports that are already in use on your system, open a command prompt window and type `netstat -a -p TCP` to display a list of the TCP ports that are open on the system.</span></span>  
  
2.  <span data-ttu-id="452a0-247">Después de determinar qué puerto va a usar, especifique el puerto modificando el valor de configuración de `Port` en el archivo msmdsrv.ini o en la página Propiedades generales de una instancia de Analysis Services en SQL Server Management Studio.</span><span class="sxs-lookup"><span data-stu-id="452a0-247">After you determine which port to use, specify the port by either editing the `Port` configuration setting in the msmdsrv.ini file or in the General properties page of an Analysis Services instance in SQL Server Management Studio.</span></span>  
  
3.  <span data-ttu-id="452a0-248">Reinicie el servicio.</span><span class="sxs-lookup"><span data-stu-id="452a0-248">Restart the service.</span></span>  
  
4.  <span data-ttu-id="452a0-249">Configure Firewall de Windows para desbloquear el puerto TCP que especificó.</span><span class="sxs-lookup"><span data-stu-id="452a0-249">Configure Windows Firewall to unblock the TCP port you specified.</span></span> <span data-ttu-id="452a0-250">O bien, si está utilizando un puerto fijo para una instancia con nombre, desbloquee el puerto TCP que especificó para esa instancia y también el puerto TCP 2382 para el servicio SQL Server Browser.</span><span class="sxs-lookup"><span data-stu-id="452a0-250">Or, if you are using a fixed port for a named instance, unblock both the TCP port you specified for that instance and TCP port 2382 for SQL Server Browser service.</span></span>  
  
5.  <span data-ttu-id="452a0-251">Haga la comprobación conectando localmente (en Management Studio) y después remotamente, desde una aplicación cliente de otro equipo.</span><span class="sxs-lookup"><span data-stu-id="452a0-251">Verify by connecting locally (in Management Studio) and then remotely from a client application on another computer.</span></span> <span data-ttu-id="452a0-252">Para usar Management Studio, conéctese a una instancia predeterminada de Analysis Services especificando un nombre de servidor en este formato: \<servername> : \<portnumber> .</span><span class="sxs-lookup"><span data-stu-id="452a0-252">To use Management Studio, connect to an Analysis Services default instance by specifying a server name in this format: \<servername>:\<portnumber>.</span></span> <span data-ttu-id="452a0-253">Para una instancia con nombre, especifique el nombre del servidor como \<servername> \\<InstanceName \> .</span><span class="sxs-lookup"><span data-stu-id="452a0-253">For a named instance, specify the server name as \<servername>\\<instancename\>.</span></span>  
  
##  <a name="port-configuration-for-an-analysis-services-cluster"></a><a name="bkmk_cluster"></a><span data-ttu-id="452a0-254">Configuración de puertos para un clúster de Analysis Services</span><span class="sxs-lookup"><span data-stu-id="452a0-254">Port configuration for an Analysis Services cluster</span></span>  
 <span data-ttu-id="452a0-255">Un clúster de conmutación por error de [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] siempre escucha en el puerto TCP 2383, independientemente de si se ha instalado como una instancia predeterminada o como una instancia con nombre.</span><span class="sxs-lookup"><span data-stu-id="452a0-255">An [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] failover cluster always listens on TCP port 2383, regardless of whether you installed it as a default instance or named instance.</span></span> <span data-ttu-id="452a0-256">[!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] no usa asignaciones dinámicas de puerto cuando se instala en un clúster de conmutación por error de Windows.</span><span class="sxs-lookup"><span data-stu-id="452a0-256">Dynamic port assignments are not used by [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] when it is installed on a Windows failover cluster.</span></span> <span data-ttu-id="452a0-257">Asegúrese de abrir el puerto TCP 2383 en todos los nodos que ejecuten [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] en el clúster.</span><span class="sxs-lookup"><span data-stu-id="452a0-257">Be sure to open TCP 2383 on every node running [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] in the cluster.</span></span> <span data-ttu-id="452a0-258">Para obtener más información acerca de cómo organizar en clúster [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)], vea [Organizar en clúster SQL Server Analysis Services](https://go.microsoft.com/fwlink/p/?LinkId=396548).</span><span class="sxs-lookup"><span data-stu-id="452a0-258">For more information about clustering [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)], see [How to Cluster SQL Server Analysis Services](https://go.microsoft.com/fwlink/p/?LinkId=396548).</span></span>  
  
##  <a name="port-configuration-for-powerpivot-for-sharepoint"></a><a name="bkmk_powerpivot"></a><span data-ttu-id="452a0-259">Configuración de puerto para PowerPivot para SharePoint</span><span class="sxs-lookup"><span data-stu-id="452a0-259">Port configuration for PowerPivot for SharePoint</span></span>  
 <span data-ttu-id="452a0-260">La arquitectura del servidor para [!INCLUDE[ssGeminiShort](../../includes/ssgeminishort-md.md)] es diferente según la versión de SharePoint que se está utilizando.</span><span class="sxs-lookup"><span data-stu-id="452a0-260">Server architecture for [!INCLUDE[ssGeminiShort](../../includes/ssgeminishort-md.md)] is fundamentally different depending on which version of SharePoint you are using.</span></span>  
  
 <span data-ttu-id="452a0-261">**SharePoint 2013**</span><span class="sxs-lookup"><span data-stu-id="452a0-261">**SharePoint 2013**</span></span>  
  
 <span data-ttu-id="452a0-262">En SharePoint 2013, Excel Services redirige las solicitudes para los modelos de datos de Power Pivot, que se cargan en una instancia de [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] fuera del entorno de SharePoint.</span><span class="sxs-lookup"><span data-stu-id="452a0-262">In SharePoint 2013, Excel Services redirects requests for Power Pivot data models, which are subsequently loaded on an [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] instance outside of the SharePoint environment.</span></span> <span data-ttu-id="452a0-263">Las conexiones siguen el patrón típico, donde una biblioteca de cliente de Analysis Services de un equipo local envía una solicitud de conexión a una instancia remota de [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] de la misma red.</span><span class="sxs-lookup"><span data-stu-id="452a0-263">Connections follow the typical pattern, where an Analysis Services client library on a local computer sends a connection request to a remote [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] instance in the same network.</span></span>  
  
 <span data-ttu-id="452a0-264">Puesto que [!INCLUDE[ssGeminiShort](../../includes/ssgeminishort-md.md)] siempre instala [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] como una instancia con nombre, debe suponer que se usan el servicio SQL Server Browser y asignaciones de puerto dinámicas.</span><span class="sxs-lookup"><span data-stu-id="452a0-264">Because [!INCLUDE[ssGeminiShort](../../includes/ssgeminishort-md.md)] always installs [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] as a named instance, you should assume SQL Server Browser service and dynamic port assignments.</span></span> <span data-ttu-id="452a0-265">Como se ha indicado anteriormente, el servicio SQL Server Browser escucha en el puerto TCP 2382 las solicitudes de conexión enviadas a instancias con nombre de [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] , redirigiendo la solicitud al puerto actual.</span><span class="sxs-lookup"><span data-stu-id="452a0-265">As noted earlier, SQL Server Browser service listens on TCP port 2382 for connection requests sent to [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] named instances, redirecting the request to the current port.</span></span>  
  
 <span data-ttu-id="452a0-266">Tenga en cuenta que Excel Services en SharePoint 2013 no admite la sintaxis fija de conexión de puerto, por lo que debe asegurarse de que el servicio SQL Server Browser es accesible.</span><span class="sxs-lookup"><span data-stu-id="452a0-266">Note that Excel Services in SharePoint 2013 does not support the fixed port connection syntax, so make sure SQL Server Browser service is accessible.</span></span>  
  
 <span data-ttu-id="452a0-267">**SharePoint 2010**</span><span class="sxs-lookup"><span data-stu-id="452a0-267">**SharePoint 2010**</span></span>  
  
 <span data-ttu-id="452a0-268">Si está usando SharePoint 2010, no necesita abrir puertos en Firewall de Windows.</span><span class="sxs-lookup"><span data-stu-id="452a0-268">If you are using SharePoint 2010, you do not need to open ports in Windows Firewall.</span></span> <span data-ttu-id="452a0-269">SharePoint abre los puertos que necesita, y los complementos como PowerPivot para SharePoint se ejecutan dentro del entorno de SharePoint.</span><span class="sxs-lookup"><span data-stu-id="452a0-269">SharePoint opens the ports that it requires, and add-ins such as PowerPivot for SharePoint operate within the SharePoint environment.</span></span> <span data-ttu-id="452a0-270">En una instalación de PowerPivot para SharePoint 2010, el Servicio de sistema de PowerPivot tiene uso exclusivo de la instancia de servicio local de SQL Server Analysis Services (PowerPivot) que se instala con él en el mismo equipo.</span><span class="sxs-lookup"><span data-stu-id="452a0-270">In a PowerPivot for SharePoint 2010 installation, the PowerPivot System Service has exclusive use of the local SQL Server Analysis Services (PowerPivot) service instance that is installed with it on the same computer.</span></span> <span data-ttu-id="452a0-271">Utiliza conexiones locales, no conexiones de red, para tener acceso al servicio de motor local de Analysis Services que carga, consulta y procesa datos PowerPivot en el servidor de SharePoint.</span><span class="sxs-lookup"><span data-stu-id="452a0-271">It uses local connections, not network connections, to access the local Analysis Services engine service that loads, queries, and processes PowerPivot data on the SharePoint server.</span></span> <span data-ttu-id="452a0-272">Para solicitar datos PowerPivot de las aplicaciones cliente, las solicitudes se enrutan a través de los puertos abiertos por el programa de instalación de SharePoint (en concreto, se definen reglas de entrada para permitir el acceso a SharePoint-80, administración central de SharePoint V4, SharePoint Web Services y SPUserCodeV4).</span><span class="sxs-lookup"><span data-stu-id="452a0-272">To request PowerPivot data from client applications, requests are routed through ports that are opened by SharePoint Setup (specifically, inbound rules are defined to allow access to SharePoint - 80, SharePoint Central Administration v4, SharePoint Web Services, and SPUserCodeV4).</span></span> <span data-ttu-id="452a0-273">Puesto que los servicios web PowerPivot se ejecutan dentro de una granja de servidores de SharePoint, las reglas de firewall de SharePoint son suficientes para el acceso remoto a datos PowerPivot en una granja de servidores de SharePoint.</span><span class="sxs-lookup"><span data-stu-id="452a0-273">Because PowerPivot web services run within a SharePoint farm, the SharePoint firewall rules are sufficient for remote access to PowerPivot data in a SharePoint farm.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="452a0-274">Consulte también</span><span class="sxs-lookup"><span data-stu-id="452a0-274">See Also</span></span>  
 <span data-ttu-id="452a0-275">[Motor de base de datos de &#40;de servicio de SQL Server Browser y SSAS&#41;](../../database-engine/configure-windows/sql-server-browser-service-database-engine-and-ssas.md) </span><span class="sxs-lookup"><span data-stu-id="452a0-275">[SQL Server Browser Service &#40;Database Engine and SSAS&#41;](../../database-engine/configure-windows/sql-server-browser-service-database-engine-and-ssas.md) </span></span>  
 <span data-ttu-id="452a0-276">[Iniciar, detener, pausar, reanudar y reiniciar el motor de base de datos, Agente SQL Server o el Servicio SQL Server Browser](../../database-engine/configure-windows/start-stop-pause-resume-restart-sql-server-services.md) </span><span class="sxs-lookup"><span data-stu-id="452a0-276">[Start, Stop, Pause, Resume, Restart the Database Engine, SQL Server Agent, or SQL Server Browser Service](../../database-engine/configure-windows/start-stop-pause-resume-restart-sql-server-services.md) </span></span>  
 [<span data-ttu-id="452a0-277">Configuración de Firewall de Windows para el acceso al motor de base de datos</span><span class="sxs-lookup"><span data-stu-id="452a0-277">Configure a Windows Firewall for Database Engine Access</span></span>](../../database-engine/configure-windows/configure-a-windows-firewall-for-database-engine-access.md)  
  
  
