---
title: Modo DirectQuery (SSAS tabular) | Microsoft Docs
ms.custom: ''
ms.date: 06/13/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: analysis-services
ms.topic: conceptual
f1_keywords:
- sql12.asvs.bidtoolset.realtime.f1
ms.assetid: 45ad2965-05ec-4fb1-a164-d8060b562ea5
author: minewiskan
ms.author: owend
ms.openlocfilehash: ceb58c211b52c1fbd184aafe316e5ea77d364529
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 08/04/2020
ms.locfileid: "87744379"
---
# <a name="directquery-mode-ssas-tabular"></a><span data-ttu-id="9a704-102">Modo DirectQuery (SSAS tabular)</span><span class="sxs-lookup"><span data-stu-id="9a704-102">DirectQuery Mode (SSAS Tabular)</span></span>
  <span data-ttu-id="9a704-103">El *modo DirectQuery*de Analysis Services le permite recuperar datos y crear informes de un modelo tabular recuperando los datos y agregándolos directamente desde un sistema de base de datos relacional.</span><span class="sxs-lookup"><span data-stu-id="9a704-103">Analysis Services lets you retrieve data and create reports from a tabular model by retrieving data and aggregates directly from a relational database system, using *DirectQuery mode*.</span></span> <span data-ttu-id="9a704-104">En este tema se presentan las diferencias entre los modelos tabulares estándar que residen únicamente en la memoria y los modelos tabulares que pueden realizar consultas en un origen de datos relacional, y se explica cómo crear e implementar un modelo para utilizar en el modo DirectQuery.</span><span class="sxs-lookup"><span data-stu-id="9a704-104">This topic introduces the differences between standard tabular models that reside only in memory and tabular models that can query a relational data source, and explains how you can author and deploy a model for use in DirectQuery mode.</span></span>  
  
 <span data-ttu-id="9a704-105">Secciones de este tema:</span><span class="sxs-lookup"><span data-stu-id="9a704-105">Sections in this topic:</span></span>  
  
-   [<span data-ttu-id="9a704-106">Ventajas del modo DirectQuery</span><span class="sxs-lookup"><span data-stu-id="9a704-106">Benefits of DirectQuery Mode</span></span>](#bkmk_Benefits)  
  
-   [<span data-ttu-id="9a704-107">Crear modelos para su uso con el modo DirectQuery</span><span class="sxs-lookup"><span data-stu-id="9a704-107">Authoring Models for Use with DirectQuery Mode</span></span>](#bkmk_Design)  
  
    -   [<span data-ttu-id="9a704-108">Data Sources for DirectQuery Models</span><span class="sxs-lookup"><span data-stu-id="9a704-108">Data Sources for DirectQuery Models</span></span>](directquery-mode-ssas-tabular.md#bkmk_DataSources)  
  
    -   [<span data-ttu-id="9a704-109">Restricciones de validación y de diseño para el modo DirectQuery</span><span class="sxs-lookup"><span data-stu-id="9a704-109">Validation and Design Restrictions for DirectQuery Mode</span></span>](#bkmk_Validation)  
  
    -   [<span data-ttu-id="9a704-110">Compatibilidad de las fórmulas para los modelos DirectQuery</span><span class="sxs-lookup"><span data-stu-id="9a704-110">Formula Compatibility for DirectQuery Models</span></span>](#bkmk_FormulaCompat)  
  
    -   [<span data-ttu-id="9a704-111">La seguridad en el modo DirectQuery</span><span class="sxs-lookup"><span data-stu-id="9a704-111">Security in DirectQuery Mode</span></span>](#bkmk_Security)  
  
    -   [<span data-ttu-id="9a704-112">La seguridad en el modo DirectQuery</span><span class="sxs-lookup"><span data-stu-id="9a704-112">Security in DirectQuery Mode</span></span>](#bkmk_Security)  
  
-   [<span data-ttu-id="9a704-113">Propiedades de DirectQuery</span><span class="sxs-lookup"><span data-stu-id="9a704-113">DirectQuery Properties</span></span>](#bkmk_PropertyList)  
  
-   [<span data-ttu-id="9a704-114">Temas y tareas relacionados</span><span class="sxs-lookup"><span data-stu-id="9a704-114">Related Topics and Tasks</span></span>](#bkmk_related_tasks)  
  
##  <a name="benefits-of-directquery-mode"></a><a name="bkmk_Benefits"></a><span data-ttu-id="9a704-115">Ventajas del modo DirectQuery</span><span class="sxs-lookup"><span data-stu-id="9a704-115">Benefits of DirectQuery Mode</span></span>  
 <span data-ttu-id="9a704-116">De forma predeterminada, los modelos tabulares utilizan una caché en memoria para almacenar los datos y realizar consultas en ellos.</span><span class="sxs-lookup"><span data-stu-id="9a704-116">By default, tabular models use an in-memory cache to store and query data.</span></span> <span data-ttu-id="9a704-117">Dado que los modelos tabulares utilizan datos que residen en memoria, incluso las consultas más complejas pueden resultar increíblemente rápidas.</span><span class="sxs-lookup"><span data-stu-id="9a704-117">Because tabular models use data that resides in memory, even complex queries can be incredibly fast.</span></span> <span data-ttu-id="9a704-118">Sin embargo, el uso de datos en caché tiene algunas desventajas:</span><span class="sxs-lookup"><span data-stu-id="9a704-118">However, there are some drawbacks to using cached data:</span></span>  
  
-   <span data-ttu-id="9a704-119">Los datos no se actualizan cuando cambian los datos de origen.</span><span class="sxs-lookup"><span data-stu-id="9a704-119">Data is not refreshed when the source data changes.</span></span> <span data-ttu-id="9a704-120">Es necesario procesar el modelo para conseguir actualizaciones de los datos.</span><span class="sxs-lookup"><span data-stu-id="9a704-120">You must process the model to get updates to the data.</span></span>  
  
-   <span data-ttu-id="9a704-121">Cuando se apaga el equipo que hospeda el modelo, el contenido de la memoria caché se guarda en el disco y deberá abrirse de nuevo al cargar el modelo o abrir el archivo de PowerPivot.</span><span class="sxs-lookup"><span data-stu-id="9a704-121">When you turn off the computer that hosts the model, the cache is saved to disk and must be reopened when you load the model or open the PowerPivot file.</span></span> <span data-ttu-id="9a704-122">Las operaciones de guardado y de carga pueden requerir mucho tiempo.</span><span class="sxs-lookup"><span data-stu-id="9a704-122">The save and load operations can be time-consuming.</span></span>  
  
 <span data-ttu-id="9a704-123">En cambio, el modo DirectQuery utiliza los datos almacenados en una base de datos de SQL Server.</span><span class="sxs-lookup"><span data-stu-id="9a704-123">In contrast, DirectQuery mode uses data that is stored in a SQL Server database.</span></span>  <span data-ttu-id="9a704-124">Normalmente, se importan todos los datos o una pequeña muestra de ellos en la memoria caché mientras se crea el modelo y, al implantarlo, se especifica que el origen de datos para las consultas realizadas en él debe ser SQL Server, no los datos en caché.</span><span class="sxs-lookup"><span data-stu-id="9a704-124">Generally, you import all or a small sample of the data into the cache while authoring the model, and when you deploy the model, you specify that the data source for queries against the model should be SQL Server, not the cached data.</span></span> <span data-ttu-id="9a704-125">[!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] traducirá cualquier consulta DAX de datos a instrucciones SQL equivalentes en el origen de datos relacional especificado.</span><span class="sxs-lookup"><span data-stu-id="9a704-125">Any DAX queries on the data are translated by [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] into equivalent SQL statements against the specified relational data source.</span></span>  
  
 <span data-ttu-id="9a704-126">La implantación de un modelo mediante el modo DirectQuery ofrece muchas ventajas:</span><span class="sxs-lookup"><span data-stu-id="9a704-126">There are many advantages to deploying a model using DirectQuery mode:</span></span>  
  
-   <span data-ttu-id="9a704-127">Es posible tener un modelo acerca de los conjuntos de datos que son demasiado grandes para caber en la memoria del servidor de Analysis Services.</span><span class="sxs-lookup"><span data-stu-id="9a704-127">It is possible to have a model over data sets that are too large to fit in memory on the Analysis Services server.</span></span>  
  
-   <span data-ttu-id="9a704-128">La actualización de los datos está garantizada, y no existe una sobrecarga adicional de administración al no tener que mantener otra copia de estos.</span><span class="sxs-lookup"><span data-stu-id="9a704-128">The data is guaranteed to be up-to-date, and there is no extra management overhead of having to maintain a separate copy of the data.</span></span> <span data-ttu-id="9a704-129">Los cambios en el origen de datos subyacente se pueden reflejar inmediatamente en las consultas realizadas en el modelo de datos.</span><span class="sxs-lookup"><span data-stu-id="9a704-129">Changes to the underlying source data can be immediately reflected in queries against the data model.</span></span>  
  
-   <span data-ttu-id="9a704-130">DirectQuery puede beneficiarse de la aceleración de consultas del proveedor, como la proporcionada por los índices de columnas optimizadas de memoria xVelocity.</span><span class="sxs-lookup"><span data-stu-id="9a704-130">DirectQuery can take advantage of provider-side query acceleration, such as that provided by xVelocity memory optimized column indexes.</span></span>  
  
-   <span data-ttu-id="9a704-131">La aplicación de la seguridad requerida por la base de datos back-end se garantiza mediante la seguridad de nivel de filas.</span><span class="sxs-lookup"><span data-stu-id="9a704-131">Any security enforced by the back-end database is guaranteed to be enforced, using row-level security.</span></span> <span data-ttu-id="9a704-132">En cambio, si usa datos en caché, puede resultar difícil garantizar que la memoria caché esté protegida exactamente como en el servidor.</span><span class="sxs-lookup"><span data-stu-id="9a704-132">In contrast, if you are using cached data, it can be difficult to ensure that the cache is secured exactly as on the server.</span></span>  
  
-   <span data-ttu-id="9a704-133">Si el modelo contiene fórmulas complejas que requieren varias consultas, Analysis Services puede realizar la optimización para asegurarse de que el plan de consulta para la consulta ejecutada en la base de datos back-end sea tan eficaz como sea posible.</span><span class="sxs-lookup"><span data-stu-id="9a704-133">If the model contains complex formulas that might require multiple queries, Analysis Services can perform optimization to ensure that the query plan for the query executed against the back-end database will be as efficient as possible.</span></span>  
  
##  <a name="authoring-models-for-use-with-directquery-mode"></a><a name="bkmk_Design"></a><span data-ttu-id="9a704-134">Crear modelos para su uso con el modo DirectQuery</span><span class="sxs-lookup"><span data-stu-id="9a704-134">Authoring Models for Use with DirectQuery Mode</span></span>  
 <span data-ttu-id="9a704-135">Los modelos tabulares se crean mediante el diseñador de modelos [!INCLUDE[ssBIDevStudioFull](../../includes/ssbidevstudiofull-md.md)].</span><span class="sxs-lookup"><span data-stu-id="9a704-135">Tabular models are authored by using the model designer [!INCLUDE[ssBIDevStudioFull](../../includes/ssbidevstudiofull-md.md)].</span></span> <span data-ttu-id="9a704-136">El diseñador crea todos los modelos en la memoria, lo que significa que cuando se realiza el modelado, si los datos no caben en la memoria, se debe importar solo un subconjunto de datos en la memoria caché utilizada por la base de datos del área de trabajo.</span><span class="sxs-lookup"><span data-stu-id="9a704-136">The model designer creates all models in memory, which means that when you are modeling, if your data is too large to fit into memory, you should import only a subset of data into the cache used by the workspace database.</span></span>  
  
 <span data-ttu-id="9a704-137">Cuando esté listo para cambiar al modo DirectQuery, puede cambiar una propiedad que habilite este modo.</span><span class="sxs-lookup"><span data-stu-id="9a704-137">When you are ready to switch to DirectQuery mode, you can change a property that enables DirectQuery mode.</span></span> <span data-ttu-id="9a704-138">Para obtener más información, vea [Habilitar el modo de diseño de DirectQuery &#40;&#41;tabular de SSAS ](enable-directquery-mode-in-ssdt.md).</span><span class="sxs-lookup"><span data-stu-id="9a704-138">For more information, see [Enable DirectQuery Design Mode &#40;SSAS Tabular&#41;](enable-directquery-mode-in-ssdt.md).</span></span>  
  
 <span data-ttu-id="9a704-139">Al hacerlo, el diseñador de modelos configura automáticamente la base de datos del área de trabajo para que se ejecute en un modo híbrido que le permita continuar trabajando con los datos en caché.</span><span class="sxs-lookup"><span data-stu-id="9a704-139">When you do this, the model designer automatically configures the workspace database to run in a hybrid mode that lets you continue to work with the cached data.</span></span> <span data-ttu-id="9a704-140">Asimismo, el diseñador de modelos le notificará acerca de las características del modelo que son incompatibles con el modo DirectQuery.</span><span class="sxs-lookup"><span data-stu-id="9a704-140">The model designer will also notify you of any features in your model that are incompatible with DirectQuery mode.</span></span> <span data-ttu-id="9a704-141">En la lista siguiente se resumen los principales requisitos que se han de tener en cuenta:</span><span class="sxs-lookup"><span data-stu-id="9a704-141">The following list summarizes the main requirements to keep in mind:</span></span>  
  
-   <span data-ttu-id="9a704-142">**Orígenes de datos:** Los modelos DirectQuery solo pueden utilizar datos de un único origen de datos de SQL Server.</span><span class="sxs-lookup"><span data-stu-id="9a704-142">**Data sources:** DirectQuery models can only use data from a single SQL Server data source.</span></span> <span data-ttu-id="9a704-143">Cuando se ha activado el modo DirectQuery para un modelo, no se puede utilizar ningún otro tipo de datos del diseñador de modelos, incluidas las tablas agregadas por operaciones de cortar y pegar.</span><span class="sxs-lookup"><span data-stu-id="9a704-143">When DirectQuery mode has been turned on for a model, you can use no other types of data in the model designer, including tables added by copy-paste operations.</span></span> <span data-ttu-id="9a704-144">El resto de las opciones de importación están deshabilitadas.</span><span class="sxs-lookup"><span data-stu-id="9a704-144">All other import options are disabled.</span></span> <span data-ttu-id="9a704-145">Todas las tablas incluidas en una consulta deben formar parte del origen de datos de SQL Server.</span><span class="sxs-lookup"><span data-stu-id="9a704-145">Any tables included in a query must be part of the SQL Server data source.</span></span> <span data-ttu-id="9a704-146">Vea [Data Sources for DirectQuery Models](directquery-mode-ssas-tabular.md#bkmk_DataSources)para obtener más información.</span><span class="sxs-lookup"><span data-stu-id="9a704-146">See [Data Sources for DirectQuery Models](directquery-mode-ssas-tabular.md#bkmk_DataSources)for more information.</span></span>  
  
-   <span data-ttu-id="9a704-147">**Compatibilidad para columnas calculadas:** Las columnas calculadas no se admiten en los modelos DirectQuery.</span><span class="sxs-lookup"><span data-stu-id="9a704-147">**Support for calculated columns:** Calculated columns are not supported for DirectQuery models.</span></span> <span data-ttu-id="9a704-148">Sin embargo, puede crear medidas y KPI que actúen sobre conjuntos de datos.</span><span class="sxs-lookup"><span data-stu-id="9a704-148">However, you can create measures and KPIs, which operate over sets of data.</span></span> <span data-ttu-id="9a704-149">Para obtener más información, vea la sección que trata sobre la [validación](#bkmk_Validation) .</span><span class="sxs-lookup"><span data-stu-id="9a704-149">See the section on [validation](#bkmk_Validation) for more information.</span></span>  
  
-   <span data-ttu-id="9a704-150">**Uso limitado de funciones de DAX:** Algunas funciones DAX no se pueden usar en el modo DirectQuery, por lo que deberá sustituirlas por otras funciones o crear los valores con columnas derivadas en el origen de datos.</span><span class="sxs-lookup"><span data-stu-id="9a704-150">**Limited use of DAX functions:** Some DAX functions cannot be used in DirectQuery mode, so you must replace them with other functions, or create the values using derived columns in the data source.</span></span> <span data-ttu-id="9a704-151">El diseñador de modelos proporciona validación en tiempo de diseño para cualquier error que pueda surgir al crear fórmulas incompatibles con el modo DirectQuery.</span><span class="sxs-lookup"><span data-stu-id="9a704-151">The model designer provides design-time validation for any errors that arise when you create formulas that are incompatible with DirectQuery mode.</span></span> <span data-ttu-id="9a704-152">Vea las secciones siguientes para obtener más información: [Validación](#bkmk_Validation).</span><span class="sxs-lookup"><span data-stu-id="9a704-152">See the following sections for more information: [Validation](#bkmk_Validation).</span></span>  
  
-   <span data-ttu-id="9a704-153">**Compatibilidad de las fórmulas** En algunos casos conocidos, la misma fórmula puede devolver resultados distintos en un modelo en caché o híbrido en comparación con un modelo DirectQuery que use solamente el almacén de datos relacional.</span><span class="sxs-lookup"><span data-stu-id="9a704-153">**Formula compatibility:** In certain known cases, the same formula can return different results in a cached or hybrid model compared to a DirectQuery model that uses only the relational data store.</span></span> <span data-ttu-id="9a704-154">Estas diferencias son consecuencia de las diferencias semánticas entre el motor analítico en memoria xVelocity (VertiPaq) y SQL Server.</span><span class="sxs-lookup"><span data-stu-id="9a704-154">These differences are a consequence of the semantic differences between the xVelocity in-memory analytics (VertiPaq) engine and SQL Server.</span></span> <span data-ttu-id="9a704-155">Para obtener más información sobre estas diferencias, vea esta sección: [Compatibilidad de las fórmulas](#bkmk_FormulaCompat).</span><span class="sxs-lookup"><span data-stu-id="9a704-155">For more information about these differences, see this section: [Formula Compatibility](#bkmk_FormulaCompat).</span></span>  
  
-   <span data-ttu-id="9a704-156">**Seguridad:** Puede usar métodos diferentes para proteger los modelos en función de cómo se implementen estos.</span><span class="sxs-lookup"><span data-stu-id="9a704-156">**Security:** You can use different methods to secure models depending on how they are deployed.</span></span> <span data-ttu-id="9a704-157">Los datos almacenados en caché para los modelos tabulares están protegidos mediante el modelo de seguridad de la instancia de Analysis Services.</span><span class="sxs-lookup"><span data-stu-id="9a704-157">Cached data for tabular models is secured by using the security model of the Analysis Services instance.</span></span> <span data-ttu-id="9a704-158">Los modelos de DirectQuery se pueden proteger utilizando roles, pero también puede utilizar la seguridad definida en el almacén de datos relacional.</span><span class="sxs-lookup"><span data-stu-id="9a704-158">DirectQuery models can be secured by using roles, but you can also use security defined in the relational data store.</span></span> <span data-ttu-id="9a704-159">El modelo se puede configurar de modo que los usuarios que abran un informe basado en un modelo Solo DirectQuery puedan ver solo los datos que tengan autorizados en virtud de sus permisos de SQL Server.</span><span class="sxs-lookup"><span data-stu-id="9a704-159">The model can be configured so that users who open a report based on a DirectQuery-only model can see only the data that is allowed to them under their permissions in SQL Server.</span></span> <span data-ttu-id="9a704-160">Vea esta sección para obtener más información: [Seguridad](#bkmk_Security).</span><span class="sxs-lookup"><span data-stu-id="9a704-160">See this section for more information: [Security](#bkmk_Security).</span></span>  
  
-   <span data-ttu-id="9a704-161">**Restricciones del cliente:** Cuando un modelo está en modo DirectQuery, solo se puede consultar con DAX.</span><span class="sxs-lookup"><span data-stu-id="9a704-161">**Client restrictions:** When a model is in DirectQuery mode, it can only be queried by using DAX.</span></span> <span data-ttu-id="9a704-162">No se puede utilizar MDX para crear consultas.</span><span class="sxs-lookup"><span data-stu-id="9a704-162">You cannot use MDX to create queries.</span></span> <span data-ttu-id="9a704-163">Esto significa que no podrá utilizar el cliente dinámico de Excel, porque Excel usa MDX.</span><span class="sxs-lookup"><span data-stu-id="9a704-163">This means that you cannot use the Excel Pivot Client, because Excel uses MDX.</span></span>  
  
     <span data-ttu-id="9a704-164">Sin embargo, puede crear consultas en un modelo DirectQuery en [!INCLUDE[ssManStudioFull](../../includes/ssmanstudiofull-md.md)] si usa una consulta de tabla Dax como parte de una instrucción EXECUTE de XMLA. para obtener más información, vea [referencia de sintaxis de consulta Dax] (/Dax/Dax-Syntax-Reference</span><span class="sxs-lookup"><span data-stu-id="9a704-164">However, you can create queries against a DirectQuery model in [!INCLUDE[ssManStudioFull](../../includes/ssmanstudiofull-md.md)] if you use a DAX table query as part of an XMLA Execute statement, For more information, see [DAX Query Syntax Reference](/dax/dax-syntax-reference</span></span>
  
 <span data-ttu-id="9a704-165">Una vez haya resuelto todos los problemas de diseño y probado el modelo, estará listo para la implementación.</span><span class="sxs-lookup"><span data-stu-id="9a704-165">When you have resolved all the design issues and tested your model, you are ready for deployment.</span></span> <span data-ttu-id="9a704-166">En este momento, puede establecer el método preferido para responder a las consultas sobre el modelo.</span><span class="sxs-lookup"><span data-stu-id="9a704-166">At this point, you can set the preferred method for answering queries against the model.</span></span> <span data-ttu-id="9a704-167">¿Desea que los usuarios obtengan acceso a la memoria caché, o que utilicen siempre solamente el origen de datos relacional?</span><span class="sxs-lookup"><span data-stu-id="9a704-167">Do you want users to have access to the cache, or always use only the relational data source?</span></span>  
  
 <span data-ttu-id="9a704-168">Si implementa el modelo en un *modo híbrido*, la memoria caché seguirá estando disponible y se podrá utilizar con las consultas.</span><span class="sxs-lookup"><span data-stu-id="9a704-168">If you deploy the model in a *hybrid mode*, the cache is still available and can be used for queries.</span></span> <span data-ttu-id="9a704-169">Un modo híbrido le ofrece muchas opciones:</span><span class="sxs-lookup"><span data-stu-id="9a704-169">A hybrid mode provides you with many options:</span></span>  
  
-   <span data-ttu-id="9a704-170">Si tanto la memoria caché como el origen de datos relacional están disponibles, puede establecer el método de conexión preferido, pero será el cliente el que en última instancia decida el origen que se utilizará, mediante la propiedad de cadena de conexión DirectQueryMode.</span><span class="sxs-lookup"><span data-stu-id="9a704-170">When both the cache and the relational data source are available, you can set the preferred connection method, but ultimately the client controls which source is used, using the DirectQueryMode connection string property.</span></span>  
  
-   <span data-ttu-id="9a704-171">También puede configurar particiones en la memoria caché de tal manera que la partición principal utilizada para el modo DirectQuery no se procese nunca y deba hacer siempre referencia al origen relacional.</span><span class="sxs-lookup"><span data-stu-id="9a704-171">You can also configure partitions on the cache in such a way that the primary partition used for DirectQuery mode is never processed and must always reference the relational source.</span></span> <span data-ttu-id="9a704-172">Hay muchas maneras de utilizar particiones para optimizar el diseño del modelo y la creación de informes.</span><span class="sxs-lookup"><span data-stu-id="9a704-172">There are many ways to use partitions to optimize the model design and reporting experience.</span></span> <span data-ttu-id="9a704-173">Para obtener más información, vea [particiones y el modo DirectQuery &#40;&#41;tabular de SSAS ](define-partitions-in-directquery-models-ssas-tabular.md).</span><span class="sxs-lookup"><span data-stu-id="9a704-173">For more information, see [Partitions and DirectQuery Mode &#40;SSAS Tabular&#41;](define-partitions-in-directquery-models-ssas-tabular.md).</span></span>  
  
-   <span data-ttu-id="9a704-174">Una vez implementado el modelo, puede cambiar el método de conexión preferido.</span><span class="sxs-lookup"><span data-stu-id="9a704-174">After the model has been deployed, you can change the preferred connection method.</span></span> <span data-ttu-id="9a704-175">Por ejemplo, puede utilizar un modo híbrido para las pruebas, y cambiar el modelo a **Solo DirectQuery** únicamente después de probar exhaustivamente los informes o las consultas utilizadas por este.</span><span class="sxs-lookup"><span data-stu-id="9a704-175">For example, you might use a hybrid mode for testing, and switch the model over to **DirectQuery only** mode only after thoroughly testing any reports or queries that use the model.</span></span> <span data-ttu-id="9a704-176">Para más información, vea [Establecer o cambiar el método de conexión preferido para DirectQuery](../set-or-change-the-preferred-connection-method-for-directquery.md).</span><span class="sxs-lookup"><span data-stu-id="9a704-176">For more information, see [Set or Change the Preferred Connection Method for DirectQuery](../set-or-change-the-preferred-connection-method-for-directquery.md).</span></span>  
  
###  <a name="data-sources-for-directquery-models"></a><a name="bkmk_DataSources"></a><span data-ttu-id="9a704-177">Orígenes de datos para los modelos DirectQuery</span><span class="sxs-lookup"><span data-stu-id="9a704-177">Data Sources for DirectQuery Models</span></span>  
 <span data-ttu-id="9a704-178">Tan pronto como cambie el entorno de diseño para habilitar el modo DirectQuery, se validarán los orígenes de datos de la base de datos del área de trabajo para garantizar que provienen de un único origen de datos de SQL Server.</span><span class="sxs-lookup"><span data-stu-id="9a704-178">As soon as you change the design environment to enable DirectQuery mode, the data sources for the workspace database are validated to ensure that they come from a single SQL Server data source.</span></span> <span data-ttu-id="9a704-179">Los datos de otros orígenes, incluidos los datos de copiar y pegar, no se admiten en los modelos DirectQuery.</span><span class="sxs-lookup"><span data-stu-id="9a704-179">Data from other sources, including copy-pasted data, is not allowed in DirectQuery models.</span></span>  
  
 <span data-ttu-id="9a704-180">Si tiene previsto utilizar el modelo en el modo DirectQuery, debe asegurarse de que todos los datos que necesita para la creación de informes estén almacenados en la base de datos de SQL Server especificada.</span><span class="sxs-lookup"><span data-stu-id="9a704-180">If you intend to use the model in DirectQuery mode, you must ensure that all the data you need for reporting is stored in the specified SQL Server database.</span></span> <span data-ttu-id="9a704-181">Si los datos que necesita para el modelado no están disponibles en ese origen, considere la posibilidad de utilizar Integration Services u otras herramientas de almacenamiento de datos para importar los datos en la base de datos de SQL Server que actúa como el origen de datos DirectQuery.</span><span class="sxs-lookup"><span data-stu-id="9a704-181">If the data you need for modeling is not available in that source, consider use of Integration Services or other data warehousing tools to import the data into a SQL Server database that serves as the DirectQuery data source.</span></span>  
  
###  <a name="validation-and-design-restrictions-for-directquery-mode"></a><a name="bkmk_Validation"></a><span data-ttu-id="9a704-182">Restricciones de validación y diseño para el modo DirectQuery</span><span class="sxs-lookup"><span data-stu-id="9a704-182">Validation and Design Restrictions for DirectQuery Mode</span></span>  
 <span data-ttu-id="9a704-183">Al crear un modelo para su uso en el modo DirectQuery, se deben cargar inicialmente parte de los datos en la memoria caché.</span><span class="sxs-lookup"><span data-stu-id="9a704-183">When you author a model for use in DirectQuery mode, you must initially load some portion of the data into the cache.</span></span> <span data-ttu-id="9a704-184">Si los datos que va a usar es demasiado grande para caber en la memoria, puede usar la opción **vista previa & filtro** del Asistente para la importación de tablas para seleccionar un subconjunto de datos, o escribir un script SQL para obtener los datos que desea.</span><span class="sxs-lookup"><span data-stu-id="9a704-184">If the data you will eventually use is too large to fit into memory, you can use the **Preview & Filter** option in the Table Import wizard to select a subset of data, or write a SQL script to get the data that you want.</span></span>  
  
> [!WARNING]  
>  <span data-ttu-id="9a704-185">Puesto que el modo DirectQuery no admite el uso de columnas calculadas, si hay alguna columna que desee combinar o en la que desee realizar otras operaciones, deberá planearlo por anticipado y crear la definición de columna como parte de la consulta o el script de importación de datos.</span><span class="sxs-lookup"><span data-stu-id="9a704-185">Because DirectQuery mode does not support the use of calculated columns, if there are columns that you wish to combine or perform other operations on, you should plan ahead and create the column definition as part of your data import query or script.</span></span>  
  
 <span data-ttu-id="9a704-186">Para ver y resolver los errores de validación, abra la **Lista de errores** en [!INCLUDE[ssBIDevStudio](../../includes/ssbidevstudio-md.md)].</span><span class="sxs-lookup"><span data-stu-id="9a704-186">To view and resolve validation errors, open the **Error List** in [!INCLUDE[ssBIDevStudio](../../includes/ssbidevstudio-md.md)].</span></span> <span data-ttu-id="9a704-187">Los errores críticos que impiden el uso del modo DirectQuery se muestran en la pestaña **errores** . Debe corregir estos errores antes de cambiar al modo DirectQuery.</span><span class="sxs-lookup"><span data-stu-id="9a704-187">Critical errors that prevent use of DirectQuery mode are displayed on the **Errors** tab. You must fix these errors before changing to DirectQuery mode.</span></span> <span data-ttu-id="9a704-188">Generalmente, los errores de validación más difíciles de resolver están relacionados con las fórmulas que no se admiten en el modo DirectQuery.</span><span class="sxs-lookup"><span data-stu-id="9a704-188">The validation errors that are more difficult to resolve typically are related to formulas that are not supported in DirectQuery mode.</span></span> <span data-ttu-id="9a704-189">Vea la sección [Compatibilidad de las fórmulas](#bkmk_FormulaCompat)para obtener información general sobre los errores relacionados con las fórmulas y las columnas calculadas.</span><span class="sxs-lookup"><span data-stu-id="9a704-189">See the section, [Formula Compatibility](#bkmk_FormulaCompat), for an overview of errors related to formulas and calculated columns.</span></span>  
  
 <span data-ttu-id="9a704-190">La lista siguiente describe otras consideraciones que se han de tener en cuenta al crear un modelo para el acceso DirectQuery:</span><span class="sxs-lookup"><span data-stu-id="9a704-190">The following list describes other considerations to keep in mind when authoring a model for DirectQuery access:</span></span>  
  
-   <span data-ttu-id="9a704-191">En el modo *Solo DirectQuery* , los resultados del informe pueden variar en función del contexto de seguridad del usuario que esté viendo los resultados.</span><span class="sxs-lookup"><span data-stu-id="9a704-191">When in *DirectQuery only* mode, the results in a report can vary depending on the security context of the user who is viewing the results.</span></span> <span data-ttu-id="9a704-192">Debe probar los modelos con distintas credenciales para asegurarse de que los usuarios consiguen los resultados previstos.</span><span class="sxs-lookup"><span data-stu-id="9a704-192">You should test models with different credentials to ensure that users get the expected results.</span></span>  
  
-   <span data-ttu-id="9a704-193">Si configura un modelo para que funcione en el modo híbrido, lo que permitirá el uso de la memoria caché o de los datos de SQL Server, debe tener en cuenta la posibilidad de que los clientes que se conecten con cada origen vean resultados diferentes, en función del modo especificado en la cadena de conexión.</span><span class="sxs-lookup"><span data-stu-id="9a704-193">If you configure a model to operate in hybrid mode, which allows the use of either the cache or data from SQL Server, you should be aware of the possibility that clients connecting to each source might see different results, depending on the mode specified in the connection string.</span></span> <span data-ttu-id="9a704-194">Si necesita asegurarse de que los usuarios del informe vean solo los datos de SQL Server, debe borrar la memoria caché o cambiar el modelo a DirectQueryOnly.</span><span class="sxs-lookup"><span data-stu-id="9a704-194">If you need to ensure that your report users see only data from SQL Server, you must clear the cache or change the model to DirectQueryOnly.</span></span>  
  
###  <a name="formula-compatibility-for-directquery-models"></a><a name="bkmk_FormulaCompat"></a><span data-ttu-id="9a704-195">Compatibilidad de las fórmulas para los modelos DirectQuery</span><span class="sxs-lookup"><span data-stu-id="9a704-195">Formula Compatibility for DirectQuery Models</span></span>  
 <span data-ttu-id="9a704-196">Algunos modelos pueden contener fórmulas que no se admiten en el modo DirectQuery; en estos casos, es necesario volver a diseñar el modelo para evitar los errores de validación.</span><span class="sxs-lookup"><span data-stu-id="9a704-196">Some models might contain formulas that are not supported in DirectQuery mode, and the model must be redesigned to prevent validation errors.</span></span> <span data-ttu-id="9a704-197">Entre las restricciones de las fórmulas que se admiten en el modo DirectQuery están las siguientes:</span><span class="sxs-lookup"><span data-stu-id="9a704-197">Restrictions on formulas that are supported in DirectQuery mode include the following:</span></span>  
  
-   <span data-ttu-id="9a704-198">Las columnas calculadas no se admiten en ningún modelo tabular que tenga habilitado el modo DirectQuery, ni siquiera en modelos híbridos.</span><span class="sxs-lookup"><span data-stu-id="9a704-198">Calculated columns are not supported in any tabular model that has DirectQuery mode enabled, not even hybrid models.</span></span> <span data-ttu-id="9a704-199">Si necesita columnas calculadas en un modelo, considere la posibilidad de convertirlas en columnas derivadas utilizando Transact-SQL en la definición de importación.</span><span class="sxs-lookup"><span data-stu-id="9a704-199">If you need calculated columns for a model, consider converting them to derived columns by using Transact-SQL in your import definition.</span></span>  
  
-   <span data-ttu-id="9a704-200">Los modelos DirectQuery admiten el uso de fórmulas DAX en las medidas, que se convierten en operaciones basadas en conjuntos en el almacén de datos relacional.</span><span class="sxs-lookup"><span data-stu-id="9a704-200">DirectQuery models do support the use of DAX formulas for use in measures, which are converted to set-based operations against the relational data store.</span></span> <span data-ttu-id="9a704-201">Se admiten todas las medidas creadas mediante medidas implícitas.</span><span class="sxs-lookup"><span data-stu-id="9a704-201">All measures that you create by using implicit measures are supported.</span></span>  
  
-   <span data-ttu-id="9a704-202">No se admiten todas las funciones.</span><span class="sxs-lookup"><span data-stu-id="9a704-202">Not all functions are supported.</span></span> <span data-ttu-id="9a704-203">Puesto que [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] convierte todas las fórmulas DAX y las definiciones de medida en instrucciones SQL cuando se consulta un modelo DirectQuery, las fórmulas que contengan elementos que no se puedan convertir en Transact-SQL desencadenarán errores de validación en el modelo.</span><span class="sxs-lookup"><span data-stu-id="9a704-203">Because [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] converts all DAX formulas and measure definitions into SQL statements when querying a DirectQuery model, any formula containing elements that cannot be converted into Transact-SQL will trigger validation errors on the model.</span></span> <span data-ttu-id="9a704-204">Por ejemplo, las funciones de la inteligencia de tiempo no se admiten.</span><span class="sxs-lookup"><span data-stu-id="9a704-204">For example, time intelligence functions are not supported.</span></span> <span data-ttu-id="9a704-205">Incluso las funciones admitidas pueden comportarse de forma diferente, como las funciones estadísticas.</span><span class="sxs-lookup"><span data-stu-id="9a704-205">Even functions that are supported might behave differently, such as statistical functions.</span></span> <span data-ttu-id="9a704-206">Para obtener una lista completa de los problemas de compatibilidad, vea [compatibilidad de las fórmulas en el modo DirectQuery](../dax-formula-compatibility-in-directquery-mode-ssas-2014.md).</span><span class="sxs-lookup"><span data-stu-id="9a704-206">For a complete list of compatibility issues, see [Formula Compatibility in DirectQuery Mode](../dax-formula-compatibility-in-directquery-mode-ssas-2014.md).</span></span>  
  
-   <span data-ttu-id="9a704-207">Algunas fórmulas del modelo pueden validarse al cambiar este al modo DirectQuery, pero devolver resultados diferentes cuando se ejecutan en la memoria caché en comparación con el almacén de datos relacional.</span><span class="sxs-lookup"><span data-stu-id="9a704-207">Some formulas in the model might validate when you switch the model to DirectQuery mode, but return different results when executed against the cache vs. the relational data store.</span></span> <span data-ttu-id="9a704-208">Esto es debido a que los cálculos en la memoria caché utilizan la semántica del motor analítico en memoria xVelocity (VertiPaq), que contiene muchas características cuya finalidad es emular el comportamiento de Excel, mientras que las consultas en los datos almacenados en el almacén de datos relacional utilizan necesariamente la semántica de SQL Server.</span><span class="sxs-lookup"><span data-stu-id="9a704-208">This is because calculations against the cache use the semantics of the xVelocity in-memory analytics (VertiPaq) engine, which contains many features meant to emulate the behavior of Excel, whereas queries against data stored in the relational data store necessarily use the semantics of SQL Server.</span></span> <span data-ttu-id="9a704-209">Para obtener una lista de las funciones DAX que pueden devolver resultados diferentes cuando el modelo se implementa en tiempo real, vea [compatibilidad de las fórmulas en el modo DirectQuery](../dax-formula-compatibility-in-directquery-mode-ssas-2014.md).</span><span class="sxs-lookup"><span data-stu-id="9a704-209">For a list of DAX functions that might return different results when the model is deployed to real-time, see [Formula Compatibility in DirectQuery Mode](../dax-formula-compatibility-in-directquery-mode-ssas-2014.md).</span></span>  
  
###  <a name="connecting-to-directquery-models"></a><a name="bkmk_Connecting"></a><span data-ttu-id="9a704-210">Conectar con los modelos DirectQuery</span><span class="sxs-lookup"><span data-stu-id="9a704-210">Connecting to DirectQuery Models</span></span>  
 <span data-ttu-id="9a704-211">Los clientes que utilicen MDX como lenguaje de consultas no podrán conectarse a los modelos que utilizan el modo DirectQuery.</span><span class="sxs-lookup"><span data-stu-id="9a704-211">Clients that use MDX as the query language cannot connect to models that use DirectQuery mode.</span></span> <span data-ttu-id="9a704-212">Por ejemplo, si intenta crear una consulta MDX en un modelo DirectQuery, aparecerá un error que indica que no se puede encontrar el cubo, o que este no se ha procesado.</span><span class="sxs-lookup"><span data-stu-id="9a704-212">For example, if you attempt to create an MDX query against a DirectQuery model, you will get an error indicating that the cube cannot be found, or has not been processed.</span></span> <span data-ttu-id="9a704-213">Puede crear consultas en los modelos DirectQuery utilizando [!INCLUDE[ssCrescent](../../includes/sscrescent-md.md)], fórmulas DAX o consultas XMLA.</span><span class="sxs-lookup"><span data-stu-id="9a704-213">You can create queries against DirectQuery models by using [!INCLUDE[ssCrescent](../../includes/sscrescent-md.md)], DAX formulas, or XMLA queries.</span></span> <span data-ttu-id="9a704-214">Para obtener más información sobre cómo realizar consultas ad hoc en modelos tabulares, vea [Tabular Model Data Access](tabular-model-data-access.md).</span><span class="sxs-lookup"><span data-stu-id="9a704-214">For more information about how you can perform ad hoc queries against tabular models, see [Tabular Model Data Access](tabular-model-data-access.md).</span></span>  
  
 <span data-ttu-id="9a704-215">Si va a utilizar un modelo híbrido, puede especificar si los usuarios se conectarán a la memoria caché o utilizarán datos DirectQuery especificando la propiedad de cadena de conexión, DirectQueryMode.</span><span class="sxs-lookup"><span data-stu-id="9a704-215">If you are using a hybrid model, you can specify whether users connect to the cache or use DirectQuery data by specifying the connection string property, DirectQueryMode.</span></span>  
  
###  <a name="security-in-directquery-mode"></a><a name="bkmk_Security"></a><span data-ttu-id="9a704-216">Seguridad en el modo DirectQuery</span><span class="sxs-lookup"><span data-stu-id="9a704-216">Security in DirectQuery Mode</span></span>  
 <span data-ttu-id="9a704-217">Los permisos que se utilizan para recuperar los datos de origen se deben especificar durante el proceso de creación del modelo.</span><span class="sxs-lookup"><span data-stu-id="9a704-217">During model authoring, you specify the permissions that are used to retrieve the source data.</span></span> <span data-ttu-id="9a704-218">A menudo, serán sus propias credenciales o una cuenta que se use para el desarrollo.</span><span class="sxs-lookup"><span data-stu-id="9a704-218">This will often be your own credentials, or an account used for development.</span></span> <span data-ttu-id="9a704-219">Sin embargo, cuando se cambia el modelo al modo DirectQuery, el contexto de seguridad es más complejo:</span><span class="sxs-lookup"><span data-stu-id="9a704-219">However, when you switch the model to use DirectQuery mode, the security context is more complex:</span></span>  
  
-   <span data-ttu-id="9a704-220">Considere si los usuarios tienen el nivel de acceso necesario a los datos del almacén de datos relacional.</span><span class="sxs-lookup"><span data-stu-id="9a704-220">Consider whether users have the necessary level of access to the data in the relational data store.</span></span>  
  
-   <span data-ttu-id="9a704-221">Los usuarios que ven el mismo modelo o informe pueden ver datos diferentes, en función del contexto de seguridad del usuario.</span><span class="sxs-lookup"><span data-stu-id="9a704-221">Users who view the same model or report might see different data, depending on the user's security context.</span></span>  
  
-   <span data-ttu-id="9a704-222">Si se ha conservado la memoria caché de modelos, dicha memoria debe protegerse con los (roles) de modelo de seguridad de [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] .</span><span class="sxs-lookup"><span data-stu-id="9a704-222">If the model cache has been preserved, the cache is secured using the [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] security model (roles).</span></span> <span data-ttu-id="9a704-223">Es posible que la memoria caché contenga datos que puede ver el diseñador de modelos pero no otros usuarios.</span><span class="sxs-lookup"><span data-stu-id="9a704-223">The cache might contain data that the model designer is privileged to see but the user is not.</span></span> <span data-ttu-id="9a704-224">Los diseñadores de modelos y de informes deben borrar la memoria caché o proteger estos datos controlando el acceso a ellos mediante roles.</span><span class="sxs-lookup"><span data-stu-id="9a704-224">Model and report designers should either clear the cache, or secure this data by controlling access via roles.</span></span>  
  
-   <span data-ttu-id="9a704-225">Un modelo que responda a las consultas de la memoria caché no puede suplantar al usuario actual al conectarse al origen de datos.</span><span class="sxs-lookup"><span data-stu-id="9a704-225">A model that answers queries from the cache cannot impersonate the current user when connecting to the data source.</span></span> <span data-ttu-id="9a704-226">Si desea suplantar al usuario actual al conectarse al origen de datos, debe utilizar el modo DirectQuery.</span><span class="sxs-lookup"><span data-stu-id="9a704-226">If you want to impersonate the current user when connecting to the data source, you must use DirectQuery mode.</span></span>  
  
-   <span data-ttu-id="9a704-227">Si su modelo de informe requiere funciones de seguridad, dispone de dos opciones: utilizar los roles de [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] o establecer permisos para el origen de datos en el nivel de fila.</span><span class="sxs-lookup"><span data-stu-id="9a704-227">If your report model requires security, you have two options: you can either use [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] roles, or you can set row-level permissions on the data source.</span></span> <span data-ttu-id="9a704-228">La seguridad en el origen de datos relacional se utiliza para controlar el acceso a las tablas, y no se admite la seguridad en el nivel de columna.</span><span class="sxs-lookup"><span data-stu-id="9a704-228">Security in the relational data source is used to control access to tables, and column-level security is not supported.</span></span> <span data-ttu-id="9a704-229">Por lo tanto, si los usuarios de una región no tienen permiso para ver las cifras de ventas de otras regiones, un informe que incluya una medida basada en la tabla de ventas devolverá espacios en blanco o un error.</span><span class="sxs-lookup"><span data-stu-id="9a704-229">Therefore, if users in one region do not have permission to view sales figures from different regions, a report that includes a measure based on the Sales table would return blanks or an error.</span></span>  
  
 <span data-ttu-id="9a704-230">La propiedad de los valores de suplantación especifica las credenciales utilizadas al conectarse a un modelo con DirectQuery, ya sea para un modelo Solo DirectQuery o para un modelo híbrido que responda a consultas mediante DirectQuery.</span><span class="sxs-lookup"><span data-stu-id="9a704-230">The impersonation settings property specifies the credentials used when you are connecting to a model using DirectQuery, either for a DirectQuery only model or for a hybrid model answering queries using DirectQuery.</span></span> <span data-ttu-id="9a704-231">La propiedad tiene los siguientes valores:</span><span class="sxs-lookup"><span data-stu-id="9a704-231">The property has the following values:</span></span>  
  
 <span data-ttu-id="9a704-232">**Valor predeterminado**</span><span class="sxs-lookup"><span data-stu-id="9a704-232">**Default**</span></span>  
 <span data-ttu-id="9a704-233">Utiliza las credenciales especificadas en el asistente para la importación para conectarse al origen de datos.</span><span class="sxs-lookup"><span data-stu-id="9a704-233">Uses the credentials specified in the import wizard to connect to the data source.</span></span> <span data-ttu-id="9a704-234">Puede ser un usuario específico de Windows o la cuenta de servicio.</span><span class="sxs-lookup"><span data-stu-id="9a704-234">This can be a specific Windows user or the service account.</span></span>  
  
 `ImpersonateCurrentUser`  
 <span data-ttu-id="9a704-235">Usa las credenciales de Windows del usuario actual para conectarse al origen de datos.</span><span class="sxs-lookup"><span data-stu-id="9a704-235">Uses the credentials of the current user to connect to the data source.</span></span>  
  
 <span data-ttu-id="9a704-236">Para obtener información sobre cómo establecer estas propiedades, vea [escenarios de implementación de DirectQuery &#40;&#41;tabulares de SSAS ](../directquery-deployment-scenarios-ssas-tabular.md).</span><span class="sxs-lookup"><span data-stu-id="9a704-236">For information on how to set these properties, see [DirectQuery Deployment Scenarios &#40;SSAS Tabular&#41;](../directquery-deployment-scenarios-ssas-tabular.md).</span></span>  
  
##  <a name="directquery-properties"></a><a name="bkmk_PropertyList"></a><span data-ttu-id="9a704-237">Propiedades de DirectQuery</span><span class="sxs-lookup"><span data-stu-id="9a704-237">DirectQuery Properties</span></span>  
 <span data-ttu-id="9a704-238">La tabla siguiente enumera las propiedades que se pueden establecer en [!INCLUDE[ssBIDevStudio](../../includes/ssbidevstudio-md.md)]y [!INCLUDE[ssManStudioFull](../../includes/ssmanstudiofull-md.md)]para habilitar DirectQuery y controlar el origen de los datos utilizado para las consultas en el modelo.</span><span class="sxs-lookup"><span data-stu-id="9a704-238">The following table lists the properties that you can set in [!INCLUDE[ssBIDevStudio](../../includes/ssbidevstudio-md.md)], and in [!INCLUDE[ssManStudioFull](../../includes/ssmanstudiofull-md.md)], to enable DirectQuery and to control the source of data used for queries against the model.</span></span>  
  
|<span data-ttu-id="9a704-239">Nombre de propiedad</span><span class="sxs-lookup"><span data-stu-id="9a704-239">Property name</span></span>|<span data-ttu-id="9a704-240">Descripción</span><span class="sxs-lookup"><span data-stu-id="9a704-240">Description</span></span>|  
|-------------------|-----------------|  
|<span data-ttu-id="9a704-241">**Propiedad DirectQueryMode**</span><span class="sxs-lookup"><span data-stu-id="9a704-241">**DirectQueryMode property**</span></span>|<span data-ttu-id="9a704-242">Esta propiedad habilita el uso del modo DirectQuery en el diseñador de modelos.</span><span class="sxs-lookup"><span data-stu-id="9a704-242">This property enables use of DirectQuery mode in the model designer.</span></span> <span data-ttu-id="9a704-243">Se debe establecer en `On` para cambiar cualquiera de las otras propiedades de DirectQuery.</span><span class="sxs-lookup"><span data-stu-id="9a704-243">You must set this property to `On` to change any of the other DirectQuery properties.</span></span><br /><br /> <span data-ttu-id="9a704-244">Para obtener más información, vea [Habilitar el modo de diseño de DirectQuery &#40;&#41;tabular de SSAS ](enable-directquery-mode-in-ssdt.md).</span><span class="sxs-lookup"><span data-stu-id="9a704-244">For more information, see [Enable DirectQuery Design Mode &#40;SSAS Tabular&#41;](enable-directquery-mode-in-ssdt.md).</span></span>|  
|<span data-ttu-id="9a704-245">**Propiedad QueryMode**</span><span class="sxs-lookup"><span data-stu-id="9a704-245">**QueryMode property**</span></span>|<span data-ttu-id="9a704-246">Esta propiedad especifica el método de consulta predeterminado para un modelo DirectQuery. Se establece en el diseñador de modelos al implementar el modelo, pero se puede invalidar más adelante.</span><span class="sxs-lookup"><span data-stu-id="9a704-246">This property specifies the default query method for a DirectQuery model, You set this property in the model designer when you deploy the model, but you can override it later.</span></span> <span data-ttu-id="9a704-247">La propiedad tiene estos valores:</span><span class="sxs-lookup"><span data-stu-id="9a704-247">The property has these values:</span></span><br /><br /> <span data-ttu-id="9a704-248">**DirectQuery** : este valor especifica que todas las consultas al modelo deben utilizar solo el origen de datos relacional.</span><span class="sxs-lookup"><span data-stu-id="9a704-248">**DirectQuery** - This setting specifies all queries to the model should use the relational data source only.</span></span><br /><br /> <span data-ttu-id="9a704-249">**DirectQuery con In-Memory** : este valor especifica que, de forma predeterminada, las consultas se deben responder con el origen relacional, a menos que se especifique lo contrario en la cadena de conexión desde el cliente.</span><span class="sxs-lookup"><span data-stu-id="9a704-249">**DirectQuery with In-Memory** - This setting specifies, by default, queries should be answered by using the relational source, unless otherwise specified in the connection string from the client.</span></span><br /><br /> <span data-ttu-id="9a704-250">**In-Memory** : este valor especifica que las consultas tienen que responderse únicamente con la caché.</span><span class="sxs-lookup"><span data-stu-id="9a704-250">**In-Memory** - This setting specifies  queries should be answered by using the cache only.</span></span><br /><br /> <span data-ttu-id="9a704-251">**In-Memory con DirectQuery** : este valor especifica, de forma predeterminada,</span><span class="sxs-lookup"><span data-stu-id="9a704-251">**In-Memory with DirectQuery** - This setting specifies, by default.</span></span> <span data-ttu-id="9a704-252">que las consultas se deben responder mediante caché, a menos que se especifique lo contrario en la cadena de conexión de cliente.</span><span class="sxs-lookup"><span data-stu-id="9a704-252">queries should be answered by using the cache, unless otherwise specified in the connection string from the client.</span></span><br /><br /> <br /><br /> <span data-ttu-id="9a704-253">Para más información, vea [Establecer o cambiar el método de conexión preferido para DirectQuery](../set-or-change-the-preferred-connection-method-for-directquery.md).</span><span class="sxs-lookup"><span data-stu-id="9a704-253">For more information, see [Set or Change the Preferred Connection Method for DirectQuery](../set-or-change-the-preferred-connection-method-for-directquery.md).</span></span>|  
|<span data-ttu-id="9a704-254">**Propiedad DirectQueryMode**</span><span class="sxs-lookup"><span data-stu-id="9a704-254">**DirectQueryMode property**</span></span>|<span data-ttu-id="9a704-255">Una vez implementado el modelo, es posible cambiar el origen de datos preferido de la consulta para un modelo DirectQuery modificando esta propiedad en [!INCLUDE[ssManStudioFull](../../includes/ssmanstudiofull-md.md)].</span><span class="sxs-lookup"><span data-stu-id="9a704-255">After the model has been deployed, you can change the preferred query data source for a DirectQuery model, by changing this property in [!INCLUDE[ssManStudioFull](../../includes/ssmanstudiofull-md.md)]</span></span><br /><br /> <span data-ttu-id="9a704-256">Al igual que la propiedad anterior, esta propiedad especifica el origen de datos predeterminado para el modelo, y tiene estos valores:</span><span class="sxs-lookup"><span data-stu-id="9a704-256">Like the previous property, this property specifies the default data source for the model, and has these values:</span></span><br /><br /> <span data-ttu-id="9a704-257">**InMemory**: Las consultas solo pueden usar la memoria caché.</span><span class="sxs-lookup"><span data-stu-id="9a704-257">**InMemory**: Queries can use the cache only.</span></span><br /><br /> <span data-ttu-id="9a704-258">**DirectQuerywithInMemory**: Las consultas usan el origen de datos relacional de forma predeterminada, a menos que se especifique lo contrario en la cadena de conexión desde el cliente.</span><span class="sxs-lookup"><span data-stu-id="9a704-258">**DirectQuerywithInMemory**: Queries use the relational data source by default, unless otherwise specified in the connection string from the client.</span></span><br /><br /> <span data-ttu-id="9a704-259">**InMemorywithDirectQuery**: Las consultas usan la memoria caché de forma predeterminada, a menos que se especifique lo contrario en la cadena de conexión desde el cliente.</span><span class="sxs-lookup"><span data-stu-id="9a704-259">**InMemorywithDirectQuery**: Queries use the cache by default, unless otherwise specified in the connection string from the client.</span></span><br /><br /> <span data-ttu-id="9a704-260">(**DirectQuery**: las consultas solo usan el origen de datos relacional.</span><span class="sxs-lookup"><span data-stu-id="9a704-260">(**DirectQuery**: Queries use the relational data source only.</span></span><br /><br /> <br /><br /> <span data-ttu-id="9a704-261">Para más información, vea [Establecer o cambiar el método de conexión preferido para DirectQuery](../set-or-change-the-preferred-connection-method-for-directquery.md).</span><span class="sxs-lookup"><span data-stu-id="9a704-261">For more information, see [Set or Change the Preferred Connection Method for DirectQuery](../set-or-change-the-preferred-connection-method-for-directquery.md).</span></span>|  
|<span data-ttu-id="9a704-262">**Propiedad Configuración de suplantación**</span><span class="sxs-lookup"><span data-stu-id="9a704-262">**Impersonation Settings property**</span></span>|<span data-ttu-id="9a704-263">Esta propiedad define las credenciales que se utilizan para conectarse con el origen de datos de SQL Server en el momento de la consulta.</span><span class="sxs-lookup"><span data-stu-id="9a704-263">This property defines the credentials used to connect to the SQL Server data source at query time.</span></span> <span data-ttu-id="9a704-264">Puede establecer esta propiedad en el diseñador de modelos y cambiar su valor más adelante, una vez implementado el modelo.</span><span class="sxs-lookup"><span data-stu-id="9a704-264">You can set this property in the model designer, and you can change the value later, after the model has been deployed.</span></span><br /><br /> <span data-ttu-id="9a704-265">Tenga en cuenta que estas credenciales solo se utilizan para responder a las consultas en el almacén de datos relacional; no son las mismas que se usan para procesar la memoria caché de un modelo híbrido.</span><span class="sxs-lookup"><span data-stu-id="9a704-265">Note that these credentials are used only for answering queries against the relational data store; they are not the same as the credentials used for processing the cache of a hybrid model.</span></span><br /><br /> <span data-ttu-id="9a704-266">No se puede utilizar la suplantación si el modelo solo se usa en la memoria.</span><span class="sxs-lookup"><span data-stu-id="9a704-266">Impersonation cannot be used when the model is used within memory only.</span></span> <span data-ttu-id="9a704-267">El valor `ImpersonateCurrentUser` no es válido a menos que el modelo utilice el modo DirectQuery.</span><span class="sxs-lookup"><span data-stu-id="9a704-267">The setting `ImpersonateCurrentUser`, is invalid unless the model is using DirectQuery mode.</span></span>|  
  
 <span data-ttu-id="9a704-268">Además, si el modelo incluye particiones, deberá elegir una que actuará como origen para las consultas en el modo DirectQuery.</span><span class="sxs-lookup"><span data-stu-id="9a704-268">Additionally, if your model includes partitions, you must choose one partition to use as the source for queries in DirectQuery mode.</span></span> <span data-ttu-id="9a704-269">Para obtener más información, vea [particiones y el modo DirectQuery &#40;&#41;tabular de SSAS ](define-partitions-in-directquery-models-ssas-tabular.md).</span><span class="sxs-lookup"><span data-stu-id="9a704-269">For more information, see [Partitions and DirectQuery Mode &#40;SSAS Tabular&#41;](define-partitions-in-directquery-models-ssas-tabular.md).</span></span>  
  
##  <a name="related-topics-and-tasks"></a><a name="bkmk_related_tasks"></a><span data-ttu-id="9a704-270">Temas y tareas relacionados</span><span class="sxs-lookup"><span data-stu-id="9a704-270">Related Topics and Tasks</span></span>  
  
|<span data-ttu-id="9a704-271">Tema</span><span class="sxs-lookup"><span data-stu-id="9a704-271">Topic</span></span>|<span data-ttu-id="9a704-272">Descripción</span><span class="sxs-lookup"><span data-stu-id="9a704-272">Description</span></span>|  
|-----------|-----------------|  
|[<span data-ttu-id="9a704-273">Particiones y modo DirectQuery &#40;&#41;tabular de SSAS</span><span class="sxs-lookup"><span data-stu-id="9a704-273">Partitions and DirectQuery Mode &#40;SSAS Tabular&#41;</span></span>](define-partitions-in-directquery-models-ssas-tabular.md)|<span data-ttu-id="9a704-274">Describe cómo las particiones se utilizan en los modelos configurados para el modo DirectQuery.</span><span class="sxs-lookup"><span data-stu-id="9a704-274">Describes how partitions are used in models configured for DirectQuery mode.</span></span>|  
|[<span data-ttu-id="9a704-275">Compatibilidad de las fórmulas DAX en el modo DirectQuery</span><span class="sxs-lookup"><span data-stu-id="9a704-275">DAX Formula Compatibility in DirectQuery Mode</span></span>](../dax-formula-compatibility-in-directquery-mode-ssas-2014.md)|<span data-ttu-id="9a704-276">Describe las restricciones y los requisitos de compatibilidad en las fórmulas que se pueden usar en modelos configurados para el modo DirectQuery.</span><span class="sxs-lookup"><span data-stu-id="9a704-276">Describes restrictions and compatibility requirements on the formulas that you can use in models configured for DirectQuery mode.</span></span>|  
|[<span data-ttu-id="9a704-277">Habilitar el modo de diseño DirectQuery &#40;SSAS tabular&#41;</span><span class="sxs-lookup"><span data-stu-id="9a704-277">Enable DirectQuery Design Mode &#40;SSAS Tabular&#41;</span></span>](enable-directquery-mode-in-ssdt.md)|<span data-ttu-id="9a704-278">Describe cómo se puede cambiar el entorno en tiempo de diseño para que admita el uso del modo DirectQuery.</span><span class="sxs-lookup"><span data-stu-id="9a704-278">Describes how you can change the design-time environment so that it supports using DirectQuery mode</span></span>|  
|[<span data-ttu-id="9a704-279">Cambiar la partición de DirectQuery &#40;la&#41;tabular de SSAS</span><span class="sxs-lookup"><span data-stu-id="9a704-279">Change the DirectQuery Partition &#40;SSAS Tabular&#41;</span></span>](../change-the-directquery-partition-ssas-tabular.md)|<span data-ttu-id="9a704-280">Describe cómo cambiar la partición de DirectQuery.</span><span class="sxs-lookup"><span data-stu-id="9a704-280">Describes how to change the DirectQuery partition.</span></span>|  
|[<span data-ttu-id="9a704-281">Establecer o cambiar el método de conexión preferido para DirectQuery</span><span class="sxs-lookup"><span data-stu-id="9a704-281">Set or Change the Preferred Connection Method for DirectQuery</span></span>](../set-or-change-the-preferred-connection-method-for-directquery.md)|<span data-ttu-id="9a704-282">Describe cómo establecer o cambiar el método de conexión de los modelos configurados para DirectQuery.</span><span class="sxs-lookup"><span data-stu-id="9a704-282">Describes how to set or change the connection method for models configured for DirectQuery.</span></span>|  
|[<span data-ttu-id="9a704-283">Escenarios de implementación de DirectQuery &#40;&#41;tabular de SSAS</span><span class="sxs-lookup"><span data-stu-id="9a704-283">DirectQuery Deployment Scenarios &#40;SSAS Tabular&#41;</span></span>](../directquery-deployment-scenarios-ssas-tabular.md)|<span data-ttu-id="9a704-284">Describe los escenarios de implementación de DirectQuery.</span><span class="sxs-lookup"><span data-stu-id="9a704-284">Describes DirectQuery deployment scenarios.</span></span>|  
|[<span data-ttu-id="9a704-285">Configurar el acceso In-Memory o DirectQuery para una base de datos modelo tabular</span><span class="sxs-lookup"><span data-stu-id="9a704-285">Configure In-Memory or DirectQuery Access for a Tabular Model Database</span></span>](enable-directquery-mode-in-ssms.md)|<span data-ttu-id="9a704-286">Entender las configuraciones de DirectQuery</span><span class="sxs-lookup"><span data-stu-id="9a704-286">Understand DirectQuery configurations</span></span>|  
|[<span data-ttu-id="9a704-287">Borrar las memorias caché de Analysis Services</span><span class="sxs-lookup"><span data-stu-id="9a704-287">Clear the Analysis Services Caches</span></span>](../instances/clear-the-analysis-services-caches.md)|<span data-ttu-id="9a704-288">Borrar la memoria caché del modelo tabular</span><span class="sxs-lookup"><span data-stu-id="9a704-288">Clear the cache of the tabular model</span></span>|  
  
## <a name="see-also"></a><span data-ttu-id="9a704-289">Consulte también</span><span class="sxs-lookup"><span data-stu-id="9a704-289">See Also</span></span>  
 <span data-ttu-id="9a704-290">[Particiones &#40;&#41;tabular de SSAS](partitions-ssas-tabular.md) </span><span class="sxs-lookup"><span data-stu-id="9a704-290">[Partitions &#40;SSAS Tabular&#41;](partitions-ssas-tabular.md) </span></span>  
 <span data-ttu-id="9a704-291">[Proyectos de modelos tabulares &#40;&#41;tabular de SSAS](tabular-model-projects-ssas-tabular.md) </span><span class="sxs-lookup"><span data-stu-id="9a704-291">[Tabular Model Projects &#40;SSAS Tabular&#41;](tabular-model-projects-ssas-tabular.md) </span></span>  
 [<span data-ttu-id="9a704-292">Analizar en Excel &#40;SSAS tabular&#41;</span><span class="sxs-lookup"><span data-stu-id="9a704-292">Analyze in Excel &#40;SSAS Tabular&#41;</span></span>](analyze-in-excel-ssas-tabular.md)  
