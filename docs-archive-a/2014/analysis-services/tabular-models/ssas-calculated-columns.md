---
title: Columnas calculadas (SSAS tabular) | Microsoft Docs
ms.custom: ''
ms.date: 06/13/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: analysis-services
ms.topic: conceptual
ms.assetid: e1011278-556d-4984-b01d-a37f8a33b304
author: minewiskan
ms.author: owend
ms.openlocfilehash: 5d77b36ee3327d1b9e0d31ac97e5dbe135093a63
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 08/04/2020
ms.locfileid: "87743634"
---
# <a name="calculated-columns-ssas-tabular"></a><span data-ttu-id="8438c-102">Columnas calculadas (SSAS tabular)</span><span class="sxs-lookup"><span data-stu-id="8438c-102">Calculated Columns (SSAS Tabular)</span></span>
  <span data-ttu-id="8438c-103">En los modelos tabulares, las columnas calculadas le permiten agregar nuevos datos al modelo.</span><span class="sxs-lookup"><span data-stu-id="8438c-103">Calculated columns, in tabular models, allow you to add new data to your model.</span></span> <span data-ttu-id="8438c-104">En lugar de pegar o importar valores en la columna, se crea una fórmula DAX que define los valores de nivel de fila de la columna.</span><span class="sxs-lookup"><span data-stu-id="8438c-104">Instead of pasting or importing values into the column, you create a DAX formula that defines the column's row level values.</span></span> <span data-ttu-id="8438c-105">A continuación, la columna calculada se puede utilizar en un informe, una tabla dinámica o un gráfico dinámico como cualquier otra columna.</span><span class="sxs-lookup"><span data-stu-id="8438c-105">The calculated column can then be used in a report, PivotTable, or PivotChart as would any other column.</span></span>  
  
> [!NOTE]  
>  <span data-ttu-id="8438c-106">Las columnas calculadas no se admiten en los modelos tabulares en el modo DirectQuery.</span><span class="sxs-lookup"><span data-stu-id="8438c-106">Calculated columns are not supported for tabular models in DirectQuery mode.</span></span> <span data-ttu-id="8438c-107">Para más información, vea [Modo DirectQuery &#40;SSAS tabular&#41;](directquery-mode-ssas-tabular.md).</span><span class="sxs-lookup"><span data-stu-id="8438c-107">For more information, see [DirectQuery Mode &#40;SSAS Tabular&#41;](directquery-mode-ssas-tabular.md).</span></span>  
  
 <span data-ttu-id="8438c-108">Secciones de este tema:</span><span class="sxs-lookup"><span data-stu-id="8438c-108">Sections in this topic:</span></span>  
  
-   [<span data-ttu-id="8438c-109">Ventajas</span><span class="sxs-lookup"><span data-stu-id="8438c-109">Benefits</span></span>](#bkmk_understanding)  
  
-   [<span data-ttu-id="8438c-110">Asignar un nombre a una columna calculada</span><span class="sxs-lookup"><span data-stu-id="8438c-110">Naming a Calculated Column</span></span>](#bkmk_naming)  
  
-   [<span data-ttu-id="8438c-111">Rendimiento de las columnas calculadas</span><span class="sxs-lookup"><span data-stu-id="8438c-111">Performance of Calculated Columns</span></span>](#bkmk_perf)  
  
-   [<span data-ttu-id="8438c-112">Tareas relacionadas</span><span class="sxs-lookup"><span data-stu-id="8438c-112">Related Tasks</span></span>](#bkmk_rel_tasks)  
  
##  <a name="benefits"></a><a name="bkmk_understanding"></a> <span data-ttu-id="8438c-113">Ventajas</span><span class="sxs-lookup"><span data-stu-id="8438c-113">Benefits</span></span>  
 <span data-ttu-id="8438c-114">Las fórmulas en las columnas calculadas son muy similares a las fórmulas en Excel.</span><span class="sxs-lookup"><span data-stu-id="8438c-114">Formulas in calculated columns are much like formulas in Excel.</span></span> <span data-ttu-id="8438c-115">A diferencia de Excel, sin embargo, no se pueden crear fórmulas diferentes para las distintas filas de una tabla; la fórmula de DAX se aplica automáticamente a toda la columna.</span><span class="sxs-lookup"><span data-stu-id="8438c-115">Unlike Excel, however, you cannot create different formulas for different rows in a table; instead, the DAX formula is automatically applied to the entire column.</span></span>  
  
 <span data-ttu-id="8438c-116">Cuando una columna contiene una fórmula, el valor se calcula para cada fila.</span><span class="sxs-lookup"><span data-stu-id="8438c-116">When a column contains a formula, the value is computed for each row.</span></span> <span data-ttu-id="8438c-117">Los resultados se calculan para la columna cuando se escribe una fórmula válida.</span><span class="sxs-lookup"><span data-stu-id="8438c-117">The results are calculated for the column when you enter a valid formula.</span></span> <span data-ttu-id="8438c-118">A continuación, los valores de columna se actualizan según convenga, por ejemplo cuando los datos subyacentes se actualizan.</span><span class="sxs-lookup"><span data-stu-id="8438c-118">Column values are then recalculated as necessary, such as when the underlying data is refreshed.</span></span>  
  
 <span data-ttu-id="8438c-119">Puede crear columnas calculadas que están basadas en las medidas y en otras columnas calculadas.</span><span class="sxs-lookup"><span data-stu-id="8438c-119">You can create calculated columns that are based on measures and other calculated columns.</span></span> <span data-ttu-id="8438c-120">Por ejemplo, se podría crear una columna calculada para extraer un número de una cadena de texto y, a continuación, usar ese número en otra columna calculada.</span><span class="sxs-lookup"><span data-stu-id="8438c-120">For example, you might create one calculated column to extract a number from a string of text, and then use that number in another calculated column.</span></span>  
  
 <span data-ttu-id="8438c-121">Una columna calculada está basada en datos ya incluidos en una tabla existente, o que se crean mediante una fórmula de DAX.</span><span class="sxs-lookup"><span data-stu-id="8438c-121">A calculated column is based on data that you already have in an existing table, or created by using a DAX formula.</span></span> <span data-ttu-id="8438c-122">Por ejemplo, podría decidir concatenar los valores, realizar la suma, extraer las subcadenas o comparar los valores de otros campos.</span><span class="sxs-lookup"><span data-stu-id="8438c-122">For example, you might choose to concatenate values, perform addition, extract substrings, or compare the values in other fields.</span></span> <span data-ttu-id="8438c-123">Para agregar una columna calculada, debe haber al menos una tabla en el modelo.</span><span class="sxs-lookup"><span data-stu-id="8438c-123">To add a calculated column, you must have at least one table in your model.</span></span>  
  
 <span data-ttu-id="8438c-124">En este ejemplo se muestra una fórmula simple en una columna calculada:</span><span class="sxs-lookup"><span data-stu-id="8438c-124">This example demonstrates a simple formula in a calculated column:</span></span>  
  
```  
=EOMONTH([StartDate],0])  
  
```  
  
 <span data-ttu-id="8438c-125">Esta fórmula extrae el mes de la columna StartDate.</span><span class="sxs-lookup"><span data-stu-id="8438c-125">This formula extracts the month from the StartDate column.</span></span> <span data-ttu-id="8438c-126">A continuación, calcula el valor del fin de mes de cada fila de la tabla.</span><span class="sxs-lookup"><span data-stu-id="8438c-126">It then calculates the end of the month value for each row in the table.</span></span> <span data-ttu-id="8438c-127">El segundo parámetro especifica el número de meses antes o después del mes en StartDate; en este caso, 0 significa el mismo mes.</span><span class="sxs-lookup"><span data-stu-id="8438c-127">The second parameter specifies the number of months before or after the month in StartDate; in this case, 0 means the same month.</span></span> <span data-ttu-id="8438c-128">Por ejemplo, si el valor de la columna StartDate es 6/1/2001, el valor de la columna calculada será 6/30/2001.</span><span class="sxs-lookup"><span data-stu-id="8438c-128">For example, if the value in the StartDate column is 6/1/2001, the value in the calculated column will be 6/30/2001.</span></span>  
  
##  <a name="naming-a-calculated-column"></a><a name="bkmk_naming"></a><span data-ttu-id="8438c-129">Asignar un nombre a una columna calculada</span><span class="sxs-lookup"><span data-stu-id="8438c-129">Naming a Calculated Column</span></span>  
 <span data-ttu-id="8438c-130">De forma predeterminada, las columnas calculadas nuevas se agregan a la derecha de las demás columnas de la tabla y reciben automáticamente el nombre predeterminado **CalculatedColumn1**, **CalculatedColumn2**, etc.</span><span class="sxs-lookup"><span data-stu-id="8438c-130">By default, new calculated columns are added to the right of other columns in a table, and the column is automatically assigned the default name of **CalculatedColumn1**, **CalculatedColumn2**, and so forth.</span></span> <span data-ttu-id="8438c-131">Para crear una nueva columna entre dos columnas existentes, también puede hacer clic con el botón secundario en una columna y, a continuación, hacer clic en Insertar columna.</span><span class="sxs-lookup"><span data-stu-id="8438c-131">You can also right click a column, and then click Insert Column to create a new column between two existing columns.</span></span> <span data-ttu-id="8438c-132">Puede reorganizar columnas de la misma tabla haciendo clic y arrastrando, así como cambiar su nombre una vez creadas; sin embargo, debe tener en cuenta las restricciones siguientes respecto a los cambios en columnas calculadas:</span><span class="sxs-lookup"><span data-stu-id="8438c-132">You can rearrange columns within the same table by clicking and dragging, and you can rename columns after they are created; however, you should be aware of the following restrictions on changes to calculated columns:</span></span>  
  
-   <span data-ttu-id="8438c-133">Cada nombre de columna deben ser único en una tabla.</span><span class="sxs-lookup"><span data-stu-id="8438c-133">Each column name must be unique within a table.</span></span>  
  
-   <span data-ttu-id="8438c-134">Evite nombres que ya ha usado para las medidas dentro del mismo modelo.</span><span class="sxs-lookup"><span data-stu-id="8438c-134">Avoid names that have already been used for measures within the same model.</span></span> <span data-ttu-id="8438c-135">Aunque es posible que una medida y una columna calculada tengan el mismo nombre, si los nombres no son únicos puede obtener errores de cálculo.</span><span class="sxs-lookup"><span data-stu-id="8438c-135">Although it is possible for a measure and a calculated column to have the same name, if names are not unique you can get calculation errors.</span></span> <span data-ttu-id="8438c-136">Para no invocar una medida accidentalmente, al hacer referencia a una columna use siempre una referencia de columna completa.</span><span class="sxs-lookup"><span data-stu-id="8438c-136">To avoid accidentally invoking a measure, when referring to a column always use a fully qualified column reference.</span></span>  
  
-   <span data-ttu-id="8438c-137">Al cambiar el nombre de una columna calculada, se deben actualizar manualmente las fórmulas que se basan en dicha columna.</span><span class="sxs-lookup"><span data-stu-id="8438c-137">When you rename a calculated column, any formulas that rely on the column must be updated manually.</span></span> <span data-ttu-id="8438c-138">A menos que esté en modo de actualización manual, la actualización de los resultados de las fórmulas tiene lugar automáticamente.</span><span class="sxs-lookup"><span data-stu-id="8438c-138">Unless you are in manual update mode, updating the results of formulas takes place automatically.</span></span> <span data-ttu-id="8438c-139">Sin embargo, esta operación podría tardar algún tiempo.</span><span class="sxs-lookup"><span data-stu-id="8438c-139">However, this operation might take some time.</span></span>  
  
-   <span data-ttu-id="8438c-140">Algunos caracteres no se pueden usar en los nombres de columnas.</span><span class="sxs-lookup"><span data-stu-id="8438c-140">There are some characters that cannot be used within the names of columns.</span></span> <span data-ttu-id="8438c-141">Para obtener más información, vea los requisitos de denominación en [DAX Syntax Specification for PowerPivot](/dax/dax-syntax-reference).</span><span class="sxs-lookup"><span data-stu-id="8438c-141">For more information, see "Naming Requirements" in [DAX Syntax Specification for PowerPivot](/dax/dax-syntax-reference).</span></span>  
  
##  <a name="performance-of-calculated-columns"></a><a name="bkmk_perf"></a><span data-ttu-id="8438c-142">Rendimiento de las columnas calculadas</span><span class="sxs-lookup"><span data-stu-id="8438c-142">Performance of Calculated Columns</span></span>  
 <span data-ttu-id="8438c-143">La fórmula para una columna calculada puede consumir más recursos que la fórmula para una medida.</span><span class="sxs-lookup"><span data-stu-id="8438c-143">The formula for a calculated column can be more resource-intensive than the formula used for a measure.</span></span> <span data-ttu-id="8438c-144">Uno de los motivos para ello es que el resultado de una columna calculada siempre se calcula para cada fila de una tabla, mientras que una medida solo se calcula para las celdas definidas por el filtro utilizado en un informe, una tabla dinámica o un gráfico dinámico.</span><span class="sxs-lookup"><span data-stu-id="8438c-144">One reason is that the result for a calculated column is always calculated for each row in a table, whereas a measure is only calculated for the cells defined by the filter used in a report, PivotTable, or PivotChart.</span></span> <span data-ttu-id="8438c-145">Por ejemplo, una tabla con un millón de filas siempre tendrá una columna calculada con un millón de resultados y un efecto correspondiente en el rendimiento.</span><span class="sxs-lookup"><span data-stu-id="8438c-145">For example, a table with a million rows will always have a calculated column with a million results, and a corresponding effect on performance.</span></span> <span data-ttu-id="8438c-146">Sin embargo, una tabla dinámica generalmente filtra los datos aplicando encabezados de columnas y de filas; por consiguiente, una medida solo se calcula para el subconjunto de datos en cada celda de la tabla dinámica.</span><span class="sxs-lookup"><span data-stu-id="8438c-146">However, a PivotTable generally filters data by applying row and column headings; therefore, a measure is calculated only for the subset of data in each cell of the PivotTable.</span></span>  
  
 <span data-ttu-id="8438c-147">Una fórmula depende de los objetos a los que se hacen referencia en la fórmula, como otras columnas o expresiones que evalúan valores.</span><span class="sxs-lookup"><span data-stu-id="8438c-147">A formula has dependencies on the objects that are referenced in the formula, such as other columns or expressions that evaluate values.</span></span> <span data-ttu-id="8438c-148">Por ejemplo, una columna calculada que está basada en otra columna o un cálculo que contiene una expresión con una referencia de columna no se puede evaluar hasta que se evalúe la otra columna.</span><span class="sxs-lookup"><span data-stu-id="8438c-148">For example, a calculated column that is based on another column, or a calculation that contains an expression with a column reference, cannot be evaluated until the other column is evaluated.</span></span> <span data-ttu-id="8438c-149">De forma predeterminada, la actualización automática está habilitada en los libros; por consiguiente, tales dependencias pueden afectar a rendimiento mientras los valores y las fórmulas se actualizan.</span><span class="sxs-lookup"><span data-stu-id="8438c-149">By default, automatic refresh is enabled in workbooks; therefore, all such dependencies can affect performance while values are updated and formulas refreshed.</span></span>  
  
 <span data-ttu-id="8438c-150">Para evitar tener problemas con el rendimiento al crear columnas calculadas, siga estas directrices:</span><span class="sxs-lookup"><span data-stu-id="8438c-150">To avoid performance issues when you create calculated columns, follow these guidelines:</span></span>  
  
-   <span data-ttu-id="8438c-151">En lugar de crear una única fórmula que contenga muchas dependencias complejas, cree las fórmulas en pasos y guarde los resultados en las columnas, de modo que pueda validarlos y evaluar el rendimiento.</span><span class="sxs-lookup"><span data-stu-id="8438c-151">Rather than create a single formula that contains many complex dependencies, create the formulas in steps, with results saved to columns, so that you can validate the results and assess performance.</span></span>  
  
-   <span data-ttu-id="8438c-152">Con frecuencia, la modificación de datos requiere que se actualicen las columnas calculadas.</span><span class="sxs-lookup"><span data-stu-id="8438c-152">Modification of data will often require that calculated columns be recalculated.</span></span> <span data-ttu-id="8438c-153">Puede evitarlo estableciendo el modo de recálculo en manual; no obstante, si cualquiera de los valores de la columna calculada es incorrecto, aparecerá deshabilitada hasta que se actualicen y recalculen los datos.</span><span class="sxs-lookup"><span data-stu-id="8438c-153">You can prevent this by setting the recalculation mode to manual; however, if any values in the calculated column are incorrect the column will be grayed out until you refresh and recalculate the data.</span></span>  
  
-   <span data-ttu-id="8438c-154">Si cambia o elimina las relaciones entre las tablas, las fórmulas que usan las columnas de esas tablas dejarán de ser válidas.</span><span class="sxs-lookup"><span data-stu-id="8438c-154">If you change or delete relationships between tables, formulas that use columns in those tables will become invalid.</span></span>  
  
-   <span data-ttu-id="8438c-155">Si crea una fórmula que contenga una referencia circular o que se haga referencia a sí misma, se producirá un error.</span><span class="sxs-lookup"><span data-stu-id="8438c-155">If you create a formula that contains a circular or self-referencing dependency, an error will occur.</span></span>  
  
##  <a name="related-tasks"></a><a name="bkmk_rel_tasks"></a> <span data-ttu-id="8438c-156">Tareas relacionadas</span><span class="sxs-lookup"><span data-stu-id="8438c-156">Related Tasks</span></span>  
  
|<span data-ttu-id="8438c-157">Tema</span><span class="sxs-lookup"><span data-stu-id="8438c-157">Topic</span></span>|<span data-ttu-id="8438c-158">Descripción</span><span class="sxs-lookup"><span data-stu-id="8438c-158">Description</span></span>|  
|-----------|-----------------|  
|[<span data-ttu-id="8438c-159">Crear una columna calculada &#40;SSAS tabular&#41;</span><span class="sxs-lookup"><span data-stu-id="8438c-159">Create a Calculated Column &#40;SSAS Tabular&#41;</span></span>](ssas-calculated-columns-create-a-calculated-column.md)|<span data-ttu-id="8438c-160">En las tareas de este tema se describe cómo agregar una nueva columna calculada a una tabla.</span><span class="sxs-lookup"><span data-stu-id="8438c-160">Tasks in this topic describe how to add a new calculated column to a table.</span></span>|  
  
## <a name="see-also"></a><span data-ttu-id="8438c-161">Consulte también</span><span class="sxs-lookup"><span data-stu-id="8438c-161">See Also</span></span>  
 <span data-ttu-id="8438c-162">[Tablas y columnas &#40;SSAS tabular&#41;](tables-and-columns-ssas-tabular.md) </span><span class="sxs-lookup"><span data-stu-id="8438c-162">[Tables and Columns &#40;SSAS Tabular&#41;](tables-and-columns-ssas-tabular.md) </span></span>  
 <span data-ttu-id="8438c-163">[Medidas &#40;&#41;tabular de SSAS](measures-ssas-tabular.md) </span><span class="sxs-lookup"><span data-stu-id="8438c-163">[Measures &#40;SSAS Tabular&#41;](measures-ssas-tabular.md) </span></span>  
 [<span data-ttu-id="8438c-164">Cálculos &#40;SSAS tabular&#41;</span><span class="sxs-lookup"><span data-stu-id="8438c-164">Calculations &#40;SSAS Tabular&#41;</span></span>](calculations-ssas-tabular.md)  
  
  
