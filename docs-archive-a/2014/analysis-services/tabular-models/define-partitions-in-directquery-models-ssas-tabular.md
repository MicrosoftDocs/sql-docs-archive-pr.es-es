---
title: Particiones y el modo DirectQuery (SSAS tabular) | Microsoft Docs
ms.custom: ''
ms.date: 03/06/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: analysis-services
ms.topic: conceptual
ms.assetid: 5f179ba9-6efb-46ae-90e5-945bbfddb719
author: minewiskan
ms.author: owend
ms.openlocfilehash: 5957ed919f15a5c7f39c3c78133786ae6687a2d2
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 08/04/2020
ms.locfileid: "87675516"
---
# <a name="partitions-and-directquery-mode-ssas-tabular"></a><span data-ttu-id="67fcf-102">Particiones y el modo DirectQuery (SSAS tabular)</span><span class="sxs-lookup"><span data-stu-id="67fcf-102">Partitions and DirectQuery Mode (SSAS Tabular)</span></span>
  <span data-ttu-id="67fcf-103">En esta sección se explica cómo se utilizan las particiones en los modelos DirectQuery.</span><span class="sxs-lookup"><span data-stu-id="67fcf-103">This section explains how partitions are used in DirectQuery models.</span></span> <span data-ttu-id="67fcf-104">Para obtener información general sobre las particiones en los modelos tabulares, vea [Particiones &#40;SSAS tabular&#41;](partitions-ssas-tabular.md).</span><span class="sxs-lookup"><span data-stu-id="67fcf-104">For more general information about partitions in tabular models, see [Partitions &#40;SSAS Tabular&#41;](partitions-ssas-tabular.md).</span></span>  
  
 <span data-ttu-id="67fcf-105">Para obtener instrucciones sobre cómo cambiar la partición que se utiliza o ver información acerca de la partición, vea [cambiar la partición de DirectQuery &#40;&#41;tabular de SSAS ](../change-the-directquery-partition-ssas-tabular.md).</span><span class="sxs-lookup"><span data-stu-id="67fcf-105">For instructions on how to change the partition that is used, or view information about the partition, see [Change the DirectQuery Partition &#40;SSAS Tabular&#41;](../change-the-directquery-partition-ssas-tabular.md).</span></span>  
  
## <a name="using-partitions-in-directquery-mode"></a><span data-ttu-id="67fcf-106">El uso de particiones en el modo DirectQuery</span><span class="sxs-lookup"><span data-stu-id="67fcf-106">Using Partitions in DirectQuery Mode</span></span>  
 <span data-ttu-id="67fcf-107">Para cada tabla, debe especificar una única partición para utilizar como origen de datos de DirectQuery.</span><span class="sxs-lookup"><span data-stu-id="67fcf-107">For each table, you must specify a single partition to use as the DirectQuery data source.</span></span>  <span data-ttu-id="67fcf-108">De forma predeterminada, si existen varias particiones, al cambiar el modelo para habilitar el modo DirectQuery, la primera partición que se creó en la tabla se marcará como la partición DirectQuery.</span><span class="sxs-lookup"><span data-stu-id="67fcf-108">If there are multiple partitions, when you switch the model to enable DirectQuery mode, by default the first partition that was created in the table is flagged as the DirectQuery partition.</span></span> <span data-ttu-id="67fcf-109">Puede cambiar este comportamiento posteriormente mediante el Administrador de particiones de [!INCLUDE[ssBIDevStudioFull](../../includes/ssbidevstudiofull-md.md)].</span><span class="sxs-lookup"><span data-stu-id="67fcf-109">You can change this later by using the Partition Manager in [!INCLUDE[ssBIDevStudioFull](../../includes/ssbidevstudiofull-md.md)].</span></span>  
  
 <span data-ttu-id="67fcf-110">¿Por qué permitir únicamente una sola partición en el modo DirectQuery?</span><span class="sxs-lookup"><span data-stu-id="67fcf-110">Why allow only a single partition in DirectQuery mode?</span></span>  
  
 <span data-ttu-id="67fcf-111">En los modelos tabulares (al igual que en los modelos OLAP), las particiones de una tabla se definen mediante consultas SQL.</span><span class="sxs-lookup"><span data-stu-id="67fcf-111">In tabular models (as in OLAP models), the partitions of a table are defined by SQL queries.</span></span> <span data-ttu-id="67fcf-112">El desarrollador que crea la definición de la partición es el responsable de garantizar que las particiones no superpongan.</span><span class="sxs-lookup"><span data-stu-id="67fcf-112">The developer who creates the partition definition is responsible for ensuring that partitions do not overlap.</span></span> <span data-ttu-id="67fcf-113">Analysis Services no comprueba si los registros pertenecen a una o a varias particiones.</span><span class="sxs-lookup"><span data-stu-id="67fcf-113">Analysis Services does not check whether records belong in one or multiple partitions.</span></span>  
  
 <span data-ttu-id="67fcf-114">Las particiones de un modelo tabular almacenado en caché se comportan de la misma manera.</span><span class="sxs-lookup"><span data-stu-id="67fcf-114">Partitions in a cached tabular model behave the same way.</span></span> <span data-ttu-id="67fcf-115">Si se utiliza un modelo en memoria, las fórmulas DAX se evalúan para cada partición mientras se obtiene acceso a la caché, y se combinan los resultados.</span><span class="sxs-lookup"><span data-stu-id="67fcf-115">If you are using an in-memory model, while the cache is being accessed, DAX formulas are evaluated for each partition, and the results are combined.</span></span> <span data-ttu-id="67fcf-116">Sin embargo, cuando un modelo tabular utiliza el modo DirectQuery, no se puede evaluar varias particiones, combinar los resultados y convertir todo esto en una instrucción SQL para enviarla al almacén de datos relacional.</span><span class="sxs-lookup"><span data-stu-id="67fcf-116">However, when a tabular model uses DirectQuery mode, it would be impossible to evaluate multiple partitions, combine the results, and convert that into a SQL statement for sending to the relational data store.</span></span> <span data-ttu-id="67fcf-117">Esto podría ocasionar una pérdida inaceptable de rendimiento, así como posibles imprecisiones a medida que se agregan los resultados.</span><span class="sxs-lookup"><span data-stu-id="67fcf-117">Doing so could lead to unacceptable loss of performance, as well as potential inaccuracies as the results are aggregated.</span></span>  
  
 <span data-ttu-id="67fcf-118">Por lo tanto, para las consultas respondidas en modo DirectQuery, el servidor usa una única partición que se ha marcado como partición principal para el acceso de DirectQuery, denominada *partición DirectQuery*.</span><span class="sxs-lookup"><span data-stu-id="67fcf-118">Therefore, for queries answered in DirectQuery mode, the server uses a single partition that has been marked as the primary partition for DirectQuery access, called the *DirectQuery partition*.</span></span>  <span data-ttu-id="67fcf-119">La consulta SQL especificada en la definición de esta partición define el conjunto completo de datos que pueden usarse para responder consultas en el modo DirectQuery.</span><span class="sxs-lookup"><span data-stu-id="67fcf-119">The SQL query specified in the definition of this partition defines the complete set of data that can be used to answer queries in DirectQuery mode.</span></span>  
  
 <span data-ttu-id="67fcf-120">Si no define de forma explícita una partición, el motor simplemente emite una consulta SQL al origen de datos relacional completo, realiza las operaciones basadas en conjuntos dictadas por la fórmula DAX y devuelve los resultados de la consulta.</span><span class="sxs-lookup"><span data-stu-id="67fcf-120">If you do not explicitly define a partition, the engine simply issues a SQL query to the entire relational data source, performs any set-based operations dictated by the DAX formula, and returns the query results.</span></span>  
  
 <span data-ttu-id="67fcf-121">Si tiene varias particiones en una tabla, y selecciona una partición como la partición de DirectQuery, las demás particiones se marcan de forma predeterminada para su uso solo en memoria.</span><span class="sxs-lookup"><span data-stu-id="67fcf-121">If you have multiple partitions in a table, and select one partition as the DirectQuery partition, by default all other partitions are marked as being for in-memory use only.</span></span>  
  
## <a name="partitions-in-cached-models-and-in-directquery-models"></a><span data-ttu-id="67fcf-122">Particiones de modelos almacenados en caché y modelos DirectQuery</span><span class="sxs-lookup"><span data-stu-id="67fcf-122">Partitions in Cached Models and in DirectQuery Models</span></span>  
 <span data-ttu-id="67fcf-123">Al configurar una partición DirectQuery, debe especificar las opciones de procesamiento para la partición.</span><span class="sxs-lookup"><span data-stu-id="67fcf-123">When you configure a DirectQuery partition, you must specify processing options for the partition.</span></span>  
  
 <span data-ttu-id="67fcf-124">Hay dos opciones de procesamiento para la partición DirectQuery.</span><span class="sxs-lookup"><span data-stu-id="67fcf-124">There are two processing options for the DirectQuery partition.</span></span> <span data-ttu-id="67fcf-125">Para establecer esta propiedad, use el **Administrador de particiones** en [!INCLUDE[ssBIDevStudioFull](../../includes/ssbidevstudiofull-md.md)], o [!INCLUDE[ssManStudioFull](../../includes/ssmanstudiofull-md.md)], y seleccione la propiedad **Opción de procesamiento** .</span><span class="sxs-lookup"><span data-stu-id="67fcf-125">To set this property, use the **Partition Manager** in [!INCLUDE[ssBIDevStudioFull](../../includes/ssbidevstudiofull-md.md)], or [!INCLUDE[ssManStudioFull](../../includes/ssmanstudiofull-md.md)], and select the **Processing Option** property.</span></span> <span data-ttu-id="67fcf-126">En la tabla siguiente se muestran los valores de esta propiedad y se describen los efectos de cada valor cuando se combinan con la propiedad DirectQueryUsage en la cadena de conexión:</span><span class="sxs-lookup"><span data-stu-id="67fcf-126">The following table lists the values of this property, and describes the effects of each value when combined with the DirectQueryUsage property on the connection string:</span></span>  
  
|<span data-ttu-id="67fcf-127">Propiedad **DirectQueryUsage**</span><span class="sxs-lookup"><span data-stu-id="67fcf-127">**DirectQueryUsage** property</span></span>|<span data-ttu-id="67fcf-128">Propiedad**Opción de procesamiento**</span><span class="sxs-lookup"><span data-stu-id="67fcf-128">**Processing Option** property</span></span>|<span data-ttu-id="67fcf-129">Notas</span><span class="sxs-lookup"><span data-stu-id="67fcf-129">Notes</span></span>|  
|-----------------------------------|------------------------------------|-----------|  
|<span data-ttu-id="67fcf-130">DirectQuery</span><span class="sxs-lookup"><span data-stu-id="67fcf-130">DirectQuery</span></span>|<span data-ttu-id="67fcf-131">No procesar nunca esta partición</span><span class="sxs-lookup"><span data-stu-id="67fcf-131">Never process this partition</span></span>|<span data-ttu-id="67fcf-132">Cuando el modelo utiliza Solo DirectQuery, el procesamiento no es necesario nunca.</span><span class="sxs-lookup"><span data-stu-id="67fcf-132">When the model is using DirectQuery only, processing is never necessary.</span></span><br /><br /> <span data-ttu-id="67fcf-133">En los modelos híbridos, es posible configurar la partición DirectQuery para que no se procese nunca.</span><span class="sxs-lookup"><span data-stu-id="67fcf-133">In hybrid models, you can configure the DirectQuery partition to never be processed.</span></span> <span data-ttu-id="67fcf-134">Por ejemplo, si está trabajando con un conjunto de datos muy grande y no desea que los resultados completos se agreguen a la memoria caché, puede especificar que la partición DirectQuery incluya la unión de los resultados para el resto de particiones de la tabla y no procesar nunca dicha unión.</span><span class="sxs-lookup"><span data-stu-id="67fcf-134">For example, if you are operating over a very large data set and do not want the full results added to the cache, you can specify that the DirectQuery partition include the union of results for all other partitions in the table, and then never process the union.</span></span> <span data-ttu-id="67fcf-135">Las consultas dirigidas al origen relacional no se verán afectadas, y las consultas en los datos en caché combinarán datos del resto de particiones</span><span class="sxs-lookup"><span data-stu-id="67fcf-135">Queries that go to the relational source will not be affected, and queries against cached data will combine data from the other partitions</span></span>|  
|<span data-ttu-id="67fcf-136">Inmemory con DirectQuery</span><span class="sxs-lookup"><span data-stu-id="67fcf-136">InMemory With DirectQuery</span></span>|<span data-ttu-id="67fcf-137">Permitir procesar la partición</span><span class="sxs-lookup"><span data-stu-id="67fcf-137">Allow partition to be processed</span></span>|<span data-ttu-id="67fcf-138">Si el modelo utiliza el modo híbrido, debe usar la misma partición para las consultas en memoria y las consultas en el origen de datos de DirectQuery.</span><span class="sxs-lookup"><span data-stu-id="67fcf-138">If the model is using hybrid mode, you should use the same partition for queries against the in-memory and queries against the DirectQuery data source.</span></span>|  
  
## <a name="see-also"></a><span data-ttu-id="67fcf-139">Consulte también</span><span class="sxs-lookup"><span data-stu-id="67fcf-139">See Also</span></span>  
 [<span data-ttu-id="67fcf-140">Particiones &#40;SSAS tabular&#41;</span><span class="sxs-lookup"><span data-stu-id="67fcf-140">Partitions &#40;SSAS Tabular&#41;</span></span>](partitions-ssas-tabular.md)  
  
  
