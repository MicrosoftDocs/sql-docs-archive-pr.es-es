---
title: Mezclar particiones en Analysis Services (SSAS-multidimensional) | Microsoft Docs
ms.custom: ''
ms.date: 06/13/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: analysis-services
ms.topic: conceptual
helpviewer_keywords:
- partitions [Analysis Services], merging
- merging partitions [Analysis Services]
ms.assetid: b3857b9b-de43-4911-989d-d14da0196f89
author: minewiskan
ms.author: owend
ms.openlocfilehash: 42820a202c4da58e21dfd55756b7bb03522ea879
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 08/04/2020
ms.locfileid: "87749519"
---
# <a name="merge-partitions-in-analysis-services-ssas---multidimensional"></a><span data-ttu-id="ff276-102">Mezclar particiones en Analysis Services (SSAS - Multidimensional)</span><span class="sxs-lookup"><span data-stu-id="ff276-102">Merge Partitions in Analysis Services (SSAS - Multidimensional)</span></span>
  <span data-ttu-id="ff276-103">Puede mezclar particiones de una base de datos de [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] existente para consolidar datos de hechos de varias particiones del mismo grupo de medida.</span><span class="sxs-lookup"><span data-stu-id="ff276-103">You can merge partitions in an existing [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] database to consolidate fact data from multiple partitions of the same measure group.</span></span>  
  
 [<span data-ttu-id="ff276-104">Escenarios comunes</span><span class="sxs-lookup"><span data-stu-id="ff276-104">Common scenarios</span></span>](#bkmk_Scenario)  
  
 [<span data-ttu-id="ff276-105">Requisitos</span><span class="sxs-lookup"><span data-stu-id="ff276-105">Requirements</span></span>](#bkmk_prereq)  
  
 [<span data-ttu-id="ff276-106">Actualizar el origen de la partición después de mezclar particiones</span><span class="sxs-lookup"><span data-stu-id="ff276-106">Update the Partition Source after merging partitions</span></span>](#bkmk_Where)  
  
 [<span data-ttu-id="ff276-107">Consideraciones especiales para las particiones segmentadas por una tabla de hechos o por una consulta con nombre</span><span class="sxs-lookup"><span data-stu-id="ff276-107">Special considerations for partitions segmented by fact table or named query</span></span>](#bkmk_fact)  
  
 [<span data-ttu-id="ff276-108">Cómo mezclar particiones mediante SSMS</span><span class="sxs-lookup"><span data-stu-id="ff276-108">How to merge partitions using SSMS</span></span>](#bkmk_partitionSSMS)  
  
 [<span data-ttu-id="ff276-109">Cómo mezclar particiones mediante XMLA</span><span class="sxs-lookup"><span data-stu-id="ff276-109">How to merge partitions using XMLA</span></span>](#bkmk_partitionsXMLA)  
  
##  <a name="common-scenarios"></a><a name="bkmk_Scenario"></a><span data-ttu-id="ff276-110">Escenarios comunes</span><span class="sxs-lookup"><span data-stu-id="ff276-110">Common scenarios</span></span>  
 <span data-ttu-id="ff276-111">La configuración única más común para el uso de particiones entraña la separación de datos a lo largo de la dimensión temporal.</span><span class="sxs-lookup"><span data-stu-id="ff276-111">The single most common configuration for partition use involves the separation of data across the dimension of time.</span></span> <span data-ttu-id="ff276-112">La granularidad del tiempo asociada con cada partición varía dependiendo de los requisitos empresariales específicos del proyecto.</span><span class="sxs-lookup"><span data-stu-id="ff276-112">The granularity of time associated with each partition varies depending on the business requirements specific to the project.</span></span> <span data-ttu-id="ff276-113">Por ejemplo, la segmentación puede ser por años, estando el año más reciente dividido por meses, más una partición independiente para el mes activo.</span><span class="sxs-lookup"><span data-stu-id="ff276-113">For example, segmentation might be by years, with the most recent year divided by months, plus a separate partition for the active month.</span></span> <span data-ttu-id="ff276-114">La partición del mes activo recibe periódicamente nuevos datos.</span><span class="sxs-lookup"><span data-stu-id="ff276-114">The active month partition regularly takes on new data.</span></span>  
  
 <span data-ttu-id="ff276-115">Cuando el mes activo esté completo, dicha partición se volverá a mezclar con los meses de la partición anual y el proceso continuará.</span><span class="sxs-lookup"><span data-stu-id="ff276-115">When the active month is completed, that partition is merged back into the months in the year-to-date partition and the process continues.</span></span> <span data-ttu-id="ff276-116">Al final del año, se habrá formado toda una partición anual nueva.</span><span class="sxs-lookup"><span data-stu-id="ff276-116">At the end of the year, a whole new year partition has been formed.</span></span>  
  
 <span data-ttu-id="ff276-117">Como muestra este escenario, la mezcla de particiones puede convertirse en una tarea rutinaria que se realiza periódicamente, proporcionando un método progresivo para consolidar y organizar los datos históricos.</span><span class="sxs-lookup"><span data-stu-id="ff276-117">As this scenario demonstrates, merging partitions can become a routine task performed on a regular basis, providing a progressive approach for consolidating and organizing historical data.</span></span>  
  
##  <a name="requirements"></a><a name="bkmk_prereq"></a> <span data-ttu-id="ff276-118">Requisitos</span><span class="sxs-lookup"><span data-stu-id="ff276-118">Requirements</span></span>  
 <span data-ttu-id="ff276-119">Solo puede mezclar particiones si todas ellas cumplen los siguientes criterios:</span><span class="sxs-lookup"><span data-stu-id="ff276-119">Partitions can be merged only if they meet all of the following criteria:</span></span>  
  
-   <span data-ttu-id="ff276-120">Tienen el mismo grupo de medida.</span><span class="sxs-lookup"><span data-stu-id="ff276-120">They have the same measure group.</span></span>  
  
-   <span data-ttu-id="ff276-121">Tienen la misma estructura.</span><span class="sxs-lookup"><span data-stu-id="ff276-121">They have the same structure.</span></span>  
  
-   <span data-ttu-id="ff276-122">Deben estar en un estado procesado.</span><span class="sxs-lookup"><span data-stu-id="ff276-122">They must be in a processed state.</span></span>  
  
-   <span data-ttu-id="ff276-123">Tienen los mismos modos de almacenamiento.</span><span class="sxs-lookup"><span data-stu-id="ff276-123">They have the same storage modes.</span></span>  
  
-   <span data-ttu-id="ff276-124">Contienen diseños de agregaciones idénticos.</span><span class="sxs-lookup"><span data-stu-id="ff276-124">They contain identical aggregation designs.</span></span>  
  
-   <span data-ttu-id="ff276-125">Comparten el mismo nivel de compatibilidad de almacén de cadenas (solo se aplica a los grupos de medidas de recuento diferentes con particiones).</span><span class="sxs-lookup"><span data-stu-id="ff276-125">They share the same string store compatibility level (applies to partitioned distinct count measure groups only).</span></span>  
  
 <span data-ttu-id="ff276-126">Si la partición de destino está vacía (es decir, tiene un diseño de agregaciones pero ninguna agregación), la mezcla quitará las agregaciones para las particiones de origen.</span><span class="sxs-lookup"><span data-stu-id="ff276-126">If the target partition is empty (that is, it has an aggregation design but no aggregations), merge will drop the aggregations for the source partitions.</span></span> <span data-ttu-id="ff276-127">Debe ejecutar Procesar índice, Procesar completo o Procesar predeterminado en la partición para generar las agregaciones.</span><span class="sxs-lookup"><span data-stu-id="ff276-127">You must run Process Index, Process Full, or Process Default on the partition to build the aggregations.</span></span>  
  
 <span data-ttu-id="ff276-128">Las particiones remotas solo se pueden mezclar con otras particiones remotas que se hayan definido con la misma instancia remota de [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)].</span><span class="sxs-lookup"><span data-stu-id="ff276-128">Remote partitions can be merged only with other remote partitions that are defined with the same remote instance of [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)].</span></span>  
  
> [!NOTE]  
>  <span data-ttu-id="ff276-129">Si va a usar una combinación de particiones locales y remotas, una solución alternativa consiste en crear nuevas particiones que incluyan los datos combinados, eliminando las particiones que ya no use.</span><span class="sxs-lookup"><span data-stu-id="ff276-129">If you are using a combination of local and remote partitions, an alternative approach is to create new partitions that include the combined data, deleting the partitions you no longer use.</span></span>  
  
 <span data-ttu-id="ff276-130">Para crear una partición que sea candidata para una mezcla futura, en el Asistente para particiones puede elegir la opción de copiar el diseño de agregaciones de otra de las particiones del cubo.</span><span class="sxs-lookup"><span data-stu-id="ff276-130">To create a partition that is a candidate for future merging, when you create the partition in the Partition Wizard, you can choose to copy the aggregation design from another of the cube's partitions.</span></span> <span data-ttu-id="ff276-131">Esto garantizará que las particiones tienen el mismo diseño de agregaciones.</span><span class="sxs-lookup"><span data-stu-id="ff276-131">This ensures that these partitions have the same aggregation design.</span></span> <span data-ttu-id="ff276-132">Cuando se mezclan, las agregaciones de la partición de origen se combinan con las agregaciones de la partición de destino.</span><span class="sxs-lookup"><span data-stu-id="ff276-132">When they are merged, the aggregations of the source partition are combined with the aggregations in the target partition.</span></span>  
  
##  <a name="update-the-partition-source-after-merging-partitions"></a><a name="bkmk_Where"></a><span data-ttu-id="ff276-133">Actualizar el origen de la partición después de mezclar las particiones</span><span class="sxs-lookup"><span data-stu-id="ff276-133">Update the Partition Source after merging partitions</span></span>  
 <span data-ttu-id="ff276-134">Las particiones se segmentan por consulta, como la cláusula WHERE de una consulta SQL usada para procesar los datos, o por una tabla o una consulta con nombre que proporcione los datos a la partición.</span><span class="sxs-lookup"><span data-stu-id="ff276-134">Partitions are segmented by query, such as the WHERE clause of a SQL query used to process the data, or by a table or named query that provides data to the partition.</span></span> <span data-ttu-id="ff276-135">La propiedad `Source` de la partición indica si la partición está enlazada a una consulta o una tabla.</span><span class="sxs-lookup"><span data-stu-id="ff276-135">The `Source` property on the partition indicates whether the partition is bound to a query or a table.</span></span>  
  
 <span data-ttu-id="ff276-136">Cuando se mezclan particiones, el contenido de las particiones se consolida, pero la propiedad `Source` no se actualiza para reflejar el ámbito adicional de la partición.</span><span class="sxs-lookup"><span data-stu-id="ff276-136">When you merge partitions, the contents of the partitions are consolidated, but the `Source` property is not updated to reflect the additional scope of the partition.</span></span> <span data-ttu-id="ff276-137">Esto significa que si vuelve a procesar posteriormente una partición que conserva su valor `Source` original, obtendrá datos incorrectos de esa partición.</span><span class="sxs-lookup"><span data-stu-id="ff276-137">This means if you subsequently reprocess a partition that retains its original `Source`, you will get incorrect data from that partition.</span></span> <span data-ttu-id="ff276-138">La partición agregará erróneamente datos en el nivel primario.</span><span class="sxs-lookup"><span data-stu-id="ff276-138">The partition will erroneously aggregate data at the parent level.</span></span> <span data-ttu-id="ff276-139">En el ejemplo siguiente se ilustra este comportamiento.</span><span class="sxs-lookup"><span data-stu-id="ff276-139">The following example illustrates this behavior.</span></span>  
  
 <span data-ttu-id="ff276-140">**El problema**</span><span class="sxs-lookup"><span data-stu-id="ff276-140">**The Problem**</span></span>  
  
 <span data-ttu-id="ff276-141">Imagine que tiene un cubo que contiene información sobre tres productos de refrescos.</span><span class="sxs-lookup"><span data-stu-id="ff276-141">Suppose you have a cube containing information about three soft drink products.</span></span> <span data-ttu-id="ff276-142">Tiene tres particiones que usan la misma tabla de hechos.</span><span class="sxs-lookup"><span data-stu-id="ff276-142">It has three partitions that use the same fact table.</span></span> <span data-ttu-id="ff276-143">Estas particiones están segmentadas por producto.</span><span class="sxs-lookup"><span data-stu-id="ff276-143">These partitions are segmented by product.</span></span> <span data-ttu-id="ff276-144">La partición 1 contiene datos sobre [ColaFull], la partición 2 contiene datos sobre [ColaDecaf] y la partición 3 contiene datos sobre [ColaDiet].</span><span class="sxs-lookup"><span data-stu-id="ff276-144">Partition 1 contains data about [ColaFull], Partition 2 contains data about [ColaDecaf], and Partition 3 contains data about [ColaDiet].</span></span> <span data-ttu-id="ff276-145">Si la partición 3 se mezcla en la partición 2, los datos de la partición resultante (partición 2) serán correctos y los datos del cubo serán precisos.</span><span class="sxs-lookup"><span data-stu-id="ff276-145">If Partition 3 is merged into Partition 2, the data in the resulting partition (Partition 2) is correct and the cube data is accurate.</span></span> <span data-ttu-id="ff276-146">Sin embargo, cuando se procesa la partición 2, su contenido puede verse determinado por el miembro primario en el nivel del producto.</span><span class="sxs-lookup"><span data-stu-id="ff276-146">However, when Partition 2 is processed, its content may be determined by the parent of the members at the product level.</span></span> <span data-ttu-id="ff276-147">Este elemento primario, [SoftDrinks], también incluye [ColaFull], el producto de la partición 1.</span><span class="sxs-lookup"><span data-stu-id="ff276-147">This parent, [SoftDrinks], also includes [ColaFull], the product in Partition 1.</span></span> <span data-ttu-id="ff276-148">El procesamiento de la partición 2 carga en la partición datos para todos los refrescos, incluido [ColaFull].</span><span class="sxs-lookup"><span data-stu-id="ff276-148">Processing Partition 2 loads the partition with data for all soft drinks, including [ColaFull].</span></span> <span data-ttu-id="ff276-149">El cubo contendrá datos duplicados para [ColaFull] y devolverá datos incorrectos a los usuarios finales.</span><span class="sxs-lookup"><span data-stu-id="ff276-149">The cube then contains duplicate data for [ColaFull] and returns incorrect data to end users.</span></span>  
  
 <span data-ttu-id="ff276-150">**La solución**</span><span class="sxs-lookup"><span data-stu-id="ff276-150">**The Solution**</span></span>  
  
 <span data-ttu-id="ff276-151">La solución consiste en actualizar la propiedad `Source`, ajustando la cláusula WHERE o la consulta con nombre, o mezclando manualmente los datos de las tablas de hechos subyacentes, para asegurarse de que el procesamiento posterior es preciso dado el ámbito ampliado de la partición.</span><span class="sxs-lookup"><span data-stu-id="ff276-151">The solution is to update the `Source` property, adjusting either the WHERE clause or named query, or manually merging data from the underlying fact tables, to ensure that subsequent processing is accurate given the expanded scope of the partition.</span></span>  
  
 <span data-ttu-id="ff276-152">En este ejemplo, después de mezclar la partición 3 en la partición 2, puede proporcionar un filtro como ("Product" = 'ColaDecaf' OR "Product" = 'ColaDiet') en la partición 2 resultante para especificar que únicamente se extraigan de la tabla de hechos los datos sobre [ColaDecaf] y [ColaDiet], y se excluyan los datos relacionados con [ColaFull].</span><span class="sxs-lookup"><span data-stu-id="ff276-152">In this example, after merging Partition 3 into Partition 2, you can provide a filter such as ("Product" = 'ColaDecaf' OR "Product" = 'ColaDiet') in the resulting Partition 2 to specify that only data about [ColaDecaf] and [ColaDiet] be extracted from the fact table, and the data pertaining to [ColaFull] be excluded.</span></span> <span data-ttu-id="ff276-153">Como alternativa, puede especificar filtros para la partición 2 y la partición 3 cuando se crean. Estos filtros se combinarán durante el proceso de mezcla.</span><span class="sxs-lookup"><span data-stu-id="ff276-153">Alternatively, you can specify filters for Partition 2 and Partition 3 when they are created, and these filters will be combined during the merger process.</span></span> <span data-ttu-id="ff276-154">En cualquier caso, después de procesar la partición, el cubo no contendrá datos duplicados.</span><span class="sxs-lookup"><span data-stu-id="ff276-154">In either case, after the partition is processed the cube does not contain duplicate data.</span></span>  
  
 <span data-ttu-id="ff276-155">**La cConclusión**</span><span class="sxs-lookup"><span data-stu-id="ff276-155">**The Conclusion**</span></span>  
  
 <span data-ttu-id="ff276-156">Después de mezclar particiones, compruebe siempre `Source` para comprobar si el filtro es correcto para los datos mezclados.</span><span class="sxs-lookup"><span data-stu-id="ff276-156">After you merge partitions, always check the `Source` to verify the filter is correct for the merged data.</span></span> <span data-ttu-id="ff276-157">Si empezó con una partición que incluía datos históricos para T1, T2 y Q3, y ahora mezcla T4, debe ajustar el filtro para incluir T4.</span><span class="sxs-lookup"><span data-stu-id="ff276-157">If you started with a partition that included historical data for Q1, Q2, and Q3, and you now merge Q4, you must adjust the filter to include Q4.</span></span> <span data-ttu-id="ff276-158">De lo contrario, el procesamiento posterior de la partición producirá resultados erróneos.</span><span class="sxs-lookup"><span data-stu-id="ff276-158">Otherwise, subsequent processing of the partition will yield erroneous results.</span></span> <span data-ttu-id="ff276-159">No será correcto para T4.</span><span class="sxs-lookup"><span data-stu-id="ff276-159">It will not be correct for Q4.</span></span>  
  
##  <a name="special-considerations-for-partitions-segmented-by-fact-table-or-named-query"></a><a name="bkmk_fact"></a><span data-ttu-id="ff276-160">Consideraciones especiales para las particiones segmentadas por tabla de hechos o por consulta con nombre</span><span class="sxs-lookup"><span data-stu-id="ff276-160">Special considerations for partitions segmented by fact table or named query</span></span>  
 <span data-ttu-id="ff276-161">Además de por consultas, las particiones también se pueden segmentar por tabla o por consulta con nombre.</span><span class="sxs-lookup"><span data-stu-id="ff276-161">In addition to queries, partitions can also be segmented by table or named query.</span></span> <span data-ttu-id="ff276-162">Si la partición de origen y la partición de destino emplean la misma tabla de hechos en un origen de datos o en una vista del origen de datos, la propiedad `Source` es válida después de mezclar las particiones.</span><span class="sxs-lookup"><span data-stu-id="ff276-162">If the source partition and target partition use the same fact table in a data source or data source view, the `Source` property is valid after merging partitions.</span></span> <span data-ttu-id="ff276-163">Especifica los datos de la tabla de hechos que son adecuados para la partición resultante.</span><span class="sxs-lookup"><span data-stu-id="ff276-163">It specifies the fact table data that is appropriate to the resulting partition.</span></span> <span data-ttu-id="ff276-164">Como los hechos necesarios para la partición resultante se encuentran en la tabla de hechos, no es necesario efectuar ninguna modificación a la propiedad `Source`.</span><span class="sxs-lookup"><span data-stu-id="ff276-164">Because the facts that are required for the resulting partition are present in the fact table, no modification to the `Source` property is necessary.</span></span>  
  
 <span data-ttu-id="ff276-165">Las particiones que usan datos de varias tablas de hechos o de varias consultas con nombre requieren un trabajo adicional.</span><span class="sxs-lookup"><span data-stu-id="ff276-165">Partitions using data from multiple fact tables or named queries require additional work.</span></span> <span data-ttu-id="ff276-166">Debe mezclar manualmente los hechos de la tabla de hechos de la partición de origen en la tabla de hechos de la partición de destino.</span><span class="sxs-lookup"><span data-stu-id="ff276-166">You must manually merge the facts from the fact table of the source partition into the fact table of the target partition.</span></span>  
  
 <span data-ttu-id="ff276-167">Como alternativa, puede cambiar el origen de la partición mezclada a una consulta con nombre que devuelva el contenido de dos tablas de hechos separadas.</span><span class="sxs-lookup"><span data-stu-id="ff276-167">Alternatively, you can change the source for the merged partition to a named query that returns the contents of two separate fact tables.</span></span> <span data-ttu-id="ff276-168">Si no realiza este paso manual, la tabla de hechos no contiene la información completa.</span><span class="sxs-lookup"><span data-stu-id="ff276-168">If this manual step is not performed, the fact table does not contain complete information.</span></span>  
  
 <span data-ttu-id="ff276-169">Por ese mismo motivo, también es necesario actualizar las particiones que obtienen datos segmentados de consultas con nombre.</span><span class="sxs-lookup"><span data-stu-id="ff276-169">For the same reason, partitions obtaining segmented data from named queries also require updating.</span></span> <span data-ttu-id="ff276-170">La partición combinada debe tener ahora una consulta con nombre que devuelva el conjunto de resultados combinado que se ha obtenido anteriormente de las distintas consultas con nombre.</span><span class="sxs-lookup"><span data-stu-id="ff276-170">The combined partition must now have a named query that returns the combined result set that was previously obtained from the separate named queries.</span></span>  
  
## <a name="partition-storage-considerations-molap"></a><span data-ttu-id="ff276-171">Consideraciones sobre el almacenamiento de particiones: MOLAP</span><span class="sxs-lookup"><span data-stu-id="ff276-171">Partition storage considerations: MOLAP</span></span>  
 <span data-ttu-id="ff276-172">Cuando se mezclan particiones MOLAP, también se mezclan los hechos almacenados en las estructuras multidimensionales de las particiones.</span><span class="sxs-lookup"><span data-stu-id="ff276-172">When MOLAP partitions are merged, the facts stored in the multidimensional structures of the partitions are also merged.</span></span> <span data-ttu-id="ff276-173">Como resultado, se obtiene un partición internamente completa y coherente.</span><span class="sxs-lookup"><span data-stu-id="ff276-173">This results in an internally complete and consistent partition.</span></span> <span data-ttu-id="ff276-174">Sin embargo, los hechos almacenados en particiones MOLAP son copias de los hechos contenidos en la tabla de hechos.</span><span class="sxs-lookup"><span data-stu-id="ff276-174">However, the facts stored in MOLAP partitions are copies of facts in the fact table.</span></span> <span data-ttu-id="ff276-175">Cuando se procesa posteriormente la partición, se eliminan los hechos almacenados en la estructura multidimensional (solo en procesamientos completos y actualizaciones) y se copian los datos contenidos en la tabla de hechos tal como se especifica en el origen de datos y en el filtro de la partición.</span><span class="sxs-lookup"><span data-stu-id="ff276-175">When the partition is subsequently processed, the facts in the multidimensional structure are deleted (only for full and refresh) and data is copied from the fact table as specified by the data source and filter for the partition.</span></span> <span data-ttu-id="ff276-176">Si la partición de origen utiliza una tabla de hechos distinta de la partición de destino, se debe mezclar manualmente la tabla de hechos de la partición de origen con la tabla de hechos de la partición de destino, para asegurar que se podrá disponer de un conjunto de datos completo cuando se procese la partición resultante.</span><span class="sxs-lookup"><span data-stu-id="ff276-176">If the source partition uses a different fact table from the target partition, the fact table of the source partition must be manually merged with the fact table of the target partition to ensure that a complete set of data is available when the resulting partition is processed.</span></span> <span data-ttu-id="ff276-177">Esto se aplica también si las dos particiones se basan en consultas con nombre diferentes.</span><span class="sxs-lookup"><span data-stu-id="ff276-177">This applies as well if the two partitions were based on different named queries.</span></span>  
  
> [!IMPORTANT]  
>  <span data-ttu-id="ff276-178">Una partición MOLAP mezclada con una tabla de hechos incompleta contiene una copia combinada internamente de los datos de la tabla de hechos, y funciona correctamente hasta que se procesa.</span><span class="sxs-lookup"><span data-stu-id="ff276-178">A merged MOLAP partition with an incomplete fact table contains an internally merged copy of fact table data and operates correctly until it is processed.</span></span>  
  
## <a name="partition-storage-considerations-holap-and-rolap-partitions"></a><span data-ttu-id="ff276-179">Consideraciones sobre el almacenamiento de particiones: particiones HOLAP y ROLAP</span><span class="sxs-lookup"><span data-stu-id="ff276-179">Partition storage considerations: HOLAP and ROLAP Partitions</span></span>  
 <span data-ttu-id="ff276-180">Cuando se mezclan particiones HOLAP o ROLAP que tienen tablas de hechos diferentes, las tablas de hechos no se mezclan automáticamente.</span><span class="sxs-lookup"><span data-stu-id="ff276-180">When HOLAP or ROLAP partitions that have different fact tables are merged, the fact tables are not automatically merged.</span></span> <span data-ttu-id="ff276-181">A menos que se mezclen manualmente las tablas de hechos, la partición resultante solo podrá disponer de la tabla de hechos asociada con la partición de destino.</span><span class="sxs-lookup"><span data-stu-id="ff276-181">Unless the fact tables are manually merged, only the fact table associated with the target partition is available to the resulting partition.</span></span> <span data-ttu-id="ff276-182">Los hechos asociados con la partición de origen no estarán disponibles para obtener detalles en la partición resultante y, cuando se procese la partición, las agregaciones no resumirán los datos procedentes de la tabla no disponible.</span><span class="sxs-lookup"><span data-stu-id="ff276-182">Facts associated with the source partition are not available for drilldown in the resulting partition, and when the partition is processed, aggregations do not summarize data from the unavailable table.</span></span>  
  
> [!IMPORTANT]  
>  <span data-ttu-id="ff276-183">Una partición HOLAP o ROLAP mezclada con una tabla de hechos incompleta contiene agregaciones precisas, pero hechos incompletos.</span><span class="sxs-lookup"><span data-stu-id="ff276-183">A merged HOLAP or ROLAP partition with an incomplete fact table contains accurate aggregations, but incomplete facts.</span></span> <span data-ttu-id="ff276-184">Las consultas que hagan referencia a hechos que faltan devuelven datos incorrectos.</span><span class="sxs-lookup"><span data-stu-id="ff276-184">Queries that refer to missing facts return incorrect data.</span></span> <span data-ttu-id="ff276-185">Cuando se procesa la partición, solo se calculan las agregaciones de los hechos disponibles.</span><span class="sxs-lookup"><span data-stu-id="ff276-185">When the partition is processed, aggregations are computed only from available facts.</span></span>  
  
 <span data-ttu-id="ff276-186">Puede que no se detecte la ausencia de hechos no disponibles a menos que un usuario intente obtener detalles de un hecho contenido en una tabla no disponible o que ejecute una consulta que requiera un hecho de la tabla no disponible.</span><span class="sxs-lookup"><span data-stu-id="ff276-186">The absence of unavailable facts might not be noticed unless a user attempts to drill down to a fact in the unavailable table or executes a query that requires a fact from the unavailable table.</span></span> <span data-ttu-id="ff276-187">Debido a que las agregaciones se combinan durante el proceso de mezcla, las consultas cuyos resultados se basan únicamente en agregaciones devolverán datos precisos, mientras que otras consultas pueden devolver datos inexactos.</span><span class="sxs-lookup"><span data-stu-id="ff276-187">Because aggregations are combined during the merge process, queries whose results are based only on aggregations return accurate data, whereas other queries may return inaccurate data.</span></span> <span data-ttu-id="ff276-188">Incluso después de que se procese la partición resultante, puede pasar inadvertida la pérdida de datos correspondientes a la tabla de hechos no disponible, especialmente si estos datos representan solo una pequeña parte de los datos combinados.</span><span class="sxs-lookup"><span data-stu-id="ff276-188">Even after the resulting partition is processed, the missing data from the unavailable fact table may not be noticed, especially if it represents only a small portion of the combined data.</span></span>  
  
 <span data-ttu-id="ff276-189">Las tablas de hechos se pueden mezclar antes o después de mezclar las particiones.</span><span class="sxs-lookup"><span data-stu-id="ff276-189">Fact tables can be merged before or after merging the partitions.</span></span> <span data-ttu-id="ff276-190">Sin embargo, las agregaciones no representarán con precisión los hechos subyacentes hasta que hayan finalizado ambas operaciones.</span><span class="sxs-lookup"><span data-stu-id="ff276-190">However, the aggregations will not accurately represent the underlying facts until both operations have been completed.</span></span> <span data-ttu-id="ff276-191">Se recomienda mezclar las particiones HOLAP o ROLAP que tienen acceso a diferentes tablas de hechos cuando no haya ningún usuario conectado al cubo que contiene esas particiones.</span><span class="sxs-lookup"><span data-stu-id="ff276-191">It is recommended that you merge HOLAP or ROLAP partitions that access different fact tables when users are not connected to the cube that contains these partitions.</span></span>  
  
##  <a name="how-to-merge-partitions-using-ssms"></a><a name="bkmk_partitionSSMS"></a><span data-ttu-id="ff276-192">Cómo mezclar particiones mediante SSMS</span><span class="sxs-lookup"><span data-stu-id="ff276-192">How to merge partitions using SSMS</span></span>  
  
> [!IMPORTANT]  
>  <span data-ttu-id="ff276-193">Antes de mezclar particiones, copie primero la información de filtro de datos (a menudo, la cláusula WHERE para los filtros basados en consultas SQL).</span><span class="sxs-lookup"><span data-stu-id="ff276-193">Before merging partitions, first copy the data filter information (often, the WHERE clause for filters based on SQL queries).</span></span> <span data-ttu-id="ff276-194">Posteriormente, una vez completada la mezcla, debe actualizar la propiedad Origen de la partición que contiene los datos de hechos acumulados.</span><span class="sxs-lookup"><span data-stu-id="ff276-194">Later, after the merge is completed, you should update the Partition Source property of the partition containing the accumulated fact data.</span></span>  
  
1.  <span data-ttu-id="ff276-195">En el Explorador de objetos, expanda el nodo **Grupos de medida** del cubo que contiene las particiones que quiere mezclar, expanda **Particiones**y haga clic con el botón derecho en la partición de destino o en el destino de la operación de mezcla.</span><span class="sxs-lookup"><span data-stu-id="ff276-195">In Object Explorer, expand the **Measure Groups** node of the cube containing the partitions that you want to merge, expand **Partitions**, right-click the partition that is the target or destination of the merge operation.</span></span> <span data-ttu-id="ff276-196">Por ejemplo, si va a mover datos de hechos trimestrales a una partición que almacena datos de hechos anuales, seleccione la partición que contiene los datos de hechos anuales.</span><span class="sxs-lookup"><span data-stu-id="ff276-196">For example, if you are moving quarterly fact data to a partition that stores annual fact data, select the partition that contains the annual fact data.</span></span>  
  
2.  <span data-ttu-id="ff276-197">Haga clic en **particiones de mezcla** para abrir el cuadro de diálogo **partición \<partition name> de mezcla** .</span><span class="sxs-lookup"><span data-stu-id="ff276-197">Click **Merge Partitions** to open the **Merge Partition \<partition name>** dialog box.</span></span>  
  
3.  <span data-ttu-id="ff276-198">En **Particiones de origen**, active la casilla situada junto a cada partición de origen que desee mezclar con la partición de destino y haga clic en **Aceptar**.</span><span class="sxs-lookup"><span data-stu-id="ff276-198">Under **Source Partitions**, select the check box next to each source partition that you want to merge with the target partition, and click **OK**.</span></span>  
  
    > [!NOTE]  
    >  <span data-ttu-id="ff276-199">Las particiones de origen se eliminan inmediatamente después de mezclarse el origen en la partición de destino.</span><span class="sxs-lookup"><span data-stu-id="ff276-199">Source partitions are immediately deleted after the source is merged into the target partition.</span></span> <span data-ttu-id="ff276-200">Actualice la carpeta de particiones para actualizar su contenido una vez completada la mezcla.</span><span class="sxs-lookup"><span data-stu-id="ff276-200">Refresh the Partitions folder to update its contents after the merge is completed.</span></span>  
  
4.  <span data-ttu-id="ff276-201">Haga clic con el botón derecho en la partición que contiene los datos acumulados y seleccione **Propiedades**.</span><span class="sxs-lookup"><span data-stu-id="ff276-201">Right-click the partition containing the accumulated data and select **Properties**.</span></span>  
  
5.  <span data-ttu-id="ff276-202">Abra la `Source` propiedad y modifique la cláusula WHERE para que incluya los datos de la partición que acaba de combinar.</span><span class="sxs-lookup"><span data-stu-id="ff276-202">Open the `Source` property and modify the WHERE clause so that it includes the partition data you just merged.</span></span> <span data-ttu-id="ff276-203">Recuerde que la `Source` propiedad no se actualiza automáticamente.</span><span class="sxs-lookup"><span data-stu-id="ff276-203">Recall that the `Source` property is not updated automatically.</span></span> <span data-ttu-id="ff276-204">Si vuelve a procesar sin actualizar primero el `Source` , es posible que no obtenga todos los datos esperados.</span><span class="sxs-lookup"><span data-stu-id="ff276-204">If you reprocess without first updating the `Source`, you might not get all of the expected data.</span></span>  
  
##  <a name="how-to-merge-partitions-using-xmla"></a><a name="bkmk_partitionsXMLA"></a> <span data-ttu-id="ff276-205">Cómo mezclar particiones mediante XMLA</span><span class="sxs-lookup"><span data-stu-id="ff276-205">How to merge partitions using XMLA</span></span>  
 <span data-ttu-id="ff276-206">Para más información, vea el tema [Mezclar particiones &#40;XMLA&#41;](../multidimensional-models-scripting-language-assl-xmla/merging-partitions-xmla.md).</span><span class="sxs-lookup"><span data-stu-id="ff276-206">See this topic for information, [Merging Partitions &#40;XMLA&#41;](../multidimensional-models-scripting-language-assl-xmla/merging-partitions-xmla.md).</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="ff276-207">Consulte también</span><span class="sxs-lookup"><span data-stu-id="ff276-207">See Also</span></span>  
 <span data-ttu-id="ff276-208">[Procesar objetos Analysis Services](processing-analysis-services-objects.md) </span><span class="sxs-lookup"><span data-stu-id="ff276-208">[Processing Analysis Services Objects](processing-analysis-services-objects.md) </span></span>  
 <span data-ttu-id="ff276-209">[Particiones &#40;Analysis Services de datos multidimensionales&#41;](../multidimensional-models-olap-logical-cube-objects/partitions-analysis-services-multidimensional-data.md) </span><span class="sxs-lookup"><span data-stu-id="ff276-209">[Partitions &#40;Analysis Services - Multidimensional Data&#41;](../multidimensional-models-olap-logical-cube-objects/partitions-analysis-services-multidimensional-data.md) </span></span>  
 <span data-ttu-id="ff276-210">[Crear y administrar una partición local &#40;Analysis Services&#41;](create-and-manage-a-local-partition-analysis-services.md) </span><span class="sxs-lookup"><span data-stu-id="ff276-210">[Create and Manage a Local Partition &#40;Analysis Services&#41;](create-and-manage-a-local-partition-analysis-services.md) </span></span>  
 <span data-ttu-id="ff276-211">[Crear y administrar una partición remota &#40;Analysis Services&#41;](create-and-manage-a-remote-partition-analysis-services.md) </span><span class="sxs-lookup"><span data-stu-id="ff276-211">[Create and Manage a Remote Partition &#40;Analysis Services&#41;](create-and-manage-a-remote-partition-analysis-services.md) </span></span>  
 <span data-ttu-id="ff276-212">[Establecer reescritura de particiones](set-partition-writeback.md) </span><span class="sxs-lookup"><span data-stu-id="ff276-212">[Set Partition Writeback](set-partition-writeback.md) </span></span>  
 <span data-ttu-id="ff276-213">[Particiones habilitadas para escritura](../multidimensional-models-olap-logical-cube-objects/partitions-write-enabled-partitions.md) </span><span class="sxs-lookup"><span data-stu-id="ff276-213">[Write-Enabled Partitions](../multidimensional-models-olap-logical-cube-objects/partitions-write-enabled-partitions.md) </span></span>  
 [<span data-ttu-id="ff276-214">Configurar el almacenamiento de cadenas para dimensiones y particiones</span><span class="sxs-lookup"><span data-stu-id="ff276-214">Configure String Storage for Dimensions and Partitions</span></span>](configure-string-storage-for-dimensions-and-partitions.md)  
  
  
