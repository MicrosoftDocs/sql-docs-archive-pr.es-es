---
title: Administración de ensamblados de modelos multidimensionales | Microsoft Docs
ms.custom: ''
ms.date: 06/13/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: analysis-services
ms.topic: conceptual
helpviewer_keywords:
- permissions [Analysis Services], assemblies
- calling user-defined functions
- user impersonation [Analysis Services]
- impersonation [Analysis Services]
- Data Mining Extensions [Analysis Services], assemblies
- MDX [Analysis Services], assemblies
- user-defined functions [Analysis Services]
- Analysis Services objects, assemblies
- assemblies [Analysis Services]
- application domains [Analysis Services]
ms.assetid: b2645d10-6d17-444e-9289-f111ec48bbfb
author: minewiskan
ms.author: owend
ms.openlocfilehash: b95a3171b3b194e84f10809f71eb72fefb07172b
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 08/04/2020
ms.locfileid: "87744395"
---
# <a name="multidimensional-model-assemblies-management"></a><span data-ttu-id="87bbb-102">Administración de ensamblados de modelos multidimensionales</span><span class="sxs-lookup"><span data-stu-id="87bbb-102">Multidimensional Model Assemblies Management</span></span>
  [!INCLUDE[msCoName](../../includes/msconame-md.md)]<span data-ttu-id="87bbb-103">[!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] proporciona una gran cantidad de funciones intrínsecas para su uso con los lenguajes de expresiones multidimensionales (MDX) y extensiones de minería de datos (DMX), diseñadas para lograr todo, desde cálculos estadísticos estándar hasta el recorrido de miembros en una jerarquía.</span><span class="sxs-lookup"><span data-stu-id="87bbb-103">[!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] supplies lots of intrinsic functions for use with the Multidimensional Expressions (MDX) and Data Mining Extensions (DMX) languages, designed to accomplish everything from standard statistical calculations to traversing members in a hierarchy.</span></span> <span data-ttu-id="87bbb-104">No obstante, al igual que con cualquier otro producto complejo, existe siempre la necesidad de ampliar la funcionalidad.</span><span class="sxs-lookup"><span data-stu-id="87bbb-104">But, as with any other complex and robust product, there is always the need to extend the functionality of such a product further.</span></span>  
  
 <span data-ttu-id="87bbb-105">Por lo tanto, [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] permite agregar ensamblados a una instancia o base de datos de [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] .</span><span class="sxs-lookup"><span data-stu-id="87bbb-105">Therefore, [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] lets you add assemblies to an [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] instance or database.</span></span> <span data-ttu-id="87bbb-106">Los ensamblados permiten crear funciones externas definidas por el usuario mediante cualquier lenguaje CLR (Common Language Runtime), como por ejemplo Microsoft Visual Basic .NET o Microsoft Visual C#.</span><span class="sxs-lookup"><span data-stu-id="87bbb-106">Assemblies let you create external, user-defined functions using any common language runtime (CLR) language, such as Microsoft Visual Basic .NET or Microsoft Visual C#.</span></span> <span data-ttu-id="87bbb-107">También puede utilizar lenguajes de automatización COM (Modelo de objetos componentes), como Microsoft Visual Basic o Microsoft Visual C++.</span><span class="sxs-lookup"><span data-stu-id="87bbb-107">You can also use Component Object Model (COM) Automation languages such as Microsoft Visual Basic or Microsoft Visual C++.</span></span>  
  
> [!IMPORTANT]  
>  <span data-ttu-id="87bbb-108">Los ensamblados COM pueden suponer un riesgo para la seguridad.</span><span class="sxs-lookup"><span data-stu-id="87bbb-108">COM assemblies might pose a security risk.</span></span> <span data-ttu-id="87bbb-109">Debido a esto y a otras consideraciones, los ensamblados COM están en desuso en [!INCLUDE[ssASversion10](../../includes/ssasversion10-md.md)].</span><span class="sxs-lookup"><span data-stu-id="87bbb-109">Due to this risk and other considerations, COM assemblies were deprecated in [!INCLUDE[ssASversion10](../../includes/ssasversion10-md.md)].</span></span> <span data-ttu-id="87bbb-110">Es posible que este tipo de ensamblados no esté disponible en versiones futuras.</span><span class="sxs-lookup"><span data-stu-id="87bbb-110">COM assemblies might not be supported in future releases.</span></span>  
  
 <span data-ttu-id="87bbb-111">Los ensamblados le permiten ampliar la funcionalidad empresarial de MDX y DMX.</span><span class="sxs-lookup"><span data-stu-id="87bbb-111">Assemblies let you extend the business functionality of MDX and DMX.</span></span> <span data-ttu-id="87bbb-112">Cree la funcionalidad que desee en una biblioteca, como por ejemplo una biblioteca de vínculos dinámicos (DLL), y agregue la biblioteca como ensamblado a una instancia de [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] o a una base de datos de [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] .</span><span class="sxs-lookup"><span data-stu-id="87bbb-112">You build the functionality that you want into a library, such as a dynamic link library (DLL) and add the library as an assembly to an instance of [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] or to an [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] database.</span></span> <span data-ttu-id="87bbb-113">Los métodos públicos de la biblioteca se ofrecerán como funciones definidas por el usuario a procedimientos, cálculos, acciones, aplicaciones cliente y expresiones de MDX y DMX.</span><span class="sxs-lookup"><span data-stu-id="87bbb-113">The public methods in the library are then exposed as user-defined functions to MDX and DMX expressions, procedures, calculations, actions, and client applications.</span></span>  
  
 <span data-ttu-id="87bbb-114">En el servidor se puede agregar un ensamblado con nuevos procedimientos y funciones.</span><span class="sxs-lookup"><span data-stu-id="87bbb-114">An assembly with new procedures and functions can be added to the server.</span></span> <span data-ttu-id="87bbb-115">Puede usar los ensamblados para mejorar o agregar funcionalidad personalizada que no proporciona el servidor.</span><span class="sxs-lookup"><span data-stu-id="87bbb-115">You can use assemblies to enhance or add custom functionality that is not provided by the server.</span></span> <span data-ttu-id="87bbb-116">Si usa ensamblados, puede agregar las nuevas funciones a las Expresiones multidimensionales (MDX), las Extensiones de minería de datos (DMX) o los procedimientos almacenados.</span><span class="sxs-lookup"><span data-stu-id="87bbb-116">By using assemblies, you can add new functions to Multidimensional Expressions (MDX), Data Mining Extensions (DMX), or stored procedures.</span></span> <span data-ttu-id="87bbb-117">Los ensamblados se cargan desde la ubicación donde se ejecuta la aplicación personalizada; en el servidor se guarda una copia del archivo binario del ensamblado junto con los datos de la base de datos.</span><span class="sxs-lookup"><span data-stu-id="87bbb-117">Assemblies are loaded from the location where the custom application is run, and a copy of the assembly binary file is saved along with the database data in the server.</span></span> <span data-ttu-id="87bbb-118">Cuando se quita un ensamblado, el ensamblado copiado también se quita del servidor.</span><span class="sxs-lookup"><span data-stu-id="87bbb-118">When an assembly is removed, the copied assembly is also removed from the server.</span></span>  
  
 <span data-ttu-id="87bbb-119">Los ensamblados pueden ser de dos tipos diferentes: COM y CLR.</span><span class="sxs-lookup"><span data-stu-id="87bbb-119">Assemblies can be of two different types: COM and CLR.</span></span> <span data-ttu-id="87bbb-120">Los ensamblados CLR son ensamblados desarrollados en los lenguajes de programación de .NET Framework como C#, Visual Basic .NET, C++ administrado.</span><span class="sxs-lookup"><span data-stu-id="87bbb-120">CLR assemblies are assemblies developed in .NET Framework programming languages such as C#, Visual Basic .NET, managed C++.</span></span> <span data-ttu-id="87bbb-121">Los ensamblados COM son bibliotecas COM que se deben registrar en el servidor.</span><span class="sxs-lookup"><span data-stu-id="87bbb-121">COM assemblies are COM libraries that must be registered in the server</span></span>  
  
 <span data-ttu-id="87bbb-122">Los ensamblados se pueden agregar a los objetos <xref:Microsoft.AnalysisServices.Server> o <xref:Microsoft.AnalysisServices.Database> .</span><span class="sxs-lookup"><span data-stu-id="87bbb-122">Assemblies can be added to <xref:Microsoft.AnalysisServices.Server> or <xref:Microsoft.AnalysisServices.Database> objects.</span></span> <span data-ttu-id="87bbb-123">Cualquier usuario conectado al servidor o a cualquier objeto del servidor puede llamar a los ensamblados de servidor.</span><span class="sxs-lookup"><span data-stu-id="87bbb-123">Server assemblies can be called by any user connected to the server or any object in the server.</span></span> <span data-ttu-id="87bbb-124">Solo los objetos o los usuarios conectados a la <xref:Microsoft.AnalysisServices.Database> pueden llamar a los ensamblados de base de datos.</span><span class="sxs-lookup"><span data-stu-id="87bbb-124">Database assemblies can be called only by <xref:Microsoft.AnalysisServices.Database> objects or users connected to the database.</span></span>  
  
 <span data-ttu-id="87bbb-125">Un objeto de <xref:Microsoft.AnalysisServices.Assembly> simple se compone de información básica (nombre e id.), una colección de archivos y especificaciones de seguridad.</span><span class="sxs-lookup"><span data-stu-id="87bbb-125">A simple <xref:Microsoft.AnalysisServices.Assembly> object is composed of basic information (Name and Id), file collection, and security specifications.</span></span>  
  
 <span data-ttu-id="87bbb-126">La colección de archivos hace referencia a los archivos de ensamblado cargados y sus archivos de depuración (.pdb) correspondientes, si éstos se cargaron con los archivos de ensamblado.</span><span class="sxs-lookup"><span data-stu-id="87bbb-126">The file collection refers to the loaded assembly files and their corresponding debugging (.pdb) files, if the debugging files were loaded with the assembly files.</span></span> <span data-ttu-id="87bbb-127">Los archivos de ensamblado se cargan desde la ubicación definida por la aplicación ; en el servidor se guarda una copia junto con los datos.</span><span class="sxs-lookup"><span data-stu-id="87bbb-127">Assembly files are loaded from the location where the application defined the files to, and a copy is saved in the server along with the data.</span></span> <span data-ttu-id="87bbb-128">La copia del archivo de ensamblado se usa para cargar el ensamblado cada vez que se inicia el servicio.</span><span class="sxs-lookup"><span data-stu-id="87bbb-128">The copy of the assembly file is used to load the assembly every time the service is started.</span></span>  
  
 <span data-ttu-id="87bbb-129">Las especificaciones de seguridad incluyen el conjunto de permisos y la suplantación que se usa para ejecutar el ensamblado.</span><span class="sxs-lookup"><span data-stu-id="87bbb-129">Security specifications include the permission set and the impersonation used to run the assembly.</span></span>  
  
## <a name="calling-user-defined-functions"></a><span data-ttu-id="87bbb-130">Llamar a funciones definidas por el usuario</span><span class="sxs-lookup"><span data-stu-id="87bbb-130">Calling User-Defined Functions</span></span>  
 <span data-ttu-id="87bbb-131">La llamada a una función definida por el usuario en un ensamblado se realiza de la misma forma que la llamada a una función intrínseca, salvo que se deba utilizar un nombre completo.</span><span class="sxs-lookup"><span data-stu-id="87bbb-131">Calling a user-defined function in an assembly is performed just like calling an intrinsic function, except that you must use a fully qualified name.</span></span> <span data-ttu-id="87bbb-132">Por ejemplo, una función definida por el usuario que devuelva un tipo esperado por MDX se incluye en una consulta MDX, como se muestra en el siguiente ejemplo:</span><span class="sxs-lookup"><span data-stu-id="87bbb-132">For example, a user-defined function that returns a type expected by MDX is included in an MDX query, as shown in the following example:</span></span>  
  
```  
Select MyAssembly.MyClass.MyStoredProcedure(a, b, c) on 0 from Sales  
```  
  
 <span data-ttu-id="87bbb-133">También se puede llamar a las funciones definidas por el usuario mediante la palabra clave CALL.</span><span class="sxs-lookup"><span data-stu-id="87bbb-133">User-defined functions can also be called using the CALL keyword.</span></span> <span data-ttu-id="87bbb-134">Debe utilizar la palabra clave CALL con funciones definidas por el usuario que devuelvan conjuntos de registros o valores nulos, y no podrá utilizarla si la función definida por el usuario depende de un objeto del contexto del script o instrucción MDX o DMX, como el modelo de minería de datos o el cubo actual.</span><span class="sxs-lookup"><span data-stu-id="87bbb-134">You must use the CALL keyword for user-defined functions which return recordsets or void values, and you cannot use the CALL keyword if the user-defined function depends on an object in the context of the MDX or DMX statement or script, such as the current cube or data mining model.</span></span> <span data-ttu-id="87bbb-135">Un uso común de una función llamada fuera de una consulta MDX o DMX es utilizar el modelo de objetos AMO para realizar funciones administrativas.</span><span class="sxs-lookup"><span data-stu-id="87bbb-135">A common use for a function called outside an MDX or DMX query is to use the AMO object model to perform administrative functions.</span></span> <span data-ttu-id="87bbb-136">Si, por ejemplo, desea utilizar la función `MyVoidProcedure(a, b, c)` en una instrucción MDX, se utilizaría la siguiente sintaxis:</span><span class="sxs-lookup"><span data-stu-id="87bbb-136">If, for example, you wanted to use the function `MyVoidProcedure(a, b, c)` in an MDX statement, the following syntax would be employed:</span></span>  
  
```  
Call MyAssembly.MyClass.MyVoidProcedure(a, b, c)  
```  
  
 <span data-ttu-id="87bbb-137">Los ensamblados simplifican el desarrollo de la base de datos al permitir que se desarrolle una sola vez el código común y se almacene en una ubicación única.</span><span class="sxs-lookup"><span data-stu-id="87bbb-137">Assemblies simplify database development by enabling common code to be developed once and stored in a single location.</span></span> <span data-ttu-id="87bbb-138">Los desarrolladores cliente pueden crear bibliotecas de funciones para [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] y distribuirlas por sus aplicaciones.</span><span class="sxs-lookup"><span data-stu-id="87bbb-138">Client software developers can create libraries of functions for [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] and distribute them with their applications.</span></span>  
  
 <span data-ttu-id="87bbb-139">Los ensamblados y las funciones definidas por el usuario pueden duplicar los nombres de función de la biblioteca de funciones de [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] o de otros ensamblados.</span><span class="sxs-lookup"><span data-stu-id="87bbb-139">Assemblies and user-defined functions can duplicate the function names of the [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] function library or of other assemblies.</span></span> <span data-ttu-id="87bbb-140">Siempre que se llame a la función definida por el usuario con su nombre completo, [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] utilizará el procedimiento correcto.</span><span class="sxs-lookup"><span data-stu-id="87bbb-140">As long as you call the user-defined function by using its fully qualified name, [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] will use the correct procedure.</span></span> <span data-ttu-id="87bbb-141">Por razones de seguridad y para eliminar la posibilidad de llamar a un nombre duplicado de una biblioteca de clases diferente, [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] requiere que se utilicen solo nombres completos para procedimientos almacenados.</span><span class="sxs-lookup"><span data-stu-id="87bbb-141">For security purposes, and to eliminate the chance of calling a duplicate name in a different class library, [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] requires that you use only fully qualified names for stored procedures.</span></span>  
  
 <span data-ttu-id="87bbb-142">Para llamar a una función definida por el usuario desde un ensamblado CLR, la función definida por el usuario estará precedida por el nombre del ensamblado, el nombre de clase completo y el nombre de procedimiento, como se muestra a continuación:</span><span class="sxs-lookup"><span data-stu-id="87bbb-142">To call a user-defined function from a specific CLR assembly, the user-defined function is preceded by the assembly name, full class name, and procedure name, as demonstrated here:</span></span>  
  
 <span data-ttu-id="87bbb-143">*AssemblyName*. *FullClassName*. *Nombreprocedimiento*(*argumento1*, *Argument2*,...)</span><span class="sxs-lookup"><span data-stu-id="87bbb-143">*AssemblyName*.*FullClassName*.*ProcedureName*(*Argument1*, *Argument2*, ...)</span></span>  
  
 <span data-ttu-id="87bbb-144">Por razones de compatibilidad con versiones anteriores de [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)], se acepta también la siguiente sintaxis:</span><span class="sxs-lookup"><span data-stu-id="87bbb-144">For backward compatibility with earlier versions of [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)], the following syntax is also acceptable:</span></span>  
  
 <span data-ttu-id="87bbb-145">*nombreDeEnsamblado*!*nombreDeClaseCompleto*!*nombreDeProcedimiento*(*Argumento1*, *Argumento2*…)</span><span class="sxs-lookup"><span data-stu-id="87bbb-145">*AssemblyName*!*FullClassName*!*ProcedureName*(*Argument1*, *Argument2*, ...)</span></span>  
  
 <span data-ttu-id="87bbb-146">Si una biblioteca COM admite varias interfaces, también se puede utilizar el Id. de interfaz para resolver el nombre de procedimiento, como se muestra a continuación:</span><span class="sxs-lookup"><span data-stu-id="87bbb-146">If a COM library supports multiple interfaces, the interface ID can also be used to resolve the procedure name, as demonstrated here:</span></span>  
  
 <span data-ttu-id="87bbb-147">*nombreDeEnsamblado*!*idDeInterfaz*!*nombreDeProcedimiento*(*Argumento1*, *Argumento2*…)</span><span class="sxs-lookup"><span data-stu-id="87bbb-147">*AssemblyName*!*InterfaceID*!*ProcedureName*(*Argument1*, *Argument2*, ...)</span></span>  
  
## <a name="security"></a><span data-ttu-id="87bbb-148">Seguridad</span><span class="sxs-lookup"><span data-stu-id="87bbb-148">Security</span></span>  
 <span data-ttu-id="87bbb-149">La seguridad de los ensamblados depende del modelo de seguridad de .NET Framework, que es un modelo de seguridad de acceso del código.</span><span class="sxs-lookup"><span data-stu-id="87bbb-149">Security for assemblies is based on the .NET Framework security model, which is a code-access security model.</span></span> <span data-ttu-id="87bbb-150">.NET Framework admite un mecanismo de seguridad de acceso del código que presupone que el tiempo de ejecución puede hospedar código de plena confianza y código parcialmente de confianza.</span><span class="sxs-lookup"><span data-stu-id="87bbb-150">.NET Framework supports a code-access security mechanism that assumes that the runtime can host both fully trusted and partially trusted code.</span></span> <span data-ttu-id="87bbb-151">Los recursos protegidos por la seguridad de acceso del código de .NET Framework se suelen empaquetar mediante código administrado que solicita el permiso correspondiente antes de permitir el acceso al recurso.</span><span class="sxs-lookup"><span data-stu-id="87bbb-151">The resources that are protected by .NET Framework code access security are typically wrapped by managed code which demands the corresponding permission before enabling access to the resource.</span></span> <span data-ttu-id="87bbb-152">La solicitud de permiso solo se satisface si todos los que llaman (en el nivel de ensamblado) de la pila de llamadas tienen el permiso correspondiente para el recurso.</span><span class="sxs-lookup"><span data-stu-id="87bbb-152">The demand for the permission is satisfied only if all the callers (at the assembly level) in the call stack have the corresponding resource permission.</span></span>  
  
 <span data-ttu-id="87bbb-153">En el caso de los ensamblados, el permiso de ejecución se pasa con la propiedad `PermissionSet` del objeto `Assembly`.</span><span class="sxs-lookup"><span data-stu-id="87bbb-153">For assemblies, permission for execution is passed with the `PermissionSet` property on the `Assembly` object.</span></span> <span data-ttu-id="87bbb-154">Los permisos que recibe el código administrado vienen determinados por la directiva de seguridad activa.</span><span class="sxs-lookup"><span data-stu-id="87bbb-154">The permissions that managed code receives are determined by the security policy in effect.</span></span> <span data-ttu-id="87bbb-155">Existen tres niveles de directiva activos en un entorno que no esté hospedado en[!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] : organización, equipo y usuario.</span><span class="sxs-lookup"><span data-stu-id="87bbb-155">There are already three levels of policy in effect in a non-[!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] hosted environment: enterprise, computer and user.</span></span> <span data-ttu-id="87bbb-156">La lista real de permisos que el código recibe queda determinada por la intersección de los permisos obtenidos por estos tres niveles.</span><span class="sxs-lookup"><span data-stu-id="87bbb-156">The effective list of permissions that code receives is determined by the intersection of the permissions obtained by these three levels.</span></span>  
  
 [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] <span data-ttu-id="87bbb-157">proporciona un nivel de directiva de seguridad de nivel de host a la biblioteca CLR mientras lo hospeda; esta directiva es un nivel de directiva adicional por debajo de los tres niveles de directiva que siempre están activos.</span><span class="sxs-lookup"><span data-stu-id="87bbb-157">supplies a host-level security policy level to the CLR while hosting it; this policy is an additional policy level below the three policy levels that are always in effect.</span></span> <span data-ttu-id="87bbb-158">Esta directiva se establece para cada dominio de aplicación creado por [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)].</span><span class="sxs-lookup"><span data-stu-id="87bbb-158">This policy is set for every application domain that is created by [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)].</span></span>  
  
 <span data-ttu-id="87bbb-159">La directiva de nivel de host de [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] es una combinación de la directiva fija de [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] para ensamblados de sistema y de la directiva especificada por el usuario para ensamblados de usuario.</span><span class="sxs-lookup"><span data-stu-id="87bbb-159">The [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] host-level policy is a combination of [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] fixed policy for system assemblies and user-specified policy for user assemblies.</span></span> <span data-ttu-id="87bbb-160">La parte especificada por el usuario de la directiva de host de [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] depende del propietario de ensamblado que especifique uno de los tres depósitos de permisos para cada ensamblado:</span><span class="sxs-lookup"><span data-stu-id="87bbb-160">The user-specified piece of the [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] host policy is based on the assembly owner specifying one of three permission buckets for each assembly:</span></span>  
  
|<span data-ttu-id="87bbb-161">Configuración de permisos</span><span class="sxs-lookup"><span data-stu-id="87bbb-161">Permission Setting</span></span>|<span data-ttu-id="87bbb-162">Descripción</span><span class="sxs-lookup"><span data-stu-id="87bbb-162">Description</span></span>|  
|------------------------|-----------------|  
|`Safe`|<span data-ttu-id="87bbb-163">Proporciona permiso de cálculo interno.</span><span class="sxs-lookup"><span data-stu-id="87bbb-163">Provides internal computation permission.</span></span> <span data-ttu-id="87bbb-164">Este depósito de permisos no asigna permisos para el acceso a los recursos protegidos en .NET Framework.</span><span class="sxs-lookup"><span data-stu-id="87bbb-164">This permission bucket does not assign permissions to access any of the protected resources in the .NET Framework.</span></span> <span data-ttu-id="87bbb-165">Se trata del depósito de permisos predeterminado para un ensamblado si no se especifica ninguno con la propiedad `PermissionSet`.</span><span class="sxs-lookup"><span data-stu-id="87bbb-165">This is the default permission bucket for an assembly if none is specified with the `PermissionSet` property.</span></span>|  
|`ExternalAccess`|<span data-ttu-id="87bbb-166">Proporciona el mismo acceso que la configuración `Safe`, con la posibilidad adicional de permitir el acceso a los recursos externos del sistema.</span><span class="sxs-lookup"><span data-stu-id="87bbb-166">Provides the same access as the `Safe` setting, with the additional ability to access external system resources.</span></span> <span data-ttu-id="87bbb-167">Este depósito de permisos no ofrece garantías de seguridad (aunque se puede proteger este escenario), pero ofrece garantías de confiabilidad.</span><span class="sxs-lookup"><span data-stu-id="87bbb-167">This permission bucket does not offer security guarantees (although it is possible to secure this scenario), but it does give reliability guarantees.</span></span>|  
|`Unsafe`|<span data-ttu-id="87bbb-168">Sin restricciones.</span><span class="sxs-lookup"><span data-stu-id="87bbb-168">Provides no restrictions.</span></span> <span data-ttu-id="87bbb-169">No se pueden ofrecer garantías de seguridad ni confiabilidad al código administrado que se ejecute en este conjunto de permisos.</span><span class="sxs-lookup"><span data-stu-id="87bbb-169">No security or reliability guarantees can be made for managed code running under this permission set.</span></span> <span data-ttu-id="87bbb-170">Otorga cualquier permiso al código que se ejecute en este nivel de confianza, incluso un permiso personalizado incluido por el administrador.</span><span class="sxs-lookup"><span data-stu-id="87bbb-170">Any permission, even a custom permission included by the administrator, is granted to code running at this level of trust.</span></span>|  
  
 <span data-ttu-id="87bbb-171">Si CLR es hospedado por [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)], la comprobación de permisos basada en el recorrido de la pila se detiene en el límite con el código de [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] nativo.</span><span class="sxs-lookup"><span data-stu-id="87bbb-171">When CLR is hosted by [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)], the stack-walk based permission check stops at the boundary with native [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] code.</span></span> <span data-ttu-id="87bbb-172">Cualquier código administrado en los ensamblados de [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] queda siempre en una de las tres categorías de permiso descritas anteriormente.</span><span class="sxs-lookup"><span data-stu-id="87bbb-172">Any managed code in [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] assemblies always falls into one of the three permission categories listed earlier.</span></span>  
  
 <span data-ttu-id="87bbb-173">Las rutinas de ensamblado COM (o no administradas) no admiten el modelo de seguridad de CLR.</span><span class="sxs-lookup"><span data-stu-id="87bbb-173">COM (or unmanaged) assembly routines do not support the CLR security model.</span></span>  
  
### <a name="impersonation"></a><span data-ttu-id="87bbb-174">Suplantación</span><span class="sxs-lookup"><span data-stu-id="87bbb-174">Impersonation</span></span>  
 <span data-ttu-id="87bbb-175">Siempre que exista código administrado que tenga acceso a cualquier recurso externo a [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)], [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] sigue las reglas asociadas a la configuración de la propiedad `ImpersonationMode` del ensamblado para asegurar que el acceso se produce en un contexto de seguridad de Windows adecuado.</span><span class="sxs-lookup"><span data-stu-id="87bbb-175">Whenever managed code accesses any resource outside [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)], [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] follows the rules associated with the `ImpersonationMode` property setting of the assembly to make sure that the access occurs in an appropriate Windows security context.</span></span> <span data-ttu-id="87bbb-176">Dado que los ensamblados que utilizan la configuración de permisos `Safe` no tienen acceso a los recursos externos a [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)], estas reglas solo se aplican a ensamblados que utilicen la configuración de permisos `ExternalAccess` y `Unsafe`.</span><span class="sxs-lookup"><span data-stu-id="87bbb-176">Because assemblies using the `Safe` permission setting cannot access resources outside [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)], these rules are applicable only for assemblies using the `ExternalAccess` and `Unsafe` permission settings.</span></span>  
  
-   <span data-ttu-id="87bbb-177">Si el contexto de ejecución actual corresponde al inicio de sesión autenticado de Windows y es el mismo contexto del autor de la llamada original (es decir, EXECUTE AS no se encuentra en el medio), [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] suplantará el inicio de sesión autenticado de Windows para tener acceso al recurso.</span><span class="sxs-lookup"><span data-stu-id="87bbb-177">If the current execution context corresponds to Windows Authenticated login and is the same as the context of the original caller (that is, there is no EXECUTE AS in the middle), [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] will impersonate the Windows Authenticated login before accessing the resource.</span></span>  
  
-   <span data-ttu-id="87bbb-178">Si hay un EXECUTE AS intermedio que ha cambiado el contexto del llamador original, se producirá un error al intentar obtener acceso al recurso externo.</span><span class="sxs-lookup"><span data-stu-id="87bbb-178">If there is an intermediate EXECUTE AS that changed the context from that of the original caller), the attempt to access external resource will fail.</span></span>  
  
 <span data-ttu-id="87bbb-179">La propiedad `ImpersonationMode` se puede establecer en `ImpersonateCurrentUser` o `ImpersonateAnonymous`.</span><span class="sxs-lookup"><span data-stu-id="87bbb-179">The `ImpersonationMode` property can be set to `ImpersonateCurrentUser` or `ImpersonateAnonymous`.</span></span> <span data-ttu-id="87bbb-180">La configuración predeterminada, `ImpersonateCurrentUser`, ejecuta un ensamblado en la cuenta de inicio de sesión en red del usuario actual.</span><span class="sxs-lookup"><span data-stu-id="87bbb-180">The default setting, `ImpersonateCurrentUser`, runs an assembly under the current user's network login account.</span></span> <span data-ttu-id="87bbb-181">Si `ImpersonateAnonymous` se usa la configuración, el contexto de ejecución corresponde a la cuenta de usuario de inicio de sesión de Windows IUSER_*ServerName* en el servidor.</span><span class="sxs-lookup"><span data-stu-id="87bbb-181">If the `ImpersonateAnonymous` setting is used, the execution context is corresponds to the Windows login user account IUSER_*servername* on the server.</span></span> <span data-ttu-id="87bbb-182">Se trata de la cuenta de invitado para Internet, que tiene privilegios limitados en el servidor.</span><span class="sxs-lookup"><span data-stu-id="87bbb-182">This is the Internet guest account, which has limited privileges on the server.</span></span> <span data-ttu-id="87bbb-183">Un ensamblado que se ejecute en este contexto solamente podrá tener acceso a recursos limitados del servidor local.</span><span class="sxs-lookup"><span data-stu-id="87bbb-183">An assembly running in this context can only access limited resources on the local server.</span></span>  
  
### <a name="application-domains"></a><span data-ttu-id="87bbb-184">Dominios de aplicación</span><span class="sxs-lookup"><span data-stu-id="87bbb-184">Application Domains</span></span>  
 [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] <span data-ttu-id="87bbb-185">no ofrece dominios de aplicación directamente.</span><span class="sxs-lookup"><span data-stu-id="87bbb-185">does not expose application domains directly.</span></span> <span data-ttu-id="87bbb-186">Dado que un conjunto de ensamblados se ejecuta en el mismo dominio de aplicación, los dominios de aplicación podrán descubrirse entre ellos en el tiempo de ejecución mediante el espacio de nombres `System.Reflection` de .NET Framework o de alguna otra forma, y podrán realizar en ellos llamadas enlazadas en tiempo de ejecución.</span><span class="sxs-lookup"><span data-stu-id="87bbb-186">Because of a set of assemblies running in the same application domain, application domains can discover each other at execution time by using the `System.Reflection` namespace in the .NET Framework or in some other way, and can call into them in late-bound manner.</span></span> <span data-ttu-id="87bbb-187">Tales llamadas estarán sujetas a las comprobaciones de permiso utilizadas por la seguridad basada en autorizaciones de [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] .</span><span class="sxs-lookup"><span data-stu-id="87bbb-187">Such calls will be subject to the permission checks used by [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] authorization-based security.</span></span>  
  
 <span data-ttu-id="87bbb-188">No debe confiarse en la búsqueda de ensamblados en el mismo dominio de aplicación, porque la implementación define el límite del dominio de aplicación y los ensamblados que van en cada dominio.</span><span class="sxs-lookup"><span data-stu-id="87bbb-188">You should not rely on finding assemblies in the same application domain, because the application domain boundary and the assemblies that go into each domain are defined by the implementation.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="87bbb-189">Consulte también</span><span class="sxs-lookup"><span data-stu-id="87bbb-189">See Also</span></span>  
 <span data-ttu-id="87bbb-190">[Establecer la seguridad de los procedimientos almacenados](../multidimensional-models-extending-olap-stored-procedures/setting-security-for-stored-procedures.md) </span><span class="sxs-lookup"><span data-stu-id="87bbb-190">[Setting Security for Stored Procedures](../multidimensional-models-extending-olap-stored-procedures/setting-security-for-stored-procedures.md) </span></span>  
 [<span data-ttu-id="87bbb-191">Definir procedimientos almacenados</span><span class="sxs-lookup"><span data-stu-id="87bbb-191">Defining Stored Procedures</span></span>](../multidimensional-models-extending-olap-stored-procedures/defining-stored-procedures.md)  
  
  
