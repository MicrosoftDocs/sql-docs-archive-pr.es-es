---
title: Jerarquías desiguales | Microsoft Docs
ms.custom: ''
ms.date: 06/13/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: analysis-services
ms.topic: conceptual
helpviewer_keywords:
- ragged hierarchies [Analysis Services]
ms.assetid: e40a5788-7ede-4b0f-93ab-46ca33d0cace
author: minewiskan
ms.author: owend
ms.openlocfilehash: 02cbb24b7ae80facf0ddbb1495fccc8f848df377
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 08/04/2020
ms.locfileid: "87749506"
---
# <a name="ragged-hierarchies"></a><span data-ttu-id="a92e7-102">Jerarquías desiguales</span><span class="sxs-lookup"><span data-stu-id="a92e7-102">Ragged Hierarchies</span></span>
  <span data-ttu-id="a92e7-103">Una jerarquía desigual es una jerarquía definida por el usuario que tiene un número impar de niveles.</span><span class="sxs-lookup"><span data-stu-id="a92e7-103">A ragged hierarchy is a user-defined hierarchy that has an uneven number of levels.</span></span> <span data-ttu-id="a92e7-104">Por ejemplo, un organigrama donde un director de alto nivel tiene tanto directores de departamento como no directores a su cargo o jerarquías geográficas que constan de País-Región-Ciudad, donde algunas ciudades no tienen un Estado o Provincia primario, como Washington D.C., Ciudad del Vaticano o Nueva Delhi.</span><span class="sxs-lookup"><span data-stu-id="a92e7-104">Common examples include an organizational chart where a high-level manager has both departmental managers and non-managers as direct reports, or geographic hierarchies composed of Country-Region-City, where some cities lack a parent State or Province, such as Washington D.C., Vatican City, or New Delhi.</span></span>  
  
 <span data-ttu-id="a92e7-105">En la mayoría de las jerarquías de una dimensión, cada nivel tiene el mismo número de miembros por encima de él que cualquier otro miembro del mismo nivel.</span><span class="sxs-lookup"><span data-stu-id="a92e7-105">For most hierarchies in a dimension, each level has the same number of members above it as any other member at the same level.</span></span> <span data-ttu-id="a92e7-106">Una jerarquía desigual es diferente en el sentido de que el primario lógico de al menos un miembro no se encuentra en el nivel que está inmediatamente por encima del miembro.</span><span class="sxs-lookup"><span data-stu-id="a92e7-106">A ragged hierarchy is different in that the logical parent of at least one member is not in the level immediately above the member.</span></span> <span data-ttu-id="a92e7-107">Cuando ocurre esto, la jerarquía desciende a distintos niveles de diferentes rutas de obtención de detalles.</span><span class="sxs-lookup"><span data-stu-id="a92e7-107">When this occurs, the hierarchy descends to different levels for different drilldown paths.</span></span> <span data-ttu-id="a92e7-108">En una aplicación cliente, esto puede hacer que las rutas de obtención de detalles sean innecesariamente complicadas.</span><span class="sxs-lookup"><span data-stu-id="a92e7-108">In a client application, this can make drilldown paths unnecessarily complicated.</span></span>  
  
 <span data-ttu-id="a92e7-109">Las aplicaciones cliente varían en la forma de tratar una jerarquía desigual.</span><span class="sxs-lookup"><span data-stu-id="a92e7-109">Client applications vary in how well they handle a ragged hierarchy.</span></span> <span data-ttu-id="a92e7-110">Si existen jerarquías desiguales en el modelo, prepárese para realizar un pequeño trabajo adicional con el fin de obtener el comportamiento de representación que espera.</span><span class="sxs-lookup"><span data-stu-id="a92e7-110">If ragged hierarchies exist in your model, be prepared to do a little extra work to get the rendering behavior you expect.</span></span>  
  
 <span data-ttu-id="a92e7-111">El primer paso consiste en comprobar la aplicación cliente para ver cómo trata la ruta de obtención de detalles.</span><span class="sxs-lookup"><span data-stu-id="a92e7-111">As a first step, check the client application to see how it handles the drilldown path.</span></span> <span data-ttu-id="a92e7-112">Por ejemplo, Excel repite los nombres de los elementos primarios como marcadores de posición para los valores que faltan.</span><span class="sxs-lookup"><span data-stu-id="a92e7-112">For example, Excel repeats the parent names as placeholders for missing values.</span></span> <span data-ttu-id="a92e7-113">Para ver este comportamiento, cree una tabla dinámica con la dimensión Sales Territory del modelo multidimensional de Adventure Works.</span><span class="sxs-lookup"><span data-stu-id="a92e7-113">To see this behavior yourself, build a PivotTable using the Sales Territory dimension in the Adventure Works multidimensional model.</span></span> <span data-ttu-id="a92e7-114">En una tabla dinámica que tiene los atributos Group, Country y Region de Sales Territory, verá que los países en los que falta un valor de región obtendrán un marcador de posición, en este caso una repetición del primario que hay por encima de él (el nombre del país).</span><span class="sxs-lookup"><span data-stu-id="a92e7-114">In a PivotTable having the Sales Territory attributes Group, Country, and Region, you will see that countries missing a region value will get a placeholder, in this case a repeat of the parent above it (Country name).</span></span> <span data-ttu-id="a92e7-115">Este comportamiento deriva de la propiedad de cadena de conexión MDX Compatibility=1, que es fija dentro de Excel.</span><span class="sxs-lookup"><span data-stu-id="a92e7-115">This behavior derives from the MDX Compatibility=1 connection string property that is fixed within Excel.</span></span> <span data-ttu-id="a92e7-116">Si el cliente no proporciona de forma natural los comportamientos de obtención de detalles que desea, puede establecer propiedades en el modelo para cambiar al menos algunos de esos comportamientos.</span><span class="sxs-lookup"><span data-stu-id="a92e7-116">If the client does not naturally provide the drill-down behaviors you are looking for, you can set properties in the model to change at least some of those behaviors.</span></span>  
  
 <span data-ttu-id="a92e7-117">Este tema contiene las siguientes secciones:</span><span class="sxs-lookup"><span data-stu-id="a92e7-117">This topic contains the following sections:</span></span>  
  
-   [<span data-ttu-id="a92e7-118">Enfoques para modificar la navegación de obtención de detalles en una jerarquía desigual</span><span class="sxs-lookup"><span data-stu-id="a92e7-118">Approaches for modifying drilldown navigation in a ragged hierarchy</span></span>](#bkmk_approach)  
  
-   [<span data-ttu-id="a92e7-119">Establecer HideMemberIf para ocultar miembros en una jerarquía normal</span><span class="sxs-lookup"><span data-stu-id="a92e7-119">Set HideMemberIf to hide members in a regular hierarchy</span></span>](#bkmk_Hide)  
  
-   [<span data-ttu-id="a92e7-120">Establecer MDX Compatibility para determinar cómo se representan los marcadores de posición en las aplicaciones cliente</span><span class="sxs-lookup"><span data-stu-id="a92e7-120">Set MDX Compatibility to determine how placeholders are represented in client applications</span></span>](#bkmk_Mdx)  
  
##  <a name="approaches-for-modifying-drilldown-navigation-in-a-ragged-hierarchy"></a><a name="bkmk_approach"></a> <span data-ttu-id="a92e7-121">Enfoques para modificar la navegación de obtención de detalles en una jerarquía desigual</span><span class="sxs-lookup"><span data-stu-id="a92e7-121">Approaches for modifying drilldown navigation in a ragged hierarchy</span></span>  
 <span data-ttu-id="a92e7-122">La presencia de una jerarquía desigual se convierte en un problema cuando la navegación de obtención de detalles no devuelve los valores esperados o se percibe como difícil de usar.</span><span class="sxs-lookup"><span data-stu-id="a92e7-122">The presence of a ragged hierarchy becomes a problem when drilldown navigation does not return expected values or is perceived as awkward to use.</span></span> <span data-ttu-id="a92e7-123">Para corregir los problemas de navegación resultantes de jerarquías desiguales, considere las siguientes opciones:</span><span class="sxs-lookup"><span data-stu-id="a92e7-123">To fix navigation problems that result from ragged hierarchies, consider these options:</span></span>  
  
-   <span data-ttu-id="a92e7-124">Use una jerarquía normal pero establezca la propiedad `HideMemberIf` en cada nivel para especificar si un nivel que falta se muestra al usuario.</span><span class="sxs-lookup"><span data-stu-id="a92e7-124">Use a regular hierarchy but set the `HideMemberIf` property on each level to specify whether a missing level is visualized to the user.</span></span> <span data-ttu-id="a92e7-125">Al establecer `HideMemberIf`, debe establecer también `MDXCompatibility` en la cadena de conexión para reemplazar los comportamientos de navegación predeterminados.</span><span class="sxs-lookup"><span data-stu-id="a92e7-125">When setting `HideMemberIf`, you should also set `MDXCompatibility` on the connection string to override default navigation behaviors.</span></span> <span data-ttu-id="a92e7-126">En este tema se ofrecen instrucciones para establecer estas propiedades.</span><span class="sxs-lookup"><span data-stu-id="a92e7-126">Instructions for setting these properties are in this topic.</span></span>  
  
-   <span data-ttu-id="a92e7-127">Cree una jerarquía de elementos primarios y secundarios que administre explícitamente los miembros del nivel.</span><span class="sxs-lookup"><span data-stu-id="a92e7-127">Create a parent-child hierarchy that explicitly manages the level members.</span></span> <span data-ttu-id="a92e7-128">Para conocer esta técnica, vea la entrada de blog [Ragged Hierarchy in SSAS (Jerarquía desigual en SSAS)](http://dwbi1.wordpress.com/2011/03/30/ragged-hierarchy-in-ssas/).</span><span class="sxs-lookup"><span data-stu-id="a92e7-128">For an illustration of the technique, see [Ragged Hierarchy in SSAS (blog post)](http://dwbi1.wordpress.com/2011/03/30/ragged-hierarchy-in-ssas/).</span></span> <span data-ttu-id="a92e7-129">Para obtener más información en los libros en pantalla, vea [jerarquía de elementos primarios y secundarios](parent-child-dimension.md).</span><span class="sxs-lookup"><span data-stu-id="a92e7-129">For more information in Books Online, see [Parent-Child Hierarchy](parent-child-dimension.md).</span></span> <span data-ttu-id="a92e7-130">Las desventajas de crear una jerarquía de elementos primarios y secundarios son que solo puede tener una por dimensión y que normalmente disminuye el rendimiento cuando se calculan agregaciones para los miembros intermedios.</span><span class="sxs-lookup"><span data-stu-id="a92e7-130">Downsides to creating a parent-child hierarchy are that you can only have one per dimension, and you typically incur a performance penalty when calculating aggregations for intermediate members.</span></span>  
  
 <span data-ttu-id="a92e7-131">Si la dimensión contiene más de una jerarquía desigual, debe usar el primer enfoque y establecer `HideMemberIf`.</span><span class="sxs-lookup"><span data-stu-id="a92e7-131">If your dimension contains more than one ragged hierarchy, you should use the first approach, setting `HideMemberIf`.</span></span> <span data-ttu-id="a92e7-132">Los desarrolladores de BI que tienen experiencia práctica en el trabajo con jerarquías desiguales van más allá y son partidarios de realizar cambios adicionales en las tablas de datos físicas, creando tablas diferentes para cada nivel.</span><span class="sxs-lookup"><span data-stu-id="a92e7-132">BI Developers with practical experience in working with ragged hierarchies go further in advocating for additional changes in the physical data tables, creating separate tables for each level.</span></span> <span data-ttu-id="a92e7-133">Vea [las jerarquías desiguales (blog) de Martin Mason de la parte 1A del cubo financiero de SSAS](http://martinmason.wordpress.com/2012/03/03/the-ssas-financial-cubepart-1aragged-hierarchies-cont/) para más información sobre esta técnica.</span><span class="sxs-lookup"><span data-stu-id="a92e7-133">See [Martin Mason's the SSAS Financial Cube-Part 1a-Ragged Hierarchies (blog)](http://martinmason.wordpress.com/2012/03/03/the-ssas-financial-cubepart-1aragged-hierarchies-cont/) for details about this technique.</span></span>  
  
##  <a name="set-hidememberif-to-hide-members-in-a-regular-hierarchy"></a><a name="bkmk_Hide"></a> <span data-ttu-id="a92e7-134">Establecer HideMemberIf para ocultar miembros en una jerarquía normal</span><span class="sxs-lookup"><span data-stu-id="a92e7-134">Set HideMemberIf to hide members in a regular hierarchy</span></span>  
 <span data-ttu-id="a92e7-135">En la tabla de una dimensión desigual, los miembros que faltan de manera lógica se pueden representar de distintos modos.</span><span class="sxs-lookup"><span data-stu-id="a92e7-135">In a ragged dimension's table, the logically missing members can be represented in different ways.</span></span> <span data-ttu-id="a92e7-136">Las celdas de la tabla pueden contener valores NULL o cadenas vacías o bien pueden contener el mismo valor que su elemento primario para servir de marcador de posición.</span><span class="sxs-lookup"><span data-stu-id="a92e7-136">The table cells can contain nulls or empty strings, or they can contain the same value as their parent to serve as a placeholder.</span></span> <span data-ttu-id="a92e7-137">La representación de los marcadores de posición está determinada por el estado de los marcadores de posición de los miembros secundarios, según determina la propiedad `HideMemberIf`, y la propiedad de cadena de conexión `MDX Compatibility` de la aplicación cliente.</span><span class="sxs-lookup"><span data-stu-id="a92e7-137">The representation of placeholders is determined by the placeholder status of child members, as determined by the `HideMemberIf` property, and the `MDX Compatibility` connection string property for the client application.</span></span>  
  
 <span data-ttu-id="a92e7-138">En aplicaciones cliente que admiten la visualización de jerarquías desiguales, puede usar estas propiedades para ocultar de forma lógica los miembros que faltan.</span><span class="sxs-lookup"><span data-stu-id="a92e7-138">For client applications that support the display of ragged hierarchies, you can use these properties to hide logically missing members.</span></span>  
  
1.  <span data-ttu-id="a92e7-139">En SSDT, haga doble clic en una dimensión para abrirla en el Diseñador de dimensiones.</span><span class="sxs-lookup"><span data-stu-id="a92e7-139">In SSDT, double-click a dimension to open it in Dimension Designer.</span></span> <span data-ttu-id="a92e7-140">La primera pestaña, Estructura de dimensión, muestra las jerarquías de atributo en el panel Jerarquías.</span><span class="sxs-lookup"><span data-stu-id="a92e7-140">The first tab, Dimension Structure, shows attribute hierarchies in the Hierarchies pane.</span></span>  
  
2.  <span data-ttu-id="a92e7-141">Haga clic con el botón derecho en un miembro dentro de la jerarquía y seleccione **Propiedades**.</span><span class="sxs-lookup"><span data-stu-id="a92e7-141">Right-click a member within the hierarchy and select **Properties**.</span></span> <span data-ttu-id="a92e7-142">Establezca `HideMemberIf` en uno de los valores que se describen a continuación.</span><span class="sxs-lookup"><span data-stu-id="a92e7-142">Set `HideMemberIf` to one of the values described below.</span></span>  
  
    |<span data-ttu-id="a92e7-143">Configuración de HideMemberIf</span><span class="sxs-lookup"><span data-stu-id="a92e7-143">HideMemberIf Setting</span></span>|<span data-ttu-id="a92e7-144">Descripción</span><span class="sxs-lookup"><span data-stu-id="a92e7-144">Description</span></span>|  
    |--------------------------|-----------------|  
    |`Never`|<span data-ttu-id="a92e7-145">Los miembros del nivel nunca están ocultos.</span><span class="sxs-lookup"><span data-stu-id="a92e7-145">Level members are never hidden.</span></span> <span data-ttu-id="a92e7-146">Este es el valor predeterminado.</span><span class="sxs-lookup"><span data-stu-id="a92e7-146">This is the default value.</span></span>|  
    |<span data-ttu-id="a92e7-147">**OnlyChildWithNoName**</span><span class="sxs-lookup"><span data-stu-id="a92e7-147">**OnlyChildWithNoName**</span></span>|<span data-ttu-id="a92e7-148">Un miembro del nivel está oculto cuando es el único elemento secundario de su elemento primario y su nombre es nulo o es una cadena vacía.</span><span class="sxs-lookup"><span data-stu-id="a92e7-148">A level member is hidden when it is the only child of its parent and its name is null or an empty string.</span></span>|  
    |<span data-ttu-id="a92e7-149">**OnlyChildWithParentName**</span><span class="sxs-lookup"><span data-stu-id="a92e7-149">**OnlyChildWithParentName**</span></span>|<span data-ttu-id="a92e7-150">Un miembro del nivel está oculto cuando es el único elemento secundario de su elemento primario y su nombre es el mismo que el de su primario.</span><span class="sxs-lookup"><span data-stu-id="a92e7-150">A level member is hidden when it is the only child of its parent and its name is the same as the name of its parent.</span></span>|  
    |<span data-ttu-id="a92e7-151">**NoName**</span><span class="sxs-lookup"><span data-stu-id="a92e7-151">**NoName**</span></span>|<span data-ttu-id="a92e7-152">Un miembro del nivel está oculto cuando su nombre está vacío.</span><span class="sxs-lookup"><span data-stu-id="a92e7-152">A level member is hidden when its name is empty.</span></span>|  
    |<span data-ttu-id="a92e7-153">**ParentName**</span><span class="sxs-lookup"><span data-stu-id="a92e7-153">**ParentName**</span></span>|<span data-ttu-id="a92e7-154">Un miembro del nivel está oculto cuando su nombre es idéntico al de su primario.</span><span class="sxs-lookup"><span data-stu-id="a92e7-154">A level member is hidden when its name is identical to that of its parent.</span></span>|  
  
##  <a name="set-mdx-compatibility-to-determine-how-placeholders-are-represented-in-client-applications"></a><a name="bkmk_Mdx"></a><span data-ttu-id="a92e7-155">Establecer la compatibilidad de MDX para determinar cómo se representan los marcadores de posición en las aplicaciones cliente</span><span class="sxs-lookup"><span data-stu-id="a92e7-155">Set MDX Compatibility to determine how placeholders are represented in client applications</span></span>  
 <span data-ttu-id="a92e7-156">Después de establecer `HideMemberIf` en un nivel de jerarquía, debe establecer también la propiedad `MDX Compatibility` en la cadena de conexión enviada desde la aplicación cliente.</span><span class="sxs-lookup"><span data-stu-id="a92e7-156">After setting `HideMemberIf` on a hierarchy level, you should also set the `MDX Compatibility` property in the connection string sent from the client application.</span></span> <span data-ttu-id="a92e7-157">El valor de `MDX Compatibility` determina si se usa `HideMemberIf` o no.</span><span class="sxs-lookup"><span data-stu-id="a92e7-157">The `MDX Compatibility` setting determines whether the `HideMemberIf` is used.</span></span>  
  
|<span data-ttu-id="a92e7-158">Valor de MDX Compatibility</span><span class="sxs-lookup"><span data-stu-id="a92e7-158">MDX Compatibility Setting</span></span>|<span data-ttu-id="a92e7-159">Descripción</span><span class="sxs-lookup"><span data-stu-id="a92e7-159">Description</span></span>|<span data-ttu-id="a92e7-160">Uso</span><span class="sxs-lookup"><span data-stu-id="a92e7-160">Usage</span></span>|  
|-------------------------------|-----------------|-----------|  
|<span data-ttu-id="a92e7-161">**1**</span><span class="sxs-lookup"><span data-stu-id="a92e7-161">**1**</span></span>|<span data-ttu-id="a92e7-162">Mostrar un valor de marcador de posición.</span><span class="sxs-lookup"><span data-stu-id="a92e7-162">Show a placeholder value.</span></span>|<span data-ttu-id="a92e7-163">Es el valor predeterminado utilizado por Excel, SSDT y SSMS.</span><span class="sxs-lookup"><span data-stu-id="a92e7-163">This is the default used by Excel, SSDT, and SSMS.</span></span> <span data-ttu-id="a92e7-164">Indica al servidor que devuelva los valores de marcador de posición al obtener detalles de niveles vacíos en una jerarquía desigual.</span><span class="sxs-lookup"><span data-stu-id="a92e7-164">It instructs the server to return placeholder values when drilling down empty levels in a ragged hierarchy.</span></span> <span data-ttu-id="a92e7-165">Si hace clic en el valor de marcador de posición, puede seguir profundizando hasta obtener los nodos secundarios (hoja).</span><span class="sxs-lookup"><span data-stu-id="a92e7-165">If you click the placeholder value, you can continue down to get to the child (leaf) nodes.</span></span><br /><br /> <span data-ttu-id="a92e7-166">Excel posee la cadena de conexión usada para conectarse a Analysis Services y siempre establece `MDX Compatibility` en 1 en todas las conexiones nuevas.</span><span class="sxs-lookup"><span data-stu-id="a92e7-166">Excel owns the connection string used to connect to Analysis Services, and it always sets `MDX Compatibility` to 1 on each new connection.</span></span> <span data-ttu-id="a92e7-167">Este comportamiento conserva la compatibilidad con versiones anteriores.</span><span class="sxs-lookup"><span data-stu-id="a92e7-167">This behavior preserves backward compatibility.</span></span>|  
|<span data-ttu-id="a92e7-168">**2**</span><span class="sxs-lookup"><span data-stu-id="a92e7-168">**2**</span></span>|<span data-ttu-id="a92e7-169">Ocultar un valor de marcador de posición (un valor NULL o un duplicado del nivel primario), pero mostrar otros niveles y nodos que tengan los valores pertinentes.</span><span class="sxs-lookup"><span data-stu-id="a92e7-169">Hide a placeholder value (either a null value or a duplicate of the parent level), but show other levels and nodes having relevant values.</span></span>|<span data-ttu-id="a92e7-170">`MDX Compatibility`=2 se suele considerar el valor preferido para las jerarquías desiguales.</span><span class="sxs-lookup"><span data-stu-id="a92e7-170">`MDX Compatibility`=2 is typically viewed as the preferred setting in terms of ragged hierarchies.</span></span> <span data-ttu-id="a92e7-171">Un informe de [!INCLUDE[ssRSnoversion](../../includes/ssrsnoversion-md.md)] y algunas aplicaciones cliente de terceros pueden conservar este valor.</span><span class="sxs-lookup"><span data-stu-id="a92e7-171">A [!INCLUDE[ssRSnoversion](../../includes/ssrsnoversion-md.md)] report and some third-party client applications can persist this setting.</span></span>|  
  
## <a name="see-also"></a><span data-ttu-id="a92e7-172">Consulte también</span><span class="sxs-lookup"><span data-stu-id="a92e7-172">See Also</span></span>  
 <span data-ttu-id="a92e7-173">[Crear jerarquías definidas por el usuario](user-defined-hierarchies-create.md) </span><span class="sxs-lookup"><span data-stu-id="a92e7-173">[Create User-Defined Hierarchies](user-defined-hierarchies-create.md) </span></span>  
 <span data-ttu-id="a92e7-174">[Jerarquías de usuario](../multidimensional-models-olap-logical-dimension-objects/user-hierarchies.md) </span><span class="sxs-lookup"><span data-stu-id="a92e7-174">[User Hierarchies](../multidimensional-models-olap-logical-dimension-objects/user-hierarchies.md) </span></span>  
 <span data-ttu-id="a92e7-175">[Jerarquía de elementos primarios y secundarios](parent-child-dimension.md) </span><span class="sxs-lookup"><span data-stu-id="a92e7-175">[Parent-Child Hierarchy](parent-child-dimension.md) </span></span>  
 [<span data-ttu-id="a92e7-176">Propiedades de cadena de conexión &#40;Analysis Services&#41;</span><span class="sxs-lookup"><span data-stu-id="a92e7-176">Connection String Properties &#40;Analysis Services&#41;</span></span>](https://docs.microsoft.com/analysis-services/instances/connection-string-properties-analysis-services)  
  
  
