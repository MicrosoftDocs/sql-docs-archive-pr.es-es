---
title: Configurar el almacenamiento de cadenas para dimensiones y particiones | Microsoft Docs
ms.custom: ''
ms.date: 03/06/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: analysis-services
ms.topic: conceptual
ms.assetid: 987f6cfc-da82-4b2e-96ef-a8af88339e5f
author: minewiskan
ms.author: owend
ms.openlocfilehash: 2817af382599d4495dddbd8951a72a47629cf824
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 08/04/2020
ms.locfileid: "87748365"
---
# <a name="configure-string-storage-for-dimensions-and-partitions"></a><span data-ttu-id="1ecb2-102">Configurar el almacenamiento de cadenas para dimensiones y particiones</span><span class="sxs-lookup"><span data-stu-id="1ecb2-102">Configure String Storage for Dimensions and Partitions</span></span>
  <span data-ttu-id="1ecb2-103">Puede volver a configurar el almacenamiento de cadenas para dar cabida a cadenas muy grandes en los atributos de dimensión o en las particiones que superan el límite de tamaño de archivo de 4 GB para los almacenes de cadenas.</span><span class="sxs-lookup"><span data-stu-id="1ecb2-103">You can reconfigure string storage to accommodate very large strings in dimension attributes or partitions that exceed the 4 GB file size limit for string stores.</span></span> <span data-ttu-id="1ecb2-104">Si las dimensiones o las particiones incluyen almacenes de cadenas de este tamaño, puede evitar la restricción del tamaño del archivo si cambia la propiedad **StringStoresCompatibilityLevel** en el nivel de la dimensión o de la partición, tanto en objetos locales como vinculados (locales o remotos).</span><span class="sxs-lookup"><span data-stu-id="1ecb2-104">If your dimensions or partitions include string stores of this size, you can work around the file size constraint by changing the **StringStoresCompatibilityLevel** property at the dimension or partition level, for local as well as linked (local or remote) objects.</span></span>  
  
 <span data-ttu-id="1ecb2-105">Tenga en cuenta que puede aumentar el almacenamiento de cadenas de aquellos objetos que requieren una capacidad adicional.</span><span class="sxs-lookup"><span data-stu-id="1ecb2-105">Note that you can increase string storage on just those objects that require additional capacity.</span></span> <span data-ttu-id="1ecb2-106">En la mayoría de los modelos multidimensionales, los datos de cadena se asocian con dimensiones.</span><span class="sxs-lookup"><span data-stu-id="1ecb2-106">In most multidimensional models, string data is associated with dimensions.</span></span> <span data-ttu-id="1ecb2-107">Sin embargo, las particiones que contengan medidas de recuento distintivas encima de las cadenas también pueden beneficiarse de esta configuración.</span><span class="sxs-lookup"><span data-stu-id="1ecb2-107">However, partitions that contain distinct count measures on top of strings can also benefit from this setting.</span></span> <span data-ttu-id="1ecb2-108">Dado que la configuración es para las cadenas, los datos numéricos no se ven afectados.</span><span class="sxs-lookup"><span data-stu-id="1ecb2-108">Because the setting is for strings, numeric data is unaffected.</span></span>  
  
 <span data-ttu-id="1ecb2-109">Los valores válidos de esta propiedad incluyen los siguientes:</span><span class="sxs-lookup"><span data-stu-id="1ecb2-109">Valid values for this property include the following:</span></span>  
  
|<span data-ttu-id="1ecb2-110">Value</span><span class="sxs-lookup"><span data-stu-id="1ecb2-110">Value</span></span>|<span data-ttu-id="1ecb2-111">Descripción</span><span class="sxs-lookup"><span data-stu-id="1ecb2-111">Description</span></span>|  
|-----------|-----------------|  
|<span data-ttu-id="1ecb2-112">**1050**</span><span class="sxs-lookup"><span data-stu-id="1ecb2-112">**1050**</span></span>|<span data-ttu-id="1ecb2-113">Especifica la arquitectura predeterminada de almacenamiento de cadenas, que está sujeta a un tamaño de archivo máximo de 4 GB por almacén.</span><span class="sxs-lookup"><span data-stu-id="1ecb2-113">Specifies the default string storage architecture, subject to a 4 GB maximum file size per store.</span></span>|  
|<span data-ttu-id="1ecb2-114">**1100**</span><span class="sxs-lookup"><span data-stu-id="1ecb2-114">**1100**</span></span>|<span data-ttu-id="1ecb2-115">Especifica el almacenamiento mayor de cadenas, que admite hasta 4 mil millones de cadenas únicas por almacén.</span><span class="sxs-lookup"><span data-stu-id="1ecb2-115">Specifies larger string storage, supports up to 4 billion unique strings per store.</span></span>|  
  
> [!IMPORTANT]  
>  <span data-ttu-id="1ecb2-116">Si cambia la configuración del almacenamiento de cadenas de un objeto, será necesario volver a procesar el objeto propiamente dicho y los objetos dependientes.</span><span class="sxs-lookup"><span data-stu-id="1ecb2-116">Changing the string storage settings of an object requires that you reprocess the object itself and any dependent object.</span></span> <span data-ttu-id="1ecb2-117">El procesamiento es necesario para completar el procedimiento.</span><span class="sxs-lookup"><span data-stu-id="1ecb2-117">Processing is required to complete the procedure.</span></span>  
  
 <span data-ttu-id="1ecb2-118">Este tema contiene las siguientes secciones:</span><span class="sxs-lookup"><span data-stu-id="1ecb2-118">This topic contains the following sections:</span></span>  
  
-   [<span data-ttu-id="1ecb2-119">Acerca de los almacenes de cadenas</span><span class="sxs-lookup"><span data-stu-id="1ecb2-119">About String Stores</span></span>](#bkmk_background)  
  
-   [<span data-ttu-id="1ecb2-120">Requisitos previos</span><span class="sxs-lookup"><span data-stu-id="1ecb2-120">Prerequisites</span></span>](#bkmk_prereq)  
  
-   [<span data-ttu-id="1ecb2-121">Paso 1: establezca la propiedad StringStoreCompatiblityLevel en las Herramientas de datos de SQL Server</span><span class="sxs-lookup"><span data-stu-id="1ecb2-121">Step 1: Set the StringStoreCompatiblityLevel Property in SQL Server Data Tools</span></span>](#bkmk_step1)  
  
-   [<span data-ttu-id="1ecb2-122">Paso 2: procesar los objetos.</span><span class="sxs-lookup"><span data-stu-id="1ecb2-122">Step 2: Process the Objects</span></span>](#bkmk_step2)  
  
##  <a name="about-string-stores"></a><a name="bkmk_background"></a><span data-ttu-id="1ecb2-123">Acerca de los almacenes de cadenas</span><span class="sxs-lookup"><span data-stu-id="1ecb2-123">About String Stores</span></span>  
 <span data-ttu-id="1ecb2-124">La configuración del almacenamiento de cadenas es opcional, lo que significa que incluso las bases de datos creadas usan la arquitectura de almacenamiento de cadenas predefinida, que está sujeta al tamaño máximo de archivo de 4 GB.</span><span class="sxs-lookup"><span data-stu-id="1ecb2-124">String storage configuration is optional, which means that even new databases that you create use the default string store architecture that is subject to the 4 GB maximum file size.</span></span> <span data-ttu-id="1ecb2-125">El uso de la arquitectura de almacenamiento mayor de cadenas tiene un impacto pequeño pero perceptible en el rendimiento.</span><span class="sxs-lookup"><span data-stu-id="1ecb2-125">Using the larger string storage architecture has a small but noticeable impact on performance.</span></span> <span data-ttu-id="1ecb2-126">Debe utilizarla solo si los archivos de almacenamiento de cadenas están cercanos o en el límite máximo de 4 GB.</span><span class="sxs-lookup"><span data-stu-id="1ecb2-126">You should use it only if your string storage files are close to or at the maximum 4 GB limit.</span></span>  
  
> [!NOTE]  
>  <span data-ttu-id="1ecb2-127">Este valor no se aplica a los modelos de minería de datos.</span><span class="sxs-lookup"><span data-stu-id="1ecb2-127">This setting does not apply to data mining models.</span></span> <span data-ttu-id="1ecb2-128">Actualmente, todavía es posible encontrar la limitación de tamaño de archivo de varios GB en los modelos que contienen estructuras de minería de datos.</span><span class="sxs-lookup"><span data-stu-id="1ecb2-128">Currently, it is still possible to encounter the GB file size limitation on models containing data mining structures.</span></span>  
  
 <span data-ttu-id="1ecb2-129">En una base de datos multidimensional de Analysis Services, las cadenas se almacenan independientemente de los datos numéricos para permitir optimizaciones basadas en las características de los datos.</span><span class="sxs-lookup"><span data-stu-id="1ecb2-129">In an Analysis Services multidimensional database, strings are stored separately from numeric data to allow for optimizations based on characteristics of the data.</span></span> <span data-ttu-id="1ecb2-130">Los datos de cadena normalmente se encuentran en atributos de dimensión que representan nombres o descripciones.</span><span class="sxs-lookup"><span data-stu-id="1ecb2-130">String data is typically found in dimension attributes that represent names or descriptions.</span></span> <span data-ttu-id="1ecb2-131">También es posible tener datos de cadena en medidas de recuento distintivas.</span><span class="sxs-lookup"><span data-stu-id="1ecb2-131">It is also possible to have string data in distinct count measures.</span></span> <span data-ttu-id="1ecb2-132">Los datos de cadena también se pueden usar en las claves.</span><span class="sxs-lookup"><span data-stu-id="1ecb2-132">String data can also be used in keys.</span></span>  
  
 <span data-ttu-id="1ecb2-133">Puede identificar un almacén de cadenas por su extensión de archivo (por ejemplo, los archivos asstore, .bstore, .ksstore o .string).</span><span class="sxs-lookup"><span data-stu-id="1ecb2-133">You can identify a string store by its file extension (for example, asstore, .bstore, .ksstore, or .string files).</span></span> <span data-ttu-id="1ecb2-134">De forma predeterminada, cada uno de estos archivos está sujeto a un límite máximo de 4 GB.</span><span class="sxs-lookup"><span data-stu-id="1ecb2-134">By default, each of these files is subject to a maximum 4 GB limit.</span></span> <span data-ttu-id="1ecb2-135">En [!INCLUDE[ssSQL11](../../includes/sssql11-md.md)], puede invalidar el tamaño máximo de archivo especificando un mecanismo alternativo de almacenamiento que permite que un almacén de cadenas crezca según sea necesario.</span><span class="sxs-lookup"><span data-stu-id="1ecb2-135">In [!INCLUDE[ssSQL11](../../includes/sssql11-md.md)], you can override the maximum file size by specifying an alternative storage mechanism that allows a string store to grow as needed.</span></span>  
  
 <span data-ttu-id="1ecb2-136">A diferencia de la arquitectura predeterminada de almacenamiento de cadenas que limita el tamaño del archivo físico, el almacenamiento mayor de cadenas se basa en un número máximo de cadenas.</span><span class="sxs-lookup"><span data-stu-id="1ecb2-136">In contrast with the default string storage architecture which limits the size of the physical file, larger string storage is based on a maximum number of strings.</span></span> <span data-ttu-id="1ecb2-137">El límite máximo para el almacenamiento mayor de cadenas es de 4 mil millones de cadenas únicas o 4 mil millones de registros, lo que ocurra primero.</span><span class="sxs-lookup"><span data-stu-id="1ecb2-137">The maximum limit for larger string storage is 4 billion unique strings or 4 billion records, whichever occurs first.</span></span> <span data-ttu-id="1ecb2-138">El almacenamiento mayor de cadenas crea registros de un tamaño uniforme, cada uno de los cuales es igual a una página de 64K.</span><span class="sxs-lookup"><span data-stu-id="1ecb2-138">Larger string storage creates records of an even size, where each record is equal to a 64K page.</span></span> <span data-ttu-id="1ecb2-139">Si tiene cadenas muy largas que no caben en un solo registro, el límite efectivo será menor que 4 mil millones de cadenas.</span><span class="sxs-lookup"><span data-stu-id="1ecb2-139">If you have very long strings that do not fit in a single record, your effective limit will be less than 4 billion strings.</span></span>  
  
##  <a name="prerequisites"></a><a name="bkmk_prereq"></a> <span data-ttu-id="1ecb2-140">Requisitos previos</span><span class="sxs-lookup"><span data-stu-id="1ecb2-140">Prerequisites</span></span>  
 <span data-ttu-id="1ecb2-141">Debe tener una versión de [!INCLUDE[ssSQL11](../../includes/sssql11-md.md)] o una versión superior de [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)].</span><span class="sxs-lookup"><span data-stu-id="1ecb2-141">You must have a [!INCLUDE[ssSQL11](../../includes/sssql11-md.md)] or later version of [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)].</span></span>  
  
 <span data-ttu-id="1ecb2-142">Las dimensiones y particiones deben usar el almacenamiento MOLAP.</span><span class="sxs-lookup"><span data-stu-id="1ecb2-142">Dimensions and partitions must use MOLAP storage.</span></span>  
  
 <span data-ttu-id="1ecb2-143">El nivel de compatibilidad de la base de datos debe estar establecido en 1100.</span><span class="sxs-lookup"><span data-stu-id="1ecb2-143">The database compatibility level must be set to 1100.</span></span> <span data-ttu-id="1ecb2-144">Si creó o implementó una base de datos mediante [!INCLUDE[ssBIDevStudio](../../includes/ssbidevstudio-md.md)] y la versión [!INCLUDE[ssSQL11](../../includes/sssql11-md.md)] o una versión superior de [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)], el nivel de compatibilidad de la base de datos ya está establecido en 1100.</span><span class="sxs-lookup"><span data-stu-id="1ecb2-144">If you created or deployed a database using [!INCLUDE[ssBIDevStudio](../../includes/ssbidevstudio-md.md)] and the [!INCLUDE[ssSQL11](../../includes/sssql11-md.md)] or later version of [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)], the database compatibility level is already set to 1100.</span></span> <span data-ttu-id="1ecb2-145">Si ha movido una base de datos creada en una versión anterior de [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] a ssSQL11, debe actualizar el nivel de compatibilidad.</span><span class="sxs-lookup"><span data-stu-id="1ecb2-145">If you moved a database created in an earlier version of [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] to ssSQL11 or later, you must update the compatibility level.</span></span> <span data-ttu-id="1ecb2-146">Para las bases de datos que desee mover, pero no implementar de nuevo, puede usar [!INCLUDE[ssManStudioFull](../../includes/ssmanstudiofull-md.md)] para establecer el nivel de compatibilidad.</span><span class="sxs-lookup"><span data-stu-id="1ecb2-146">For databases that you are moving, but not redeploying, you can use [!INCLUDE[ssManStudioFull](../../includes/ssmanstudiofull-md.md)] to set the compatibility level.</span></span> <span data-ttu-id="1ecb2-147">Para obtener más información, vea [establecer el nivel de compatibilidad de una base de datos multidimensional &#40;Analysis Services&#41;](compatibility-level-of-a-multidimensional-database-analysis-services.md).</span><span class="sxs-lookup"><span data-stu-id="1ecb2-147">For more information, see [Set the Compatibility Level of a Multidimensional Database &#40;Analysis Services&#41;](compatibility-level-of-a-multidimensional-database-analysis-services.md).</span></span>  
  
##  <a name="step-1-set-the-stringstorecompatiblitylevel-property-in-sql-server-data-tools"></a><a name="bkmk_step1"></a><span data-ttu-id="1ecb2-148">Paso 1: establecer la propiedad StringStoreCompatiblityLevel en SQL Server Data Tools</span><span class="sxs-lookup"><span data-stu-id="1ecb2-148">Step 1: Set the StringStoreCompatiblityLevel Property in SQL Server Data Tools</span></span>  
  
1.  <span data-ttu-id="1ecb2-149">Con [!INCLUDE[ssBIDevStudioFull](../../includes/ssbidevstudiofull-md.md)], abra el proyecto que contiene las dimensiones o particiones que desea modificar.</span><span class="sxs-lookup"><span data-stu-id="1ecb2-149">Using [!INCLUDE[ssBIDevStudioFull](../../includes/ssbidevstudiofull-md.md)], open the project that contains the dimensions or partitions you want to modify.</span></span>  
  
2.  <span data-ttu-id="1ecb2-150">Para cambiar el almacenamiento de cadena para dimensiones, abra el Explorador de soluciones.</span><span class="sxs-lookup"><span data-stu-id="1ecb2-150">To change the string storage for dimensions, open Solution Explorer.</span></span> <span data-ttu-id="1ecb2-151">Haga doble clic en la dimensión cuyo almacenamiento de cadenas está modificando.</span><span class="sxs-lookup"><span data-stu-id="1ecb2-151">Double-click the dimension for which you are modifying string storage.</span></span>  
  
3.  <span data-ttu-id="1ecb2-152">En el Diseñador de dimensiones, en el panel Atributos, asegúrese de que está seleccionado el nodo primario de la dimensión (por ejemplo, si la dimensión es Clientes, seleccione Clientes y no uno de los atributos secundarios).</span><span class="sxs-lookup"><span data-stu-id="1ecb2-152">In Dimension Designer, in the Attributes pane, make sure that the parent node of the dimension is selected (for example, if the dimension is Customers, select Customers and not one of the child attributes).</span></span>  
  
4.  <span data-ttu-id="1ecb2-153">En el panel Propiedades, en la sección Avanzadas, establezca **StringStoresCompatibilityLevel** en **1100**.</span><span class="sxs-lookup"><span data-stu-id="1ecb2-153">In the Properties pane, in the Advanced section, set **StringStoresCompatibilityLevel** to **1100**.</span></span> <span data-ttu-id="1ecb2-154">Repítalo para las demás dimensiones que necesiten un almacenamiento mayor; de lo contrario, deje las dimensiones restantes en el valor **1050** .</span><span class="sxs-lookup"><span data-stu-id="1ecb2-154">Repeat for other dimensions that require larger storage, otherwise leave the remaining dimensions at the **1050** value.</span></span>  
  
5.  <span data-ttu-id="1ecb2-155">Para las particiones, abra un cubo en el Explorador de soluciones.</span><span class="sxs-lookup"><span data-stu-id="1ecb2-155">For partitions, open a cube from Solution Explorer.</span></span>  
  
6.  <span data-ttu-id="1ecb2-156">Haga clic en la pestaña Particiones.</span><span class="sxs-lookup"><span data-stu-id="1ecb2-156">Click the Partitions tab.</span></span>  
  
7.  <span data-ttu-id="1ecb2-157">Expanda la partición, seleccione la partición que necesita más memoria adicional y, a continuación, modifique la propiedad **StringStoresCompatibilityLevel** .</span><span class="sxs-lookup"><span data-stu-id="1ecb2-157">Expand the partition, select the partition that requires extra storage capacity, and then modify the **StringStoresCompatibilityLevel** property.</span></span>  
  
8.  <span data-ttu-id="1ecb2-158">Guarde el archivo.</span><span class="sxs-lookup"><span data-stu-id="1ecb2-158">Save the file.</span></span>  
  
##  <a name="step-2-process-the-objects"></a><a name="bkmk_step2"></a><span data-ttu-id="1ecb2-159">Paso 2: procesar los objetos</span><span class="sxs-lookup"><span data-stu-id="1ecb2-159">Step 2: Process the Objects</span></span>  
 <span data-ttu-id="1ecb2-160">La nueva arquitectura de almacenamiento se utilizará después de procesar los objetos.</span><span class="sxs-lookup"><span data-stu-id="1ecb2-160">The new storage architecture will be used after you process the objects.</span></span> <span data-ttu-id="1ecb2-161">El hecho de procesar los objetos también sirve para demostrar que ha resuelto correctamente el problema de la restricción de almacenamiento, porque el error que notificaba previamente una condición de desbordamiento del almacén de cadenas ya no debe volver a aparecer.</span><span class="sxs-lookup"><span data-stu-id="1ecb2-161">Processing objects also proves you have successfully resolved storage constraint problem because the error that previously reported a string store overflow condition should no longer occur.</span></span>  
  
-   <span data-ttu-id="1ecb2-162">En el Explorador de soluciones, haga clic con el botón derecho en la dimensión que acaba de modificar y seleccione **Procesar**.</span><span class="sxs-lookup"><span data-stu-id="1ecb2-162">In Solution Explorer, right-click the dimension or you just modified and select **Process**.</span></span>  
  
 <span data-ttu-id="1ecb2-163">Debe utilizar la opción Proceso completo con cada objeto que utiliza la nueva arquitectura de almacenamiento de cadenas.</span><span class="sxs-lookup"><span data-stu-id="1ecb2-163">You must use the Process Full option on each object that is using the new string store architecture.</span></span> <span data-ttu-id="1ecb2-164">Antes de procesar el objeto, asegúrese de ejecutar un análisis de impacto en la dimensión para comprobar si también es necesario reprocesar los objetos dependientes.</span><span class="sxs-lookup"><span data-stu-id="1ecb2-164">Before processing, be sure to run an impact analysis on the dimension to check whether dependent objects also require reprocessing.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="1ecb2-165">Consulte también</span><span class="sxs-lookup"><span data-stu-id="1ecb2-165">See Also</span></span>  
 <span data-ttu-id="1ecb2-166">[Herramientas y enfoques para el procesamiento de &#40;Analysis Services&#41;](tools-and-approaches-for-processing-analysis-services.md) </span><span class="sxs-lookup"><span data-stu-id="1ecb2-166">[Tools and Approaches for Processing &#40;Analysis Services&#41;](tools-and-approaches-for-processing-analysis-services.md) </span></span>  
 <span data-ttu-id="1ecb2-167">[Opciones de procesamiento y configuración &#40;Analysis Services&#41;](processing-options-and-settings-analysis-services.md) </span><span class="sxs-lookup"><span data-stu-id="1ecb2-167">[Processing Options and Settings &#40;Analysis Services&#41;](processing-options-and-settings-analysis-services.md) </span></span>  
 <span data-ttu-id="1ecb2-168">[Procesamiento y modos de almacenamiento de particiones](../multidimensional-models-olap-logical-cube-objects/partitions-partition-storage-modes-and-processing.md) </span><span class="sxs-lookup"><span data-stu-id="1ecb2-168">[Partition Storage Modes and Processing](../multidimensional-models-olap-logical-cube-objects/partitions-partition-storage-modes-and-processing.md) </span></span>  
 [<span data-ttu-id="1ecb2-169">Almacenamiento de dimensiones</span><span class="sxs-lookup"><span data-stu-id="1ecb2-169">Dimension Storage</span></span>](../multidimensional-models-olap-logical-dimension-objects/dimensions-storage.md)  
  
  
