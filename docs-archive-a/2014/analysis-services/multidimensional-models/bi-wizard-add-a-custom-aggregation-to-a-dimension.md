---
title: Agregar una agregación personalizada a una dimensión | Microsoft Docs
ms.custom: ''
ms.date: 03/06/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: analysis-services
ms.topic: conceptual
helpviewer_keywords:
- dimensions [Analysis Services], Business Intelligence enhancements
- Business Intelligence enhancements [Analysis Services], custom aggregations
- aggregations [Analysis Services], custom
- unary operators
- custom aggregations [Analysis Services]
ms.assetid: 3199a6c2-a06d-47b9-bd1c-604dbb085318
author: minewiskan
ms.author: owend
ms.openlocfilehash: ed843b8b0005ff62f05b13ebd20024d528857388
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 08/04/2020
ms.locfileid: "87663165"
---
# <a name="add-a-custom-aggregation-to-a-dimension"></a><span data-ttu-id="75462-102">Agregar una agregación personalizada a una dimensión</span><span class="sxs-lookup"><span data-stu-id="75462-102">Add a Custom Aggregation to a Dimension</span></span>
  <span data-ttu-id="75462-103">Agregue una mejora de agregación personalizada a un cubo o dimensión para reemplazar las agregaciones predeterminadas asociadas a un miembro de dimensión con un operador unario diferente.</span><span class="sxs-lookup"><span data-stu-id="75462-103">Add a custom aggregation enhancement to a cube or dimension to replace the default aggregations that are associated with a dimension member with a different unary operator.</span></span> <span data-ttu-id="75462-104">Esta mejora especifica una columna de operador unario en la tabla de dimensión que define el resumen de los miembros de una jerarquía de elementos primarios y secundarios.</span><span class="sxs-lookup"><span data-stu-id="75462-104">This enhancement specifies a unary operator column in the dimension table that defines rollup for members in a parent-child hierarchy.</span></span> <span data-ttu-id="75462-105">El operador unario actúa sobre el atributo primario en una jerarquía de elementos primarios y secundarios.</span><span class="sxs-lookup"><span data-stu-id="75462-105">The unary operator acts on the parent attribute in a parent-child hierarchy.</span></span>  
  
> [!NOTE]  
>  <span data-ttu-id="75462-106">Una agregación personalizada solo está disponible en dimensiones basadas en los orígenes de datos existentes.</span><span class="sxs-lookup"><span data-stu-id="75462-106">A custom aggregation is available only for dimensions that are based on existing data sources.</span></span> <span data-ttu-id="75462-107">En las dimensiones que se crearon sin utilizar un origen de datos, debe ejecutar el Asistente para generar esquemas para crear una vista del origen de datos antes de agregar la agregación personalizada.</span><span class="sxs-lookup"><span data-stu-id="75462-107">For dimensions that were created without using a data source, you must run the Schema Generation Wizard to create a data source view before adding the custom aggregation.</span></span>  
  
 <span data-ttu-id="75462-108">Para agregar una agregación personalizada, debe utilizar el Asistente de Business Intelligence y seleccionar la opción **Especificar un operador unario** en la página **Elegir mejora** .</span><span class="sxs-lookup"><span data-stu-id="75462-108">To add a custom aggregation, you use the Business Intelligence Wizard, and select the **Specify a unary operator** option on the **Choose Enhancement** page.</span></span> <span data-ttu-id="75462-109">Este asistente le indica los pasos necesarios para seleccionar la dimensión en la que desea aplicar una agregación personalizada e identificar la agregación personalizada.</span><span class="sxs-lookup"><span data-stu-id="75462-109">This wizard then guides you through the steps of selecting a dimension to which you want to apply a custom aggregation and identifying the custom aggregation.</span></span>  
  
> [!NOTE]  
>  <span data-ttu-id="75462-110">Antes de ejecutar el Asistente de Business Intelligence para agregar una agregación personalizada, compruebe que la dimensión que desea mejorar contiene una jerarquía de atributos primarios y secundarios.</span><span class="sxs-lookup"><span data-stu-id="75462-110">Before you run the Business Intelligence Wizard to add a custom aggregation, make sure that the dimension that you want to enhance contains a parent-child attribute hierarchy.</span></span> <span data-ttu-id="75462-111">Para obtener más información, vea [jerarquía de elementos primarios y secundarios](parent-child-dimension.md).</span><span class="sxs-lookup"><span data-stu-id="75462-111">For more information, see [Parent-Child Hierarchy](parent-child-dimension.md).</span></span>  
  
## <a name="selecting-a-dimension"></a><span data-ttu-id="75462-112">Seleccionar una dimensión</span><span class="sxs-lookup"><span data-stu-id="75462-112">Selecting a Dimension</span></span>  
 <span data-ttu-id="75462-113">En la primera página **Especificar un operador unario** del asistente, debe especificar la dimensión en la que desea aplicar una agregación personalizada.</span><span class="sxs-lookup"><span data-stu-id="75462-113">On the first **Specify a Unary Operator** page of the wizard, you specify the dimension to which you want to apply a custom aggregation.</span></span> <span data-ttu-id="75462-114">La agregación personalizada agregada a la dimensión seleccionada provocará cambios en la dimensión.</span><span class="sxs-lookup"><span data-stu-id="75462-114">The custom aggregation added to this selected dimension will result in changes to the dimension.</span></span> <span data-ttu-id="75462-115">Estos cambios son heredados por todos los cubos que incluyan la dimensión seleccionada.</span><span class="sxs-lookup"><span data-stu-id="75462-115">These changes will be inherited by all cubes that include the selected dimension.</span></span>  
  
## <a name="adding-custom-aggregation-unary-operator"></a><span data-ttu-id="75462-116">Agregar agregación personalizada (operador unario)</span><span class="sxs-lookup"><span data-stu-id="75462-116">Adding Custom Aggregation (Unary Operator)</span></span>  
 <span data-ttu-id="75462-117">En la segunda página de **Especificar un operador unario** , debe especificar el atributo primario que desea para la agregación personalizada y la columna de origen en la tabla de dimensión para el operador unario.</span><span class="sxs-lookup"><span data-stu-id="75462-117">On the second **Specify a Unary Operator** page, you specify the parent attribute that you want for the custom aggregation and the source column in the dimension table for the unary operator.</span></span> <span data-ttu-id="75462-118">**Atributo primario** muestra los atributos que tienen su `Usage` propiedad establecida en `Parent` .</span><span class="sxs-lookup"><span data-stu-id="75462-118">**Parent attribute** lists attributes that have their `Usage` property set to `Parent`.</span></span> <span data-ttu-id="75462-119">Si hay más de un atributo primario, debe elegir el atributo primario que corresponda a la relación de elementos primarios y secundarios que desee utilizar.</span><span class="sxs-lookup"><span data-stu-id="75462-119">If there is more than one parent attribute, choose the parent attribute that corresponds to the parent-child relationship that you want to use.</span></span> <span data-ttu-id="75462-120">Si no se muestran atributos primarios, la dimensión no contiene una jerarquía de elementos primarios y secundarios válida.</span><span class="sxs-lookup"><span data-stu-id="75462-120">If there is no parent attribute listed, then the dimension does not have a valid parent-child hierarchy.</span></span>  
  
 <span data-ttu-id="75462-121">En **Columna de origen**, debe seleccionar la columna de cadenas que contiene los operadores unarios.</span><span class="sxs-lookup"><span data-stu-id="75462-121">In **Source column**, you select the string column that contains the unary operators.</span></span> <span data-ttu-id="75462-122">(Esta selección establece la `UnaryOperatorColumn` propiedad en el atributo primario). La tabla de dimensiones también debe tener una columna de cadena que especifique el operador unario de resumen.</span><span class="sxs-lookup"><span data-stu-id="75462-122">(This selection sets the `UnaryOperatorColumn` property on the parent attribute.) The dimension table should also have a string column that specifies the unary rollup operator.</span></span> <span data-ttu-id="75462-123">Los valores de cadenas de esta columna deben contener operadores de agregación válidos.</span><span class="sxs-lookup"><span data-stu-id="75462-123">The string values in this column should contain valid aggregation operators.</span></span> <span data-ttu-id="75462-124">Si una fila está vacía, el miembro correspondiente se calcula de la forma habitual.</span><span class="sxs-lookup"><span data-stu-id="75462-124">If a row is empty, the corresponding member is calculated normally.</span></span> <span data-ttu-id="75462-125">Si la fórmula de una columna no es válida, se producirá un error en tiempo de ejecución al recuperar un valor de celda que utiliza el miembro.</span><span class="sxs-lookup"><span data-stu-id="75462-125">If the formula in a column is not valid, a run-time error occurs when a cell value that uses the member is retrieved.</span></span> <span data-ttu-id="75462-126">Para obtener más información, vea [Operadores unarios en dimensiones de elementos primarios y secundarios](parent-child-dimension-attributes-unary-operators.md).</span><span class="sxs-lookup"><span data-stu-id="75462-126">For more information, see [Unary Operators in Parent-Child Dimensions](parent-child-dimension-attributes-unary-operators.md).</span></span>  
  
  
