---
title: Ejemplos de consultas de modelos de agrupación en clústeres de secuencia | Microsoft Docs
ms.custom: ''
ms.date: 06/13/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: analysis-services
ms.topic: conceptual
helpviewer_keywords:
- sequence clustering algorithms [Analysis Services]
- content queries [DMX]
- sequence [Analysis Services]
ms.assetid: 64bebcdc-70ab-43fb-8d40-57672a126602
author: minewiskan
ms.author: owend
ms.openlocfilehash: d56924f27f7986861895cf4fff21fa758cc47070
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 08/04/2020
ms.locfileid: "87662355"
---
# <a name="sequence-clustering-model-query-examples"></a><span data-ttu-id="ad696-102">Ejemplos de consultas de modelos de clústeres de secuencia</span><span class="sxs-lookup"><span data-stu-id="ad696-102">Sequence Clustering Model Query Examples</span></span>
  <span data-ttu-id="ad696-103">Cuando se crea una consulta en un modelo de minería de datos, puede tratarse de una consulta de contenido, que proporciona detalles sobre la información almacenada en el modelo, o se puede crear una consulta de predicción, que utiliza los patrones del modelo para realizar predicciones según los datos nuevos que se proporcionen.</span><span class="sxs-lookup"><span data-stu-id="ad696-103">When you create a query against a data mining model, you can create either a content query, which provides details about the information stored in the model, or you can create a prediction query, which uses the patterns in the model to make predictions based on new data that you provide.</span></span> <span data-ttu-id="ad696-104">En un modelo de agrupación en clústeres de secuencia, las consultas de contenido normalmente proporcionan detalles adicionales sobre los clústeres que se encontraron o las transiciones dentro de esos clústeres.</span><span class="sxs-lookup"><span data-stu-id="ad696-104">For a sequence clustering model, content queries typically provide additional details about the clusters that were found, or the transitions within those clusters.</span></span> <span data-ttu-id="ad696-105">También se pueden recuperar metadatos sobre el modelo mediante una consulta.</span><span class="sxs-lookup"><span data-stu-id="ad696-105">You can also retrieve metadata about the model by using a query.</span></span>  
  
 <span data-ttu-id="ad696-106">Las consultas de predicción en un modelo de agrupación en clústeres de secuencia suelen realizar recomendaciones basadas en las secuencias y transiciones, en los atributos sin secuencia que se incluían en el modelo o en una combinación de atributos de secuencia y sin secuencia.</span><span class="sxs-lookup"><span data-stu-id="ad696-106">Prediction queries on a sequence clustering model typically make recommendations based either on the sequences and transitions, on non-sequence attributes that were included in the model, or on a combination of sequence and non-sequence attributes.</span></span>  
  
 <span data-ttu-id="ad696-107">En esta sección se explica cómo crear consultas para los modelos que se basan en el algoritmo de clústeres de secuencia de Microsoft.</span><span class="sxs-lookup"><span data-stu-id="ad696-107">This section explains how to create queries for models that are based on the Microsoft Sequence Clustering algorithm.</span></span> <span data-ttu-id="ad696-108">Para obtener información general sobre cómo crear consultas, vea [Consultas de minería de datos](data-mining-queries.md).</span><span class="sxs-lookup"><span data-stu-id="ad696-108">For general information about creating queries, see [Data Mining Queries](data-mining-queries.md).</span></span>  
  
 <span data-ttu-id="ad696-109">**Consultas de contenido**</span><span class="sxs-lookup"><span data-stu-id="ad696-109">**Content Queries**</span></span>  
  
 [<span data-ttu-id="ad696-110">Usar el conjunto de filas de esquema de minería de datos para devolver los parámetros del modelo</span><span class="sxs-lookup"><span data-stu-id="ad696-110">Using the Data Mining Schema Rowset to return model parameters</span></span>](#bkmk_Query1)  
  
 [<span data-ttu-id="ad696-111">Obtener una lista de secuencias para un estado</span><span class="sxs-lookup"><span data-stu-id="ad696-111">Getting a list of sequences for a state</span></span>](#bkmk_Query2)  
  
 [<span data-ttu-id="ad696-112">Usar procedimientos almacenados del sistema</span><span class="sxs-lookup"><span data-stu-id="ad696-112">Using system stored procedures</span></span>](#bkmk_Query3)  
  
 <span data-ttu-id="ad696-113">**Consultas de predicción**</span><span class="sxs-lookup"><span data-stu-id="ad696-113">**Prediction Queries**</span></span>  
  
 [<span data-ttu-id="ad696-114">Predecir el estado o estados siguientes</span><span class="sxs-lookup"><span data-stu-id="ad696-114">Predict next state or states</span></span>](#bkmk_Query4)  
  
##  <a name="finding-information-about-the-sequence-clustering-model"></a><a name="bkmk_ContentQueries"></a><span data-ttu-id="ad696-115">Buscar información sobre el modelo de agrupación en clústeres de secuencia</span><span class="sxs-lookup"><span data-stu-id="ad696-115">Finding Information about the Sequence Clustering Model</span></span>  
 <span data-ttu-id="ad696-116">Para crear consultas significativas del contenido de un modelo de minería de datos, se debe entender la estructura del contenido del modelo, así como qué tipos de nodo almacenan información y de qué clase es esta.</span><span class="sxs-lookup"><span data-stu-id="ad696-116">To create meaningful queries on the content of a mining model, you must understand the structure of the model content, and which node types store what kind of information.</span></span> <span data-ttu-id="ad696-117">Para más información, vea [Contenido del modelo de minería de datos para los modelos de agrupación en clústeres de secuencia &#40;Analysis Services - Minería de datos&#41;](mining-model-content-for-sequence-clustering-models.md).</span><span class="sxs-lookup"><span data-stu-id="ad696-117">For more information, see [Mining Model Content for Sequence Clustering Models &#40;Analysis Services - Data Mining&#41;](mining-model-content-for-sequence-clustering-models.md).</span></span>  
  
###  <a name="sample-query-1-using-the-data-mining-schema-rowset-to-return-model-parameters"></a><a name="bkmk_Query1"></a><span data-ttu-id="ad696-118">Consulta de ejemplo 1: usar el conjunto de filas de esquema de minería de datos para devolver los parámetros del modelo</span><span class="sxs-lookup"><span data-stu-id="ad696-118">Sample Query 1: Using the Data Mining Schema Rowset to Return Model Parameters</span></span>  
 <span data-ttu-id="ad696-119">Al consultar el conjunto de filas de esquema de minería de datos, se pueden encontrar varias clases de información sobre el modelo, por ejemplo los metadatos básicos, la fecha y la hora en que el modelo se creó y se procesó por última vez, el nombre de la estructura de minería de datos en que se basa el modelo y el nombre de la columna que se usa como atributo de predicción.</span><span class="sxs-lookup"><span data-stu-id="ad696-119">By querying the data mining schema rowset, you can find various kinds of information about the model, including basic metadata, the date and time that the model was created and last processed, the name of the mining structure that the model is based on, and the column used as the predictable attribute.</span></span>  
  
 <span data-ttu-id="ad696-120">La consulta siguiente devuelve los parámetros que se usaron para generar y entrenar el modelo, `[Sequence Clustering]`.</span><span class="sxs-lookup"><span data-stu-id="ad696-120">The following query returns the parameters that were used to build and train the model, `[Sequence Clustering]`.</span></span> <span data-ttu-id="ad696-121">Puede crear este modelo en la lección 5 de [Basic Data Mining Tutorial](../../tutorials/basic-data-mining-tutorial.md).</span><span class="sxs-lookup"><span data-stu-id="ad696-121">You can create this model in Lesson 5 of the [Basic Data Mining Tutorial](../../tutorials/basic-data-mining-tutorial.md).</span></span>  
  
```  
SELECT MINING_PARAMETERS   
from $system.DMSCHEMA_MINING_MODELS  
WHERE MODEL_NAME = 'Sequence Clustering'  
```  
  
 <span data-ttu-id="ad696-122">Resultados de ejemplo:</span><span class="sxs-lookup"><span data-stu-id="ad696-122">Example results:</span></span>  
  
|<span data-ttu-id="ad696-123">MINING_PARAMETERS</span><span class="sxs-lookup"><span data-stu-id="ad696-123">MINING_PARAMETERS</span></span>|  
|------------------------|  
|<span data-ttu-id="ad696-124">CLUSTER_COUNT=15,MINIMUM_SUPPORT=10,MAXIMUM_STATES=100,MAXIMUM_SEQUENCE_STATES=64</span><span class="sxs-lookup"><span data-stu-id="ad696-124">CLUSTER_COUNT=15,MINIMUM_SUPPORT=10,MAXIMUM_STATES=100,MAXIMUM_SEQUENCE_STATES=64</span></span>|  
  
 <span data-ttu-id="ad696-125">Observe que este modelo se generó con el valor predeterminado 10 para CLUSTER_COUNT.</span><span class="sxs-lookup"><span data-stu-id="ad696-125">Note that this model was built by using the default value of 10 for CLUSTER_COUNT.</span></span> <span data-ttu-id="ad696-126">Al especificar un número de clústeres distinto de cero en CLUSTER_COUNT, el algoritmo trata este número como una sugerencia del número aproximado de clústeres que buscar.</span><span class="sxs-lookup"><span data-stu-id="ad696-126">When you specify a non-zero number of clusters for CLUSTER_COUNT, the algorithm treats this number as a hint for the approximate number of clusters to find.</span></span> <span data-ttu-id="ad696-127">Sin embargo, en el proceso de análisis, el algoritmo puede buscar más o menos clústeres.</span><span class="sxs-lookup"><span data-stu-id="ad696-127">However, in the process of analysis, the algorithm may find more or fewer clusters.</span></span> <span data-ttu-id="ad696-128">En este caso, el algoritmo encontró que era más apropiado usar 15 clústeres para los datos de entrenamiento.</span><span class="sxs-lookup"><span data-stu-id="ad696-128">In this case, the algorithm found that 15 clusters best fit the training data.</span></span> <span data-ttu-id="ad696-129">Por consiguiente, la lista de valores de parámetros para el modelo completado notifica el recuento de clústeres tal y como el algoritmo determina, y no el valor pasado al crear el modelo.</span><span class="sxs-lookup"><span data-stu-id="ad696-129">Therefore, the list of parameter values for the completed model reports the count of clusters as determined by the algorithm, not the value passed in when creating the model.</span></span>  
  
 <span data-ttu-id="ad696-130">¿Cómo se diferencia este comportamiento de permitir que el algoritmo determine el mejor número de clústeres?</span><span class="sxs-lookup"><span data-stu-id="ad696-130">How does this behavior differ from letting the algorithm determine the best number of clusters?</span></span> <span data-ttu-id="ad696-131">Como experimento, puede crear otro modelo de agrupación en clústeres que use estos mismos datos, pero establecer CLUSTER_COUNT en 0.</span><span class="sxs-lookup"><span data-stu-id="ad696-131">As an experiment, you can create another clustering model that uses this same data, but set CLUSTER_COUNT to 0.</span></span> <span data-ttu-id="ad696-132">Si hace esto, el algoritmo detecta 32 clústeres.</span><span class="sxs-lookup"><span data-stu-id="ad696-132">When you do this, the algorithm detects 32 clusters.</span></span> <span data-ttu-id="ad696-133">Por consiguiente, si usa 10 como valor predeterminado de CLUSTER_COUNT, restringe el número de resultados.</span><span class="sxs-lookup"><span data-stu-id="ad696-133">Therefore, by using the default value of 10 for CLUSTER_COUNT, you constrain the number of results.</span></span>  
  
 <span data-ttu-id="ad696-134">De forma predeterminada se utiliza el valor 10 porque al reducir el número de clústeres se facilita la exploración y comprensión de las agrupaciones de los datos.</span><span class="sxs-lookup"><span data-stu-id="ad696-134">The value of 10 is used by default because reducing the number of clusters makes it easier for most people to browse and understand groupings in the data.</span></span> <span data-ttu-id="ad696-135">Sin embargo, cada modelo y conjunto de datos son diferentes.</span><span class="sxs-lookup"><span data-stu-id="ad696-135">However, each model and set of data is different.</span></span> <span data-ttu-id="ad696-136">Puede que desee experimentar con números de clústeres diferentes para ver qué valor de parámetro produce el modelo más preciso.</span><span class="sxs-lookup"><span data-stu-id="ad696-136">You may wish to experiment with different numbers of clusters to see which parameter value yields the most accurate model.</span></span>  
  
###  <a name="sample-query-2-getting-a-list-of-sequences-for-a-state"></a><a name="bkmk_Query2"></a><span data-ttu-id="ad696-137">Consulta de ejemplo 2: obtener una lista de secuencias para un estado</span><span class="sxs-lookup"><span data-stu-id="ad696-137">Sample Query 2: Getting a List of Sequences for a State</span></span>  
 <span data-ttu-id="ad696-138">El contenido del modelo de minería de datos almacena las secuencias que se encuentran en los datos de entrenamiento como un primer estado junto con una lista de todos los segundos estados relacionados.</span><span class="sxs-lookup"><span data-stu-id="ad696-138">The mining model content stores the sequences that are found in the training data as a first state coupled with a list of all related second states.</span></span> <span data-ttu-id="ad696-139">El primer estado se utiliza como etiqueta para la secuencia y los segundos estados relacionados se denominan transiciones.</span><span class="sxs-lookup"><span data-stu-id="ad696-139">The first state is used as the label for the sequence, and the related second states are called transitions.</span></span>  
  
 <span data-ttu-id="ad696-140">Por ejemplo, la consulta siguiente devuelve la lista completa de los primeros estados del modelo, antes de que las secuencias se agrupen en clústeres.</span><span class="sxs-lookup"><span data-stu-id="ad696-140">For example, the following query returns the complete list of first states in the model, before the sequences are grouped into clusters.</span></span>  <span data-ttu-id="ad696-141">Puede obtener esta lista devolviendo la lista de secuencias (NODE_TYPE = 13) que tienen el nodo raíz del modelo como elemento primario (PARENT_UNIQUE_NAME = 0).</span><span class="sxs-lookup"><span data-stu-id="ad696-141">You can get this list by returning the list of sequences (NODE_TYPE = 13) that have the model root node as parent (PARENT_UNIQUE_NAME = 0).</span></span> <span data-ttu-id="ad696-142">La palabra clave FLATTENED facilita la lectura de los resultados.</span><span class="sxs-lookup"><span data-stu-id="ad696-142">The FLATTENED keyword makes the results easier to read.</span></span>  
  
> [!NOTE]  
>  <span data-ttu-id="ad696-143">El nombre de las columnas, PARENT_UNIQUE_NAME, Support y Probability deben ir entre corchetes para distinguirse de las palabras claves reservadas con la misma denominación.</span><span class="sxs-lookup"><span data-stu-id="ad696-143">The name of the columns, PARENT_UNIQUE_NAME, Support, and Probability must be enclosed in brackets to distinguish them from the reserved keywords of the same name.</span></span>  
  
```  
SELECT FLATTENED NODE_UNIQUE_NAME,  
(SELECT ATTRIBUTE_VALUE AS [Product 1],  
[Support] AS [Sequence Support],   
[Probability] AS [Sequence Probability]  
FROM NODE_DISTRIBUTION) AS t  
FROM [Sequence Clustering].CONTENT  
WHERE NODE_TYPE = 13  
AND [PARENT_UNIQUE_NAME] = 0  
```  
  
 <span data-ttu-id="ad696-144">Resultados parciales:</span><span class="sxs-lookup"><span data-stu-id="ad696-144">Partial results:</span></span>  
  
|<span data-ttu-id="ad696-145">NODE_UNIQUE_NAME</span><span class="sxs-lookup"><span data-stu-id="ad696-145">NODE_UNIQUE_NAME</span></span>|<span data-ttu-id="ad696-146">Producto 1</span><span class="sxs-lookup"><span data-stu-id="ad696-146">Product 1</span></span>|<span data-ttu-id="ad696-147">Compatibilidad de la secuencia</span><span class="sxs-lookup"><span data-stu-id="ad696-147">Sequence Support</span></span>|<span data-ttu-id="ad696-148">Probabilidad de la secuencia</span><span class="sxs-lookup"><span data-stu-id="ad696-148">Sequence Probability</span></span>|  
|------------------------|---------------|----------------------|--------------------------|  
|<span data-ttu-id="ad696-149">1081327</span><span class="sxs-lookup"><span data-stu-id="ad696-149">1081327</span></span>|<span data-ttu-id="ad696-150">Missing</span><span class="sxs-lookup"><span data-stu-id="ad696-150">Missing</span></span>|<span data-ttu-id="ad696-151">0</span><span class="sxs-lookup"><span data-stu-id="ad696-151">0</span></span>|#######|  
|<span data-ttu-id="ad696-152">1081327</span><span class="sxs-lookup"><span data-stu-id="ad696-152">1081327</span></span>|<span data-ttu-id="ad696-153">All-Purpose Bike Stand</span><span class="sxs-lookup"><span data-stu-id="ad696-153">All-Purpose Bike Stand</span></span>|<span data-ttu-id="ad696-154">17</span><span class="sxs-lookup"><span data-stu-id="ad696-154">17</span></span>|<span data-ttu-id="ad696-155">0.00111</span><span class="sxs-lookup"><span data-stu-id="ad696-155">0.00111</span></span>|  
|<span data-ttu-id="ad696-156">1081327</span><span class="sxs-lookup"><span data-stu-id="ad696-156">1081327</span></span>|<span data-ttu-id="ad696-157">Bike Wash</span><span class="sxs-lookup"><span data-stu-id="ad696-157">Bike Wash</span></span>|<span data-ttu-id="ad696-158">64</span><span class="sxs-lookup"><span data-stu-id="ad696-158">64</span></span>|<span data-ttu-id="ad696-159">0.00418</span><span class="sxs-lookup"><span data-stu-id="ad696-159">0.00418</span></span>|  
|<span data-ttu-id="ad696-160">1081327</span><span class="sxs-lookup"><span data-stu-id="ad696-160">1081327</span></span>|<span data-ttu-id="ad696-161">(se omiten las filas 4 a 36)</span><span class="sxs-lookup"><span data-stu-id="ad696-161">(rows 4-36 omitted)</span></span>|||  
|<span data-ttu-id="ad696-162">1081327</span><span class="sxs-lookup"><span data-stu-id="ad696-162">1081327</span></span>|<span data-ttu-id="ad696-163">Women's Mountain Shorts</span><span class="sxs-lookup"><span data-stu-id="ad696-163">Women's Mountain Shorts</span></span>|<span data-ttu-id="ad696-164">506</span><span class="sxs-lookup"><span data-stu-id="ad696-164">506</span></span>|<span data-ttu-id="ad696-165">0.03307</span><span class="sxs-lookup"><span data-stu-id="ad696-165">0.03307</span></span>|  
  
 <span data-ttu-id="ad696-166">La lista de secuencias del modelo siempre está ordenada alfabéticamente en orden ascendente.</span><span class="sxs-lookup"><span data-stu-id="ad696-166">The list of sequences in the model is always sorted alphabetically in ascending order.</span></span> <span data-ttu-id="ad696-167">La ordenación de las secuencias es importante porque puede encontrar las transiciones relacionadas examinando el número de orden de la secuencia.</span><span class="sxs-lookup"><span data-stu-id="ad696-167">The ordering of the sequences is important because you can find the related transitions by looking at the order number of the sequence.</span></span> <span data-ttu-id="ad696-168">El valor `Missing` siempre es la transición 0.</span><span class="sxs-lookup"><span data-stu-id="ad696-168">The `Missing` value is always transition 0.</span></span>  
  
 <span data-ttu-id="ad696-169">Por ejemplo, en los resultados anteriores, el producto "Women's Mountain Shorts" es el número de secuencia 37 en el modelo.</span><span class="sxs-lookup"><span data-stu-id="ad696-169">For example, in the previous results, the product "Women's Mountain Shorts" is the sequence number 37 in the model.</span></span> <span data-ttu-id="ad696-170">Puede utilizar esa información para ver todos los productos que se compraron alguna vez después de "Women's Mountain Shorts".</span><span class="sxs-lookup"><span data-stu-id="ad696-170">You can use that information to view all of the products that were ever purchased after "Women's Mountain Shorts."</span></span>  
  
 <span data-ttu-id="ad696-171">Para ello, en primer lugar hace referencia al valor devuelto para NODE_UNIQUE_NAME en la consulta anterior, para obtener el identificador del nodo que contiene todas las secuencias para el modelo.</span><span class="sxs-lookup"><span data-stu-id="ad696-171">To do this, first, you reference the value returned for NODE_UNIQUE_NAME in the previous query, to get the ID of the node that contains all sequences for the model.</span></span> <span data-ttu-id="ad696-172">Este valor se pasa a la consulta como identificador del nodo primario, para obtener solo las transiciones incluidas en este nodo, que resulta que contiene una lista de secuencias para el modelo.</span><span class="sxs-lookup"><span data-stu-id="ad696-172">You pass this value to the query as the ID of the parent node, to get only the transitions included in this node, which happens to contain a list of al sequences for the model.</span></span> <span data-ttu-id="ad696-173">Sin embargo, si deseara ver la lista de transiciones para un clúster concreto, podría pasar el identificador del nodo de clúster y solo vería las secuencias asociadas a ese clúster.</span><span class="sxs-lookup"><span data-stu-id="ad696-173">However, if you wanted to see the list of transitions for a specific cluster, you could pass in the ID of the cluster node, and see only the sequences associated with that cluster.</span></span>  
  
```  
SELECT NODE_UNIQUE_NAME  
FROM [Sequence Clustering].CONTENT  
WHERE NODE_DESCRIPTION = 'Transition row for sequence state 37'  
AND [PARENT_UNIQUE_NAME] = '1081327'  
```  
  
 <span data-ttu-id="ad696-174">Resultados de ejemplo:</span><span class="sxs-lookup"><span data-stu-id="ad696-174">Example results:</span></span>  
  
|<span data-ttu-id="ad696-175">NODE_UNIQUE_NAME</span><span class="sxs-lookup"><span data-stu-id="ad696-175">NODE_UNIQUE_NAME</span></span>|  
|------------------------|  
|<span data-ttu-id="ad696-176">1081365</span><span class="sxs-lookup"><span data-stu-id="ad696-176">1081365</span></span>|  
  
 <span data-ttu-id="ad696-177">El nodo representado por este identificador contiene una lista de las secuencias que siguen al producto "Women's Mountain Shorts", junto con los valores de probabilidad y compatibilidad.</span><span class="sxs-lookup"><span data-stu-id="ad696-177">The node represented by this ID contains a list of the sequences that follow the "Women's Mountain Shorts" product, together with the support and probability values.</span></span>  
  
```  
SELECT FLATTENED  
(SELECT ATTRIBUTE_VALUE AS Product2,  
[Support] AS [P2 Support],  
[Probability] AS [P2 Probability]  
FROM NODE_DISTRIBUTION) AS t  
FROM [Sequence Clustering].CONTENT  
WHERE NODE_UNIQUE_NAME = '1081365'  
```  
  
 <span data-ttu-id="ad696-178">Resultados de ejemplo:</span><span class="sxs-lookup"><span data-stu-id="ad696-178">Example results:</span></span>  
  
|<span data-ttu-id="ad696-179">t.Product2</span><span class="sxs-lookup"><span data-stu-id="ad696-179">t.Product2</span></span>|<span data-ttu-id="ad696-180">t.P2 Support</span><span class="sxs-lookup"><span data-stu-id="ad696-180">t.P2 Support</span></span>|<span data-ttu-id="ad696-181">t.P2 Probability</span><span class="sxs-lookup"><span data-stu-id="ad696-181">t.P2 Probability</span></span>|  
|----------------|------------------|----------------------|  
|<span data-ttu-id="ad696-182">Missing</span><span class="sxs-lookup"><span data-stu-id="ad696-182">Missing</span></span>|<span data-ttu-id="ad696-183">230.7419</span><span class="sxs-lookup"><span data-stu-id="ad696-183">230.7419</span></span>|<span data-ttu-id="ad696-184">0.456012</span><span class="sxs-lookup"><span data-stu-id="ad696-184">0.456012</span></span>|  
|<span data-ttu-id="ad696-185">Classic Vest</span><span class="sxs-lookup"><span data-stu-id="ad696-185">Classic Vest</span></span>|<span data-ttu-id="ad696-186">8.16129</span><span class="sxs-lookup"><span data-stu-id="ad696-186">8.16129</span></span>|<span data-ttu-id="ad696-187">0.016129</span><span class="sxs-lookup"><span data-stu-id="ad696-187">0.016129</span></span>|  
|<span data-ttu-id="ad696-188">Cycling Cap</span><span class="sxs-lookup"><span data-stu-id="ad696-188">Cycling Cap</span></span>|<span data-ttu-id="ad696-189">60.83871</span><span class="sxs-lookup"><span data-stu-id="ad696-189">60.83871</span></span>|<span data-ttu-id="ad696-190">0.120235</span><span class="sxs-lookup"><span data-stu-id="ad696-190">0.120235</span></span>|  
|<span data-ttu-id="ad696-191">Half-Finger Gloves</span><span class="sxs-lookup"><span data-stu-id="ad696-191">Half-Finger Gloves</span></span>|<span data-ttu-id="ad696-192">30.41935</span><span class="sxs-lookup"><span data-stu-id="ad696-192">30.41935</span></span>|<span data-ttu-id="ad696-193">0.060117</span><span class="sxs-lookup"><span data-stu-id="ad696-193">0.060117</span></span>|  
|<span data-ttu-id="ad696-194">Long-Sleeve Logo Jersey</span><span class="sxs-lookup"><span data-stu-id="ad696-194">Long-Sleeve Logo Jersey</span></span>|<span data-ttu-id="ad696-195">86.80645</span><span class="sxs-lookup"><span data-stu-id="ad696-195">86.80645</span></span>|<span data-ttu-id="ad696-196">0.171554</span><span class="sxs-lookup"><span data-stu-id="ad696-196">0.171554</span></span>|  
|<span data-ttu-id="ad696-197">Racing Socks</span><span class="sxs-lookup"><span data-stu-id="ad696-197">Racing Socks</span></span>|<span data-ttu-id="ad696-198">28.93548</span><span class="sxs-lookup"><span data-stu-id="ad696-198">28.93548</span></span>|<span data-ttu-id="ad696-199">0.057185</span><span class="sxs-lookup"><span data-stu-id="ad696-199">0.057185</span></span>|  
|<span data-ttu-id="ad696-200">Short-Sleeve Classic Jersey</span><span class="sxs-lookup"><span data-stu-id="ad696-200">Short-Sleeve Classic Jersey</span></span>|<span data-ttu-id="ad696-201">60.09677</span><span class="sxs-lookup"><span data-stu-id="ad696-201">60.09677</span></span>|<span data-ttu-id="ad696-202">0.118768</span><span class="sxs-lookup"><span data-stu-id="ad696-202">0.118768</span></span>|  
  
 <span data-ttu-id="ad696-203">Observe que la compatibilidad de las diversas secuencias relacionadas con Women's Mountain Shorts es 506 en el modelo.</span><span class="sxs-lookup"><span data-stu-id="ad696-203">Note that support for the various sequences related to Women's Mountain Shorts is 506 in the model.</span></span> <span data-ttu-id="ad696-204">Los valores de compatibilidad para las transiciones también suman 506.</span><span class="sxs-lookup"><span data-stu-id="ad696-204">The support values for the transitions also add up to 506.</span></span> <span data-ttu-id="ad696-205">Sin embargo, las cifras no son números enteros, lo que parece un poco extraño si se espera que la compatibilidad represente simplemente un recuento de los casos que contienen cada transición.</span><span class="sxs-lookup"><span data-stu-id="ad696-205">However, the numbers are not whole numbers, which seems a bit odd if you expect support to simply represent a count of cases that contain each transition.</span></span> <span data-ttu-id="ad696-206">Sin embargo, dado que el método para crear clústeres calcula la pertenencia parcial, la probabilidad de cualquier transición dentro de un clúster debe estar compensada por su probabilidad de pertenecer a ese clúster concreto.</span><span class="sxs-lookup"><span data-stu-id="ad696-206">However, because the method for creating clusters calculates partial membership, the probability of any transition within a cluster must be weighted by its probability of belonging to that particular cluster.</span></span>  
  
 <span data-ttu-id="ad696-207">Por ejemplo, si hay cuatro clústeres, una secuencia determinada podría tener una posibilidad del 40% de pertenecer al clúster 1, una posibilidad del 30% de pertenecer al clúster 2, una posibilidad del 20% de pertenecer al grupo 3 y una posibilidad del 10% de pertenecer al clúster 4.</span><span class="sxs-lookup"><span data-stu-id="ad696-207">For example, if there are four clusters, a particular sequence might have a 40% chance of belonging to cluster 1, a 30% chance of belonging to cluster 2, a 20% chance of belonging to cluster 3, and a 10% chance of belonging to cluster 4.</span></span> <span data-ttu-id="ad696-208">Después de que el algoritmo determine el clúster al que es más probable que la transición pertenezca, compensa las probabilidades dentro del clúster con la probabilidad del clúster anterior.</span><span class="sxs-lookup"><span data-stu-id="ad696-208">After the algorithm determines the cluster that the transition is mostly likely to belong to, it weights the probabilities within the cluster by the cluster prior probability.</span></span>  
  
###  <a name="sample-query-3-using-system-stored-procedures"></a><a name="bkmk_Query3"></a><span data-ttu-id="ad696-209">Consulta de ejemplo 3: usar procedimientos almacenados del sistema</span><span class="sxs-lookup"><span data-stu-id="ad696-209">Sample Query 3: Using System Stored Procedures</span></span>  
 <span data-ttu-id="ad696-210">En estos ejemplos de consultas se puede ver que la información almacenada en el modelo es compleja y que podría ser necesario crear varias consultas para obtener la información que precisa.</span><span class="sxs-lookup"><span data-stu-id="ad696-210">You can see from these query samples that the information stored in the model is complex, and that you might need to create multiple queries to get the information that you need.</span></span> <span data-ttu-id="ad696-211">Sin embargo, el visor de agrupaciones en clústeres de secuencia de Microsoft proporciona un conjunto eficaz de herramientas para examinar gráficamente la información contenida en un modelo de agrupación en clústeres de secuencia y también puede utilizar el visor para consultar y explorar en profundidad en el modelo.</span><span class="sxs-lookup"><span data-stu-id="ad696-211">However, the Microsoft Sequence Clustering viewer provides a powerful set of tools for graphically browsing the information contained in a sequence clustering model, and you can also use the viewer to query and drill down into the model.</span></span>  
  
 <span data-ttu-id="ad696-212">En la mayoría de los casos, la información que se presenta en el visor de agrupaciones en clústeres de secuencia de Microsoft se crea utilizando los procedimientos almacenados de sistema de Analysis Services para consultar el modelo.</span><span class="sxs-lookup"><span data-stu-id="ad696-212">In most cases, the information that is presented in the Microsoft Sequence Clustering viewer is created by using Analysis Services system stored procedures to query the model.</span></span> <span data-ttu-id="ad696-213">Puede escribir las consultas de Extensiones de minería de datos (DMX) con el contenido del modelo para recuperar la misma información, pero los procedimientos almacenados del sistema de Analysis Services proporcionan un acceso directo conveniente para los modelos de prueba o exploración.</span><span class="sxs-lookup"><span data-stu-id="ad696-213">You can write Data Mining Extensions (DMX) queries against the model content to retrieve the same information, but the Analysis Services system stored procedures provide a convenient shortcut when for exploration or for testing models.</span></span>  
  
> [!NOTE]  
>  <span data-ttu-id="ad696-214">Los procedimientos almacenados del sistema se utilizan para el procesamiento interno en el servidor y los clientes que Microsoft proporciona para interactuar con el servidor de Analysis Services.</span><span class="sxs-lookup"><span data-stu-id="ad696-214">System stored procedures are used for internal processing by the server and by the clients that Microsoft provides for interacting with the Analysis Services server.</span></span> <span data-ttu-id="ad696-215">Por consiguiente, Microsoft se reserva el derecho de cambiarlos en cualquier momento.</span><span class="sxs-lookup"><span data-stu-id="ad696-215">Therefore, Microsoft reserves the right to change them at any time.</span></span> <span data-ttu-id="ad696-216">Aunque se describen aquí por comodidad, no admitimos su uso en un entorno de producción.</span><span class="sxs-lookup"><span data-stu-id="ad696-216">Although they are described here for your convenience, we do not support their use in a production environment.</span></span> <span data-ttu-id="ad696-217">Para asegurarse de la estabilidad y compatibilidad en un entorno de producción, debería escribir siempre sus propias consultas utilizando DMX.</span><span class="sxs-lookup"><span data-stu-id="ad696-217">To ensure stability and compatibility in a production environment, you should always write your own queries by using DMX.</span></span>  
  
 <span data-ttu-id="ad696-218">En esta sección se proporcionan algunos ejemplos de cómo utilizar los procedimientos almacenados del sistema para crear consultas con un modelo de agrupación en clústeres de secuencia:</span><span class="sxs-lookup"><span data-stu-id="ad696-218">This section provides some samples of how to use the system stored procedures to create queries against a sequence clustering model:</span></span>  
  
#### <a name="cluster-profiles-and-sample-cases"></a><span data-ttu-id="ad696-219">Perfiles de clústeres y casos de ejemplo</span><span class="sxs-lookup"><span data-stu-id="ad696-219">Cluster Profiles and Sample Cases</span></span>  
 <span data-ttu-id="ad696-220">La pestaña Perfiles del clúster muestra una lista de los clústeres del modelo, el tamaño de cada clúster y un histograma que indica los estados incluidos en el clúster.</span><span class="sxs-lookup"><span data-stu-id="ad696-220">The Cluster Profiles tab shows you a list of the clusters in the model, the size of each cluster, and a histogram that indicates the states included in the cluster.</span></span> <span data-ttu-id="ad696-221">Puede usar dos procedimientos almacenados del sistema en las consultas para recuperar información similar:</span><span class="sxs-lookup"><span data-stu-id="ad696-221">There are two system stored procedures that you can use in queries to retrieve similar information:</span></span>  
  
-   <span data-ttu-id="ad696-222">`GetClusterProfile` devuelve las características del clúster con toda la información que se encuentra en la tabla NODE_DISTRIBUTION para el clúster.</span><span class="sxs-lookup"><span data-stu-id="ad696-222">`GetClusterProfile` returns the characteristics of the cluster, with all the information that is found in the NODE_DISTRIBUTION table for the cluster.</span></span>  
  
-   <span data-ttu-id="ad696-223">`GetNodeGraph` devuelve los nodos y bordes que se pueden utilizar para construir una representación gráfica matemática de los clústeres, que se corresponde con lo que se ve en la primera pestaña de la vista de agrupación en clústeres de secuencia.</span><span class="sxs-lookup"><span data-stu-id="ad696-223">`GetNodeGraph` returns nodes and edges that can be used to construct a mathematical graph representation of the clusters, corresponding to what you see on the first tab of the Sequence Clustering view.</span></span> <span data-ttu-id="ad696-224">Los nodos son los clústeres y los bordes representan los pesos o intensidad.</span><span class="sxs-lookup"><span data-stu-id="ad696-224">The nodes are clusters, and the edges represent weights or strength.</span></span>  
  
 <span data-ttu-id="ad696-225">En el ejemplo siguiente se muestra cómo utilizar el procedimiento almacenado del sistema `GetClusterProfiles`para devolver todos los clústeres del modelo, con sus perfiles respectivos.</span><span class="sxs-lookup"><span data-stu-id="ad696-225">The following example illustrates how to use the system stored procedure, `GetClusterProfiles`, to return all of the clusters in the model, with their respective profiles.</span></span> <span data-ttu-id="ad696-226">Este procedimiento almacenado ejecuta una serie de instrucciones DMX que devuelven el conjunto completo de perfiles en el modelo.</span><span class="sxs-lookup"><span data-stu-id="ad696-226">This stored procedure executes a series of DMX statements that return the complete set of profiles in the model.</span></span> <span data-ttu-id="ad696-227">Sin embargo, para utilizar este procedimiento almacenado, debe conocer la dirección del modelo.</span><span class="sxs-lookup"><span data-stu-id="ad696-227">However, to use this stored procedure you must know the address of the model.</span></span>  
  
 `CALL System.Microsoft.AnalysisServices.System.DataMining.Clustering.GetClusterProfiles('Sequence Clustering', 2147483647, 0)`  
  
 <span data-ttu-id="ad696-228">En el ejemplo siguiente se muestra cómo recuperar el perfil para un clúster concreto, Cluster 12, utilizando el procedimiento almacenado del sistema `GetNodeGraph`y especificando el identificador del clúster, que normalmente es igual al número del nombre del clúster.</span><span class="sxs-lookup"><span data-stu-id="ad696-228">The following example illustrates how to retrieve the profile for a specific cluster, Cluster 12, by using the system stored procedure `GetNodeGraph`, and specifying the cluster ID, which is usually the same as the number in the cluster name.</span></span>  
  
```  
CALL System.Microsoft.AnalysisServices.System.DataMining.Clustering.GetNodeGraph('Sequence Clustering','12',0)  
```  
  
 <span data-ttu-id="ad696-229">Si omite el identificador del clúster, como se muestra en la consulta siguiente, `GetNodeGraph` devuelve una lista ordenada y sin estructura jerárquica de todos los perfiles del clúster:</span><span class="sxs-lookup"><span data-stu-id="ad696-229">If you omit the cluster ID, as shown in the following query, `GetNodeGraph` returns an ordered, flattened list of all cluster profiles:</span></span>  
  
```  
CALL System.Microsoft.AnalysisServices.System.DataMining.Clustering.GetNodeGraph('Sequence Clustering','',0)  
```  
  
 <span data-ttu-id="ad696-230">La pestaña **Perfiles del clúster** también muestra un histograma de casos de ejemplo de modelos.</span><span class="sxs-lookup"><span data-stu-id="ad696-230">The **Cluster Profile** tab also displays a histogram of model sample cases.</span></span> <span data-ttu-id="ad696-231">Estos casos de ejemplo representan los casos idealizados para el modelo.</span><span class="sxs-lookup"><span data-stu-id="ad696-231">These sample cases represent the idealized cases for the model.</span></span> <span data-ttu-id="ad696-232">Estos casos no se almacenan en el modelo de la misma manera que los datos de entrenamiento; debe utilizar una sintaxis especial para recuperar los casos de ejemplo para el modelo.</span><span class="sxs-lookup"><span data-stu-id="ad696-232">These cases are not stored in the model the same way that the training data is; you must use a special syntax to retrieve the sample cases for the model.</span></span>  
  
```  
SELECT * FROM [Sequence Clustering].SAMPLE_CASES WHERE IsInNode('12')  
```  
  
 <span data-ttu-id="ad696-233">Para más información, vea [SELECT FROM &#60;modelo&#62;.SAMPLE_CASES &#40;DMX&#41;](/sql/dmx/select-from-model-dmx).</span><span class="sxs-lookup"><span data-stu-id="ad696-233">For more information, see [SELECT FROM &#60;model&#62;.SAMPLE_CASES &#40;DMX&#41;](/sql/dmx/select-from-model-dmx).</span></span>  
  
#### <a name="cluster-characteristics-and-cluster-discrimination"></a><span data-ttu-id="ad696-234">Características del clúster y Distinción del clúster</span><span class="sxs-lookup"><span data-stu-id="ad696-234">Cluster Characteristics and Cluster Discrimination</span></span>  
 <span data-ttu-id="ad696-235">La pestaña **Características del clúster** resume los atributos principales de cada clúster, clasificados por probabilidad.</span><span class="sxs-lookup"><span data-stu-id="ad696-235">The **Cluster Characteristics** tab summarizes the main attributes of each cluster, ranked by probability.</span></span> <span data-ttu-id="ad696-236">Puede averiguar cuántos casos pertenecen a un clúster y cómo es la distribución de casos en el clúster: Cada característica tiene cierta compatibilidad.</span><span class="sxs-lookup"><span data-stu-id="ad696-236">You can find out how many cases belong to a cluster, and what the distribution of cases is like in the cluster: Each characteristic has certain support.</span></span> <span data-ttu-id="ad696-237">Para ver las características de un clúster determinado, debe conocer su identificador.</span><span class="sxs-lookup"><span data-stu-id="ad696-237">To see the characteristics of a particular cluster, you must know the ID of the cluster.</span></span>  
  
 <span data-ttu-id="ad696-238">En los ejemplos siguientes se usa el procedimiento almacenado del sistema `GetClusterCharacteristics`para devolver todas las características de Cluster 12 que tienen una puntuación de probabilidad por encima del umbral especificado de 0,0005.</span><span class="sxs-lookup"><span data-stu-id="ad696-238">The following examples uses the system stored procedure, `GetClusterCharacteristics`, to return all the characteristics of Cluster 12 that have a probability score over the specified threshold of 0.0005.</span></span>  
  
```  
CALL System.Microsoft.AnalysisServices.System.DataMining.Clustering.GetClusterCharacteristics('Sequence Clustering','12',0.0005)  
```  
  
 <span data-ttu-id="ad696-239">Para devolver las características de todos los clústeres, puede dejar vacío el identificador del clúster.</span><span class="sxs-lookup"><span data-stu-id="ad696-239">To return the characteristics of all clusters, you can leave the cluster ID empty.</span></span>  
  
```  
CALL System.Microsoft.AnalysisServices.System.DataMining.Clustering.GetClusterCharacteristics('Sequence Clustering','',0.0005)  
```  
  
 <span data-ttu-id="ad696-240">En el ejemplo siguiente se llama al procedimiento almacenado del sistema `GetClusterDiscrimination` para comparar las características de Cluster 1 y Cluster 12.</span><span class="sxs-lookup"><span data-stu-id="ad696-240">The following example calls the system stored procedure `GetClusterDiscrimination` to compare the characteristics of Cluster 1 and Cluster 12.</span></span>  
  
```  
CALL System.Microsoft.AnalysisServices.System.DataMining.Clustering.GetClusterDiscrimination('Sequence Clustering','1','12',0.0005,true)  
```  
  
 <span data-ttu-id="ad696-241">Si desea escribir su propia consulta DMX para comparar dos clústeres o comparar un clúster con su complemento, primero debe recuperar un conjunto de características y, a continuación, recuperar las características para el clúster concreto en que está interesado y comparar los dos conjuntos.</span><span class="sxs-lookup"><span data-stu-id="ad696-241">If you want to write your own query in DMX to compare two clusters, or compare a cluster with its complement, you must first retrieve one set of characteristics, and then retrieve the characteristics for the specific cluster that you are interested in, and compare the two sets.</span></span> <span data-ttu-id="ad696-242">Este escenario es más complicado y normalmente requiere cierto procesamiento del cliente.</span><span class="sxs-lookup"><span data-stu-id="ad696-242">This scenario is more complicated and typically requires some client processing.</span></span>  
  
#### <a name="states-and-transitions"></a><span data-ttu-id="ad696-243">Estados y transiciones</span><span class="sxs-lookup"><span data-stu-id="ad696-243">States and Transitions</span></span>  
 <span data-ttu-id="ad696-244">La pestaña **Transiciones de estado** de Agrupación en clústeres de secuencia de Microsoft realiza las consultas complicadas en el back-end para recuperar y comparar las estadísticas de clústeres diferentes.</span><span class="sxs-lookup"><span data-stu-id="ad696-244">The **State Transitions** tab of the Microsoft Sequence Clustering performs complicated queries on the back end to retrieve and compare the statistics for different clusters.</span></span> <span data-ttu-id="ad696-245">Para reproducir estos resultados, se requiere una consulta más compleja y el procesamiento del cliente.</span><span class="sxs-lookup"><span data-stu-id="ad696-245">To reproduce these results requires a more complex query and some client processing.</span></span>  
  
 <span data-ttu-id="ad696-246">Sin embargo, puede utilizar las consultas DMX descritas en el ejemplo 2 de la sección [Consultas de contenido](#bkmk_ContentQueries)para recuperar las probabilidades y estados de las secuencias o de transiciones individuales.</span><span class="sxs-lookup"><span data-stu-id="ad696-246">However, you can use the DMX queries described in Example 2 of the section, [Content Queries](#bkmk_ContentQueries), to retrieve probabilities and states for sequences or for individual transitions.</span></span>  
  
## <a name="using-the-model-to-make-predictions"></a><span data-ttu-id="ad696-247">Usar el modelo para realizar predicciones</span><span class="sxs-lookup"><span data-stu-id="ad696-247">Using the Model to Make Predictions</span></span>  
 <span data-ttu-id="ad696-248">Las consultas de predicción en un modelo de agrupación en clústeres de secuencia pueden utilizar muchas de las funciones de predicción que se utilizan con otros modelos de agrupación en clústeres.</span><span class="sxs-lookup"><span data-stu-id="ad696-248">Prediction queries on a sequence clustering model can use many of the prediction functions that are used with other clustering models.</span></span> <span data-ttu-id="ad696-249">Además, puede usar la función de predicción especial, [PredictSequence &#40;DMX&#41;](/sql/dmx/predictsequence-dmx), para realizar recomendaciones o predecir los estados siguientes.</span><span class="sxs-lookup"><span data-stu-id="ad696-249">In addition, you can use the special prediction function, [PredictSequence &#40;DMX&#41;](/sql/dmx/predictsequence-dmx), to make recommendations or to predict next states.</span></span>  
  
###  <a name="sample-query-4-predict-next-state-or-states"></a><a name="bkmk_Query4"></a><span data-ttu-id="ad696-250">Consulta de ejemplo 4: predecir el estado o Estados siguientes</span><span class="sxs-lookup"><span data-stu-id="ad696-250">Sample Query 4: Predict Next State or States</span></span>  
 <span data-ttu-id="ad696-251">Puede usar la función [PredictSequence &#40;DMX&#41;](/sql/dmx/predictsequence-dmx) para predecir el siguiente estado más probable según un valor proporcionado.</span><span class="sxs-lookup"><span data-stu-id="ad696-251">You can use the [PredictSequence &#40;DMX&#41;](/sql/dmx/predictsequence-dmx) function to predict the next most likely state, given a value.</span></span> <span data-ttu-id="ad696-252">También puede predecir varios de los estados siguientes: por ejemplo, puede devolver una lista de los tres primeros productos que es probable que un cliente compre, para presentar una lista de recomendaciones.</span><span class="sxs-lookup"><span data-stu-id="ad696-252">You can also predict multiple next states: for example, you can return a list of the top three products that a customer is likely to purchase, to present a list of recommendations.</span></span>  
  
 <span data-ttu-id="ad696-253">La consulta de ejemplo siguiente es una consulta de predicción singleton que devuelve las cinco primeras predicciones, junto con su probabilidad.</span><span class="sxs-lookup"><span data-stu-id="ad696-253">The following sample query is a singleton prediction query that returns the top five predictions, together with their probability.</span></span> <span data-ttu-id="ad696-254">Dado que el modelo incluye una tabla anidada, `[v Assoc Seq Line Items]`, debe utilizarla como referencia al realizar las predicciones.</span><span class="sxs-lookup"><span data-stu-id="ad696-254">Because the model includes a nested table, you must use the nested table, `[v Assoc Seq Line Items]`, as the column reference when making predictions.</span></span> <span data-ttu-id="ad696-255">Además, al proporcionar los valores como entrada, debe unir tanto la tabla de casos como las columnas de la tabla anidadas, como se muestra en las instrucciones SELECT anidadas.</span><span class="sxs-lookup"><span data-stu-id="ad696-255">Also, when you supply values as input, you must join both the case table and the nested table columns, as shown by the nested SELECT statements.</span></span>  
  
```  
SELECT FLATTENED PredictSequence([v Assoc Seq Line Items], 7)  
FROM [Sequence Clustering]  
NATURAL PREDICTION JOIN  
(SELECT  (SELECT 1 as [Line Number],  
   'All-Purpose Bike Stand' as [Model]) AS [v Assoc Seq Line Items])   
AS t  
```  
  
 <span data-ttu-id="ad696-256">Resultados de ejemplo:</span><span class="sxs-lookup"><span data-stu-id="ad696-256">Example results:</span></span>  
  
|<span data-ttu-id="ad696-257">Expression.$Sequence</span><span class="sxs-lookup"><span data-stu-id="ad696-257">Expression.$Sequence</span></span>|<span data-ttu-id="ad696-258">Expression.Line Number</span><span class="sxs-lookup"><span data-stu-id="ad696-258">Expression.Line Number</span></span>|<span data-ttu-id="ad696-259">Expression.Model</span><span class="sxs-lookup"><span data-stu-id="ad696-259">Expression.Model</span></span>|  
|--------------------------|----------------------------|----------------------|  
|<span data-ttu-id="ad696-260">1</span><span class="sxs-lookup"><span data-stu-id="ad696-260">1</span></span>||<span data-ttu-id="ad696-261">Cycling Cap</span><span class="sxs-lookup"><span data-stu-id="ad696-261">Cycling Cap</span></span>|  
|<span data-ttu-id="ad696-262">2</span><span class="sxs-lookup"><span data-stu-id="ad696-262">2</span></span>||<span data-ttu-id="ad696-263">Cycling Cap</span><span class="sxs-lookup"><span data-stu-id="ad696-263">Cycling Cap</span></span>|  
|<span data-ttu-id="ad696-264">3</span><span class="sxs-lookup"><span data-stu-id="ad696-264">3</span></span>||<span data-ttu-id="ad696-265">Sport-100</span><span class="sxs-lookup"><span data-stu-id="ad696-265">Sport-100</span></span>|  
|<span data-ttu-id="ad696-266">4</span><span class="sxs-lookup"><span data-stu-id="ad696-266">4</span></span>||<span data-ttu-id="ad696-267">Long-Sleeve Logo Jersey</span><span class="sxs-lookup"><span data-stu-id="ad696-267">Long-Sleeve logo Jersey</span></span>|  
|<span data-ttu-id="ad696-268">5</span><span class="sxs-lookup"><span data-stu-id="ad696-268">5</span></span>||<span data-ttu-id="ad696-269">Half-Finger Gloves</span><span class="sxs-lookup"><span data-stu-id="ad696-269">Half-Finger Gloves</span></span>|  
|<span data-ttu-id="ad696-270">6</span><span class="sxs-lookup"><span data-stu-id="ad696-270">6</span></span>||<span data-ttu-id="ad696-271">All-Purpose Bike Stand</span><span class="sxs-lookup"><span data-stu-id="ad696-271">All-Purpose Bike Stand</span></span>|  
|<span data-ttu-id="ad696-272">7</span><span class="sxs-lookup"><span data-stu-id="ad696-272">7</span></span>||<span data-ttu-id="ad696-273">All-Purpose Bike Stand</span><span class="sxs-lookup"><span data-stu-id="ad696-273">All-Purpose Bike Stand</span></span>|  
  
 <span data-ttu-id="ad696-274">Hay tres columnas en los resultados, aunque podría esperarse que hubiera solo una, porque la consulta siempre devuelve una columna para la tabla de casos.</span><span class="sxs-lookup"><span data-stu-id="ad696-274">There are three columns in the results, even though you might only expect one column, because the query always returns a column for the case table.</span></span> <span data-ttu-id="ad696-275">Aquí los resultados no tienen una estructura jerárquica; de lo contrario, la consulta devolvería una única columna que contuviera dos columnas de tabla anidada.</span><span class="sxs-lookup"><span data-stu-id="ad696-275">Here the results are flattened; otherwise, the query would return a single column that contains two nested table columns.</span></span>  
  
 <span data-ttu-id="ad696-276">$sequence es la columna que devuelve de forma predeterminada la función `PredictSequence` para ordenar los resultados de la predicción.</span><span class="sxs-lookup"><span data-stu-id="ad696-276">The column $sequence is a column returned by default by the `PredictSequence` function to order the prediction results.</span></span> <span data-ttu-id="ad696-277">La columna `[Line Number]`se necesita para hacer coincidir las claves de secuencia en el modelo, pero las claves no se devuelven.</span><span class="sxs-lookup"><span data-stu-id="ad696-277">The column, `[Line Number]`, is required to match the sequence keys in the model, but the keys are not output.</span></span>  
  
 <span data-ttu-id="ad696-278">Es interesante ver que las secuencias predichas en primer lugar, después de All-Purpose Bike Stand, son Cycling Cap y Cycling Cap.</span><span class="sxs-lookup"><span data-stu-id="ad696-278">Interestingly, the top predicted sequences after All-Purpose Bike Stand are Cycling Cap and Cycling Cap.</span></span> <span data-ttu-id="ad696-279">Esto no es un error.</span><span class="sxs-lookup"><span data-stu-id="ad696-279">This is not an error.</span></span> <span data-ttu-id="ad696-280">Según cómo se presenten los datos al cliente y cómo se agrupen al entrenar el modelo, es muy posible que haya secuencias de este tipo.</span><span class="sxs-lookup"><span data-stu-id="ad696-280">Depending on how the data is presented to the customer, and how it is grouped when training the model, it is very possible to have sequences of this kind.</span></span> <span data-ttu-id="ad696-281">Por ejemplo, un cliente podría comprar una gorra de ciclismo (roja) y después otra (azul), o comprar dos seguidas si no hay ninguna manera de especificar la cantidad.</span><span class="sxs-lookup"><span data-stu-id="ad696-281">For example, a customer might purchase a cycling cap (red) and then another cycling cap (blue), or purchase two in a row if there were no way to specify quantity.</span></span>  
  
 <span data-ttu-id="ad696-282">Los valores de las filas 6 y 7 son marcadores de posición.</span><span class="sxs-lookup"><span data-stu-id="ad696-282">The values in rows 6 and 7 are placeholders.</span></span> <span data-ttu-id="ad696-283">Al llegar al fin de la cadena de transiciones posibles, en lugar de terminar los resultados de la predicción, el valor que se pasó como entrada se agrega a los resultados.</span><span class="sxs-lookup"><span data-stu-id="ad696-283">When you reach the end of the chain of possible transitions, rather than terminating the prediction results, the value that was passed as an input is added to the results.</span></span> <span data-ttu-id="ad696-284">Por ejemplo, si aumentara el número de predicciones a 20, los valores para las filas 6 a 20 serían todos los mismos, All-Purpose Bike Stand.</span><span class="sxs-lookup"><span data-stu-id="ad696-284">For example, if you increased the number of predictions to 20, the values for rows 6-20 would all be the same, All-Purpose Bike Stand.</span></span>  
  
## <a name="function-list"></a><span data-ttu-id="ad696-285">Lista de funciones</span><span class="sxs-lookup"><span data-stu-id="ad696-285">Function List</span></span>  
 <span data-ttu-id="ad696-286">Todos los algoritmos de [!INCLUDE[msCoName](../../includes/msconame-md.md)] son compatibles con un conjunto común de funciones.</span><span class="sxs-lookup"><span data-stu-id="ad696-286">All [!INCLUDE[msCoName](../../includes/msconame-md.md)] algorithms support a common set of functions.</span></span> <span data-ttu-id="ad696-287">Sin embargo, el algoritmo de clústeres de secuencia de [!INCLUDE[msCoName](../../includes/msconame-md.md)] admite las funciones adicionales que se enumeran en la tabla siguiente.</span><span class="sxs-lookup"><span data-stu-id="ad696-287">However, the [!INCLUDE[msCoName](../../includes/msconame-md.md)] Sequence Clustering algorithm supports the additional functions that are listed in the following table.</span></span>  
  
|||  
|-|-|  
|<span data-ttu-id="ad696-288">función de predicción</span><span class="sxs-lookup"><span data-stu-id="ad696-288">Prediction Function</span></span>|<span data-ttu-id="ad696-289">Uso</span><span class="sxs-lookup"><span data-stu-id="ad696-289">Usage</span></span>|  
|[<span data-ttu-id="ad696-290">Cluster &#40;DMX&#41;</span><span class="sxs-lookup"><span data-stu-id="ad696-290">Cluster &#40;DMX&#41;</span></span>](/sql/dmx/cluster-dmx)|<span data-ttu-id="ad696-291">Devuelve el clúster que tiene la mayor probabilidad de contener el caso de entrada.</span><span class="sxs-lookup"><span data-stu-id="ad696-291">Returns the cluster that is most likely to contain the input case</span></span>|  
|[<span data-ttu-id="ad696-292">ClusterDistance &#40;DMX&#41;</span><span class="sxs-lookup"><span data-stu-id="ad696-292">ClusterDistance &#40;DMX&#41;</span></span>](/sql/dmx/clusterdistance-dmx)|<span data-ttu-id="ad696-293">Devuelve la distancia del caso de entrada con relación al clúster especificado o, si no se ha especificado ninguno, la distancia del caso de entrada del clúster más probable.</span><span class="sxs-lookup"><span data-stu-id="ad696-293">Returns the distance of the input case from the specified cluster, or if no cluster is specified, the distance of the input case from the most likely cluster.</span></span><br /><br /> <span data-ttu-id="ad696-294">Esta función se puede usar con cualquier tipo de modelo de agrupación en clústeres (EM, mediana-K, etc.), pero los resultados difieren según el algoritmo.</span><span class="sxs-lookup"><span data-stu-id="ad696-294">This function can be used with any kind of clustering model (EM, K-Means, etc.), but the results differ depending on the algorithm.</span></span>|  
|[<span data-ttu-id="ad696-295">ClusterProbability &#40;DMX&#41;</span><span class="sxs-lookup"><span data-stu-id="ad696-295">ClusterProbability &#40;DMX&#41;</span></span>](/sql/dmx/clusterprobability-dmx)|<span data-ttu-id="ad696-296">Devuelve la probabilidad de que el caso de entrada pertenezca al clúster especificado.</span><span class="sxs-lookup"><span data-stu-id="ad696-296">Returns the probability that the input case belongs to the specified cluster.</span></span>|  
|[<span data-ttu-id="ad696-297">IsInNode &#40;DMX&#41;</span><span class="sxs-lookup"><span data-stu-id="ad696-297">IsInNode &#40;DMX&#41;</span></span>](/sql/dmx/isinnode-dmx)|<span data-ttu-id="ad696-298">Indica si el nodo especificado contiene el caso actual.</span><span class="sxs-lookup"><span data-stu-id="ad696-298">Indicates whether the specified node contains the current case.</span></span>|  
|[<span data-ttu-id="ad696-299">PredictAdjustedProbability &#40;DMX&#41;</span><span class="sxs-lookup"><span data-stu-id="ad696-299">PredictAdjustedProbability &#40;DMX&#41;</span></span>](/sql/dmx/predictadjustedprobability-dmx)|<span data-ttu-id="ad696-300">Devuelve la probabilidad ajustada de un estado especificado.</span><span class="sxs-lookup"><span data-stu-id="ad696-300">Returns the adjusted probability of a specified state.</span></span>|  
|[<span data-ttu-id="ad696-301">PredictAssociation &#40;DMX&#41;</span><span class="sxs-lookup"><span data-stu-id="ad696-301">PredictAssociation &#40;DMX&#41;</span></span>](/sql/dmx/predictassociation-dmx)|<span data-ttu-id="ad696-302">Predice los miembros de asociaciones.</span><span class="sxs-lookup"><span data-stu-id="ad696-302">Predicts associative membership.</span></span>|  
|[<span data-ttu-id="ad696-303">PredictCaseLikelihood &#40;DMX&#41;</span><span class="sxs-lookup"><span data-stu-id="ad696-303">PredictCaseLikelihood &#40;DMX&#41;</span></span>](/sql/dmx/predictcaselikelihood-dmx)|<span data-ttu-id="ad696-304">Devuelve la probabilidad de que un caso de entrada se ajuste al modelo existente.</span><span class="sxs-lookup"><span data-stu-id="ad696-304">Returns the likelihood that an input case will fit in the existing model.</span></span>|  
|[<span data-ttu-id="ad696-305">PredictHistogram &#40;DMX&#41;</span><span class="sxs-lookup"><span data-stu-id="ad696-305">PredictHistogram &#40;DMX&#41;</span></span>](/sql/dmx/predicthistogram-dmx)|<span data-ttu-id="ad696-306">Devuelve una tabla que representa un histograma para la predicción de una columna determinada.</span><span class="sxs-lookup"><span data-stu-id="ad696-306">Returns a table that represents a histogram for the prediction of a given column.</span></span>|  
|[<span data-ttu-id="ad696-307">PredictNodeId &#40;DMX&#41;</span><span class="sxs-lookup"><span data-stu-id="ad696-307">PredictNodeId &#40;DMX&#41;</span></span>](/sql/dmx/predictnodeid-dmx)|<span data-ttu-id="ad696-308">Devuelve el Node_ID del nodo en que está clasificado el caso.</span><span class="sxs-lookup"><span data-stu-id="ad696-308">Returns the Node_ID of the node to which the case is classified.</span></span>|  
|[<span data-ttu-id="ad696-309">PredictProbability &#40;DMX&#41;</span><span class="sxs-lookup"><span data-stu-id="ad696-309">PredictProbability &#40;DMX&#41;</span></span>](/sql/dmx/predictprobability-dmx)|<span data-ttu-id="ad696-310">Devuelve la probabilidad de un estado especificado.</span><span class="sxs-lookup"><span data-stu-id="ad696-310">Returns the probability for a specified state.</span></span>|  
|[<span data-ttu-id="ad696-311">PredictSequence &#40;DMX&#41;</span><span class="sxs-lookup"><span data-stu-id="ad696-311">PredictSequence &#40;DMX&#41;</span></span>](/sql/dmx/predictsequence-dmx)|<span data-ttu-id="ad696-312">Predice valores de secuencia futuros para un conjunto de datos de secuencia especificado.</span><span class="sxs-lookup"><span data-stu-id="ad696-312">Predicts future sequence values for a specified set of sequence data.</span></span>|  
|[<span data-ttu-id="ad696-313">PredictStdev &#40;DMX&#41;</span><span class="sxs-lookup"><span data-stu-id="ad696-313">PredictStdev &#40;DMX&#41;</span></span>](/sql/dmx/predictstdev-dmx)|<span data-ttu-id="ad696-314">Devuelve la desviación estándar predicha para la columna especificada.</span><span class="sxs-lookup"><span data-stu-id="ad696-314">Returns the predicted standard deviation for the specified column.</span></span>|  
|[<span data-ttu-id="ad696-315">PredictSupport &#40;DMX&#41;</span><span class="sxs-lookup"><span data-stu-id="ad696-315">PredictSupport &#40;DMX&#41;</span></span>](/sql/dmx/predictsupport-dmx)|<span data-ttu-id="ad696-316">Devuelve el valor de soporte de un estado especificado.</span><span class="sxs-lookup"><span data-stu-id="ad696-316">Returns the support value for a specified state.</span></span>|  
|[<span data-ttu-id="ad696-317">PredictVariance &#40;DMX&#41;</span><span class="sxs-lookup"><span data-stu-id="ad696-317">PredictVariance &#40;DMX&#41;</span></span>](/sql/dmx/predictvariance-dmx)|<span data-ttu-id="ad696-318">Devuelve la varianza de una columna especificada.</span><span class="sxs-lookup"><span data-stu-id="ad696-318">Returns the variance of a specified column.</span></span>|  
  
 <span data-ttu-id="ad696-319">Para consultar una lista de las funciones comunes a todos los algoritmos de [!INCLUDE[msCoName](../../includes/msconame-md.md)], vea [Funciones de predicción generales &#40;DMX&#41;](/sql/dmx/general-prediction-functions-dmx).</span><span class="sxs-lookup"><span data-stu-id="ad696-319">For a list of the functions that are common to all [!INCLUDE[msCoName](../../includes/msconame-md.md)] algorithms, see [General Prediction Functions &#40;DMX&#41;](/sql/dmx/general-prediction-functions-dmx).</span></span> <span data-ttu-id="ad696-320">Para más información sobre la sintaxis de funciones específicas, vea [Referencia de funciones de Extensiones de minería de datos &#40;DMX&#41;](/sql/dmx/data-mining-extensions-dmx-function-reference).</span><span class="sxs-lookup"><span data-stu-id="ad696-320">For the syntax of specific functions, see [Data Mining Extensions &#40;DMX&#41; Function Reference](/sql/dmx/data-mining-extensions-dmx-function-reference).</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="ad696-321">Consulte también</span><span class="sxs-lookup"><span data-stu-id="ad696-321">See Also</span></span>  
 <span data-ttu-id="ad696-322">[Consultas de minería de datos](data-mining-queries.md) </span><span class="sxs-lookup"><span data-stu-id="ad696-322">[Data Mining Queries](data-mining-queries.md) </span></span>  
 <span data-ttu-id="ad696-323">[Referencia técnica del algoritmo de clústeres de secuencia de Microsoft](microsoft-sequence-clustering-algorithm-technical-reference.md) </span><span class="sxs-lookup"><span data-stu-id="ad696-323">[Microsoft Sequence Clustering Algorithm Technical Reference](microsoft-sequence-clustering-algorithm-technical-reference.md) </span></span>  
 <span data-ttu-id="ad696-324">[Algoritmo de clústeres de secuencia de Microsoft](microsoft-sequence-clustering-algorithm.md) </span><span class="sxs-lookup"><span data-stu-id="ad696-324">[Microsoft Sequence Clustering Algorithm](microsoft-sequence-clustering-algorithm.md) </span></span>  
 [<span data-ttu-id="ad696-325">Contenido del modelo de minería de datos para los modelos de agrupación en clústeres de secuencia &#40;Analysis Services - Minería de datos&#41;</span><span class="sxs-lookup"><span data-stu-id="ad696-325">Mining Model Content for Sequence Clustering Models &#40;Analysis Services - Data Mining&#41;</span></span>](mining-model-content-for-sequence-clustering-models.md)  
  
  
