---
title: Elegir y asignar datos de entrada para una consulta de predicción | Microsoft Docs
ms.custom: ''
ms.date: 06/13/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: analysis-services
ms.topic: conceptual
helpviewer_keywords:
- tables [Analysis Services], prediction queries
- Mining Model Prediction [Analysis Services], input tables
ms.assetid: 00d330a0-879d-4da0-9f29-53c288116f4d
author: minewiskan
ms.author: owend
ms.openlocfilehash: 54e11752d6278e01e50a379bf7bb57521ff9bb29
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 08/04/2020
ms.locfileid: "87671844"
---
# <a name="choose-and-map-input-data-for-a-prediction-query"></a><span data-ttu-id="637e3-102">Elegir y asignar datos de entrada para una consulta de predicción</span><span class="sxs-lookup"><span data-stu-id="637e3-102">Choose and Map Input Data for a Prediction Query</span></span>
  <span data-ttu-id="637e3-103">Generalmente, la creación de predicciones a partir de un modelo de minería de datos se realiza proporcionando datos nuevos al modelo.</span><span class="sxs-lookup"><span data-stu-id="637e3-103">When you create predictions from a mining model, you generally do this by feeding new data into the model.</span></span> <span data-ttu-id="637e3-104">(La excepción son los modelos de serie temporal, que pueden realizar predicciones basadas únicamente en datos históricos). Para proporcionar nuevos datos al modelo, debe asegurarse de que los datos están disponibles como parte de una vista del origen de datos.</span><span class="sxs-lookup"><span data-stu-id="637e3-104">(The exception is time series models, which can make predictions based on historical data only.) To provide the model with new data, you must make sure that the data is available as part of a data source view.</span></span> <span data-ttu-id="637e3-105">Si conoce de antemano los datos que va a usar para la predicción, puede incluirlos en la vista del origen de datos usada para crear el modelo.</span><span class="sxs-lookup"><span data-stu-id="637e3-105">If you know in advance which data you will use for prediction, you can include it in the data source view that you used to create the model.</span></span> <span data-ttu-id="637e3-106">De lo contrario, es posible que tenga que crear una nueva vista del origen de datos.</span><span class="sxs-lookup"><span data-stu-id="637e3-106">Otherwise, you might have to create a new data source view.</span></span> <span data-ttu-id="637e3-107">Para más información, vea [Vistas del origen de datos en modelos multidimensionales](../multidimensional-models/data-source-views-in-multidimensional-models.md).</span><span class="sxs-lookup"><span data-stu-id="637e3-107">For more information, see [Data Source Views in Multidimensional Models](../multidimensional-models/data-source-views-in-multidimensional-models.md).</span></span>  
  
 <span data-ttu-id="637e3-108">Algunas veces, los datos que necesita se encuentran en varias tablas en una combinación de uno a varios.</span><span class="sxs-lookup"><span data-stu-id="637e3-108">Sometimes the data that you need might be contained within more than one table in a one-to-many join.</span></span> <span data-ttu-id="637e3-109">Es el caso de los datos usados para los modelos de asociación o los modelos de clústeres de secuencia, que usan una tabla de casos vinculada a una tabla anidada que contiene detalles sobre productos o transacciones.</span><span class="sxs-lookup"><span data-stu-id="637e3-109">This is the case with data used for association models or sequence clustering models, which use a case table linked to a nested table that contains product or transaction details.</span></span> <span data-ttu-id="637e3-110">Si el modelo usa una estructura de tabla de casos anidados, los datos usados para la predicción también deben tener dicha estructura.</span><span class="sxs-lookup"><span data-stu-id="637e3-110">If your model uses a case-nested table structure, the data that you use for prediction must also have a case-nested table structure.</span></span>  
  
> [!WARNING]  
>  <span data-ttu-id="637e3-111">No puede agregar columnas nuevas ni asignar columnas que se encuentren en una vista del origen de datos diferente.</span><span class="sxs-lookup"><span data-stu-id="637e3-111">You cannot add new columns or map columns that are in a different data source view.</span></span> <span data-ttu-id="637e3-112">La vista del origen de datos que seleccione debe contener todas las columnas que necesite para la consulta de predicción.</span><span class="sxs-lookup"><span data-stu-id="637e3-112">The data source view that you select must contain all the columns that you need for the prediction query.</span></span>  
  
 <span data-ttu-id="637e3-113">Una vez identificadas las tablas que contienen los datos que va a usar para las predicciones, deberá asignar las columnas de los datos externos a las columnas del modelo de minería de datos.</span><span class="sxs-lookup"><span data-stu-id="637e3-113">After you have identified the tables that contain the data you will use for predictions, you must map the columns in the external data to the columns in the mining model.</span></span> <span data-ttu-id="637e3-114">Por ejemplo, si el modelo predice los hábitos de compra de los clientes basándose en datos demográficos y respuestas de encuestas, los datos de entrada deben contener información que se corresponda generalmente con lo que se encuentra en el modelo.</span><span class="sxs-lookup"><span data-stu-id="637e3-114">For example, if your model predicts customer purchasing behavior based on demographics and survey responses, your input data should contains information that generally corresponds to what is in the model.</span></span> <span data-ttu-id="637e3-115">No es necesario que haya datos coincidentes para todas y cada una de las columnas, pero a cuántas más columnas pueda asignar datos, mejor.</span><span class="sxs-lookup"><span data-stu-id="637e3-115">You do not need to have matching data for every single column, but the more columns you can match, the better.</span></span> <span data-ttu-id="637e3-116">Si intenta asignar columnas que tienen tipos de datos diferentes, es posible que obtenga un error.</span><span class="sxs-lookup"><span data-stu-id="637e3-116">If you try to map columns that have different data types, you might get an error.</span></span> <span data-ttu-id="637e3-117">En ese caso, podría definir un cálculo con nombre en la vista del origen de datos para convertir los nuevos datos de las columnas al tipo de datos requerido por el modelo.</span><span class="sxs-lookup"><span data-stu-id="637e3-117">In that case, you could define a named calculation in the data source view to cast or convert the new column data to the data type required by the model.</span></span> <span data-ttu-id="637e3-118">Para más información, vea [Definir cálculos con nombre en una vista del origen de datos &#40;Analysis Services&#41;](../multidimensional-models/define-named-calculations-in-a-data-source-view-analysis-services.md).</span><span class="sxs-lookup"><span data-stu-id="637e3-118">For more information, see [Define Named Calculations in a Data Source View &#40;Analysis Services&#41;](../multidimensional-models/define-named-calculations-in-a-data-source-view-analysis-services.md).</span></span>  
  
 <span data-ttu-id="637e3-119">Al elegir los datos que se van a usar para la predicción, es posible que algunas de las columnas del origen de datos seleccionado se asignen automáticamente a las columnas del modelo de minería de datos, basándose en la similitud de los nombres y el tipo de datos coincidentes.</span><span class="sxs-lookup"><span data-stu-id="637e3-119">When you choose the data to use for prediction, some columns in the selected data source might be automatically mapped to the mining model columns, based on name similarity and matching data type.</span></span> <span data-ttu-id="637e3-120">Puede usar el cuadro de diálogo **Modificar asignación** de la pestaña **Predicción de modelo de minería de datos** para cambiar las columnas que se han asignado, eliminar las asignaciones inapropiadas o crear nuevas asignaciones para las columnas existentes.</span><span class="sxs-lookup"><span data-stu-id="637e3-120">You can use the **Modify Mapping** dialog box in the **Mining Model Prediction** to change the columns that are mapped, delete inappropriate mappings, or create new mappings for existing columns.</span></span> <span data-ttu-id="637e3-121">La superficie de diseño **Predicción de modelo de minería de datos** también admite la edición de tipo arrastrar y colocar para las conexiones.</span><span class="sxs-lookup"><span data-stu-id="637e3-121">The **Mining Model Prediction** design surface also supports drag-and-drop editing of connections.</span></span>  
  
-   <span data-ttu-id="637e3-122">Para crear una conexión, seleccione una columna de la tabla **Modelo de minería de datos** y arrástrela hasta la columna correspondiente en la tabla **Seleccionar tabla(s) de entrada** .</span><span class="sxs-lookup"><span data-stu-id="637e3-122">To create a new connection, just select a column in the **Mining Model** table and drag it to the corresponding column in the **SelectInput Table(s)** table.</span></span>  
  
-   <span data-ttu-id="637e3-123">Para quitar una conexión, seleccione la línea de conexión y presione la tecla Supr.</span><span class="sxs-lookup"><span data-stu-id="637e3-123">To remove a connection, select the connection line and press the DELETE key.</span></span>  
  
 <span data-ttu-id="637e3-124">En el procedimiento siguiente se describe cómo modificar las combinaciones que se han creado entre la tabla de casos y una tabla anidada que se usan como entradas de una consulta de predicción mediante el cuadro de diálogo **Especificar combinación anidada** .</span><span class="sxs-lookup"><span data-stu-id="637e3-124">The following procedure describes how you can modify the joins that have been created between the case table and a nested table used as inputs to a prediction query, using the **Specify Nested Join** dialog box.</span></span>  
  
### <a name="select-an-input-table"></a><span data-ttu-id="637e3-125">Seleccionar una tabla de entrada</span><span class="sxs-lookup"><span data-stu-id="637e3-125">Select an input table</span></span>  
  
1.  <span data-ttu-id="637e3-126">En la tabla **Seleccionar tabla(s) de entrada** de la pestaña **Gráfico de precisión de minería de datos** del Diseñador de minería de datos de [!INCLUDE[ssBIDevStudioFull](../../includes/ssbidevstudiofull-md.md)], haga clic en **Seleccionar tabla de casos**.</span><span class="sxs-lookup"><span data-stu-id="637e3-126">On the **Select Input Table(s)** table of the **Mining Accuracy Chart** tab in Data Mining Designer in [!INCLUDE[ssBIDevStudioFull](../../includes/ssbidevstudiofull-md.md)], click **Select Case Table**.</span></span>  
  
     <span data-ttu-id="637e3-127">Aparece el cuadro de diálogo **Seleccionar tablas** , en el que puede seleccionar la tabla que contiene los datos sobre los que basará sus consultas.</span><span class="sxs-lookup"><span data-stu-id="637e3-127">The **Select Table** dialog box opens, in which you can select the table that contains the data on which to base your queries.</span></span>  
  
2.  <span data-ttu-id="637e3-128">En el cuadro de diálogo **Seleccionar tablas** , seleccione un origen de datos de la lista **Origen de datos** .</span><span class="sxs-lookup"><span data-stu-id="637e3-128">In the **Select Table** dialog box, select a data source from the **Data Source** list.</span></span>  
  
3.  <span data-ttu-id="637e3-129">En **Nombre de tabla o vista**, seleccione la tabla que contiene los datos que quiere usar para probar los modelos.</span><span class="sxs-lookup"><span data-stu-id="637e3-129">Under **Table/View Name**, select the table that contains the data you want to use to test the models.</span></span>  
  
4.  <span data-ttu-id="637e3-130">Haga clic en **OK**.</span><span class="sxs-lookup"><span data-stu-id="637e3-130">Click **OK**.</span></span>  
  
     <span data-ttu-id="637e3-131">Las columnas de la estructura de minería de datos se asignarán automáticamente a las columnas que tengan el mismo nombre en la tabla de entrada.</span><span class="sxs-lookup"><span data-stu-id="637e3-131">The columns in the mining structure are automatically mapped to the columns that have the same name in the input table.</span></span>  
  
### <a name="change-the-way-that-input-data-is-mapped-to-the-model"></a><span data-ttu-id="637e3-132">Cambiar la forma en la que los datos de entrada se asignan al modelo</span><span class="sxs-lookup"><span data-stu-id="637e3-132">Change the way that input data is mapped to the model</span></span>  
  
1.  <span data-ttu-id="637e3-133">En el Diseñador de minería de datos de [!INCLUDE[ssBIDevStudioFull](../../includes/ssbidevstudiofull-md.md)], seleccione la pestaña **Predicción de modelo de minería de datos** .</span><span class="sxs-lookup"><span data-stu-id="637e3-133">In Data Mining Designer in [!INCLUDE[ssBIDevStudioFull](../../includes/ssbidevstudiofull-md.md)], select the **Mining Model Prediction** tab.</span></span>  
  
2.  <span data-ttu-id="637e3-134">En el menú **Modelo de minería de datos** , seleccione **Modificar conexiones**.</span><span class="sxs-lookup"><span data-stu-id="637e3-134">On the **Mining Model** menu, select **Modify Connections**.</span></span>  
  
     <span data-ttu-id="637e3-135">Se abre el cuadro de diálogo **Modificar asignación** .</span><span class="sxs-lookup"><span data-stu-id="637e3-135">The **Modify Mapping** dialog box opens.</span></span> <span data-ttu-id="637e3-136">En este cuadro de diálogo, la **Columna del modelo de minería de datos** muestra las columnas de la estructura de minería de datos seleccionada.</span><span class="sxs-lookup"><span data-stu-id="637e3-136">In this dialog box, the column **Mining Model Column** lists the columns in the selected mining structure.</span></span> <span data-ttu-id="637e3-137">En la columna **Columna de la tabla** se muestran las columnas del origen de datos externo que ha elegido en el cuadro de diálogo **Seleccionar tabla(s) de entrada** .</span><span class="sxs-lookup"><span data-stu-id="637e3-137">The column **Table Column** lists the columns in the external data source that you chose in the **SelectInput Table(s)** dialog box.</span></span> <span data-ttu-id="637e3-138">Las columnas del origen de datos externo se asignan a las columnas del modelo de minería de datos.</span><span class="sxs-lookup"><span data-stu-id="637e3-138">The columns in the external data source are mapped to columns in the mining model.</span></span>  
  
3.  <span data-ttu-id="637e3-139">En **Columna de la tabla**, seleccione la fila que corresponda a la columna del modelo de minería de datos a la que desee asignarla.</span><span class="sxs-lookup"><span data-stu-id="637e3-139">Under **Table Column**, select the row that corresponds to the mining model column that you want to map to.</span></span>  
  
4.  <span data-ttu-id="637e3-140">Seleccione una columna nueva en la lista de columnas disponibles del origen de datos externo.</span><span class="sxs-lookup"><span data-stu-id="637e3-140">Select a new column from the list of available columns in the external data source.</span></span> <span data-ttu-id="637e3-141">Seleccione el elemento en blanco en la lista para eliminar la asignación de columnas.</span><span class="sxs-lookup"><span data-stu-id="637e3-141">Select the blank item in the list to delete the column mapping.</span></span>  
  
5.  <span data-ttu-id="637e3-142">Haga clic en **OK**.</span><span class="sxs-lookup"><span data-stu-id="637e3-142">Click **OK**.</span></span>  
  
     <span data-ttu-id="637e3-143">Las nuevas asignaciones de columnas se muestran en el diseñador.</span><span class="sxs-lookup"><span data-stu-id="637e3-143">The new column mappings are displayed in the designer.</span></span>  
  
### <a name="remove-a-relationship-between-input-tables"></a><span data-ttu-id="637e3-144">Quitar una relación entre tablas de entrada</span><span class="sxs-lookup"><span data-stu-id="637e3-144">Remove a relationship between input tables</span></span>  
  
1.  <span data-ttu-id="637e3-145">En la tabla **Seleccionar tabla(s) de entrada** de la pestaña **Predicción de modelo de minería** de datos del Diseñador de minería de datos de [!INCLUDE[ssBIDevStudioFull](../../includes/ssbidevstudiofull-md.md)], haga clic en **Modificar combinación**.</span><span class="sxs-lookup"><span data-stu-id="637e3-145">On the **Select Input Table(s)** table of the **Mining Model Prediction** tab in Data Mining Designer in [!INCLUDE[ssBIDevStudioFull](../../includes/ssbidevstudiofull-md.md)], click **Modify Join**.</span></span>  
  
     <span data-ttu-id="637e3-146">Se abre el cuadro de diálogo **Especificar combinación anidada** .</span><span class="sxs-lookup"><span data-stu-id="637e3-146">The **Specify Nested Join** dialog box opens.</span></span>  
  
2.  <span data-ttu-id="637e3-147">Seleccione una relación.</span><span class="sxs-lookup"><span data-stu-id="637e3-147">Select a relationship.</span></span>  
  
3.  <span data-ttu-id="637e3-148">Haga clic en **Quitar relación**.</span><span class="sxs-lookup"><span data-stu-id="637e3-148">Click **Remove Relationship**.</span></span>  
  
4.  <span data-ttu-id="637e3-149">Haga clic en **OK**.</span><span class="sxs-lookup"><span data-stu-id="637e3-149">Click **OK**.</span></span>  
  
     <span data-ttu-id="637e3-150">La relación entre la tabla de casos y la tabla anidada se ha eliminado.</span><span class="sxs-lookup"><span data-stu-id="637e3-150">The relationship between the case table and the nested table has been removed.</span></span>  
  
### <a name="create-a-new-relationship-between-input-tables"></a><span data-ttu-id="637e3-151">Crear una nueva relación entre tablas de entrada</span><span class="sxs-lookup"><span data-stu-id="637e3-151">Create a new relationship between input tables</span></span>  
  
1.  <span data-ttu-id="637e3-152">En la tabla **Seleccionar tabla(s) de entrada** de la pestaña **Predicción de modelo de minería de datos** del Diseñador de minería de datos, haga clic en **Modificar combinación**.</span><span class="sxs-lookup"><span data-stu-id="637e3-152">On the **Select Input Table(s)** table of the **Mining Model Prediction** tab in Data Mining Designer, click **Modify Join**.</span></span>  
  
     <span data-ttu-id="637e3-153">Se abre el cuadro de diálogo **Especificar combinación anidada** .</span><span class="sxs-lookup"><span data-stu-id="637e3-153">The **Specify Nested Join** dialog box opens.</span></span>  
  
2.  <span data-ttu-id="637e3-154">Haga clic en **Agregar relación**.</span><span class="sxs-lookup"><span data-stu-id="637e3-154">Click **Add Relationship**.</span></span>  
  
     <span data-ttu-id="637e3-155">Se abrirá el cuadro de diálogo **Crear relación** .</span><span class="sxs-lookup"><span data-stu-id="637e3-155">The **Create Relationship** dialog box opens.</span></span>  
  
3.  <span data-ttu-id="637e3-156">Seleccione la clave de la tabla anidada en **Columnas de origen**.</span><span class="sxs-lookup"><span data-stu-id="637e3-156">Select the key of the nested table in **Source Columns**.</span></span>  
  
4.  <span data-ttu-id="637e3-157">Seleccione la clave de la tabla de casos en **Columnas de destino**.</span><span class="sxs-lookup"><span data-stu-id="637e3-157">Select the key of the case table in **Destination Columns**.</span></span>  
  
5.  <span data-ttu-id="637e3-158">Haga clic en **Aceptar** en el cuadro de diálogo **Crear relación** .</span><span class="sxs-lookup"><span data-stu-id="637e3-158">Click **OK** in the **Create Relationship** dialog box.</span></span>  
  
6.  <span data-ttu-id="637e3-159">Haga clic en **Aceptar** en el cuadro de diálogo **Especificar combinación anidada** .</span><span class="sxs-lookup"><span data-stu-id="637e3-159">Click **OK** in the **Specify Nested Join** dialog box.</span></span>  
  
     <span data-ttu-id="637e3-160">Se crea una nueva relación entre la tabla de casos y la tabla anidada.</span><span class="sxs-lookup"><span data-stu-id="637e3-160">A new relationship has been created between the case table and the nested table.</span></span>  
  
### <a name="add-a-nested-table-to-the-input-tables-of-a-prediction-query"></a><span data-ttu-id="637e3-161">Agregar una tabla anidada a las tablas de entrada de una consulta de predicción</span><span class="sxs-lookup"><span data-stu-id="637e3-161">Add a nested table to the input tables of a prediction query</span></span>  
  
1.  <span data-ttu-id="637e3-162">En la pestaña **Predicción de modelo de minería de datos** del Diseñador de minería de datos, haga clic en **Seleccionar tabla de casos** para abrir el cuadro de diálogo **Seleccionar tabla** .</span><span class="sxs-lookup"><span data-stu-id="637e3-162">On the **Mining Model Prediction** tab in Data Mining Designer, click **Select Case Table** to open the **Select Table** dialog box.</span></span>  
  
    > [!NOTE]  
    >  <span data-ttu-id="637e3-163">No podrá agregar una tabla anidada a las entradas a menos que haya especificado una tabla de casos.</span><span class="sxs-lookup"><span data-stu-id="637e3-163">You cannot add a nested table to the inputs unless you have specified a case table.</span></span> <span data-ttu-id="637e3-164">El uso de una tabla anidada requiere que el modelo de minería de datos que se usa para la predicción también haga uso de este tipo de tabla.</span><span class="sxs-lookup"><span data-stu-id="637e3-164">Use of a nested table requires that the mining model you are using for prediction also uses a nested table.</span></span>  
  
2.  <span data-ttu-id="637e3-165">En el cuadro de diálogo **Seleccionar tabla** , seleccione un origen de datos en la lista **Origen de datos** y seleccione la tabla en la vista del origen de datos que contiene los datos de los casos.</span><span class="sxs-lookup"><span data-stu-id="637e3-165">In the **Select Table** dialog box, select a data source from the **Data Source** list, and select the table in the data source view that contains the case data.</span></span> [!INCLUDE[clickOK](../../includes/clickok-md.md)]  
  
3.  <span data-ttu-id="637e3-166">Haga clic en **Seleccionar tabla anidada** para abrir el cuadro de diálogo **Seleccionar tabla** .</span><span class="sxs-lookup"><span data-stu-id="637e3-166">Click **Select Nested Table** to open the **Select Table** dialog box.</span></span>  
  
4.  <span data-ttu-id="637e3-167">En el cuadro de diálogo **Seleccionar tabla** , seleccione un origen de datos en la lista **Origen de datos** y seleccione la tabla en la vista del origen de datos que contiene los datos anidados.</span><span class="sxs-lookup"><span data-stu-id="637e3-167">In the **Select Table** dialog box, select a data source from the **Data Source** list, and select the table in the data source view that contains the nested data.</span></span> [!INCLUDE[clickOK](../../includes/clickok-md.md)]  
  
     <span data-ttu-id="637e3-168">Si ya existe una relación, las columnas del modelo de minería de datos se asignan automáticamente a las columnas que tienen el mismo nombre en la tabla de entrada.</span><span class="sxs-lookup"><span data-stu-id="637e3-168">If a relationship already exists, the columns in the mining model are automatically mapped to the columns that have the same name in the input table.</span></span> <span data-ttu-id="637e3-169">Puede modificar la relación entre la tabla anidada y la tabla de casos haciendo clic en **Modificar combinación**, que abre el cuadro de diálogo **Crear relación** .</span><span class="sxs-lookup"><span data-stu-id="637e3-169">You can modify the relationship between the nested table and the case table by clicking **Modify Join**, which opens the **Create Relationship** dialog box.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="637e3-170">Consulte también</span><span class="sxs-lookup"><span data-stu-id="637e3-170">See Also</span></span>  
 [<span data-ttu-id="637e3-171">Consultas de predicción &#40;minería de datos&#41;</span><span class="sxs-lookup"><span data-stu-id="637e3-171">Prediction Queries &#40;Data Mining&#41;</span></span>](prediction-queries-data-mining.md)  
  
  
