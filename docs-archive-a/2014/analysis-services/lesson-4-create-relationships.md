---
title: 'Lección 5: crear relaciones | Microsoft Docs'
ms.custom: ''
ms.date: 06/13/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: analysis-services
ms.topic: conceptual
ms.assetid: abac1a00-f827-4c3e-a473-6db5c8a3a66f
author: minewiskan
ms.author: owend
ms.openlocfilehash: f622f88d4d400fedf24e99059eda94882b1bcc3f
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 08/04/2020
ms.locfileid: "87747233"
---
# <a name="lesson-5-create-relationships"></a><span data-ttu-id="35c46-102">Lección 5: Crear relaciones</span><span class="sxs-lookup"><span data-stu-id="35c46-102">Lesson 5: Create Relationships</span></span>
  <span data-ttu-id="35c46-103">En esta lección, comprobará las relaciones que se han creado de forma automática al importar datos y agregará nuevas relaciones entre tablas diferentes.</span><span class="sxs-lookup"><span data-stu-id="35c46-103">In this lesson, you will verify the relationships that were created automatically when you imported data and add new relationships between different tables.</span></span> <span data-ttu-id="35c46-104">Una relación es una conexión entre dos tablas de datos que establece cómo se deben poner en correlación los datos de esas tablas.</span><span class="sxs-lookup"><span data-stu-id="35c46-104">A relationship is a connection between two tables that establishes how the data in those tables should be correlated.</span></span> <span data-ttu-id="35c46-105">Por ejemplo, la tabla Product y la tabla Product Subcategory tienen una relación basada en el hecho de que cada producto pertenece a una subcategoría.</span><span class="sxs-lookup"><span data-stu-id="35c46-105">For example, the Product table and the Product Subcategory table have a relationship based on the fact that each product belongs to a subcategory.</span></span> <span data-ttu-id="35c46-106">Para obtener más información, consulte [Relaciones &#40;SSAS tabular&#41;](tabular-models/relationships-ssas-tabular.md).</span><span class="sxs-lookup"><span data-stu-id="35c46-106">To learn more, see [Relationships &#40;SSAS Tabular&#41;](tabular-models/relationships-ssas-tabular.md).</span></span>  
  
 <span data-ttu-id="35c46-107">Tiempo estimado para completar esta lección: **10 minutos**</span><span class="sxs-lookup"><span data-stu-id="35c46-107">Estimated time to complete this lesson: **10 minutes**</span></span>  
  
## <a name="prerequisites"></a><span data-ttu-id="35c46-108">Requisitos previos</span><span class="sxs-lookup"><span data-stu-id="35c46-108">Prerequisites</span></span>  
 <span data-ttu-id="35c46-109">Este tema forma parte de un tutorial de modelado tabular, que se debe completar en orden.</span><span class="sxs-lookup"><span data-stu-id="35c46-109">This topic is part of a tabular modeling tutorial, which should be completed in order.</span></span> <span data-ttu-id="35c46-110">Antes de realizar las tareas de esta lección, debe haber completado la lección anterior: [Lección 3: Cambiar el nombre de las columnas](rename-columns.md).</span><span class="sxs-lookup"><span data-stu-id="35c46-110">Before performing the tasks in this lesson, you should have completed the previous lesson: [Lesson 3: Rename Columns](rename-columns.md).</span></span>  
  
## <a name="review-existing-relationships-and-add-new-relationships"></a><span data-ttu-id="35c46-111">Examinar las relaciones existentes y agregar nuevas relaciones</span><span class="sxs-lookup"><span data-stu-id="35c46-111">Review Existing Relationships and Add New Relationships</span></span>  
 <span data-ttu-id="35c46-112">Cuando importó los datos mediante el Asistente para la importación de tablas, importó siete tablas de la base de datos AdventureWorksDW.</span><span class="sxs-lookup"><span data-stu-id="35c46-112">When you imported data by using the Table Import Wizard, you imported seven tables from the AdventureWorksDW database.</span></span> <span data-ttu-id="35c46-113">Normalmente, si importa datos de un origen relacional, las relaciones existentes se importan automáticamente junto con los datos.</span><span class="sxs-lookup"><span data-stu-id="35c46-113">Generally, if you import data from a relational source, existing relationships are automatically imported together with the data.</span></span> <span data-ttu-id="35c46-114">Sin embargo, antes de continuar creando el modelo, debe comprobar que las relaciones entre tablas se crearon correctamente.</span><span class="sxs-lookup"><span data-stu-id="35c46-114">However, before you proceed with authoring your model you should verify those relationships between tables were created properly.</span></span> <span data-ttu-id="35c46-115">En este tutorial, agregará también tres relaciones nuevas.</span><span class="sxs-lookup"><span data-stu-id="35c46-115">For this tutorial, you will also add three new relationships.</span></span>  
  
#### <a name="to-review-existing-relationships"></a><span data-ttu-id="35c46-116">Procedimiento para revisar las relaciones existentes</span><span class="sxs-lookup"><span data-stu-id="35c46-116">To review existing relationships</span></span>  
  
1.  <span data-ttu-id="35c46-117">En [!INCLUDE[ssBIDevStudio](../includes/ssbidevstudio-md.md)], haga clic en el menú **Modelo** , elija **Vista de modelo**y haga clic en **Vista de diagrama**.</span><span class="sxs-lookup"><span data-stu-id="35c46-117">In [!INCLUDE[ssBIDevStudio](../includes/ssbidevstudio-md.md)], click on the **Model** menu, then point to **Model View**, and then click **Diagram View**.</span></span>  
  
     <span data-ttu-id="35c46-118">El diseñador de modelos se muestra ahora en la vista de diagrama, un formato gráfico que muestra todas las tablas que importó con líneas entre ellas.</span><span class="sxs-lookup"><span data-stu-id="35c46-118">The model designer now appears in Diagram View, a graphical format displaying all of the tables you imported with lines between them.</span></span> <span data-ttu-id="35c46-119">Las líneas entre las tablas indican las relaciones que se crearon automáticamente cuando importó los datos.</span><span class="sxs-lookup"><span data-stu-id="35c46-119">The lines between tables indicate the relationships that were automatically created when you imported the data.</span></span>  
  
     <span data-ttu-id="35c46-120">Utilice los controles de minimapa de la esquina superior derecha del diseñador de modelos para ajustar la vista e incluir tantas tablas como sea posible.</span><span class="sxs-lookup"><span data-stu-id="35c46-120">Use the minimap controls in the upper-right corner of the model designer to adjust the view to include as many of the tables as possible.</span></span> <span data-ttu-id="35c46-121">También puede hacer clic y arrastrar las tablas a ubicaciones diferentes, aunando las tablas o colocándolas en un orden determinado.</span><span class="sxs-lookup"><span data-stu-id="35c46-121">You can also click and drag tables to different locations, bringing tables closer together, or putting them in a particular order.</span></span> <span data-ttu-id="35c46-122">El movimiento de las tablas no afecta a las relaciones existentes entre ellas.</span><span class="sxs-lookup"><span data-stu-id="35c46-122">Moving tables does not affect the relationships already between the tables.</span></span> <span data-ttu-id="35c46-123">Para ver todas las columnas de una determinada tabla, haga clic y arrastre un borde de la tabla para expandirla o reducirla.</span><span class="sxs-lookup"><span data-stu-id="35c46-123">To view all of the columns in a particular table, click and drag on a table edge to expand or make it smaller.</span></span>  
  
2.  <span data-ttu-id="35c46-124">Haga clic en la línea sólida entre la tabla **Customer** y la tabla **Geography** .</span><span class="sxs-lookup"><span data-stu-id="35c46-124">Click on the solid line between the **Customer** table and the **Geography** table.</span></span> <span data-ttu-id="35c46-125">La línea sólida entre estas dos tablas muestra que esta relación está activa, es decir, se utiliza de forma predeterminada al calcular fórmulas DAX.</span><span class="sxs-lookup"><span data-stu-id="35c46-125">The solid line between these two tables show this relationship is active, that is, it is used by default when calculating DAX formulas.</span></span>  
  
     <span data-ttu-id="35c46-126">Observe que la columna **Geography Id** de la tabla **Customer** y la columna **Geography Id** de la tabla **Geography** aparecen ahora dentro de un cuadro.</span><span class="sxs-lookup"><span data-stu-id="35c46-126">Notice the **Geography Id** column in the **Customer** table and the **Geography Id** column in the **Geography** table now both each appear within a box.</span></span> <span data-ttu-id="35c46-127">Esto indica que esas son las columnas utilizadas en la relación.</span><span class="sxs-lookup"><span data-stu-id="35c46-127">This shows these are the columns used in the relationship.</span></span> <span data-ttu-id="35c46-128">Las propiedades de la relación aparecen ahora también en la ventana **propiedades** .</span><span class="sxs-lookup"><span data-stu-id="35c46-128">The relationship's properties now also appear in the **Properties** window.</span></span>  
  
    > [!TIP]  
    >  <span data-ttu-id="35c46-129">Además de utilizar el diseñador de modelos en la vista de diagrama, también puede utilizar el cuadro de diálogo **administrar relaciones** para mostrar las relaciones entre todas las tablas en un formato de tabla.</span><span class="sxs-lookup"><span data-stu-id="35c46-129">In addition to using the model designer in diagram view, you can also use the **Manage Relationships** dialog box to show the relationships between all tables in a table format.</span></span> <span data-ttu-id="35c46-130">Haga clic en el menú **Tabla** y, después, haga clic en **Administrar relaciones**.</span><span class="sxs-lookup"><span data-stu-id="35c46-130">Click on the **Table** menu, and then click **Manage Relationships**.</span></span> <span data-ttu-id="35c46-131">El cuadro de diálogo **Administrar relaciones** muestra las relaciones que se han creado de forma automática al importar los datos.</span><span class="sxs-lookup"><span data-stu-id="35c46-131">The **Manage Relationships** dialog box shows the relationships that were automatically created when you imported data.</span></span>  
  
3.  <span data-ttu-id="35c46-132">Use el diseñador de modelos en la vista de diagrama o el cuadro de diálogo **Administrar relaciones** para comprobar que se han creado las siguientes relaciones al importar cada una de las tablas de la base de datos AdventureWorksDW:</span><span class="sxs-lookup"><span data-stu-id="35c46-132">Use the model designer in diagram view, or the **Manage Relationships** dialog box, to verify the following relationships were created when each of the tables were imported from the AdventureWorksDW database:</span></span>  
  
    |<span data-ttu-id="35c46-133">Active</span><span class="sxs-lookup"><span data-stu-id="35c46-133">Active</span></span>|<span data-ttu-id="35c46-134">Tabla</span><span class="sxs-lookup"><span data-stu-id="35c46-134">Table</span></span>|<span data-ttu-id="35c46-135">Tabla de búsqueda relacionada</span><span class="sxs-lookup"><span data-stu-id="35c46-135">Related Lookup Table</span></span>|  
    |------------|-----------|--------------------------|  
    |<span data-ttu-id="35c46-136">Sí</span><span class="sxs-lookup"><span data-stu-id="35c46-136">Yes</span></span>|<span data-ttu-id="35c46-137">**Customer [Geography Id]**</span><span class="sxs-lookup"><span data-stu-id="35c46-137">**Customer [Geography Id]**</span></span>|<span data-ttu-id="35c46-138">**Geography [Geography Id]**</span><span class="sxs-lookup"><span data-stu-id="35c46-138">**Geography [Geography Id]**</span></span>|  
    |<span data-ttu-id="35c46-139">Sí</span><span class="sxs-lookup"><span data-stu-id="35c46-139">Yes</span></span>|<span data-ttu-id="35c46-140">**Product [Product Subcategory Id]**</span><span class="sxs-lookup"><span data-stu-id="35c46-140">**Product [Product Subcategory Id]**</span></span>|<span data-ttu-id="35c46-141">**Product Subcategory [Product Subcategory Id]**</span><span class="sxs-lookup"><span data-stu-id="35c46-141">**Product Subcategory [Product Subcategory Id]**</span></span>|  
    |<span data-ttu-id="35c46-142">Sí</span><span class="sxs-lookup"><span data-stu-id="35c46-142">Yes</span></span>|<span data-ttu-id="35c46-143">**Product Subcategory [Product Category Id]**</span><span class="sxs-lookup"><span data-stu-id="35c46-143">**Product Subcategory [Product Category Id]**</span></span>|<span data-ttu-id="35c46-144">**Product Category [Product Category Id]**</span><span class="sxs-lookup"><span data-stu-id="35c46-144">**Product Category [Product Category Id]**</span></span>|  
    |<span data-ttu-id="35c46-145">Sí</span><span class="sxs-lookup"><span data-stu-id="35c46-145">Yes</span></span>|<span data-ttu-id="35c46-146">**Internet Sales [Customer Id]**</span><span class="sxs-lookup"><span data-stu-id="35c46-146">**Internet Sales [Customer Id]**</span></span>|<span data-ttu-id="35c46-147">**Customer [Customer Id]**</span><span class="sxs-lookup"><span data-stu-id="35c46-147">**Customer [Customer Id]**</span></span>|  
    |<span data-ttu-id="35c46-148">Sí</span><span class="sxs-lookup"><span data-stu-id="35c46-148">Yes</span></span>|<span data-ttu-id="35c46-149">**Internet Sales [Product Id]**</span><span class="sxs-lookup"><span data-stu-id="35c46-149">**Internet Sales [Product Id]**</span></span>|<span data-ttu-id="35c46-150">**Product [Product Id]**</span><span class="sxs-lookup"><span data-stu-id="35c46-150">**Product [Product Id]**</span></span>|  
  
 <span data-ttu-id="35c46-151">Si falta alguna de las relaciones en la tabla, compruebe que el modelo incluye las tablas siguientes: Customer, Date, Geography, Product, Product Category, Product Subcategory y Internet Sales.</span><span class="sxs-lookup"><span data-stu-id="35c46-151">If any of the relationships in the table above are missing, verify that your model includes the following tables: Customer, Date, Geography, Product, Product Category, Product Subcategory, and Internet Sales.</span></span> <span data-ttu-id="35c46-152">Si las tablas de la misma conexión de origen de datos se importaron en momentos distintos, las relaciones entre esas tablas no se crearán y tendrá que crearlas manualmente.</span><span class="sxs-lookup"><span data-stu-id="35c46-152">If tables from the same data source connection are imported at separate times, any relationships between those tables will not be created and must be created manually.</span></span>  
  
 <span data-ttu-id="35c46-153">En algunos casos, debe crear relaciones adicionales entre las tablas del modelo para admitir una determinada lógica de negocios.</span><span class="sxs-lookup"><span data-stu-id="35c46-153">In some cases, you may need to create additional relationships between tables in your model to support certain business logic.</span></span> <span data-ttu-id="35c46-154">En este tutorial, tendrá que crear tres relaciones adicionales entre la tabla Internet Sales y la tabla Date.</span><span class="sxs-lookup"><span data-stu-id="35c46-154">For this tutorial, you need to create three additional relationships between the Internet Sales table and the Date table.</span></span>  
  
#### <a name="to-add-new-relationships-between-tables"></a><span data-ttu-id="35c46-155">Para agregar nuevas relaciones entre las tablas</span><span class="sxs-lookup"><span data-stu-id="35c46-155">To add new relationships between tables</span></span>  
  
1.  <span data-ttu-id="35c46-156">En el diseñador de modelos, en la tabla **Internet Sales** , haga clic y mantenga seleccionada la columna **Order Date** , arrastre el cursor hasta la columna **Date** de la tabla **Date** y suéltelo.</span><span class="sxs-lookup"><span data-stu-id="35c46-156">In the model designer, in the **Internet Sales** table, click and hold on the **Order Date** column, then drag the cursor to the **Date** column in the **Date** table, and then release.</span></span>  
  
     <span data-ttu-id="35c46-157">Aparece una línea sólida que indica que ha creado una relación activa entre la columna **Order Date** de la tabla **Internet Sales** y la columna **Date** de la tabla **Date** .</span><span class="sxs-lookup"><span data-stu-id="35c46-157">A solid line appears showing you have created an active relationship between the **Order Date** column in the **Internet Sales** table and the **Date** column in the **Date** table.</span></span>  
  
    > [!NOTE]  
    >  <span data-ttu-id="35c46-158">Al crear relaciones, el orden entre la tabla primaria y la tabla de búsqueda relacionada se fija de manera correcta automáticamente.</span><span class="sxs-lookup"><span data-stu-id="35c46-158">When creating relationships, the order between the primary table and the related lookup table is automatically put in the correct order.</span></span>  
  
2.  <span data-ttu-id="35c46-159">En la tabla **Internet Sales** , haga clic y mantenga seleccionada la columna **Due Date** , arrastre el cursor hasta la columna **Date** de la tabla **Date** y suéltelo.</span><span class="sxs-lookup"><span data-stu-id="35c46-159">In the **Internet Sales** table, click and hold on the **Due Date** column, then drag the cursor to the **Date** column in the **Date** table, and then release.</span></span>  
  
     <span data-ttu-id="35c46-160">Aparece una línea de puntos que indica que ha creado una relación inactiva entre la columna **Due Date** de la tabla **Internet Sales** y la columna **Date** de la tabla **Date** .</span><span class="sxs-lookup"><span data-stu-id="35c46-160">A dotted line appears showing you have created an inactive relationship between the **Due Date** column in the **Internet Sales** table and the **Date** column in the **Date** table.</span></span> <span data-ttu-id="35c46-161">Puede tener varias relaciones entre tablas, pero solo una relación puede estar activa simultáneamente.</span><span class="sxs-lookup"><span data-stu-id="35c46-161">You can have multiple relationships between tables, but only one relationship can be active at a time.</span></span>  
  
3.  <span data-ttu-id="35c46-162">Por último, cree una relación más; en la tabla **Internet Sales** , haga clic y mantenga seleccionada la columna **Ship Date** , arrastre el cursor hasta la columna **Date** de la tabla **Date** y suéltelo.</span><span class="sxs-lookup"><span data-stu-id="35c46-162">Finally, create one more relationship; in the **Internet Sales** table, click and hold on the **Ship Date** column, then drag the cursor to the **Date** column in the **Date** table, and then release.</span></span>  
  
     <span data-ttu-id="35c46-163">Aparece una línea de puntos que indica que ha creado una relación inactiva entre la columna **Ship Date** de la tabla **Internet Sales** y la columna **Date** de la tabla **Date** .</span><span class="sxs-lookup"><span data-stu-id="35c46-163">A dotted line appears showing you have created an inactive relationship between the **Ship Date** column in the **Internet Sales** table and the **Date** column in the **Date** table.</span></span>  
  
## <a name="next-step"></a><span data-ttu-id="35c46-164">siguiente paso</span><span class="sxs-lookup"><span data-stu-id="35c46-164">Next Step</span></span>  
 <span data-ttu-id="35c46-165">Para continuar esta lección, vaya a la lección siguiente: [Lección 6: Crear columnas calculadas](lesson-5-create-calculated-columns.md).</span><span class="sxs-lookup"><span data-stu-id="35c46-165">To continue this lesson, go to the next lesson: [Lesson 6: Create Calculated Columns](lesson-5-create-calculated-columns.md).</span></span>  
  
  
