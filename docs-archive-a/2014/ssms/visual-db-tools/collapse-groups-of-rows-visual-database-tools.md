---
title: Contraer grupos de filas (Visual Database Tools) | Microsoft Docs
ms.custom: ''
ms.date: 06/13/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: ssms
ms.topic: conceptual
helpviewer_keywords:
- group collapsing [SQL Server]
- collapsing rows
- row collapsing [SQL Server]
ms.assetid: 7338dad0-965d-44ba-8c1a-b993acb7156d
author: stevestein
ms.author: sstein
ms.openlocfilehash: f7ec2f3072f9fea7c96179934924421080e75821
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 08/04/2020
ms.locfileid: "87671288"
---
# <a name="collapse-groups-of-rows-visual-database-tools"></a><span data-ttu-id="2c993-102">Contraer grupos de filas (Visual Database Tools)</span><span class="sxs-lookup"><span data-stu-id="2c993-102">Collapse Groups of Rows (Visual Database Tools)</span></span>
  <span data-ttu-id="2c993-103">Puede crear un resultado de consulta en el que cada fila de resultados se corresponda con un grupo de filas completo de los datos originales.</span><span class="sxs-lookup"><span data-stu-id="2c993-103">You can create a query result in which each result row corresponds to an entire group of rows from the original data.</span></span> <span data-ttu-id="2c993-104">Cuando se contraen filas, conviene tener en cuenta lo siguiente:</span><span class="sxs-lookup"><span data-stu-id="2c993-104">When collapsing rows, there are several things to keep in mind:</span></span>  
  
-   <span data-ttu-id="2c993-105">**Puede eliminar filas duplicadas** Algunas consultas pueden crear conjuntos de resultados en los que aparezcan varias filas idénticas.</span><span class="sxs-lookup"><span data-stu-id="2c993-105">**You can eliminate duplicate rows** Some queries can create result sets in which multiple identical rows appear.</span></span> <span data-ttu-id="2c993-106">Por ejemplo, puede crear un conjunto de resultados en el que cada fila contenga la ciudad y el nombre del estado de una ciudad que contiene un autor; pero si una ciudad contiene varios autores, habrá varias filas idénticas.</span><span class="sxs-lookup"><span data-stu-id="2c993-106">For example, you can create a result set in which each row contains the city and state name of a city containing an author - but if a city contains several authors, there will be several identical rows.</span></span> <span data-ttu-id="2c993-107">El código SQL resultante puede presentar el siguiente aspecto:</span><span class="sxs-lookup"><span data-stu-id="2c993-107">The resulting SQL might look like this:</span></span>  
  
    ```  
    SELECT city, state  
    FROM authors  
    ```  
  
     <span data-ttu-id="2c993-108">El conjunto de resultados generado por la consulta anterior no es muy útil.</span><span class="sxs-lookup"><span data-stu-id="2c993-108">The result set generated by the preceding query is not very useful.</span></span> <span data-ttu-id="2c993-109">Si una ciudad contiene cuatro autores, el conjunto de resultados incluirá cuatro filas idénticas.</span><span class="sxs-lookup"><span data-stu-id="2c993-109">If a city contains four authors, the result set will include four identical rows.</span></span> <span data-ttu-id="2c993-110">Como el conjunto de resultados no incluye otras columnas que no sean ciudad y estado, no hay manera de distinguir las filas idénticas unas de otras.</span><span class="sxs-lookup"><span data-stu-id="2c993-110">Since the result set does not include any columns other than city and state, there is no way to distinguish the identical rows from each other.</span></span> <span data-ttu-id="2c993-111">Una manera de evitar filas duplicadas de este tipo es incluir columnas adicionales que pueden hacer que las filas sean diferentes.</span><span class="sxs-lookup"><span data-stu-id="2c993-111">One way to avoid such duplicate rows is to include additional columns that can make the rows different.</span></span> <span data-ttu-id="2c993-112">Por ejemplo, si incluye el nombre del autor, cada fila será diferente (siempre y cuando no haya dos autores que se llamen igual y que vivan en la misma ciudad).</span><span class="sxs-lookup"><span data-stu-id="2c993-112">For example, if you include author name, each row will be different (provided no two like-named authors live within any one city).</span></span> <span data-ttu-id="2c993-113">El código SQL resultante puede presentar el siguiente aspecto:</span><span class="sxs-lookup"><span data-stu-id="2c993-113">The resulting SQL might look like this:</span></span>  
  
    ```  
    SELECT city, state, fname, minit, lname  
    FROM authors  
  
    ```  
  
     <span data-ttu-id="2c993-114">Es evidente que la consulta anterior elimina el síntoma, pero no soluciona realmente el problema.</span><span class="sxs-lookup"><span data-stu-id="2c993-114">Of course, the preceding query eliminates the symptom, but does not really solve the problem.</span></span> <span data-ttu-id="2c993-115">Es decir, el conjunto de resultados no tiene duplicados, pero ya no es un conjunto de resultados de ciudades.</span><span class="sxs-lookup"><span data-stu-id="2c993-115">That is, the result set has no duplicates, but it is no longer a result set about cities.</span></span> <span data-ttu-id="2c993-116">Para eliminar elementos duplicados en el conjunto de resultados original y que cada fila siga describiendo una ciudad, puede crear una consulta que devuelva únicamente filas diferentes.</span><span class="sxs-lookup"><span data-stu-id="2c993-116">To eliminate duplicates in the original result set, and still have each row describe a city, you can create a query returning only distinct rows.</span></span> <span data-ttu-id="2c993-117">El código SQL resultante puede presentar el siguiente aspecto:</span><span class="sxs-lookup"><span data-stu-id="2c993-117">The resulting SQL might look like this:</span></span>  
  
    ```  
    SELECT DISTINCT city, state  
    FROM authors  
  
    ```  
  
     <span data-ttu-id="2c993-118">Para detalles sobre cómo eliminar los elementos duplicados, consulte [Excluir filas duplicadas &#40;Visual Database Tools&#41;](visual-database-tools.md).</span><span class="sxs-lookup"><span data-stu-id="2c993-118">For details about eliminating duplicates, see [Exclude Duplicate Rows &#40;Visual Database Tools&#41;](visual-database-tools.md).</span></span>  
  
-   <span data-ttu-id="2c993-119">**Puede calcular por grupos de filas** Es decir, puede resumir información en grupos de filas.</span><span class="sxs-lookup"><span data-stu-id="2c993-119">**You can calculate on groups of rows** That is, you can summarize information in groups of rows.</span></span> <span data-ttu-id="2c993-120">Por ejemplo, puede crear un conjunto de resultados en el que cada fila contenga la ciudad y el nombre del estado de una ciudad que contenga un autor, además de un recuento del número de autores que hay en esa ciudad.</span><span class="sxs-lookup"><span data-stu-id="2c993-120">For example, you can create a result set in which each row contains the city and state name of a city containing an author, plus a count of the number of authors contained in that city.</span></span> <span data-ttu-id="2c993-121">El código SQL resultante puede presentar el siguiente aspecto:</span><span class="sxs-lookup"><span data-stu-id="2c993-121">The resulting SQL might look like this:</span></span>  
  
    ```  
    SELECT city, state, COUNT(*)  
    FROM authors  
    GROUP BY city, state  
  
    ```  
  
     <span data-ttu-id="2c993-122">Para detalles sobre cómo realizar cálculos en grupos de filas, consulte [Resumir los resultados de una consulta &#40;Visual Database Tools&#41;](summarize-query-results-visual-database-tools.md) y [Ordenar y agrupar los resultados de una consulta &#40;Visual Database Tools&#41;](sort-and-group-query-results-visual-database-tools.md).</span><span class="sxs-lookup"><span data-stu-id="2c993-122">For details about calculating on groups of rows, see [Summarize Query Results &#40;Visual Database Tools&#41;](summarize-query-results-visual-database-tools.md) and [Sort and Group Query Results &#40;Visual Database Tools&#41;](sort-and-group-query-results-visual-database-tools.md).</span></span>  
  
-   <span data-ttu-id="2c993-123">**Puede utilizar criterios de selección para incluir grupos de filas** Por ejemplo, puede crear un conjunto de resultados en el que cada fila contenga la ciudad y el nombre del estado de una ciudad que contenga varios autores, además de un recuento del número de autores que hay en esa ciudad.</span><span class="sxs-lookup"><span data-stu-id="2c993-123">**You can use selection criteria to include groups of rows** For example, you can create a result set in which each row contains the city and state name of a city containing several authors, plus a count of the number of authors contained in that city.</span></span> <span data-ttu-id="2c993-124">El código SQL resultante puede presentar el siguiente aspecto:</span><span class="sxs-lookup"><span data-stu-id="2c993-124">The resulting SQL might look like this:</span></span>  
  
    ```  
    SELECT city, state, COUNT(*)  
    FROM authors  
    GROUP BY city, state  
    HAVING COUNT(*) > 1  
  
    ```  
  
     <span data-ttu-id="2c993-125">Para detalles sobre cómo aplicar los criterios de selección en grupos de filas, consulte [Especificar condiciones para grupos &#40;Visual Database Tools&#41;](specify-conditions-for-groups-visual-database-tools.md) y [Usar cláusulas HAVING y WHERE en la misma consulta &#40;Visual Database Tools&#41;](use-having-and-where-clauses-in-the-same-query-visual-database-tools.md).</span><span class="sxs-lookup"><span data-stu-id="2c993-125">For details about applying selection criteria on groups of rows, see [Specify Conditions for Groups &#40;Visual Database Tools&#41;](specify-conditions-for-groups-visual-database-tools.md) and [Use HAVING and WHERE Clauses in the Same Query &#40;Visual Database Tools&#41;](use-having-and-where-clauses-in-the-same-query-visual-database-tools.md).</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="2c993-126">Consulte también</span><span class="sxs-lookup"><span data-stu-id="2c993-126">See Also</span></span>  
 <span data-ttu-id="2c993-127">[Especificar criterios de búsqueda &#40;Visual Database Tools&#41;](specify-search-criteria-visual-database-tools.md) </span><span class="sxs-lookup"><span data-stu-id="2c993-127">[Specify Search Criteria &#40;Visual Database Tools&#41;](specify-search-criteria-visual-database-tools.md) </span></span>  
 [<span data-ttu-id="2c993-128">Temas de procedimientos de diseño de consultas y vistas &#40;Visual Database Tools&#41;</span><span class="sxs-lookup"><span data-stu-id="2c993-128">Design Queries and Views How-to Topics &#40;Visual Database Tools&#41;</span></span>](design-queries-and-views-how-to-topics-visual-database-tools.md)  
  
  
