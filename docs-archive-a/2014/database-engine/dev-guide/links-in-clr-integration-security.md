---
title: Vínculos en la seguridad de integración de CLR | Microsoft Docs
ms.custom: ''
ms.date: 06/13/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: database-engine
ms.topic: reference
helpviewer_keywords:
- table-access links [CLR integration]
- security [CLR integration]
- invocation links [CLR integration]
- gated links [CLR integration]
ms.assetid: 168efd01-d12e-4bdf-a1b3-0b5c76474eaf
author: mashamsft
ms.author: mathoma
ms.openlocfilehash: 52a4f8084a8a90384c8916f2219faaf2c138b11c
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 08/04/2020
ms.locfileid: "87751389"
---
# <a name="links-in-clr-integration-security"></a><span data-ttu-id="4c8ed-102">Vínculos en el ámbito de seguridad de la integración CLR</span><span class="sxs-lookup"><span data-stu-id="4c8ed-102">Links in CLR Integration Security</span></span>
  <span data-ttu-id="4c8ed-103">En esta sección se describe cómo los distintos fragmentos de código del usuario pueden llamarse entre sí en [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)], ya sea en [!INCLUDE[tsql](../../includes/tsql-md.md)] o en uno de los lenguajes administrados.</span><span class="sxs-lookup"><span data-stu-id="4c8ed-103">This section describes how pieces of user code can call each other in [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)], either in [!INCLUDE[tsql](../../includes/tsql-md.md)] or in one of the managed languages.</span></span> <span data-ttu-id="4c8ed-104">Estas relaciones entre objetos reciben el nombre de vínculos.</span><span class="sxs-lookup"><span data-stu-id="4c8ed-104">These relationships between objects are referred to as links.</span></span>  
  
## <a name="invocation-links"></a><span data-ttu-id="4c8ed-105">Vínculos de invocación</span><span class="sxs-lookup"><span data-stu-id="4c8ed-105">Invocation Links</span></span>  
 <span data-ttu-id="4c8ed-106">Los vínculos de invocación corresponden a una invocación del código, ya sea de un usuario que llama a un objeto (como un lote [!INCLUDE[tsql](../../includes/tsql-md.md)] que llama a un procedimiento almacenado) o de un procedimiento almacenado o una función de Common Language Runtime (CLR).</span><span class="sxs-lookup"><span data-stu-id="4c8ed-106">Invocation links correspond to a code invocation, either from a user calling an object (such as a [!INCLUDE[tsql](../../includes/tsql-md.md)] batch calling a stored procedure), or a common language runtime (CLR) stored procedure or function.</span></span> <span data-ttu-id="4c8ed-107">Los vínculos de invocación hacen que se compruebe un permiso `EXECUTE` en el destinatario.</span><span class="sxs-lookup"><span data-stu-id="4c8ed-107">Invocation links cause an `EXECUTE` permission on the callee to be checked.</span></span>  
  
## <a name="table-access-links"></a><span data-ttu-id="4c8ed-108">Vínculos de acceso a tablas</span><span class="sxs-lookup"><span data-stu-id="4c8ed-108">Table-Access Links</span></span>  
 <span data-ttu-id="4c8ed-109">Los vínculos de acceso a tablas corresponden a valores de recuperación o modificación de una tabla, vista o función con valores de tabla.</span><span class="sxs-lookup"><span data-stu-id="4c8ed-109">Table access links correspond to retrieving or modifying values in a table, view, or a table-valued function.</span></span> <span data-ttu-id="4c8ed-110">Son similares a los vínculos de invocación, pero tienen un control de acceso más exhaustivo en lo que se refiere a los permisos SELECT, INSERT, UPDATE y DELETE .</span><span class="sxs-lookup"><span data-stu-id="4c8ed-110">They are similar to invocation links, except that they have a finer-grained access control in terms of SELECT, INSERT, UPDATE, and DELETE permissions.</span></span>  
  
## <a name="gated-links"></a><span data-ttu-id="4c8ed-111">Vínculos canalizados</span><span class="sxs-lookup"><span data-stu-id="4c8ed-111">Gated Links</span></span>  
 <span data-ttu-id="4c8ed-112">Los vínculos canalizados implican que, durante la ejecución, los permisos no se comprueban a través de la relación de objetos una vez que se ha establecido.</span><span class="sxs-lookup"><span data-stu-id="4c8ed-112">Gated links mean that during execution, permissions are not checked across the object relationship once it has been established.</span></span> <span data-ttu-id="4c8ed-113">Cuando hay un vínculo canalizado entre dos objetos (por ejemplo, un objeto **x** y un objeto **y**), los permisos en el objeto **y** y otros objetos a los que se obtiene acceso desde el objeto **y** solamente se comprueban en el momento de creación del objeto **x**.</span><span class="sxs-lookup"><span data-stu-id="4c8ed-113">When there is a gated link between two objects (for example, object **x** and object **y**), permissions on object **y** and other objects accessed from object **y** are checked only at the creation time of object **x**.</span></span> <span data-ttu-id="4c8ed-114">En el momento de la creación del objeto **x**, `REFERENCE` el permiso se comprueba en **y** con el propietario de **x**.</span><span class="sxs-lookup"><span data-stu-id="4c8ed-114">At the creation time of object **x**, `REFERENCE` permission is checked on **y** against the owner of **x**.</span></span> <span data-ttu-id="4c8ed-115">En tiempo de ejecución (por ejemplo, cuando alguien llama al objeto **x**), no hay ningún permiso comprobado en **y** ni en otros objetos a los que hace referencia de forma estática.</span><span class="sxs-lookup"><span data-stu-id="4c8ed-115">At execution time, (for example, when someone calls object **x**), there are no permissions checked against **y** or other objects it references statically.</span></span> <span data-ttu-id="4c8ed-116">En tiempo de ejecución, un permiso adecuado se comprobará en el propio objeto **x** .</span><span class="sxs-lookup"><span data-stu-id="4c8ed-116">At execution time, an appropriate permission will be checked against object **x** itself.</span></span>  
  
 <span data-ttu-id="4c8ed-117">Los vínculos canalizados siempre se usan junto con una dependencia de metadatos entre dos objetos.</span><span class="sxs-lookup"><span data-stu-id="4c8ed-117">Gated links are always used in conjunction with a metadata dependency between two objects.</span></span> <span data-ttu-id="4c8ed-118">Esta dependencia de metadatos es una relación establecida en catálogos de [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] que impide que se quite un objeto siempre que haya otro objeto que dependa de él.</span><span class="sxs-lookup"><span data-stu-id="4c8ed-118">This metadata dependency is a relationship established in [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] catalogs that prevents an object from being dropped as long as another object depends on it.</span></span>  
  
 <span data-ttu-id="4c8ed-119">Los vínculos canalizados son muy útiles cuando resulta adecuado o sencillo conceder permisos a muchos objetos dependientes.</span><span class="sxs-lookup"><span data-stu-id="4c8ed-119">Gated links are useful when it is not appropriate or manageable to give permissions to many dependent objects.</span></span> <span data-ttu-id="4c8ed-120">Los vínculos canalizados se introducen entre los objetos que definen los puntos de entrada de [!INCLUDE[tsql](../../includes/tsql-md.md)] en los ensamblados CLR (por ejemplo, los agregados, tipos, funciones, desencadenadores y procedimientos CLR) y los ensamblados a partir de los cuales se definen.</span><span class="sxs-lookup"><span data-stu-id="4c8ed-120">Gated links are introduced between objects that define [!INCLUDE[tsql](../../includes/tsql-md.md)] entry points into CLR assemblies (for example, CLR procedures, triggers, functions, types, and aggregates) and the assemblies from which they are defined.</span></span> <span data-ttu-id="4c8ed-121">La seguridad canalizada en estos objetos implica que, para invocar un punto de entrada [!INCLUDE[tsql](../../includes/tsql-md.md)] definido en un ensamblado CLR, el autor de las llamadas solamente necesita un permiso adecuado en ese punto de entrada [!INCLUDE[tsql](../../includes/tsql-md.md)] .</span><span class="sxs-lookup"><span data-stu-id="4c8ed-121">Gated security against these objects implies that in order to invoke a [!INCLUDE[tsql](../../includes/tsql-md.md)] entry point defined in a CLR assembly, the caller only needs an appropriate permission on that [!INCLUDE[tsql](../../includes/tsql-md.md)] entry point.</span></span> <span data-ttu-id="4c8ed-122">No es necesario que el autor de las llamadas tenga permisos en ese ensamblado o en cualquier otro ensamblado al que haga referencia de forma estática.</span><span class="sxs-lookup"><span data-stu-id="4c8ed-122">The caller is not required to have permissions on that assembly or any other assemblies it statically references.</span></span> <span data-ttu-id="4c8ed-123">Los permisos en el ensamblado se comprueban en el momento de creación del punto de entrada [!INCLUDE[tsql](../../includes/tsql-md.md)] .</span><span class="sxs-lookup"><span data-stu-id="4c8ed-123">The permissions on the assembly are checked at creation time of the [!INCLUDE[tsql](../../includes/tsql-md.md)] entry point.</span></span>  
  
## <a name="sql-server-authorization-based-security"></a><span data-ttu-id="4c8ed-124">Seguridad basada en autorizaciones de SQL Server</span><span class="sxs-lookup"><span data-stu-id="4c8ed-124">SQL Server Authorization-Based Security</span></span>  
 <span data-ttu-id="4c8ed-125">A continuación se muestran las reglas básicas subyacentes a las comprobaciones de seguridad de [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] para las invocaciones de y entre objetos de base de datos basados en CLR; las primeras tres reglas definen qué permisos deben comprobarse y en qué objeto; la cuarta regla define en qué contexto de ejecución debe comprobarse el permiso.</span><span class="sxs-lookup"><span data-stu-id="4c8ed-125">The following are the basic rules behind the [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] security checks for invocations of and between CLR-based database objects; the first three rules define which permissions are checked and against which object; the fourth rule defines which execution context the permission is checked against.</span></span>  
  
1.  <span data-ttu-id="4c8ed-126">Todas las invocaciones requieren el permiso `EXECUTE`, a menos que tengan lugar dentro del mismo objeto; esto significa que las llamadas dentro del mismo ensamblado no requieren comprobaciones de permisos.</span><span class="sxs-lookup"><span data-stu-id="4c8ed-126">All invocations require `EXECUTE` permission unless the invocations occur within the same object; this means that calls within the same assembly do not require any permission checks.</span></span> <span data-ttu-id="4c8ed-127">Los permisos se comprueban en tiempo de ejecución.</span><span class="sxs-lookup"><span data-stu-id="4c8ed-127">The permission is checked at execution time.</span></span>  
  
2.  <span data-ttu-id="4c8ed-128">Los vínculos canalizados requieren el permiso `REFERENCE` en el destinatario cuando se crea el objeto de llamada.</span><span class="sxs-lookup"><span data-stu-id="4c8ed-128">Gated links require `REFERENCE` permission against the callee when the calling object is created.</span></span> <span data-ttu-id="4c8ed-129">El permiso se comprueba para el propietario del objeto de llamada cuando se crea el objeto.</span><span class="sxs-lookup"><span data-stu-id="4c8ed-129">The permission is checked for the owner of the calling object when the object is created.</span></span>  
  
3.  <span data-ttu-id="4c8ed-130">Los vínculos de acceso a tablas requieren el permiso `SELECT`, `INSERT`, `UPDATE` o `DELETE` correspondiente en la tabla o vista a la que se obtiene acceso.</span><span class="sxs-lookup"><span data-stu-id="4c8ed-130">Table-access links require the corresponding `SELECT`, `INSERT`, `UPDATE`, or `DELETE` permission against the table or view being accessed.</span></span>  
  
4.  <span data-ttu-id="4c8ed-131">El permiso se comprueba en el contexto de ejecución actual.</span><span class="sxs-lookup"><span data-stu-id="4c8ed-131">The permission is checked against the current execution context.</span></span> <span data-ttu-id="4c8ed-132">Pueden crearse procedimientos y funciones con un contexto de ejecución diferente al del autor de las llamadas.</span><span class="sxs-lookup"><span data-stu-id="4c8ed-132">Procedures and functions can be created with an execution context that is different from the caller.</span></span> <span data-ttu-id="4c8ed-133">Los ensamblados siempre se crean con el contexto de ejecución del procedimiento, función o desencadenador que se define en el mismo.</span><span class="sxs-lookup"><span data-stu-id="4c8ed-133">Assemblies are always created with the execution context of the procedure, function, or trigger that is defined against it.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="4c8ed-134">Consulte también</span><span class="sxs-lookup"><span data-stu-id="4c8ed-134">See Also</span></span>  
 [<span data-ttu-id="4c8ed-135">Seguridad de la integración CLR</span><span class="sxs-lookup"><span data-stu-id="4c8ed-135">CLR Integration Security</span></span>](../../relational-databases/clr-integration/security/clr-integration-security.md)  
  
  
