---
title: Modos de funcionamiento de la creación de reflejo de la base de datos | Microsoft Docs
ms.custom: ''
ms.date: 06/13/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: high-availability
ms.topic: conceptual
helpviewer_keywords:
- database mirroring [SQL Server], operating modes
ms.assetid: f8a579c2-55d7-4278-8088-f1da1de5b2e6
author: MikeRayMSFT
ms.author: mikeray
ms.openlocfilehash: c944b402b8b1ba9b78036d667ec728ccaf561a91
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 08/04/2020
ms.locfileid: "87663689"
---
# <a name="database-mirroring-operating-modes"></a><span data-ttu-id="f8c4e-102">Modos de funcionamiento de la creación de reflejo de la base de datos</span><span class="sxs-lookup"><span data-stu-id="f8c4e-102">Database Mirroring Operating Modes</span></span>
  <span data-ttu-id="f8c4e-103">En este tema se describen los modos de funcionamiento sincrónico y asincrónico para las sesiones de creación de reflejo de la base de datos.</span><span class="sxs-lookup"><span data-stu-id="f8c4e-103">This topic describes the synchronous and asynchronous operating modes for database mirroring sessions.</span></span>  
  
> [!NOTE]  
>  <span data-ttu-id="f8c4e-104">Para obtener una introducción a la creación de reflejo de la base de datos, vea [Creación de reflejo de la base de datos &#40;SQL Server&#41;](database-mirroring-sql-server.md).</span><span class="sxs-lookup"><span data-stu-id="f8c4e-104">For an introduction to database mirroring, see [Database Mirroring &#40;SQL Server&#41;](database-mirroring-sql-server.md).</span></span>  
  
 
  
##  <a name="terms-and-definitions"></a><a name="TermsAndDefinitions"></a> <span data-ttu-id="f8c4e-105">Términos y definiciones</span><span class="sxs-lookup"><span data-stu-id="f8c4e-105">Terms and Definitions</span></span>  
 <span data-ttu-id="f8c4e-106">En esta sección se presenta una serie de términos que son esenciales para este tema.</span><span class="sxs-lookup"><span data-stu-id="f8c4e-106">This section introduces a few terms that are central to this topic.</span></span>  
  
 <span data-ttu-id="f8c4e-107">Modo de alto rendimiento</span><span class="sxs-lookup"><span data-stu-id="f8c4e-107">High-performance mode</span></span>  
 <span data-ttu-id="f8c4e-108">La sesión de creación de reflejo de la base de datos funciona asincrónicamente y usa solo el servidor principal y el servidor reflejado.</span><span class="sxs-lookup"><span data-stu-id="f8c4e-108">The database mirroring session operates asynchronously and uses only the principal server and mirror server.</span></span> <span data-ttu-id="f8c4e-109">La única forma de conmutación de roles es el servicio forzado (con posible pérdida de datos).</span><span class="sxs-lookup"><span data-stu-id="f8c4e-109">The only form of role switching is forced service (with possible data loss).</span></span>  
  
 <span data-ttu-id="f8c4e-110">modo Alta seguridad</span><span class="sxs-lookup"><span data-stu-id="f8c4e-110">High-safety mode</span></span>  
 <span data-ttu-id="f8c4e-111">La sesión de creación de reflejo de la base de datos funciona sincrónicamente y, de forma opcional, usa un testigo, así como el servidor principal y el servidor reflejado.</span><span class="sxs-lookup"><span data-stu-id="f8c4e-111">The database mirroring session operates synchronously and, optionally, uses a witness, as well as the principal server and mirror server.</span></span>  
  
 <span data-ttu-id="f8c4e-112">Seguridad de las transacciones</span><span class="sxs-lookup"><span data-stu-id="f8c4e-112">Transaction safety</span></span>  
 <span data-ttu-id="f8c4e-113">Propiedad de base de datos específica de la creación de reflejo que determina si una sesión de creación de reflejo de la base de datos funciona de forma sincrónica o asincrónica.</span><span class="sxs-lookup"><span data-stu-id="f8c4e-113">A mirroring-specific database property that determines whether a database mirroring session operates synchronously or asynchronously.</span></span> <span data-ttu-id="f8c4e-114">Hay dos niveles de seguridad: FULL y OFF.</span><span class="sxs-lookup"><span data-stu-id="f8c4e-114">There are two safety levels: FULL and OFF.</span></span>  
  
 <span data-ttu-id="f8c4e-115">Testigo</span><span class="sxs-lookup"><span data-stu-id="f8c4e-115">Witness</span></span>  
 <span data-ttu-id="f8c4e-116">Para su uso únicamente con el modo de alta seguridad, instancia opcional de SQL Server que habilita al servidor reflejado para que reconozca si se debe iniciar una conmutación automática por error.</span><span class="sxs-lookup"><span data-stu-id="f8c4e-116">For use only with high-safety mode, an optional instance of SQL Server that enables the mirror server to recognize whether to initiate an automatic failover.</span></span> <span data-ttu-id="f8c4e-117">A diferencia de los dos asociados de conmutación por error, el testigo no sirve a la base de datos.</span><span class="sxs-lookup"><span data-stu-id="f8c4e-117">Unlike the two failover partners, the witness does not serve the database.</span></span> <span data-ttu-id="f8c4e-118">El único rol del testigo es hacer posible la conmutación automática por error.</span><span class="sxs-lookup"><span data-stu-id="f8c4e-118">Supporting automatic failover is the only role of the witness.</span></span>  
  
##  <a name="asynchronous-database-mirroring-high-performance-mode"></a><a name="VisualElement"></a><span data-ttu-id="f8c4e-119">Creación de reflejo de la base de datos asincrónica (modo de alto rendimiento)</span><span class="sxs-lookup"><span data-stu-id="f8c4e-119">Asynchronous Database Mirroring (High-Performance Mode)</span></span>  
 <span data-ttu-id="f8c4e-120">En esta sección se describe cómo funciona la creación de reflejo de la base de datos asincrónica, cuándo es adecuado utilizar el modo de alto rendimiento y cómo responder si se produce un error en el servidor principal.</span><span class="sxs-lookup"><span data-stu-id="f8c4e-120">This section describes how asynchronous database mirroring works, when it is appropriate to use high-performance mode, and how to respond if the principal server fails.</span></span>  
  
> [!NOTE]  
>  <span data-ttu-id="f8c4e-121">La mayoría de las ediciones de [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)] solo admiten la creación de reflejo de la base de datos sincrónica (“Solo seguridad completa”).</span><span class="sxs-lookup"><span data-stu-id="f8c4e-121">Most editions of [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)] support only synchronous database mirroring ("Safety Full Only").</span></span> <span data-ttu-id="f8c4e-122">Para obtener información sobre las ediciones que admiten totalmente la creación de reflejo de la base de datos, vea "alta disponibilidad (AlwaysOn)" en [características compatibles con las ediciones de SQL Server 2014](../../getting-started/features-supported-by-the-editions-of-sql-server-2014.md).</span><span class="sxs-lookup"><span data-stu-id="f8c4e-122">For information about editions that fully support database mirroring, see "High Availability (AlwaysOn)" in [Features Supported by the Editions of SQL Server 2014](../../getting-started/features-supported-by-the-editions-of-sql-server-2014.md).</span></span>  
  
 <span data-ttu-id="f8c4e-123">Si la seguridad de las transacciones está configurada en OFF, la sesión de creación de reflejo de la base de datos funciona de forma asincrónica.</span><span class="sxs-lookup"><span data-stu-id="f8c4e-123">When transaction safety is set to OFF, the database mirroring session operates asynchronously.</span></span> <span data-ttu-id="f8c4e-124">La operación asincrónica solo admite el modo operativo de alto rendimiento.</span><span class="sxs-lookup"><span data-stu-id="f8c4e-124">Asynchronous operation supports only one operating mode-high-performance mode.</span></span> <span data-ttu-id="f8c4e-125">Este modo mejora el rendimiento a costa de la alta disponibilidad.</span><span class="sxs-lookup"><span data-stu-id="f8c4e-125">This mode enhances performance at the expense of high availability.</span></span> <span data-ttu-id="f8c4e-126">El modo de alto rendimiento utiliza solamente el servidor principal y el servidor reflejado.</span><span class="sxs-lookup"><span data-stu-id="f8c4e-126">High-performance mode uses just the principal server and the mirror server.</span></span> <span data-ttu-id="f8c4e-127">Los problemas del servidor reflejado nunca afectan al servidor principal.</span><span class="sxs-lookup"><span data-stu-id="f8c4e-127">Problems on the mirror server never impact the principal server.</span></span> <span data-ttu-id="f8c4e-128">Al perderse el servidor principal, la base de datos reflejada se marca como DISCONNECTED, pero está disponible como base de datos en espera activa.</span><span class="sxs-lookup"><span data-stu-id="f8c4e-128">On the loss of the principal server, the mirror database is marked DISCONNECTED but is available as a warm standby.</span></span>  
  
 <span data-ttu-id="f8c4e-129">El modo de alto rendimiento solo admite un formato de conmutación de roles: el servicio forzado (con posible pérdida de datos), que utiliza el servidor reflejado como servidor en estado de espera activa.</span><span class="sxs-lookup"><span data-stu-id="f8c4e-129">High-performance mode, supports only one form of role switching: forced service (with possible data loss), which uses the mirror server as a warm standby server.</span></span> <span data-ttu-id="f8c4e-130">El servicio forzado es una de las posibles respuestas a los errores del servidor principal.</span><span class="sxs-lookup"><span data-stu-id="f8c4e-130">Forced service is one of the possible responses to the failure of the principal server.</span></span> <span data-ttu-id="f8c4e-131">Dado que es posible la pérdida de datos, debe considerar otras alternativas antes de forzar el servicio en el servidor reflejado.</span><span class="sxs-lookup"><span data-stu-id="f8c4e-131">Because data loss is possible, you should consider other alternatives before forcing service to the mirror.</span></span> <span data-ttu-id="f8c4e-132">Para obtener más información, vea [Responder ante los errores del servidor principal](#WhenPrincipalFails), más adelante en este tema.</span><span class="sxs-lookup"><span data-stu-id="f8c4e-132">For more information, see [Responding to Failure of the Principal](#WhenPrincipalFails), later in this topic.</span></span>  
  
 <span data-ttu-id="f8c4e-133">En la siguiente ilustración se muestra la configuración de una sesión con el modo de alto rendimiento.</span><span class="sxs-lookup"><span data-stu-id="f8c4e-133">The following figure shows the configuration of a session using high-performance mode.</span></span>  
  
 <span data-ttu-id="f8c4e-134">![Configuración de solo asociado de una sesión](../media/dbm-high-performance-mode.gif "Configuración de solo asociado de una sesión")</span><span class="sxs-lookup"><span data-stu-id="f8c4e-134">![Partner-only configuration of a session](../media/dbm-high-performance-mode.gif "Partner-only configuration of a session")</span></span>  
  
 <span data-ttu-id="f8c4e-135">En el modo de alto rendimiento, en cuanto el servidor principal envía el registro de una transacción al servidor reflejado, el servidor principal envía una confirmación al cliente, sin esperar una confirmación del servidor reflejado.</span><span class="sxs-lookup"><span data-stu-id="f8c4e-135">In high-performance mode, as soon as the principal server sends the log for a transaction to the mirror server, the principal server sends a confirmation to the client, without waiting for an acknowledgement from the mirror server.</span></span> <span data-ttu-id="f8c4e-136">Las transacciones se confirman sin esperar a que el servidor reflejado escriba el registro en el disco.</span><span class="sxs-lookup"><span data-stu-id="f8c4e-136">Transactions commit without waiting for the mirror server to write the log to disk.</span></span> <span data-ttu-id="f8c4e-137">La operación asincrónica permite que el servidor principal se ejecute con la mínima latencia de transacciones.</span><span class="sxs-lookup"><span data-stu-id="f8c4e-137">Asynchronous operation permits the principal server to run with minimum transaction latency.</span></span>  
  
 <span data-ttu-id="f8c4e-138">El servidor reflejado intenta hacer frente a las entradas de registro enviadas por el servidor principal.</span><span class="sxs-lookup"><span data-stu-id="f8c4e-138">The mirror server attempts to keep up with the log records sent by the principal server.</span></span> <span data-ttu-id="f8c4e-139">Sin embargo, la base de datos reflejada puede retrasarse un poco con respecto a la base de datos principal, aunque la diferencia entra ambas suele ser pequeña.</span><span class="sxs-lookup"><span data-stu-id="f8c4e-139">But the mirror database might lag somewhat behind the principal database, though typically the gap between the databases is small.</span></span> <span data-ttu-id="f8c4e-140">No obstante, la diferencia puede ser considerable si el servidor principal soporta una gran carga de trabajo o el sistema del servidor reflejado se encuentra sobrecargado.</span><span class="sxs-lookup"><span data-stu-id="f8c4e-140">However, the gap can become substantial if the principal server is under a heavy work load or the system of the mirror server is over loaded.</span></span>  
  
 
  
###  <a name="when-is-high-performance-mode-appropriate"></a><a name="WhenUseHighPerf"></a> <span data-ttu-id="f8c4e-141">Cuándo está indicado utilizar el modo de alto rendimiento</span><span class="sxs-lookup"><span data-stu-id="f8c4e-141">When Is High-Performance Mode Appropriate?</span></span>  
 <span data-ttu-id="f8c4e-142">El modo de alto rendimiento puede resultar útil en un caso de recuperación de desastres en el que los servidores principal y reflejado se encuentran separados por una distancia considerable y no se desea que los pequeños errores afecten al servidor principal.</span><span class="sxs-lookup"><span data-stu-id="f8c4e-142">High-performance mode can be useful in a disaster-recovery scenario in which the principal and mirror servers are separated by a significant distance and where you do not want small errors to impact the principal server.</span></span>  
  
> [!NOTE]  
>  <span data-ttu-id="f8c4e-143">El trasvase de registros puede complementar a la creación de reflejo de la base de datos y es una alternativa conveniente a la creación asincrónica de reflejo de la base de datos.</span><span class="sxs-lookup"><span data-stu-id="f8c4e-143">Log shipping can be a supplement to database mirroring and is a favorable alternative to asynchronous database mirroring.</span></span> <span data-ttu-id="f8c4e-144">Para obtener información sobre las ventajas del trasvase de registros, vea [Soluciones de alta disponibilidad &#40;SQL Server&#41;](../../sql-server/failover-clusters/high-availability-solutions-sql-server.md).</span><span class="sxs-lookup"><span data-stu-id="f8c4e-144">For information about the advantages of log shipping, see [High Availability Solutions &#40;SQL Server&#41;](../../sql-server/failover-clusters/high-availability-solutions-sql-server.md).</span></span> <span data-ttu-id="f8c4e-145">Para obtener información sobre cómo usar el trasvase de registros con la creación de reflejo de la base de datos, vea [Crear reflejo de la base de datos y trasvase de registros &#40;SQL Server&#41;](database-mirroring-and-log-shipping-sql-server.md).</span><span class="sxs-lookup"><span data-stu-id="f8c4e-145">For information on using log shipping with database mirroring, see [Database Mirroring and Log Shipping &#40;SQL Server&#41;](database-mirroring-and-log-shipping-sql-server.md).</span></span>  
  
###  <a name="the-impact-of-a-witness-on-high-performance-mode"></a><a name="WitnessImpactOnHighPerf"></a> <span data-ttu-id="f8c4e-146">El impacto de un testigo en el modo de alto rendimiento</span><span class="sxs-lookup"><span data-stu-id="f8c4e-146">The Impact of a Witness on High-Performance Mode</span></span>  
 <span data-ttu-id="f8c4e-147">Si se utiliza Transact-SQL para configurar el modo de alto rendimiento, siempre que la propiedad SAFETY esté establecida en OFF, se recomienda encarecidamente que la propiedad WITNESS también se establezca en OFF.</span><span class="sxs-lookup"><span data-stu-id="f8c4e-147">If you use Transact-SQL to configure high-performance mode, whenever the SAFETY property is set to OFF, we strongly recommend that the WITNESS property also be set to OFF.</span></span> <span data-ttu-id="f8c4e-148">Un testigo puede coexistir con el modo de alto rendimiento, pero no proporciona ventaja alguna y genera riesgo.</span><span class="sxs-lookup"><span data-stu-id="f8c4e-148">A witness can coexist with high-performance mode, but the witness provides no benefit and introduces risk.</span></span>  
  
 <span data-ttu-id="f8c4e-149">Si el testigo está desconectado de la sesión y uno de los asociados se bloquea, la base de datos no estará disponible.</span><span class="sxs-lookup"><span data-stu-id="f8c4e-149">If the witness is disconnected from the session when either partner goes down, the database becomes unavailable.</span></span> <span data-ttu-id="f8c4e-150">Esto es así porque, aun cuando el modo de alto rendimiento no necesita un testigo, si se establece uno, la sesión requiere un quórum compuesto de dos o más instancias de servidor.</span><span class="sxs-lookup"><span data-stu-id="f8c4e-150">This is because, even though high-performance mode does not require a witness, if one is set, the session requires a quorum consisting of two or more server instances.</span></span> <span data-ttu-id="f8c4e-151">Si la sesión pierde el quórum, no puede servir a la base de datos.</span><span class="sxs-lookup"><span data-stu-id="f8c4e-151">If the session losses quorum, it cannot serve the database.</span></span>  
  
 <span data-ttu-id="f8c4e-152">Cuando se establece un testigo en una sesión en modo de alto rendimiento, la aplicación de quórum implica que:</span><span class="sxs-lookup"><span data-stu-id="f8c4e-152">When a witness is set in a high-performance mode session, the enforcement of quorum means that:</span></span>  
  
-   <span data-ttu-id="f8c4e-153">Si se pierde el servidor reflejado, el servidor principal se debe conectar al testigo.</span><span class="sxs-lookup"><span data-stu-id="f8c4e-153">If the mirror server is lost, the principal server must be connected to the witness.</span></span> <span data-ttu-id="f8c4e-154">De lo contrario, el servidor principal mantiene su base de datos sin conexión hasta que el testigo o el servidor reflejado vuelven a unirse a la sesión.</span><span class="sxs-lookup"><span data-stu-id="f8c4e-154">Otherwise, the principal server takes its database offline until either the witness or mirror server rejoins the session.</span></span>  
  
-   <span data-ttu-id="f8c4e-155">Si se pierde el servidor principal, forzar el servicio en el servidor reflejado requiere que éste se conecte al testigo.</span><span class="sxs-lookup"><span data-stu-id="f8c4e-155">If the principal server is lost, forcing service to the mirror server requires that the mirror server be connected to the witness.</span></span>  
  
> [!NOTE]  
>  <span data-ttu-id="f8c4e-156">Para obtener información sobre los tipos de cuórum, vea [Cuórum: cómo un testigo afecta a la disponibilidad de la base de datos &#40;creación de reflejo de la base de datos&#41;](quorum-how-a-witness-affects-database-availability-database-mirroring.md).</span><span class="sxs-lookup"><span data-stu-id="f8c4e-156">For information about the types of quorums, see [Quorum: How a Witness Affects Database Availability &#40;Database Mirroring&#41;](quorum-how-a-witness-affects-database-availability-database-mirroring.md).</span></span>  
  
###  <a name="responding-to-failure-of-the-principal"></a><a name="WhenPrincipalFails"></a> <span data-ttu-id="f8c4e-157">Responder ante los errores del servidor principal</span><span class="sxs-lookup"><span data-stu-id="f8c4e-157">Responding to Failure of the Principal</span></span>  
 <span data-ttu-id="f8c4e-158">Si se produce un error en el servidor principal, el propietario de la base de datos tiene varias opciones:</span><span class="sxs-lookup"><span data-stu-id="f8c4e-158">When the principal fails, the database owner has several choices, as follows:</span></span>  
  
-   <span data-ttu-id="f8c4e-159">Dejar la base de datos inactiva hasta que el servidor principal vuelva a estar disponible.</span><span class="sxs-lookup"><span data-stu-id="f8c4e-159">Leave the database unavailable until the principal becomes available again.</span></span>  
  
     <span data-ttu-id="f8c4e-160">Si la base de datos principal y su registro de transacciones están intactos, esta opción conserva todas las transacciones confirmadas a costa de la disponibilidad.</span><span class="sxs-lookup"><span data-stu-id="f8c4e-160">If the principal database and its transaction log are intact, this choice preserves all of the committed transactions at the expense of availability.</span></span>  
  
-   <span data-ttu-id="f8c4e-161">Detener la sesión de creación de reflejo de la base de datos, actualizar manualmente la base de datos y, después, iniciar una nueva sesión de creación de reflejo.</span><span class="sxs-lookup"><span data-stu-id="f8c4e-161">Stop the database mirroring session, manually update the database, and then begin a new database mirroring session.</span></span>  
  
     <span data-ttu-id="f8c4e-162">Si la base de datos principal se pierde pero el servidor principal sigue en funcionamiento, intente inmediatamente realizar una copia de seguridad del final del registro en la base de datos principal.</span><span class="sxs-lookup"><span data-stu-id="f8c4e-162">If the principal database is lost but the principal server is still running, immediately attempt to back up the tail of the log on the principal database.</span></span> <span data-ttu-id="f8c4e-163">Si la copia del final del registro se realiza correctamente, la mejor opción puede ser eliminar la creación de reflejo.</span><span class="sxs-lookup"><span data-stu-id="f8c4e-163">If the tail-log backup succeeds, removing mirroring may be your best alternative.</span></span> <span data-ttu-id="f8c4e-164">Tras eliminar la creación de reflejo, puede restaurar el registro en la base de datos reflejada anterior, que conserva todos los datos.</span><span class="sxs-lookup"><span data-stu-id="f8c4e-164">After removing mirroring, you can restore the log onto the former mirror database, which preserves all of the data.</span></span>  
  
    > [!NOTE]  
    >  <span data-ttu-id="f8c4e-165">Si no se puede realizar la copia del final del registro y no puede esperar a que el servidor principal se recupere, considere la posibilidad de forzar el servicio, que ofrece la ventaja de mantener el estado de la sesión.</span><span class="sxs-lookup"><span data-stu-id="f8c4e-165">If the tail-log backup failed and you cannot wait for the principal server to recover, consider forcing service, which has the advantage of maintaining the session state.</span></span>  
  
-   <span data-ttu-id="f8c4e-166">Forzar el servicio (con posible pérdida de datos) en el servidor reflejado.</span><span class="sxs-lookup"><span data-stu-id="f8c4e-166">Force service (with possible data loss) on the mirror server.</span></span>  
  
     <span data-ttu-id="f8c4e-167">El servicio forzado es estrictamente un método de recuperación de desastres y no se debe utilizar demasiado a menudo.</span><span class="sxs-lookup"><span data-stu-id="f8c4e-167">Forced service is strictly a disaster recovery method and should be used sparingly.</span></span> <span data-ttu-id="f8c4e-168">Solo es posible forzar el servicio si el servidor principal está inactivo, la sesión es asincrónica (la seguridad de transacciones está configurada en OFF) y la sesión no tiene un testigo (la propiedad WITNESS está configurada en OFF) o el testigo se ha conectado al servidor reflejado (esto es, hay quórum).</span><span class="sxs-lookup"><span data-stu-id="f8c4e-168">Forcing service is possible only if the principal server is down, the session is asynchronous (transaction safety is set to OFF), and either the session does not have any witness (the WITNESS property is set to OFF) or the witness is connected to the mirror server (that is, they have quorum).</span></span>  
  
     <span data-ttu-id="f8c4e-169">Al forzar el servicio, el servidor reflejado asume el rol de servidor principal y ofrece su copia de la base de datos a los clientes.</span><span class="sxs-lookup"><span data-stu-id="f8c4e-169">Forcing service causes the mirror server to assume the role of principal and serve its copy of the database for clients.</span></span> <span data-ttu-id="f8c4e-170">Una vez forzado el servicio, los registros de transacciones que el servidor principal no haya enviado todavía al servidor reflejado se pierden.</span><span class="sxs-lookup"><span data-stu-id="f8c4e-170">When service is forced, whatever transaction logs the principal has not yet sent to the mirror server are lost.</span></span> <span data-ttu-id="f8c4e-171">Por lo tanto, el servicio forzado debe limitarse a situaciones en las que sea aceptable la posible pérdida de datos y sea crucial la disponibilidad inmediata de la base de datos.</span><span class="sxs-lookup"><span data-stu-id="f8c4e-171">Therefore, you should limit forced service to situations where possible data loss is acceptable and immediate database availability is critical.</span></span> <span data-ttu-id="f8c4e-172">Para obtener información sobre cómo funciona el servicio forzado y las prácticas recomendadas para su uso, vea [Conmutación de roles durante una sesión de creación de reflejo de la base de datos &#40;SQL Server&#41;](role-switching-during-a-database-mirroring-session-sql-server.md).</span><span class="sxs-lookup"><span data-stu-id="f8c4e-172">For information on how forced service works and on best practices for using it, see [Role Switching During a Database Mirroring Session &#40;SQL Server&#41;](role-switching-during-a-database-mirroring-session-sql-server.md).</span></span>  
  
##  <a name="synchronous-database-mirroring-high-safety-mode"></a><a name="Sync"></a> <span data-ttu-id="f8c4e-173">Creación de reflejo sincrónico de la base de datos (modo de alta seguridad)</span><span class="sxs-lookup"><span data-stu-id="f8c4e-173">Synchronous Database Mirroring (High-Safety Mode)</span></span>  
 <span data-ttu-id="f8c4e-174">En esta sección se describe cómo funciona la creación de reflejo de la base de datos sincrónica, incluidos los modos de alta seguridad alternativos (con y sin conmutación automática por error), y contiene información sobre el rol del testigo en la conmutación automática por error.</span><span class="sxs-lookup"><span data-stu-id="f8c4e-174">This section describes how synchronous database mirroring works, including the alternative high-safety modes (with automatic failover and without automatic failover), and contains information about the role of the witness in automatic failover.</span></span>  
  
 <span data-ttu-id="f8c4e-175">Cuando la seguridad de las transacciones se define como FULL, la sesión de creación de reflejo de la base de datos se ejecuta en modo de alta seguridad y funciona de forma sincrónica después de una fase inicial de sincronización.</span><span class="sxs-lookup"><span data-stu-id="f8c4e-175">When transaction safety is set to FULL, the database mirroring session runs in high-safety mode and operates synchronously after an initial synchronizing phase.</span></span> <span data-ttu-id="f8c4e-176">En esta sección se describen los detalles de las sesiones de creación de reflejo de la base de datos que están configuradas para el funcionamiento sincrónico.</span><span class="sxs-lookup"><span data-stu-id="f8c4e-176">This section describes the details of database mirroring sessions that are configured for synchronous operation.</span></span>  
  
 <span data-ttu-id="f8c4e-177">Para que una sesión funcione de forma sincrónica, el servidor reflejado debe sincronizar la base de datos reflejada con la base de datos principal.</span><span class="sxs-lookup"><span data-stu-id="f8c4e-177">To achieve synchronous operation for a session, the mirror server must synchronize the mirror database with the principal database.</span></span> <span data-ttu-id="f8c4e-178">Cuando la sesión se inicia, el servidor principal comienza a enviar su registro activo al servidor reflejado.</span><span class="sxs-lookup"><span data-stu-id="f8c4e-178">When the session begins, the principal server begins sending its active log to the mirror server.</span></span> <span data-ttu-id="f8c4e-179">El servidor reflejado escribe todos los registros de entrada en el disco lo antes posible.</span><span class="sxs-lookup"><span data-stu-id="f8c4e-179">The mirror server writes all of the incoming log records to disk as quickly as possible.</span></span> <span data-ttu-id="f8c4e-180">Las bases de datos se sincronizan cuando todos los registros recibidos se escriben en el disco.</span><span class="sxs-lookup"><span data-stu-id="f8c4e-180">As soon as all of the received log records have been written to disk, the databases are synchronized.</span></span> <span data-ttu-id="f8c4e-181">Las bases de datos se sincronizan siempre y cuando los asociados permanezcan en comunicación.</span><span class="sxs-lookup"><span data-stu-id="f8c4e-181">As long as the partners remain in communication, the databases remain synchronized.</span></span>  
  
> [!NOTE]  
>  <span data-ttu-id="f8c4e-182">Utilice la clase de eventos **Database Mirroring State Change** para supervisar los cambios de estado en una sesión de creación de reflejo de la base de datos.</span><span class="sxs-lookup"><span data-stu-id="f8c4e-182">To monitor state changes in a database mirroring session, use the **Database Mirroring State Change** event class.</span></span> <span data-ttu-id="f8c4e-183">Para obtener más información, consulte [Database Mirroring State Change Event Class](../../relational-databases/event-classes/database-mirroring-state-change-event-class.md).</span><span class="sxs-lookup"><span data-stu-id="f8c4e-183">For more information, see [Database Mirroring State Change Event Class](../../relational-databases/event-classes/database-mirroring-state-change-event-class.md).</span></span>  
  
 <span data-ttu-id="f8c4e-184">Cuando finaliza la sincronización, cada transacción confirmada en la base de datos de principal también se confirma en el servidor reflejado, garantizando así la protección de los datos.</span><span class="sxs-lookup"><span data-stu-id="f8c4e-184">After synchronization finishes, every transaction committed on the principal database is also committed on the mirror server, guaranteeing protection of the data.</span></span> <span data-ttu-id="f8c4e-185">Esto se consigue esperando la confirmación de una transacción en la base de datos principal hasta que el servidor principal recibe un mensaje del servidor reflejado indicando que ha reforzado el registro de transacciones en el disco.</span><span class="sxs-lookup"><span data-stu-id="f8c4e-185">This is achieved by waiting to commit a transaction on the principal database, until the principal server receives a message from the mirror server stating that it has hardened the transaction's log to disk.</span></span> <span data-ttu-id="f8c4e-186">Tenga en cuenta que la espera de este mensaje aumenta la latencia de la transacción.</span><span class="sxs-lookup"><span data-stu-id="f8c4e-186">Note the wait for this message increases the latency of the transaction.</span></span>  
  
 <span data-ttu-id="f8c4e-187">El tiempo necesario para la sincronización depende básicamente de la diferencia entre la base de datos reflejada y la base de datos principal en el momento de iniciar la sesión (diferencia calculada por el número de registros inicialmente recibidos del servidor principal), la carga de trabajo en la base de datos principal y la velocidad del sistema reflejo.</span><span class="sxs-lookup"><span data-stu-id="f8c4e-187">The time required for synchronization depends essentially on how far the mirror database was behind the principal database at the start of the session (measured by the number of log records initially received from the principal server), the work load on the principal database, and the speed of the mirror system.</span></span> <span data-ttu-id="f8c4e-188">Una vez sincronizada una sesión, el registro reforzado que aún debe rehacerse en la base de datos reflejada permanece en la cola de puesta al día.</span><span class="sxs-lookup"><span data-stu-id="f8c4e-188">After a session is synchronized, the hardened log that has yet to be redone on the mirror database remains in the redo queue.</span></span>  
  
 <span data-ttu-id="f8c4e-189">En cuanto se sincroniza la base de datos reflejada, el estado de ambas copias de base de datos cambia a SYNCHRONIZED.</span><span class="sxs-lookup"><span data-stu-id="f8c4e-189">As soon as the mirror database becomes synchronized, the state of both the copies of the database changes to SYNCHRONIZED.</span></span>  
  
 <span data-ttu-id="f8c4e-190">La operación sincrónica se mantiene de la siguiente manera:</span><span class="sxs-lookup"><span data-stu-id="f8c4e-190">Synchronous operation is maintained in the following manner:</span></span>  
  
1.  <span data-ttu-id="f8c4e-191">Al recibir una transacción de un cliente, el servidor principal escribe el registro para la transacción en el registro de transacciones.</span><span class="sxs-lookup"><span data-stu-id="f8c4e-191">On receiving a transaction from a client, the principal server writes the log for the transaction to the transaction log.</span></span>  
  
2.  <span data-ttu-id="f8c4e-192">El servidor principal escribe la transacción en la base de datos y, al mismo tiempo, envía el registro al servidor reflejado.</span><span class="sxs-lookup"><span data-stu-id="f8c4e-192">The principal server writes the transaction to the database and, concurrently, sends the log record to the mirror server.</span></span> <span data-ttu-id="f8c4e-193">El servidor principal espera el reconocimiento del servidor reflejado antes de confirmar cualquiera de los elementos siguientes al cliente: una confirmación de transacción o una reversión.</span><span class="sxs-lookup"><span data-stu-id="f8c4e-193">The principal server waits for an acknowledgement from the mirror server before confirming either of the following to the client: a transaction commit or a rollback.</span></span>  
  
3.  <span data-ttu-id="f8c4e-194">El servidor reflejado refuerza el registro en el disco y devuelve un reconocimiento al servidor principal.</span><span class="sxs-lookup"><span data-stu-id="f8c4e-194">The mirror server hardens the log to disk and returns an acknowledgement to the principal server.</span></span>  
  
4.  <span data-ttu-id="f8c4e-195">Al recibir el reconocimiento del servidor reflejado, el servidor principal envía un mensaje de confirmación al cliente.</span><span class="sxs-lookup"><span data-stu-id="f8c4e-195">On receiving the acknowledgement from the mirror server, the principal server sends a confirmation message to the client.</span></span>  
  
 <span data-ttu-id="f8c4e-196">El modo de alta seguridad protege los datos al hacer que sea necesario sincronizar los datos de dos lugares.</span><span class="sxs-lookup"><span data-stu-id="f8c4e-196">High-safety mode protects your data by requiring the data to be synchronized between two places.</span></span> <span data-ttu-id="f8c4e-197">Se garantiza que todas las transacciones confirmadas serán escritas en el disco del servidor reflejado.</span><span class="sxs-lookup"><span data-stu-id="f8c4e-197">All the committed transactions are guaranteed to be written to disk on the mirror server.</span></span>  
  

  
###  <a name="high-safety-mode-without-automatic-failover"></a><a name="HighSafetyWithOutAutoFailover"></a> <span data-ttu-id="f8c4e-198">Modo de alta seguridad sin conmutación automática por error</span><span class="sxs-lookup"><span data-stu-id="f8c4e-198">High-Safety Mode Without Automatic Failover</span></span>  
 <span data-ttu-id="f8c4e-199">En la siguiente ilustración se muestra la configuración del modo de alta seguridad sin conmutación automática por error.</span><span class="sxs-lookup"><span data-stu-id="f8c4e-199">The following figure shows the configuration of high-safety mode without automatic failover.</span></span> <span data-ttu-id="f8c4e-200">La configuración solo consta de dos asociados.</span><span class="sxs-lookup"><span data-stu-id="f8c4e-200">The configuration consists of only the two partners.</span></span>  
  
 <span data-ttu-id="f8c4e-201">![Asociados comunicándose sin ningún testigo](../media/dbm-high-protection-mode.gif "Asociados comunicándose sin ningún testigo")</span><span class="sxs-lookup"><span data-stu-id="f8c4e-201">![Partners communicating without a witness](../media/dbm-high-protection-mode.gif "Partners communicating without a witness")</span></span>  
  
 <span data-ttu-id="f8c4e-202">Cuando los asociados están conectados y la base de datos ya está sincronizada, se admite la conmutación por error manual.</span><span class="sxs-lookup"><span data-stu-id="f8c4e-202">When the partners are connected and the database is already synchronized, manual failover is supported.</span></span> <span data-ttu-id="f8c4e-203">Si la instancia del servidor reflejado se bloquea, la instancia de servidor principal no se ve afectada y queda expuesta (sin reflejar los datos).</span><span class="sxs-lookup"><span data-stu-id="f8c4e-203">If the mirror server instance goes down, the principal server instance is unaffected and runs exposed (that is without mirroring the data).</span></span> <span data-ttu-id="f8c4e-204">Si se pierde el servidor principal, el reflejo se suspende, pero el servicio puede forzarse en el servidor reflejado (con una posible pérdida de datos).</span><span class="sxs-lookup"><span data-stu-id="f8c4e-204">If the principal server is lost, the mirror is suspended, but service can be forced to the mirror server (with possible data loss).</span></span> <span data-ttu-id="f8c4e-205">Para obtener más información, vea [Conmutación de roles durante una sesión de creación de reflejo de la base de datos &#40;SQL Server&#41;](role-switching-during-a-database-mirroring-session-sql-server.md).</span><span class="sxs-lookup"><span data-stu-id="f8c4e-205">For more information, see [Role Switching During a Database Mirroring Session &#40;SQL Server&#41;](role-switching-during-a-database-mirroring-session-sql-server.md).</span></span>  
  
###  <a name="high-safety-mode-with-automatic-failover"></a><a name="HighSafetyWithAutoFailover"></a> <span data-ttu-id="f8c4e-206">Modo de alta seguridad con conmutación automática por error</span><span class="sxs-lookup"><span data-stu-id="f8c4e-206">High-Safety Mode with Automatic Failover</span></span>  
 <span data-ttu-id="f8c4e-207">La conmutación automática por error ofrece una alta disponibilidad al garantizar que se pueda servir a la base de datos incluso después de la pérdida de un servidor.</span><span class="sxs-lookup"><span data-stu-id="f8c4e-207">Automatic failover provides high availability by ensuring that the database is still served after the loss of one server.</span></span> <span data-ttu-id="f8c4e-208">La conmutación automática por error requiere que la sesión disponga de una tercera instancia de servidor, el *testigo*, que idealmente reside en un tercer equipo.</span><span class="sxs-lookup"><span data-stu-id="f8c4e-208">Automatic failover requires that the session possess a third server instance, the *witness*, which ideally resides on a third computer.</span></span> <span data-ttu-id="f8c4e-209">En la siguiente ilustración se muestra la configuración de una sesión en modo de alta seguridad que admite la conmutación automática por error.</span><span class="sxs-lookup"><span data-stu-id="f8c4e-209">The following figure shows the configuration of a high-safety mode session that supports automatic failover.</span></span>  
  
 <span data-ttu-id="f8c4e-210">![El testigo y dos asociados de una sesión](../media/dbm-high-availability-mode.gif "El testigo y dos asociados de una sesión")</span><span class="sxs-lookup"><span data-stu-id="f8c4e-210">![The witness and two partners of a session](../media/dbm-high-availability-mode.gif "The witness and two partners of a session")</span></span>  
  
 <span data-ttu-id="f8c4e-211">A diferencia de los dos asociados, el testigo no sirve a la base de datos.</span><span class="sxs-lookup"><span data-stu-id="f8c4e-211">Unlike the two partners, the witness does not serve the database.</span></span> <span data-ttu-id="f8c4e-212">El testigo simplemente admite la conmutación automática por error al comprobar que el servidor principal se encuentre activo y en funcionamiento.</span><span class="sxs-lookup"><span data-stu-id="f8c4e-212">The witness simply supports automatic failover by verifying whether the principal server is up and functioning.</span></span> <span data-ttu-id="f8c4e-213">El servidor reflejado inicia la conmutación automática por error solo si éste y el testigo permanecen mutuamente conectados después de haberse desconectado del servidor principal.</span><span class="sxs-lookup"><span data-stu-id="f8c4e-213">The mirror server initiates automatic failover only if the mirror and the witness remain connected to each other after both have been disconnected from the principal server.</span></span>  
  
 <span data-ttu-id="f8c4e-214">Cuando se define un testigo, la sesión requiere *quórum*, una relación entre al menos dos instancias de servidor que permite que la base de datos pueda estar disponible.</span><span class="sxs-lookup"><span data-stu-id="f8c4e-214">When a witness is set, the session requires *quorum*-a relationship between at least two server instances that allows the database to be made available.</span></span> <span data-ttu-id="f8c4e-215">Para obtener más información, vea [Testigo de creación de reflejo de la base de datos](database-mirroring-witness.md) y [Cuórum: cómo un testigo afecta a la disponibilidad de la base de datos &#40;creación de reflejo de la base de datos&#41;](quorum-how-a-witness-affects-database-availability-database-mirroring.md).</span><span class="sxs-lookup"><span data-stu-id="f8c4e-215">For more information, see [Database Mirroring Witness](database-mirroring-witness.md) and [Quorum: How a Witness Affects Database Availability &#40;Database Mirroring&#41;](quorum-how-a-witness-affects-database-availability-database-mirroring.md).</span></span>  
  
 <span data-ttu-id="f8c4e-216">La conmutación automática por error requiere las condiciones siguientes:</span><span class="sxs-lookup"><span data-stu-id="f8c4e-216">Automatic failover requires the following conditions:</span></span>  
  
-   <span data-ttu-id="f8c4e-217">La base de datos ya está sincronizada.</span><span class="sxs-lookup"><span data-stu-id="f8c4e-217">The database is already synchronized.</span></span>  
  
-   <span data-ttu-id="f8c4e-218">El error se produce mientras están conectadas las tres instancias de servidor, y el servidor testigo y el reflejado permanecen conectados.</span><span class="sxs-lookup"><span data-stu-id="f8c4e-218">The failure occurs while all three server instances are connected, and the witness and mirror server remain connected.</span></span>  
  
 <span data-ttu-id="f8c4e-219">La pérdida de un asociado tiene el siguiente efecto:</span><span class="sxs-lookup"><span data-stu-id="f8c4e-219">The loss of a partner has the following effect:</span></span>  
  
-   <span data-ttu-id="f8c4e-220">Si la instancia de servidor principal no está disponible en las condiciones anteriores, se produce la conmutación automática por error.</span><span class="sxs-lookup"><span data-stu-id="f8c4e-220">If the principal server becomes unavailable under the above conditions, automatic failover occurs.</span></span> <span data-ttu-id="f8c4e-221">El servidor reflejado cambia al rol de principal y ofrece su base de datos como base de datos principal.</span><span class="sxs-lookup"><span data-stu-id="f8c4e-221">The mirror server switches to the role of principal, and it offers its database as the principal database.</span></span>  
  
-   <span data-ttu-id="f8c4e-222">Si el servidor principal no está disponible cuando estas condiciones no se cumplen, se puede forzar el servicio (con una posible pérdida de datos).</span><span class="sxs-lookup"><span data-stu-id="f8c4e-222">If the principal server becomes unavailable when those conditions are not met, forcing service (with possible data loss) might be possible.</span></span> <span data-ttu-id="f8c4e-223">Para obtener más información, vea [Conmutación de roles durante una sesión de creación de reflejo de la base de datos &#40;SQL Server&#41;](role-switching-during-a-database-mirroring-session-sql-server.md).</span><span class="sxs-lookup"><span data-stu-id="f8c4e-223">For more information, see [Role Switching During a Database Mirroring Session &#40;SQL Server&#41;](role-switching-during-a-database-mirroring-session-sql-server.md).</span></span>  
  
-   <span data-ttu-id="f8c4e-224">Si únicamente el servidor reflejado no está disponible, el principal y el testigo continúan.</span><span class="sxs-lookup"><span data-stu-id="f8c4e-224">If the only mirror server becomes unavailable, the principal and witness continue.</span></span>  
  
 <span data-ttu-id="f8c4e-225">Si la sesión pierde el testigo, el quórum requiere ambos asociados.</span><span class="sxs-lookup"><span data-stu-id="f8c4e-225">If the session loses its witness, quorum requires both partners.</span></span> <span data-ttu-id="f8c4e-226">Si uno de los asociados pierde el quórum, ambos lo pierden y la base de datos deja de estar disponible hasta que se restablece el quórum.</span><span class="sxs-lookup"><span data-stu-id="f8c4e-226">If either partner loses quorum, both partners lose quorum, and the database becomes unavailable until quorum is re-established.</span></span> <span data-ttu-id="f8c4e-227">El requisito de quórum garantiza que, en ausencia de un testigo, la base de datos no quede nunca *expuesta*, es decir, sin un reflejo.</span><span class="sxs-lookup"><span data-stu-id="f8c4e-227">This quorum requirement makes sure that in the absence of a witness the database never runs *exposed*, that is without being mirrored.</span></span>  
  
> [!NOTE]  
>  <span data-ttu-id="f8c4e-228">Si cree que el testigo va a permanecer desconectado durante bastante tiempo, se recomienda eliminarlo temporalmente de la sesión hasta que esté disponible.</span><span class="sxs-lookup"><span data-stu-id="f8c4e-228">If you expect the witness to remain disconnected for a significant amount of time, we recommend that you remove the witness from the session until it becomes available.</span></span>  
  
##  <a name="transact-sql-settings-and-database-mirroring-operating-modes"></a><a name="TsqlSettingsAndOpModes"></a> <span data-ttu-id="f8c4e-229">Configuración de Transact-SQL y modos de funcionamiento de la creación de reflejo de la base de datos</span><span class="sxs-lookup"><span data-stu-id="f8c4e-229">Transact-SQL Settings and Database Mirroring Operating Modes</span></span>  
 <span data-ttu-id="f8c4e-230">En esta sección se describe una sesión de creación de reflejo de la base de datos desde el punto de vista de la configuración de ALTER DATABASE y de los estados de la base de datos reflejada y del testigo, si existen.</span><span class="sxs-lookup"><span data-stu-id="f8c4e-230">This section describes a database mirroring session in terms of the ALTER DATABASE settings and states of the mirrored database and witness, if any.</span></span> <span data-ttu-id="f8c4e-231">Esta sección está dirigida a los usuarios que administran la creación de reflejo de la base de datos principal o exclusivamente mediante [!INCLUDE[tsql](../../includes/tsql-md.md)], en vez de mediante [!INCLUDE[ssManStudioFull](../../includes/ssmanstudiofull-md.md)].</span><span class="sxs-lookup"><span data-stu-id="f8c4e-231">The section is aimed at users who manage database mirroring primarily or exclusively using [!INCLUDE[tsql](../../includes/tsql-md.md)], rather than using [!INCLUDE[ssManStudioFull](../../includes/ssmanstudiofull-md.md)].</span></span>  
  
> [!TIP]  
>  <span data-ttu-id="f8c4e-232">Como alternativa al uso de [!INCLUDE[tsql](../../includes/tsql-md.md)], puede controlar el modo de funcionamiento de una sesión en el Explorador de objetos mediante la página **Creación de reflejos** del cuadro de diálogo **Propiedades de la base de datos** .</span><span class="sxs-lookup"><span data-stu-id="f8c4e-232">As an alternative to using [!INCLUDE[tsql](../../includes/tsql-md.md)], you can control the operating mode of a session in Object Explorer using the **Mirroring** page of the **Database Properties** dialog box.</span></span> <span data-ttu-id="f8c4e-233">Para obtener más información, vea [Establecer una sesión de creación de reflejo de la base de datos mediante la autenticación de Windows &#40;SQL Server Management Studio&#41;](establish-database-mirroring-session-windows-authentication.md).</span><span class="sxs-lookup"><span data-stu-id="f8c4e-233">For more information, see [Establish a Database Mirroring Session Using Windows Authentication &#40;SQL Server Management Studio&#41;](establish-database-mirroring-session-windows-authentication.md).</span></span>  
  

  
###  <a name="how-transaction-safety-and-witness-state-affect-the-operating-mode"></a><a name="TxnSafetyAndWitness"></a> <span data-ttu-id="f8c4e-234">Cómo la seguridad de transacción y el estado del testigo afectan al modo de funcionamiento</span><span class="sxs-lookup"><span data-stu-id="f8c4e-234">How Transaction Safety and Witness State Affect the Operating Mode</span></span>  
 <span data-ttu-id="f8c4e-235">El modo de funcionamiento de una sesión viene determinado por la combinación de su configuración de seguridad de las transacciones y el estado del testigo.</span><span class="sxs-lookup"><span data-stu-id="f8c4e-235">The operating mode of a session is determined by the combination of its transaction safety setting and the state of the witness.</span></span> <span data-ttu-id="f8c4e-236">En cualquier momento, el propietario de la base de datos puede cambiar la configuración de seguridad de las transacciones y puede agregar o quitar el testigo.</span><span class="sxs-lookup"><span data-stu-id="f8c4e-236">At any time, the database owner can change the transaction safety level, and can add or remove the witness.</span></span>  
  

  
####  <a name="transaction-safety"></a><a name="TxnSafety"></a> <span data-ttu-id="f8c4e-237">Transaction Safety</span><span class="sxs-lookup"><span data-stu-id="f8c4e-237">Transaction Safety</span></span>  
 <span data-ttu-id="f8c4e-238">La seguridad de las transacciones es una propiedad de base de datos específica de la creación de reflejo que determina si una sesión de creación de reflejo de la base de datos funciona de forma sincrónica o asincrónica.</span><span class="sxs-lookup"><span data-stu-id="f8c4e-238">Transaction safety is a mirroring-specific database property that determines whether a database mirroring session operates synchronously or asynchronously.</span></span> <span data-ttu-id="f8c4e-239">Hay dos niveles de seguridad: FULL y OFF.</span><span class="sxs-lookup"><span data-stu-id="f8c4e-239">There are two safety levels: FULL and OFF.</span></span>  
  
-   <span data-ttu-id="f8c4e-240">SAFETY FULL</span><span class="sxs-lookup"><span data-stu-id="f8c4e-240">SAFETY FULL</span></span>  
  
     <span data-ttu-id="f8c4e-241">La seguridad de las transacciones completa hace que la sesión funcione de forma asincrónica en modo de alta seguridad.</span><span class="sxs-lookup"><span data-stu-id="f8c4e-241">Full transaction safety causes the session to operate synchronously in high-safety mode.</span></span> <span data-ttu-id="f8c4e-242">Si existe un testigo, una sesión admite la conmutación automática por error.</span><span class="sxs-lookup"><span data-stu-id="f8c4e-242">If a witness is present, a session supports automatic failover.</span></span>  
  
     <span data-ttu-id="f8c4e-243">Cuando se establece una sesión mediante instrucciones ALTER DATABASE, ésta empieza con el valor SAFETY establecido en FULL; es decir, la sesión empieza en modo de alta seguridad.</span><span class="sxs-lookup"><span data-stu-id="f8c4e-243">When you establish a session using ALTER DATABASE statements, the session begins with the SAFETY property set to FULL; that is, the session begins in high-safety mode.</span></span> <span data-ttu-id="f8c4e-244">Una vez que se ha iniciado la sesión, puede agregarse un testigo.</span><span class="sxs-lookup"><span data-stu-id="f8c4e-244">After the session begins, you can add a witness.</span></span>  
  
     <span data-ttu-id="f8c4e-245">Para obtener más información, vea [Creación de reflejo sincrónico de la base de datos (modo de alta seguridad)](#Sync), anteriormente en este tema.</span><span class="sxs-lookup"><span data-stu-id="f8c4e-245">For more information, see [Synchronous Database Mirroring (High-Safety Mode)](#Sync), earlier in this topic.</span></span>  
  
-   <span data-ttu-id="f8c4e-246">SAFETY OFF</span><span class="sxs-lookup"><span data-stu-id="f8c4e-246">SAFETY OFF</span></span>  
  
     <span data-ttu-id="f8c4e-247">Desactivar la seguridad de las transacciones hace que la sesión funcione de forma asincrónica, en modo de alto rendimiento.</span><span class="sxs-lookup"><span data-stu-id="f8c4e-247">Turning off transaction safety causes the session to operate asynchronously, in high-performance mode.</span></span> <span data-ttu-id="f8c4e-248">Si la propiedad SAFETY está establecida en OFF, la propiedad WITNESS también debe estar establecida en OFF (el valor predeterminado).</span><span class="sxs-lookup"><span data-stu-id="f8c4e-248">If the SAFETY property is set to OFF, the WITNESS property should also be set to OFF (the default).</span></span> <span data-ttu-id="f8c4e-249">Para obtener información sobre el efecto del testigo en el modo de alto rendimiento, vea [Estado del testigo](#WitnessState)a continuación.</span><span class="sxs-lookup"><span data-stu-id="f8c4e-249">For information about the impact of the witness in high-performance mode, see [The State of the Witness](#WitnessState), later in this topic.</span></span> <span data-ttu-id="f8c4e-250">Para obtener más información sobre la ejecución con la seguridad de transacción desactivada, vea [Operación asincrónica de creación de reflejo de la base de datos (Modo de alto rendimiento)](#VisualElement), anteriormente en este tema.</span><span class="sxs-lookup"><span data-stu-id="f8c4e-250">For more information about running with transaction safety turned off, see [Asynchronous Database Mirroring (High-Performance Mode)](#VisualElement), earlier in this topic.</span></span>  
  
 <span data-ttu-id="f8c4e-251">La configuración de seguridad de las transacciones de la base de datos está registrada en cada asociado de la vista de catálogo **sys.database_mirroring** en las columnas **mirroring_safety_level** y **mirroring_safety_level_desc**.</span><span class="sxs-lookup"><span data-stu-id="f8c4e-251">The transaction safety setting of the database is recorded on each partner in the **sys.database_mirroring** catalog view in the **mirroring_safety_level** and **mirroring_safety_level_desc** columns.</span></span> <span data-ttu-id="f8c4e-252">Para obtener más información, vea [sys.database_mirroring &#40;Transact-SQL&#41;](/sql/relational-databases/system-catalog-views/sys-database-mirroring-transact-sql).</span><span class="sxs-lookup"><span data-stu-id="f8c4e-252">For more information, see [sys.database_mirroring &#40;Transact-SQL&#41;](/sql/relational-databases/system-catalog-views/sys-database-mirroring-transact-sql).</span></span>  
  
 <span data-ttu-id="f8c4e-253">El propietario de la base de datos puede cambiar el nivel de seguridad de las transacciones en cualquier momento.</span><span class="sxs-lookup"><span data-stu-id="f8c4e-253">The database owner can change the transaction safety level at any time.</span></span>  
  
####  <a name="the-state-of-the-witness"></a><a name="WitnessState"></a> <span data-ttu-id="f8c4e-254">Estado del testigo</span><span class="sxs-lookup"><span data-stu-id="f8c4e-254">The State of the Witness</span></span>  
 <span data-ttu-id="f8c4e-255">Si se establece un testigo, es necesario que haya quórum, por lo que el estado del testigo será siempre significativo.</span><span class="sxs-lookup"><span data-stu-id="f8c4e-255">If a witness has been set, quorum is required, so the state of the witness is always significant.</span></span>  
  
 <span data-ttu-id="f8c4e-256">Si existe, el testigo tendrá uno de estos dos estados:</span><span class="sxs-lookup"><span data-stu-id="f8c4e-256">If it exists, the witness has one of two states:</span></span>  
  
-   <span data-ttu-id="f8c4e-257">Cuando el testigo está conectado a un asociado, el testigo tiene el estado CONNECTED en relación con el asociado y tiene quórum con ese asociado.</span><span class="sxs-lookup"><span data-stu-id="f8c4e-257">When the witness is connected to a partner, the witness is in the CONNECTED state relative to that partner and has quorum with that partner.</span></span> <span data-ttu-id="f8c4e-258">En este caso, la base de datos puede estar disponible, incluso si alguno de los asociados no está disponible.</span><span class="sxs-lookup"><span data-stu-id="f8c4e-258">In this case, the database can be made available, even if one of the partners is unavailable.</span></span>  
  
-   <span data-ttu-id="f8c4e-259">Cuando hay un testigo pero no está conectado a un asociado, el testigo tiene el estado UNKOWN o DISCONNECTED en relación con el asociado.</span><span class="sxs-lookup"><span data-stu-id="f8c4e-259">When the witness exists but is not connected to a partner, the witness is in the UNKOWN or DISCONNECTED state relative to that partner.</span></span> <span data-ttu-id="f8c4e-260">En este caso, el testigo carece de quórum con ese asociado y, si los asociados no están conectados entre sí, la base de datos se vuelve no disponible.</span><span class="sxs-lookup"><span data-stu-id="f8c4e-260">In this case, the witness lacks quorum with that partner, and if the partners are not connected to each other, the database becomes unavailable.</span></span>  
  
 <span data-ttu-id="f8c4e-261">Para obtener información sobre el cuórum, vea [Cuórum: cómo un testigo afecta a la disponibilidad de la base de datos &#40;creación de reflejo de la base de datos&#41;](quorum-how-a-witness-affects-database-availability-database-mirroring.md).</span><span class="sxs-lookup"><span data-stu-id="f8c4e-261">For information about quorum, see [Quorum: How a Witness Affects Database Availability &#40;Database Mirroring&#41;](quorum-how-a-witness-affects-database-availability-database-mirroring.md).</span></span>  
  
 <span data-ttu-id="f8c4e-262">El estado de cada testigo en una instancia del servidor se registra en la vista de catálogo **sys.database_mirroring**, en las columnas **mirroring_witness_state** y **mirroring_witness_state_desc**.</span><span class="sxs-lookup"><span data-stu-id="f8c4e-262">The state of each witness on a server instance is recorded in the **sys.database_mirroring** catalog view in the **mirroring_witness_state** and **mirroring_witness_state_desc** columns.</span></span> <span data-ttu-id="f8c4e-263">Para obtener más información, vea [sys.database_mirroring &#40;Transact-SQL&#41;](/sql/relational-databases/system-catalog-views/sys-database-mirroring-transact-sql).</span><span class="sxs-lookup"><span data-stu-id="f8c4e-263">For more information, see [sys.database_mirroring &#40;Transact-SQL&#41;](/sql/relational-databases/system-catalog-views/sys-database-mirroring-transact-sql).</span></span>  
  
 <span data-ttu-id="f8c4e-264">En la tabla siguiente se resume cómo el modo de funcionamiento de una sesión depende de su configuración de seguridad de las transacciones y del estado del testigo.</span><span class="sxs-lookup"><span data-stu-id="f8c4e-264">The following table summarizes how the operating mode of a session depends upon its transaction safety setting and on state of the witness.</span></span>  
  
|<span data-ttu-id="f8c4e-265">Modo de funcionamiento</span><span class="sxs-lookup"><span data-stu-id="f8c4e-265">Operating mode</span></span>|<span data-ttu-id="f8c4e-266">Seguridad de las transacciones</span><span class="sxs-lookup"><span data-stu-id="f8c4e-266">Transaction safety</span></span>|<span data-ttu-id="f8c4e-267">Estado del testigo</span><span class="sxs-lookup"><span data-stu-id="f8c4e-267">Witness state</span></span>|  
|--------------------|------------------------|-------------------|  
|<span data-ttu-id="f8c4e-268">Modo de alto rendimiento</span><span class="sxs-lookup"><span data-stu-id="f8c4e-268">High-performance mode</span></span>|<span data-ttu-id="f8c4e-269">Apagado</span><span class="sxs-lookup"><span data-stu-id="f8c4e-269">OFF</span></span>|<span data-ttu-id="f8c4e-270">NULL (sin testigo)<sup>2</sup></span><span class="sxs-lookup"><span data-stu-id="f8c4e-270">NULL (no witness)<sup>2</sup></span></span>|  
|<span data-ttu-id="f8c4e-271">Modo de alta seguridad sin conmutación automática por error</span><span class="sxs-lookup"><span data-stu-id="f8c4e-271">High-safety mode without automatic failover</span></span>|<span data-ttu-id="f8c4e-272">FULL</span><span class="sxs-lookup"><span data-stu-id="f8c4e-272">FULL</span></span>|<span data-ttu-id="f8c4e-273">NULL (sin testigo)</span><span class="sxs-lookup"><span data-stu-id="f8c4e-273">NULL (no witness)</span></span>|  
|<span data-ttu-id="f8c4e-274">Modo de alta seguridad con conmutación automática por error<sup>1</sup></span><span class="sxs-lookup"><span data-stu-id="f8c4e-274">High-safety mode with automatic failover<sup>1</sup></span></span>|<span data-ttu-id="f8c4e-275">FULL</span><span class="sxs-lookup"><span data-stu-id="f8c4e-275">FULL</span></span>|<span data-ttu-id="f8c4e-276">CONNECTED</span><span class="sxs-lookup"><span data-stu-id="f8c4e-276">CONNECTED</span></span>|  
  
 <span data-ttu-id="f8c4e-277"><sup>1</sup> si el testigo se desconecta, se recomienda establecer el testigo en OFF hasta que la instancia del servidor testigo esté disponible.</span><span class="sxs-lookup"><span data-stu-id="f8c4e-277"><sup>1</sup> If the witness becomes disconnected, we recommend that you set WITNESS OFF until the witness server instance becomes available.</span></span>  
  
 <span data-ttu-id="f8c4e-278"><sup>2</sup> si hay un testigo en modo de alto rendimiento, el testigo no participa en la sesión.</span><span class="sxs-lookup"><span data-stu-id="f8c4e-278"><sup>2</sup> If a witness is present in high-performance mode, the witness does not participate in the session.</span></span> <span data-ttu-id="f8c4e-279">Sin embargo, para que la base de datos esté disponible, al menos dos de las instancias de servidor deben permanecer conectadas.</span><span class="sxs-lookup"><span data-stu-id="f8c4e-279">However, to make the database available, at least two of the server instances must remain connected.</span></span> <span data-ttu-id="f8c4e-280">Por lo tanto, se recomienda mantener la propiedad WITNESS establecida en OFF en las sesiones en modo de alto rendimiento.</span><span class="sxs-lookup"><span data-stu-id="f8c4e-280">Therefore, we recommend keeping the WITNESS property set to OFF in high-performance mode sessions.</span></span> <span data-ttu-id="f8c4e-281">Para más información, vea [Cuórum: cómo un testigo afecta a la disponibilidad de la base de datos &#40;creación de reflejo de la base de datos&#41;](quorum-how-a-witness-affects-database-availability-database-mirroring.md).</span><span class="sxs-lookup"><span data-stu-id="f8c4e-281">For more information, see [Quorum: How a Witness Affects Database Availability &#40;Database Mirroring&#41;](quorum-how-a-witness-affects-database-availability-database-mirroring.md).</span></span>  
  
###  <a name="viewing-the-safety-setting-and-state-of-the-witness"></a><a name="ViewWitness"></a> <span data-ttu-id="f8c4e-282">Ver la configuración de seguridad y el estado del testigo</span><span class="sxs-lookup"><span data-stu-id="f8c4e-282">Viewing the Safety Setting and State of the Witness</span></span>  
 <span data-ttu-id="f8c4e-283">Para ver la configuración de seguridad y el estado del testigo de una base de datos, use la vista de catálogo **sys.database_mirroring** .</span><span class="sxs-lookup"><span data-stu-id="f8c4e-283">To view the safety setting and the state of the witness for a database, use the **sys.database_mirroring** catalog view.</span></span> <span data-ttu-id="f8c4e-284">Las columnas relevantes son:</span><span class="sxs-lookup"><span data-stu-id="f8c4e-284">The relevant columns are as follows:</span></span>  
  
|<span data-ttu-id="f8c4e-285">Factor</span><span class="sxs-lookup"><span data-stu-id="f8c4e-285">Factor</span></span>|<span data-ttu-id="f8c4e-286">Columnas</span><span class="sxs-lookup"><span data-stu-id="f8c4e-286">Columns</span></span>|<span data-ttu-id="f8c4e-287">Descripción</span><span class="sxs-lookup"><span data-stu-id="f8c4e-287">Description</span></span>|  
|------------|-------------|-----------------|  
|<span data-ttu-id="f8c4e-288">Seguridad de las transacciones</span><span class="sxs-lookup"><span data-stu-id="f8c4e-288">Transaction safety</span></span>|<span data-ttu-id="f8c4e-289">**mirroring_safety_level** o **mirroring_safety_level_desc**</span><span class="sxs-lookup"><span data-stu-id="f8c4e-289">**mirroring_safety_level** or **mirroring_safety_level_desc**</span></span>|<span data-ttu-id="f8c4e-290">La configuración de seguridad de las transacciones para las actualizaciones de la base de datos reflejada es una de las siguientes:</span><span class="sxs-lookup"><span data-stu-id="f8c4e-290">Transaction safety setting for updates on the mirror database, one of:</span></span><br /><br /> <span data-ttu-id="f8c4e-291">DESCONOCIDO</span><span class="sxs-lookup"><span data-stu-id="f8c4e-291">UNKNOWN</span></span><br /><br /> <span data-ttu-id="f8c4e-292">Apagado</span><span class="sxs-lookup"><span data-stu-id="f8c4e-292">OFF</span></span><br /><br /> <span data-ttu-id="f8c4e-293">FULL</span><span class="sxs-lookup"><span data-stu-id="f8c4e-293">FULL</span></span><br /><br /> <span data-ttu-id="f8c4e-294">NULL= la base de datos no está en línea.</span><span class="sxs-lookup"><span data-stu-id="f8c4e-294">NULL= database is not online.</span></span>|  
|<span data-ttu-id="f8c4e-295">¿Existe un testigo?</span><span class="sxs-lookup"><span data-stu-id="f8c4e-295">Does a witness exist?</span></span>|<span data-ttu-id="f8c4e-296">**mirroring_witness_name**</span><span class="sxs-lookup"><span data-stu-id="f8c4e-296">**mirroring_witness_name**</span></span>|<span data-ttu-id="f8c4e-297">Nombre de servidor del testigo de creación de reflejo de la base de datos o NULL, que indica que no existe ningún testigo.</span><span class="sxs-lookup"><span data-stu-id="f8c4e-297">Server name of the database mirroring witness or NULL, indicating that no witness exists.</span></span>|  
|<span data-ttu-id="f8c4e-298">Estado del testigo</span><span class="sxs-lookup"><span data-stu-id="f8c4e-298">Witness state</span></span>|<span data-ttu-id="f8c4e-299">**mirroring_witness_state** o **mirroring_witness_state_desc**</span><span class="sxs-lookup"><span data-stu-id="f8c4e-299">**mirroring_witness_state** or **mirroring_witness_state_desc**</span></span>|<span data-ttu-id="f8c4e-300">Estado del testigo en la base de datos en un determinado asociado:</span><span class="sxs-lookup"><span data-stu-id="f8c4e-300">State of the witness in the database on a given partner:</span></span><br /><br /> <span data-ttu-id="f8c4e-301">DESCONOCIDO</span><span class="sxs-lookup"><span data-stu-id="f8c4e-301">UNKNOWN</span></span><br /><br /> <span data-ttu-id="f8c4e-302">CONNECTED</span><span class="sxs-lookup"><span data-stu-id="f8c4e-302">CONNECTED</span></span><br /><br /> <span data-ttu-id="f8c4e-303">DISCONNECTED</span><span class="sxs-lookup"><span data-stu-id="f8c4e-303">DISCONNECTED</span></span><br /><br /> <span data-ttu-id="f8c4e-304">NULL = no existe ningún testigo o la base de datos no está en línea.</span><span class="sxs-lookup"><span data-stu-id="f8c4e-304">NULL = no witness exists or the database is not online.</span></span>|  
  
 <span data-ttu-id="f8c4e-305">Por ejemplo, en el servidor principal o el servidor reflejado, escriba:</span><span class="sxs-lookup"><span data-stu-id="f8c4e-305">For example, on either the principal or mirror server, enter:</span></span>  
  
```  
SELECT mirroring_safety_level_desc, mirroring_witness_name, mirroring_witness_state_desc FROM sys.database_mirroring  
```  
  
 <span data-ttu-id="f8c4e-306">Para obtener más información sobre esta vista de catálogo, vea [sys.database_mirroring &#40;Transact-SQL&#41;](/sql/relational-databases/system-catalog-views/sys-database-mirroring-transact-sql).</span><span class="sxs-lookup"><span data-stu-id="f8c4e-306">For more information about this catalog view, see [sys.database_mirroring &#40;Transact-SQL&#41;](/sql/relational-databases/system-catalog-views/sys-database-mirroring-transact-sql).</span></span>  
  
###  <a name="factors-affecting-behavior-on-loss-of-the-principal-server"></a><a name="FactorsOnLossOfPrincipal"></a> <span data-ttu-id="f8c4e-307">Factores que afectan al comportamiento en caso de pérdida del servidor principal</span><span class="sxs-lookup"><span data-stu-id="f8c4e-307">Factors Affecting Behavior on Loss of the Principal Server</span></span>  
 <span data-ttu-id="f8c4e-308">En la tabla siguiente se resume el efecto combinado de la configuración de seguridad de las transacciones, el estado de la base de datos y el estado del testigo en el comportamiento de una sesión de creación de reflejo en caso de pérdida del servidor principal.</span><span class="sxs-lookup"><span data-stu-id="f8c4e-308">The following table summarizes the combined effect of the transaction safety setting, the state of the database, and the state of the witness on the behavior of a mirroring session on the loss of the principal server.</span></span>  
  
|<span data-ttu-id="f8c4e-309">Seguridad de las transacciones</span><span class="sxs-lookup"><span data-stu-id="f8c4e-309">Transaction safety</span></span>|<span data-ttu-id="f8c4e-310">Estado del reflejo de la base de datos reflejada</span><span class="sxs-lookup"><span data-stu-id="f8c4e-310">Mirroring state of mirror database</span></span>|<span data-ttu-id="f8c4e-311">Estado del testigo</span><span class="sxs-lookup"><span data-stu-id="f8c4e-311">Witness state</span></span>|<span data-ttu-id="f8c4e-312">Comportamiento al perderse el servidor principal</span><span class="sxs-lookup"><span data-stu-id="f8c4e-312">Behavior when principal is lost</span></span>|  
|------------------------|----------------------------------------|-------------------|-------------------------------------|  
|<span data-ttu-id="f8c4e-313">FULL</span><span class="sxs-lookup"><span data-stu-id="f8c4e-313">FULL</span></span>|<span data-ttu-id="f8c4e-314">SYNCHRONIZED</span><span class="sxs-lookup"><span data-stu-id="f8c4e-314">SYNCHRONIZED</span></span>|<span data-ttu-id="f8c4e-315">CONNECTED</span><span class="sxs-lookup"><span data-stu-id="f8c4e-315">CONNECTED</span></span>|<span data-ttu-id="f8c4e-316">Se produce la conmutación automática por error.</span><span class="sxs-lookup"><span data-stu-id="f8c4e-316">Automatic failover occurs.</span></span>|  
|<span data-ttu-id="f8c4e-317">FULL</span><span class="sxs-lookup"><span data-stu-id="f8c4e-317">FULL</span></span>|<span data-ttu-id="f8c4e-318">SYNCHRONIZED</span><span class="sxs-lookup"><span data-stu-id="f8c4e-318">SYNCHRONIZED</span></span>|<span data-ttu-id="f8c4e-319">DISCONNECTED</span><span class="sxs-lookup"><span data-stu-id="f8c4e-319">DISCONNECTED</span></span>|<span data-ttu-id="f8c4e-320">El servidor reflejado se detiene; la conmutación por error no es posible y no se puede hacer que la base de datos esté disponible.</span><span class="sxs-lookup"><span data-stu-id="f8c4e-320">Mirror server stops; failover is not possible, and the database cannot be made available.</span></span>|  
|<span data-ttu-id="f8c4e-321">Apagado</span><span class="sxs-lookup"><span data-stu-id="f8c4e-321">OFF</span></span>|<span data-ttu-id="f8c4e-322">SUSPENDED o DISCONNECTED</span><span class="sxs-lookup"><span data-stu-id="f8c4e-322">SUSPENDED or DISCONNECTED</span></span>|<span data-ttu-id="f8c4e-323">NULL (sin testigo)</span><span class="sxs-lookup"><span data-stu-id="f8c4e-323">NULL (no witness)</span></span>|<span data-ttu-id="f8c4e-324">El servicio se puede forzar en el servidor reflejado (con posible pérdida de datos).</span><span class="sxs-lookup"><span data-stu-id="f8c4e-324">Service can be forced to the mirror server (with possible data loss).</span></span>|  
|<span data-ttu-id="f8c4e-325">FULL</span><span class="sxs-lookup"><span data-stu-id="f8c4e-325">FULL</span></span>|<span data-ttu-id="f8c4e-326">SYNCHRONIZING o SUSPENDED</span><span class="sxs-lookup"><span data-stu-id="f8c4e-326">SYNCHRONIZING or SUSPENDED</span></span>|<span data-ttu-id="f8c4e-327">NULL (sin testigo)</span><span class="sxs-lookup"><span data-stu-id="f8c4e-327">NULL (no witness)</span></span>|<span data-ttu-id="f8c4e-328">El servicio se puede forzar en el servidor reflejado (con posible pérdida de datos).</span><span class="sxs-lookup"><span data-stu-id="f8c4e-328">Service can be forced to the mirror server (with possible data loss).</span></span>|  
  
##  <a name="related-tasks"></a><a name="RelatedTasks"></a> <span data-ttu-id="f8c4e-329">Tareas relacionadas</span><span class="sxs-lookup"><span data-stu-id="f8c4e-329">Related Tasks</span></span>  
  
-   [<span data-ttu-id="f8c4e-330">Agregar o reemplazar un testigo de creación de reflejo de la base de datos &#40;SQL Server Management Studio&#41;</span><span class="sxs-lookup"><span data-stu-id="f8c4e-330">Add or Replace a Database Mirroring Witness &#40;SQL Server Management Studio&#41;</span></span>](../database-mirroring/add-or-replace-a-database-mirroring-witness-sql-server-management-studio.md)  
  
-   [<span data-ttu-id="f8c4e-331">Establecer una sesión de creación de reflejo de la base de datos mediante la autenticación de Windows &#40;SQL Server Management Studio&#41;</span><span class="sxs-lookup"><span data-stu-id="f8c4e-331">Establish a Database Mirroring Session Using Windows Authentication &#40;SQL Server Management Studio&#41;</span></span>](establish-database-mirroring-session-windows-authentication.md)  
  
-   [<span data-ttu-id="f8c4e-332">Agregar un testigo de creación de reflejo de la base de datos mediante la autenticación de Windows &#40;Transact-SQL&#41;</span><span class="sxs-lookup"><span data-stu-id="f8c4e-332">Add a Database Mirroring Witness Using Windows Authentication &#40;Transact-SQL&#41;</span></span>](add-a-database-mirroring-witness-using-windows-authentication-transact-sql.md)  
  
-   [<span data-ttu-id="f8c4e-333">Quitar el testigo de una sesión de creación de reflejo de la base de datos &#40;SQL Server&#41;</span><span class="sxs-lookup"><span data-stu-id="f8c4e-333">Remove the Witness from a Database Mirroring Session &#40;SQL Server&#41;</span></span>](remove-the-witness-from-a-database-mirroring-session-sql-server.md)  
  
-   [<span data-ttu-id="f8c4e-334">Cambiar la seguridad de las transacciones en una sesión de creación de reflejo de la base de datos &#40;Transact-SQL&#41;</span><span class="sxs-lookup"><span data-stu-id="f8c4e-334">Change Transaction Safety in a Database Mirroring Session &#40;Transact-SQL&#41;</span></span>](change-transaction-safety-in-a-database-mirroring-session-transact-sql.md)  
  
## <a name="see-also"></a><span data-ttu-id="f8c4e-335">Consulte también</span><span class="sxs-lookup"><span data-stu-id="f8c4e-335">See Also</span></span>  
 <span data-ttu-id="f8c4e-336">[Supervisar la creación de reflejo de la base de datos &#40;SQL Server&#41;](monitoring-database-mirroring-sql-server.md) </span><span class="sxs-lookup"><span data-stu-id="f8c4e-336">[Monitoring Database Mirroring &#40;SQL Server&#41;](monitoring-database-mirroring-sql-server.md) </span></span>  
 [<span data-ttu-id="f8c4e-337">Testigo de creación de reflejo de la base de datos</span><span class="sxs-lookup"><span data-stu-id="f8c4e-337">Database Mirroring Witness</span></span>](database-mirroring-witness.md)  
