---
title: Monitor de creación de reflejo de la base de datos (página Advertencias) | Microsoft Docs
ms.custom: ''
ms.date: 06/13/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: high-availability
ms.topic: conceptual
f1_keywords:
- sql12.swb.dbmmonitor.warningsandalerts.f1
ms.assetid: 01936122-961d-436b-ba3c-5f79fefe5469
author: MikeRayMSFT
ms.author: mikeray
ms.openlocfilehash: e7afc4ff0e6b69c70535ef39677f3d834edbee15
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 08/04/2020
ms.locfileid: "87751477"
---
# <a name="database-mirroring-monitor-warnings-page"></a><span data-ttu-id="19a7e-102">Monitor de creación de reflejo de la base de datos (página Advertencias)</span><span class="sxs-lookup"><span data-stu-id="19a7e-102">Database Mirroring Monitor (Warnings Page)</span></span>
  <span data-ttu-id="19a7e-103">Muestra una lista de solo lectura de las advertencias que se admiten en los eventos de creación de reflejo de la base de datos, así como los valores de umbral de advertencia especificados (si los hay).</span><span class="sxs-lookup"><span data-stu-id="19a7e-103">Displays a read-only list of warnings supported on database mirroring events and the specified warning threshold values, if available.</span></span>  
  
 <span data-ttu-id="19a7e-104">**Para utilizar SQL Server Management Studio a fin de supervisar la creación de reflejo de la base de datos**</span><span class="sxs-lookup"><span data-stu-id="19a7e-104">**To use SQL Server Management Studio to monitor database mirroring**</span></span>  
  
-   [<span data-ttu-id="19a7e-105">Iniciar el Monitor de creación de reflejo de la base de datos &#40;SQL Server Management Studio&#41;</span><span class="sxs-lookup"><span data-stu-id="19a7e-105">Start Database Mirroring Monitor &#40;SQL Server Management Studio&#41;</span></span>](../database-mirroring/start-database-mirroring-monitor-sql-server-management-studio.md)  
  
## <a name="columns"></a><span data-ttu-id="19a7e-106">Columnas</span><span class="sxs-lookup"><span data-stu-id="19a7e-106">Columns</span></span>  
 <span data-ttu-id="19a7e-107">**Warning (ADVERTENCIA)**</span><span class="sxs-lookup"><span data-stu-id="19a7e-107">**Warning**</span></span>  
 <span data-ttu-id="19a7e-108">Entre las advertencias para las que puede definir un umbral se incluyen:</span><span class="sxs-lookup"><span data-stu-id="19a7e-108">The warnings for which you can define a threshold include:</span></span>  
  
|<span data-ttu-id="19a7e-109">Advertencia</span><span class="sxs-lookup"><span data-stu-id="19a7e-109">Warning</span></span>|<span data-ttu-id="19a7e-110">Umbral</span><span class="sxs-lookup"><span data-stu-id="19a7e-110">Threshold</span></span>|  
|-------------|---------------|  
|<span data-ttu-id="19a7e-111">**Advierte si el registro sin enviar supera el valor de umbral**</span><span class="sxs-lookup"><span data-stu-id="19a7e-111">**Warn if the unsent log exceeds the threshold**</span></span>|<span data-ttu-id="19a7e-112">Especifica la cantidad de kilobytes (KB) de registro no enviado que generará una advertencia en la instancia del servidor principal.</span><span class="sxs-lookup"><span data-stu-id="19a7e-112">Specifies how many kilobytes (KB) of unsent log will generate a warning on the principal server instance.</span></span> <span data-ttu-id="19a7e-113">Esta advertencia ayuda a calcular el potencial de pérdida de datos en KB y resulta especialmente relevante para el modo de rendimiento alto.</span><span class="sxs-lookup"><span data-stu-id="19a7e-113">This warning helps measure the potential for data loss in terms of KB, and is particularly relevant for high-performance mode.</span></span> <span data-ttu-id="19a7e-114">No obstante, la advertencia también es relevante para el modo de alta seguridad cuando la creación de reflejo se detiene o suspende debido a que los asociados se han desconectado.</span><span class="sxs-lookup"><span data-stu-id="19a7e-114">However, the warning is also relevant for high-safety mode when mirroring is paused or suspended because the partners become disconnected.</span></span>|  
|<span data-ttu-id="19a7e-115">**Advertir si el registro sin restaurar sobrepasa el umbral**</span><span class="sxs-lookup"><span data-stu-id="19a7e-115">**Warn if the unrestored log exceeds the threshold**</span></span>|<span data-ttu-id="19a7e-116">Especifica la cantidad de KB de registro sin restaurar que generará una advertencia en la instancia del servidor reflejado.</span><span class="sxs-lookup"><span data-stu-id="19a7e-116">Specifies how many KB of unrestored log will generate a warning on the mirror server instance.</span></span> <span data-ttu-id="19a7e-117">Esta advertencia es útil para calcular el tiempo de conmutación por error en KB.</span><span class="sxs-lookup"><span data-stu-id="19a7e-117">This warning is useful for measuring failover time in terms of kilobytes.</span></span> <span data-ttu-id="19a7e-118">El*tiempo de la conmutación por error* se compone principalmente del tiempo que el servidor reflejado anterior necesita para poner al día los registros pendientes en su cola rehecha, más un breve tiempo adicional.</span><span class="sxs-lookup"><span data-stu-id="19a7e-118">*Failover time* consists mainly of the time that the former mirror server requires to roll forward any log remaining in its redo queue, plus a short additional time.</span></span><br /><br /> <span data-ttu-id="19a7e-119">Nota: En una conmutación automática por error, el tiempo para que el sistema detecte el error es independiente del tiempo de conmutación por error.</span><span class="sxs-lookup"><span data-stu-id="19a7e-119">Note: For an automatic failover, the time for the system to notice the error is independent of the failover time.</span></span><br /><br /> <span data-ttu-id="19a7e-120">Para obtener más información, vea [Calcular la interrupción del servicio durante la conmutación de roles &#40;creación de reflejo de la base de datos&#41;](estimate-the-interruption-of-service-during-role-switching-database-mirroring.md).</span><span class="sxs-lookup"><span data-stu-id="19a7e-120">For more information, see [Estimate the Interruption of Service During Role Switching &#40;Database Mirroring&#41;](estimate-the-interruption-of-service-during-role-switching-database-mirroring.md).</span></span>|  
|<span data-ttu-id="19a7e-121">**Advertir si la transacción sin enviar más antigua sobrepasa el umbral**</span><span class="sxs-lookup"><span data-stu-id="19a7e-121">**Warn if the age of the oldest unsent transaction exceeds the threshold**</span></span>|<span data-ttu-id="19a7e-122">Especifica el número de minutos de transacciones que se pueden acumular en la cola de envío antes de que se genere una advertencia en la instancia del servidor principal.</span><span class="sxs-lookup"><span data-stu-id="19a7e-122">Specifies the number of minutes worth of transactions that can accumulate in the send queue before a warning is generated on the principal server instance.</span></span> <span data-ttu-id="19a7e-123">Esta advertencia ayuda a calcular el potencial de pérdida de datos en concepto de tiempo y resulta especialmente relevante para el modo de rendimiento alto.</span><span class="sxs-lookup"><span data-stu-id="19a7e-123">This warning helps measure the potential for data loss in terms of time, and is particularly relevant for high-performance mode.</span></span> <span data-ttu-id="19a7e-124">No obstante, la advertencia también es relevante para el modo de alta seguridad cuando la creación de reflejo se detiene o suspende debido a que los asociados se han desconectado.</span><span class="sxs-lookup"><span data-stu-id="19a7e-124">However, the warning is also relevant for high-safety mode when mirroring is paused or suspended because the partners become disconnected.</span></span>|  
|<span data-ttu-id="19a7e-125">**Advertir si la sobrecarga de confirmación del servidor reflejado sobrepasa el umbral**</span><span class="sxs-lookup"><span data-stu-id="19a7e-125">**Warn if the mirror commit overhead exceeds the threshold**</span></span>|<span data-ttu-id="19a7e-126">Especifica el número de milisengundos de retraso medio por transacción tolerado antes de que se genere una advertencia en el servidor principal.</span><span class="sxs-lookup"><span data-stu-id="19a7e-126">Specifies the number of milliseconds of average delay per transaction tolerated before a warning is generated on the principal server.</span></span> <span data-ttu-id="19a7e-127">Este retardo es la cantidad de sobrecarga en la que se incurre mientras la instancia del servidor principal espera a la instancia del servidor reflejado para escribir la entrada de registro de la transacción en la cola de puesta al día.</span><span class="sxs-lookup"><span data-stu-id="19a7e-127">This delay is the amount of overhead incurred while the principal server instance waits for the mirror server instance to write the transaction's log record into the redo queue.</span></span> <span data-ttu-id="19a7e-128">Este valor solo es relevante en el modo de alta seguridad.</span><span class="sxs-lookup"><span data-stu-id="19a7e-128">This value is relevant only in high-safety mode.</span></span>|  
  
 <span data-ttu-id="19a7e-129">**Umbral en "** _< instancia de servidor_ **"**</span><span class="sxs-lookup"><span data-stu-id="19a7e-129">**Threshold at '** _<server_instance>_ **'**</span></span>  
 <span data-ttu-id="19a7e-130">En cada una de las advertencias, muestra el umbral actual especificado por el usuario (si existe) para una de las instancias del servidor.</span><span class="sxs-lookup"><span data-stu-id="19a7e-130">For each of the warnings, displays the current user-specified threshold, if any, for one of the server instances.</span></span> <span data-ttu-id="19a7e-131">El nombre completo de la instancia del servidor se indica en el encabezado de la columna correspondiente.</span><span class="sxs-lookup"><span data-stu-id="19a7e-131">The full instance name of the server instance is indicated in the corresponding column heading.</span></span>  
  
 <span data-ttu-id="19a7e-132">Para obtener más información, vea la sección "Comentarios" más adelante en este tema.</span><span class="sxs-lookup"><span data-stu-id="19a7e-132">For more information, see "Remarks," later in this topic.</span></span>  
  
 <span data-ttu-id="19a7e-133">**Establecer umbrales**</span><span class="sxs-lookup"><span data-stu-id="19a7e-133">**Set Thresholds**</span></span>  
 <span data-ttu-id="19a7e-134">Haga clic en este botón para establecer un umbral para una advertencia en cada asociado de conmutación por error.</span><span class="sxs-lookup"><span data-stu-id="19a7e-134">Click this button to set a threshold for one warning on each of the failover partners.</span></span>  
  
 <span data-ttu-id="19a7e-135">Para obtener más información, vea la sección "Comentarios" más adelante en este tema.</span><span class="sxs-lookup"><span data-stu-id="19a7e-135">For more information, see "Remarks," later in this topic.</span></span>  
  
## <a name="remarks"></a><span data-ttu-id="19a7e-136">Observaciones</span><span class="sxs-lookup"><span data-stu-id="19a7e-136">Remarks</span></span>  
 <span data-ttu-id="19a7e-137">Si la información no está disponible actualmente para una instancia del servidor, la columna **Umbral en** muestra un fondo gris y un texto de marca de agua.</span><span class="sxs-lookup"><span data-stu-id="19a7e-137">If information is currently unavailable for a server instance, the cells of the corresponding **Threshold at** column display a gray background and watermark text.</span></span> <span data-ttu-id="19a7e-138">Si el monitor no está conectado a la instancia de servidor, cada celda de la cuadrícula muestra **No conectado a** _<NOMBRE DE SISTEMA>_ o **No conectado a** _<NOMBRE DE SISTEMA>_ **\\** _<nombre de instancia>_ , en función de si la instancia es la predeterminada o es una instancia con nombre.</span><span class="sxs-lookup"><span data-stu-id="19a7e-138">If the monitor is not connected to the server instance, in every cell the grid displays either **Not connected to** _<SYSTEM_NAME>_ or **Not connected to** _<SYSTEM_NAME>_**\\**_<instance_name>_, depending on whether the instance is the default instance or a named instance.</span></span> <span data-ttu-id="19a7e-139">Si el monitor espera que se devuelva una consulta, la cuadrícula muestra **Esperando datos...** en cada celda.</span><span class="sxs-lookup"><span data-stu-id="19a7e-139">If the monitor is waiting for a query to return, the grid displays **Waiting for data...** in every cell.</span></span>  
  
 <span data-ttu-id="19a7e-140">Si hay información disponible, la celda de cada advertencia muestra un valor de umbral especificado (y una unidad de medida), o bien **No habilitado**.</span><span class="sxs-lookup"><span data-stu-id="19a7e-140">When information is available, the cell for each warning displays either a specified threshold value (and unit of measurement), or **Not enabled**.</span></span>  
  
 <span data-ttu-id="19a7e-141">Si se sobrepasa un umbral en el momento en que la tabla de estado se actualiza, se registra un evento en el registro de eventos de Windows cuando se registra la fila de estado.</span><span class="sxs-lookup"><span data-stu-id="19a7e-141">If a threshold is exceeded at the time the status table is refreshed, an event is logged to the Windows event log when the status row is recorded.</span></span> <span data-ttu-id="19a7e-142">De forma predeterminada, la fila de estado se registra cada minuto si el monitor no está en ejecución.</span><span class="sxs-lookup"><span data-stu-id="19a7e-142">By default, the status row is recorded once a minute if the monitor is not running.</span></span> <span data-ttu-id="19a7e-143">Puede configurar una alerta en cada tipo de evento registrado mediante el Agente SQL Server u otro programa, como Microsoft Management Operations Manager (MOM).</span><span class="sxs-lookup"><span data-stu-id="19a7e-143">You can configure an alert on each type of logged event by using the SQL Server Agent or another program, such as Microsoft Management Operations Manager (MOM).</span></span>  
  
 <span data-ttu-id="19a7e-144">En un asociado determinado, los eventos registrados dependen de su rol actual, ya sea principal o reflejado.</span><span class="sxs-lookup"><span data-stu-id="19a7e-144">On a given partner, the events logged depend on its current role, principal or mirror.</span></span> <span data-ttu-id="19a7e-145">No obstante, es recomendable que establezca un umbral de advertencia para un evento específico en los dos asociados, con lo que podrá asegurarse de que la advertencia persiste si se produce una conmutación por error en la base de datos.</span><span class="sxs-lookup"><span data-stu-id="19a7e-145">However, we recommend that you set a warning threshold for a given event on both partners to ensure that the warning persists if the database fails over.</span></span> <span data-ttu-id="19a7e-146">El umbral adecuado para cada asociado depende de la capacidad de rendimiento del sistema de dicho asociado.</span><span class="sxs-lookup"><span data-stu-id="19a7e-146">The appropriate threshold for each partner depends on the performance capabilities of that partner's system.</span></span>  
  
> [!NOTE]  
>  <span data-ttu-id="19a7e-147">Además, puede usar el procedimiento almacenado del sistema **sp_dbmmonitorchangealert** para configurar los umbrales de los eventos equivalentes: registro sin enviar, registro sin recuperar, transacción sin enviar más antigua y sobrecarga de confirmación del servidor reflejado.</span><span class="sxs-lookup"><span data-stu-id="19a7e-147">You can also use the **sp_dbmmonitorchangealert** system stored procedure to configure thresholds for the equivalent events-unsent log, unrecovered log, oldest unsent transaction, and mirror commit overhead.</span></span> <span data-ttu-id="19a7e-148">Para obtener más información, vea [sp_dbmmonitorchangealert &#40;Transact-SQL&#41;](/sql/relational-databases/system-stored-procedures/sp-dbmmonitorchangealert-transact-sql).</span><span class="sxs-lookup"><span data-stu-id="19a7e-148">For more information, see [sp_dbmmonitorchangealert &#40;Transact-SQL&#41;](/sql/relational-databases/system-stored-procedures/sp-dbmmonitorchangealert-transact-sql).</span></span>  
  
 <span data-ttu-id="19a7e-149">En la siguiente tabla se muestra el Id. de evento asociado a cada advertencia.</span><span class="sxs-lookup"><span data-stu-id="19a7e-149">The following table shows the event ID associated with each warning.</span></span>  
  
|<span data-ttu-id="19a7e-150">Advertencia del Monitor de creación de reflejo de la base de datos</span><span class="sxs-lookup"><span data-stu-id="19a7e-150">Database Mirroring Monitor warning</span></span>|<span data-ttu-id="19a7e-151">Nombre del evento</span><span class="sxs-lookup"><span data-stu-id="19a7e-151">Event name</span></span>|<span data-ttu-id="19a7e-152">Id. de evento</span><span class="sxs-lookup"><span data-stu-id="19a7e-152">Event ID</span></span>|  
|----------------------------------------|----------------|--------------|  
|<span data-ttu-id="19a7e-153">**Advierte si el registro sin enviar supera el valor de umbral**</span><span class="sxs-lookup"><span data-stu-id="19a7e-153">**Warn if the unsent log exceeds the threshold**</span></span>|<span data-ttu-id="19a7e-154">Registro sin enviar</span><span class="sxs-lookup"><span data-stu-id="19a7e-154">Unsent log</span></span>|<span data-ttu-id="19a7e-155">32042</span><span class="sxs-lookup"><span data-stu-id="19a7e-155">32042</span></span>|  
|<span data-ttu-id="19a7e-156">**Advertir si el registro sin restaurar sobrepasa el umbral**</span><span class="sxs-lookup"><span data-stu-id="19a7e-156">**Warn if the unrestored log exceeds the threshold**</span></span>|<span data-ttu-id="19a7e-157">Registro sin restaurar</span><span class="sxs-lookup"><span data-stu-id="19a7e-157">Unrestored log</span></span>|<span data-ttu-id="19a7e-158">32043</span><span class="sxs-lookup"><span data-stu-id="19a7e-158">32043</span></span>|  
|<span data-ttu-id="19a7e-159">**Advertir si la transacción sin enviar más antigua sobrepasa el umbral**</span><span class="sxs-lookup"><span data-stu-id="19a7e-159">**Warn if the age of the oldest unsent transaction exceeds the threshold**</span></span>|<span data-ttu-id="19a7e-160">Transacción no enviada más antigua</span><span class="sxs-lookup"><span data-stu-id="19a7e-160">Oldest unsent transaction</span></span>|<span data-ttu-id="19a7e-161">32044</span><span class="sxs-lookup"><span data-stu-id="19a7e-161">32044</span></span>|  
|<span data-ttu-id="19a7e-162">**Advertir si la sobrecarga de confirmación del servidor reflejado sobrepasa el umbral**</span><span class="sxs-lookup"><span data-stu-id="19a7e-162">**Warn if the mirror commit overhead exceeds the threshold**</span></span>|<span data-ttu-id="19a7e-163">Sobrecarga de confirmación del servidor reflejado</span><span class="sxs-lookup"><span data-stu-id="19a7e-163">Mirror commit overhead</span></span>|<span data-ttu-id="19a7e-164">32045</span><span class="sxs-lookup"><span data-stu-id="19a7e-164">32045</span></span>|  
  
## <a name="permissions"></a><span data-ttu-id="19a7e-165">Permisos</span><span class="sxs-lookup"><span data-stu-id="19a7e-165">Permissions</span></span>  
 <span data-ttu-id="19a7e-166">Para tener acceso total es preciso pertenecer al rol fijo de servidor **sysadmin** .</span><span class="sxs-lookup"><span data-stu-id="19a7e-166">For full access, requires membership in the **sysadmin** fixed server role.</span></span> <span data-ttu-id="19a7e-167">Solo los miembros de **sysadmin** pueden configurar y ver los umbrales de advertencia de las métricas de rendimiento clave.</span><span class="sxs-lookup"><span data-stu-id="19a7e-167">Only members of **sysadmin** can configure and view warning thresholds for key performance metrics.</span></span>  
  
 <span data-ttu-id="19a7e-168">La pertenencia al rol **dbm_monitor** le permite ver solo la fila de estado más reciente de la página **Advertencias** .</span><span class="sxs-lookup"><span data-stu-id="19a7e-168">Membership in the **dbm_monitor** role enables you to view only the most recent status row on the **Warnings** Page.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="19a7e-169">Consulte también</span><span class="sxs-lookup"><span data-stu-id="19a7e-169">See Also</span></span>  
 <span data-ttu-id="19a7e-170">[Iniciar el Monitor de creación de reflejo de la base de datos &#40;SQL Server Management Studio&#41;](../database-mirroring/start-database-mirroring-monitor-sql-server-management-studio.md) </span><span class="sxs-lookup"><span data-stu-id="19a7e-170">[Start Database Mirroring Monitor &#40;SQL Server Management Studio&#41;](../database-mirroring/start-database-mirroring-monitor-sql-server-management-studio.md) </span></span>  
 <span data-ttu-id="19a7e-171">[Supervisar la creación de reflejo de la base de datos &#40;SQL Server&#41;](database-mirroring-sql-server.md) </span><span class="sxs-lookup"><span data-stu-id="19a7e-171">[Monitoring Database Mirroring &#40;SQL Server&#41;](database-mirroring-sql-server.md) </span></span>  
 [<span data-ttu-id="19a7e-172">Iniciar el Asistente para la configuración de seguridad de la creación de reflejo de la base de datos &#40;SQL Server Management Studio&#41;</span><span class="sxs-lookup"><span data-stu-id="19a7e-172">Start the Configuring Database Mirroring Security Wizard &#40;SQL Server Management Studio&#41;</span></span>](start-the-configuring-database-mirroring-security-wizard.md)  
  
  
