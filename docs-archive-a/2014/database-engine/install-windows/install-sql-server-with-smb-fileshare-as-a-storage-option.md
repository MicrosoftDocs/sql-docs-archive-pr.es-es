---
title: Instalar SQL Server con el recurso compartido de archivos SMB como opción de almacenamiento | Microsoft Docs
ms.custom: ''
ms.date: 03/09/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: install
ms.topic: conceptual
ms.assetid: 8b7810b2-637e-46a3-9fe1-d055898ba639
author: MashaMSFT
ms.author: mathoma
ms.openlocfilehash: 3d59c2861e2419d76d3dc8e3fc3aaab91bf1e99b
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 08/04/2020
ms.locfileid: "87744837"
---
# <a name="install-sql-server-with-smb-fileshare-as-a-storage-option"></a><span data-ttu-id="13eb2-102">Instalar SQL Server con el recurso compartido de archivos SMB como opción de almacenamiento</span><span class="sxs-lookup"><span data-stu-id="13eb2-102">Install SQL Server with SMB Fileshare as a Storage Option</span></span>
  <span data-ttu-id="13eb2-103">A partir de [!INCLUDE[ssSQL11](../../includes/sssql11-md.md)], las bases de datos del sistema (Master, Model, MSDB y TempDB) y las bases de datos de usuario del [!INCLUDE[ssDE](../../includes/ssde-md.md)] se pueden instalar con el servidor de archivos del Bloque de mensajes del servidor (SMB) como opción de almacenamiento.</span><span class="sxs-lookup"><span data-stu-id="13eb2-103">Starting [!INCLUDE[ssSQL11](../../includes/sssql11-md.md)], system databases (Master, Model, MSDB, and TempDB), and [!INCLUDE[ssDE](../../includes/ssde-md.md)] user databases can be installed with Server Message Block (SMB) file server as a storage option.</span></span> <span data-ttu-id="13eb2-104">Esto se aplica tanto a las instalaciones independientes de [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] como a las instalaciones de clústeres de conmutación por error (FCI) de [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] .</span><span class="sxs-lookup"><span data-stu-id="13eb2-104">This applies to both [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] stand-alone and [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] failover cluster installations (FCI).</span></span>  
  
> [!NOTE]  
>  <span data-ttu-id="13eb2-105">Secuencia de archivos no se admite actualmente en un recurso compartido de archivos SMB.</span><span class="sxs-lookup"><span data-stu-id="13eb2-105">Filestream is currently not supported on an SMB file share.</span></span>  
  
## <a name="installation-considerations"></a><span data-ttu-id="13eb2-106">Consideraciones para la instalación</span><span class="sxs-lookup"><span data-stu-id="13eb2-106">Installation Considerations</span></span>  
  
### <a name="smb-file-share-formats"></a><span data-ttu-id="13eb2-107">Formatos del recurso compartido de archivos de SMB:</span><span class="sxs-lookup"><span data-stu-id="13eb2-107">SMB File share Formats:</span></span>  
 <span data-ttu-id="13eb2-108">Al especificar el recurso compartido de archivos SMB, se admiten los siguientes formatos de la Convención de nomenclatura universal (UNC) para las bases de datos independientes y FCI.</span><span class="sxs-lookup"><span data-stu-id="13eb2-108">While specifying the SMB file share, the following are supported Universal Naming Convention (UNC) Path formats for standalone and FCI databases:</span></span>  
  
-   <span data-ttu-id="13eb2-109">\\\NombreDeServidor\NombreDeRecursoCompartido</span><span class="sxs-lookup"><span data-stu-id="13eb2-109">\\\ServerName\ShareName</span></span>\  
  
-   <span data-ttu-id="13eb2-110">\\\NombreDeServidor\NombreDeRecursoCompartido</span><span class="sxs-lookup"><span data-stu-id="13eb2-110">\\\ServerName\ShareName</span></span>  
  
 <span data-ttu-id="13eb2-111">Para obtener más información sobre la Convención de nomenclatura universal, vea [UNC](https://go.microsoft.com/fwlink/?LinkId=245534) ( https://go.microsoft.com/fwlink/?LinkId=245534) .</span><span class="sxs-lookup"><span data-stu-id="13eb2-111">For more information about Universal Naming Convention, see [UNC](https://go.microsoft.com/fwlink/?LinkId=245534) (https://go.microsoft.com/fwlink/?LinkId=245534).</span></span>  
  
 <span data-ttu-id="13eb2-112">No se permite usar la ruta UNC de bucle invertido (una ruta UNC cuyo nombre de servidor es localhost, 127.0.0.1 o el nombre del equipo local).</span><span class="sxs-lookup"><span data-stu-id="13eb2-112">The loopback UNC path (a UNC path whose server name is localhost, 127.0.0.1, or the local machine name) is not supported.</span></span> <span data-ttu-id="13eb2-113">Como caso especial, tampoco se admite [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] que usa el clúster de servidor de archivos que se hospeda en el mismo nodo en que se ejecuta [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] .</span><span class="sxs-lookup"><span data-stu-id="13eb2-113">As a special case, [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] using File Server Cluster which is hosted on the same node [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] is running is also not supported.</span></span> <span data-ttu-id="13eb2-114">Para evitar esta situación, se recomienda que [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] y el clúster del servidor de archivos se creen en clústeres de Windows independientes.</span><span class="sxs-lookup"><span data-stu-id="13eb2-114">To prevent this situation, it is recommended that [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] and File Server Cluster to be created on separated Windows Clusters.</span></span>  
  
 <span data-ttu-id="13eb2-115">Los formatos siguientes de ruta UNC no se admiten:</span><span class="sxs-lookup"><span data-stu-id="13eb2-115">The below UNC path formats are not supported:</span></span>  
  
-   <span data-ttu-id="13eb2-116">Ruta de acceso de bucle invertido, por ejemplo, \\\localhost\\..\ or \\\127.0.0.1\\...</span><span class="sxs-lookup"><span data-stu-id="13eb2-116">Loopback path, e.g., \\\localhost\\..\ or \\\127.0.0.1\\...</span></span>\  
  
-   <span data-ttu-id="13eb2-117">Recursos compartidos administrativos, por ejemplo \\\nombreDeServidor\x$</span><span class="sxs-lookup"><span data-stu-id="13eb2-117">Administrative shares, e.g., \\\servername\x$</span></span>  
  
-   <span data-ttu-id="13eb2-118">Otros formatos de ruta de acceso UNC, como \\\\?\x:</span><span class="sxs-lookup"><span data-stu-id="13eb2-118">Other UNC path formats like \\\\?\x:</span></span>\  
  
-   <span data-ttu-id="13eb2-119">Unidades de red asignadas.</span><span class="sxs-lookup"><span data-stu-id="13eb2-119">Mapped network drives.</span></span>  
  
### <a name="supported-data-definition-language-ddl-statements"></a><span data-ttu-id="13eb2-120">Instrucciones admitidas del lenguaje de definición de datos (DDL)</span><span class="sxs-lookup"><span data-stu-id="13eb2-120">Supported Data Definition Language (DDL) statements</span></span>  
 <span data-ttu-id="13eb2-121">Las instrucciones DDL [!INCLUDE[tsql](../../includes/tsql-md.md)] y los procedimientos almacenados del motor de base de datos siguientes admiten recursos compartidos de archivos de SMB:</span><span class="sxs-lookup"><span data-stu-id="13eb2-121">The following [!INCLUDE[tsql](../../includes/tsql-md.md)] DDL statements and database engine stored procedures support SMB file shares:</span></span>  
  
1.  [<span data-ttu-id="13eb2-122">CREATE DATABASE &#40;Transact-SQL de SQL Server&#41;</span><span class="sxs-lookup"><span data-stu-id="13eb2-122">CREATE DATABASE &#40;SQL Server Transact-SQL&#41;</span></span>](/sql/t-sql/statements/create-database-sql-server-transact-sql)  
  
2.  [<span data-ttu-id="13eb2-123">ALTER DATABASE &#40;Transact-SQL&#41;</span><span class="sxs-lookup"><span data-stu-id="13eb2-123">ALTER DATABASE &#40;Transact-SQL&#41;</span></span>](/sql/t-sql/statements/alter-database-transact-sql)  
  
3.  [<span data-ttu-id="13eb2-124">RESTORE &#40;Transact-SQL&#41;</span><span class="sxs-lookup"><span data-stu-id="13eb2-124">RESTORE &#40;Transact-SQL&#41;</span></span>](/sql/t-sql/statements/restore-statements-transact-sql)  
  
4.  [<span data-ttu-id="13eb2-125">BACKUP &#40;Transact-SQL&#41;</span><span class="sxs-lookup"><span data-stu-id="13eb2-125">BACKUP &#40;Transact-SQL&#41;</span></span>](/sql/t-sql/statements/backup-transact-sql)  
  
5.  [<span data-ttu-id="13eb2-126">sp_attach_db &#40;Transact-SQL&#41;</span><span class="sxs-lookup"><span data-stu-id="13eb2-126">sp_attach_db &#40;Transact-SQL&#41;</span></span>](/sql/relational-databases/system-stored-procedures/sp-attach-db-transact-sql)  
  
6.  [<span data-ttu-id="13eb2-127">sp_attach_single_file_db &#40;Transact-SQL&#41;</span><span class="sxs-lookup"><span data-stu-id="13eb2-127">sp_attach_single_file_db &#40;Transact-SQL&#41;</span></span>](/sql/relational-databases/system-stored-procedures/sp-attach-single-file-db-transact-sql)  
  
### <a name="installation-options"></a><span data-ttu-id="13eb2-128">Opción de instalación</span><span class="sxs-lookup"><span data-stu-id="13eb2-128">Installation options</span></span>  
  
-   <span data-ttu-id="13eb2-129">En la página "Configuración del Motor de base de datos" de la interfaz de usuario de la instalación, en la pestaña "Directorios de datos", establezca el parámetro "Directorio raíz de datos" como \\\fileserver1\share1\".</span><span class="sxs-lookup"><span data-stu-id="13eb2-129">In setup UI "Database Engine Configuration" page, "Data Directories" tab, set the parameter "Data root directory as "\\\fileserver1\share1\".</span></span>  
  
-   <span data-ttu-id="13eb2-130">En la instalación desde el símbolo del sistema, especifique "/INSTALLSQLDATADIR" como "\\\fileserver1\share1\".</span><span class="sxs-lookup"><span data-stu-id="13eb2-130">In command prompt installation, specify the "/INSTALLSQLDATADIR" as "\\\fileserver1\share1\".</span></span>  
  
     <span data-ttu-id="13eb2-131">A continuación se muestra la sintaxis de ejemplo para instalar [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] en un servidor independiente usando la opción de recurso compartido de archivos de SMB:</span><span class="sxs-lookup"><span data-stu-id="13eb2-131">Here is the sample syntax to install [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] on a Standalone server using SMB file share option:</span></span>  
  
    ```  
    Setup.exe /q /ACTION=Install /FEATURES=SQL /INSTANCENAME=MSSQLSERVER /SQLSVCACCOUNT="<DomainName\UserName>" /SQLSVCPASSWORD="<StrongPassword>" /SQLSYSADMINACCOUNTS="<DomainName\UserName>" /AGTSVCACCOUNT="<DomainName\UserName>" /AGTSVCPASSWORD="<StrongPassword>" /INSTALLSQLDATADIR="\\FileServer\Share1\" /IACCEPTSQLSERVERLICENSETERMS  
    ```  
  
     <span data-ttu-id="13eb2-132">Para instalar una instancia en clúster de conmutación por error de [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] de nodo único con [!INCLUDE[ssDE](../../includes/ssde-md.md)] y [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)], la instancia predeterminada:</span><span class="sxs-lookup"><span data-stu-id="13eb2-132">To install a single-node [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] failover cluster instance with the [!INCLUDE[ssDE](../../includes/ssde-md.md)] and [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)], default instance:</span></span>  
  
    ```  
    setup.exe /q /ACTION=InstallFailoverCluster /InstanceName=MSSQLSERVER /INDICATEPROGRESS /ASSYSADMINACCOUNTS="<DomainName\UserName>" /ASDATADIR=<Drive>:\OLAP\Data /ASLOGDIR=<Drive>:\OLAP\Log /ASBACKUPDIR=<Drive>:\OLAP\Backup /ASCONFIGDIR=<Drive>:\OLAP\Config /ASTEMPDIR=<Drive>:\OLAP\Temp /FAILOVERCLUSTERDISKS="<Cluster Disk Resource Name - for example, 'Disk S:'" /FAILOVERCLUSTERNETWORKNAME="<Insert Network Name>" /FAILOVERCLUSTERIPADDRESSES="IPv4;xx.xxx.xx.xx;Cluster Network;xxx.xxx.xxx.x" /FAILOVERCLUSTERGROUP="MSSQLSERVER" /Features=AS,SQL /ASSVCACCOUNT="<DomainName\UserName>" /ASSVCPASSWORD="xxxxxxxxxxx" /AGTSVCACCOUNT="<DomainName\UserName>" /AGTSVCPASSWORD="xxxxxxxxxxx" /INSTALLSQLDATADIR="\\FileServer\Share1\" /SQLCOLLATION="SQL_Latin1_General_CP1_CS_AS" /SQLSVCACCOUNT="<DomainName\UserName>" /SQLSVCPASSWORD="xxxxxxxxxxx" /SQLSYSADMINACCOUNTS="<DomainName\UserName> /IACCEPTSQLSERVERLICENSETERMS  
    ```  
  
     <span data-ttu-id="13eb2-133">Para obtener más información sobre el uso de varias opciones de parámetros de línea de comandos en [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)] , vea [Install SQL Server 2014 desde el símbolo del sistema](../../database-engine/install-windows/install-sql-server-from-the-command-prompt.md).</span><span class="sxs-lookup"><span data-stu-id="13eb2-133">For more information about the usage of various command line parameter options in [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)], see [Install SQL Server 2014 from the Command Prompt](../../database-engine/install-windows/install-sql-server-from-the-command-prompt.md).</span></span>  
  
## <a name="operating-system-considerations-smb-protocol-vs-ssnoversion"></a><span data-ttu-id="13eb2-134">Consideraciones sobre el sistema operativo (protocolo SMB frente a [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)])</span><span class="sxs-lookup"><span data-stu-id="13eb2-134">Operating System Considerations (SMB Protocol vs. [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)])</span></span>  
 <span data-ttu-id="13eb2-135">Los distintos sistemas operativos Windows tienen diferentes versiones del protocolo SMB y la versión del protocolo SMB es transparente para [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)].</span><span class="sxs-lookup"><span data-stu-id="13eb2-135">Different Windows operating systems has different SMB protocol versions, and the SMB protocol version is transparent to [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)].</span></span> <span data-ttu-id="13eb2-136">A continuación se muestran las ventajas de las distintas versiones del protocolo SMB con respecto a [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)].</span><span class="sxs-lookup"><span data-stu-id="13eb2-136">You can find the benefits of different SMB protocol versions with respect to [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)].</span></span>  
  
|<span data-ttu-id="13eb2-137">Sistema operativo</span><span class="sxs-lookup"><span data-stu-id="13eb2-137">Operating System</span></span>|<span data-ttu-id="13eb2-138">Versión del protocolo SMB2</span><span class="sxs-lookup"><span data-stu-id="13eb2-138">SMB2 protocol version</span></span>|<span data-ttu-id="13eb2-139">Ventajas para [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)]</span><span class="sxs-lookup"><span data-stu-id="13eb2-139">Benefits to [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)]</span></span>|  
|----------------------|---------------------------|-------------------------------------------|  
|[!INCLUDE[firstref_longhorn](../../includes/firstref-longhorn-md.md)] <span data-ttu-id="13eb2-140">SP 2</span><span class="sxs-lookup"><span data-stu-id="13eb2-140">SP 2</span></span>|<span data-ttu-id="13eb2-141">2.0</span><span class="sxs-lookup"><span data-stu-id="13eb2-141">2.0</span></span>|<span data-ttu-id="13eb2-142">Rendimiento mejorado con respecto a las versiones anteriores de SMB.</span><span class="sxs-lookup"><span data-stu-id="13eb2-142">Improved performance over previous SMB versions.</span></span><br /><br /> <span data-ttu-id="13eb2-143">Durabilidad, que ayuda a recuperarse de problemas temporales de red.</span><span class="sxs-lookup"><span data-stu-id="13eb2-143">Durability, which helps recover from temporary network glitches.</span></span>|  
|[!INCLUDE[winserver2008r2](../../includes/winserver2008r2-md.md)] <span data-ttu-id="13eb2-144">SP1, incluido Server Core</span><span class="sxs-lookup"><span data-stu-id="13eb2-144">SP 1, including Server Core</span></span>|<span data-ttu-id="13eb2-145">2.1</span><span class="sxs-lookup"><span data-stu-id="13eb2-145">2.1</span></span>|<span data-ttu-id="13eb2-146">Compatibilidad con MTU grande, lo que beneficia a las transferencias de datos grandes, como operaciones de copia de seguridad y restauración de SQL.</span><span class="sxs-lookup"><span data-stu-id="13eb2-146">Support for large MTU, which benefits large data transfers, such as SQL backup and restore.</span></span> <span data-ttu-id="13eb2-147">Esta capacidad la debe habilitar el usuario.</span><span class="sxs-lookup"><span data-stu-id="13eb2-147">This capability must be enabled by user.</span></span> <span data-ttu-id="13eb2-148">Para obtener más detalles sobre cómo habilitar esta función, vea [Novedades de SMB](https://go.microsoft.com/fwlink/?LinkID=237319) (https://go.microsoft.com/fwlink/?LinkID=237319).</span><span class="sxs-lookup"><span data-stu-id="13eb2-148">For more details on how to enable this capability, see [What's New in SMB](https://go.microsoft.com/fwlink/?LinkID=237319) (https://go.microsoft.com/fwlink/?LinkID=237319).</span></span><br /><br /> <span data-ttu-id="13eb2-149">Mejoras significativas en el rendimiento, concretamente para las cargas de trabajo de estilo OLTP de SQL.</span><span class="sxs-lookup"><span data-stu-id="13eb2-149">Significant performance improvements, specifically for SQL OLTP style workloads.</span></span> <span data-ttu-id="13eb2-150">Estas mejoras de rendimiento necesitan la aplicación de una revisión.</span><span class="sxs-lookup"><span data-stu-id="13eb2-150">These performance improvements require applying a hotfix.</span></span> <span data-ttu-id="13eb2-151">Para obtener más información sobre la revisión, vea [esto](https://go.microsoft.com/fwlink/?LinkId=237320) (https://go.microsoft.com/fwlink/?LinkId=237320).</span><span class="sxs-lookup"><span data-stu-id="13eb2-151">For more information on the hotfix, see [this](https://go.microsoft.com/fwlink/?LinkId=237320) (https://go.microsoft.com/fwlink/?LinkId=237320).</span></span>|  
|[!INCLUDE[win8srv](../../includes/win8srv-md.md)]<span data-ttu-id="13eb2-152">, incluido Server Core</span><span class="sxs-lookup"><span data-stu-id="13eb2-152">, including Server Core</span></span>|<span data-ttu-id="13eb2-153">3.0</span><span class="sxs-lookup"><span data-stu-id="13eb2-153">3.0</span></span>|<span data-ttu-id="13eb2-154">Admite conmutación por error transparente de los recursos compartidos de archivos que proporcionan cero tiempo de inactividad sin que sea necesaria la intervención del administrador DBA o del servidor de archivos de SQL en las configuraciones de clúster de servidores de archivos.</span><span class="sxs-lookup"><span data-stu-id="13eb2-154">Support for transparent failover of file shares providing zero downtime with no administrator intervention required for SQL DBA or file server administrator in file server cluster configurations.</span></span><br /><br /> <span data-ttu-id="13eb2-155">Compatibilidad con E/S usando varias interfaces de red simultáneamente, así como tolerancia a errores de interfaz de red.</span><span class="sxs-lookup"><span data-stu-id="13eb2-155">Support for IO using multiple network interfaces simultaneously, as well as tolerance to network interface failure.</span></span><br /><br /> <span data-ttu-id="13eb2-156">Compatibilidad con interfaces de red con funciones de RDMA.</span><span class="sxs-lookup"><span data-stu-id="13eb2-156">Support for network interfaces with RDMA capabilities.</span></span><br /><br /> <span data-ttu-id="13eb2-157">Para obtener más información sobre estas características y el bloque de mensajes de servidor, vea [Información general del bloque de mensajes de servidor](https://go.microsoft.com/fwlink/?LinkId=253174) (https://go.microsoft.com/fwlink/?LinkId=253174).</span><span class="sxs-lookup"><span data-stu-id="13eb2-157">For more information on these features and Server Message Block, see [Server Message Block overview](https://go.microsoft.com/fwlink/?LinkId=253174) (https://go.microsoft.com/fwlink/?LinkId=253174).</span></span><br /><br /> <span data-ttu-id="13eb2-158">Compatibilidad de la escala del servidor de archivos (SoFS) con disponibilidad continua.</span><span class="sxs-lookup"><span data-stu-id="13eb2-158">Support for Scale Out File Server (SoFS) with continuous availability.</span></span>|  
|[!INCLUDE[win8srv](../../includes/win8srv-md.md)] <span data-ttu-id="13eb2-159">R2, incluido Server Core</span><span class="sxs-lookup"><span data-stu-id="13eb2-159">R2, including Server Core</span></span>|<span data-ttu-id="13eb2-160">3.2</span><span class="sxs-lookup"><span data-stu-id="13eb2-160">3.2</span></span>|<span data-ttu-id="13eb2-161">Admite conmutación por error transparente de los recursos compartidos de archivos que proporcionan cero tiempo de inactividad sin que sea necesaria la intervención del administrador DBA o del servidor de archivos de SQL en las configuraciones de clúster de servidores de archivos.</span><span class="sxs-lookup"><span data-stu-id="13eb2-161">Support for transparent failover of file shares providing zero downtime with no administrator intervention required for SQL DBA or file server administrator in file server cluster configurations.</span></span><br /><br /> <span data-ttu-id="13eb2-162">Compatibilidad con E/S usando varias interfaces de red simultáneamente, así como tolerancia a errores de interfaz de red, con SMB multicanal.</span><span class="sxs-lookup"><span data-stu-id="13eb2-162">Support for IO using multiple network interfaces simultaneously, as well as tolerance to network interface failure, using SMB Multichannel.</span></span><br /><br /> <span data-ttu-id="13eb2-163">Compatibilidad con interfaces de red con funciones de RDMA con SMB Direct.</span><span class="sxs-lookup"><span data-stu-id="13eb2-163">Support for network interfaces with RDMA capabilities using SMB Direct.</span></span><br /><br /> <span data-ttu-id="13eb2-164">Para obtener más información sobre estas características y el bloque de mensajes de servidor, vea [Información general del bloque de mensajes de servidor](https://go.microsoft.com/fwlink/?LinkId=253174) (https://go.microsoft.com/fwlink/?LinkId=253174).</span><span class="sxs-lookup"><span data-stu-id="13eb2-164">For more information on these features and Server Message Block, see [Server Message Block overview](https://go.microsoft.com/fwlink/?LinkId=253174) (https://go.microsoft.com/fwlink/?LinkId=253174).</span></span><br /><br /> <span data-ttu-id="13eb2-165">Compatibilidad de la escala del servidor de archivos (SoFS) con disponibilidad continua.</span><span class="sxs-lookup"><span data-stu-id="13eb2-165">Support for Scale Out File Server (SoFS) with continuous availability.</span></span><br /><br /> <span data-ttu-id="13eb2-166">Optimizado para E/S pequeñas de lectura/escritura aleatoria comunes para [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] OLTP.</span><span class="sxs-lookup"><span data-stu-id="13eb2-166">Optimized for small random read/write I/O common to [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] OLTP.</span></span><br /><br /> <span data-ttu-id="13eb2-167">Se activa la Unidad de transmisión máxima (MTU) de forma predeterminada, lo que mejora significativamente el rendimiento en las transferencias secuenciales grandes como el almacenamiento de datos [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] y la copia de seguridad o restauración de la base de datos.</span><span class="sxs-lookup"><span data-stu-id="13eb2-167">Maximum Transmission Unit (MTU) is turned on by default, which significantly enhances performance in large sequential transfers like [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] data warehouse and database backup or restore.</span></span>|  
  
## <a name="security-considerations"></a><span data-ttu-id="13eb2-168">Consideraciones sobre la seguridad</span><span class="sxs-lookup"><span data-stu-id="13eb2-168">Security Considerations</span></span>  
  
-   <span data-ttu-id="13eb2-169">La cuenta de servicio de [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] y la cuenta de servicio del agente [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] deben tener permisos de recurso compartido CONTROL TOTAL y permisos NTFS en las carpetas de recursos compartidos SMB.</span><span class="sxs-lookup"><span data-stu-id="13eb2-169">The [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] service account and [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] agent service account should have FULL CONTROL share permissions and NTFS permissions on the SMB share folders.</span></span> <span data-ttu-id="13eb2-170">Si se usa un servidor de archivos SMB, la cuenta de servicio de [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] puede ser una cuenta de dominio o una cuenta del sistema.</span><span class="sxs-lookup"><span data-stu-id="13eb2-170">The [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] service account can be a domain account or a system account if an SMB file server is used.</span></span> <span data-ttu-id="13eb2-171">Para obtener más información sobre los permisos NTFS y de uso compartido, vea [Permisos NTFS y de uso compartido en un servidor de archivos](https://go.microsoft.com/fwlink/?LinkId=245535) (https://go.microsoft.com/fwlink/?LinkId=245535).</span><span class="sxs-lookup"><span data-stu-id="13eb2-171">For more information about share and NTFS permissions, see [Share and NTFS Permissions on a File Server](https://go.microsoft.com/fwlink/?LinkId=245535) (https://go.microsoft.com/fwlink/?LinkId=245535).</span></span>  
  
    > [!NOTE]  
    >  <span data-ttu-id="13eb2-172">Los permisos de recursos compartidos y los permisos NTFS FULL CONTROL en las carpetas de recursos compartidos SMB deben limitarse a la cuenta de servicio de [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] , la cuenta de servicio del Agente [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] y los usuarios de windows con roles de servidor de administración.</span><span class="sxs-lookup"><span data-stu-id="13eb2-172">The FULL CONTROL share permissions and NTFS permissions on the SMB share folders should be restricted to: [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] service account, [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] Agent service account and windows users with admin server roles.</span></span>  
  
     <span data-ttu-id="13eb2-173">Se recomienda usar una cuenta de dominio como cuenta de servicio de [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)].</span><span class="sxs-lookup"><span data-stu-id="13eb2-173">It is recommended to use domain account as a [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] service account.</span></span> <span data-ttu-id="13eb2-174">Si la cuenta del sistema se usa como cuenta de servicio, conceda los permisos para la cuenta de equipo con el formato: _<domain_name>_ **\\** _<computer_name _>**$** .</span><span class="sxs-lookup"><span data-stu-id="13eb2-174">If system account is used as a service account, grant the permissions for the machine account in the format: _<domain_name>_**\\**_<computer_name>_**$**.</span></span>  
  
    > [!NOTE]  
    >  -   <span data-ttu-id="13eb2-175">Durante la instalación de [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)], es necesario especificar la cuenta de dominio como una cuenta de servicio si el recurso compartido de archivos de SMB se especifica como opción de almacenamiento.</span><span class="sxs-lookup"><span data-stu-id="13eb2-175">During [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] setup, it is required to specify domain account as a service account if SMB file share is specified as a storage option.</span></span> <span data-ttu-id="13eb2-176">Con el recurso compartido de archivos de SMB, la cuenta del sistema solo se puede especificar como una cuenta de servicio después de la instalación de [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] .</span><span class="sxs-lookup"><span data-stu-id="13eb2-176">With SMB file share, System account can only be specified as a service account post [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] installation.</span></span>  
    > -   <span data-ttu-id="13eb2-177">Las cuentas virtuales no se pueden autenticar en una ubicación remota.</span><span class="sxs-lookup"><span data-stu-id="13eb2-177">Virtual accounts cannot be authenticated to a remote location.</span></span> <span data-ttu-id="13eb2-178">Todas las cuentas virtuales usan el permiso de la cuenta del equipo.</span><span class="sxs-lookup"><span data-stu-id="13eb2-178">All virtual accounts use the permission of machine account.</span></span> <span data-ttu-id="13eb2-179">Aprovisione la cuenta de equipo con el formato _<nombre_dominio>_ **\\** _<nombre_equipo>_ **$** .</span><span class="sxs-lookup"><span data-stu-id="13eb2-179">Provision the machine account in the format _<domain_name>_**\\**_<computer_name>_**$**.</span></span>  
  
-   <span data-ttu-id="13eb2-180">La cuenta usada para instalar [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] debe tener permisos CONTROL TOTAL en la carpeta de recurso compartido de archivos de SMB empleada como directorio de datos, o cualquier otra carpeta de datos (directorio de la base de datos de usuario, directorio de registro de la base de datos de usuario, directorio de TempDB, directorio de registro de TempDB, directorio de copia de seguridad) durante la instalación del clúster.</span><span class="sxs-lookup"><span data-stu-id="13eb2-180">The account used to install [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] should have FULL CONTROL permissions on the SMB file share folder used as the data directory, or any other data folders (User database directory, user database log directory, TempDB directory, TempDB log directory, backup directory) during Cluster Setup.</span></span>  
  
-   <span data-ttu-id="13eb2-181">Al a cuenta que se usa para instalar [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] se le debe conceder los privilegios SeSecurityPrivilege en el servidor de archivos SMB.</span><span class="sxs-lookup"><span data-stu-id="13eb2-181">The account used to install [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] should be granted SeSecurityPrivilege privileges on the SMB file server.</span></span> <span data-ttu-id="13eb2-182">Para ello, use la consola Directiva de seguridad local del servidor de archivos para agregar la cuenta de instalación de [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] a la directiva Administrar registro de seguridad y auditoría.</span><span class="sxs-lookup"><span data-stu-id="13eb2-182">To grant this privilege, use the Local Security Policy console on the file server to add the [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] setup account to the Manage auditing and security log policy.</span></span> <span data-ttu-id="13eb2-183">Esta opción está disponible en la sección Asignaciones de derechos de usuario bajo Directivas locales en la consola Directiva de seguridad local.</span><span class="sxs-lookup"><span data-stu-id="13eb2-183">This setting is available in the User Rights Assignments section under Local Policies in the Local Security Policy console.</span></span>  
  
## <a name="known-issues"></a><span data-ttu-id="13eb2-184">Problemas conocidos</span><span class="sxs-lookup"><span data-stu-id="13eb2-184">Known Issues</span></span>  
  
-   <span data-ttu-id="13eb2-185">Después de separar una base de datos de [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)] que reside en el almacenamiento conectado a la red, pueden surgir problemas con los permisos de base de datos al intentar volver a adjuntar la base de datos de [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] .</span><span class="sxs-lookup"><span data-stu-id="13eb2-185">After you detach a [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)] database that resides on network-attached storage, you might run into database permission issue while trying to reattach the [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] database.</span></span> <span data-ttu-id="13eb2-186">El problema se define en [este artículo de KB](https://go.microsoft.com/fwlink/?LinkId=237321) (https://go.microsoft.com/fwlink/?LinkId=237321).</span><span class="sxs-lookup"><span data-stu-id="13eb2-186">The issue is defined in [this KB article](https://go.microsoft.com/fwlink/?LinkId=237321) (https://go.microsoft.com/fwlink/?LinkId=237321).</span></span> <span data-ttu-id="13eb2-187">Para conocer una solución alternativa a este problema, vea la sección **Más información** del artículo de KB.</span><span class="sxs-lookup"><span data-stu-id="13eb2-187">To work around this issue, see the **More Information** section in the KB article.</span></span>  
  
-   <span data-ttu-id="13eb2-188">Algunos sistemas de terceros, como en el caso de dispositivos de NetApp, no admiten todas las llamadas API de SQL Server.</span><span class="sxs-lookup"><span data-stu-id="13eb2-188">Some third parties, like NetApp device do not support all SQL Server API calls.</span></span> <span data-ttu-id="13eb2-189">Con estos, puede obtener:</span><span class="sxs-lookup"><span data-stu-id="13eb2-189">With these you might get:</span></span>   
    <span data-ttu-id="13eb2-190">2015-06-04 13:14:19.97 spid9s error: 17053, gravedad: 16, estado: 1.</span><span class="sxs-lookup"><span data-stu-id="13eb2-190">2015-06-04 13:14:19.97 spid9s      Error: 17053, Severity: 16, State: 1.</span></span>  
    <span data-ttu-id="13eb2-191">2015-06-04 13:14:19.97 spid9s DoDevIoCtlOut () GetOverlappedResult (): se encontró un error de sistema operativo 1 (función incorrecta.).</span><span class="sxs-lookup"><span data-stu-id="13eb2-191">2015-06-04 13:14:19.97 spid9s      DoDevIoCtlOut() GetOverlappedResult() : Operating system error 1(Incorrect function.) encountered.</span></span>  
  
     <span data-ttu-id="13eb2-192">En el caso de NTFS, el error resulta inofensivo;</span><span class="sxs-lookup"><span data-stu-id="13eb2-192">For NTFS, the error is harmless.</span></span>  <span data-ttu-id="13eb2-193">en el de ReFS, por el contrario, puede provocar una degradación significativa del rendimiento.</span><span class="sxs-lookup"><span data-stu-id="13eb2-193">but for ReFS, it can lead to significant performance degradation.</span></span>  
  
-   <span data-ttu-id="13eb2-194">Si se usa un recurso compartido de archivo SMB como opción de almacenamiento para una instancia en clúster de [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)], el registro de diagnóstico del clúster de conmutación por error de [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] no puede escribirse de forma predeterminada en el recurso compartido de archivo porque la biblioteca DLL de recursos de [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] carece de permiso de lectura y escritura en el recurso compartido de archivo.</span><span class="sxs-lookup"><span data-stu-id="13eb2-194">If SMB file share is used as a storage option for a clustered instance of [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)], by default the [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] Failover Cluster Diagnostics Log cannot be written to the file share because [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] Resource DLL lacks the read/write permission on the file share.</span></span> <span data-ttu-id="13eb2-195">Para resolver este problema, intente uno de los métodos siguientes:</span><span class="sxs-lookup"><span data-stu-id="13eb2-195">To resolve this issue, try one of the following methods:</span></span>  
  
    1.  <span data-ttu-id="13eb2-196">Conceda permisos de lectura y escritura en el recurso compartido de archivo a todos los objetos de equipo del clúster.</span><span class="sxs-lookup"><span data-stu-id="13eb2-196">Grant read/write permissions on the file share to all computer objects in the cluster.</span></span>  
  
    2.  <span data-ttu-id="13eb2-197">Establezca la ubicación de los registros de diagnóstico en una ruta de acceso de archivo local.</span><span class="sxs-lookup"><span data-stu-id="13eb2-197">Set the location of the diagnostic logs to a local file path.</span></span> <span data-ttu-id="13eb2-198">Observe el ejemplo siguiente:</span><span class="sxs-lookup"><span data-stu-id="13eb2-198">See the following example:</span></span>  
  
        ```sql  
        ALTER SERVER CONFIGURATION  
        SET DIAGNOSTICS LOG PATH = 'C:\logs';  
        ```  
  
## <a name="see-also"></a><span data-ttu-id="13eb2-199">Consulte también</span><span class="sxs-lookup"><span data-stu-id="13eb2-199">See Also</span></span>  
 <span data-ttu-id="13eb2-200">[Planear una instalación de SQL Server](../../../2014/sql-server/install/planning-a-sql-server-installation.md) </span><span class="sxs-lookup"><span data-stu-id="13eb2-200">[Planning a SQL Server Installation](../../../2014/sql-server/install/planning-a-sql-server-installation.md) </span></span>  
 <span data-ttu-id="13eb2-201">[Temas de procedimientos de instalación](../../../2014/sql-server/install/installation-how-to-topics.md) </span><span class="sxs-lookup"><span data-stu-id="13eb2-201">[Installation How-to Topics](../../../2014/sql-server/install/installation-how-to-topics.md) </span></span>  
 [<span data-ttu-id="13eb2-202">Configurar los permisos y las cuentas de servicio de Windows</span><span class="sxs-lookup"><span data-stu-id="13eb2-202">Configure Windows Service Accounts and Permissions</span></span>](../configure-windows/configure-windows-service-accounts-and-permissions.md)  
  
  
