---
title: Conectar al motor de base de datos con protección ampliada | Microsoft Docs
ms.custom: ''
ms.date: 06/13/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: configuration
ms.topic: conceptual
helpviewer_keywords:
- spoofing attacks
- service binding
- luring attacks
- Schannel
- channel binding
- Extended Protection
ms.assetid: ecfd783e-7dbb-4a6c-b5ab-c6c27d5dd57f
author: MikeRayMSFT
ms.author: mikeray
ms.openlocfilehash: 718e5c9897f0883734d460e34ca26bba4f759a54
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 08/04/2020
ms.locfileid: "87674318"
---
# <a name="connect-to-the-database-engine-using-extended-protection"></a><span data-ttu-id="2c721-102">Conectar al motor de base de datos con protección ampliada</span><span class="sxs-lookup"><span data-stu-id="2c721-102">Connect to the Database Engine Using Extended Protection</span></span>
  [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] <span data-ttu-id="2c721-103">admite la **protección ampliada** a partir de [!INCLUDE[ssKilimanjaro](../../includes/sskilimanjaro-md.md)].</span><span class="sxs-lookup"><span data-stu-id="2c721-103">supports **Extended Protection** beginning with [!INCLUDE[ssKilimanjaro](../../includes/sskilimanjaro-md.md)].</span></span> <span data-ttu-id="2c721-104">La**protección ampliada para la autenticación** es una característica de los componentes de red que implementa el sistema operativo.</span><span class="sxs-lookup"><span data-stu-id="2c721-104">**Extended Protection for Authentication** is a feature of the network components implemented by the operating system.</span></span> <span data-ttu-id="2c721-105">La**protección ampliada** se admite en Windows 7 y Windows Server 2008 R2.</span><span class="sxs-lookup"><span data-stu-id="2c721-105">**Extended Protection** is supported in Windows 7 and Windows Server 2008 R2.</span></span> <span data-ttu-id="2c721-106">**Protección ampliada** se incluye en Service packs para [!INCLUDE[msCoName](../../includes/msconame-md.md)] sistemas operativos antiguos.</span><span class="sxs-lookup"><span data-stu-id="2c721-106">**Extended Protection** is included in service packs for older [!INCLUDE[msCoName](../../includes/msconame-md.md)] operating systems.</span></span> [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] <span data-ttu-id="2c721-107">es más seguro cuando las conexiones se realizan con **Extended Protection**.</span><span class="sxs-lookup"><span data-stu-id="2c721-107">is more secure when connections are made using **Extended Protection**.</span></span>  
  
> [!IMPORTANT]  
>  <span data-ttu-id="2c721-108">Windows no habilita la **protección ampliada** de forma predeterminada.</span><span class="sxs-lookup"><span data-stu-id="2c721-108">Windows does not enable **Extended Protection** by default.</span></span> <span data-ttu-id="2c721-109">Para obtener información acerca de cómo habilitar la **protección ampliada** en Windows, vea [Protección ampliada para la autenticación](https://support.microsoft.com/kb/968389).</span><span class="sxs-lookup"><span data-stu-id="2c721-109">For information about how to enable **Extended Protection** in Windows, see [Extended Protection for Authentication](https://support.microsoft.com/kb/968389).</span></span>  
  
## <a name="description-of-extended-protection"></a><span data-ttu-id="2c721-110">Descripción de la protección ampliada</span><span class="sxs-lookup"><span data-stu-id="2c721-110">Description of Extended Protection</span></span>  
 <span data-ttu-id="2c721-111">La**protección ampliada** usa el enlace de servicio y el enlace de canal para ayudar a evitar un ataque de retransmisión de autenticación.</span><span class="sxs-lookup"><span data-stu-id="2c721-111">**Extended Protection** uses service binding and channel binding to help prevent an authentication relay attack.</span></span> <span data-ttu-id="2c721-112">En un ataque de retransmisión de autenticación, un cliente que puede realizar la autenticación NTLM (por ejemplo, el Explorador de Windows, [!INCLUDE[msCoName](../../includes/msconame-md.md)] Outlook, una aplicación .NET SqlClient, etc.) se conecta a un atacante (por ejemplo, un servidor de archivos CIFS malintencionado).</span><span class="sxs-lookup"><span data-stu-id="2c721-112">In an authentication relay attack, a client that can perform NTLM authentication (for example, Windows Explorer, [!INCLUDE[msCoName](../../includes/msconame-md.md)] Outlook, a .NET SqlClient application, etc.), connects to an attacker (for example, a malicious CIFS file server).</span></span> <span data-ttu-id="2c721-113">El atacante usa las credenciales del cliente para hacerse pasar por este y autenticarse en un servicio (por ejemplo, una instancia del servicio [!INCLUDE[ssDE](../../includes/ssde-md.md)]).</span><span class="sxs-lookup"><span data-stu-id="2c721-113">The attacker uses the client's credentials to masquerade as the client and authenticate to a service (for example, an instance of the [!INCLUDE[ssDE](../../includes/ssde-md.md)] service).</span></span>  
  
 <span data-ttu-id="2c721-114">Hay dos variaciones de este ataque:</span><span class="sxs-lookup"><span data-stu-id="2c721-114">There are two variations of this attack:</span></span>  
  
-   <span data-ttu-id="2c721-115">En un ataque por señuelo, el cliente es atraído para conectar voluntariamente con el atacante.</span><span class="sxs-lookup"><span data-stu-id="2c721-115">In a luring attack, the client is lured to voluntarily connect to the attacker.</span></span>  
  
-   <span data-ttu-id="2c721-116">En un ataque de suplantación, el cliente pretende conectarse a un servicio válido, pero no es consciente de que DNS o el enrutamiento IP, o ambos, se han alterado para redirigir la conexión al atacante en su lugar.</span><span class="sxs-lookup"><span data-stu-id="2c721-116">In a spoofing attack, the client intends to connect to a valid service, but is unaware that one or both of DNS and IP routing are poisoned to redirect the connection to the attacker instead.</span></span>  
  
 [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] <span data-ttu-id="2c721-117">admite el enlace de servicio y el enlace de canal para ayudar a reducir estos ataques en sesiones de [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] .</span><span class="sxs-lookup"><span data-stu-id="2c721-117">supports service binding and channel binding to help reduce these attacks on [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] instances.</span></span>  
  
### <a name="service-binding"></a><span data-ttu-id="2c721-118">enlace del servicio</span><span class="sxs-lookup"><span data-stu-id="2c721-118">Service Binding</span></span>  
 <span data-ttu-id="2c721-119">El enlace de servicio soluciona los ataques por señuelo exigiendo que un cliente envíe un nombre principal de servicio (SPN) firmado del servicio de [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] al que el cliente pretende conectarse.</span><span class="sxs-lookup"><span data-stu-id="2c721-119">Service binding addresses luring attacks by requiring a client to send a signed service principal name (SPN) of the [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] service that the client intends to connect to.</span></span> <span data-ttu-id="2c721-120">Como parte de la respuesta de la autenticación, el servicio valida que el SPN recibido en el paquete coincida con su propio SPN.</span><span class="sxs-lookup"><span data-stu-id="2c721-120">As part of the authentication response, the service validates that the SPN received in the packet matches its own SPN.</span></span> <span data-ttu-id="2c721-121">Si un cliente es atraído para conectarse a un atacante, el cliente incluirá el SPN firmado del atacante.</span><span class="sxs-lookup"><span data-stu-id="2c721-121">If a client is lured to connect to an attacker, the client will include the signed SPN of the attacker.</span></span> <span data-ttu-id="2c721-122">El atacante no puede retransmitir el paquete para autenticar al servicio de [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] real como el cliente, porque incluiría el SPN del atacante.</span><span class="sxs-lookup"><span data-stu-id="2c721-122">The attacker cannot relay the packet to authenticate to the real [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] service as the client, because it would include the SPN of the attacker.</span></span> <span data-ttu-id="2c721-123">El enlace de servicio incurre en un costo insignificante una sola vez, pero no soluciona los ataques de suplantación.</span><span class="sxs-lookup"><span data-stu-id="2c721-123">Service binding incurs a one-time, negligible cost, but it does not address spoofing attacks.</span></span> <span data-ttu-id="2c721-124">El enlace de servicio se produce cuando una aplicación cliente no usa el cifrado para conectarse a [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)].</span><span class="sxs-lookup"><span data-stu-id="2c721-124">Service Binding occurs when a client application does not use encryption to connect to the [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)].</span></span>  
  
### <a name="channel-binding"></a><span data-ttu-id="2c721-125">enlace del canal</span><span class="sxs-lookup"><span data-stu-id="2c721-125">Channel Binding</span></span>  
 <span data-ttu-id="2c721-126">El enlace de canal establece un canal seguro (Schannel) entre un cliente y una instancia del servicio [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] .</span><span class="sxs-lookup"><span data-stu-id="2c721-126">Channel binding establishes a secure channel (Schannel) between a client and an instance of the [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] service.</span></span> <span data-ttu-id="2c721-127">El servicio comprueba la autenticidad del cliente comparando el token de enlace de canal (CBT) del cliente específico de ese canal, con su propio CBT.</span><span class="sxs-lookup"><span data-stu-id="2c721-127">The service verifies the authenticity of the client by comparing the client's channel binding token (CBT) specific to that channel, with its own CBT.</span></span> <span data-ttu-id="2c721-128">El enlace de canal trata tanto los ataques de suplantación como los de atracción.</span><span class="sxs-lookup"><span data-stu-id="2c721-128">Channel binding addresses both luring and spoofing attacks.</span></span> <span data-ttu-id="2c721-129">Sin embargo, incurre en un costo de tiempo de ejecución mayor, porque requiere cifrado de Seguridad de la capa de transporte (TLS) de todo el tráfico de la sesión.</span><span class="sxs-lookup"><span data-stu-id="2c721-129">However, it incurs a larger runtime cost, because it requires Transport Layer Security (TLS) encryption of all the session traffic.</span></span> <span data-ttu-id="2c721-130">El enlace de canal se produce cuando una aplicación cliente usa el cifrado para conectarse a [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)], independientemente de si el cifrado lo fuerza el cliente o el servidor.</span><span class="sxs-lookup"><span data-stu-id="2c721-130">Channel Binding occurs when a client application uses encryption to connect to the [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)], regardless of whether encryption is enforced by the client or by the server.</span></span>  
  
> [!WARNING]  
>  <span data-ttu-id="2c721-131">Los proveedores de datos de [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] y [!INCLUDE[msCoName](../../includes/msconame-md.md)] de [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] admiten TLS 1.0 y SSL 3.0.</span><span class="sxs-lookup"><span data-stu-id="2c721-131">[!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] and [!INCLUDE[msCoName](../../includes/msconame-md.md)] data providers for [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] support TLS 1.0 and SSL 3.0.</span></span> <span data-ttu-id="2c721-132">Si fuerza un protocolo diferente (como por ejemplo, TLS 1.1 o TLS 1.2) realizando cambios en la capa SChannel del sistema operativo, las conexiones a [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] podrían no funcionar como es debido.</span><span class="sxs-lookup"><span data-stu-id="2c721-132">If you enforce a different protocol (such as TLS 1.1 or TLS 1.2) by making changes in the operating system SChannel layer, your connections to [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] might fail.</span></span>  
  
### <a name="operating-system-support"></a><span data-ttu-id="2c721-133">Sistemas operativos admitidos</span><span class="sxs-lookup"><span data-stu-id="2c721-133">Operating System Support</span></span>  
 <span data-ttu-id="2c721-134">Los siguientes vínculos proporcionan más información acerca del modo en que Windows admite la **protección ampliada**:</span><span class="sxs-lookup"><span data-stu-id="2c721-134">The following links provide more information about how Windows supports **Extended Protection**:</span></span>  
  
-   [<span data-ttu-id="2c721-135">Autenticación de Windows integrada con protección ampliada</span><span class="sxs-lookup"><span data-stu-id="2c721-135">Integrated Windows Authentication with Extended Protection</span></span>](https://msdn.microsoft.com/library/dd639324.aspx)  
  
-   [<span data-ttu-id="2c721-136">Asesor de seguridad de Microsoft (973811), protección ampliada para la autenticación</span><span class="sxs-lookup"><span data-stu-id="2c721-136">Microsoft Security Advisory (973811), Extended Protection for Authentication</span></span>](https://support.microsoft.com//help/973811/microsoft-security-advisory-extended-protection-for-authentication)  
  
## <a name="settings"></a><span data-ttu-id="2c721-137">Configuración</span><span class="sxs-lookup"><span data-stu-id="2c721-137">Settings</span></span>  
 <span data-ttu-id="2c721-138">Hay tres opciones de configuración de la conexión de [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] que afectan al enlace de servicio y al enlace de canal.</span><span class="sxs-lookup"><span data-stu-id="2c721-138">There are three [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] connection settings that affect service binding and channel binding.</span></span> <span data-ttu-id="2c721-139">Las opciones se pueden configurar utilizando el Administrador de configuración de [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] o WMI, y se pueden ver mediante la faceta **Configuración del protocolo del servidor** de la administración basada en directivas.</span><span class="sxs-lookup"><span data-stu-id="2c721-139">The settings can be configured by using the [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] Configuration Manager, or by using WMI, and can by viewed by using the **Server Protocol Settings** facet of Policy Based Management.</span></span>  
  
-   <span data-ttu-id="2c721-140">**Forzar el cifrado**</span><span class="sxs-lookup"><span data-stu-id="2c721-140">**Force Encryption**</span></span>  
  
     <span data-ttu-id="2c721-141">Los valores posibles son **Activado** y **Desactivado**.</span><span class="sxs-lookup"><span data-stu-id="2c721-141">Possible values are **On** and **Off**.</span></span> <span data-ttu-id="2c721-142">Para usar el enlace de canal, **Forzar cifrado** debe estar establecido en **Activado**y todos los clientes se verán obligados a realizar el cifrado.</span><span class="sxs-lookup"><span data-stu-id="2c721-142">To use channel binding, **Force Encryption** must be set to **On**, and all clients will be forced to encrypt.</span></span> <span data-ttu-id="2c721-143">Si es **Desactivado**, solo se garantiza el enlace de servicio.</span><span class="sxs-lookup"><span data-stu-id="2c721-143">If it is **Off**, only service binding is guaranteed.</span></span> <span data-ttu-id="2c721-144">**Forzar cifrado** está en **Propiedades de Protocolos de MSSQLSERVER (pestaña Marcas)** en el Administrador de configuración de [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] .</span><span class="sxs-lookup"><span data-stu-id="2c721-144">**Force Encryption** is on the **Protocols for MSSQLSERVER Properties (Flags Tab)** in [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] Configuration Manager.</span></span>  
  
-   <span data-ttu-id="2c721-145">**Protección ampliada**</span><span class="sxs-lookup"><span data-stu-id="2c721-145">**Extended Protection**</span></span>  
  
     <span data-ttu-id="2c721-146">Los valores posibles son **Desactivado**, **Permitido**y **Requerido**.</span><span class="sxs-lookup"><span data-stu-id="2c721-146">Possible values are **Off**, **Allowed**, and **Required**.</span></span> <span data-ttu-id="2c721-147">La variable **Protección ampliada** permite a los usuarios configurar el nivel de **protección ampliada** de cada sesión de [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] .</span><span class="sxs-lookup"><span data-stu-id="2c721-147">The **Extended Protection** variable lets users configure the **Extended Protection** level for each [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] instance.</span></span> <span data-ttu-id="2c721-148">**Protección extendida** está en **Propiedades de Protocolos de MSSQLSERVER (pestaña Avanzadas)** en el Administrador de configuración de [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] .</span><span class="sxs-lookup"><span data-stu-id="2c721-148">**Extended Protection** is on the **Protocols for MSSQLSERVER Properties (Advanced Tab)** in [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] Configuration Manager.</span></span>  
  
    -   <span data-ttu-id="2c721-149">Cuando se establece en **Desactivado**, **Protección ampliada** se deshabilita.</span><span class="sxs-lookup"><span data-stu-id="2c721-149">When set to **Off**, **Extended Protection** is disabled.</span></span> <span data-ttu-id="2c721-150">La instancia de [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] aceptará las conexiones de cualquier cliente independientemente de que esté o no protegido.</span><span class="sxs-lookup"><span data-stu-id="2c721-150">The instance of [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] will accept connections from any client regardless of whether the client is protected or not.</span></span> <span data-ttu-id="2c721-151">La configuración**Desactivado** es compatible con los sistemas operativos sin revisiones y anteriores, pero es menos segura.</span><span class="sxs-lookup"><span data-stu-id="2c721-151">**Off** is compatible with older and unpatched operating systems, but is less secure.</span></span> <span data-ttu-id="2c721-152">Utilice este valor cuando sepa que los sistemas operativos clientes no admiten la protección ampliada.</span><span class="sxs-lookup"><span data-stu-id="2c721-152">Use this setting when you know that the client operating systems do not support extended protection.</span></span>  
  
    -   <span data-ttu-id="2c721-153">Cuando se establece en **Permitido**, la **protección ampliada** se requiere para las conexiones de los sistemas operativos que admiten la **protección ampliada**.</span><span class="sxs-lookup"><span data-stu-id="2c721-153">When set to **Allowed**, **Extended Protection** is required for connections from operating systems that support **Extended Protection**.</span></span> <span data-ttu-id="2c721-154">La**protección ampliada** se omite para las conexiones de los sistemas operativos que no admiten la **protección ampliada**.</span><span class="sxs-lookup"><span data-stu-id="2c721-154">**Extended Protection** is ignored for connections from operating systems that do not support **Extended Protection**.</span></span> <span data-ttu-id="2c721-155">Se rechazan las conexiones de las aplicaciones cliente no protegidas que se estén ejecutando en sistemas operativos clientes protegidos.</span><span class="sxs-lookup"><span data-stu-id="2c721-155">Connections from unprotected client applications that are running on protected client operating systems are rejected.</span></span> <span data-ttu-id="2c721-156">Esta configuración es más segura que **Desactivado**, pero no es la más segura.</span><span class="sxs-lookup"><span data-stu-id="2c721-156">This setting is more secure than **Off**, but is not the most secure setting.</span></span> <span data-ttu-id="2c721-157">Utilice esta configuración en entornos mixtos, donde no todos los sistemas operativos admitan **protección ampliada** .</span><span class="sxs-lookup"><span data-stu-id="2c721-157">Use this setting in mixed environments, where some operating systems support **Extended Protection** and some do not.</span></span>  
  
    -   <span data-ttu-id="2c721-158">Cuando se establece en **Requerido**, solo se aceptan las conexiones de las aplicaciones protegidas en sistemas operativos protegidos.</span><span class="sxs-lookup"><span data-stu-id="2c721-158">When set to **Required**, only connections from protected applications on protected operating systems are accepted.</span></span> <span data-ttu-id="2c721-159">Esta configuración es la más segura, pero los sistemas operativos o las aplicaciones que no admitan la **protección ampliada** no podrán conectarse a [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)].</span><span class="sxs-lookup"><span data-stu-id="2c721-159">This setting is the most secure but connections from operating systems or applications that do not support **Extended Protection** will not be able to connect to [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)].</span></span>  
  
-   <span data-ttu-id="2c721-160">**Se aceptan SPN NTLM**</span><span class="sxs-lookup"><span data-stu-id="2c721-160">**Accepted NTLM SPNs**</span></span>  
  
     <span data-ttu-id="2c721-161">Cuando un servidor se conoce por más de un SPN, se necesita la variable **Se aceptan SPN NTLM** .</span><span class="sxs-lookup"><span data-stu-id="2c721-161">The **Accepted NTLM SPNs** variable is needed when a server is known by more than one SPN.</span></span> <span data-ttu-id="2c721-162">Cuando un cliente intenta conectarse al servidor utilizando un SPN válido que el servidor no conoce, el enlace de servicio dará un error.</span><span class="sxs-lookup"><span data-stu-id="2c721-162">When a client attempts to connect to the server by using a valid SPN that the server does not know, service binding will fail.</span></span> <span data-ttu-id="2c721-163">Para evitar este problema, los usuarios pueden especificar varios SPN que representan al servidor utilizando **Se aceptan SPN NTLM**.</span><span class="sxs-lookup"><span data-stu-id="2c721-163">To avoid this problem, users can specify several SPNs that represent the server by using **Accepted NTLM SPNs**.</span></span> <span data-ttu-id="2c721-164">**Se aceptan SPN NTLM** es una serie de SPN separados por punto y coma.</span><span class="sxs-lookup"><span data-stu-id="2c721-164">**Accepted NTLM SPNs** is a series of SPNs separated my semicolons.</span></span> <span data-ttu-id="2c721-165">Por ejemplo, para permitir los SPN **MSSQLSvc/ nombreDeHost1.Contoso.com** y **MSSQLSvc/ nombreDeHost2.Contoso.com**, escriba **MSSQLSvc/nombreDeHost1 .Contoso.com; MSSQLSvc/nombreDeHost2.Contoso.com** en el cuadro **Se aceptan SPN NTLM** .</span><span class="sxs-lookup"><span data-stu-id="2c721-165">For example, to allow the SPNs **MSSQLSvc/ HostName1.Contoso.com** and **MSSQLSvc/ HostName2.Contoso.com**, type **MSSQLSvc/HostName1.Contoso.com;MSSQLSvc/HostName2.Contoso.com** in the **Accepted NTLM SPNs** box.</span></span> <span data-ttu-id="2c721-166">La variable tiene una longitud máxima de 2.048 caracteres.</span><span class="sxs-lookup"><span data-stu-id="2c721-166">The variable has a maximum length of 2,048 characters.</span></span> <span data-ttu-id="2c721-167">**Se aceptan SPN NTLM** está en **Propiedades de Protocolos de MSSQLSERVER (pestaña Avanzadas)** en el Administrador de configuración de [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] .</span><span class="sxs-lookup"><span data-stu-id="2c721-167">**Accepted NTLM SPNs** is on the **Protocols for MSSQLSERVER Properties (Advanced Tab)** in [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] Configuration Manager.</span></span>  
  
## <a name="enabling-extended-protection-for-the-database-engine"></a><span data-ttu-id="2c721-168">Habilitar la protección ampliada para el motor de base de datos</span><span class="sxs-lookup"><span data-stu-id="2c721-168">Enabling Extended Protection for the Database Engine</span></span>  
 <span data-ttu-id="2c721-169">Para usar la **protección ampliada**, tanto el servidor como el cliente deben tener un sistema operativo en el que se admita la **protección ampliada**y la **protección ampliada** debe estar habilitada en el sistema operativo.</span><span class="sxs-lookup"><span data-stu-id="2c721-169">To use **Extended Protection**, both the server and the client must have an operating system on that supports **Extended Protection**, and **Extended Protection** must be enabled on the operating system.</span></span> <span data-ttu-id="2c721-170">Para obtener más información acerca de cómo habilitar la **protección ampliada** para el sistema operativo, vea [Protección ampliada para la autenticación](https://support.microsoft.com/kb/968389).</span><span class="sxs-lookup"><span data-stu-id="2c721-170">For more information about how to enable **Extended Protection** for the operating system, see [Extended Protection for Authentication](https://support.microsoft.com/kb/968389).</span></span>  
  
 [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] <span data-ttu-id="2c721-171">admite la **protección ampliada** a partir de [!INCLUDE[ssKilimanjaro](../../includes/sskilimanjaro-md.md)].</span><span class="sxs-lookup"><span data-stu-id="2c721-171">supports **Extended Protection** beginning with [!INCLUDE[ssKilimanjaro](../../includes/sskilimanjaro-md.md)].</span></span> <span data-ttu-id="2c721-172">La**protección ampliada** para algunas versiones anteriores de [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] estará disponible en actualizaciones futuras.</span><span class="sxs-lookup"><span data-stu-id="2c721-172">**Extended Protection** for some earlier versions of [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] will be made available in future updates.</span></span> <span data-ttu-id="2c721-173">Después de habilitar la **protección ampliada** en el equipo servidor, siga estos pasos para volver a habilitar la **protección ampliada**en el motor de base de datos:</span><span class="sxs-lookup"><span data-stu-id="2c721-173">After enabling **Extended Protection** on the server computer, use the following steps to enable **Extended Protection**:</span></span>  
  
1.  <span data-ttu-id="2c721-174">En el menú **Inicio** , elija **Todos los programas**, elija **Microsoft SQL Server** y haga clic en **Administrador de configuración de SQL Server**.</span><span class="sxs-lookup"><span data-stu-id="2c721-174">On the **Start** menu, choose **All Programs**, point to **Microsoft SQL Server** and then click **SQL Server Configuration Manager**.</span></span>  
  
2.  <span data-ttu-id="2c721-175">Expanda **SQL Server configuración de red**y, a continuación, haga clic con el botón secundario en **protocolos de** *\<*InstanceName*>* y, a continuación, haga clic en **propiedades**.</span><span class="sxs-lookup"><span data-stu-id="2c721-175">Expand **SQL Server Network Configuration**, and then right-click **Protocols for** *\<*InstanceName*>*, and then click **Properties**.</span></span>  
  
3.  <span data-ttu-id="2c721-176">Para el enlace de canal y el enlace de servicio, en la pestaña **Opciones avanzadas** , establezca **Protección ampliada** en el valor adecuado.</span><span class="sxs-lookup"><span data-stu-id="2c721-176">For both channel binding and service binding, on the **Advanced** tab, set **Extended Protection** to the appropriate setting.</span></span>  
  
4.  <span data-ttu-id="2c721-177">Si lo desea, cuando un servidor se conozca por más de un SPN, en la pestaña **Opciones avanzadas** , configure el campo **Se aceptan SPN NTLM** tal y como se describe en la sección "Configuración".</span><span class="sxs-lookup"><span data-stu-id="2c721-177">Optionally, when a server is known by more than one SPN, on the **Advanced** tab configure the **Accepted NTLM SPNs** field as described in the "Settings" section.</span></span>  
  
5.  <span data-ttu-id="2c721-178">Para el enlace de canal, en la pestaña **Marcas** , establezca **Forzar cifrado** en **Activado**.</span><span class="sxs-lookup"><span data-stu-id="2c721-178">For channel binding, on the **Flags** tab, set **Force Encryption** to **On**.</span></span>  
  
6.  <span data-ttu-id="2c721-179">Reinicie el servicio [!INCLUDE[ssDE](../../includes/ssde-md.md)] .</span><span class="sxs-lookup"><span data-stu-id="2c721-179">Restart the [!INCLUDE[ssDE](../../includes/ssde-md.md)] service.</span></span>  
  
## <a name="configuring-other-sql-server-components"></a><span data-ttu-id="2c721-180">Configurar otros componentes de SQL Server</span><span class="sxs-lookup"><span data-stu-id="2c721-180">Configuring Other SQL Server Components</span></span>  
 <span data-ttu-id="2c721-181">Para obtener más información sobre cómo configurar [!INCLUDE[ssRSnoversion](../../includes/ssrsnoversion-md.md)], vea [Protección ampliada para la autenticación con Reporting Services](../../reporting-services/security/extended-protection-for-authentication-with-reporting-services.md).</span><span class="sxs-lookup"><span data-stu-id="2c721-181">For more information about how to configure [!INCLUDE[ssRSnoversion](../../includes/ssrsnoversion-md.md)], see [Extended Protection for Authentication with Reporting Services](../../reporting-services/security/extended-protection-for-authentication-with-reporting-services.md).</span></span>  
  
 <span data-ttu-id="2c721-182">Al utilizar IIS para tener acceso a los datos de [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] utilizando una conexión HTTPS o HTTP, [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] pueden sacar provecho de la protección ampliada que proporciona IIS.</span><span class="sxs-lookup"><span data-stu-id="2c721-182">When using IIS to access [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] data using an HTTP or HTTPs connection, [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] can take advantage of Extended Protection provided by IIS.</span></span> <span data-ttu-id="2c721-183">Para obtener más información acerca de cómo configurar IIS para utilizar la protección ampliada, vea el tema que trata cómo [configurar la protección ampliada en IIS 7.5](https://go.microsoft.com/fwlink/?LinkId=181105).</span><span class="sxs-lookup"><span data-stu-id="2c721-183">For more information about how to configure IIS to use Extended Protection, see [Configure Extended Protection in IIS 7.5](https://go.microsoft.com/fwlink/?LinkId=181105).</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="2c721-184">Consulte también</span><span class="sxs-lookup"><span data-stu-id="2c721-184">See Also</span></span>  
 <span data-ttu-id="2c721-185">[Configuración de red del servidor](server-network-configuration.md) </span><span class="sxs-lookup"><span data-stu-id="2c721-185">[Server Network Configuration](server-network-configuration.md) </span></span>  
 <span data-ttu-id="2c721-186">[Configuración de red de cliente](client-network-configuration.md) </span><span class="sxs-lookup"><span data-stu-id="2c721-186">[Client Network Configuration](client-network-configuration.md) </span></span>  
 <span data-ttu-id="2c721-187">[Introducción a la protección ampliada para la autenticación](https://go.microsoft.com/fwlink/?LinkID=177943) </span><span class="sxs-lookup"><span data-stu-id="2c721-187">[Extended Protection for Authentication Overview](https://go.microsoft.com/fwlink/?LinkID=177943) </span></span>  
 [<span data-ttu-id="2c721-188">Autenticación de Windows integrada con protección ampliada</span><span class="sxs-lookup"><span data-stu-id="2c721-188">Integrated Windows Authentication with Extended Protection</span></span>](https://go.microsoft.com/fwlink/?LinkId=179922)  
  
  
