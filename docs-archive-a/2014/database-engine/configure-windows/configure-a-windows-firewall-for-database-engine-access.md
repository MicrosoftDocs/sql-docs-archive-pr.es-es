---
title: Configurar Firewall de Windows para el acceso al motor de base de datos | Microsoft Docs
ms.custom: ''
ms.date: 06/22/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: configuration
ms.topic: conceptual
helpviewer_keywords:
- connections [SQL Server], firewall systems
- firewall systems, [Database Engine]
- security [SQL Server], firewalls
ms.assetid: 0093b43c-c6b5-4574-9b30-3a0e91e1a1f9
author: MikeRayMSFT
ms.author: mikeray
ms.openlocfilehash: f76eecb4dd48f3e7f54cad79953773f8432f416e
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 08/04/2020
ms.locfileid: "87677895"
---
# <a name="configure-a-windows-firewall-for-database-engine-access"></a><span data-ttu-id="3c2a8-102">Configurar Firewall de Windows para el acceso al motor de base de datos</span><span class="sxs-lookup"><span data-stu-id="3c2a8-102">Configure a Windows Firewall for Database Engine Access</span></span>
  <span data-ttu-id="3c2a8-103">En este tema se describe cómo configurar un firewall de Windows para el acceso al motor de base de datos en [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)] mediante el Administrador de configuración de SQL Server.</span><span class="sxs-lookup"><span data-stu-id="3c2a8-103">This topic describes how to configure a Windows firewall for Database Engine access in [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)] by using SQL Server Configuration Manager.</span></span> <span data-ttu-id="3c2a8-104">Los sistemas de firewall ayudan a evitar el acceso no autorizado a los recursos de los equipos.</span><span class="sxs-lookup"><span data-stu-id="3c2a8-104">Firewall systems help prevent unauthorized access to computer resources.</span></span> <span data-ttu-id="3c2a8-105">Para obtener acceso a una instancia de [!INCLUDE[ssDEnoversion](../../includes/ssdenoversion-md.md)] a través de un firewall, debe configurar el firewall en el equipo en el que se ejecuta [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] para que permita el acceso.</span><span class="sxs-lookup"><span data-stu-id="3c2a8-105">To access an instance of the [!INCLUDE[ssDEnoversion](../../includes/ssdenoversion-md.md)] through a firewall, you must configure the firewall on the computer running [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] to allow access.</span></span>  
  
 <span data-ttu-id="3c2a8-106">Para obtener más información sobre la configuración predeterminada de Firewall de Windows y una descripción de los puertos TCP que afectan a [!INCLUDE[ssDE](../../includes/ssde-md.md)], Analysis Services, Reporting Services e Integration Services, vea [Configurar Firewall de Windows para permitir el acceso a SQL Server](../../sql-server/install/configure-the-windows-firewall-to-allow-sql-server-access.md).</span><span class="sxs-lookup"><span data-stu-id="3c2a8-106">For more information about the default Windows firewall settings, and a description of the TCP ports that affect the [!INCLUDE[ssDE](../../includes/ssde-md.md)], Analysis Services, Reporting Services, and Integration Services, see [Configure the Windows Firewall to Allow SQL Server Access](../../sql-server/install/configure-the-windows-firewall-to-allow-sql-server-access.md).</span></span> <span data-ttu-id="3c2a8-107">Existen varios sistemas de firewall.</span><span class="sxs-lookup"><span data-stu-id="3c2a8-107">There are many firewall systems available.</span></span> <span data-ttu-id="3c2a8-108">Para obtener información específica, vea la documentación del firewall.</span><span class="sxs-lookup"><span data-stu-id="3c2a8-108">For information specific to your system, see the firewall documentation.</span></span>  
  
 <span data-ttu-id="3c2a8-109">Los pasos principales para permitir el acceso son:</span><span class="sxs-lookup"><span data-stu-id="3c2a8-109">The principal steps to allow access are:</span></span>  
  
1.  <span data-ttu-id="3c2a8-110">Configure el [!INCLUDE[ssDE](../../includes/ssde-md.md)] para que use un puerto TCP/IP específico.</span><span class="sxs-lookup"><span data-stu-id="3c2a8-110">Configure the [!INCLUDE[ssDE](../../includes/ssde-md.md)] to use a specific TCP/IP port.</span></span> <span data-ttu-id="3c2a8-111">La instancia predeterminada de [!INCLUDE[ssDE](../../includes/ssde-md.md)] usa el puerto 1433, pero se puede cambiar.</span><span class="sxs-lookup"><span data-stu-id="3c2a8-111">The default instance of the [!INCLUDE[ssDE](../../includes/ssde-md.md)] uses port 1433, but that can be changed.</span></span> <span data-ttu-id="3c2a8-112">El puerto que usa [!INCLUDE[ssDE](../../includes/ssde-md.md)] aparece en el registro de errores de [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] .</span><span class="sxs-lookup"><span data-stu-id="3c2a8-112">The port used by the [!INCLUDE[ssDE](../../includes/ssde-md.md)] is listed in the [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] error log.</span></span> <span data-ttu-id="3c2a8-113">Las instancias de [!INCLUDE[ssExpress](../../includes/ssexpress-md.md)], [!INCLUDE[ssEW](../../includes/ssew-md.md)] y las instancias con nombre de [!INCLUDE[ssDE](../../includes/ssde-md.md)] usan puertos dinámicos.</span><span class="sxs-lookup"><span data-stu-id="3c2a8-113">Instances of [!INCLUDE[ssExpress](../../includes/ssexpress-md.md)], [!INCLUDE[ssEW](../../includes/ssew-md.md)], and named instances of the [!INCLUDE[ssDE](../../includes/ssde-md.md)] use dynamic ports.</span></span> <span data-ttu-id="3c2a8-114">Para configurar estas instancias de modo que usen un puerto específico, vea [Configurar un servidor para que escuche en un puerto TCP específico &#40;Administrador de configuración de SQL Server&#41;](configure-a-server-to-listen-on-a-specific-tcp-port.md).</span><span class="sxs-lookup"><span data-stu-id="3c2a8-114">To configure these instances to use a specific port, see [Configure a Server to Listen on a Specific TCP Port &#40;SQL Server Configuration Manager&#41;](configure-a-server-to-listen-on-a-specific-tcp-port.md).</span></span>  
  
2.  <span data-ttu-id="3c2a8-115">Configure el firewall para que permita el acceso a ese puerto a los usuarios o equipos autorizados.</span><span class="sxs-lookup"><span data-stu-id="3c2a8-115">Configure the firewall to allow access to that port for authorized users or computers.</span></span>  
  
> [!NOTE]  
>  <span data-ttu-id="3c2a8-116">El servicio Explorador de [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] permite a los usuarios conectarse a instancias de [!INCLUDE[ssDE](../../includes/ssde-md.md)] que no están escuchando en el puerto 1433, sin conocer el número de puerto.</span><span class="sxs-lookup"><span data-stu-id="3c2a8-116">The [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] Browser service lets users connect to instances of the [!INCLUDE[ssDE](../../includes/ssde-md.md)] that are not listening on port 1433, without knowing the port number.</span></span> <span data-ttu-id="3c2a8-117">Para utilizar el Explorador de [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] debe abrir el puerto UDP 1434.</span><span class="sxs-lookup"><span data-stu-id="3c2a8-117">To use [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] Browser, you must open UDP port 1434.</span></span> <span data-ttu-id="3c2a8-118">Para promover el entorno más seguro, deje detenido el servicio Explorador de [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] y configure los clientes para que se conecten usando el número de puerto.</span><span class="sxs-lookup"><span data-stu-id="3c2a8-118">To promote the most secure environment, leave the [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] Browser service stopped, and configure clients to connect using the port number.</span></span>  
  
> [!NOTE]  
>  <span data-ttu-id="3c2a8-119">De forma predeterminada, [!INCLUDE[msCoName](../../includes/msconame-md.md)] Windows habilita el Firewall de Windows, que cierra el puerto 1433 para impedir que los equipos de Internet se conecten a una instancia predeterminada de [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] en su equipo.</span><span class="sxs-lookup"><span data-stu-id="3c2a8-119">By default, [!INCLUDE[msCoName](../../includes/msconame-md.md)] Windows enables the Windows Firewall, which closes port 1433 to prevent Internet computers from connecting to a default instance of [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] on your computer.</span></span> <span data-ttu-id="3c2a8-120">No se puede realizar conexiones con TCP/IP a la instancia predeterminada, a menos que se vuelva a abrir el puerto 1433.</span><span class="sxs-lookup"><span data-stu-id="3c2a8-120">Connections to the default instance using TCP/IP are not possible unless you reopen port 1433.</span></span> <span data-ttu-id="3c2a8-121">Los pasos básicos para configurar el Firewall de Windows se proporcionan en los procedimientos siguientes.</span><span class="sxs-lookup"><span data-stu-id="3c2a8-121">The basic steps to configure the Windows firewall are provided in the following procedures.</span></span> <span data-ttu-id="3c2a8-122">Para obtener más información, consulte la documentación de Windows.</span><span class="sxs-lookup"><span data-stu-id="3c2a8-122">For more information, see the Windows documentation.</span></span>  
  
 <span data-ttu-id="3c2a8-123">Como alternativa a la configuración de [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] para escuchar en un puerto fijo y abrir el puerto, puede poner el ejecutable de [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] (Sqlservr.exe) en la lista de excepciones a los programas bloqueados.</span><span class="sxs-lookup"><span data-stu-id="3c2a8-123">As an alternative to configuring [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] to listen on a fixed port and opening the port, you can list the [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] executable (Sqlservr.exe) as an exception to the blocked programs.</span></span> <span data-ttu-id="3c2a8-124">Use este método cuando desee seguir utilizando puertos dinámicos.</span><span class="sxs-lookup"><span data-stu-id="3c2a8-124">Use this method when you want to continue to use dynamic ports.</span></span> <span data-ttu-id="3c2a8-125">De este modo, solo se puede tener acceso a una instancia de [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] .</span><span class="sxs-lookup"><span data-stu-id="3c2a8-125">Only one instance of [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] can be accessed in this way.</span></span>  
  
 <span data-ttu-id="3c2a8-126">**En este tema**</span><span class="sxs-lookup"><span data-stu-id="3c2a8-126">**In This Topic**</span></span>  
  
-   <span data-ttu-id="3c2a8-127">**Antes de empezar:**</span><span class="sxs-lookup"><span data-stu-id="3c2a8-127">**Before you begin:**</span></span>  
  
     [<span data-ttu-id="3c2a8-128">Seguridad</span><span class="sxs-lookup"><span data-stu-id="3c2a8-128">Security</span></span>](#Security)  
  
-   <span data-ttu-id="3c2a8-129">**Para configurar Firewall de Windows para el acceso al motor de base de datos, usando:**</span><span class="sxs-lookup"><span data-stu-id="3c2a8-129">**To configure a Windows Firewall for Database Engine access, using:**</span></span>  
  
     [<span data-ttu-id="3c2a8-130">Administrador de configuración de SQL Server</span><span class="sxs-lookup"><span data-stu-id="3c2a8-130">SQL Server Configuration Manager</span></span>](#SSMSProcedure)  
  
## <a name="before-you-begin"></a><span data-ttu-id="3c2a8-131">Antes de empezar</span><span class="sxs-lookup"><span data-stu-id="3c2a8-131">Before You Begin</span></span>  
  
###  <a name="security"></a><a name="Security"></a> <span data-ttu-id="3c2a8-132">Seguridad</span><span class="sxs-lookup"><span data-stu-id="3c2a8-132">Security</span></span>  
 <span data-ttu-id="3c2a8-133">El hecho de abrir puertos en el firewall puede dejar el servidor expuesto a ataques malintencionados.</span><span class="sxs-lookup"><span data-stu-id="3c2a8-133">Opening ports in your firewall can leave your server exposed to malicious attacks.</span></span> <span data-ttu-id="3c2a8-134">Asegúrese de que conoce los sistemas de firewall antes de abrir puertos.</span><span class="sxs-lookup"><span data-stu-id="3c2a8-134">Make sure that you understand firewall systems before you open ports.</span></span> <span data-ttu-id="3c2a8-135">Para obtener más información, consulte [Security Considerations for a SQL Server Installation](../../sql-server/install/security-considerations-for-a-sql-server-installation.md).</span><span class="sxs-lookup"><span data-stu-id="3c2a8-135">For more information, see [Security Considerations for a SQL Server Installation](../../sql-server/install/security-considerations-for-a-sql-server-installation.md)</span></span>  
  
##  <a name="using-sql-server-configuration-manager"></a><a name="SSMSProcedure"></a> <span data-ttu-id="3c2a8-136">Usar el Administrador de configuración de SQL Server</span><span class="sxs-lookup"><span data-stu-id="3c2a8-136">Using SQL Server Configuration Manager</span></span>  
 <span data-ttu-id="3c2a8-137">Se aplica a Windows Vista, Windows 7 y Windows Server 2008</span><span class="sxs-lookup"><span data-stu-id="3c2a8-137">Applies to Windows Vista, Windows 7, and Windows Server 2008</span></span>  
  
 <span data-ttu-id="3c2a8-138">El siguiente procedimiento configura el Firewall de Windows mediante el complemento Microsoft Management Console (MMC) de Firewall de Windows con seguridad avanzada.</span><span class="sxs-lookup"><span data-stu-id="3c2a8-138">The following procedures configure the Windows Firewall by using the Windows Firewall with Advanced Security Microsoft Management Console (MMC) snap-in.</span></span> <span data-ttu-id="3c2a8-139">El Firewall de Windows con seguridad avanzada solo configura el perfil actual.</span><span class="sxs-lookup"><span data-stu-id="3c2a8-139">The Windows Firewall with Advanced Security only configures the current profile.</span></span> <span data-ttu-id="3c2a8-140">Para obtener más información sobre Firewall de Windows con seguridad avanzada, vea [Configurar Firewall de Windows para permitir el acceso a SQL Server](../../sql-server/install/configure-the-windows-firewall-to-allow-sql-server-access.md).</span><span class="sxs-lookup"><span data-stu-id="3c2a8-140">For more information about the Windows Firewall with Advanced Security, see [Configure the Windows Firewall to Allow SQL Server Access](../../sql-server/install/configure-the-windows-firewall-to-allow-sql-server-access.md)</span></span>  
  
#### <a name="to-open-a-port-in-the-windows-firewall-for-tcp-access"></a><span data-ttu-id="3c2a8-141">Para abrir un puerto en el Firewall de Windows para el acceso TCP</span><span class="sxs-lookup"><span data-stu-id="3c2a8-141">To open a port in the Windows firewall for TCP access</span></span>  
  
1.  <span data-ttu-id="3c2a8-142">En el menú **Inicio** , haga clic en **Ejecutar**, escriba **WF.msc**y, a continuación, haga clic en **Aceptar**.</span><span class="sxs-lookup"><span data-stu-id="3c2a8-142">On the **Start** menu, click **Run**, type **WF.msc**, and then click **OK**.</span></span>  
  
2.  <span data-ttu-id="3c2a8-143">En la opción **Firewall de Windows con seguridad avanzada**del panel izquierdo, haga clic con el botón derecho en **Reglas de entrada**y, luego, haga clic en **Nueva regla** en el panel de acciones.</span><span class="sxs-lookup"><span data-stu-id="3c2a8-143">In the **Windows Firewall with Advanced Security**, in the left pane, right-click **Inbound Rules**, and then click **New Rule** in the action pane.</span></span>  
  
3.  <span data-ttu-id="3c2a8-144">En el cuadro de diálogo **Tipo de regla** , seleccione **Puerto**y, a continuación, haga clic en **Siguiente**.</span><span class="sxs-lookup"><span data-stu-id="3c2a8-144">In the **Rule Type** dialog box, select **Port**, and then click **Next**.</span></span>  
  
4.  <span data-ttu-id="3c2a8-145">En el cuadro de diálogo **Protocolo y puertos** , seleccione **TCP**.</span><span class="sxs-lookup"><span data-stu-id="3c2a8-145">In the **Protocol and Ports** dialog box, select **TCP**.</span></span> <span data-ttu-id="3c2a8-146">Seleccione **puertos locales específicos**y, a continuación, escriba el número de puerto de la instancia de [!INCLUDE[ssDE](../../includes/ssde-md.md)] , por ejemplo, `1433` para la instancia predeterminada.</span><span class="sxs-lookup"><span data-stu-id="3c2a8-146">Select **Specific local ports**, and then type the port number of the instance of the [!INCLUDE[ssDE](../../includes/ssde-md.md)], such as `1433` for the default instance.</span></span> <span data-ttu-id="3c2a8-147">Haga clic en **Next**.</span><span class="sxs-lookup"><span data-stu-id="3c2a8-147">Click **Next**.</span></span>  
  
5.  <span data-ttu-id="3c2a8-148">En el cuadro de diálogo **Acción** , seleccione **Permitir la conexión**y, a continuación, haga clic en **Siguiente**.</span><span class="sxs-lookup"><span data-stu-id="3c2a8-148">In the **Action** dialog box, select **Allow the connection**, and then click **Next**.</span></span>  
  
6.  <span data-ttu-id="3c2a8-149">En el cuadro de diálogo **Perfil** , seleccione los perfiles que describan el entorno de conexión del equipo cuando desee conectarse a [!INCLUDE[ssDE](../../includes/ssde-md.md)]y, a continuación, haga clic en **Siguiente**.</span><span class="sxs-lookup"><span data-stu-id="3c2a8-149">In the **Profile** dialog box, select any profiles that describe the computer connection environment when you want to connect to the [!INCLUDE[ssDE](../../includes/ssde-md.md)], and then click **Next**.</span></span>  
  
7.  <span data-ttu-id="3c2a8-150">En el cuadro de diálogo **Nombre**, escriba el nombre y la descripción de esta regla y haga clic en **Finalizar**.</span><span class="sxs-lookup"><span data-stu-id="3c2a8-150">In the **Name** dialog box, type a name and description for this rule, and then click **Finish**.</span></span>  
  
#### <a name="to-open-access-to-sql-server-when-using-dynamic-ports"></a><span data-ttu-id="3c2a8-151">Para abrir el acceso a SQL Server cuando se usen puertos dinámicos</span><span class="sxs-lookup"><span data-stu-id="3c2a8-151">To open access to SQL Server when using dynamic ports</span></span>  
  
1.  <span data-ttu-id="3c2a8-152">En el menú **Inicio** , haga clic en **Ejecutar**, escriba **WF.msc**y, a continuación, haga clic en **Aceptar**.</span><span class="sxs-lookup"><span data-stu-id="3c2a8-152">On the **Start** menu, click **Run**, type **WF.msc**, and then click **OK**.</span></span>  
  
2.  <span data-ttu-id="3c2a8-153">En la opción **Firewall de Windows con seguridad avanzada**del panel izquierdo, haga clic con el botón derecho en **Reglas de entrada**y, luego, haga clic en **Nueva regla** en el panel de acciones.</span><span class="sxs-lookup"><span data-stu-id="3c2a8-153">In the **Windows Firewall with Advanced Security**, in the left pane, right-click **Inbound Rules**, and then click **New Rule** in the action pane.</span></span>  
  
3.  <span data-ttu-id="3c2a8-154">En el cuadro de diálogo **Tipo de regla** , seleccione **Programa**y, a continuación, haga clic en **Siguiente**.</span><span class="sxs-lookup"><span data-stu-id="3c2a8-154">In the **Rule Type** dialog box, select **Program**, and then click **Next**.</span></span>  
  
4.  <span data-ttu-id="3c2a8-155">En el cuadro de diálogo **Programa** , seleccione **Esta ruta de acceso del programa**.</span><span class="sxs-lookup"><span data-stu-id="3c2a8-155">In the **Program** dialog box, select **This program path**.</span></span> <span data-ttu-id="3c2a8-156">Haga clic en **Examinar**y navegue a la instancia de [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] a la que desee obtener acceso a través del firewall y, a continuación, haga clic en **Abrir**.</span><span class="sxs-lookup"><span data-stu-id="3c2a8-156">Click **Browse**, and navigate to the instance of [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] that you want to access through the firewall, and then click **Open**.</span></span> <span data-ttu-id="3c2a8-157">De forma predeterminada, [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] se encuentra en **C:\Archivos de programa\Microsoft SQL Server\MSSQL12.MSSQLSERVER\MSSQL\Binn\Sqlservr.exe**.</span><span class="sxs-lookup"><span data-stu-id="3c2a8-157">By default, [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] is at **C:\Program Files\Microsoft SQL Server\MSSQL12.MSSQLSERVER\MSSQL\Binn\Sqlservr.exe**.</span></span> <span data-ttu-id="3c2a8-158">Haga clic en **Next**.</span><span class="sxs-lookup"><span data-stu-id="3c2a8-158">Click **Next**.</span></span>  
  
5.  <span data-ttu-id="3c2a8-159">En el cuadro de diálogo **Acción** , seleccione **Permitir la conexión**y, a continuación, haga clic en **Siguiente**.</span><span class="sxs-lookup"><span data-stu-id="3c2a8-159">In the **Action** dialog box, select **Allow the connection**, and then click **Next**.</span></span>  
  
6.  <span data-ttu-id="3c2a8-160">En el cuadro de diálogo **Perfil** , seleccione los perfiles que describan el entorno de conexión del equipo cuando desee conectarse a [!INCLUDE[ssDE](../../includes/ssde-md.md)]y, a continuación, haga clic en **Siguiente**.</span><span class="sxs-lookup"><span data-stu-id="3c2a8-160">In the **Profile** dialog box, select any profiles that describe the computer connection environment when you want to connect to the [!INCLUDE[ssDE](../../includes/ssde-md.md)], and then click **Next**.</span></span>  
  
7.  <span data-ttu-id="3c2a8-161">En el cuadro de diálogo **Nombre**, escriba el nombre y la descripción de esta regla y haga clic en **Finalizar**.</span><span class="sxs-lookup"><span data-stu-id="3c2a8-161">In the **Name** dialog box, type a name and description for this rule, and then click **Finish**.</span></span>  
  
  
