---
title: Directiva de conmutación por error flexible para conmutación automática por error de un grupo de disponibilidad (SQL Server) | Microsoft Docs
ms.custom: ''
ms.date: 06/13/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: high-availability
ms.topic: conceptual
helpviewer_keywords:
- Availability Groups [SQL Server], flexible failover policy
- Availability Groups [SQL Server], failover
- flexible failover policy
- failover [SQL Server], AlwaysOn Availability Groups
ms.assetid: 8c504c7f-5c1d-4124-b697-f735ef0084f0
author: MashaMSFT
ms.author: mathoma
ms.openlocfilehash: cd4dd62d8b30e2041415e0b9be5682ce4b01d1f6
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 08/04/2020
ms.locfileid: "87672269"
---
# <a name="flexible-failover-policy-for-automatic-failover-of-an-availability-group-sql-server"></a><span data-ttu-id="ed951-102">Directiva de conmutación por error flexible para conmutación automática por error de un grupo de disponibilidad (SQL Server)</span><span class="sxs-lookup"><span data-stu-id="ed951-102">Flexible Failover Policy for Automatic Failover of an Availability Group (SQL Server)</span></span>
  <span data-ttu-id="ed951-103">Una directiva de conmutación por error flexible proporciona un control granular sobre las condiciones que causan la [conmutación automática por error](failover-and-failover-modes-always-on-availability-groups.md) para un grupo de disponibilidad.</span><span class="sxs-lookup"><span data-stu-id="ed951-103">A flexible failover policy provides granular control over the conditions that cause [automatic failover](failover-and-failover-modes-always-on-availability-groups.md) for an availability group.</span></span> <span data-ttu-id="ed951-104">Al cambiar las condiciones de error que activan una conmutación automática por error y la frecuencia de comprobaciones de estado, se puede aumentar o reducir la probabilidad de una conmutación automática por error que sea compatible con su SLA por tener alta disponibilidad.</span><span class="sxs-lookup"><span data-stu-id="ed951-104">By changing the failure conditions that trigger an automatic failover and the frequency of health checks, you can increase or decrease the likelihood of an automatic failover to support your SLA for high availability.</span></span>  
  
 <span data-ttu-id="ed951-105">La directiva flexible de conmutación por error de un grupo de disponibilidad se define por su nivel de condición de error y el umbral de tiempo de espera de comprobación de estado.</span><span class="sxs-lookup"><span data-stu-id="ed951-105">The flexible failover policy of an availability group is defined by its failure-condition level and health-check timeout threshold.</span></span> <span data-ttu-id="ed951-106">Al detectar que un grupo de disponibilidad ha superado su nivel de condición de error o su umbral de tiempo de espera de comprobación de estado, la DLL de recursos del grupo de disponibilidad responde a los clústeres de conmutación por error de Windows Server (WSFC).</span><span class="sxs-lookup"><span data-stu-id="ed951-106">On detecting that an availability group has exceeded its failure condition level or its health-check timeout threshold, the availability group's resource DLL responds back to the Windows Server Failover Clustering (WSFC) cluster.</span></span> <span data-ttu-id="ed951-107">El clúster WSFC entonces inicia una conmutación automática por error a la réplica secundaria.</span><span class="sxs-lookup"><span data-stu-id="ed951-107">The WSFC cluster then initiates an automatic failover to the secondary replica.</span></span>  
  
> [!IMPORTANT]  
>  <span data-ttu-id="ed951-108">Si un grupo de disponibilidad supera su umbral de error de WSFC, el clúster de WSFC no intentará una conmutación automática por error para dicho grupo.</span><span class="sxs-lookup"><span data-stu-id="ed951-108">If an availability group exceeds its WSFC failure threshold, the WSFC cluster will not attempt an automatic failover for the availability group.</span></span> <span data-ttu-id="ed951-109">Además, el grupo de recursos de WSFC del grupo de disponibilidad permanece en un estado de error hasta que el administrador del clúster conecta manualmente el grupo de recursos con error o el administrador de la base de datos realiza una conmutación por error manual del grupo de disponibilidad.</span><span class="sxs-lookup"><span data-stu-id="ed951-109">Furthermore, the WSFC resource group of the availability group remains in a failed state until either the cluster administrator manually brings the failed resource group online or the database administrator performs a manual failover of the availability group.</span></span> <span data-ttu-id="ed951-110">El *umbral de error de WSFC* se define como el número máximo de errores admitidos para el grupo de disponibilidad en un período de tiempo determinado.</span><span class="sxs-lookup"><span data-stu-id="ed951-110">The *WSFC failure threshold* is defined as the maximum number of failures supported for the availability group during a given time period.</span></span> <span data-ttu-id="ed951-111">El período predeterminado es de seis horas, y el valor predeterminado del número máximo de errores durante este período es *n*-1, donde *n* es el número de nodos de WSFC.</span><span class="sxs-lookup"><span data-stu-id="ed951-111">The default time period is six hours, and the default value for the maximum number of failures during this period is *n*-1, where *n* is the number of WSFC nodes.</span></span> <span data-ttu-id="ed951-112">Para cambiar los valores del umbral de error de un grupo de disponibilidad determinado, use la consola del administrador de conmutación por error de WSFC.</span><span class="sxs-lookup"><span data-stu-id="ed951-112">To change the failure-threshold values for a given availability group, use the WSFC Failover Manager Console.</span></span>  
  
  
  
##  <a name="health-check-timeout-threshold"></a><a name="HCtimeout"></a> <span data-ttu-id="ed951-113">Umbral de tiempo de espera de comprobación de estado</span><span class="sxs-lookup"><span data-stu-id="ed951-113">Health-Check Timeout Threshold</span></span>  
 <span data-ttu-id="ed951-114">La DLL de recursos del clúster WSFC del grupo de disponibilidad realiza una *comprobación de estado* de la réplica principal, llamando al procedimiento almacenado [sp_server_diagnostics](/sql/relational-databases/system-stored-procedures/sp-server-diagnostics-transact-sql) en la instancia de SQL Server que hospeda la réplica principal.</span><span class="sxs-lookup"><span data-stu-id="ed951-114">WSFC resource DLL of the availability group performs a *health check* of the primary replica by calling the [sp_server_diagnostics](/sql/relational-databases/system-stored-procedures/sp-server-diagnostics-transact-sql) stored procedure on the instance of SQL Server that hosts the primary replica.</span></span> <span data-ttu-id="ed951-115">**sp_server_diagnostics** devuelve resultados en un intervalo que iguala 1/3 del umbral de tiempo de espera de comprobación de estado del grupo de disponibilidad.</span><span class="sxs-lookup"><span data-stu-id="ed951-115">**sp_server_diagnostics** returns results at an interval that equals 1/3 of the health-check timeout threshold for the availability group.</span></span> <span data-ttu-id="ed951-116">El umbral de tiempo de espera de comprobación de estado predeterminado es 30 segundos, lo que hace que **sp_server_diagnostics** devuelva en un intervalo de 10 segundos.</span><span class="sxs-lookup"><span data-stu-id="ed951-116">The default health-check timeout threshold is 30 seconds, which causes **sp_server_diagnostics** to return at a 10-second interval.</span></span> <span data-ttu-id="ed951-117">Si **sp_server_diagnostics** es lento o no devuelve información, la DLL de recursos esperará al intervalo completo del umbral de tiempo de espera de comprobación de estado antes de determinar que la réplica primaria no responde.</span><span class="sxs-lookup"><span data-stu-id="ed951-117">If **sp_server_diagnostics** is slow or is not returning information, the resource DLL will wait for the full interval of the health-check timeout threshold before determining that the primary replica is unresponsive.</span></span> <span data-ttu-id="ed951-118">Si la réplica primaria no responde, se inicia una conmutación automática por error, si se admite actualmente.</span><span class="sxs-lookup"><span data-stu-id="ed951-118">If the primary replica is unresponsive, an automatic failover is initiated, if currently supported.</span></span>  
  
> [!IMPORTANT]  
>  <span data-ttu-id="ed951-119">**sp_server_diagnostics** no realiza comprobaciones de estado en el nivel de base de datos.</span><span class="sxs-lookup"><span data-stu-id="ed951-119">**sp_server_diagnostics** does not perform health checks at the database level.</span></span>  
  
##  <a name="failure-condition-level"></a><a name="FClevel"></a> <span data-ttu-id="ed951-120">Nivel de condición de error</span><span class="sxs-lookup"><span data-stu-id="ed951-120">Failure-Condition Level</span></span>  
 <span data-ttu-id="ed951-121">Si **sp_server_diagnostics** devuelve los datos de diagnóstico y la información de estado, se garantiza que una conmutación automática por error dependa del nivel de condición de error del grupo de disponibilidad.</span><span class="sxs-lookup"><span data-stu-id="ed951-121">Whether the diagnostic data and health information returned by **sp_server_diagnostics** warrants an automatic failover depends on the failure-condition level of the availability group.</span></span> <span data-ttu-id="ed951-122">El *nivel de condición de error* especifica qué condiciones de error desencadenan una conmutación automática por error.</span><span class="sxs-lookup"><span data-stu-id="ed951-122">The *failure-condition level* specifies what failure conditions trigger an automatic failover.</span></span> <span data-ttu-id="ed951-123">Hay cinco niveles de condición de error que abarcan desde el nivel menos restrictivo (nivel uno) al más restrictivo (nivel cinco).</span><span class="sxs-lookup"><span data-stu-id="ed951-123">There are five failure-condition levels, which range from the least restrictive (level one) to the most restrictive (level five).</span></span> <span data-ttu-id="ed951-124">Un nivel dado abarca los niveles menos restrictivos.</span><span class="sxs-lookup"><span data-stu-id="ed951-124">A given level encompasses the less restrictive levels.</span></span> <span data-ttu-id="ed951-125">Así pues, el nivel de condición más estricto, cinco, incluye las condiciones menos restrictivas, y así sucesivamente.</span><span class="sxs-lookup"><span data-stu-id="ed951-125">Thus, the strictest level, five, includes the four less restrictive conditions, and so forth.</span></span>  
  
> [!IMPORTANT]  
>  <span data-ttu-id="ed951-126">Ningún nivel de condición de error detecta las bases de datos dañadas ni las bases de datos sospechosas.</span><span class="sxs-lookup"><span data-stu-id="ed951-126">Damaged databases and suspect databases are not detected by any failure-condition level.</span></span> <span data-ttu-id="ed951-127">Por tanto, una base de datos que está dañada o es sospechosa (debido a un error de hardware, a daños en los datos o a otro problema) nunca desencadena una conmutación automática por error.</span><span class="sxs-lookup"><span data-stu-id="ed951-127">Therefore, a database that is damaged or suspect (whether due to a hardware failure, data corruption, or other issue) never triggers an automatic failover.</span></span>  
  
 <span data-ttu-id="ed951-128">En la tabla siguiente se describen las condiciones de error correspondientes a cada nivel.</span><span class="sxs-lookup"><span data-stu-id="ed951-128">The following table describes the failure-conditions that corresponds to each level.</span></span>  
  
|<span data-ttu-id="ed951-129">Nivel</span><span class="sxs-lookup"><span data-stu-id="ed951-129">Level</span></span>|<span data-ttu-id="ed951-130">Condición de error</span><span class="sxs-lookup"><span data-stu-id="ed951-130">Failure Condition</span></span>|<span data-ttu-id="ed951-131">Valor de [!INCLUDE[tsql](../../../includes/tsql-md.md)]</span><span class="sxs-lookup"><span data-stu-id="ed951-131">[!INCLUDE[tsql](../../../includes/tsql-md.md)] Value</span></span>|<span data-ttu-id="ed951-132">Valor de PowerShell</span><span class="sxs-lookup"><span data-stu-id="ed951-132">PowerShell Value</span></span>|  
|-----------|-----------------------|------------------------------|----------------------|  
|<span data-ttu-id="ed951-133">Uno</span><span class="sxs-lookup"><span data-stu-id="ed951-133">One</span></span>|<span data-ttu-id="ed951-134">Por inactividad de servidor.</span><span class="sxs-lookup"><span data-stu-id="ed951-134">On server down.</span></span> <span data-ttu-id="ed951-135">Este es el nivel menos restrictivo.</span><span class="sxs-lookup"><span data-stu-id="ed951-135">This is the least restrictive level.</span></span> <span data-ttu-id="ed951-136">Especifica que se inicia una conmutación automática por error en los casos siguientes:</span><span class="sxs-lookup"><span data-stu-id="ed951-136">Specifies that an automatic failover is initiated when any of the following occurs:</span></span><br /><br /> <span data-ttu-id="ed951-137">El servicio de [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] está inactivo.</span><span class="sxs-lookup"><span data-stu-id="ed951-137">The [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] service is down.</span></span><br /><br /> <span data-ttu-id="ed951-138">La concesión del grupo de disponibilidad para conectarse al clúster de WSFC expira porque no se ha recibido ninguna confirmación de la instancia del servidor.</span><span class="sxs-lookup"><span data-stu-id="ed951-138">The lease of the availability group for connecting to the WSFC cluster expires because no ACK is received from the server instance.</span></span> <span data-ttu-id="ed951-139">Para obtener más información, vea [Cómo funciona: tiempo de espera de concesión de AlwaysOn de SQL Server](https://blogs.msdn.com/b/psssql/archive/2012/09/07/how-it-works-sql-server-alwayson-lease-timeout.aspx).</span><span class="sxs-lookup"><span data-stu-id="ed951-139">For more information, see [How It Works: SQL Server AlwaysOn Lease Timeout](https://blogs.msdn.com/b/psssql/archive/2012/09/07/how-it-works-sql-server-alwayson-lease-timeout.aspx).</span></span>|<span data-ttu-id="ed951-140">1</span><span class="sxs-lookup"><span data-stu-id="ed951-140">1</span></span>|`OnServerDown`|  
|<span data-ttu-id="ed951-141">Dos</span><span class="sxs-lookup"><span data-stu-id="ed951-141">Two</span></span>|<span data-ttu-id="ed951-142">Al dejar de responder el servidor.</span><span class="sxs-lookup"><span data-stu-id="ed951-142">On server unresponsive.</span></span> <span data-ttu-id="ed951-143">Especifica que se inicia una conmutación automática por error en los casos siguientes:</span><span class="sxs-lookup"><span data-stu-id="ed951-143">Specifies that an automatic failover is initiated when any of the following occurs:</span></span><br /><br /> <span data-ttu-id="ed951-144">La instancia de [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] no se conecta al clúster y se ha superado el umbral de tiempo de espera de comprobación de estado del grupo de disponibilidad definido por el usuario.</span><span class="sxs-lookup"><span data-stu-id="ed951-144">The instance of [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] does not connect to cluster, and the user-specified health check timeout threshold of the availability group is exceeded.</span></span><br /><br /> <span data-ttu-id="ed951-145">La réplica de disponibilidad tiene un estado de error.</span><span class="sxs-lookup"><span data-stu-id="ed951-145">The availability replica is in failed state.</span></span>|<span data-ttu-id="ed951-146">2</span><span class="sxs-lookup"><span data-stu-id="ed951-146">2</span></span>|`OnServerUnresponsive`|  
|<span data-ttu-id="ed951-147">tres</span><span class="sxs-lookup"><span data-stu-id="ed951-147">Three</span></span>|<span data-ttu-id="ed951-148">En errores de servidor críticos.</span><span class="sxs-lookup"><span data-stu-id="ed951-148">On critical server error.</span></span> <span data-ttu-id="ed951-149">Especifica que se inicia una conmutación automática por error en caso de errores internos de [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] graves, como bloqueos por subproceso huérfanos, infracciones serias de acceso de escritura o volcado excesivo.</span><span class="sxs-lookup"><span data-stu-id="ed951-149">Specifies that an automatic failover is initiated on critical [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] internal errors, such as orphaned spinlocks, serious write-access violations, or too much dumping.</span></span> <span data-ttu-id="ed951-150">Es el nivel predeterminado.</span><span class="sxs-lookup"><span data-stu-id="ed951-150">This is the default level.</span></span>|<span data-ttu-id="ed951-151">3</span><span class="sxs-lookup"><span data-stu-id="ed951-151">3</span></span>|`OnCriticalServerError`|  
|<span data-ttu-id="ed951-152">Cuatro</span><span class="sxs-lookup"><span data-stu-id="ed951-152">Four</span></span>|<span data-ttu-id="ed951-153">En errores de servidor moderados.</span><span class="sxs-lookup"><span data-stu-id="ed951-153">On moderate server error.</span></span> <span data-ttu-id="ed951-154">Especifica que se inicia una conmutación automática por error en caso de errores internos de [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] moderados, tales como una condición persistente de falta de memoria en el grupo de recursos de servidor interno de [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] .</span><span class="sxs-lookup"><span data-stu-id="ed951-154">Specifies that an automatic failover is initiated on moderate [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] internal errors, such as a persistent out-of-memory condition in the [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] internal resource pool.</span></span>|<span data-ttu-id="ed951-155">4</span><span class="sxs-lookup"><span data-stu-id="ed951-155">4</span></span>|`OnModerateServerError`|  
|<span data-ttu-id="ed951-156">Cinco</span><span class="sxs-lookup"><span data-stu-id="ed951-156">Five</span></span>|<span data-ttu-id="ed951-157">En cualquier condición de error apta.</span><span class="sxs-lookup"><span data-stu-id="ed951-157">On any qualified failure conditions.</span></span> <span data-ttu-id="ed951-158">Es el nivel más restrictivo.</span><span class="sxs-lookup"><span data-stu-id="ed951-158">This is the most restrictive level.</span></span> <span data-ttu-id="ed951-159">Especifica que se inicia una conmutación automática por error en el caso de condiciones de error aptas, incluidas las siguientes:</span><span class="sxs-lookup"><span data-stu-id="ed951-159">Specifies that an automatic failover is initiated on any qualified failure conditions, including:</span></span><br /><br /> <span data-ttu-id="ed951-160">Se han agotado los subprocesos de trabajo del motor de SQL.</span><span class="sxs-lookup"><span data-stu-id="ed951-160">Exhaustion of SQL Engine worker-threads.</span></span><br /><br /> <span data-ttu-id="ed951-161">Detección de un interbloqueo irresoluble.</span><span class="sxs-lookup"><span data-stu-id="ed951-161">Detection of an unsolvable deadlock.</span></span>|<span data-ttu-id="ed951-162">5</span><span class="sxs-lookup"><span data-stu-id="ed951-162">5</span></span>|`OnAnyQualifiedFailureConditions`|  
  
> [!NOTE]  
>  <span data-ttu-id="ed951-163">La falta de respuesta de una instancia de [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] a solicitudes del cliente no es pertinente a los grupos de disponibilidad.</span><span class="sxs-lookup"><span data-stu-id="ed951-163">Lack of response by an instance of [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] to client requests is irrelevant to availability groups.</span></span>  
  
##  <a name="related-tasks"></a><a name="RelatedTasks"></a> <span data-ttu-id="ed951-164">Tareas relacionadas</span><span class="sxs-lookup"><span data-stu-id="ed951-164">Related Tasks</span></span>  
 <span data-ttu-id="ed951-165">**Para configurar la conmutación automática por error**</span><span class="sxs-lookup"><span data-stu-id="ed951-165">**To configure automatic failover**</span></span>  
  
-   <span data-ttu-id="ed951-166">[Cambiar el modo de disponibilidad de una réplica de disponibilidad &#40;SQL Server&#41;](change-the-availability-mode-of-an-availability-replica-sql-server.md) (la conmutación automática por error necesita el modo de disponibilidad de confirmación sincrónica)</span><span class="sxs-lookup"><span data-stu-id="ed951-166">[Change the Availability Mode of an Availability Replica &#40;SQL Server&#41;](change-the-availability-mode-of-an-availability-replica-sql-server.md) (automatic failover requires synchronous-commit availability mode)</span></span>  
  
-   [<span data-ttu-id="ed951-167">Cambiar el modo de conmutación por error de una réplica de disponibilidad &#40;SQL Server&#41;</span><span class="sxs-lookup"><span data-stu-id="ed951-167">Change the Failover Mode of an Availability Replica &#40;SQL Server&#41;</span></span>](change-the-failover-mode-of-an-availability-replica-sql-server.md)  
  
-   [<span data-ttu-id="ed951-168">Configurar la directiva de conmutación por error flexible para controlar las condiciones de la conmutación automática por error (grupos de disponibilidad AlwaysOn)</span><span class="sxs-lookup"><span data-stu-id="ed951-168">Configure the Flexible Failover Policy to Control Conditions for Automatic Failover (AlwaysOn Availability Groups)</span></span>](configure-flexible-automatic-failover-policy.md)  
  
##  <a name="related-content"></a><a name="RelatedContent"></a> <span data-ttu-id="ed951-169">Contenido relacionado</span><span class="sxs-lookup"><span data-stu-id="ed951-169">Related Content</span></span>  
  
-   [<span data-ttu-id="ed951-170">Cómo funciona: tiempo de espera de concesión de AlwaysOn de SQL Server</span><span class="sxs-lookup"><span data-stu-id="ed951-170">How It Works: SQL Server AlwaysOn Lease Timeout</span></span>](https://blogs.msdn.com/b/psssql/archive/2012/09/07/how-it-works-sql-server-alwayson-lease-timeout.aspx)  
  
## <a name="see-also"></a><span data-ttu-id="ed951-171">Consulte también</span><span class="sxs-lookup"><span data-stu-id="ed951-171">See Also</span></span>  
 <span data-ttu-id="ed951-172">[Información general de Grupos de disponibilidad AlwaysOn &#40;SQL Server&#41;](overview-of-always-on-availability-groups-sql-server.md) </span><span class="sxs-lookup"><span data-stu-id="ed951-172">[Overview of AlwaysOn Availability Groups &#40;SQL Server&#41;](overview-of-always-on-availability-groups-sql-server.md) </span></span>  
 <span data-ttu-id="ed951-173">[Modos de disponibilidad (Grupos de disponibilidad AlwaysOn)](availability-modes-always-on-availability-groups.md) </span><span class="sxs-lookup"><span data-stu-id="ed951-173">[Availability Modes (AlwaysOn Availability Groups)](availability-modes-always-on-availability-groups.md) </span></span>  
 <span data-ttu-id="ed951-174">[Conmutación por error y modos de conmutación por error &#40;Grupos de disponibilidad AlwaysOn&#41;](failover-and-failover-modes-always-on-availability-groups.md) </span><span class="sxs-lookup"><span data-stu-id="ed951-174">[Failover and Failover Modes &#40;AlwaysOn Availability Groups&#41;](failover-and-failover-modes-always-on-availability-groups.md) </span></span>  
 <span data-ttu-id="ed951-175">[Clústeres de conmutación por error de Windows Server &#40;WSFC&#41; con SQL Server](../../../sql-server/failover-clusters/windows/windows-server-failover-clustering-wsfc-with-sql-server.md) </span><span class="sxs-lookup"><span data-stu-id="ed951-175">[Windows Server Failover Clustering &#40;WSFC&#41; with SQL Server](../../../sql-server/failover-clusters/windows/windows-server-failover-clustering-wsfc-with-sql-server.md) </span></span>  
 <span data-ttu-id="ed951-176">[Directiva de conmutación por error para instancias de clústeres de conmutación por error](../../../sql-server/failover-clusters/windows/failover-policy-for-failover-cluster-instances.md) </span><span class="sxs-lookup"><span data-stu-id="ed951-176">[Failover Policy for Failover Cluster Instances](../../../sql-server/failover-clusters/windows/failover-policy-for-failover-cluster-instances.md) </span></span>  
 [<span data-ttu-id="ed951-177">sp_server_diagnostics &#40;Transact-SQL&#41;</span><span class="sxs-lookup"><span data-stu-id="ed951-177">sp_server_diagnostics &#40;Transact-SQL&#41;</span></span>](/sql/relational-databases/system-stored-procedures/sp-server-diagnostics-transact-sql)  
  
  
