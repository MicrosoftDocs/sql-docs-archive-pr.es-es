---
title: 'Secundarias activas: réplicas secundarias legibles (grupos de disponibilidad Always On) | Microsoft Docs'
ms.custom: ''
ms.date: 10/27/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: high-availability
ms.topic: conceptual
helpviewer_keywords:
- connection access to availability replicas
- Availability Groups [SQL Server], availability replicas
- Availability Groups [SQL Server], readable secondary replicas
- active secondary replicas [SQL Server], read-only access to
- readable secondary replicas
- Availability Groups [SQL Server], active secondary replicas
ms.assetid: 78f3f81a-066a-4fff-b023-7725ff874fdf
author: MashaMSFT
ms.author: mathoma
ms.openlocfilehash: 8b85704b8110eb84ea6f4c33dfa79694112c2328
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 08/04/2020
ms.locfileid: "87677896"
---
# <a name="active-secondaries-readable-secondary-replicas-always-on-availability-groups"></a><span data-ttu-id="36e0b-102">Secundarias activas: réplicas secundarias legibles (grupos de disponibilidad AlwaysOn)</span><span class="sxs-lookup"><span data-stu-id="36e0b-102">Active Secondaries: Readable Secondary Replicas (Always On Availability Groups)</span></span>
  <span data-ttu-id="36e0b-103">Las funcionalidades secundarias activas de [!INCLUDE[ssHADR](../../../includes/sshadr-md.md)] incluyen compatibilidad con el acceso de solo lectura a una o varias réplicas secundarias (*réplicas secundarias legibles*).</span><span class="sxs-lookup"><span data-stu-id="36e0b-103">The [!INCLUDE[ssHADR](../../../includes/sshadr-md.md)] active secondary capabilities include support for read-only access to one or more secondary replicas (*readable secondary replicas*).</span></span> <span data-ttu-id="36e0b-104">Una réplica secundaria legible permite el acceso de solo lectura a todas las bases de datos secundarias.</span><span class="sxs-lookup"><span data-stu-id="36e0b-104">A readable secondary replica allows read-only access to all its secondary databases.</span></span> <span data-ttu-id="36e0b-105">Sin embargo, las bases de datos secundarias legibles no se establecen como de solo lectura.</span><span class="sxs-lookup"><span data-stu-id="36e0b-105">However, readable secondary databases are not set to read-only.</span></span> <span data-ttu-id="36e0b-106">Son dinámicas.</span><span class="sxs-lookup"><span data-stu-id="36e0b-106">They are dynamic.</span></span> <span data-ttu-id="36e0b-107">Una base de datos secundaria dada cambia a medida que se aplican los cambios en la base de datos principal correspondiente.</span><span class="sxs-lookup"><span data-stu-id="36e0b-107">A given secondary database changes as changes on the corresponding primary database are applied to the secondary database.</span></span> <span data-ttu-id="36e0b-108">En lo que respecta a las réplicas secundarias típicas, los datos, lo cual incluye las tablas con optimización para memoria durables, las bases de datos secundarias están en tiempo prácticamente real.</span><span class="sxs-lookup"><span data-stu-id="36e0b-108">For a typical secondary replica, the data, including durable memory optimized tables, in the secondary databases is in near real time.</span></span> <span data-ttu-id="36e0b-109">Además, los índices de texto completo se sincronizan con las bases de datos secundarias.</span><span class="sxs-lookup"><span data-stu-id="36e0b-109">Furthermore, full-text indexes are synchronized with the secondary databases.</span></span> <span data-ttu-id="36e0b-110">En muchas circunstancias, la latencia de datos entre una base de datos principal y la base de datos secundaria correspondiente suele ser de solo unos pocos segundos.</span><span class="sxs-lookup"><span data-stu-id="36e0b-110">In many circumstances, data latency between a primary database and the corresponding secondary database is only a few seconds.</span></span>  
  
 <span data-ttu-id="36e0b-111">La configuración de seguridad de las bases de datos principales se mantiene en las secundarias.</span><span class="sxs-lookup"><span data-stu-id="36e0b-111">Security settings that occur in the primary databases are persisted to the secondary databases.</span></span> <span data-ttu-id="36e0b-112">Esto incluye usuarios, roles de base de datos y roles de aplicación, junto con sus permisos correspondientes, y también incluye cifrado de datos transparentes (TDE) si está habilitado en la base de datos principal.</span><span class="sxs-lookup"><span data-stu-id="36e0b-112">This includes users, database roles, and applications roles together with their respective permissions and transparent data encryption (TDE), if enabled on the primary database.</span></span>  
  
> [!NOTE]  
>  <span data-ttu-id="36e0b-113">Aunque no puede escribir datos en las bases de datos secundarias, puede escribir en bases de datos de lectura y escritura de la instancia del servidor que hospeda la réplica secundaria, incluidas las bases de datos de usuario y las bases de datos del sistema, como **tempdb**.</span><span class="sxs-lookup"><span data-stu-id="36e0b-113">Though you cannot write data to secondary databases, you can write to read-write databases on the server instance that hosts the secondary replica, including user databases and system databases such as **tempdb**.</span></span>  
  
 [!INCLUDE[ssHADR](../../../includes/sshadr-md.md)] <span data-ttu-id="36e0b-114">también admite el reenrutamiento de las solicitudes de conexión con intención de lectura a una réplica secundaria legible (*enrutamiento de solo lectura*).</span><span class="sxs-lookup"><span data-stu-id="36e0b-114">also supports the re-routing of read-intent connection requests to a readable secondary replica (*read-only routing*).</span></span> <span data-ttu-id="36e0b-115">Para obtener información sobre el enrutamiento de solo lectura, vea [Usar un agente de escucha para conectarse a una réplica secundaria de solo lectura (enrutamiento de solo lectura)](../../listeners-client-connectivity-application-failover.md#ConnectToSecondary).</span><span class="sxs-lookup"><span data-stu-id="36e0b-115">For information about read-only routing, see [Using a Listener to Connect to a Read-Only Secondary Replica (Read-Only Routing)](../../listeners-client-connectivity-application-failover.md#ConnectToSecondary).</span></span>  
  
 
  
##  <a name="benefits"></a><a name="bkmk_Benefits"></a> <span data-ttu-id="36e0b-116">Ventajas</span><span class="sxs-lookup"><span data-stu-id="36e0b-116">Benefits</span></span>  
 <span data-ttu-id="36e0b-117">La dirección de conexiones de solo lectura a las réplicas secundarias legibles proporciona las siguientes ventajas:</span><span class="sxs-lookup"><span data-stu-id="36e0b-117">Directing read-only connections to readable secondary replicas provides the following benefits:</span></span>  
  
-   <span data-ttu-id="36e0b-118">Alivia las cargas de trabajo de solo lectura secundarias de la réplica primaria, que conserva los recursos para las cargas de trabajo esenciales de la misión.</span><span class="sxs-lookup"><span data-stu-id="36e0b-118">Offloads your secondary read-only workloads from your primary replica, which conserves its resources for your mission critical workloads.</span></span> <span data-ttu-id="36e0b-119">Si tiene una carga de trabajo de lectura de gran importancia o si la carga de trabajo no puede tolerar la latencia, debe ejecutarla en el servidor principal.</span><span class="sxs-lookup"><span data-stu-id="36e0b-119">If you have mission critical read-workload or the workload that cannot tolerate latency, you should run it on the primary.</span></span>  
  
-   <span data-ttu-id="36e0b-120">Mejora la rentabilidad de la inversión para los sistemas que hospedan las réplicas secundarias legibles.</span><span class="sxs-lookup"><span data-stu-id="36e0b-120">Improves your return on investment for the systems that host readable secondary replicas.</span></span>  
  
 <span data-ttu-id="36e0b-121">Además, las réplicas secundarias legibles proporcionan compatibilidad robusta con las operaciones de solo lectura, de la forma siguiente:</span><span class="sxs-lookup"><span data-stu-id="36e0b-121">In addition, readable secondaries provide robust support for read-only operations, as follows:</span></span>  
  
-   <span data-ttu-id="36e0b-122">Las estadísticas temporales automáticas en las bases de datos secundarias legibles optimizan las consultas de solo lectura en tablas basadas en disco.</span><span class="sxs-lookup"><span data-stu-id="36e0b-122">Automatic temporary statistics on readable secondary database optimize read-only queries on disk-based tables.</span></span> <span data-ttu-id="36e0b-123">Para las tablas con optimización para memoria, se crean automáticamente las estadísticas que faltan.</span><span class="sxs-lookup"><span data-stu-id="36e0b-123">For memory-optimized tables, the missing statistics are created automatically.</span></span> <span data-ttu-id="36e0b-124">Sin embargo, no hay actualizaciones automáticas de estadísticas en desuso.</span><span class="sxs-lookup"><span data-stu-id="36e0b-124">However, there is no auto-update of stale statistics.</span></span> <span data-ttu-id="36e0b-125">Deberá actualizar manualmente las estadísticas en la réplica primaria.</span><span class="sxs-lookup"><span data-stu-id="36e0b-125">You will need to manually update the statistics on the primary replica.</span></span> <span data-ttu-id="36e0b-126">Para obtener más información, vea [Estadísticas de las bases de datos de acceso de solo lectura](#Read-OnlyStats), más adelante en este tema.</span><span class="sxs-lookup"><span data-stu-id="36e0b-126">For more information, see [Statistics for Read-Only Access Databases](#Read-OnlyStats), later in this topic.</span></span>  
  
-   <span data-ttu-id="36e0b-127">Las cargas de trabajo de solo lectura para tablas basadas en disco usan las versiones de fila para quitar la contención de bloqueo en las bases de datos secundarias.</span><span class="sxs-lookup"><span data-stu-id="36e0b-127">Read-only workloads for disk-based tables use row versioning to remove blocking contention on the secondary databases.</span></span> <span data-ttu-id="36e0b-128">Todas las consultas que se ejecutan en las bases de datos secundarias se asignan automáticamente al nivel de transacción de aislamiento de instantánea, incluso cuando se establecen otros niveles de aislamiento de transacción de forma explícita.</span><span class="sxs-lookup"><span data-stu-id="36e0b-128">All queries that run against the secondary databases are automatically mapped to snapshot isolation transaction level, even when other transaction isolation levels are explicitly set.</span></span> <span data-ttu-id="36e0b-129">Asimismo, se pasan por alto todas las sugerencias de bloqueo.</span><span class="sxs-lookup"><span data-stu-id="36e0b-129">Also, all locking hints are ignored.</span></span> <span data-ttu-id="36e0b-130">Esto elimina la contención de lectura y escritura.</span><span class="sxs-lookup"><span data-stu-id="36e0b-130">This eliminates reader/writer contention.</span></span>  
  
-   <span data-ttu-id="36e0b-131">Las cargas de trabajo de solo lectura para tablas durables optimizadas para memoria acceden a los datos exactamente de la misma forma que en la base de datos primaria, con procedimientos almacenados nativos o interoperabilidad de SQL con las mismas limitaciones del nivel de aislamiento de transacción.</span><span class="sxs-lookup"><span data-stu-id="36e0b-131">Read-only workloads for memory-optimized durable tables access the data in exactly the same way it is accessed on the primary database, using native stored procedures or SQL Interoperability with the same transaction isolation level limitations.</span></span> <span data-ttu-id="36e0b-132">La carga de trabajo de informes o las consultas de solo lectura que se ejecutan en la réplica principal se pueden ejecutar en la réplica secundaria sin necesidad de hacer ningún cambio.</span><span class="sxs-lookup"><span data-stu-id="36e0b-132">Reporting workload or read-only queries running on the primary replica can be run on the secondary replica without requiring any changes.</span></span> <span data-ttu-id="36e0b-133">De forma similar, las cargas de trabajo de informes o las consultas de solo lectura que se ejecutan en una réplica secundaria se pueden ejecutar en la réplica principal sin necesidad de hacer ningún cambio.</span><span class="sxs-lookup"><span data-stu-id="36e0b-133">Similarly, a reporting workload or read-only queries running on a secondary replica can be run on the primary replica without requiring any changes.</span></span>  <span data-ttu-id="36e0b-134">Al igual que ocurre con las tablas basadas en disco, todas las consultas que se ejecutan en las bases de datos secundarias se asignan automáticamente al nivel de transacción de aislamiento de instantánea, incluso cuando se establecen otros niveles de aislamiento de transacción de forma explícita.</span><span class="sxs-lookup"><span data-stu-id="36e0b-134">Similar to disk-based tables, all queries that run against the secondary databases are automatically mapped to snapshot isolation transaction level, even when other transaction isolation levels are explicitly set.</span></span>  
  
-   <span data-ttu-id="36e0b-135">Las operaciones DML se permiten en variables de tabla tanto para los tipos de tabla basadas en disco como para los tipos de tabla optimizada para memoria en la réplica secundaria.</span><span class="sxs-lookup"><span data-stu-id="36e0b-135">DML operations are allowed on table variables both for disk-based and memory-optimized table types on the secondary replica.</span></span>  
  
##  <a name="prerequisites-for-the-availability-group"></a><a name="bkmk_Prerequisites"></a> <span data-ttu-id="36e0b-136">Requisitos previos del grupo de disponibilidad</span><span class="sxs-lookup"><span data-stu-id="36e0b-136">Prerequisites for the Availability Group</span></span>  
  
-   <span data-ttu-id="36e0b-137">**Réplicas secundarias legibles (requeridas)**</span><span class="sxs-lookup"><span data-stu-id="36e0b-137">**Readable secondary replicas (required)**</span></span>  
  
     <span data-ttu-id="36e0b-138">El administrador de la base de datos debe configurar una o varias réplicas de modo que, cuando se ejecutan en el rol secundario, permiten todas las conexiones (solo para el acceso de solo lectura) o solo conexiones con intención de lectura.</span><span class="sxs-lookup"><span data-stu-id="36e0b-138">The database administrator needs to configure one or more replicas so that, when running under the secondary role, they allow either all connections (just for read-only access) or only read-intent connections.</span></span>  
  
    > [!NOTE]  
    >  <span data-ttu-id="36e0b-139">Opcionalmente, el administrador de bases de datos puede configurar cualquiera de las réplicas de disponibilidad para excluir las conexiones de solo lectura al ejecutarse en el rol principal.</span><span class="sxs-lookup"><span data-stu-id="36e0b-139">Optionally, the database administrator can configure any of the availability replicas to exclude read-only connections when running under the primary role.</span></span>  
  
     <span data-ttu-id="36e0b-140">Para obtener más información, vea [Acerca del acceso de conexión de cliente a réplicas de disponibilidad &#40;SQL Server&#41;](about-client-connection-access-to-availability-replicas-sql-server.md).</span><span class="sxs-lookup"><span data-stu-id="36e0b-140">For more information, see [About Client Connection Access to Availability Replicas &#40;SQL Server&#41;](about-client-connection-access-to-availability-replicas-sql-server.md).</span></span>  
  
-   <span data-ttu-id="36e0b-141">**Agente de escucha de grupo de disponibilidad**</span><span class="sxs-lookup"><span data-stu-id="36e0b-141">**Availability group listener**</span></span>  
  
     <span data-ttu-id="36e0b-142">Para admitir el enrutamiento de solo lectura, un grupo de disponibilidad debe poseer un [agente de escucha de grupo de disponibilidad](../../listeners-client-connectivity-application-failover.md).</span><span class="sxs-lookup"><span data-stu-id="36e0b-142">To support read-only routing, an availability group must possess an [availability group listener](../../listeners-client-connectivity-application-failover.md).</span></span> <span data-ttu-id="36e0b-143">El cliente de solo lectura debe dirigir sus solicitudes de conexión a dicho agente y la cadena de conexión del cliente debe especificar la intención de la aplicación como de "solo lectura".</span><span class="sxs-lookup"><span data-stu-id="36e0b-143">The read-only client must direct its connection requests to this listener, and the client's connection string must specify the application intent as "read-only."</span></span> <span data-ttu-id="36e0b-144">Es decir, deben ser *solicitudes de conexión de intento de lectura*.</span><span class="sxs-lookup"><span data-stu-id="36e0b-144">That is, they must be *read-intent connection requests*.</span></span>  
  
-   <span data-ttu-id="36e0b-145">**Enrutamiento de solo lectura**</span><span class="sxs-lookup"><span data-stu-id="36e0b-145">**Read only routing**</span></span>  
  
     <span data-ttu-id="36e0b-146">El*enrutamiento de solo lectura* hace referencia a la capacidad de SQL Server para enrutar las solicitudes de conexión con intención de lectura entrantes, que se dirigen a un agente de escucha de grupo de disponibilidad, a una réplica secundaria legible disponible.</span><span class="sxs-lookup"><span data-stu-id="36e0b-146">*Read-only routing* refers to the ability of SQL Server to route incoming read-intent connection requests, that are directed to an availability group listener, to an available readable secondary replica.</span></span> <span data-ttu-id="36e0b-147">Los requisitos previos para el enrutamiento de solo lectura son los siguientes:</span><span class="sxs-lookup"><span data-stu-id="36e0b-147">The prerequisites for read-only routing are as follows:</span></span>  
  
    -   <span data-ttu-id="36e0b-148">Para admitir el enrutamiento de solo lectura, una réplica secundaria legible requiere una dirección URL de enrutamiento de solo lectura.</span><span class="sxs-lookup"><span data-stu-id="36e0b-148">To support read-only routing, a readable secondary replica requires a read-only routing URL.</span></span> <span data-ttu-id="36e0b-149">Esta dirección URL tiene efecto cuando la réplica local se ejecuta en el rol secundario.</span><span class="sxs-lookup"><span data-stu-id="36e0b-149">This URL takes effect only when the local replica is running under the secondary role.</span></span> <span data-ttu-id="36e0b-150">La dirección URL de enrutamiento de solo lectura debe especificarse réplica a réplica, según sea necesario.</span><span class="sxs-lookup"><span data-stu-id="36e0b-150">The read-only routing URL must be specified on a replica-by-replica basis, as needed.</span></span> <span data-ttu-id="36e0b-151">Cada dirección URL de solo lectura se usa para enrutar las solicitudes de conexión de intento de lectura a una réplica secundaria legible específica.</span><span class="sxs-lookup"><span data-stu-id="36e0b-151">Each read-only routing URL is used for routing read-intent connection requests to a specific readable secondary replica.</span></span> <span data-ttu-id="36e0b-152">Normalmente, cada réplica secundaria legible se asigna a una dirección URL de enrutamiento de solo lectura.</span><span class="sxs-lookup"><span data-stu-id="36e0b-152">Typically, every readable secondary replica is assigned a read-only routing URL.</span></span>  
  
    -   <span data-ttu-id="36e0b-153">Cada réplica de disponibilidad que vaya a admitir el enrutamiento de solo lectura cuando es la réplica principal requiere una lista de enrutamiento de solo lectura.</span><span class="sxs-lookup"><span data-stu-id="36e0b-153">Each availability replica that is to support read-only routing when it is the primary replica requires a read-only routing list.</span></span> <span data-ttu-id="36e0b-154">Una lista de enrutamiento de solo lectura dada solo tiene efecto cuando la réplica local se ejecuta en el rol principal.</span><span class="sxs-lookup"><span data-stu-id="36e0b-154">A given read-only routing list takes effect only when the local replica is running under the primary role.</span></span> <span data-ttu-id="36e0b-155">Esta lista se debe especificar réplica a réplica, según sea necesario.</span><span class="sxs-lookup"><span data-stu-id="36e0b-155">This list must be specified on a replica-by-replica basis, as needed.</span></span> <span data-ttu-id="36e0b-156">Normalmente, cada lista de enrutamiento de solo lectura contendría cada dirección URL de enrutamiento de solo lectura con la dirección URL de la réplica local al final de la lista.</span><span class="sxs-lookup"><span data-stu-id="36e0b-156">Typically, each read-only routing list would contain every read-only routing URL, with the URL of the local replica at the end of the list.</span></span>  
  
        > [!NOTE]  
        >  <span data-ttu-id="36e0b-157">Las solicitudes de conexión de intento de lectura se enrutan al primer elemento secundario legible disponible en la lista de enrutamiento de solo lectura de la réplica principal actual.</span><span class="sxs-lookup"><span data-stu-id="36e0b-157">Read-intent connection requests are routed to the first available readable secondary on the read-only routing list of the current primary replica.</span></span> <span data-ttu-id="36e0b-158">No hay equilibrio de carga.</span><span class="sxs-lookup"><span data-stu-id="36e0b-158">There is no load balancing.</span></span>  
  
     <span data-ttu-id="36e0b-159">Para obtener más información, vea [Configurar el enrutamiento de solo lectura para un grupo de disponibilidad &#40;SQL Server&#41;](configure-read-only-routing-for-an-availability-group-sql-server.md).</span><span class="sxs-lookup"><span data-stu-id="36e0b-159">For more information, see [Configure Read-Only Routing for an Availability Group &#40;SQL Server&#41;](configure-read-only-routing-for-an-availability-group-sql-server.md).</span></span>  
  
> [!NOTE]  
>  <span data-ttu-id="36e0b-160">Para obtener información sobre los agentes de escucha de grupo de disponibilidad y obtener más información sobre el enrutamiento de solo lectura, vea [Agentes de escucha de grupo de disponibilidad, conectividad de cliente y conmutación por error de una aplicación &#40;SQL Server&#41;](../../listeners-client-connectivity-application-failover.md).</span><span class="sxs-lookup"><span data-stu-id="36e0b-160">For information about availability group listeners and more information about read-only routing, see [Availability Group Listeners, Client Connectivity, and Application Failover &#40;SQL Server&#41;](../../listeners-client-connectivity-application-failover.md).</span></span>  
  
##  <a name="limitations-and-restrictions"></a><a name="bkmk_LimitationsRestrictions"></a> <span data-ttu-id="36e0b-161">Limitaciones y restricciones</span><span class="sxs-lookup"><span data-stu-id="36e0b-161">Limitations and Restrictions</span></span>  
 <span data-ttu-id="36e0b-162">Algunas operaciones no se admiten por completo, como se indica a continuación:</span><span class="sxs-lookup"><span data-stu-id="36e0b-162">Some operations are not fully supported, as follows:</span></span>  
  
-   <span data-ttu-id="36e0b-163">Tan pronto como se habilita una réplica legible para lectura, puede comenzar a aceptar conexiones a sus bases de datos secundarias.</span><span class="sxs-lookup"><span data-stu-id="36e0b-163">As soon as a readable replica is enabled for read, it can start accepting connections to its secondary databases.</span></span> <span data-ttu-id="36e0b-164">Sin embargo, si hay transacciones activas en una base de datos principal, las versiones de fila no estarán del todo disponibles en la base de datos secundaria correspondiente.</span><span class="sxs-lookup"><span data-stu-id="36e0b-164">However, if any active transactions exist on a primary database, the row versions will not be fully available on the corresponding secondary database.</span></span> <span data-ttu-id="36e0b-165">Las transacciones activas que existían en la réplica principal cuando se configuró la réplica secundaria deben confirmarse o revertirse.</span><span class="sxs-lookup"><span data-stu-id="36e0b-165">Any active transactions that existed on the primary replica when the secondary replica was configured must commit or roll back.</span></span> <span data-ttu-id="36e0b-166">Hasta que el proceso finalice, la asignación del nivel de aislamiento de transacción en la base de datos secundaria estará incompleta y las consultas se bloquearán temporalmente.</span><span class="sxs-lookup"><span data-stu-id="36e0b-166">Until this process completes, the transaction isolation level mapping on the secondary database is incomplete and queries are temporarily blocked.</span></span>  
  
    > [!WARNING]  
    >  <span data-ttu-id="36e0b-167">La ejecución de transacciones largas afecta al número de filas con control de versiones que se conservan, tanto en tablas basadas en disco como en tablas optimizadas para memoria.</span><span class="sxs-lookup"><span data-stu-id="36e0b-167">Running long transactions impacts the number of versioned rows kept, both for disk-based and memory-optimized tables.</span></span>  
  
-   <span data-ttu-id="36e0b-168">En las bases de datos secundarias con tablas optimizadas para memoria, pese a que siempre se generan versiones de filas para las tablas optimizadas para memoria, las consultas se bloquean hasta que se completen todas las transacciones activas que había en la réplica principal cuando se habilitó la réplica secundaria para lectura.</span><span class="sxs-lookup"><span data-stu-id="36e0b-168">On a secondary database with memory-optimized tables, even though row versions are always generated for memory-optimzied tables, queries are blocked until all active transactions that existed in the primary replica when the secondary replica was enabled for read complete.</span></span> <span data-ttu-id="36e0b-169">De esta forma se garantiza que las tablas basadas en disco y las tablas optimizadas para memoria estén disponibles para la carga de trabajo de informes y para las consultas de solo lectura al mismo tiempo.</span><span class="sxs-lookup"><span data-stu-id="36e0b-169">This ensures that both disk-based and memory-optimized tables are available to the reporting workload and read-only queries at the same time.</span></span>  
  
-   <span data-ttu-id="36e0b-170">El seguimiento de cambios y la captura de datos modificados no se admiten en las bases de datos secundarias que pertenecen a una réplica secundaria legible:</span><span class="sxs-lookup"><span data-stu-id="36e0b-170">Change tracking and change data capture are not supported on secondary databases that belong to a readable secondary replica:</span></span>  
  
    -   <span data-ttu-id="36e0b-171">El seguimiento de cambios está deshabilitado de forma explícita en las bases de datos secundarias.</span><span class="sxs-lookup"><span data-stu-id="36e0b-171">Change tracking is explicitly disabled on secondary databases.</span></span>  
  
    -   <span data-ttu-id="36e0b-172">La captura de datos modificados se puede habilitar en una base de datos secundaria, pero no se admite.</span><span class="sxs-lookup"><span data-stu-id="36e0b-172">Change data capture can be enabled on a secondary database, but this is not supported.</span></span>  
  
-   <span data-ttu-id="36e0b-173">Dado que las operaciones de lectura se asignan al nivel de transacción de aislamiento de instantánea, la limpieza de registros fantasma en la réplica principal puede bloquearse por las transacciones en una o varias réplicas secundarias.</span><span class="sxs-lookup"><span data-stu-id="36e0b-173">Because read operations are mapped to snapshot isolation transaction level, the cleanup of ghost records on the primary replica can be blocked by transactions on one or more secondary replicas.</span></span> <span data-ttu-id="36e0b-174">La tarea de limpieza de registros fantasma limpiará automáticamente los registros fantasma para las tablas basadas en disco en la réplica principal cuando las réplicas secundarias ya no los necesiten.</span><span class="sxs-lookup"><span data-stu-id="36e0b-174">The ghost record cleanup task will automatically clean up the ghost records for disk-based tables on the primary replica when they are no longer needed by any secondary replica.</span></span>  <span data-ttu-id="36e0b-175">Esto es similar a lo que se realiza cuando se ejecutan transacciones en la réplica principal.</span><span class="sxs-lookup"><span data-stu-id="36e0b-175">This is similar to what is done when you run transaction(s) on the primary replica.</span></span> <span data-ttu-id="36e0b-176">En el caso extremo de la base de datos secundaria, deberá eliminar una consulta de lectura de ejecución prolongada que esté bloqueando la limpieza de registros fantasma.</span><span class="sxs-lookup"><span data-stu-id="36e0b-176">In the extreme case on the secondary database, you will need to kill a long running read-query that is blocking the ghost cleanup.</span></span> <span data-ttu-id="36e0b-177">Tenga en cuenta que la limpieza de registros fantasma se puede bloquear si la réplica secundaria se desconecta o cuando se suspende el movimiento de datos en la base de datos secundaria.</span><span class="sxs-lookup"><span data-stu-id="36e0b-177">Note, the ghost clean can be blocked if the secondary replica gets disconnected or when data movement is suspended on the secondary database.</span></span> <span data-ttu-id="36e0b-178">Este estado también evita el truncamiento del registro, por lo que si el estado persiste, se recomienda quitar esta base de datos secundaria del grupo de disponibilidad.</span><span class="sxs-lookup"><span data-stu-id="36e0b-178">This state also prevents log truncation, so if this state persists, we recommend that you remove this secondary database from the availability group.</span></span> <span data-ttu-id="36e0b-179">No existen problemas de limpieza de registros fantasma con las tablas con optimización para memoria porque las versiones de filas se conservan en memoria y son independientes de las versiones de fila de la réplica principal.</span><span class="sxs-lookup"><span data-stu-id="36e0b-179">There is no ghost record cleanup issue with memory-optimized tables because the row versions are kept in memory and are independent of the row versions on the primary replica.</span></span>  
  
-   <span data-ttu-id="36e0b-180">Se puede producir un error en la operación DBCC SHRINKFILE en los archivos que contienen tablas basadas en disco en la réplica principal si el archivo contiene registros fantasma que siguen siendo necesarios en una réplica secundaria.</span><span class="sxs-lookup"><span data-stu-id="36e0b-180">The DBCC SHRINKFILE operation on files containing disk-based tables might fail on the primary replica if the file contains ghost records that are still needed on a secondary replica.</span></span>  
  
-   <span data-ttu-id="36e0b-181">A partir de [!INCLUDE[ssSQL14](../../../includes/sssql14-md.md)], las réplicas secundarias legibles pueden mantenerse en línea incluso si la réplica principal está sin conexión debido a una acción de usuario o un error.</span><span class="sxs-lookup"><span data-stu-id="36e0b-181">Beginning in [!INCLUDE[ssSQL14](../../../includes/sssql14-md.md)], readable secondary replicas can remain online even when the primary replica is offline due to user action or a failure.</span></span> <span data-ttu-id="36e0b-182">Sin embargo, el enrutamiento de solo lectura no funciona en esta situación porque el agente de escucha del grupo de disponibilidad está desconectado también.</span><span class="sxs-lookup"><span data-stu-id="36e0b-182">However, read-only routing does not work in this situation because the availability group listener is offline as well.</span></span> <span data-ttu-id="36e0b-183">Los clientes deben conectarse directamente a las réplicas secundarias de solo lectura para las cargas de trabajo de solo lectura.</span><span class="sxs-lookup"><span data-stu-id="36e0b-183">Clients must connect directly to the read-only secondary replicas for read-only workloads.</span></span>  
  
> [!NOTE]  
>  <span data-ttu-id="36e0b-184">Si consulta la vista de administración dinámica [sys.dm_db_index_physical_stats](/sql/relational-databases/system-dynamic-management-views/sys-dm-db-index-physical-stats-transact-sql) en una instancia del servidor que está hospedando una réplica secundaria legible, puede producirse un problema de bloqueo de REDO.</span><span class="sxs-lookup"><span data-stu-id="36e0b-184">If you query the [sys.dm_db_index_physical_stats](/sql/relational-databases/system-dynamic-management-views/sys-dm-db-index-physical-stats-transact-sql) dynamic management view on a server instance that is hosting a readable secondary replica, you might encounter a REDO blocking issue.</span></span> <span data-ttu-id="36e0b-185">Esto se debe a que esta vista de administración dinámica adquiere un bloqueo IS en la tabla de usuario especificada o la vista que puede bloquear las solicitudes de un subproceso de REDO durante un bloqueo X en esa tabla o vista de usuario.</span><span class="sxs-lookup"><span data-stu-id="36e0b-185">This is because this dynamic management view acquires an IS lock on the specified user table or view that can block requests by a REDO thread for an X lock on that user table or view.</span></span>  
  
##  <a name="performance-considerations"></a><a name="bkmk_Performance"></a> <span data-ttu-id="36e0b-186">Consideraciones de rendimiento</span><span class="sxs-lookup"><span data-stu-id="36e0b-186">Performance Considerations</span></span>  
 <span data-ttu-id="36e0b-187">En esta sección se describen las consideraciones de rendimiento para las bases de datos secundarias legibles</span><span class="sxs-lookup"><span data-stu-id="36e0b-187">This section discusses several performance considerations for readable secondary databases</span></span>  
  
 
  
###  <a name="data-latency"></a><a name="DataLatency"></a> <span data-ttu-id="36e0b-188">Latencia de datos</span><span class="sxs-lookup"><span data-stu-id="36e0b-188">Data Latency</span></span>  
 <span data-ttu-id="36e0b-189">La implementación del acceso de solo lectura en las réplicas secundarias resulta útil si las cargas de trabajo de solo lectura pueden tolerar cierta latencia de datos.</span><span class="sxs-lookup"><span data-stu-id="36e0b-189">Implementing read-only access to secondary replicas is useful if your read-only workloads can tolerate some data latency.</span></span> <span data-ttu-id="36e0b-190">En las situaciones en las que la latencia de datos no es aceptable, considere la posibilidad de ejecutar cargas de trabajo de solo lectura en la réplica principal.</span><span class="sxs-lookup"><span data-stu-id="36e0b-190">In situations where data latency is unacceptable, consider running read-only workloads against the primary replica.</span></span>  
  
 <span data-ttu-id="36e0b-191">La réplica principal envía las entradas de registro de los cambios en la base de datos principal a las réplicas secundarias.</span><span class="sxs-lookup"><span data-stu-id="36e0b-191">The primary replica sends log records of changes on primary database to the secondary replicas.</span></span> <span data-ttu-id="36e0b-192">En cada base de datos secundaria, un subproceso de rehacer dedicado aplica las entradas de registro.</span><span class="sxs-lookup"><span data-stu-id="36e0b-192">On each secondary database, a dedicated redo thread applies the log records.</span></span> <span data-ttu-id="36e0b-193">En una base de datos secundaria de acceso de lectura, un cambio determinado de datos no aparece en los resultados de la consulta hasta que la entrada del registro que contiene el cambio se haya aplicado a la base de datos secundaria y la transacción se haya confirmado en la base de datos principal.</span><span class="sxs-lookup"><span data-stu-id="36e0b-193">On a read-access secondary database, a given data change does not appear in query results until the log record that contains the change has been applied to the secondary database and the transaction has been committed on primary database.</span></span>  
  
 <span data-ttu-id="36e0b-194">Esto significa que hay latencia, normalmente solo se trata de unos segundos, entre las réplicas principales y secundarias.</span><span class="sxs-lookup"><span data-stu-id="36e0b-194">This means that there is some latency, usually only a matter of seconds, between the primary and secondary replicas.</span></span> <span data-ttu-id="36e0b-195">No obstante, en casos excepcionales, por ejemplo, si los problemas de red reducen el rendimiento, la latencia puede ser importante.</span><span class="sxs-lookup"><span data-stu-id="36e0b-195">In unusual cases, however, for example if network issues reduce throughput, latency can become significant.</span></span> <span data-ttu-id="36e0b-196">La latencia aumenta cuando se producen cuellos de botella de E/S y cuando se suspende el movimiento de los datos.</span><span class="sxs-lookup"><span data-stu-id="36e0b-196">Latency increases when I/O bottlenecks occur and when data movement is suspended.</span></span> <span data-ttu-id="36e0b-197">Para supervisar el movimiento de datos suspendido, puede usar el [panel AlwaysOn](use-the-always-on-dashboard-sql-server-management-studio.md) o la vista de administración dinámica [sys.dm_hadr_database_replica_states](/sql/relational-databases/system-dynamic-management-views/sys-dm-hadr-database-replica-states-transact-sql) .</span><span class="sxs-lookup"><span data-stu-id="36e0b-197">To monitor suspended data movement, you can use the [AlwaysOn Dashboard](use-the-always-on-dashboard-sql-server-management-studio.md) or the [sys.dm_hadr_database_replica_states](/sql/relational-databases/system-dynamic-management-views/sys-dm-hadr-database-replica-states-transact-sql) dynamic management view.</span></span>  
  
####  <a name="data-latency-on-databases-with-memory-optimized-tables"></a><a name="bkmk_LatencyWithInMemOLTP"></a> <span data-ttu-id="36e0b-198">Latencia de datos en bases de datos con tablas optimizadas para memoria</span><span class="sxs-lookup"><span data-stu-id="36e0b-198">Data Latency on databases with memory-optimized tables</span></span>  
 <span data-ttu-id="36e0b-199">Al tener acceso a tablas optimizadas para memoria en una réplica secundaria de una carga de trabajo de lectura, se usa una *marca de tiempo de seguridad* para devolver filas de las transacciones que se han confirmado antes de la *marca de tiempo de seguridad*.</span><span class="sxs-lookup"><span data-stu-id="36e0b-199">When accessing memory-optimized tables on secondary replica for read workload, a *safe-timestamp* is used to return rows from transactions that have committed earlier than *safe-timestamp*.</span></span> <span data-ttu-id="36e0b-200">La marca de tiempo de seguridad es la sugerencia de marca de tiempo más antigua que el subproceso de recolección de elementos no utilizados usa para recopilar las filas no utilizadas de la réplica principal.</span><span class="sxs-lookup"><span data-stu-id="36e0b-200">The safe-timestamp is the oldest timestamp hint used by the garbage collection thread to garbage collect the rows on the primary replica.</span></span> <span data-ttu-id="36e0b-201">Esta marca de tiempo se actualiza cuando el número de transacciones DML de las tablas optimizadas para memoria supera un umbral interno desde la última actualización.</span><span class="sxs-lookup"><span data-stu-id="36e0b-201">This timestamp is updated when the number of DML transactions on memory-optimized tables exceed an internal threshold since the last update.</span></span> <span data-ttu-id="36e0b-202">Siempre que la marca de tiempo de transacción más antigua se actualiza en la réplica principal, la siguiente transacción DML de una tabla optimizada para memoria durable envía esta marca de tiempo a la réplica secundaria como parte de una entrada de registro especial.</span><span class="sxs-lookup"><span data-stu-id="36e0b-202">Whenever the oldest transaction timestamp is updated on the primary replica, the next DML transaction on a durable memory-optimized table will send this timestamp to be sent to secondary replica as part of a special log record.</span></span> <span data-ttu-id="36e0b-203">El subproceso REDO de la réplica secundaria actualiza la marca de tiempo de seguridad como parte del procesamiento de esta entrada de registro.</span><span class="sxs-lookup"><span data-stu-id="36e0b-203">REDO thread on the secondary replica, updates the safe-timestamp as part of processing this log record.</span></span>  
  
#### <a name="the-impact-of-safe-timestamp-on-latency"></a><span data-ttu-id="36e0b-204">El impacto de la marca de tiempo de seguridad sobre la latencia</span><span class="sxs-lookup"><span data-stu-id="36e0b-204">The impact of safe-timestamp on Latency</span></span>  
  
-   <span data-ttu-id="36e0b-205">Para las cargas de trabajo OLTP con un rendimiento de transacciones elevado, la latencia debe ser comparable a la de las tablas basadas en disco.</span><span class="sxs-lookup"><span data-stu-id="36e0b-205">For OLTP workloads with high transaction throughput, the latency should be comparable to disk-based tables.</span></span> <span data-ttu-id="36e0b-206">Esperamos que este sea el caso más frecuente.</span><span class="sxs-lookup"><span data-stu-id="36e0b-206">We expect this to be the common case.</span></span>  
  
-   <span data-ttu-id="36e0b-207">Una transacción de ejecución prolongada puede provocar que la marca de tiempo de seguridad se retrase arbitrariamente.</span><span class="sxs-lookup"><span data-stu-id="36e0b-207">A long running transaction can cause the safe-timestamp to be delayed arbitrarily.</span></span>  <span data-ttu-id="36e0b-208">Esto no es distinto cuando se accede a tablas basadas en disco, ya que la marca de tiempo de aislamiento de instantánea está determinada por la confirmación de la transacción más antigua.</span><span class="sxs-lookup"><span data-stu-id="36e0b-208">This is no different when accessing disk-based tables as the timestamp of snapshot isolation is determined by the commit of oldest transaction.</span></span>  
  
-   <span data-ttu-id="36e0b-209">Los cambios realizados por las transacciones en la réplica principal desde la última actualización de la marca de tiempo de seguridad no son visibles en la réplica secundaria hasta la siguiente transmisión y actualización de la marca de tiempo de seguridad.</span><span class="sxs-lookup"><span data-stu-id="36e0b-209">Changes made by transactions on the primary replica since the last safe-timestamp update are not visible on the secondary replica till the next transmission and update of the safe-timestamp.</span></span> <span data-ttu-id="36e0b-210">Si la actividad transaccional en la réplica principal se detiene antes de que se llegue al umbral interno para la actualización de la marca de tiempo de seguridad, los cambios realizados desde la última actualización a la marca de tiempo de seguridad no será visible en la réplica secundaria.</span><span class="sxs-lookup"><span data-stu-id="36e0b-210">If transactional activity on the primary replica stops before the internal threshold for safe-timestamp update is crossed, the changes made since the last update to safe-timestamp will not be visible on the secondary replica.</span></span> <span data-ttu-id="36e0b-211">Para mitigar este problema, puede que tenga que ejecutar algunas transacciones DML en una tabla optimizada para memoria durable ficticia en la réplica principal.</span><span class="sxs-lookup"><span data-stu-id="36e0b-211">To alleviate this issue, you may need to run a few DML transactions on a dummy durable memory-optimized table on the primary replica.</span></span> <span data-ttu-id="36e0b-212">O bien, aunque no se recomienda, puede forzar el trasvase de la marca de tiempo de seguridad ejecutando un punto de comprobación manual.</span><span class="sxs-lookup"><span data-stu-id="36e0b-212">Alternatively, though not recommended, you can force shipping of safe-timestamp by running a manual checkpoint.</span></span>  
  
#### <a name="monitoring-and-troubleshooting-data-latency-in-memory-optimized-tables"></a><span data-ttu-id="36e0b-213">Supervisar y solucionar problemas de latencia de datos en tablas optimizadas para memoria</span><span class="sxs-lookup"><span data-stu-id="36e0b-213">Monitoring and Troubleshooting data latency in memory-optimized tables</span></span>  
 <span data-ttu-id="36e0b-214">Puede averiguar la marca de tiempo de seguridad ejecutando la siguiente consulta en la réplica principal</span><span class="sxs-lookup"><span data-stu-id="36e0b-214">You can find out the safe-timestamp by running the following query on the primary replica</span></span>  
  
```  
  
SELECT MAX(base_generation)   
   AS max_base_generation  
   FROM sys.dm_db_xtp_gc_cycle_stats  
GO  
  
```  
  
 <span data-ttu-id="36e0b-215">También puede identificar la marca de tiempo de seguridad usada en la réplica secundaria ejecutando la siguiente consulta simultáneamente a la carga de trabajo de lectura activa.</span><span class="sxs-lookup"><span data-stu-id="36e0b-215">You can also identify the safe-timestamp used on the secondary replica by running the following query concurrently with the active read-workload.</span></span>  
  
```  
  
SELECT begin_tsn   
   FROM sys.dm_db_xtp_transactions  
GO  
  
```  
  
###  <a name="read-only-workload-impact"></a><a name="ReadOnlyWorkloadImpact"></a> <span data-ttu-id="36e0b-216">Repercusión de la carga de trabajo de solo lectura</span><span class="sxs-lookup"><span data-stu-id="36e0b-216">Read-Only Workload Impact</span></span>  
 <span data-ttu-id="36e0b-217">Al configurar una réplica secundaria para el acceso de solo lectura, las cargas de trabajo de solo lectura en las bases de datos secundarias utilizan los recursos del sistema, como la CPU y E/S (para tablas basadas en disco) de los subprocesos REDO, especialmente si las cargas de trabajo de solo lectura en tablas basadas en disco realizan un uso intensivo de E/S.</span><span class="sxs-lookup"><span data-stu-id="36e0b-217">When you configure a secondary replica for read-only access, your read-only workloads on the secondary databases consume system resources, such as CPU and I/O (for disk-based tables) from redo threads, especially if the read-only workloads on disk-based tables are highly I/O-intensive.</span></span> <span data-ttu-id="36e0b-218">No hay ningún impacto en la E/S cuando se tiene acceso a tablas con optimización para memoria porque todas las filas residen en memoria.</span><span class="sxs-lookup"><span data-stu-id="36e0b-218">There is no IO impact when accessing memory-optimized tables because all the rows reside in memory.</span></span>  
  
 <span data-ttu-id="36e0b-219">Además, las cargas de trabajo de solo lectura en las réplicas secundarias pueden bloquear los cambios de lenguaje de definición de datos (DDL) que se aplican a través de las entradas de registro.</span><span class="sxs-lookup"><span data-stu-id="36e0b-219">Also, read-only workloads on the secondary replicas can block data definition language (DDL) changes that are applied through log records.</span></span>  
  
-   <span data-ttu-id="36e0b-220">Aunque las operaciones de lectura no tienen bloqueos compartidos debido a las versiones de fila, estas operaciones tienen bloqueos de estabilidad de esquema (Sch-S), que pueden bloquear las operaciones de puesta al día que aplican cambios DDL.</span><span class="sxs-lookup"><span data-stu-id="36e0b-220">Even though the read operations do not take shared locks because of row versioning, these operations take schema stability (Sch-S) locks, which can block redo operations that are applying DDL changes.</span></span> <span data-ttu-id="36e0b-221">Las operaciones DDL incluyen tablas de instrucciones ALTER/DROP y vistas, pero no incluyen instrucciones DROP o ALTER de procedimientos almacenados.</span><span class="sxs-lookup"><span data-stu-id="36e0b-221">DDL operations include ALTER/DROP tables and Views but not DROP or ALTER of stored procedures.</span></span> <span data-ttu-id="36e0b-222">Por ejemplo, cuando se quita una tabla basada en disco o con optimización para memoria en la réplica principal.</span><span class="sxs-lookup"><span data-stu-id="36e0b-222">So for example, if you drop a table disk-based or memory-optimized, on primary.</span></span> <span data-ttu-id="36e0b-223">Cuando el subproceso REDO procesa el registro para quitar la tabla, debe adquirir un bloqueo de SCH_M en la tabla y puede bloquearse mediante una consulta en ejecución con acceso a tablas.</span><span class="sxs-lookup"><span data-stu-id="36e0b-223">When REDO thread processes the log record to drop the table, it must acquire a SCH_M lock on the table and can get blocked by a running query accessing table.</span></span>  <span data-ttu-id="36e0b-224">Este comportamiento es el mismo que en la réplica primaria, salvo que la acción de quitar la tabla forma parte de una sesión de usuario y no de un subproceso REDO.</span><span class="sxs-lookup"><span data-stu-id="36e0b-224">This is the same behavior on primary replica except that the drop of the table is done as part of a user session and not REDO thread.</span></span>  
  
-   <span data-ttu-id="36e0b-225">Las tablas con optimización para memoria tienen un bloqueo adicional.</span><span class="sxs-lookup"><span data-stu-id="36e0b-225">There is additional blocking Memory-Optimized Tables.</span></span> <span data-ttu-id="36e0b-226">Si se quita un procedimiento almacenado, podría hacer que el proceso REDO provoque bloqueos si existen ejecuciones simultáneas del procedimiento almacenado nativo en la réplica secundaria.</span><span class="sxs-lookup"><span data-stu-id="36e0b-226">A drop of native stored procedure can cause REDO thread to block if there is a concurrent execution of the native stored procedure on the secondary replica.</span></span> <span data-ttu-id="36e0b-227">Este comportamiento es el mismo en la réplica primaria, salvo que la acción de quitar el procedimiento almacenado forma parte de una sesión de usuario y no de un subproceso REDO.</span><span class="sxs-lookup"><span data-stu-id="36e0b-227">This is the same behavior on the primary replica except that the drop of the stored procedure is done as part of a user session and not REDO thread.</span></span>  
  
 <span data-ttu-id="36e0b-228">Debe tener en cuenta los procedimientos recomendados acerca de la creación de consultas y aplicarlos a las bases de datos secundarias.</span><span class="sxs-lookup"><span data-stu-id="36e0b-228">Be aware of best practices around building queries, and exercise those best practices in the secondary databases.</span></span> <span data-ttu-id="36e0b-229">Por ejemplo, programe las consultas de ejecución prolongada tales como agregaciones de datos durante las horas de menos actividad.</span><span class="sxs-lookup"><span data-stu-id="36e0b-229">For example, schedule long-running queries such as aggregations of data during times of low activity.</span></span>  
  
> [!NOTE]  
>  <span data-ttu-id="36e0b-230">Cuando las consultas en la réplica secundaria bloquean un subproceso de puesta al día, se genera el evento XEvent **sqlserver.lock_redo_blocked** .</span><span class="sxs-lookup"><span data-stu-id="36e0b-230">If a redo thread is blocked by queries on a secondary replica, the **sqlserver.lock_redo_blocked** XEvent is raised.</span></span>  
  
###  <a name="indexing"></a><a name="bkmk_Indexing"></a> <span data-ttu-id="36e0b-231">Indización</span><span class="sxs-lookup"><span data-stu-id="36e0b-231">Indexing</span></span>  
 <span data-ttu-id="36e0b-232">Para optimizar las cargas de trabajo de solo lectura en réplicas secundarias legibles, tal vez desee crear índices en las tablas de las bases de datos secundarias.</span><span class="sxs-lookup"><span data-stu-id="36e0b-232">To optimize read-only workloads on the readable secondary replicas, you may want to create indexes on the tables in the secondary databases.</span></span> <span data-ttu-id="36e0b-233">Debido a que no se pueden realizar cambios de esquema o de datos en las bases de datos secundarias, cree los índices en las bases de datos principales y permita que los cambios se transfieran a la base de datos secundaria mediante el proceso de puesta al día.</span><span class="sxs-lookup"><span data-stu-id="36e0b-233">Because you cannot make schema or data changes on the secondary databases, create indexes in the primary databases and allow the changes to transfer to the secondary database through the redo process.</span></span>  
  
 <span data-ttu-id="36e0b-234">Para supervisar la actividad de uso de índices en una réplica secundaria, consulte las columnas **user_seeks**, **user_scans**y **user_lookups** de la vista de administración dinámica [sys.dm_db_index_usage_stats](/sql/relational-databases/system-dynamic-management-views/sys-dm-db-index-usage-stats-transact-sql) .</span><span class="sxs-lookup"><span data-stu-id="36e0b-234">To monitor index usage activity on a secondary replica, query the **user_seeks**, **user_scans**, and **user_lookups** columns of the [sys.dm_db_index_usage_stats](/sql/relational-databases/system-dynamic-management-views/sys-dm-db-index-usage-stats-transact-sql) dynamic management view.</span></span>  
  
###  <a name="statistics-for-read-only-access-databases"></a><a name="Read-OnlyStats"></a> <span data-ttu-id="36e0b-235">Estadísticas de las bases de datos de acceso de solo lectura</span><span class="sxs-lookup"><span data-stu-id="36e0b-235">Statistics for Read-Only Access Databases</span></span>  
 <span data-ttu-id="36e0b-236">Las estadísticas de las columnas de tablas y vistas indizadas se usan para optimizar los planes de consulta.</span><span class="sxs-lookup"><span data-stu-id="36e0b-236">Statistics on columns of tables and indexed views are used to optimize query plans.</span></span> <span data-ttu-id="36e0b-237">Para los grupos de disponibilidad, las estadísticas que se crean y se mantienen en las bases de datos principales se conservan automáticamente en las bases de datos secundarias como parte de la aplicación de los registros de transacciones.</span><span class="sxs-lookup"><span data-stu-id="36e0b-237">For availability groups, statistics that are created and maintained on the primary databases are automatically persisted on the secondary databases as part of applying the transaction log records.</span></span> <span data-ttu-id="36e0b-238">No obstante, la carga de trabajo de solo lectura en las bases de datos secundarias puede necesitar estadísticas distintas de las que se crean en las bases de datos principales.</span><span class="sxs-lookup"><span data-stu-id="36e0b-238">However, the read-only workload on the secondary databases may need different statistics than those that are created on the primary databases.</span></span> <span data-ttu-id="36e0b-239">Sin embargo, debido a que las bases de datos secundarias están restringidas al acceso de solo lectura, las estadísticas no se pueden crear en las bases de datos secundarias.</span><span class="sxs-lookup"><span data-stu-id="36e0b-239">However, because secondary databases are restricted to read-only access, statistics cannot be created on the secondary databases.</span></span>  
  
 <span data-ttu-id="36e0b-240">Para resolver este problema, la réplica secundaria crea y mantiene las estadísticas temporales para las bases de datos secundarias en **tempdb**.</span><span class="sxs-lookup"><span data-stu-id="36e0b-240">To address this problem, the secondary replica creates and maintains temporary statistics for secondary databases in **tempdb**.</span></span> <span data-ttu-id="36e0b-241">El sufijo _readonly_database_statistic se anexa al nombre de las estadísticas temporales para diferenciarlas de las estadísticas permanentes que se mantienen de la base de datos principal.</span><span class="sxs-lookup"><span data-stu-id="36e0b-241">The suffix _readonly_database_statistic is appended to the name of temporary statistics to differentiate them from the permanent statistics that are persisted from the primary database.</span></span>  
  
 <span data-ttu-id="36e0b-242">Solo [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] puede crear y actualizar las estadísticas temporales.</span><span class="sxs-lookup"><span data-stu-id="36e0b-242">Only [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] can create and update temporary statistics.</span></span> <span data-ttu-id="36e0b-243">No obstante, puede eliminar las estadísticas temporales y supervisar sus propiedades mediante las mismas herramientas que se usan para las estadísticas permanentes:</span><span class="sxs-lookup"><span data-stu-id="36e0b-243">However, you can delete temporary statistics and monitor their properties using the same tools that you use for permanent statistics:</span></span>  
  
-   <span data-ttu-id="36e0b-244">Elimine las estadísticas temporales mediante la instrucción [DROP STATISTICS](/sql/t-sql/statements/drop-statistics-transact-sql)[!INCLUDE[tsql](../../../includes/tsql-md.md)] .</span><span class="sxs-lookup"><span data-stu-id="36e0b-244">Delete temporary statistics using the [DROP STATISTICS](/sql/t-sql/statements/drop-statistics-transact-sql)[!INCLUDE[tsql](../../../includes/tsql-md.md)] statement.</span></span>  
  
-   <span data-ttu-id="36e0b-245">Supervise las estadísticas con las vistas de catálogo **sys.stats** y **sys.stats_columns** .</span><span class="sxs-lookup"><span data-stu-id="36e0b-245">Monitor statistics using the **sys.stats** and **sys.stats_columns** catalog views.</span></span> <span data-ttu-id="36e0b-246">**sys_stats** incluye una columna, **is_temporary**, para indicar las estadísticas que son permanentes y las que son temporales.</span><span class="sxs-lookup"><span data-stu-id="36e0b-246">**sys_stats** includes a column, **is_temporary**, to indicate which statistics are permanent and which are temporary.</span></span>  
  
 <span data-ttu-id="36e0b-247">No se permite la actualización de estadísticas automáticas para tablas con optimización de memoria en la réplica principal o secundaria.</span><span class="sxs-lookup"><span data-stu-id="36e0b-247">There is no support for auto-statistics update for memory-optimized tables on the primary or secondary replica.</span></span> <span data-ttu-id="36e0b-248">Debe supervisar el rendimiento de las consultas y planes en la réplica secundaria y actualizar manualmente las estadísticas de la réplica principal cuando sea necesario.</span><span class="sxs-lookup"><span data-stu-id="36e0b-248">You must monitor query performance and plans on the secondary replica and manually update the statistics on the primary replica when needed.</span></span> <span data-ttu-id="36e0b-249">Sin embargo, las estadísticas que faltan se crean automáticamente tanto en la réplica principal como en la secundaria.</span><span class="sxs-lookup"><span data-stu-id="36e0b-249">However, the missing statistics are automatically created both on primary and secondary replica.</span></span>  
  
 <span data-ttu-id="36e0b-250">Para obtener más información sobre las estadísticas de SQL Server, vea [Estadísticas](../../../relational-databases/statistics/statistics.md).</span><span class="sxs-lookup"><span data-stu-id="36e0b-250">For more information about SQL Server statistics, see [Statistics](../../../relational-databases/statistics/statistics.md).</span></span>  
  

  
####  <a name="stale-permanent-statistics-on-secondary-databases"></a><a name="StalePermStats"></a> <span data-ttu-id="36e0b-251">Estadísticas permanentes obsoletas en bases de datos secundarias</span><span class="sxs-lookup"><span data-stu-id="36e0b-251">Stale Permanent Statistics on Secondary Databases</span></span>  
 [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] <span data-ttu-id="36e0b-252">detecta cuándo están obsoletas las estadísticas permanentes de una base de datos secundaria.</span><span class="sxs-lookup"><span data-stu-id="36e0b-252">detects when permanent statistics on a secondary database are stale.</span></span> <span data-ttu-id="36e0b-253">Pero no se pueden realizar cambios en las estadísticas permanentes, excepto a través de los cambios en la base de datos principal.</span><span class="sxs-lookup"><span data-stu-id="36e0b-253">But changes cannot be made to the permanent statistics except through changes on the primary database.</span></span> <span data-ttu-id="36e0b-254">Para la optimización de consultas, [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] crea estadísticas temporales para tablas basadas en disco en la base de datos secundaria y usa estas estadísticas en lugar de las estadísticas en desuso permanentes.</span><span class="sxs-lookup"><span data-stu-id="36e0b-254">For query optimization, [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] creates temporary statistics for disk-based tables on the secondary database and uses these statistics instead of the stale permanent statistics.</span></span>  
  
 <span data-ttu-id="36e0b-255">Cuando las estadísticas permanentes se actualizan en la base de datos principal, se guardan automáticamente en la base de datos secundaria.</span><span class="sxs-lookup"><span data-stu-id="36e0b-255">When the permanent statistics are updated on the primary database, they are automatically persisted to the secondary database.</span></span> <span data-ttu-id="36e0b-256">A continuación [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] usa las estadísticas actualizadas permanentes, más actuales que las estadísticas temporales.</span><span class="sxs-lookup"><span data-stu-id="36e0b-256">Then [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] uses the updated permanent statistics, which are more current than the temporary statistics.</span></span>  
  
 <span data-ttu-id="36e0b-257">Si el grupo de disponibilidad conmuta por error, las estadísticas temporales se eliminan en todas las réplicas secundarias.</span><span class="sxs-lookup"><span data-stu-id="36e0b-257">If the availability group fails over, temporary statistics are deleted on all of the secondary replicas.</span></span>  
  
####  <a name="limitations-and-restrictions"></a><a name="StatsLimitationsRestrictions"></a> <span data-ttu-id="36e0b-258">Limitaciones y restricciones</span><span class="sxs-lookup"><span data-stu-id="36e0b-258">Limitations and Restrictions</span></span>  
  
-   <span data-ttu-id="36e0b-259">Debido a que las estadísticas temporales se almacenan en **tempdb**, el reinicio del servicio [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] provoca que desaparezcan todas las estadísticas temporales.</span><span class="sxs-lookup"><span data-stu-id="36e0b-259">Because temporary statistics are stored in **tempdb**, a restart of the [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] service causes all temporary statistics to disappear.</span></span>  
  
-   <span data-ttu-id="36e0b-260">El sufijo _readonly_database_statistic está reservado para las estadísticas que genera [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)].</span><span class="sxs-lookup"><span data-stu-id="36e0b-260">The suffix _readonly_database_statistic is reserved for statistics generated by [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)].</span></span> <span data-ttu-id="36e0b-261">Este sufijo no se puede usar al crear estadísticas en una base de datos principal.</span><span class="sxs-lookup"><span data-stu-id="36e0b-261">You cannot use this suffix when creating statistics on a primary database.</span></span> <span data-ttu-id="36e0b-262">Para más información, consulte [Estadísticas](../../../relational-databases/statistics/statistics.md).</span><span class="sxs-lookup"><span data-stu-id="36e0b-262">For more information, see [Statistics](../../../relational-databases/statistics/statistics.md).</span></span>  
  
##  <a name="accessing-memory-optimized-tables-on-a-secondary-replica"></a><a name="bkmk_AccessInMemTables"></a> <span data-ttu-id="36e0b-263">Obtener acceso a tablas optimizadas para memoria en una réplica secundaria</span><span class="sxs-lookup"><span data-stu-id="36e0b-263">Accessing memory-optimized tables on a Secondary Replica</span></span>  
 <span data-ttu-id="36e0b-264">Los niveles de aislamiento de la carga de trabajo de lectura en la réplica secundaria son únicamente aquellos que se permiten en la réplica principal.</span><span class="sxs-lookup"><span data-stu-id="36e0b-264">The read workload isolation levels on secondary replica are only those allowed on the primary replica.</span></span> <span data-ttu-id="36e0b-265">En la réplica secundaria no se realizan asignaciones de niveles de aislamiento.</span><span class="sxs-lookup"><span data-stu-id="36e0b-265">There is no mapping of isolations levels done on the secondary replica.</span></span> <span data-ttu-id="36e0b-266">De esta forma se garantiza que cualquier carga de trabajo de informes que se puede ejecutar en una réplica principal podrá ejecutarse en una réplica secundaria sin necesidad de realizar cambios.</span><span class="sxs-lookup"><span data-stu-id="36e0b-266">This ensure that any reporting workload that can be run on primary replica is able to run on the secondary replica without requiring any changes.</span></span> <span data-ttu-id="36e0b-267">Esto facilita la migración de una carga de trabajo de informes desde la réplica primaria a una secundaria o viceversa cuando la réplica secundaria no está disponible.</span><span class="sxs-lookup"><span data-stu-id="36e0b-267">This makes it easy for you to migrate a reporting workload from the primary replica to a secondary or vice versa when the secondary replica is not available.</span></span>  
  
 <span data-ttu-id="36e0b-268">Las siguientes consultas no se ejecutan correctamente en la réplica secundaria de forma similar a como ocurre en la réplica principal.</span><span class="sxs-lookup"><span data-stu-id="36e0b-268">The following queries fail to run on the secondary replica similarly to the way they fail on the primary replica.</span></span>  
  
-   <span data-ttu-id="36e0b-269">Para las consultas que se ejecutan solo en tablas optimizadas para memoria, los únicos niveles de aislamiento admitidos son instantánea, lectura repetible y serializable.</span><span class="sxs-lookup"><span data-stu-id="36e0b-269">For queries running only on memory-optimized tables, the only supported isolation levels are snapshot, repeatable read, and serializable.</span></span> <span data-ttu-id="36e0b-270">Cualquier consulta con nivel de aislamiento de lectura no confirmada o lectura confirmada devuelve un error salvo que haya habilitado la opción MEMORY_OPTIMIZED_ELEVATE_TO_SNAPSHOT en el nivel de base de datos.</span><span class="sxs-lookup"><span data-stu-id="36e0b-270">Any queries with read-uncommitted or read committed isolation level returns an error unless you have enabled the option MEMORY_OPTIMIZED_ELEVATE_TO_SNAPSHOT at the database level.</span></span>  
  
    ```sql  
    SET TRANSACTION ISOLATION LEVEL READ_COMMITTED  
    -- This is not allowed  
    BEGIN TRAN  
    SELECT * FROM t_hk  
    COMMIT  
  
    ```  
  
     <span data-ttu-id="36e0b-271">Mensaje de error:</span><span class="sxs-lookup"><span data-stu-id="36e0b-271">Error message:</span></span>  
  
    ```  
    Msg 41368, Level 16, State 0, Line 2  
    Accessing memory optimized tables using the CREAD_COMMITTED isolation level is supported only for autocommit transactions. It is not supported for explicit or implicit transactions. Provide a supported isolation level for the memory optimized table using a table hing, such as WITH (SNAPSHOT).  
    ```  
  
-   <span data-ttu-id="36e0b-272">No se admiten sugerencias de bloqueo en tablas optimizadas para memoria.</span><span class="sxs-lookup"><span data-stu-id="36e0b-272">No locking hints are supported on memory-optimized tables.</span></span> <span data-ttu-id="36e0b-273">Por ejemplo, todas las consultas siguientes no se ejecutan correctamente y provocarán un error.</span><span class="sxs-lookup"><span data-stu-id="36e0b-273">For example, all of the following queries fail with an error.</span></span> <span data-ttu-id="36e0b-274">Solamente se permite la sugerencia NOLOCK, que será NOOP cuando se utiliza con tablas optimizadas para memoria.</span><span class="sxs-lookup"><span data-stu-id="36e0b-274">Only NOLOCK hint is allowed and it is NOOP when used with memory-optimized tables.</span></span>  
  
    ```sql  
    SELECT * FROM t_hk WITH (PAGLOCK)  
    SELECT * FROM t_hk WITH (READPAST)  
    SELECT * FROM t_hk WITH (ROWLOCK)  
    SELECT * FROM t_hk WITH (READPAST)  
    SELECT * FROM t_hk WITH (TABLOCK)  
    SELECT * FROM t_hk WITH (XLOCK)  
    SELECT * FROM t_hk WITH (UPDLOCK)  
    ```  
  
-   <span data-ttu-id="36e0b-275">En el caso de las transacciones entre contenedores, no se admiten las transacciones con el nivel de aislamiento de sesión "Snapshot" que tienen acceso a tablas optimizadas para memoria.</span><span class="sxs-lookup"><span data-stu-id="36e0b-275">For cross-container transactions, transactions with session isolation level "snapshot" that access memory-optimized tables is not supported.</span></span> <span data-ttu-id="36e0b-276">Por ejemplo,</span><span class="sxs-lookup"><span data-stu-id="36e0b-276">For example,</span></span>  
  
    ```sql  
    SET TRANSACTION ISOLATION LEVEL SNAPSHOT  
    -- This is not allowed  
    BEGIN TRAN  
       SELECT * FROM t_hk  
    COMMIT  
    ```  
  
     <span data-ttu-id="36e0b-277">Mensaje de error:</span><span class="sxs-lookup"><span data-stu-id="36e0b-277">Error message:</span></span>  
  
    ```  
    Msg 41332, Level 16, State 0, Line 5  
    Memory optimized tables and natively compiled stored procedures cannot be accessed or created when the session TRANSACTION ISOLATION LEVEL is set to SNAPSHOT.  
    ```  
  
##  <a name="capacity-planning-considerations"></a><a name="bkmk_CapacityPlanning"></a> <span data-ttu-id="36e0b-278">Consideraciones de planeamiento de capacidad</span><span class="sxs-lookup"><span data-stu-id="36e0b-278">Capacity Planning Considerations</span></span>  
  
-   <span data-ttu-id="36e0b-279">En el caso de las tablas basadas en disco, las réplicas secundarias legibles pueden requerir espacio en **tempdb** por dos motivos:</span><span class="sxs-lookup"><span data-stu-id="36e0b-279">In the case of disk-based tables, readable secondary replicas can require space in **tempdb** for two reasons:</span></span>  
  
    -   <span data-ttu-id="36e0b-280">El nivel de aislamiento de instantánea copia las versiones de fila en **tempdb**.</span><span class="sxs-lookup"><span data-stu-id="36e0b-280">Snapshot isolation level copies row versions into **tempdb**.</span></span>  
  
    -   <span data-ttu-id="36e0b-281">Se crean estadísticas temporales para las bases de datos secundarias y se mantienen en **tempdb**.</span><span class="sxs-lookup"><span data-stu-id="36e0b-281">Temporary statistics for secondary databases are created and maintained in **tempdb**.</span></span> <span data-ttu-id="36e0b-282">Las estadísticas temporales pueden causar un ligero aumento del tamaño de **tempdb**.</span><span class="sxs-lookup"><span data-stu-id="36e0b-282">The temporary statistics can cause a slight increase in the size of **tempdb**.</span></span> <span data-ttu-id="36e0b-283">Para obtener más información, vea [Estadísticas de las bases de datos de acceso de solo lectura](#Read-OnlyStats), más adelante en esta sección.</span><span class="sxs-lookup"><span data-stu-id="36e0b-283">For more information, see [Statistics for Read-Only Access Databases](#Read-OnlyStats), later in this section.</span></span>  
  
-   <span data-ttu-id="36e0b-284">Al configurar el acceso de lectura en una o varias réplicas secundarias, las bases de datos principales agregan 14 bytes de sobrecarga en las filas de datos eliminadas, modificadas o insertadas para almacenar punteros a versiones de fila en las bases de datos secundarias para tablas basadas en disco.</span><span class="sxs-lookup"><span data-stu-id="36e0b-284">When you configure read-access for one or more secondary replicas, the primary databases add 14 bytes of overhead on deleted, modified, or inserted data rows to store pointers to row versions on the secondary databases for disk-based tables.</span></span> <span data-ttu-id="36e0b-285">Esta sobrecarga de 14 bytes se aplica a las bases de datos secundarias.</span><span class="sxs-lookup"><span data-stu-id="36e0b-285">This 14-byte overhead is carried over to the secondary databases.</span></span> <span data-ttu-id="36e0b-286">A medida que se agrega la sobrecarga de 14 bytes a las filas de datos, se pueden producir divisiones de página.</span><span class="sxs-lookup"><span data-stu-id="36e0b-286">As the 14-byte overhead is added to data rows, page splits might occur.</span></span>  
  
     <span data-ttu-id="36e0b-287">Las bases de datos principales no generan los datos de las versiones de fila.</span><span class="sxs-lookup"><span data-stu-id="36e0b-287">The row version data is not generated by the primary databases.</span></span> <span data-ttu-id="36e0b-288">En su lugar, las bases de datos secundarias generan las versiones de fila.</span><span class="sxs-lookup"><span data-stu-id="36e0b-288">Instead, the secondary databases generate the row versions.</span></span> <span data-ttu-id="36e0b-289">Sin embargo, el control de versiones de fila aumenta el almacenamiento de datos tanto en las bases de datos principales como en las secundarias.</span><span class="sxs-lookup"><span data-stu-id="36e0b-289">However, row versioning increases data storage in both the primary and secondary databases.</span></span>  
  
     <span data-ttu-id="36e0b-290">La adición de los datos de las versiones de fila depende del valor de nivel de aislamiento de instantánea o de aislamiento de instantánea de lectura confirmada (RCSI) en la base de datos principal.</span><span class="sxs-lookup"><span data-stu-id="36e0b-290">The addition of the row version data depends on the snapshot isolation or read-committed snapshot isolation (RCSI) level setting on the primary database.</span></span> <span data-ttu-id="36e0b-291">En la tabla siguiente se describe el comportamiento del control de versiones en una base de datos secundaria legible con configuraciones diferentes para las tablas basadas en disco.</span><span class="sxs-lookup"><span data-stu-id="36e0b-291">The table below describes the behavior of versioning on a readable secondary database under different settings for disk based tables.</span></span>  
  
    |<span data-ttu-id="36e0b-292">¿Réplica secundaria legible?</span><span class="sxs-lookup"><span data-stu-id="36e0b-292">Readable secondary replica?</span></span>|<span data-ttu-id="36e0b-293">¿Nivel de aislamiento de instantánea o de RCSI habilitado?</span><span class="sxs-lookup"><span data-stu-id="36e0b-293">Snapshot isolation or RCSI level enabled?</span></span>|<span data-ttu-id="36e0b-294">Base de datos principal</span><span class="sxs-lookup"><span data-stu-id="36e0b-294">Primary Database</span></span>|<span data-ttu-id="36e0b-295">Base de datos secundaria</span><span class="sxs-lookup"><span data-stu-id="36e0b-295">Secondary Database</span></span>|  
    |---------------------------------|-----------------------------------------------|----------------------|------------------------|  
    |<span data-ttu-id="36e0b-296">No</span><span class="sxs-lookup"><span data-stu-id="36e0b-296">No</span></span>|<span data-ttu-id="36e0b-297">No</span><span class="sxs-lookup"><span data-stu-id="36e0b-297">No</span></span>|<span data-ttu-id="36e0b-298">Sin versiones de fila ni sobrecarga de 14 bytes</span><span class="sxs-lookup"><span data-stu-id="36e0b-298">No row versions or 14-byte overhead</span></span>|<span data-ttu-id="36e0b-299">Sin versiones de fila ni sobrecarga de 14 bytes</span><span class="sxs-lookup"><span data-stu-id="36e0b-299">No row versions or 14-byte overhead</span></span>|  
    |<span data-ttu-id="36e0b-300">No</span><span class="sxs-lookup"><span data-stu-id="36e0b-300">No</span></span>|<span data-ttu-id="36e0b-301">Sí</span><span class="sxs-lookup"><span data-stu-id="36e0b-301">Yes</span></span>|<span data-ttu-id="36e0b-302">Con versiones de fila y sobrecarga de 14 bytes</span><span class="sxs-lookup"><span data-stu-id="36e0b-302">Row versions and 14-byte overhead</span></span>|<span data-ttu-id="36e0b-303">Sin versiones de fila pero con sobrecarga de 14 bytes</span><span class="sxs-lookup"><span data-stu-id="36e0b-303">No row versions, but 14-byte overhead</span></span>|  
    |<span data-ttu-id="36e0b-304">Sí</span><span class="sxs-lookup"><span data-stu-id="36e0b-304">Yes</span></span>|<span data-ttu-id="36e0b-305">No</span><span class="sxs-lookup"><span data-stu-id="36e0b-305">No</span></span>|<span data-ttu-id="36e0b-306">Sin versiones de fila pero con sobrecarga de 14 bytes</span><span class="sxs-lookup"><span data-stu-id="36e0b-306">No row versions, but 14-byte overhead</span></span>|<span data-ttu-id="36e0b-307">Con versiones de fila y sobrecarga de 14 bytes</span><span class="sxs-lookup"><span data-stu-id="36e0b-307">Row versions and 14-byte overhead</span></span>|  
    |<span data-ttu-id="36e0b-308">Sí</span><span class="sxs-lookup"><span data-stu-id="36e0b-308">Yes</span></span>|<span data-ttu-id="36e0b-309">Sí</span><span class="sxs-lookup"><span data-stu-id="36e0b-309">Yes</span></span>|<span data-ttu-id="36e0b-310">Con versiones de fila y sobrecarga de 14 bytes</span><span class="sxs-lookup"><span data-stu-id="36e0b-310">Row versions and 14-byte overhead</span></span>|<span data-ttu-id="36e0b-311">Con versiones de fila y sobrecarga de 14 bytes</span><span class="sxs-lookup"><span data-stu-id="36e0b-311">Row versions and 14-byte overhead</span></span>|  
  
##  <a name="related-tasks"></a><a name="bkmk_RelatedTasks"></a> <span data-ttu-id="36e0b-312">Tareas relacionadas</span><span class="sxs-lookup"><span data-stu-id="36e0b-312">Related Tasks</span></span>  
  
-   [<span data-ttu-id="36e0b-313">Configurar el acceso de solo lectura en una réplica de disponibilidad &#40;SQL Server&#41;</span><span class="sxs-lookup"><span data-stu-id="36e0b-313">Configure Read-Only Access on an Availability Replica &#40;SQL Server&#41;</span></span>](configure-read-only-access-on-an-availability-replica-sql-server.md)  
  
-   [<span data-ttu-id="36e0b-314">Configurar el enrutamiento de solo lectura para un grupo de disponibilidad &#40;SQL Server&#41;</span><span class="sxs-lookup"><span data-stu-id="36e0b-314">Configure Read-Only Routing for an Availability Group &#40;SQL Server&#41;</span></span>](configure-read-only-routing-for-an-availability-group-sql-server.md)  
  
-   [<span data-ttu-id="36e0b-315">Crear o configurar un agente de escucha de grupo de disponibilidad &#40;SQL Server&#41;</span><span class="sxs-lookup"><span data-stu-id="36e0b-315">Create or Configure an Availability Group Listener &#40;SQL Server&#41;</span></span>](create-or-configure-an-availability-group-listener-sql-server.md)  
  
-   [<span data-ttu-id="36e0b-316">Supervisar grupos de disponibilidad &#40;Transact-SQL&#41;</span><span class="sxs-lookup"><span data-stu-id="36e0b-316">Monitor Availability Groups &#40;Transact-SQL&#41;</span></span>](monitor-availability-groups-transact-sql.md)  
  
-   [<span data-ttu-id="36e0b-317">Ver las propiedades de una réplica de disponibilidad &#40;SQL Server&#41;</span><span class="sxs-lookup"><span data-stu-id="36e0b-317">View Availability Replica Properties &#40;SQL Server&#41;</span></span>](view-availability-replica-properties-sql-server.md)  
  
-   [<span data-ttu-id="36e0b-318">Usar el cuadro de diálogo Nuevo grupo de disponibilidad &#40;SQL Server Management Studio&#41;</span><span class="sxs-lookup"><span data-stu-id="36e0b-318">Use the New Availability Group Dialog Box &#40;SQL Server Management Studio&#41;</span></span>](use-the-new-availability-group-dialog-box-sql-server-management-studio.md)  
  
##  <a name="related-content"></a><a name="RelatedContent"></a> <span data-ttu-id="36e0b-319">Contenido relacionado</span><span class="sxs-lookup"><span data-stu-id="36e0b-319">Related Content</span></span>  
  
-   [<span data-ttu-id="36e0b-320">Blog del equipo de AlwaysOn de SQL Server: el blog del equipo de AlwaysOn oficial de SQL Server</span><span class="sxs-lookup"><span data-stu-id="36e0b-320">SQL Server AlwaysOn Team Blog: The official SQL Server AlwaysOn Team Blog</span></span>](https://blogs.msdn.com/b/sqlalwayson/)  
  
## <a name="see-also"></a><span data-ttu-id="36e0b-321">Consulte también</span><span class="sxs-lookup"><span data-stu-id="36e0b-321">See Also</span></span>  
 <span data-ttu-id="36e0b-322">[Información general de Grupos de disponibilidad AlwaysOn &#40;SQL Server&#41;](overview-of-always-on-availability-groups-sql-server.md) </span><span class="sxs-lookup"><span data-stu-id="36e0b-322">[Overview of AlwaysOn Availability Groups &#40;SQL Server&#41;](overview-of-always-on-availability-groups-sql-server.md) </span></span>  
 <span data-ttu-id="36e0b-323">[Acerca del acceso de conexión de cliente a réplicas de disponibilidad &#40;SQL Server&#41;](about-client-connection-access-to-availability-replicas-sql-server.md) </span><span class="sxs-lookup"><span data-stu-id="36e0b-323">[About Client Connection Access to Availability Replicas &#40;SQL Server&#41;](about-client-connection-access-to-availability-replicas-sql-server.md) </span></span>  
 <span data-ttu-id="36e0b-324">[Agentes de escucha de grupo de disponibilidad, conectividad de cliente y conmutación por error de una aplicación &#40;SQL Server&#41;](../../listeners-client-connectivity-application-failover.md) </span><span class="sxs-lookup"><span data-stu-id="36e0b-324">[Availability Group Listeners, Client Connectivity, and Application Failover &#40;SQL Server&#41;](../../listeners-client-connectivity-application-failover.md) </span></span>  
 [<span data-ttu-id="36e0b-325">estadísticas</span><span class="sxs-lookup"><span data-stu-id="36e0b-325">Statistics</span></span>](../../../relational-databases/statistics/statistics.md)  
  
  
