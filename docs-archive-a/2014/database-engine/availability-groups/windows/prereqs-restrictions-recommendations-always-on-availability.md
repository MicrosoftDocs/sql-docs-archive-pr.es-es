---
title: Requisitos previos, restricciones y recomendaciones para Grupos de disponibilidad AlwaysOn (SQL Server) | Microsoft Docs
ms.custom: ''
ms.date: 06/14/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: high-availability
ms.topic: conceptual
helpviewer_keywords:
- Availability Groups [SQL Server], server instance
- Availability Groups [SQL Server], deploying
- Availability Groups [SQL Server], WSFC clusters
- Availability Groups [SQL Server], about
- Availability Groups [SQL Server], prerequisites and restrictions
- Availability Groups [SQL Server], Failover Cluster Instances
- Availability Groups [SQL Server], databases
- Availability Groups [SQL Server]
ms.assetid: edbab896-42bb-4d17-8d75-e92ca11f7abb
author: MashaMSFT
ms.author: mathoma
ms.openlocfilehash: 078f38058c612037a8013f7955349e94d6db610e
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 08/04/2020
ms.locfileid: "87749497"
---
# <a name="prerequisites-restrictions-and-recommendations-for-alwayson-availability-groups-sql-server"></a><span data-ttu-id="32562-102">Requisitos previos, restricciones y recomendaciones para Grupos de disponibilidad AlwaysOn (SQL Server)</span><span class="sxs-lookup"><span data-stu-id="32562-102">Prerequisites, Restrictions, and Recommendations for AlwaysOn Availability Groups (SQL Server)</span></span>
  <span data-ttu-id="32562-103">En este tema se describen las consideraciones para implementar [!INCLUDE[ssHADR](../../../includes/sshadr-md.md)], incluidos los requisitos previos, restricciones y recomendaciones para equipos host, los clústeres de conmutación por error de Windows Server (WSFC), las instancias del servidor y los grupos de disponibilidad.</span><span class="sxs-lookup"><span data-stu-id="32562-103">This topic describes considerations for deploying [!INCLUDE[ssHADR](../../../includes/sshadr-md.md)], including prerequisites, restrictions, and recommendations for host computers, Windows Server Failover Clustering (WSFC) clusters, server instances, and availability groups.</span></span> <span data-ttu-id="32562-104">Para cada uno de estos componentes, se indican los criterios de seguridad y permisos necesarios, si existen.</span><span class="sxs-lookup"><span data-stu-id="32562-104">For each of these components security considerations and required permissions, if any, are indicated.</span></span>  
  
> [!IMPORTANT]  
>  <span data-ttu-id="32562-105">Antes de implementar [!INCLUDE[ssHADR](../../../includes/sshadr-md.md)], le recomendamos encarecidamente que lea todas las secciones de este tema.</span><span class="sxs-lookup"><span data-stu-id="32562-105">Before you deploy [!INCLUDE[ssHADR](../../../includes/sshadr-md.md)], we strongly recommend that you read every section of this topic.</span></span>  
  
 
  
##  <a name="net-hotfixes-that-support-alwayson-availability-groups"></a><a name="DotNetHotfixes"></a><span data-ttu-id="32562-106">Revisiones de .NET que admiten Grupos de disponibilidad AlwaysOn</span><span class="sxs-lookup"><span data-stu-id="32562-106">.NET Hotfixes that Support AlwaysOn Availability Groups</span></span>  
 <span data-ttu-id="32562-107">En función de los [!INCLUDE[ssCurrent](../../../includes/sscurrent-md.md)] componentes y las características que se vayan a usar con [!INCLUDE[ssHADR](../../../includes/sshadr-md.md)] , es posible que tenga que instalar revisiones de .net adicionales identificadas en la tabla siguiente.</span><span class="sxs-lookup"><span data-stu-id="32562-107">Depending on the [!INCLUDE[ssCurrent](../../../includes/sscurrent-md.md)] components and features you will use with [!INCLUDE[ssHADR](../../../includes/sshadr-md.md)], you may need to install additional .NET hotfixes identified in the following table.</span></span> <span data-ttu-id="32562-108">Las revisiones pueden instalarse en cualquier orden.</span><span class="sxs-lookup"><span data-stu-id="32562-108">The hotfixes can be installed in any order.</span></span>  
  
||<span data-ttu-id="32562-109">Característica dependiente</span><span class="sxs-lookup"><span data-stu-id="32562-109">Dependent Feature</span></span>|<span data-ttu-id="32562-110">Revisión</span><span class="sxs-lookup"><span data-stu-id="32562-110">Hotfix</span></span>|<span data-ttu-id="32562-111">Vínculo</span><span class="sxs-lookup"><span data-stu-id="32562-111">Link</span></span>|  
|------|-----------------------|------------|----------|  
|<span data-ttu-id="32562-112">![Casilla de verificación](../../media/checkboxemptycenterxtraspacetopandright.gif "Casilla de verificación")</span><span class="sxs-lookup"><span data-stu-id="32562-112">![Checkbox](../../media/checkboxemptycenterxtraspacetopandright.gif "Checkbox")</span></span>|[!INCLUDE[ssRSnoversion](../../../includes/ssrsnoversion-md.md)]|<span data-ttu-id="32562-113">La revisión para .NET 3,5 SP1 agrega compatibilidad con las características de SQL Client para AlwaysOn de intención de lectura, solo lectura y multisubnetfailover.</span><span class="sxs-lookup"><span data-stu-id="32562-113">Hotfix for .NET 3.5 SP1 adds support to SQL Client for AlwaysOn features of Read-intent, readonly, and multisubnetfailover.</span></span> <span data-ttu-id="32562-114">La revisión tiene que instalarse en cada servidor de informes [!INCLUDE[ssRSnoversion](../../../includes/ssrsnoversion-md.md)] .</span><span class="sxs-lookup"><span data-stu-id="32562-114">The hotfix needs to be installed on each [!INCLUDE[ssRSnoversion](../../../includes/ssrsnoversion-md.md)] report server.</span></span>|<span data-ttu-id="32562-115">KB 2654347: [revisión para .net 3,5 SP1 para agregar compatibilidad con las características de AlwaysOn](https://go.microsoft.com/fwlink/?LinkId=242896)</span><span class="sxs-lookup"><span data-stu-id="32562-115">KB 2654347: [Hotfix for .NET 3.5 SP1 to add support for AlwaysOn features](https://go.microsoft.com/fwlink/?LinkId=242896)</span></span>|  
  
##  <a name="windows-system-requirements-and-recommendations"></a><a name="SystemReqsForAOAG"></a><span data-ttu-id="32562-116">Recomendaciones y requisitos del sistema de Windows</span><span class="sxs-lookup"><span data-stu-id="32562-116">Windows System Requirements and Recommendations</span></span>  
  
  
###  <a name="checklist-requirements-windows-system"></a><a name="SystemRequirements"></a> <span data-ttu-id="32562-117">Lista de comprobación: Requisitos (sistema de Windows)</span><span class="sxs-lookup"><span data-stu-id="32562-117">Checklist: Requirements (Windows System)</span></span>  
 <span data-ttu-id="32562-118">Para admitir la característica de [!INCLUDE[ssHADR](../../../includes/sshadr-md.md)] , asegúrese de que cada equipo que vaya a participar en uno o varios grupos de disponibilidad cumpla los requisitos básicos siguientes:</span><span class="sxs-lookup"><span data-stu-id="32562-118">To support the [!INCLUDE[ssHADR](../../../includes/sshadr-md.md)] feature, ensure that every computer that is to participate in one or more availability groups meets the following fundamental requirements:</span></span>  
  
||<span data-ttu-id="32562-119">Requisito</span><span class="sxs-lookup"><span data-stu-id="32562-119">Requirement</span></span>|<span data-ttu-id="32562-120">Vínculo</span><span class="sxs-lookup"><span data-stu-id="32562-120">Link</span></span>|  
|------|-----------------|----------|  
|<span data-ttu-id="32562-121">![Casilla de verificación](../../media/checkboxemptycenterxtraspacetopandright.gif "Casilla de verificación")</span><span class="sxs-lookup"><span data-stu-id="32562-121">![Checkbox](../../media/checkboxemptycenterxtraspacetopandright.gif "Checkbox")</span></span>|<span data-ttu-id="32562-122">Asegúrese de que el sistema no es un controlador de dominio.</span><span class="sxs-lookup"><span data-stu-id="32562-122">Ensure that the system is not a domain controller.</span></span>|<span data-ttu-id="32562-123">No se admiten grupos de disponibilidad en los controladores de dominio.</span><span class="sxs-lookup"><span data-stu-id="32562-123">Availability groups are not supported on domain controllers.</span></span>|  
|<span data-ttu-id="32562-124">![Casilla de verificación](../../media/checkboxemptycenterxtraspacetopandright.gif "Casilla de verificación")</span><span class="sxs-lookup"><span data-stu-id="32562-124">![Checkbox](../../media/checkboxemptycenterxtraspacetopandright.gif "Checkbox")</span></span>|<span data-ttu-id="32562-125">Asegúrese de que cada equipo esté ejecutando Windows Server 2008 x86 (no WOW64) o x64 o versiones posteriores.</span><span class="sxs-lookup"><span data-stu-id="32562-125">Ensure that each computer is running either x86 (non-WOW64) or x64 Windows Server 2008 or later versions.</span></span>|<span data-ttu-id="32562-126">WOW64 (Windows de 32 bits de Windows de 64 bits) no admite [!INCLUDE[ssHADR](../../../includes/sshadr-md.md)].</span><span class="sxs-lookup"><span data-stu-id="32562-126">WOW64 (Windows 32-bit on Windows 64-bit) does not support [!INCLUDE[ssHADR](../../../includes/sshadr-md.md)].</span></span>|  
|<span data-ttu-id="32562-127">![Casilla de verificación](../../media/checkboxemptycenterxtraspacetopandright.gif "Casilla de verificación")</span><span class="sxs-lookup"><span data-stu-id="32562-127">![Checkbox](../../media/checkboxemptycenterxtraspacetopandright.gif "Checkbox")</span></span>|<span data-ttu-id="32562-128">Asegúrese de que cada equipo es un nodo de un clúster de conmutación por error de Windows Server (WSFC).</span><span class="sxs-lookup"><span data-stu-id="32562-128">Ensure that each computer is a node in a Windows Server Failover Clustering (WSFC) cluster.</span></span>|[<span data-ttu-id="32562-129">Clústeres de conmutación por error de Windows Server &#40;WSFC&#41; con SQL Server</span><span class="sxs-lookup"><span data-stu-id="32562-129">Windows Server Failover Clustering &#40;WSFC&#41; with SQL Server</span></span>](../../../sql-server/failover-clusters/windows/windows-server-failover-clustering-wsfc-with-sql-server.md)|  
|<span data-ttu-id="32562-130">![Casilla de verificación](../../media/checkboxemptycenterxtraspacetopandright.gif "Casilla de verificación")</span><span class="sxs-lookup"><span data-stu-id="32562-130">![Checkbox](../../media/checkboxemptycenterxtraspacetopandright.gif "Checkbox")</span></span>|<span data-ttu-id="32562-131">Asegúrese de que el clúster de WSFC contiene los nodos suficientes para admitir las configuraciones de grupo de disponibilidad.</span><span class="sxs-lookup"><span data-stu-id="32562-131">Ensure that the WSFC cluster contains sufficient nodes to support your availability group configurations.</span></span>|<span data-ttu-id="32562-132">Un nodo de WSFC solo puede hospedar una única réplica de disponibilidad para un grupo de disponibilidad dado.</span><span class="sxs-lookup"><span data-stu-id="32562-132">A WSFC node can host only one availability replica for a given availability group.</span></span> <span data-ttu-id="32562-133">En un nodo determinado de WSFC, una o más instancias de [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] pueden hospedar las réplicas de disponibilidad de muchos grupos de disponibilidad.</span><span class="sxs-lookup"><span data-stu-id="32562-133">On a given WSFC node, one or more instances of [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] can host availability replicas for many availability groups.</span></span><br /><br /> <span data-ttu-id="32562-134">Consulte a los administradores de bases de datos cuántos nodos de WSFC se requieren para admitir las réplicas de disponibilidad de los grupos de disponibilidad planeados.</span><span class="sxs-lookup"><span data-stu-id="32562-134">Ask your database administrators how many WSFC nodes are required for to support the availability replicas of the planned availability groups.</span></span><br /><br /> <span data-ttu-id="32562-135">[Información general de los grupos de disponibilidad AlwaysOn &#40;SQL Server&#41;](overview-of-always-on-availability-groups-sql-server.md).</span><span class="sxs-lookup"><span data-stu-id="32562-135">[Overview of AlwaysOn Availability Groups &#40;SQL Server&#41;](overview-of-always-on-availability-groups-sql-server.md).</span></span>|  
|<span data-ttu-id="32562-136">![Casilla de verificación](../../media/checkboxemptycenterxtraspacetopandright.gif "Casilla de verificación")</span><span class="sxs-lookup"><span data-stu-id="32562-136">![Checkbox](../../media/checkboxemptycenterxtraspacetopandright.gif "Checkbox")</span></span>|<span data-ttu-id="32562-137">Asegúrese de que todas las revisiones aplicables de Windows se hayan instalado en cada nodo del clúster de WSFC.</span><span class="sxs-lookup"><span data-stu-id="32562-137">Ensure that all applicable Window hotfixes have been installed on every node in the WSFC cluster.</span></span>|<span data-ttu-id="32562-138">Importante se requiere o se recomienda un número de revisiones para los nodos de un clúster de WSFC en el que se está implementando. \*\* \* \* \* \* \*\* [!INCLUDE[ssHADR](../../../includes/sshadr-md.md)]</span><span class="sxs-lookup"><span data-stu-id="32562-138">**\*\* Important \*\*** A number of hotfixes are required or recommended for the nodes of a WSFC cluster on which [!INCLUDE[ssHADR](../../../includes/sshadr-md.md)] is being deployed.</span></span> <span data-ttu-id="32562-139">Para obtener más información, vea [Revisiones de Windows que admiten los grupos de disponibilidad AlwaysOn (Windows System)](#WinHotfixes), más adelante en esta sección.</span><span class="sxs-lookup"><span data-stu-id="32562-139">For more information, see [Windows Hotfixes that Support AlwaysOn Availability Groups (Windows System)](#WinHotfixes), later in this section.</span></span>|  
  
> [!IMPORTANT]  
>  <span data-ttu-id="32562-140">Asegúrese también de que el entorno esté configurado correctamente para conectarse a un grupo de disponibilidad.</span><span class="sxs-lookup"><span data-stu-id="32562-140">Also ensure that your environment is correctly configured for connecting to an availability group.</span></span> <span data-ttu-id="32562-141">Para obtener más información, vea [conectividad de cliente de AlwaysOn (SQL Server)](always-on-client-connectivity-sql-server.md).</span><span class="sxs-lookup"><span data-stu-id="32562-141">For more information, see [AlwaysOn Client Connectivity (SQL Server)](always-on-client-connectivity-sql-server.md).</span></span>  
  
####  <a name="windows-hotfixes-that-support-alwayson-availability-groups-windows-system"></a><a name="WinHotfixes"></a><span data-ttu-id="32562-142">Revisiones de Windows que admiten Grupos de disponibilidad AlwaysOn (sistema de Windows)</span><span class="sxs-lookup"><span data-stu-id="32562-142">Windows Hotfixes that Support AlwaysOn Availability Groups (Windows System)</span></span>  
 <span data-ttu-id="32562-143">Dependiendo de la topología de clúster, podrían aplicarse varias revisiones adicionales de Windows Server 2008 Service Pack 2 (SP2) o Windows Server 2008 R2 para admitir [!INCLUDE[ssHADR](../../../includes/sshadr-md.md)].</span><span class="sxs-lookup"><span data-stu-id="32562-143">Depending on your cluster topology, several additional Windows Server 2008 Service Pack 2 (SP2) or Windows Server 2008 R2 hotfixes might be applicable for supporting [!INCLUDE[ssHADR](../../../includes/sshadr-md.md)].</span></span> <span data-ttu-id="32562-144">En la tabla siguiente se identifican estas revisiones.</span><span class="sxs-lookup"><span data-stu-id="32562-144">The following table identifies these hotfixes.</span></span> <span data-ttu-id="32562-145">Las revisiones pueden instalarse en cualquier orden.</span><span class="sxs-lookup"><span data-stu-id="32562-145">They hotfixes can be installed in any order.</span></span>  
  
||<span data-ttu-id="32562-146">Se aplica a Windows 2008 SP2</span><span class="sxs-lookup"><span data-stu-id="32562-146">Applies to Windows 2008 SP2</span></span>|<span data-ttu-id="32562-147">Se aplica a Windows 2008 R2 SP1</span><span class="sxs-lookup"><span data-stu-id="32562-147">Applies to Windows 2008 R2 SP1</span></span>|<span data-ttu-id="32562-148">Incluido en Windows 2012</span><span class="sxs-lookup"><span data-stu-id="32562-148">Included in Windows 2012</span></span>|<span data-ttu-id="32562-149">Para admitir...</span><span class="sxs-lookup"><span data-stu-id="32562-149">To Support...</span></span>|<span data-ttu-id="32562-150">Revisión</span><span class="sxs-lookup"><span data-stu-id="32562-150">Hotfix</span></span>|<span data-ttu-id="32562-151">Vínculo</span><span class="sxs-lookup"><span data-stu-id="32562-151">Link</span></span>|  
|------|---------------------------------|------------------------------------|------------------------------|-----------------|------------|----------|  
|<span data-ttu-id="32562-152">![Casilla de verificación](../../media/checkboxemptycenterxtraspacetopandright.gif "Casilla de verificación")</span><span class="sxs-lookup"><span data-stu-id="32562-152">![Checkbox](../../media/checkboxemptycenterxtraspacetopandright.gif "Checkbox")</span></span>|<span data-ttu-id="32562-153">Sí</span><span class="sxs-lookup"><span data-stu-id="32562-153">Yes</span></span>|<span data-ttu-id="32562-154">Sí</span><span class="sxs-lookup"><span data-stu-id="32562-154">Yes</span></span>|<span data-ttu-id="32562-155">Sí</span><span class="sxs-lookup"><span data-stu-id="32562-155">Yes</span></span>|<span data-ttu-id="32562-156">**Configurar el quorum óptimo de WSFC**</span><span class="sxs-lookup"><span data-stu-id="32562-156">**Configuring optimal WSFC quorum**</span></span>|<span data-ttu-id="32562-157">En cada nodo de WSFC, asegúrese de que esté instalada la revisión descrita en el artículo 2494036 de Knowledge Base.</span><span class="sxs-lookup"><span data-stu-id="32562-157">On each WSFC node, ensure that the hotfix described in Knowledge Base article 2494036 is installed.</span></span><br /><br /> <span data-ttu-id="32562-158">Esta revisión admite quórum óptimo de configuración con los destinos no automáticos de conmutación por error.</span><span class="sxs-lookup"><span data-stu-id="32562-158">This hotfix supports configuring optimal quorum with non-automatic failover targets.</span></span> <span data-ttu-id="32562-159">Esta funcionalidad mejora los clústeres de varios sitios que permite seleccionar a qué nodos se vota.</span><span class="sxs-lookup"><span data-stu-id="32562-159">This functionality improves multi-site clusters by enabling you to select which nodes vote.</span></span>|<span data-ttu-id="32562-160">KB 2494036:  [Hay disponible una revisión que permite configurar un nodo del clúster que no tiene los votos de quórum en Windows Server 2008 y Windows Server 2008 R2](https://support.microsoft.com/kb/2494036)</span><span class="sxs-lookup"><span data-stu-id="32562-160">KB 2494036:  [A hotfix is available to let you configure a cluster node that does not have quorum votes in Windows Server 2008 and in Windows Server 2008 R2](https://support.microsoft.com/kb/2494036)</span></span><br /><br /> <span data-ttu-id="32562-161">Para obtener información sobre la votación del cuórum, vea [Configuración de los votos y modos de cuórum WSFC &#40;SQL Server&#41;](../../../sql-server/failover-clusters/windows/wsfc-quorum-modes-and-voting-configuration-sql-server.md)</span><span class="sxs-lookup"><span data-stu-id="32562-161">For information about quorum voting, see [WSFC Quorum Modes and Voting Configuration &#40;SQL Server&#41;](../../../sql-server/failover-clusters/windows/wsfc-quorum-modes-and-voting-configuration-sql-server.md)</span></span>|  
|<span data-ttu-id="32562-162">![Casilla de verificación](../../media/checkboxemptycenterxtraspacetopandright.gif "Casilla de verificación")</span><span class="sxs-lookup"><span data-stu-id="32562-162">![Checkbox](../../media/checkboxemptycenterxtraspacetopandright.gif "Checkbox")</span></span>|<span data-ttu-id="32562-163">Sí</span><span class="sxs-lookup"><span data-stu-id="32562-163">Yes</span></span>|<span data-ttu-id="32562-164">Sí</span><span class="sxs-lookup"><span data-stu-id="32562-164">Yes</span></span>|<span data-ttu-id="32562-165">Sí</span><span class="sxs-lookup"><span data-stu-id="32562-165">Yes</span></span>|<span data-ttu-id="32562-166">**Un uso más eficaz de ancho de banda de red**</span><span class="sxs-lookup"><span data-stu-id="32562-166">**More efficient use of network bandwidth**</span></span>|<span data-ttu-id="32562-167">En cada nodo WSFC, asegúrese de que esté instalada la revisión descrita en el artículo 2616514 de Knowledge Base.</span><span class="sxs-lookup"><span data-stu-id="32562-167">On each WSFC node, ensure that the hotfix described in Knowledge Base article 2616514 is installed.</span></span><br /><br /> <span data-ttu-id="32562-168">Sin esta revisión, el servicio Cluster envía notificaciones innecesarias del Registro entre los nodos del clúster.</span><span class="sxs-lookup"><span data-stu-id="32562-168">Without this hotfix, the Cluster service sends unnecessary registry notifications among cluster nodes.</span></span> <span data-ttu-id="32562-169">Este comportamiento limita el ancho de banda de red, que es un problema grave para [!INCLUDE[ssHADRc](../../../includes/sshadrc-md.md)].</span><span class="sxs-lookup"><span data-stu-id="32562-169">This behavior limits network bandwidth, which is a serious issue for [!INCLUDE[ssHADRc](../../../includes/sshadrc-md.md)].</span></span>|<span data-ttu-id="32562-170">KB 2616514:  [El servicio de clúster envía notificaciones de cambio de claves del Registro innecesarias entre los nodos del clúster en Windows Server 2008 o en Windows Server 2008 R2](https://support.microsoft.com/kb/2616514)</span><span class="sxs-lookup"><span data-stu-id="32562-170">KB 2616514:  [Cluster service sends unnecessary registry key change notifications among cluster nodes in Windows Server 2008 or in Windows Server 2008 R2](https://support.microsoft.com/kb/2616514)</span></span>|  
|<span data-ttu-id="32562-171">![Casilla de verificación](../../media/checkboxemptycenterxtraspacetopandright.gif "Casilla de verificación")</span><span class="sxs-lookup"><span data-stu-id="32562-171">![Checkbox](../../media/checkboxemptycenterxtraspacetopandright.gif "Checkbox")</span></span>||<span data-ttu-id="32562-172">Sí</span><span class="sxs-lookup"><span data-stu-id="32562-172">Yes</span></span>|<span data-ttu-id="32562-173">No es aplicable</span><span class="sxs-lookup"><span data-stu-id="32562-173">Not applicable</span></span>|<span data-ttu-id="32562-174">**Prueba del almacenamiento VPD en los discos que no están disponibles para todos los nodos WSFC**</span><span class="sxs-lookup"><span data-stu-id="32562-174">**VPD storage testing on disks that are not available to all WSFC nodes**</span></span>|<span data-ttu-id="32562-175">Si un nodo de WSFC ejecuta Windows Server 2008 R2 Service Pack 1 (SP1) y la prueba de almacenamiento Validar datos vitales de producto (VPD) de dispositivo SCSI produce errores una vez que se ejecuta incorrectamente en los discos que están en línea y no disponibles para todos los nodos del clúster de WSFC, instale de la revisión descrita en el artículo 2531907 de Knowledge Base.</span><span class="sxs-lookup"><span data-stu-id="32562-175">If a WSFC node is running Windows Server 2008 R2 Service Pack 1 (SP1) and the Validate SCSI Device Vital Product Data (VPD) storage test fails after incorrectly running on disks that are online and not available to all nodes in the WSFC cluster, install the hotfix described in Knowledge Base article 2531907.</span></span><br /><br /> <span data-ttu-id="32562-176">Esta revisión elimina las advertencias o errores incorrectos en el informe de validación cuando los discos están en línea.</span><span class="sxs-lookup"><span data-stu-id="32562-176">This hotfix eliminates incorrect warnings or errors in the validation report when disks are online.</span></span>|<span data-ttu-id="32562-177">KB 2531907:  [La prueba Validar datos vitales de producto (VPD) de dispositivo SCSI produce un error después de instalar Windows Server 2008 R2 SP1](https://support.microsoft.com/kb/2531907)</span><span class="sxs-lookup"><span data-stu-id="32562-177">KB 2531907:  [Validate SCSI Device Vital Product Data (VPD) test fails after you install Windows Server 2008 R2 SP1](https://support.microsoft.com/kb/2531907)</span></span>|  
|<span data-ttu-id="32562-178">![Casilla de verificación](../../media/checkboxemptycenterxtraspacetopandright.gif "Casilla de verificación")</span><span class="sxs-lookup"><span data-stu-id="32562-178">![Checkbox](../../media/checkboxemptycenterxtraspacetopandright.gif "Checkbox")</span></span>||<span data-ttu-id="32562-179">Sí</span><span class="sxs-lookup"><span data-stu-id="32562-179">Yes</span></span>|<span data-ttu-id="32562-180">Sí</span><span class="sxs-lookup"><span data-stu-id="32562-180">Yes</span></span>|<span data-ttu-id="32562-181">**Una conmutación por error más rápida a las réplicas locales**</span><span class="sxs-lookup"><span data-stu-id="32562-181">**Faster failover to local replicas**</span></span>|<span data-ttu-id="32562-182">Si un nodo de WSFC ejecuta Windows Server 2008 R2 Service Pack 1 (SP1), asegúrese de que la revisión descrita en el artículo 2687741 de Knowledge Base esté instalada.</span><span class="sxs-lookup"><span data-stu-id="32562-182">If a WSFC node is running Windows Server 2008 R2 Service Pack 1 (SP1), ensure that the hotfix described in Knowledge Base article 2687741 is installed.</span></span><br /><br /> <span data-ttu-id="32562-183">Esta revisión mejora el rendimiento de la conmutación por error de [!INCLUDE[ssHADR](../../../includes/sshadr-md.md)] a las réplicas locales.</span><span class="sxs-lookup"><span data-stu-id="32562-183">This hotfix improves the performance of [!INCLUDE[ssHADR](../../../includes/sshadr-md.md)] failover to local replicas.</span></span>|<span data-ttu-id="32562-184">2687741 KB:  [Una revisión que mejora el rendimiento “del grupo de AlwaysOn disponibilidad de la función” en SQL Server 2012 está disponible en Windows Server 2008 R2](https://support.microsoft.com/KB/2687741)</span><span class="sxs-lookup"><span data-stu-id="32562-184">KB 2687741:  [A hotfix that improves the performance of the "AlwaysOn Availability Group" feature in SQL Server 2012 is available for Windows Server 2008 R2](https://support.microsoft.com/KB/2687741)</span></span>|  
|<span data-ttu-id="32562-185">![Casilla de verificación](../../media/checkboxemptycenterxtraspacetopandright.gif "Casilla de verificación")</span><span class="sxs-lookup"><span data-stu-id="32562-185">![Checkbox](../../media/checkboxemptycenterxtraspacetopandright.gif "Checkbox")</span></span>|<span data-ttu-id="32562-186">Sí</span><span class="sxs-lookup"><span data-stu-id="32562-186">Yes</span></span>|<span data-ttu-id="32562-187">Sí</span><span class="sxs-lookup"><span data-stu-id="32562-187">Yes</span></span>|<span data-ttu-id="32562-188">Sí</span><span class="sxs-lookup"><span data-stu-id="32562-188">Yes</span></span>|<span data-ttu-id="32562-189">**Almacenamiento asimétrico: para las instancias de clúster de conmutación por error (FCI)**</span><span class="sxs-lookup"><span data-stu-id="32562-189">**Asymmetric storage-for Failover Cluster Instances (FCIs)**</span></span>|<span data-ttu-id="32562-190">Si las instancias de clúster de conmutación por error (FCI) van a estar habilitadas para [!INCLUDE[ssHADR](../../../includes/sshadr-md.md)], instale la revisión 976097 de Windows Server 2008.</span><span class="sxs-lookup"><span data-stu-id="32562-190">If any Failover Cluster Instance (FCI) will be enabled for [!INCLUDE[ssHADR](../../../includes/sshadr-md.md)], install the Windows Server 2008 hotfix 976097.</span></span><br /><br /> <span data-ttu-id="32562-191">Esta revisión habilita el complemento Microsoft Management Console (MMC) de administración de clústeres de conmutación por error para admitir discos compartidos de almacenamiento asimétrico que solo están disponibles en algunos de los nodos de WSFC.</span><span class="sxs-lookup"><span data-stu-id="32562-191">This hotfix enables the Failover Cluster Management Microsoft Management Console (MMC) snap-in to support asymmetric storage-shared disks that are available on only some of the WSFC nodes.</span></span>|<span data-ttu-id="32562-192">KB 976097:  [Revisión para agregar compatibilidad con los almacenamientos asimétricos al complemento MMC de administración de clústeres de conmutación por error para un clúster de conmutación por error que ejecute Windows Server 2008 o Windows Server 2008 R2](https://support.microsoft.com/kb/976097)</span><span class="sxs-lookup"><span data-stu-id="32562-192">KB 976097:  [Hotfix to add support for asymmetric storages to the Failover Cluster Management MMC snap-in for a failover cluster that is running Windows Server 2008 or Windows Server 2008 R2](https://support.microsoft.com/kb/976097)</span></span><br /><br /> [<span data-ttu-id="32562-193">Guía de la arquitectura de AlwaysOn: generar una solución de alta disponibilidad y recuperación ante desastres mediante instancias de clúster de conmutación por error y grupos de disponibilidad</span><span class="sxs-lookup"><span data-stu-id="32562-193">AlwaysOn Architecture Guide: Building a High Availability and Disaster Recovery Solution by Using Failover Cluster Instances and Availability Groups</span></span>](https://technet.microsoft.com/library/jj215886.aspx)|  
|<span data-ttu-id="32562-194">![Casilla de verificación](../../media/checkboxemptycenterxtraspacetopandright.gif "Casilla de verificación")</span><span class="sxs-lookup"><span data-stu-id="32562-194">![Checkbox](../../media/checkboxemptycenterxtraspacetopandright.gif "Checkbox")</span></span>|<span data-ttu-id="32562-195">Sí</span><span class="sxs-lookup"><span data-stu-id="32562-195">Yes</span></span>|<span data-ttu-id="32562-196">Sí</span><span class="sxs-lookup"><span data-stu-id="32562-196">Yes</span></span>|<span data-ttu-id="32562-197">No es aplicable</span><span class="sxs-lookup"><span data-stu-id="32562-197">Not applicable</span></span>|<span data-ttu-id="32562-198">**Protocolo de seguridad de Internet (IPsec)**</span><span class="sxs-lookup"><span data-stu-id="32562-198">**Internet Protocol Security (IPsec)**</span></span>|<span data-ttu-id="32562-199">Si un entorno usa conexiones IPsec, puede experimentar un retraso prolongado (aproximadamente de dos o tres minutos) cuando un equipo cliente restablece la conexión IPsec con un nombre de red virtual (en este contexto, para conectarse al agente de escucha del grupo de disponibilidad).</span><span class="sxs-lookup"><span data-stu-id="32562-199">If your environment uses IPsec connections, you could experience a long time delay (about two or three minutes) when a client computer reestablishes the IPsec connection to a virtual network name (in this context, to connect to the availability group listener).</span></span> <span data-ttu-id="32562-200">Si usa conexiones IPsec, recomendamos que revise los escenarios específicos detallados en el artículo de Knowledge Base (KB 980915).</span><span class="sxs-lookup"><span data-stu-id="32562-200">If you use IPsec connections, we recommend that you review the specific scenarios detailed in Knowledge Base article (KB 980915).</span></span>|<span data-ttu-id="32562-201">KB 980915:  [Se produce un retraso prolongado cuando se vuelve a conectar una conexión de IPsec desde un equipo que ejecuta Windows Server 2003, Windows Vista, Windows Server 2008, Windows 7 o Windows Server 2008 R2](https://support.microsoft.com/kb/980915)</span><span class="sxs-lookup"><span data-stu-id="32562-201">KB 980915:  [A long time delay occurs when you reconnect an IPSec connection from a computer that is running Windows Server 2003, Windows Vista, Windows Server 2008, Windows 7, or Windows Server 2008 R2](https://support.microsoft.com/kb/980915)</span></span>|  
|<span data-ttu-id="32562-202">![Casilla de verificación](../../media/checkboxemptycenterxtraspacetopandright.gif "Casilla de verificación")</span><span class="sxs-lookup"><span data-stu-id="32562-202">![Checkbox](../../media/checkboxemptycenterxtraspacetopandright.gif "Checkbox")</span></span>|<span data-ttu-id="32562-203">Sí</span><span class="sxs-lookup"><span data-stu-id="32562-203">Yes</span></span>|<span data-ttu-id="32562-204">Sí</span><span class="sxs-lookup"><span data-stu-id="32562-204">Yes</span></span>|<span data-ttu-id="32562-205">Sí</span><span class="sxs-lookup"><span data-stu-id="32562-205">Yes</span></span>|<span data-ttu-id="32562-206">**IPv6**</span><span class="sxs-lookup"><span data-stu-id="32562-206">**IPv6**</span></span>|<span data-ttu-id="32562-207">Si usa IPv6, recomendamos que revise los escenarios específicos detallados en el artículo de Knowledge Base 2578103 o 2578113, en función de su sistema operativo Windows Server.</span><span class="sxs-lookup"><span data-stu-id="32562-207">If you use IPv6, we recommend that you review the specific scenarios detailed in Knowledge Base article 2578103 or 2578113, depending on your Windows Server operating system.</span></span><br /><br /> <span data-ttu-id="32562-208">Si la topología de Windows Server usa IP versión 6 (IPv6), el servicio de clúster WSFC requiere en torno a 30 segundos para la conmutación por error de la dirección IP IPv6.</span><span class="sxs-lookup"><span data-stu-id="32562-208">If your Windows Server topology uses IP version 6 (IPv6), the WSFC Cluster service requires about 30 seconds to fail over the IPv6 IP address.</span></span> <span data-ttu-id="32562-209">Esto hace que los clientes esperen aproximadamente 30 segundos para volver a conectarse a la dirección IP IPv6.</span><span class="sxs-lookup"><span data-stu-id="32562-209">This causes clients to wait for about 30 seconds to reconnect to the IPv6 IP address.</span></span>|<span data-ttu-id="32562-210">KB 2578103 (Windows Server 2008):  [El servicio de clúster tarda en torno a 30 segundos en la conmutación por error de las direcciones IP IPv6 en Windows Server 2008](https://support.microsoft.com/kb/2578103)</span><span class="sxs-lookup"><span data-stu-id="32562-210">KB 2578103 (Windows Server 2008):  [The Cluster service takes about 30 seconds to fail over IPv6 IP addresses in Windows Server 2008](https://support.microsoft.com/kb/2578103)</span></span><br /><br /> <span data-ttu-id="32562-211">KB 2578113 (Windows Server 2008 R2):  **Windows Server 2008 R2:** [El servicio de clúster tarda en torno a 30 segundos en la conmutación por error de las direcciones IP IPv6 en Windows Server 2008 R2](https://support.microsoft.com/kb/2578113)</span><span class="sxs-lookup"><span data-stu-id="32562-211">KB 2578113 (Windows Server 2008 R2):  **Windows Server 2008 R2:** [The Cluster service takes about 30 seconds to fail over IPv6 IP addresses in Windows Server 2008 R2](https://support.microsoft.com/kb/2578113)</span></span>|  
|<span data-ttu-id="32562-212">![Casilla de verificación](../../media/checkboxemptycenterxtraspacetopandright.gif "Casilla de verificación")</span><span class="sxs-lookup"><span data-stu-id="32562-212">![Checkbox](../../media/checkboxemptycenterxtraspacetopandright.gif "Checkbox")</span></span>|<span data-ttu-id="32562-213">Sí</span><span class="sxs-lookup"><span data-stu-id="32562-213">Yes</span></span>|<span data-ttu-id="32562-214">Sí</span><span class="sxs-lookup"><span data-stu-id="32562-214">Yes</span></span>|<span data-ttu-id="32562-215">Sí</span><span class="sxs-lookup"><span data-stu-id="32562-215">Yes</span></span>|<span data-ttu-id="32562-216">**Cuando no hay un enrutador entre el clúster y el servidor de aplicaciones**</span><span class="sxs-lookup"><span data-stu-id="32562-216">**No Router Between cluster and application server**</span></span>|<span data-ttu-id="32562-217">Si no hay ningún enrutador entre el clúster de conmutación por error y el servidor de aplicaciones, el servicio de Cluster Server realiza con lentitud la conmutación por error de los recursos relacionados con la red.</span><span class="sxs-lookup"><span data-stu-id="32562-217">If no router exists between the failover cluster and the application server, the Cluster service fails over network-related resources slowly.</span></span> <span data-ttu-id="32562-218">Esto retrasa las conexiones de cliente después de producirse la conmutación por error del grupo de disponibilidad.</span><span class="sxs-lookup"><span data-stu-id="32562-218">This delays client reconnections after an availability group fails over.</span></span> <span data-ttu-id="32562-219">Si no hay un enrutador, se recomienda revisar los escenarios concretos detallados en el artículo de Knowledge Base 2582281 e instalar la revisión, si es aplicable a su entorno.</span><span class="sxs-lookup"><span data-stu-id="32562-219">In the absence of a router, we recommend that you review the specific scenarios detailed in Knowledge Base article 2582281 and install the hotfix, if applicable to your environment.</span></span>|<span data-ttu-id="32562-220">KB 2582281:  [Reducir la operación de conmutación por error si no existe un enrutador entre el clúster y un servidor de aplicaciones](https://support.microsoft.com/kb/2582281)</span><span class="sxs-lookup"><span data-stu-id="32562-220">KB 2582281:  [Slow failover operation if no router exists between the cluster and an application server](https://support.microsoft.com/kb/2582281)</span></span>|  
  
###  <a name="recommendations-for-computers-that-host-availability-replicas-windows-system"></a><a name="ComputerRecommendations"></a> <span data-ttu-id="32562-221">Recomendaciones para equipos que hospedan réplicas de disponibilidad (sistema de Windows)</span><span class="sxs-lookup"><span data-stu-id="32562-221">Recommendations for Computers That Host Availability Replicas (Windows System)</span></span>  
  
-   <span data-ttu-id="32562-222">**Sistemas comparables:**  En el caso de un grupo de disponibilidad determinado, todas las réplicas de disponibilidad se deben ejecutar en sistemas comparables que puedan controlar cargas de trabajo idénticas.</span><span class="sxs-lookup"><span data-stu-id="32562-222">**Comparable systems:**  For a given availability group, all the availability replicas should run on comparable systems that can handle identical workloads.</span></span>  
  
-   <span data-ttu-id="32562-223">**Adaptadores de red dedicados:**  Para obtener el mejor rendimiento, utilice un adaptador de red (tarjeta de interfaz de red) dedicado para [!INCLUDE[ssHADR](../../../includes/sshadr-md.md)].</span><span class="sxs-lookup"><span data-stu-id="32562-223">**Dedicated network adapters:**  For best performance, use a dedicated network adapter (network interface card) for [!INCLUDE[ssHADR](../../../includes/sshadr-md.md)].</span></span>  
  
-   <span data-ttu-id="32562-224">**Espacio suficiente en disco:**  todos los equipos en los que una instancia del servidor hospede una réplica de disponibilidad deben tener suficiente espacio en disco para todas las bases de datos del grupo de disponibilidad.</span><span class="sxs-lookup"><span data-stu-id="32562-224">**Sufficient disk space:**  Every computer on which a server instance hosts an availability replica must possess sufficient disk space for all the databases in the availability group.</span></span> <span data-ttu-id="32562-225">Tenga en cuenta que según crecen las bases de datos principales, las correspondientes bases de datos secundarias aumentan la misma cantidad.</span><span class="sxs-lookup"><span data-stu-id="32562-225">Keep in mind that as primary databases grow, their corresponding secondary databases grow the same amount.</span></span>  
  
###  <a name="permissions-windows-system"></a><a name="PermissionsWindows"></a> <span data-ttu-id="32562-226">Permisos (sistema de Windows)</span><span class="sxs-lookup"><span data-stu-id="32562-226">Permissions (Windows System)</span></span>  
 <span data-ttu-id="32562-227">Para administrar un clúster de WSFC, el usuario debe ser administrador del sistema en cada nodo de clúster.</span><span class="sxs-lookup"><span data-stu-id="32562-227">To administer a WSFC cluster, the user must be a system administrator on every cluster node.</span></span>  
  
 <span data-ttu-id="32562-228">Para más información sobre la cuenta para administrar el clúster, vea [Apéndice A: Requisitos de clúster de conmutación por error](https://technet.microsoft.com/library/dd197454\(WS.10\).aspx).</span><span class="sxs-lookup"><span data-stu-id="32562-228">For more information about the account for administering the cluster, see [Appendix A: Failover Cluster Requirements](https://technet.microsoft.com/library/dd197454\(WS.10\).aspx).</span></span>  
  
###  <a name="related-tasks-windows-system"></a><a name="RelatedTasksWindows"></a> <span data-ttu-id="32562-229">Tareas relacionadas (sistema de Windows)</span><span class="sxs-lookup"><span data-stu-id="32562-229">Related Tasks (Windows System)</span></span>  
  
|<span data-ttu-id="32562-230">Tarea</span><span class="sxs-lookup"><span data-stu-id="32562-230">Task</span></span>|<span data-ttu-id="32562-231">Vínculo</span><span class="sxs-lookup"><span data-stu-id="32562-231">Link</span></span>|  
|----------|----------|  
|<span data-ttu-id="32562-232">Establecer el valor de HostRecordTTL.</span><span class="sxs-lookup"><span data-stu-id="32562-232">Set the HostRecordTTL value.</span></span>|[<span data-ttu-id="32562-233">Cambiar el valor de HostRecordTTL (con Windows PowerShell)</span><span class="sxs-lookup"><span data-stu-id="32562-233">Change the HostRecordTTL (Using Windows PowerShell)</span></span>](#ChangeHostRecordTTLps)|  
  
####  <a name="change-the-hostrecordttl-using-windows-powershell"></a><a name="ChangeHostRecordTTLps"></a> <span data-ttu-id="32562-234">Cambiar el valor de HostRecordTTL (con Windows PowerShell)</span><span class="sxs-lookup"><span data-stu-id="32562-234">Change the HostRecordTTL (Using Windows PowerShell)</span></span>  
  
1.  <span data-ttu-id="32562-235">Abra la ventana de PowerShell mediante **Ejecutar como administrador**.</span><span class="sxs-lookup"><span data-stu-id="32562-235">Open PowerShell window via **Run as Administrator**.</span></span>  
  
2.  <span data-ttu-id="32562-236">Importe el módulo FailoverClusters.</span><span class="sxs-lookup"><span data-stu-id="32562-236">Import the FailoverClusters module.</span></span>  
  
3.  <span data-ttu-id="32562-237">Use el cmdlet `Get-ClusterResource` para buscar el recurso de nombre de red y use después el cmdlet `Set-ClusterParameter` para establecer el valor `HostRecordTTL`, de la manera siguiente:</span><span class="sxs-lookup"><span data-stu-id="32562-237">Use the `Get-ClusterResource` cmdlet to find the Network Name resource, then use `Set-ClusterParameter` cmdlet to set the `HostRecordTTL` value, as follows:</span></span>  
  
     <span data-ttu-id="32562-238">Get-ClusterResource " *\<NetworkResourceName>* " | Set-ClusterParameter HostRecordTTL *\<TimeInSeconds>*</span><span class="sxs-lookup"><span data-stu-id="32562-238">Get-ClusterResource "*\<NetworkResourceName>*" | Set-ClusterParameter HostRecordTTL *\<TimeInSeconds>*</span></span>  
  
     <span data-ttu-id="32562-239">En el ejemplo siguiente de PowerShell se establece el HostRecordTTL en 300 segundos para un recurso de nombre de red denominado “`SQL Network Name (SQL35)`”.</span><span class="sxs-lookup"><span data-stu-id="32562-239">The following PowerShell example sets the HostRecordTTL to 300 seconds for a Network Name resource named "`SQL Network Name (SQL35)`".</span></span>  
  
    ```powershell
    Import-Module FailoverClusters  
  
    $nameResource = "SQL Network Name (SQL35)"  
    Get-ClusterResource $nameResource | Set-ClusterParameter ClusterParameter HostRecordTTL 300  
    ```  
  
    > [!TIP]  
    >  <span data-ttu-id="32562-240">Cada vez que abre una nueva ventana de PowerShell, necesita importar el módulo `FailoverClusters`.</span><span class="sxs-lookup"><span data-stu-id="32562-240">Every time you open a new PowerShell window, you need to import the `FailoverClusters` module.</span></span>  
  
##### <a name="related-content-powershell"></a><span data-ttu-id="32562-241">Contenido relacionado (PowerShell)</span><span class="sxs-lookup"><span data-stu-id="32562-241">Related Content (PowerShell)</span></span>  
  
-   <span data-ttu-id="32562-242">[Clustering and High-Availability (Clústeres y alta disponibilidad)](https://techcommunity.microsoft.com/t5/failover-clustering/bg-p/FailoverClustering) (blog del equipo de Agrupacion de clústeres de conmutación por error y equilibrio de carga de red)</span><span class="sxs-lookup"><span data-stu-id="32562-242">[Clustering and High-Availability](https://techcommunity.microsoft.com/t5/failover-clustering/bg-p/FailoverClustering) (Failover Clustering and Network Load Balancing Team Blog)</span></span>  
  
-   <span data-ttu-id="32562-243">[Introducción a Windows PowerShell en un clúster de conmutación por error](https://technet.microsoft.com/library/ee619762\(WS.10\).aspx)</span><span class="sxs-lookup"><span data-stu-id="32562-243">[Getting Started with Windows PowerShell on a Failover Cluster](https://technet.microsoft.com/library/ee619762\(WS.10\).aspx)</span></span>  
  
-   [<span data-ttu-id="32562-244">Comandos de recursos de clúster y cmdlets equivalentes de Windows PowerShell</span><span class="sxs-lookup"><span data-stu-id="32562-244">Cluster resource commands and equivalent Windows PowerShell cmdlets</span></span>](https://msdn.microsoft.com/library/ee619744.aspx#BKMK_resource)  
  
###  <a name="related-content-windows-system"></a><a name="RelatedContentWS"></a> <span data-ttu-id="32562-245">Contenido relacionado (sistema Windows)</span><span class="sxs-lookup"><span data-stu-id="32562-245">Related Content (Windows System)</span></span>  
  
-   <span data-ttu-id="32562-246">[Configurar los valores de DNS en un clúster de conmutación por error de varios sitios](https://technet.microsoft.com/library/dd197562\(WS.10\).aspx)</span><span class="sxs-lookup"><span data-stu-id="32562-246">[Configure DNS settings in a Multi-Site Failover Cluster](https://technet.microsoft.com/library/dd197562\(WS.10\).aspx)</span></span>  
  
-   [<span data-ttu-id="32562-247">Registro DNS con el recurso de nombre de red</span><span class="sxs-lookup"><span data-stu-id="32562-247">DNS Registration with Network Name Resource</span></span>](https://techcommunity.microsoft.com/t5/failover-clustering/dns-registration-with-the-network-name-resource/ba-p/371482)  
  
-   [<span data-ttu-id="32562-248">Agrupación en clústeres multisitio de conmutación por error de Windows 2008 R2</span><span class="sxs-lookup"><span data-stu-id="32562-248">Windows 2008 R2 Failover Multi-Site Clustering</span></span>](https://kiruba4u.blogspot.com/2012/03/failover-clustering-in-windows-server.html)  
  
##  <a name="sql-server-instance-prerequisites-and-restrictions"></a><a name="ServerInstance"></a> <span data-ttu-id="32562-249">Requisitos previos y restricciones de las instancias de SQL Server</span><span class="sxs-lookup"><span data-stu-id="32562-249">SQL Server Instance Prerequisites and Restrictions</span></span>  
 <span data-ttu-id="32562-250">Cada grupo de disponibilidad requiere un conjunto de asociados de conmutación por error, conocido como *réplicas de disponibilidad*, que se hospedan en instancias de [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)].</span><span class="sxs-lookup"><span data-stu-id="32562-250">Each availability group requires a set of failover partners, known as *availability replicas*, which are hosted by instances of [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)].</span></span> <span data-ttu-id="32562-251">Una instancia del servidor determinada puede ser una *instancia independiente* o una [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)]*instancia de clúster de conmutación por error* (FCI).</span><span class="sxs-lookup"><span data-stu-id="32562-251">A given server instance can be a *stand-alone instance* or a [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)]*failover cluster instance* (FCI).</span></span>  
  
 
  
###  <a name="checklist-prerequisites-server-instance"></a><a name="PrerequisitesSI"></a> <span data-ttu-id="32562-252">Lista de comprobación: Requisitos previos (instancia de servidor)</span><span class="sxs-lookup"><span data-stu-id="32562-252">Checklist: Prerequisites (Server Instance)</span></span>  
  
||<span data-ttu-id="32562-253">Requisito previo</span><span class="sxs-lookup"><span data-stu-id="32562-253">Prerequisite</span></span>|<span data-ttu-id="32562-254">Vínculos</span><span class="sxs-lookup"><span data-stu-id="32562-254">Links</span></span>|  
|-|------------------|-----------|  
|<span data-ttu-id="32562-255">![Casilla de verificación](../../media/checkboxemptycenterxtraspacetopandright.gif "Casilla de verificación")</span><span class="sxs-lookup"><span data-stu-id="32562-255">![Checkbox](../../media/checkboxemptycenterxtraspacetopandright.gif "Checkbox")</span></span>|<span data-ttu-id="32562-256">El equipo host debe ser en un nodo de clúster de conmutación por error de Windows Server (WSFC).</span><span class="sxs-lookup"><span data-stu-id="32562-256">The host computer must be a Windows Server Failover Clustering (WSFC) node.</span></span> <span data-ttu-id="32562-257">Las instancias de [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] que hospedan las réplicas de disponibilidad de un grupo de disponibilidad dado deben residir en nodos independientes de un único clúster de WSFC.</span><span class="sxs-lookup"><span data-stu-id="32562-257">The instances of [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] that host availability replicas for a given availability group must reside on separate nodes of a single WSFC cluster.</span></span> <span data-ttu-id="32562-258">La única excepción es que mientras se migra a otro clúster de WSFC, un grupo de disponibilidad puede ocupar temporalmente dos clústeres.</span><span class="sxs-lookup"><span data-stu-id="32562-258">The only exception is that while being migrated to another WSFC cluster, an availability group can temporarily straddle two clusters.</span></span>|[<span data-ttu-id="32562-259">Clústeres de conmutación por error de Windows Server &#40;WSFC&#41; con SQL Server</span><span class="sxs-lookup"><span data-stu-id="32562-259">Windows Server Failover Clustering &#40;WSFC&#41; with SQL Server</span></span>](../../../sql-server/failover-clusters/windows/windows-server-failover-clustering-wsfc-with-sql-server.md)<br /><br /> [<span data-ttu-id="32562-260">Clústeres de conmutación por error y &#40;de Grupos de disponibilidad AlwaysOn SQL Server&#41;</span><span class="sxs-lookup"><span data-stu-id="32562-260">Failover Clustering and AlwaysOn Availability Groups &#40;SQL Server&#41;</span></span>](failover-clustering-and-always-on-availability-groups-sql-server.md)|  
|<span data-ttu-id="32562-261">![Casilla de verificación](../../media/checkboxemptycenterxtraspacetopandright.gif "Casilla de verificación")</span><span class="sxs-lookup"><span data-stu-id="32562-261">![Checkbox](../../media/checkboxemptycenterxtraspacetopandright.gif "Checkbox")</span></span>|<span data-ttu-id="32562-262">Si desea que un grupo de disponibilidad trabaje con Kerberos:</span><span class="sxs-lookup"><span data-stu-id="32562-262">If you want an availability group to work with Kerberos:</span></span><br /><br /> <span data-ttu-id="32562-263">Todas las instancias de servidor que hospedan una réplica de disponibilidad para el grupo de disponibilidad deben usar la misma cuenta de servicio de SQL Server.</span><span class="sxs-lookup"><span data-stu-id="32562-263">All server instances that host an availability replica for the availability group must use the same SQL Server service account.</span></span><br /><br /> <span data-ttu-id="32562-264">El administrador de dominio debe registrar manualmente un nombre principal de servicio (SPN) con Active Directory en la cuenta del servicio SQL Server para el nombre de red virtual (VNN) del agente de escucha del grupo de disponibilidad.</span><span class="sxs-lookup"><span data-stu-id="32562-264">The domain administrator needs to manually register a Service Principal Name (SPN) with Active Directory on the SQL Server service account for the virtual network name (VNN) of the availability group listener.</span></span> <span data-ttu-id="32562-265">Si el SPN se registra en una cuenta distinta de la cuenta del servicio SQL Server, la autenticación no se realizará correctamente.</span><span class="sxs-lookup"><span data-stu-id="32562-265">If the SPN is registered on an account other than the SQL Server service account, authentication will fail.</span></span><br /><br /> <span data-ttu-id="32562-266">**\*\* Importante \*\*** Si cambia la cuenta del servicio SQL Server, el administrador de dominio deberá volver a registrar manualmente el SPN.</span><span class="sxs-lookup"><span data-stu-id="32562-266">**\*\* Important \*\*** If you change the SQL Server service account, the domain administrator will need to manually re-register the SPN.</span></span>|[<span data-ttu-id="32562-267">Registrar un nombre principal de servicio para las conexiones con Kerberos</span><span class="sxs-lookup"><span data-stu-id="32562-267">Register a Service Principal Name for Kerberos Connections</span></span>](../../configure-windows/register-a-service-principal-name-for-kerberos-connections.md)<br /><br /> <span data-ttu-id="32562-268">**Breve explicación:**</span><span class="sxs-lookup"><span data-stu-id="32562-268">**Brief explanation:**</span></span><br /><br /> <span data-ttu-id="32562-269">Kerberos y los SPN exigen la autenticación mutua.</span><span class="sxs-lookup"><span data-stu-id="32562-269">Kerberos and SPNs enforce mutual authentication.</span></span> <span data-ttu-id="32562-270">El SPN se asigna a la cuenta de Windows que inicia los servicios SQL Server.</span><span class="sxs-lookup"><span data-stu-id="32562-270">The SPN maps to the Windows account that starts the SQL Server services.</span></span> <span data-ttu-id="32562-271">Si el SPN no se registra correctamente o provoca un error, el nivel de seguridad de Windows no podrá determinar la cuenta asociada al SPN y no podrá utilizarse la autenticación Kerberos.</span><span class="sxs-lookup"><span data-stu-id="32562-271">If the SPN is not registered correctly or if it fails, the Windows security layer cannot determine the account associated with the SPN, and Kerberos authentication cannot be used.</span></span><br /><br /> <span data-ttu-id="32562-272">Nota: NTLM no tiene este requisito.</span><span class="sxs-lookup"><span data-stu-id="32562-272">Note: NTLM does not have this requirement.</span></span>|  
|<span data-ttu-id="32562-273">![Casilla de verificación](../../media/checkboxemptycenterxtraspacetopandright.gif "Casilla de verificación")</span><span class="sxs-lookup"><span data-stu-id="32562-273">![Checkbox](../../media/checkboxemptycenterxtraspacetopandright.gif "Checkbox")</span></span>|<span data-ttu-id="32562-274">Si va a usar una instancia de clúster de conmutación por error (FCI) de [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] para hospedar una réplica de disponibilidad, asegúrese de que comprende las restricciones de FCI y de que se cumplen los requisitos de FCI.</span><span class="sxs-lookup"><span data-stu-id="32562-274">If you plan to use a [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] failover cluster instance (FCI) to host an availability replica, ensure that you understand the FCI restrictions and that the FCI requirements are met.</span></span>|<span data-ttu-id="32562-275">[Requisitos previos y requisitos para usar una instancia de clúster de conmutación por error (FCI) de SQL Server para hospedar una réplica de disponibilidad](#FciArLimitations) (más adelante en este tema)</span><span class="sxs-lookup"><span data-stu-id="32562-275">[Prerequisites and Requirements on Using a SQL Server Failover Cluster Instance (FCI) to Host an Availability Replica](#FciArLimitations) (later in this topic)</span></span>|  
|<span data-ttu-id="32562-276">![Casilla de verificación](../../media/checkboxemptycenterxtraspacetopandright.gif "Casilla de verificación")</span><span class="sxs-lookup"><span data-stu-id="32562-276">![Checkbox](../../media/checkboxemptycenterxtraspacetopandright.gif "Checkbox")</span></span>|<span data-ttu-id="32562-277">Cada instancia del servidor se debe estar ejecutando en [!INCLUDE[ssCurrent](../../../includes/sscurrent-md.md)]Enterprise Edition.</span><span class="sxs-lookup"><span data-stu-id="32562-277">Each server instance must be running the Enterprise Edition of [!INCLUDE[ssCurrent](../../../includes/sscurrent-md.md)].</span></span>|[<span data-ttu-id="32562-278">Características admitidas por las ediciones de SQL Server 2014</span><span class="sxs-lookup"><span data-stu-id="32562-278">Features Supported by the Editions of SQL Server 2014</span></span>](../../../getting-started/features-supported-by-the-editions-of-sql-server-2014.md)|  
|<span data-ttu-id="32562-279">![Casilla de verificación](../../media/checkboxemptycenterxtraspacetopandright.gif "Casilla de verificación")</span><span class="sxs-lookup"><span data-stu-id="32562-279">![Checkbox](../../media/checkboxemptycenterxtraspacetopandright.gif "Checkbox")</span></span>|<span data-ttu-id="32562-280">Todas las instancias del servidor que hospedan réplicas de disponibilidad para un grupo de disponibilidad deben usar la misma intercalación de [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] .</span><span class="sxs-lookup"><span data-stu-id="32562-280">All the server instances that host availability replicas for an availability group must use the same [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] collation.</span></span>|[<span data-ttu-id="32562-281">Configurar o cambiar la intercalación del servidor</span><span class="sxs-lookup"><span data-stu-id="32562-281">Set or Change the Server Collation</span></span>](../../../relational-databases/collations/set-or-change-the-server-collation.md)|  
|<span data-ttu-id="32562-282">![Casilla de verificación](../../media/checkboxemptycenterxtraspacetopandright.gif "Casilla de verificación")</span><span class="sxs-lookup"><span data-stu-id="32562-282">![Checkbox](../../media/checkboxemptycenterxtraspacetopandright.gif "Checkbox")</span></span>|<span data-ttu-id="32562-283">Habilite la característica de [!INCLUDE[ssHADR](../../../includes/sshadr-md.md)] en cada instancia de servidor que hospeda una réplica de disponibilidad para cualquier grupo de disponibilidad.</span><span class="sxs-lookup"><span data-stu-id="32562-283">Enable the [!INCLUDE[ssHADR](../../../includes/sshadr-md.md)] feature on each server instance that will host an availability replica for any availability group.</span></span> <span data-ttu-id="32562-284">En un equipo determinado, puede habilitar tantas instancias de servidor de [!INCLUDE[ssHADR](../../../includes/sshadr-md.md)] como admita la instalación de [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] .</span><span class="sxs-lookup"><span data-stu-id="32562-284">On a given computer, you can enable as many server instances for [!INCLUDE[ssHADR](../../../includes/sshadr-md.md)] as your [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] installation supports.</span></span>|[<span data-ttu-id="32562-285">Habilitar y deshabilitar grupos de disponibilidad AlwaysOn &#40;SQL Server&#41;</span><span class="sxs-lookup"><span data-stu-id="32562-285">Enable and Disable AlwaysOn Availability Groups &#40;SQL Server&#41;</span></span>](enable-and-disable-always-on-availability-groups-sql-server.md)<br /><br /> <span data-ttu-id="32562-286">Importante: Si elimina y vuelve a crear un clúster de WSFC, debe deshabilitar y volver a habilitar la característica en cada instancia de servidor habilitada para en \*\* \* el clúster de WSFC \* original. \* \* \*\* [!INCLUDE[ssHADR](../../../includes/sshadr-md.md)] [!INCLUDE[ssHADR](../../../includes/sshadr-md.md)]</span><span class="sxs-lookup"><span data-stu-id="32562-286">**\*\* Important \*\*** If you delete and re-create a WSFC cluster, you must disable and re-enable the [!INCLUDE[ssHADR](../../../includes/sshadr-md.md)] feature on each server instance that was enabled for [!INCLUDE[ssHADR](../../../includes/sshadr-md.md)] on the original WSFC cluster.</span></span>|  
|<span data-ttu-id="32562-287">![Casilla de verificación](../../media/checkboxemptycenterxtraspacetopandright.gif "Casilla de verificación")</span><span class="sxs-lookup"><span data-stu-id="32562-287">![Checkbox](../../media/checkboxemptycenterxtraspacetopandright.gif "Checkbox")</span></span>|<span data-ttu-id="32562-288">Cada instancia del servidor requiere un extremo de creación de reflejo de la base de datos.</span><span class="sxs-lookup"><span data-stu-id="32562-288">Each server instance requires a database mirroring endpoint.</span></span> <span data-ttu-id="32562-289">Observe que todas las réplicas de disponibilidad, asociados de creación de reflejo de la base de datos y testigos de la instancia del servidor comparten este extremo.</span><span class="sxs-lookup"><span data-stu-id="32562-289">Note that this endpoint is shared by all the availability replicas and database mirroring partners and witnesses on the server instance.</span></span><br /><br /> <span data-ttu-id="32562-290">Si una instancia de servidor seleccionada para hospedar una réplica de disponibilidad se ejecuta bajo una cuenta de usuario de dominio y no tiene todavía un punto de conexión de creación de reflejo de la base de datos, el [Asistente para nuevo grupo de disponibilidad](use-the-availability-group-wizard-sql-server-management-studio.md) (o el [asistente Agregar réplica a grupo de disponibilidad](use-the-add-replica-to-availability-group-wizard-sql-server-management-studio.md)) puede crear el punto de conexión y conceder el permiso CONNECT a la cuenta de servicio de la instancia de servidor.</span><span class="sxs-lookup"><span data-stu-id="32562-290">If a server instance that you select to host an availability replica is running under a domain user account and does not yet have a database mirroring endpoint, the [New Availability Group Wizard](use-the-availability-group-wizard-sql-server-management-studio.md) (or [Add Replica to Availability Group Wizard](use-the-add-replica-to-availability-group-wizard-sql-server-management-studio.md)) can create the endpoint and grant CONNECT permission to the server instance service account.</span></span> <span data-ttu-id="32562-291">Sin embargo, si el servicio [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] se ejecuta como una cuenta integrada (como sistema local, servicio local o servicio de red), o una cuenta que no es de dominio, debe usar certificados para la autenticación de extremos y el asistente no podrá crear un extremo de creación de reflejo de la base de datos en la instancia de servidor.</span><span class="sxs-lookup"><span data-stu-id="32562-291">However, if the [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] service is running as a built-in account, such as Local System, Local Service, or Network Service, or a nondomain account, you must use certificates for endpoint authentication, and the wizard will be unable to create a database mirroring endpoint on the server instance.</span></span> <span data-ttu-id="32562-292">En este caso, se recomienda crear los extremos de creación de reflejo de la base de datos manualmente antes de iniciar el asistente.</span><span class="sxs-lookup"><span data-stu-id="32562-292">In this case, we recommend that you create the database mirroring endpoints manually before you launch the wizard.</span></span><br /><br /> <span data-ttu-id="32562-293">**\*\* Nota de seguridad \*\*** La seguridad de transporte para [!INCLUDE[ssHADR](../../../includes/sshadr-md.md)] es la misma que para la creación de reflejo de la base de datos.</span><span class="sxs-lookup"><span data-stu-id="32562-293">**\*\* Security Note \*\*** Transport security for [!INCLUDE[ssHADR](../../../includes/sshadr-md.md)] is the same as for database mirroring.</span></span>|[<span data-ttu-id="32562-294">El punto de conexión de creación de reflejo de la base de datos &#40;SQL Server&#41;</span><span class="sxs-lookup"><span data-stu-id="32562-294">The Database Mirroring Endpoint &#40;SQL Server&#41;</span></span>](../../database-mirroring/the-database-mirroring-endpoint-sql-server.md)<br /><br /> [<span data-ttu-id="32562-295">Seguridad de transporte para la creación de reflejo de la base de datos y Grupos de disponibilidad AlwaysOn &#40;SQL Server&#41;</span><span class="sxs-lookup"><span data-stu-id="32562-295">Transport Security for Database Mirroring and AlwaysOn Availability Groups &#40;SQL Server&#41;</span></span>](../../database-mirroring/transport-security-database-mirroring-always-on-availability.md)|  
|<span data-ttu-id="32562-296">![Casilla de verificación](../../media/checkboxemptycenterxtraspacetopandright.gif "Casilla de verificación")</span><span class="sxs-lookup"><span data-stu-id="32562-296">![Checkbox](../../media/checkboxemptycenterxtraspacetopandright.gif "Checkbox")</span></span>|<span data-ttu-id="32562-297">Si va a agregar cualquier base de datos que usa FILESTREAM a un grupo de disponibilidad, asegúrese de que FILESTREAM está habilitado en cada instancia de servidor que hospedará una réplica de disponibilidad para el grupo de disponibilidad.</span><span class="sxs-lookup"><span data-stu-id="32562-297">If any databases that use FILESTREAM will be added to an availability group, ensure that FILESTREAM is enabled on every server instance that will host an availability replica for the availability group.</span></span>|[<span data-ttu-id="32562-298">Enable and Configure FILESTREAM</span><span class="sxs-lookup"><span data-stu-id="32562-298">Enable and Configure FILESTREAM</span></span>](../../../relational-databases/blob/enable-and-configure-filestream.md)|  
|<span data-ttu-id="32562-299">![Casilla de verificación](../../media/checkboxemptycenterxtraspacetopandright.gif "Casilla de verificación")</span><span class="sxs-lookup"><span data-stu-id="32562-299">![Checkbox](../../media/checkboxemptycenterxtraspacetopandright.gif "Checkbox")</span></span>|<span data-ttu-id="32562-300">Si va a agregar cualquier base de datos independiente a un grupo de disponibilidad, asegúrese de que la opción de servidor `contained database authentication` esté establecida en `1` en cada instancia del servidor que hospedará una réplica de disponibilidad para el grupo de disponibilidad.</span><span class="sxs-lookup"><span data-stu-id="32562-300">If any contained databases will be added to an availability group, ensure that the `contained database authentication` server option is set to `1` on every server instance that will host an availability replica for the availability group.</span></span>|[<span data-ttu-id="32562-301">contained database authentication (opción de configuración del servidor)</span><span class="sxs-lookup"><span data-stu-id="32562-301">contained database authentication Server Configuration Option</span></span>](../../configure-windows/contained-database-authentication-server-configuration-option.md)<br /><br /> [<span data-ttu-id="32562-302">Opciones de configuración de servidor &#40;SQL Server&#41;</span><span class="sxs-lookup"><span data-stu-id="32562-302">Server Configuration Options &#40;SQL Server&#41;</span></span>](../../configure-windows/server-configuration-options-sql-server.md)|  
  
###  <a name="thread-usage-by-availability-groups"></a><a name="ThreadUsage"></a> <span data-ttu-id="32562-303">Uso de subprocesos por parte de los grupos de disponibilidad</span><span class="sxs-lookup"><span data-stu-id="32562-303">Thread Usage by Availability Groups</span></span>  
 [!INCLUDE[ssHADR](../../../includes/sshadr-md.md)] <span data-ttu-id="32562-304">tiene los siguientes requisitos para los subprocesos de trabajo:</span><span class="sxs-lookup"><span data-stu-id="32562-304">has the following requirements for worker threads:</span></span>  
  
-   <span data-ttu-id="32562-305">En una instancia inactiva de [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)], [!INCLUDE[ssHADR](../../../includes/sshadr-md.md)] usa 0 subprocesos.</span><span class="sxs-lookup"><span data-stu-id="32562-305">On an idle instance of [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)], [!INCLUDE[ssHADR](../../../includes/sshadr-md.md)] uses 0 threads.</span></span>  
  
-   <span data-ttu-id="32562-306">El número máximo de subprocesos usados por los grupos de disponibilidad es el valor configurado para el número máximo de subprocesos de servidor ('`max worker threads`') menos 40.</span><span class="sxs-lookup"><span data-stu-id="32562-306">The maximum number of threads used by availability groups is the configured setting for the maximum number of server threads ('`max worker threads`') minus 40.</span></span>  
  
-   <span data-ttu-id="32562-307">Las réplicas de disponibilidad hospedadas en una instancia de servidor dada comparten un único grupo de subprocesos.</span><span class="sxs-lookup"><span data-stu-id="32562-307">The availability replicas hosted on a given server instance share a single thread pool.</span></span>  
  
     <span data-ttu-id="32562-308">Los subprocesos se comparten a petición, de la manera siguiente:</span><span class="sxs-lookup"><span data-stu-id="32562-308">Threads are shared on an on-demand basis, as follows:</span></span>  
  
    -   <span data-ttu-id="32562-309">Normalmente, hay entre 3 y 10 subprocesos compartidos, pero este número puede aumentar según la carga de réplica principal.</span><span class="sxs-lookup"><span data-stu-id="32562-309">Typically, there are 3-10 shared threads, but this number can increase depending on the primary replica workload.</span></span>  
  
    -   <span data-ttu-id="32562-310">Si un subproceso determinado está inactivo durante un tiempo, se libera de nuevo en el grupo de subprocesos general de [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] .</span><span class="sxs-lookup"><span data-stu-id="32562-310">If a given thread is idle for a while, it is released back into the general [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] thread pool.</span></span> <span data-ttu-id="32562-311">Normalmente, un subproceso inactivo se libera después de unos 15 segundos de inactividad.</span><span class="sxs-lookup"><span data-stu-id="32562-311">Normally, an inactive thread is released after ~15 seconds of inactivity.</span></span> <span data-ttu-id="32562-312">Sin embargo, dependiendo de la última actividad, un subproceso inactivo se puede conservar más tiempo.</span><span class="sxs-lookup"><span data-stu-id="32562-312">However, depending on the last activity, an idle thread might be retained longer.</span></span>  
  
-   <span data-ttu-id="32562-313">Además, los grupos de disponibilidad usan subprocesos no compartidos, de la manera siguiente:</span><span class="sxs-lookup"><span data-stu-id="32562-313">In addition, availability groups use unshared threads, as follows:</span></span>  
  
    -   <span data-ttu-id="32562-314">Cada réplica principal usa 1 subproceso de captura de registro para cada base de datos principal.</span><span class="sxs-lookup"><span data-stu-id="32562-314">Each primary replica uses 1 Log Capture thread for each primary database.</span></span> <span data-ttu-id="32562-315">Además, usa 1 subproceso de envío de registro para cada base de datos secundaria.</span><span class="sxs-lookup"><span data-stu-id="32562-315">In addition, it uses 1 Log Send thread for each secondary database.</span></span> <span data-ttu-id="32562-316">Los subprocesos de envío de registro se liberan después de unos 15 segundos de inactividad.</span><span class="sxs-lookup"><span data-stu-id="32562-316">Log send threads are released after ~15 seconds of inactivity.</span></span>  
  
    -   <span data-ttu-id="32562-317">Cada réplica secundaria usa 1 subproceso de rehacer para cada base de datos secundaria.</span><span class="sxs-lookup"><span data-stu-id="32562-317">Each secondary replica uses 1 redo thread for each secondary database.</span></span> <span data-ttu-id="32562-318">Los subprocesos de rehacer se liberan después de unos 15 segundos de inactividad.</span><span class="sxs-lookup"><span data-stu-id="32562-318">Redo threads are released after ~15 seconds of inactivity.</span></span>  
  
    -   <span data-ttu-id="32562-319">Una copia de seguridad en una réplica secundaria contiene un subproceso en la réplica principal mientras dura la operación de copia de seguridad.</span><span class="sxs-lookup"><span data-stu-id="32562-319">A backup on a secondary replica holds a thread on the primary replica for the duration of the backup operation.</span></span>  
  
 <span data-ttu-id="32562-320">Para obtener más información, vea [Series de aprendizaje de AlwaysON - HADRON: uso del grupo de trabajo para las bases de datos compatibles con HADRON](https://blogs.msdn.com/b/psssql/archive/2012/05/17/alwayson-hadron-learning-series-worker-pool-usage-for-hadron-enabled-databases.aspx) (un blog de los ingenieros de [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] de CSS).</span><span class="sxs-lookup"><span data-stu-id="32562-320">For more information, see [AlwaysON - HADRON Learning Series: Worker Pool Usage for HADRON Enabled Databases](https://blogs.msdn.com/b/psssql/archive/2012/05/17/alwayson-hadron-learning-series-worker-pool-usage-for-hadron-enabled-databases.aspx) (a CSS [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] Engineers Blog).</span></span>  
  
###  <a name="permissions-server-instance"></a><a name="PermissionsSI"></a> <span data-ttu-id="32562-321">Permisos (instancia del servidor)</span><span class="sxs-lookup"><span data-stu-id="32562-321">Permissions (Server Instance)</span></span>  
  
|<span data-ttu-id="32562-322">Tarea</span><span class="sxs-lookup"><span data-stu-id="32562-322">Task</span></span>|<span data-ttu-id="32562-323">Permisos necesarios</span><span class="sxs-lookup"><span data-stu-id="32562-323">Required Permissions</span></span>|  
|----------|--------------------------|  
|<span data-ttu-id="32562-324">Crear el extremo de creación de reflejo de la base de datos</span><span class="sxs-lookup"><span data-stu-id="32562-324">Creating the database mirroring endpoint</span></span>|<span data-ttu-id="32562-325">Requiere permiso CREATE ENDPOINT o pertenecer al rol fijo de servidor **sysadmin** .</span><span class="sxs-lookup"><span data-stu-id="32562-325">Requires CREATE ENDPOINT permission, or membership in the **sysadmin** fixed server role.</span></span>  <span data-ttu-id="32562-326">También requiere el permiso CONTROL ON ENDPOINT.</span><span class="sxs-lookup"><span data-stu-id="32562-326">Also requires CONTROL ON ENDPOINT permission.</span></span> <span data-ttu-id="32562-327">Para obtener más información, vea [GRANT &#40;permisos de punto de conexión de Transact-SQL&#41;](/sql/t-sql/statements/grant-endpoint-permissions-transact-sql).</span><span class="sxs-lookup"><span data-stu-id="32562-327">For more information, see [GRANT Endpoint Permissions &#40;Transact-SQL&#41;](/sql/t-sql/statements/grant-endpoint-permissions-transact-sql).</span></span>|  
|<span data-ttu-id="32562-328">Habilitar [!INCLUDE[ssHADR](../../../includes/sshadr-md.md)]</span><span class="sxs-lookup"><span data-stu-id="32562-328">Enabling [!INCLUDE[ssHADR](../../../includes/sshadr-md.md)]</span></span>|<span data-ttu-id="32562-329">Requiere la pertenencia al grupo **Administrador** en el equipo local y control total del clúster de WSFC.</span><span class="sxs-lookup"><span data-stu-id="32562-329">Requires membership in the **Administrator** group on the local computer and full control on the WSFC cluster.</span></span>|  
  
###  <a name="related-tasks-server-instance"></a><a name="RelatedTasksSI"></a> <span data-ttu-id="32562-330">Tareas relacionadas (instancia del servidor)</span><span class="sxs-lookup"><span data-stu-id="32562-330">Related Tasks (Server Instance)</span></span>  
  
|<span data-ttu-id="32562-331">Tarea</span><span class="sxs-lookup"><span data-stu-id="32562-331">Task</span></span>|<span data-ttu-id="32562-332">Tema</span><span class="sxs-lookup"><span data-stu-id="32562-332">Topic</span></span>|  
|----------|-----------|  
|<span data-ttu-id="32562-333">Determinar si existe un extremo de creación de reflejo de la base de datos</span><span class="sxs-lookup"><span data-stu-id="32562-333">Determining whether database mirroring endpoint exists</span></span>|[<span data-ttu-id="32562-334">sys.database_mirroring_endpoints &#40;Transact-SQL&#41;</span><span class="sxs-lookup"><span data-stu-id="32562-334">sys.database_mirroring_endpoints &#40;Transact-SQL&#41;</span></span>](/sql/relational-databases/system-catalog-views/sys-database-mirroring-endpoints-transact-sql)|  
|<span data-ttu-id="32562-335">Crear el extremo de creación de reflejo de la base de datos (si aún no existe)</span><span class="sxs-lookup"><span data-stu-id="32562-335">Creating the database mirroring endpoint (if it does not yet exist)</span></span>|[<span data-ttu-id="32562-336">Crear un punto de conexión de creación de reflejo de la base de datos para la autenticación de Windows &#40;Transact-SQL&#41;</span><span class="sxs-lookup"><span data-stu-id="32562-336">Create a Database Mirroring Endpoint for Windows Authentication &#40;Transact-SQL&#41;</span></span>](../../database-mirroring/create-a-database-mirroring-endpoint-for-windows-authentication-transact-sql.md)<br /><br /> [<span data-ttu-id="32562-337">Usar certificados para un punto de conexión de creación de reflejo de la base de datos &#40;Transact-SQL&#41;</span><span class="sxs-lookup"><span data-stu-id="32562-337">Use Certificates for a Database Mirroring Endpoint &#40;Transact-SQL&#41;</span></span>](../../database-mirroring/use-certificates-for-a-database-mirroring-endpoint-transact-sql.md)<br /><br /> [<span data-ttu-id="32562-338">Cree un extremo de creación de reflejo de la base de datos para Grupos de disponibilidad AlwaysOn &#40;SQL Server PowerShell&#41;</span><span class="sxs-lookup"><span data-stu-id="32562-338">Create a Database Mirroring Endpoint for AlwaysOn Availability Groups &#40;SQL Server PowerShell&#41;</span></span>](database-mirroring-always-on-availability-groups-powershell.md)|  
|<span data-ttu-id="32562-339">Habilitar los grupos de disponibilidad de AlwaysOn</span><span class="sxs-lookup"><span data-stu-id="32562-339">Enabling AlwaysOn Availability Groups</span></span>|[<span data-ttu-id="32562-340">Habilitar y deshabilitar grupos de disponibilidad AlwaysOn &#40;SQL Server&#41;</span><span class="sxs-lookup"><span data-stu-id="32562-340">Enable and Disable AlwaysOn Availability Groups &#40;SQL Server&#41;</span></span>](enable-and-disable-always-on-availability-groups-sql-server.md)|  
  
###  <a name="related-content-server-instance"></a><a name="RelatedContentSI"></a> <span data-ttu-id="32562-341">Contenido relacionado (instancia del servidor)</span><span class="sxs-lookup"><span data-stu-id="32562-341">Related Content (Server Instance)</span></span>  
  
-   [<span data-ttu-id="32562-342">Series de aprendizaje de AlwaysON - HADRON: uso del grupo de trabajo para las bases de datos compatibles con HADRON</span><span class="sxs-lookup"><span data-stu-id="32562-342">AlwaysON - HADRON Learning Series: Worker Pool Usage for HADRON Enabled Databases</span></span>](https://blogs.msdn.com/b/psssql/archive/2012/05/17/alwayson-hadron-learning-series-worker-pool-usage-for-hadron-enabled-databases.aspx)  
  
##  <a name="network-connectivity-recommendations"></a><a name="NetworkConnect"></a> <span data-ttu-id="32562-343">Recomendaciones de conectividad de red</span><span class="sxs-lookup"><span data-stu-id="32562-343">Network Connectivity Recommendations</span></span>  
 <span data-ttu-id="32562-344">Se recomienda que utilice los mismos vínculos de red para las comunicaciones entre los miembros del clúster de WSFC y las comunicaciones entre las réplicas de disponibilidad.</span><span class="sxs-lookup"><span data-stu-id="32562-344">We strongly recommend that you use the same network links for communications between WSFC cluster members and communications between availability replicas.</span></span>  <span data-ttu-id="32562-345">El uso de vínculos de red independientes puede provocar comportamientos inesperados si alguno de los vínculos da error (incluso de forma intermitente).</span><span class="sxs-lookup"><span data-stu-id="32562-345">Using separate network links can cause unexpected behaviors if some of links fail (even intermittently).</span></span>  
  
 <span data-ttu-id="32562-346">Por ejemplo, para que un grupo de disponibilidad admita la conmutación por error automática, la réplica secundaria que sea el asociado de conmutación por error automática debe tener el estado SYNCHRONIZED.</span><span class="sxs-lookup"><span data-stu-id="32562-346">For example, for an availability group to support automatic failover, the secondary replica that is the automatic-failover partner must be in the SYNCHRONIZED state.</span></span> <span data-ttu-id="32562-347">Si el vínculo de red a esta réplica secundaria da error (incluso de forma intermitente), la réplica entra en el estado UNSYNCHRONIZED y no puede iniciarse para volver a sincronizar hasta que se restaure el vínculo.</span><span class="sxs-lookup"><span data-stu-id="32562-347">If the network link to this secondary replica fails (even intermittently), the replica enters the UNSYNCHRONIZED state and cannot begin to resynchronize until the link is restored.</span></span> <span data-ttu-id="32562-348">Si el clúster WSFC solicita una conmutación por error automática mientras la réplica secundaria está desincronizada, la conmutación por error automática no aparecerá.</span><span class="sxs-lookup"><span data-stu-id="32562-348">If the WSFC cluster requests an automatic failover while the secondary replica is unsynchronized, automatic failover will not occur.</span></span>  
  
##  <a name="client-connectivity-support"></a><a name="ClientConnSupport"></a> <span data-ttu-id="32562-349">Compatibilidad con conectividad de cliente</span><span class="sxs-lookup"><span data-stu-id="32562-349">Client Connectivity Support</span></span>  
 <span data-ttu-id="32562-350">Para obtener información sobre la [!INCLUDE[ssHADR](../../../includes/sshadr-md.md)] compatibilidad con la conectividad de cliente, vea [conectividad de cliente de AlwaysOn (SQL Server)](always-on-client-connectivity-sql-server.md).</span><span class="sxs-lookup"><span data-stu-id="32562-350">For information about [!INCLUDE[ssHADR](../../../includes/sshadr-md.md)] support for client connectivity, see [AlwaysOn Client Connectivity (SQL Server)](always-on-client-connectivity-sql-server.md).</span></span>  
  
##  <a name="prerequisites-and-restrictions-for-using-a-sql-server-failover-cluster-instance-fci-to-host-an-availability-replica"></a><a name="FciArLimitations"></a> <span data-ttu-id="32562-351">Requisitos previos y restricciones para usar una instancia de clúster de conmutación por error (FCI) de SQL Server para hospedar una réplica de disponibilidad</span><span class="sxs-lookup"><span data-stu-id="32562-351">Prerequisites and Restrictions for Using a SQL Server Failover Cluster Instance (FCI) to Host an Availability Replica</span></span>  
 
  
###  <a name="restrictions-fcis"></a><a name="RestrictionsFCI"></a> <span data-ttu-id="32562-352">Restricciones (FCI)</span><span class="sxs-lookup"><span data-stu-id="32562-352">Restrictions (FCIs)</span></span>  
  
> [!NOTE]  
>  <span data-ttu-id="32562-353">A partir de [!INCLUDE[ssSQL14](../../../includes/sssql14-md.md)], las instancias del clúster de conmutación por error de AlwaysOn admiten los volúmenes compartidos en clúster (CSV) en [!INCLUDE[winserver2008r2](../../../includes/winserver2008r2-md.md)] y [!INCLUDE[win8srv](../../../includes/win8srv-md.md)].</span><span class="sxs-lookup"><span data-stu-id="32562-353">Beginning in [!INCLUDE[ssSQL14](../../../includes/sssql14-md.md)], AlwaysOn Failover Cluster Instances supports Clustered Shared Volumes (CSV) in both [!INCLUDE[winserver2008r2](../../../includes/winserver2008r2-md.md)] and [!INCLUDE[win8srv](../../../includes/win8srv-md.md)].</span></span> <span data-ttu-id="32562-354">Para obtener más información sobre CSV, vea [Descripción de Volúmenes compartidos de clúster en un clúster de conmutación por error](https://technet.microsoft.com/library/dd759255.aspx).</span><span class="sxs-lookup"><span data-stu-id="32562-354">For more information on CSV, see [Understanding Cluster Shared Volumes in a Failover Cluster](https://technet.microsoft.com/library/dd759255.aspx).</span></span>  
  
-   <span data-ttu-id="32562-355">**Los nodos de clúster de una FCI solo pueden hospedar una réplica para un grupo de disponibilidad determinado**  : Si agrega una réplica de disponibilidad en una FCI, los nodos de clúster de WSFC que sean posibles propietarios de FCI no pueden hospedar otra réplica para el mismo grupo de disponibilidad.</span><span class="sxs-lookup"><span data-stu-id="32562-355">**The cluster nodes of an FCI can host only one replica for a given availability group:**  If you add an availability replica on an FCI, the WSFC cluster nodes that are possible FCI owners cannot host another replica for the same availability group.</span></span>  
  
     <span data-ttu-id="32562-356">Además, todas las demás réplicas deben hospedarse en una instancia de SQL Server 2012 que resida en otro nodo de WSFC en el mismo clúster de WSFC.</span><span class="sxs-lookup"><span data-stu-id="32562-356">Furthermore, every other replica must be hosted by an instance of SQL Server 2012 that resides on a different WSFC node in the same WSFC cluster.</span></span> <span data-ttu-id="32562-357">La única excepción es que mientras se migra a otro clúster de WSFC, un grupo de disponibilidad puede ocupar temporalmente dos clústeres.</span><span class="sxs-lookup"><span data-stu-id="32562-357">The only exception is that while being migrated to another WSFC cluster, an availability group can temporarily straddle two clusters.</span></span>  
  
-   <span data-ttu-id="32562-358">**Las FCI no admiten la conmutación automática por error por grupos de disponibilidad:**  las FCI no admiten la conmutación automática por error de grupos de disponibilidad; por tanto, todas las réplicas de disponibilidad hospedadas por una FCI solo se pueden configurar para la conmutación por error manual.</span><span class="sxs-lookup"><span data-stu-id="32562-358">**FCIs do not support automatic failover by availability groups:**  FCIs do not support automatic failover by availability groups, so any availability replica that is hosted by an FCI can be configured for manual failover only.</span></span>  
  
-   <span data-ttu-id="32562-359">**Cambiar el nombre de red de FCI:**  si necesita cambiar el nombre de red de una FCI que hospede una réplica de disponibilidad, tendrá que quitar la réplica del grupo de disponibilidad y, después, volver a agregar la réplica al grupo de disponibilidad.</span><span class="sxs-lookup"><span data-stu-id="32562-359">**Changing FCI network name:**  If you need to change the network name of an FCI that hosts an availability replica, you will need to remove the replica from its availability group and then add the replica back into the availability group.</span></span> <span data-ttu-id="32562-360">No puede quitar la réplica principal, de modo que si cambia el nombre de una FCI que hospeda la réplica principal, debe conmutar por error a una réplica secundaria, después quitar la réplica principal anterior y volver a agregarla.</span><span class="sxs-lookup"><span data-stu-id="32562-360">You cannot remove the primary replica, so if you are renaming an FCI that is hosting the primary replica, you should fail over to a secondary replica and then remove the former primary replica and add it back.</span></span> <span data-ttu-id="32562-361">Observe que cambiar el nombre de una FCI puede modificar la dirección URL del extremo de creación de reflejo de la base de datos.</span><span class="sxs-lookup"><span data-stu-id="32562-361">Note that renaming an FCI might alter the URL of its database mirroring endpoint.</span></span> <span data-ttu-id="32562-362">Al agregar la réplica asegúrese de especificar la dirección URL del extremo actual.</span><span class="sxs-lookup"><span data-stu-id="32562-362">When you add the replica ensure that you specify the current endpoint URL.</span></span>  
  
###  <a name="checklist-prerequisites-fcis"></a><a name="PrerequisitesFCI"></a> <span data-ttu-id="32562-363">Lista de comprobación: Requisitos previos (FCI)</span><span class="sxs-lookup"><span data-stu-id="32562-363">Checklist: Prerequisites (FCIs)</span></span>  
  
||<span data-ttu-id="32562-364">Requisito previo</span><span class="sxs-lookup"><span data-stu-id="32562-364">Prerequisite</span></span>|<span data-ttu-id="32562-365">Vínculo</span><span class="sxs-lookup"><span data-stu-id="32562-365">Link</span></span>|  
|-|------------------|----------|  
|<span data-ttu-id="32562-366">![Casilla de verificación](../../media/checkboxemptycenterxtraspacetopandright.gif "Casilla de verificación")</span><span class="sxs-lookup"><span data-stu-id="32562-366">![Checkbox](../../media/checkboxemptycenterxtraspacetopandright.gif "Checkbox")</span></span>|<span data-ttu-id="32562-367">Antes de usar una FCI para hospedar una réplica de disponibilidad, asegúrese de que el administrador del sistema haya instalado la revisión de Windows Server 2008 descrita en el artículo 976097 de Knowledge Base.</span><span class="sxs-lookup"><span data-stu-id="32562-367">Before you use an FCI to host an availability replica, ensure that your system administrator has installed the Windows Server 2008 hotfix described in Knowledge Base article KB 976097.</span></span> <span data-ttu-id="32562-368">Esta revisión habilita el complemento Microsoft Management Console (MMC) de administración de clústeres de conmutación por error para admitir discos compartidos de almacenamiento asimétrico que solo están disponibles en algunos de los nodos de WSFC.</span><span class="sxs-lookup"><span data-stu-id="32562-368">This hotfix enables the Failover Cluster Management Microsoft Management Console (MMC) snap-in to support asymmetric storage-shared disks that are available on only some of the WSFC nodes.</span></span>|<span data-ttu-id="32562-369">KB 976097:  [Revisión para agregar compatibilidad con los almacenamientos asimétricos al complemento MMC de administración de clústeres de conmutación por error para un clúster de conmutación por error que ejecute Windows Server 2008 o Windows Server 2008 R2](https://support.microsoft.com/kb/976097)</span><span class="sxs-lookup"><span data-stu-id="32562-369">KB 976097:  [Hotfix to add support for asymmetric storages to the Failover Cluster Management MMC snap-in for a failover cluster that is running Windows Server 2008 or Windows Server 2008 R2](https://support.microsoft.com/kb/976097)</span></span>|  
|<span data-ttu-id="32562-370">![Casilla de verificación](../../media/checkboxemptycenterxtraspacetopandright.gif "Casilla de verificación")</span><span class="sxs-lookup"><span data-stu-id="32562-370">![Checkbox](../../media/checkboxemptycenterxtraspacetopandright.gif "Checkbox")</span></span>|<span data-ttu-id="32562-371">Asegúrese de que cada instancia de clúster de conmutación por error (FCI) de SQL Server posee el almacenamiento compartido necesario según la instalación estándar de la instancia de clúster de conmutación por error de SQL Server.</span><span class="sxs-lookup"><span data-stu-id="32562-371">Ensure that each SQL Server failover cluster instance (FCI) possesses the required shared storage as per standard SQL Server failover cluster instance installation.</span></span>||  
  
###  <a name="related-tasks-fcis"></a><a name="RelatedTasksFCIs"></a> <span data-ttu-id="32562-372">Tareas relacionadas (FCI)</span><span class="sxs-lookup"><span data-stu-id="32562-372">Related Tasks (FCIs)</span></span>  
  
|<span data-ttu-id="32562-373">Tarea</span><span class="sxs-lookup"><span data-stu-id="32562-373">Task</span></span>|<span data-ttu-id="32562-374">Tema</span><span class="sxs-lookup"><span data-stu-id="32562-374">Topic</span></span>|  
|----------|-----------|  
|<span data-ttu-id="32562-375">Instalar un clúster de conmutación por error de SQL Server</span><span class="sxs-lookup"><span data-stu-id="32562-375">Installing a SQL Server Failover Cluster</span></span>|[<span data-ttu-id="32562-376">Crear un nuevo clúster de conmutación por error de SQL Server &#40;programa de instalación&#41;</span><span class="sxs-lookup"><span data-stu-id="32562-376">Create a New SQL Server Failover Cluster &#40;Setup&#41;</span></span>](../../../sql-server/failover-clusters/install/create-a-new-sql-server-failover-cluster-setup.md)|  
|<span data-ttu-id="32562-377">Actualización en contexto del clúster de conmutación por error existente de SQL Server</span><span class="sxs-lookup"><span data-stu-id="32562-377">In-place upgrade of your existing SQL Server Failover Cluster</span></span>|[<span data-ttu-id="32562-378">Actualizar una instancia de clúster de conmutación por error de SQL Server &#40;programa de instalación&#41;</span><span class="sxs-lookup"><span data-stu-id="32562-378">Upgrade a SQL Server Failover Cluster Instance &#40;Setup&#41;</span></span>](../../../sql-server/failover-clusters/windows/upgrade-a-sql-server-failover-cluster-instance-setup.md)|  
|<span data-ttu-id="32562-379">Mantener el clúster de conmutación por error existente de SQL Server</span><span class="sxs-lookup"><span data-stu-id="32562-379">Maintaining your existing SQL Server Failover Cluster</span></span>|[<span data-ttu-id="32562-380">Agregar o quitar nodos en un clúster de conmutación por error de SQL Server &#40;programa de instalación&#41;</span><span class="sxs-lookup"><span data-stu-id="32562-380">Add or Remove Nodes in a SQL Server Failover Cluster &#40;Setup&#41;</span></span>](../../../sql-server/failover-clusters/install/add-or-remove-nodes-in-a-sql-server-failover-cluster-setup.md)|  
  
###  <a name="related-content-fcis"></a><a name="RelatedContentFCIs"></a> <span data-ttu-id="32562-381">Contenido relacionado (FCI)</span><span class="sxs-lookup"><span data-stu-id="32562-381">Related Content (FCIs)</span></span>  
  
-   [<span data-ttu-id="32562-382">Clústeres de conmutación por error y &#40;de Grupos de disponibilidad AlwaysOn SQL Server&#41;</span><span class="sxs-lookup"><span data-stu-id="32562-382">Failover Clustering and AlwaysOn Availability Groups &#40;SQL Server&#41;</span></span>](failover-clustering-and-always-on-availability-groups-sql-server.md)  
  
-   [<span data-ttu-id="32562-383">Guía de la arquitectura de AlwaysOn: generar una solución de alta disponibilidad y recuperación ante desastres mediante instancias de clúster de conmutación por error y grupos de disponibilidad</span><span class="sxs-lookup"><span data-stu-id="32562-383">AlwaysOn Architecture Guide: Building a High Availability and Disaster Recovery Solution by Using Failover Cluster Instances and Availability Groups</span></span>](https://technet.microsoft.com/library/jj215886.aspx)  
  
##  <a name="availability-group-prerequisites-and-restrictions"></a><a name="PrerequisitesForAGs"></a> <span data-ttu-id="32562-384">Requisitos previos y restricciones de los grupos de disponibilidad</span><span class="sxs-lookup"><span data-stu-id="32562-384">Availability Group Prerequisites and Restrictions</span></span>  

  
###  <a name="restrictions-availability-groups"></a><a name="RestrictionsAG"></a> <span data-ttu-id="32562-385">Restricciones (grupos de disponibilidad)</span><span class="sxs-lookup"><span data-stu-id="32562-385">Restrictions (Availability Groups)</span></span>  
  
-   <span data-ttu-id="32562-386">**Las réplicas de disponibilidad se deben hospedar en nodos diferentes de un clúster de WSFC**  : Para un grupo de disponibilidad determinado, las réplicas de disponibilidad deben hospedarse en instancias de servidor que se ejecutan en nodos diferentes del mismo clúster de WSFC.</span><span class="sxs-lookup"><span data-stu-id="32562-386">**Availability replicas must be hosted by different nodes of one WSFC cluster:**  For a given availability group, availability replicas must be hosted by server instances running on different nodes of the same WSFC cluster.</span></span> <span data-ttu-id="32562-387">La única excepción es que mientras se migra a otro clúster de WSFC, un grupo de disponibilidad puede ocupar temporalmente dos clústeres.</span><span class="sxs-lookup"><span data-stu-id="32562-387">The only exception is that while being migrated to another WSFC cluster, an availability group can temporarily straddle two clusters.</span></span>  
  
    > [!NOTE]  
    >  <span data-ttu-id="32562-388">Cada una de las diferentes máquinas virtuales de un mismo equipo físico puede hospedar una réplica de disponibilidad para el mismo grupo de disponibilidad, porque cada máquina virtual actúa como un equipo independiente.</span><span class="sxs-lookup"><span data-stu-id="32562-388">Virtual machines on the same physical computer can each host an availability replica for the same availability group because each virtual machine acts as a separate computer.</span></span>  
  
-   <span data-ttu-id="32562-389">**Nombre único de grupo de disponibilidad:**  cada nombre de grupo de disponibilidad debe ser único en el clúster de WSFC.</span><span class="sxs-lookup"><span data-stu-id="32562-389">**Unique availability group name:**  Each availability group name must be unique on the WSFC cluster.</span></span> <span data-ttu-id="32562-390">La longitud máxima del nombre de un grupo de disponibilidad es 128 caracteres.</span><span class="sxs-lookup"><span data-stu-id="32562-390">The maximum length for an availability group name is 128 characters.</span></span>  
  
-   <span data-ttu-id="32562-391">**Réplicas de disponibilidad:**  Cada grupo de disponibilidad admite una réplica principal y hasta ocho réplicas secundarias.</span><span class="sxs-lookup"><span data-stu-id="32562-391">**Availability replicas:**  Each availability group supports one primary replica and up to eight secondary replicas.</span></span> <span data-ttu-id="32562-392">Todas las réplicas pueden ejecutarse en el modo de confirmación asincrónica o hasta tres de ellas pueden ejecutarse en el modo de confirmación sincrónica (una réplica principal con dos réplicas secundarias sincrónicas).</span><span class="sxs-lookup"><span data-stu-id="32562-392">All of the replicas can run under asynchronous-commit mode, or up to three of them can run under synchronous-commit mode (one primary replica with two synchronous secondary replicas).</span></span>  
  
-   <span data-ttu-id="32562-393">**Número máximo de grupos de disponibilidad y bases de datos de disponibilidad por equipo:** El número real de bases de datos y grupos de disponibilidad que puede colocar en un equipo (equipo físico o máquina virtual) depende del hardware y de la carga de trabajo, pero no hay ningún límite impuesto.</span><span class="sxs-lookup"><span data-stu-id="32562-393">**Maximum number of availability groups and availability databases per computer:** The actual number of databases and availability groups you can put on a computer (VM or physical) depends on the hardware and workload, but there is no enforced limit.</span></span> <span data-ttu-id="32562-394">Microsoft ha probado exhaustivamente con 10 grupos de disponibilidad y 100 bases de datos por equipo físico.</span><span class="sxs-lookup"><span data-stu-id="32562-394">Microsoft has extensively tested with 10 AGs and 100 DBs per physical machine.</span></span> <span data-ttu-id="32562-395">Los signos de sistemas sobrecargados pueden incluir, pero no limitarse a los siguientes: agotamiento de subprocesos de trabajo, tiempos de respuesta lentos para vistas del sistema y DMV de AlwaysOn o volcados del sistema del distribuidor detenidos.</span><span class="sxs-lookup"><span data-stu-id="32562-395">Signs of overloaded systems can include, but are not limited to, worker thread exhaustion, slow response times for AlwaysOn system views and DMVs, and/or stalled dispatcher system dumps.</span></span> <span data-ttu-id="32562-396">Asegúrese de comprobar minuciosamente el entorno con una carga de trabajo similar a la que usará en producción para asegurarse de que puede controlar la capacidad de carga de trabajo máxima con sus contratos de nivel de servicio de aplicación.</span><span class="sxs-lookup"><span data-stu-id="32562-396">Please make sure to thoroughly test your environment with a production-like workload to ensure it can handle peak workload capacity within your application SLAs.</span></span> <span data-ttu-id="32562-397">Cuando evalúe los contratos de nivel de servicio, no olvide tener en cuenta la carga en condiciones de error además de los tiempos de respuesta esperados.</span><span class="sxs-lookup"><span data-stu-id="32562-397">When considering SLAs be sure to consider load under failure conditions as well as expected response times.</span></span>  
  
-   <span data-ttu-id="32562-398">**No use el Administrador de clústeres de conmutación por error para manipular grupos de disponibilidad:**</span><span class="sxs-lookup"><span data-stu-id="32562-398">**Do not use the Failover Cluster Manager to manipulate availability groups:**</span></span>  
  
     <span data-ttu-id="32562-399">Por ejemplo:</span><span class="sxs-lookup"><span data-stu-id="32562-399">For example:</span></span>  
  
    -   <span data-ttu-id="32562-400">No cambie ninguna propiedad del grupo de disponibilidad, como los posibles propietarios.</span><span class="sxs-lookup"><span data-stu-id="32562-400">Do not change any availability group properties, such as the possible owners.</span></span>  
  
    -   <span data-ttu-id="32562-401">No use el Administrador de clústeres de conmutación por error para conmutar grupos de disponibilidad.</span><span class="sxs-lookup"><span data-stu-id="32562-401">Do not use the Failover Cluster Manager to fail over availability groups.</span></span> <span data-ttu-id="32562-402">Debe usar [!INCLUDE[tsql](../../../includes/tsql-md.md)] o [!INCLUDE[ssManStudioFull](../../../includes/ssmanstudiofull-md.md)].</span><span class="sxs-lookup"><span data-stu-id="32562-402">You must use [!INCLUDE[tsql](../../../includes/tsql-md.md)] or [!INCLUDE[ssManStudioFull](../../../includes/ssmanstudiofull-md.md)].</span></span>  
  
###  <a name="prerequisites-availability-groups"></a><a name="RequirementsAG"></a> <span data-ttu-id="32562-403">Requisitos previos (grupos de disponibilidad)</span><span class="sxs-lookup"><span data-stu-id="32562-403">Prerequisites (Availability Groups)</span></span>  
 <span data-ttu-id="32562-404">Al crear o establecer de nuevo una configuración de grupo de disponibilidad, asegúrese de que se adhiere a los siguientes requisitos.</span><span class="sxs-lookup"><span data-stu-id="32562-404">When creating or reconfiguring an availability group configuration, ensure that you adhere to the following requirements.</span></span>  
  
||<span data-ttu-id="32562-405">Requisito previo</span><span class="sxs-lookup"><span data-stu-id="32562-405">Prerequisite</span></span>|<span data-ttu-id="32562-406">Descripción</span><span class="sxs-lookup"><span data-stu-id="32562-406">Description</span></span>|  
|-|------------------|-----------------|  
|<span data-ttu-id="32562-407">![Casilla de verificación](../../media/checkboxemptycenterxtraspacetopandright.gif "Casilla de verificación")</span><span class="sxs-lookup"><span data-stu-id="32562-407">![Checkbox](../../media/checkboxemptycenterxtraspacetopandright.gif "Checkbox")</span></span>|<span data-ttu-id="32562-408">Si va a usar una instancia de clúster de conmutación por error (FCI) de [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] para hospedar una réplica de disponibilidad, asegúrese de que comprende las restricciones de FCI y de que se cumplen los requisitos de FCI.</span><span class="sxs-lookup"><span data-stu-id="32562-408">If you plan to use a [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] failover cluster instance (FCI) to host an availability replica, ensure that you understand the FCI restrictions and that the FCI requirements are met.</span></span>|<span data-ttu-id="32562-409">[Requisitos previos y restricciones del uso de una instancia de clúster de conmutación por error (FCI) de SQL Server para hospedar una réplica de disponibilidad](#FciArLimitations) (más adelante en este tema)</span><span class="sxs-lookup"><span data-stu-id="32562-409">[Prerequisites and Restrictions for Using a SQL Server Failover Cluster Instance (FCI) to Host an Availability Replica](#FciArLimitations) (earlier in this topic)</span></span>|  
  
###  <a name="security-availability-groups"></a><a name="SecurityAG"></a> <span data-ttu-id="32562-410">Seguridad (grupos de disponibilidad)</span><span class="sxs-lookup"><span data-stu-id="32562-410">Security (Availability Groups)</span></span>  
  
-   <span data-ttu-id="32562-411">La seguridad se hereda del clúster de conmutación por error de Windows Server (WSFC).</span><span class="sxs-lookup"><span data-stu-id="32562-411">Security is inherited from the Windows Server Failover Clustering (WSFC) cluster.</span></span> <span data-ttu-id="32562-412">WSFC proporciona dos niveles de seguridad del usuario con una granularidad de todas las API del clúster de WSFC:</span><span class="sxs-lookup"><span data-stu-id="32562-412">WSFC provides two levels of user security at granularity of entire WSFC cluster APIs:</span></span>  
  
    -   <span data-ttu-id="32562-413">Acceso de solo lectura</span><span class="sxs-lookup"><span data-stu-id="32562-413">Read-only access</span></span>  
  
    -   <span data-ttu-id="32562-414">Control total</span><span class="sxs-lookup"><span data-stu-id="32562-414">Full control</span></span>  
  
         [!INCLUDE[ssHADR](../../../includes/sshadr-md.md)] <span data-ttu-id="32562-415">necesita el control total, y habilitar [!INCLUDE[ssHADR](../../../includes/sshadr-md.md)] en una instancia de [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] proporciona control total del clúster de WSFC (a través del SID de servicio).</span><span class="sxs-lookup"><span data-stu-id="32562-415">needs full control, and enabling [!INCLUDE[ssHADR](../../../includes/sshadr-md.md)] on an instance of [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] gives it full control of the WSFC cluster (through Service SID).</span></span>  
  
         <span data-ttu-id="32562-416">No puede agregar o quitar directamente la seguridad de una instancia del servidor en el Administrador de clústeres de conmutación por error de WSFC.</span><span class="sxs-lookup"><span data-stu-id="32562-416">You cannot directly add or remove security for a server instance in the WSFC Failover Cluster Manager.</span></span> <span data-ttu-id="32562-417">Para administrar las sesiones de seguridad de WSFC, use el administrador de configuración de [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] o el equivalente de WMI de [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)].</span><span class="sxs-lookup"><span data-stu-id="32562-417">To manage WSFC security sessions, use the [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] Configuration Manager or the WMI equivalent from [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)].</span></span>  
  
-   <span data-ttu-id="32562-418">Cada instancia de [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] debe tener permisos de acceso al Registro, al clúster, y así sucesivamente.</span><span class="sxs-lookup"><span data-stu-id="32562-418">Each instance of [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] must have permissions to access the registry, cluster, and soforth.</span></span>  
  
-   <span data-ttu-id="32562-419">Se recomienda utilizar cifrado para las conexiones entre las instancias del servidor que hospedan las réplicas de disponibilidad de [!INCLUDE[ssHADR](../../../includes/sshadr-md.md)] .</span><span class="sxs-lookup"><span data-stu-id="32562-419">We recommend that you use encryption for connections between server instances that host [!INCLUDE[ssHADR](../../../includes/sshadr-md.md)] availability replicas.</span></span>  
  
#### <a name="permissions-availability-groups"></a><span data-ttu-id="32562-420">Permisos (grupos de disponibilidad)</span><span class="sxs-lookup"><span data-stu-id="32562-420">Permissions (Availability Groups)</span></span>  
  
|<span data-ttu-id="32562-421">Tarea</span><span class="sxs-lookup"><span data-stu-id="32562-421">Task</span></span>|<span data-ttu-id="32562-422">Permisos necesarios</span><span class="sxs-lookup"><span data-stu-id="32562-422">Required Permissions</span></span>|  
|----------|--------------------------|  
|<span data-ttu-id="32562-423">Crear un grupo de disponibilidad</span><span class="sxs-lookup"><span data-stu-id="32562-423">Creating an availability group</span></span>|<span data-ttu-id="32562-424">Se requiere la pertenencia al rol fijo de servidor **sysadmin** y el permiso de servidor CREATE AVAILABILITY GROUP, el permiso ALTER ANY AVAILABILITY GROUP o el permiso CONTROL SERVER.</span><span class="sxs-lookup"><span data-stu-id="32562-424">Requires membership in the **sysadmin** fixed server role and either CREATE AVAILABILITY GROUP server permission, ALTER ANY AVAILABILITY GROUP permission, or CONTROL SERVER permission.</span></span>|  
|<span data-ttu-id="32562-425">Modificar un grupo de disponibilidad</span><span class="sxs-lookup"><span data-stu-id="32562-425">Altering an  availability group</span></span>|<span data-ttu-id="32562-426">Se requiere el permiso ALTER AVAILABILITY GROUP en el grupo de disponibilidad, el permiso CONTROL AVAILABILITY GROUP, el permiso ALTER ANY AVAILABILITY GROUP o el permiso CONTROL SERVER.</span><span class="sxs-lookup"><span data-stu-id="32562-426">Requires ALTER AVAILABILITY GROUP permission on the availability group, CONTROL AVAILABILITY GROUP permission, ALTER ANY AVAILABILITY GROUP permission, or CONTROL SERVER permission.</span></span><br /><br /> <span data-ttu-id="32562-427">Además, combinar una base de datos con un grupo de disponibilidad requiere ser miembro del rol fijo de base de datos **db_owner** .</span><span class="sxs-lookup"><span data-stu-id="32562-427">In addition, joining a database to an availability group requires membership in the **db_owner** fixed database role.</span></span>|  
|<span data-ttu-id="32562-428">Quitar o eliminar un grupo de disponibilidad</span><span class="sxs-lookup"><span data-stu-id="32562-428">Dropping/deleting an availability group</span></span>|<span data-ttu-id="32562-429">Se requiere el permiso ALTER AVAILABILITY GROUP en el grupo de disponibilidad, el permiso CONTROL AVAILABILITY GROUP, el permiso ALTER ANY AVAILABILITY GROUP o el permiso CONTROL SERVER.</span><span class="sxs-lookup"><span data-stu-id="32562-429">Requires ALTER AVAILABILITY GROUP permission on the availability group, CONTROL AVAILABILITY GROUP permission, ALTER ANY AVAILABILITY GROUP permission, or CONTROL SERVER permission.</span></span> <span data-ttu-id="32562-430">Para quitar un grupo de disponibilidad que no se encuentre hospedado en la ubicación de réplica local, se necesita el permiso CONTROL SERVER o el permiso CONTROL en ese grupo de disponibilidad.</span><span class="sxs-lookup"><span data-stu-id="32562-430">To drop an availability group that is not hosted on the local replica location you need CONTROL SERVER permission or CONTROL permission on that Availability Group.</span></span>|  
  
###  <a name="related-tasks-availability-groups"></a><a name="RelatedTasksAGs"></a> <span data-ttu-id="32562-431">Tareas relacionadas (grupos de disponibilidad)</span><span class="sxs-lookup"><span data-stu-id="32562-431">Related Tasks (Availability Groups)</span></span>  
  
|<span data-ttu-id="32562-432">Tarea</span><span class="sxs-lookup"><span data-stu-id="32562-432">Task</span></span>|<span data-ttu-id="32562-433">Tema</span><span class="sxs-lookup"><span data-stu-id="32562-433">Topic</span></span>|  
|----------|-----------|  
|<span data-ttu-id="32562-434">Crear un grupo de disponibilidad</span><span class="sxs-lookup"><span data-stu-id="32562-434">Creating an availability group</span></span>|[<span data-ttu-id="32562-435">Usar el grupo de disponibilidad (Asistente para nuevo grupo de disponibilidad)</span><span class="sxs-lookup"><span data-stu-id="32562-435">Use the Availability Group (New Availability Group Wizard)</span></span>](use-the-availability-group-wizard-sql-server-management-studio.md)<br /><br /> [<span data-ttu-id="32562-436">Crear un grupo de disponibilidad (Transact-SQL)</span><span class="sxs-lookup"><span data-stu-id="32562-436">Create an Availability Group (Transact-SQL)</span></span>](create-an-availability-group-transact-sql.md)<br /><br /> [<span data-ttu-id="32562-437">Crear un grupo de disponibilidad (SQL Server PowerShell)</span><span class="sxs-lookup"><span data-stu-id="32562-437">Create an Availability Group (SQL Server PowerShell)</span></span>](../../../powershell/sql-server-powershell.md)<br /><br /> [<span data-ttu-id="32562-438">Especificar la dirección URL del punto de conexión al agregar o modificar una réplica de disponibilidad &#40;SQL Server&#41;</span><span class="sxs-lookup"><span data-stu-id="32562-438">Specify the Endpoint URL When Adding or Modifying an Availability Replica &#40;SQL Server&#41;</span></span>](specify-endpoint-url-adding-or-modifying-availability-replica.md)|  
|<span data-ttu-id="32562-439">Modificar el número de réplicas de disponibilidad</span><span class="sxs-lookup"><span data-stu-id="32562-439">Modifying the number of availability replicas</span></span>|[<span data-ttu-id="32562-440">Agregar una réplica secundaria a un grupo de disponibilidad &#40;SQL Server&#41;</span><span class="sxs-lookup"><span data-stu-id="32562-440">Add a Secondary Replica to an Availability Group &#40;SQL Server&#41;</span></span>](add-a-secondary-replica-to-an-availability-group-sql-server.md)<br /><br /> [<span data-ttu-id="32562-441">Combinar una réplica secundaria con un grupo de disponibilidad &#40;SQL Server&#41;</span><span class="sxs-lookup"><span data-stu-id="32562-441">Join a Secondary Replica to an Availability Group &#40;SQL Server&#41;</span></span>](join-a-secondary-replica-to-an-availability-group-sql-server.md)<br /><br /> [<span data-ttu-id="32562-442">Quitar una réplica secundaria de un grupo de disponibilidad &#40;SQL Server&#41;</span><span class="sxs-lookup"><span data-stu-id="32562-442">Remove a Secondary Replica from an Availability Group &#40;SQL Server&#41;</span></span>](remove-a-secondary-replica-from-an-availability-group-sql-server.md)|  
|<span data-ttu-id="32562-443">Crear un agente de escucha del grupo de disponibilidad</span><span class="sxs-lookup"><span data-stu-id="32562-443">Creating an  availability group listener</span></span>|[<span data-ttu-id="32562-444">Crear o configurar un agente de escucha de grupo de disponibilidad &#40;SQL Server&#41;</span><span class="sxs-lookup"><span data-stu-id="32562-444">Create or Configure an Availability Group Listener &#40;SQL Server&#41;</span></span>](create-or-configure-an-availability-group-listener-sql-server.md)|  
|<span data-ttu-id="32562-445">Quitar un grupo de disponibilidad</span><span class="sxs-lookup"><span data-stu-id="32562-445">Dropping an  availability group</span></span>|[<span data-ttu-id="32562-446">Quitar un grupo de disponibilidad &#40;SQL Server&#41;</span><span class="sxs-lookup"><span data-stu-id="32562-446">Remove an Availability Group &#40;SQL Server&#41;</span></span>](remove-an-availability-group-sql-server.md)|  
  
##  <a name="availability-database-prerequisites-and-restrictions"></a><a name="PrerequisitesForDbs"></a> <span data-ttu-id="32562-447">Requisitos previos y restricciones de las bases de datos de disponibilidad</span><span class="sxs-lookup"><span data-stu-id="32562-447">Availability Database Prerequisites and Restrictions</span></span>  
 <span data-ttu-id="32562-448">Para poder agregar una base de datos a un grupo de disponibilidad, la base de datos debe cumplir los requisitos previos y restricciones siguientes.</span><span class="sxs-lookup"><span data-stu-id="32562-448">To be eligible to be added to an availability group, a database must meet the following prerequisites and restrictions.</span></span>  
  
 
  
###  <a name="checklist-requirements-availability-databases"></a><a name="RequirementsDb"></a> <span data-ttu-id="32562-449">Lista de comprobación: Requisitos (bases de datos de disponibilidad)</span><span class="sxs-lookup"><span data-stu-id="32562-449">Checklist: Requirements (Availability Databases)</span></span>  
 <span data-ttu-id="32562-450">Para poder agregarse a un grupo de disponibilidad, una base de datos debe:</span><span class="sxs-lookup"><span data-stu-id="32562-450">To be eligible to be added to an availability group, a database must:</span></span>  
  
||<span data-ttu-id="32562-451">Requisitos</span><span class="sxs-lookup"><span data-stu-id="32562-451">Requirements</span></span>|<span data-ttu-id="32562-452">Vínculo</span><span class="sxs-lookup"><span data-stu-id="32562-452">Link</span></span>|  
|-|------------------|----------|  
|<span data-ttu-id="32562-453">![Casilla de verificación](../../media/checkboxemptycenterxtraspacetopandright.gif "Casilla de verificación")</span><span class="sxs-lookup"><span data-stu-id="32562-453">![Checkbox](../../media/checkboxemptycenterxtraspacetopandright.gif "Checkbox")</span></span>|<span data-ttu-id="32562-454">Ser una base de datos de usuario.</span><span class="sxs-lookup"><span data-stu-id="32562-454">Be a user database.</span></span> <span data-ttu-id="32562-455">Las bases de datos del sistema no pueden pertenecer a un grupo de disponibilidad.</span><span class="sxs-lookup"><span data-stu-id="32562-455">System databases cannot belong to an availability group.</span></span>||  
|<span data-ttu-id="32562-456">![Casilla de verificación](../../media/checkboxemptycenterxtraspacetopandright.gif "Casilla de verificación")</span><span class="sxs-lookup"><span data-stu-id="32562-456">![Checkbox](../../media/checkboxemptycenterxtraspacetopandright.gif "Checkbox")</span></span>|<span data-ttu-id="32562-457">Residir en la instancia de [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] donde esté creando el grupo de disponibilidad y ser accesible a la instancia del servidor.</span><span class="sxs-lookup"><span data-stu-id="32562-457">Reside on the instance of [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] where you create the availability group and be accessible to the server instance.</span></span>||  
|<span data-ttu-id="32562-458">![Casilla de verificación](../../media/checkboxemptycenterxtraspacetopandright.gif "Casilla de verificación")</span><span class="sxs-lookup"><span data-stu-id="32562-458">![Checkbox](../../media/checkboxemptycenterxtraspacetopandright.gif "Checkbox")</span></span>|<span data-ttu-id="32562-459">Ser una base de datos de lectura y escritura.</span><span class="sxs-lookup"><span data-stu-id="32562-459">Be a read-write database.</span></span> <span data-ttu-id="32562-460">Las bases de datos de solo lectura no se pueden agregar a un grupo de disponibilidad.</span><span class="sxs-lookup"><span data-stu-id="32562-460">Read-only databases cannot be added to an availability group.</span></span>|<span data-ttu-id="32562-461">[sys.databases](/sql/relational-databases/system-catalog-views/sys-databases-transact-sql) (**is_read_only** = 0)</span><span class="sxs-lookup"><span data-stu-id="32562-461">[sys.databases](/sql/relational-databases/system-catalog-views/sys-databases-transact-sql) (**is_read_only** = 0)</span></span>|  
|<span data-ttu-id="32562-462">![Casilla de verificación](../../media/checkboxemptycenterxtraspacetopandright.gif "Casilla de verificación")</span><span class="sxs-lookup"><span data-stu-id="32562-462">![Checkbox](../../media/checkboxemptycenterxtraspacetopandright.gif "Checkbox")</span></span>|<span data-ttu-id="32562-463">Ser una base de datos multiusuario.</span><span class="sxs-lookup"><span data-stu-id="32562-463">Be a multi-user database.</span></span>|<span data-ttu-id="32562-464">[sys.databases](/sql/relational-databases/system-catalog-views/sys-databases-transact-sql) (**user_access** = 0)</span><span class="sxs-lookup"><span data-stu-id="32562-464">[sys.databases](/sql/relational-databases/system-catalog-views/sys-databases-transact-sql) (**user_access** = 0)</span></span>|  
|<span data-ttu-id="32562-465">![Casilla de verificación](../../media/checkboxemptycenterxtraspacetopandright.gif "Casilla de verificación")</span><span class="sxs-lookup"><span data-stu-id="32562-465">![Checkbox](../../media/checkboxemptycenterxtraspacetopandright.gif "Checkbox")</span></span>|<span data-ttu-id="32562-466">No utilizar AUTO_CLOSE.</span><span class="sxs-lookup"><span data-stu-id="32562-466">Not use AUTO_CLOSE.</span></span>|<span data-ttu-id="32562-467">[sys.databases](/sql/relational-databases/system-catalog-views/sys-databases-transact-sql) (**is_auto_close_on** = 0)</span><span class="sxs-lookup"><span data-stu-id="32562-467">[sys.databases](/sql/relational-databases/system-catalog-views/sys-databases-transact-sql) (**is_auto_close_on** = 0)</span></span>|  
|<span data-ttu-id="32562-468">![Casilla de verificación](../../media/checkboxemptycenterxtraspacetopandright.gif "Casilla de verificación")</span><span class="sxs-lookup"><span data-stu-id="32562-468">![Checkbox](../../media/checkboxemptycenterxtraspacetopandright.gif "Checkbox")</span></span>|<span data-ttu-id="32562-469">Utilice el modelo de recuperación completa (también conocido como modo de recuperación completa).</span><span class="sxs-lookup"><span data-stu-id="32562-469">Use the full recovery model (also known as, full recovery mode).</span></span>|<span data-ttu-id="32562-470">[sys.databases](/sql/relational-databases/system-catalog-views/sys-databases-transact-sql) (**recovery_model** = 1)</span><span class="sxs-lookup"><span data-stu-id="32562-470">[sys.databases](/sql/relational-databases/system-catalog-views/sys-databases-transact-sql) (**recovery_model** = 1)</span></span>|  
|<span data-ttu-id="32562-471">![Casilla de verificación](../../media/checkboxemptycenterxtraspacetopandright.gif "Casilla de verificación")</span><span class="sxs-lookup"><span data-stu-id="32562-471">![Checkbox](../../media/checkboxemptycenterxtraspacetopandright.gif "Checkbox")</span></span>|<span data-ttu-id="32562-472">Posea al menos una copia de seguridad completa de la base de datos.</span><span class="sxs-lookup"><span data-stu-id="32562-472">Possess at least one full database backup.</span></span><br /><br /> <span data-ttu-id="32562-473">Nota: Después de establecer una base de datos en modo de recuperación completa, se requiere una copia de seguridad completa para iniciar la cadena de registros de recuperación completa.</span><span class="sxs-lookup"><span data-stu-id="32562-473">Note: After setting a database to full recovery mode, a full backup is required to initiate the full-recovery log chain.</span></span>|[<span data-ttu-id="32562-474">Crear una copia de seguridad completa de base de datos &#40;SQL Server&#41;</span><span class="sxs-lookup"><span data-stu-id="32562-474">Create a Full Database Backup &#40;SQL Server&#41;</span></span>](../../../relational-databases/backup-restore/create-a-full-database-backup-sql-server.md)|  
|<span data-ttu-id="32562-475">![Casilla de verificación](../../media/checkboxemptycenterxtraspacetopandright.gif "Casilla de verificación")</span><span class="sxs-lookup"><span data-stu-id="32562-475">![Checkbox](../../media/checkboxemptycenterxtraspacetopandright.gif "Checkbox")</span></span>|<span data-ttu-id="32562-476">No pertenecer a ningún grupo de disponibilidad existente</span><span class="sxs-lookup"><span data-stu-id="32562-476">Not belong to any existing availability group.</span></span>|<span data-ttu-id="32562-477">[sys.databases](/sql/relational-databases/system-catalog-views/sys-databases-transact-sql) (**group_database_id** = NULL)</span><span class="sxs-lookup"><span data-stu-id="32562-477">[sys.databases](/sql/relational-databases/system-catalog-views/sys-databases-transact-sql) (**group_database_id** = NULL)</span></span>|  
|<span data-ttu-id="32562-478">![Casilla de verificación](../../media/checkboxemptycenterxtraspacetopandright.gif "Casilla de verificación")</span><span class="sxs-lookup"><span data-stu-id="32562-478">![Checkbox](../../media/checkboxemptycenterxtraspacetopandright.gif "Checkbox")</span></span>|<span data-ttu-id="32562-479">No estar configurada para la creación de reflejo de la base de datos.</span><span class="sxs-lookup"><span data-stu-id="32562-479">Not be configured for database mirroring.</span></span>|<span data-ttu-id="32562-480">[sys.database_mirroring](/sql/relational-databases/system-catalog-views/sys-database-mirroring-transact-sql) (si la base de datos no participa en la creación de reflejo, todas las columnas con el prefijo “mirroring_” son NULL).</span><span class="sxs-lookup"><span data-stu-id="32562-480">[sys.database_mirroring](/sql/relational-databases/system-catalog-views/sys-database-mirroring-transact-sql) (If the database does not participate in mirroring, all columns prefixed with "mirroring_" are NULL.)</span></span>|  
|<span data-ttu-id="32562-481">![Casilla de verificación](../../media/checkboxemptycenterxtraspacetopandright.gif "Casilla de verificación")</span><span class="sxs-lookup"><span data-stu-id="32562-481">![Checkbox](../../media/checkboxemptycenterxtraspacetopandright.gif "Checkbox")</span></span>|<span data-ttu-id="32562-482">Para poder agregar una base de datos que usa FILESTREAM a un grupo de disponibilidad, asegúrese de que FILESTREAM está habilitado en cada instancia del servidor que hospeda o que hospedará una réplica de disponibilidad para el grupo de disponibilidad.</span><span class="sxs-lookup"><span data-stu-id="32562-482">Before adding a database that uses FILESTREAM to an availability group, ensure that FILESTREAM is enabled on every server instance that hosts or will host an availability replica for the availability group.</span></span>|[<span data-ttu-id="32562-483">Enable and Configure FILESTREAM</span><span class="sxs-lookup"><span data-stu-id="32562-483">Enable and Configure FILESTREAM</span></span>](../../../relational-databases/blob/enable-and-configure-filestream.md)|  
|<span data-ttu-id="32562-484">![Casilla de verificación](../../media/checkboxemptycenterxtraspacetopandright.gif "Casilla de verificación")</span><span class="sxs-lookup"><span data-stu-id="32562-484">![Checkbox](../../media/checkboxemptycenterxtraspacetopandright.gif "Checkbox")</span></span>|<span data-ttu-id="32562-485">Antes de agregar una base de datos independiente a un grupo de disponibilidad, asegúrese de que la opción de servidor `contained database authentication` está establecida en `1` en cada instancia del servidor que hospeda o que hospedará una réplica de disponibilidad para el grupo de disponibilidad.</span><span class="sxs-lookup"><span data-stu-id="32562-485">Before adding a contained database to an availability group, ensure that the `contained database authentication` server option is set to `1` on every server instance that hosts or will host an availability replica for the availability group.</span></span>|[<span data-ttu-id="32562-486">contained database authentication (opción de configuración del servidor)</span><span class="sxs-lookup"><span data-stu-id="32562-486">contained database authentication Server Configuration Option</span></span>](../../configure-windows/contained-database-authentication-server-configuration-option.md)<br /><br /> [<span data-ttu-id="32562-487">Opciones de configuración de servidor &#40;SQL Server&#41;</span><span class="sxs-lookup"><span data-stu-id="32562-487">Server Configuration Options &#40;SQL Server&#41;</span></span>](../../configure-windows/server-configuration-options-sql-server.md)|  
  
> [!NOTE]  
>  [!INCLUDE[ssHADR](../../../includes/sshadr-md.md)] <span data-ttu-id="32562-488">funciona con cualquier nivel de compatibilidad con bases de datos.</span><span class="sxs-lookup"><span data-stu-id="32562-488">works with any supported database compatibility level.</span></span>  
  
###  <a name="restrictions-availability-databases"></a><a name="RestrictionsDb"></a> <span data-ttu-id="32562-489">Restricciones (bases de datos de disponibilidad)</span><span class="sxs-lookup"><span data-stu-id="32562-489">Restrictions (Availability Databases)</span></span>  
  
-   <span data-ttu-id="32562-490">Si la ruta de acceso de archivo (incluida la letra de unidad) de una base de datos secundaria es diferente de la ruta de acceso de la base de datos principal correspondiente, se aplican las restricciones siguientes:</span><span class="sxs-lookup"><span data-stu-id="32562-490">If the file path (including the drive letter) of a secondary database differs from the path of the corresponding primary database, the following restrictions apply:</span></span>  
  
    -   <span data-ttu-id="32562-491">**[!INCLUDE[ssAoNewAgWiz](../../../includes/ssaonewagwiz-md.md)]/[!INCLUDE[ssAoAddDbWiz](../../../includes/ssaoadddbwiz-md.md)]:**  La opción **Completa** no es compatible (en la [página Seleccionar sincronización de datos iniciales](select-initial-data-synchronization-page-always-on-availability-group-wizards.md)),</span><span class="sxs-lookup"><span data-stu-id="32562-491">**[!INCLUDE[ssAoNewAgWiz](../../../includes/ssaonewagwiz-md.md)]/[!INCLUDE[ssAoAddDbWiz](../../../includes/ssaoadddbwiz-md.md)]:**  The **Full** option is not supported (on the[Select Initial Data Synchronization Page](select-initial-data-synchronization-page-always-on-availability-group-wizards.md) page),</span></span>  
  
    -   <span data-ttu-id="32562-492">**RESTORE WITH MOVE:**  para crear las bases de datos secundarias, se debe aplicar RESTORE WITH MOVE a todas las instancias de [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] que hospeden una réplica secundaria.</span><span class="sxs-lookup"><span data-stu-id="32562-492">**RESTORE WITH MOVE:**  To create the secondary databases, the database files must be RESTORED WITH MOVE on each instance of [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] that hosts a secondary replica.</span></span>  
  
    -   <span data-ttu-id="32562-493">**Impacto en las operaciones de agregar archivos:**  una operación de agregar archivos posterior en la réplica principal podría producir un error en las bases de datos secundarias.</span><span class="sxs-lookup"><span data-stu-id="32562-493">**Impact on add-file operations:**  A later add-file operation on the primary replica might fail on the secondary databases.</span></span> <span data-ttu-id="32562-494">Este error puede causar la suspensión de las bases de datos secundarias.</span><span class="sxs-lookup"><span data-stu-id="32562-494">This failure could cause the secondary databases to be suspended.</span></span> <span data-ttu-id="32562-495">Esto, a su vez, hace que las réplicas secundarias entren en el estado NOT SYNCHRONIZING.</span><span class="sxs-lookup"><span data-stu-id="32562-495">This, in turn, causes the secondary replicas to enter the NOT SYNCHRONIZING state.</span></span>  
  
        > [!NOTE]  
        >  <span data-ttu-id="32562-496">Para más información sobre cómo responder a una operación de adición de archivos errónea, vea [Solucionar problemas relativos a una operación de agregar archivos con error &#40;grupos de disponibilidad AlwaysOn&#41;](troubleshoot-a-failed-add-file-operation-always-on-availability-groups.md).</span><span class="sxs-lookup"><span data-stu-id="32562-496">For information about responding to a failed ad-file operation, see [Troubleshoot a Failed Add-File Operation &#40;AlwaysOn Availability Groups&#41;](troubleshoot-a-failed-add-file-operation-always-on-availability-groups.md).</span></span>  
  
-   <span data-ttu-id="32562-497">No se puede quitar una base de datos que pertenezca actualmente a un grupo de disponibilidad.</span><span class="sxs-lookup"><span data-stu-id="32562-497">You cannot drop a database that currently belongs to an availability group.</span></span>  
  
###  <a name="follow-up-for-tde-protected-databases"></a><a name="TDEdbs"></a> <span data-ttu-id="32562-498">Seguimiento de las bases de datos protegidas por TDE</span><span class="sxs-lookup"><span data-stu-id="32562-498">Follow Up for TDE Protected Databases</span></span>  
 <span data-ttu-id="32562-499">Si usa cifrado de datos transparente (TDE), la clave de certificado o asimétrica para crear y descifrar otras claves debe ser la misma en todas las instancias de servidor que hospedan una réplica de disponibilidad para el grupo de disponibilidad.</span><span class="sxs-lookup"><span data-stu-id="32562-499">If you use transparent data encryption (TDE), the certificate or asymmetric key for creating and decrypting other keys must be the same on every server instance that hosts an availability replica for the availability group.</span></span> <span data-ttu-id="32562-500">Para obtener más información, vea [Mover una base de datos protegida por TDE a otra instancia de SQL Server](../../../relational-databases/security/encryption/move-a-tde-protected-database-to-another-sql-server.md).</span><span class="sxs-lookup"><span data-stu-id="32562-500">For more information, see [Move a TDE Protected Database to Another SQL Server](../../../relational-databases/security/encryption/move-a-tde-protected-database-to-another-sql-server.md).</span></span>  
  
###  <a name="permissions-availability-databases"></a><a name="PermissionsDbs"></a> <span data-ttu-id="32562-501">Permisos (bases de datos de disponibilidad)</span><span class="sxs-lookup"><span data-stu-id="32562-501">Permissions (Availability Databases)</span></span>  
 <span data-ttu-id="32562-502">Requiere el permiso ALTER en la base de datos.</span><span class="sxs-lookup"><span data-stu-id="32562-502">Requires ALTER permission on the database.</span></span>  
  
###  <a name="related-tasks-availability-databases"></a><a name="RelatedTasksADb"></a> <span data-ttu-id="32562-503">Tareas relacionadas (bases de datos de disponibilidad)</span><span class="sxs-lookup"><span data-stu-id="32562-503">Related Tasks (Availability Databases)</span></span>  
  
|<span data-ttu-id="32562-504">Tarea</span><span class="sxs-lookup"><span data-stu-id="32562-504">Task</span></span>|<span data-ttu-id="32562-505">Tema</span><span class="sxs-lookup"><span data-stu-id="32562-505">Topic</span></span>|  
|----------|-----------|  
|<span data-ttu-id="32562-506">Preparar una base de datos secundaria (manualmente)</span><span class="sxs-lookup"><span data-stu-id="32562-506">Preparing a secondary database (manually)</span></span>|[<span data-ttu-id="32562-507">Preparar manualmente una base de datos secundaria para un grupo de disponibilidad &#40;SQL Server&#41;</span><span class="sxs-lookup"><span data-stu-id="32562-507">Manually Prepare a Secondary Database for an Availability Group &#40;SQL Server&#41;</span></span>](manually-prepare-a-secondary-database-for-an-availability-group-sql-server.md)|  
|<span data-ttu-id="32562-508">Combinar una base de datos secundaria con un grupo de disponibilidad (manualmente)</span><span class="sxs-lookup"><span data-stu-id="32562-508">Joining a secondary database to availability group (manually)</span></span>|[<span data-ttu-id="32562-509">Combinar una base de datos secundaria con un grupo de disponibilidad &#40;SQL Server&#41;</span><span class="sxs-lookup"><span data-stu-id="32562-509">Join a Secondary Database to an Availability Group &#40;SQL Server&#41;</span></span>](join-a-secondary-database-to-an-availability-group-sql-server.md)|  
|<span data-ttu-id="32562-510">Modificar el número de bases de datos de disponibilidad</span><span class="sxs-lookup"><span data-stu-id="32562-510">Modifying the number of availability databases</span></span>|[<span data-ttu-id="32562-511">Agregar una base de datos a un grupo de disponibilidad &#40;SQL Server&#41;</span><span class="sxs-lookup"><span data-stu-id="32562-511">Add a Database to an Availability Group &#40;SQL Server&#41;</span></span>](availability-group-add-a-database.md)<br /><br /> [<span data-ttu-id="32562-512">Quitar una base de datos secundaria de un grupo de disponibilidad &#40;SQL Server&#41;</span><span class="sxs-lookup"><span data-stu-id="32562-512">Remove a Secondary Database from an Availability Group &#40;SQL Server&#41;</span></span>](remove-a-secondary-database-from-an-availability-group-sql-server.md)<br /><br /> [<span data-ttu-id="32562-513">Quitar una base de datos principal de un grupo de disponibilidad &#40;SQL Server&#41;</span><span class="sxs-lookup"><span data-stu-id="32562-513">Remove a Primary Database from an Availability Group &#40;SQL Server&#41;</span></span>](remove-a-primary-database-from-an-availability-group-sql-server.md)|  
  
##  <a name="related-content"></a><a name="RelatedContent"></a> <span data-ttu-id="32562-514">Contenido relacionado</span><span class="sxs-lookup"><span data-stu-id="32562-514">Related Content</span></span>  
  
-   [<span data-ttu-id="32562-515">Guía de soluciones AlwaysOn de Microsoft SQL Server para lograr alta disponibilidad y recuperación ante desastres</span><span class="sxs-lookup"><span data-stu-id="32562-515">Microsoft SQL Server AlwaysOn Solutions Guide for High Availability and Disaster Recovery</span></span>](https://go.microsoft.com/fwlink/?LinkId=227600)  
  
-   [<span data-ttu-id="32562-516">Blog del equipo de AlwaysOn de SQL Server: el blog del equipo de AlwaysOn oficial de SQL Server</span><span class="sxs-lookup"><span data-stu-id="32562-516">SQL Server AlwaysOn Team Blog: The official SQL Server AlwaysOn Team Blog</span></span>](https://blogs.msdn.com/b/sqlalwayson/)  
  
-   [<span data-ttu-id="32562-517">Series de aprendizaje de AlwaysON - HADRON: uso del grupo de trabajo para las bases de datos compatibles con HADRON</span><span class="sxs-lookup"><span data-stu-id="32562-517">AlwaysON - HADRON Learning Series: Worker Pool Usage for HADRON Enabled Databases</span></span>](https://blogs.msdn.com/b/psssql/archive/2012/05/17/alwayson-hadron-learning-series-worker-pool-usage-for-hadron-enabled-databases.aspx)  
  
## <a name="see-also"></a><span data-ttu-id="32562-518">Consulte también</span><span class="sxs-lookup"><span data-stu-id="32562-518">See Also</span></span>  
 <span data-ttu-id="32562-519">[Información general de Grupos de disponibilidad AlwaysOn &#40;SQL Server&#41;](overview-of-always-on-availability-groups-sql-server.md) </span><span class="sxs-lookup"><span data-stu-id="32562-519">[Overview of AlwaysOn Availability Groups &#40;SQL Server&#41;](overview-of-always-on-availability-groups-sql-server.md) </span></span>  
 <span data-ttu-id="32562-520">[Clústeres de conmutación por error y &#40;de Grupos de disponibilidad AlwaysOn SQL Server&#41;](failover-clustering-and-always-on-availability-groups-sql-server.md) </span><span class="sxs-lookup"><span data-stu-id="32562-520">[Failover Clustering and AlwaysOn Availability Groups &#40;SQL Server&#41;](failover-clustering-and-always-on-availability-groups-sql-server.md) </span></span>  
 [<span data-ttu-id="32562-521">Conectividad de cliente de AlwaysOn (SQL Server)</span><span class="sxs-lookup"><span data-stu-id="32562-521">AlwaysOn Client Connectivity (SQL Server)</span></span>](always-on-client-connectivity-sql-server.md)  
  
  
