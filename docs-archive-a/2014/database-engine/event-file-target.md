---
title: Destino de archivo de eventos | Microsoft Docs
ms.custom: ''
ms.date: 06/13/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: database-engine
ms.topic: conceptual
helpviewer_keywords:
- event file target
- file target [SQL Server extended events]
- targets [SQL Server extended events], file target
ms.assetid: 4f0ee6ec-a0a8-4c38-aa61-8293ab6ac7fd
author: mashamsft
ms.author: mathoma
ms.openlocfilehash: 1a64236b3874543982be5abbd8e60d8169082a1e
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 08/04/2020
ms.locfileid: "87746430"
---
# <a name="event-file-target"></a><span data-ttu-id="3bd2e-102">Event File Target</span><span class="sxs-lookup"><span data-stu-id="3bd2e-102">Event File Target</span></span>
  <span data-ttu-id="3bd2e-103">El destino de archivo de eventos es un destino que escribe búferes completos en el disco.</span><span class="sxs-lookup"><span data-stu-id="3bd2e-103">The event file target is a target that writes complete buffers to disk.</span></span>  
  
 <span data-ttu-id="3bd2e-104">En la tabla siguiente se describen las opciones disponibles para configurar el destino de archivo de eventos.</span><span class="sxs-lookup"><span data-stu-id="3bd2e-104">The following table describes the available options for configuring the event file target.</span></span>  
  
|<span data-ttu-id="3bd2e-105">Opción</span><span class="sxs-lookup"><span data-stu-id="3bd2e-105">Option</span></span>|<span data-ttu-id="3bd2e-106">Valores permitidos</span><span class="sxs-lookup"><span data-stu-id="3bd2e-106">Allowed values</span></span>|<span data-ttu-id="3bd2e-107">Descripción</span><span class="sxs-lookup"><span data-stu-id="3bd2e-107">Description</span></span>|  
|------------|--------------------|-----------------|  
|<span data-ttu-id="3bd2e-108">filename</span><span class="sxs-lookup"><span data-stu-id="3bd2e-108">filename</span></span>|<span data-ttu-id="3bd2e-109">Cualquier cadena de 260 caracteres, como máximo.</span><span class="sxs-lookup"><span data-stu-id="3bd2e-109">Any string up to 260 characters.</span></span> <span data-ttu-id="3bd2e-110">Este valor es necesario.</span><span class="sxs-lookup"><span data-stu-id="3bd2e-110">This value is required.</span></span>|<span data-ttu-id="3bd2e-111">La ubicación y el nombre del archivo.</span><span class="sxs-lookup"><span data-stu-id="3bd2e-111">The file location and filename.</span></span><br /><br /> <span data-ttu-id="3bd2e-112">Puede utilizar cualquier extensión de nombre de archivo.</span><span class="sxs-lookup"><span data-stu-id="3bd2e-112">You can use any filename extension.</span></span>|  
|<span data-ttu-id="3bd2e-113">max_file_size</span><span class="sxs-lookup"><span data-stu-id="3bd2e-113">max_file_size</span></span>|<span data-ttu-id="3bd2e-114">Cualquier entero de 64 bits.</span><span class="sxs-lookup"><span data-stu-id="3bd2e-114">Any 64 bit integer.</span></span> <span data-ttu-id="3bd2e-115">Este valor es opcional.</span><span class="sxs-lookup"><span data-stu-id="3bd2e-115">This value is optional.</span></span>|<span data-ttu-id="3bd2e-116">El tamaño máximo del archivo en megabytes (MB).</span><span class="sxs-lookup"><span data-stu-id="3bd2e-116">The maximum file size in megabytes (MB).</span></span> <span data-ttu-id="3bd2e-117">Si no se especifica max_file_size, el archivo crecerá hasta que se llene el disco.</span><span class="sxs-lookup"><span data-stu-id="3bd2e-117">If max_file_size is not specified, the file will grow until the disk is full.</span></span> <span data-ttu-id="3bd2e-118">El tamaño de archivo predeterminado es 1GB.</span><span class="sxs-lookup"><span data-stu-id="3bd2e-118">The default file size is 1GB.</span></span><br /><br /> <span data-ttu-id="3bd2e-119">max_file_size debe ser mayor que el tamaño actual de los búferes de sesión.</span><span class="sxs-lookup"><span data-stu-id="3bd2e-119">max_file_size must be larger than the current size of the session buffers.</span></span> <span data-ttu-id="3bd2e-120">Si no lo es, el destino del archivo no podrá inicializarse y se notificará que max_file_size no es válido.</span><span class="sxs-lookup"><span data-stu-id="3bd2e-120">If it is not, the file target will fail to initialize, reporting that the max_file_size is invalid.</span></span> <span data-ttu-id="3bd2e-121">Para ver el tamaño actual de los búferes, vea la columna buffer_size en la vista de administración dinámica [sys.dm_xe_sessions](/sql/relational-databases/system-dynamic-management-views/sys-dm-xe-sessions-transact-sql) .</span><span class="sxs-lookup"><span data-stu-id="3bd2e-121">To view the current size of the buffers, query the buffer_size column in the [sys.dm_xe_sessions](/sql/relational-databases/system-dynamic-management-views/sys-dm-xe-sessions-transact-sql) dynamic management view.</span></span><br /><br /> <span data-ttu-id="3bd2e-122">Si el tamaño de archivo predeterminado es menor que el tamaño de búfer de la sesión, se recomienda establecer max_file_size en el valor especificado en la columna max_memory de la vista de catálogo [sys.server_event_sessions](/sql/relational-databases/system-catalog-views/sys-server-event-sessions-transact-sql) .</span><span class="sxs-lookup"><span data-stu-id="3bd2e-122">If the default file size is smaller than the session buffer size, we recommend setting max_file_size to the value specified in the max_memory column in the [sys.server_event_sessions](/sql/relational-databases/system-catalog-views/sys-server-event-sessions-transact-sql) catalog view.</span></span><br /><br /> <span data-ttu-id="3bd2e-123">Cuando max_file_size se establece en un tamaño mayor que el de los búferes de la sesión, se puede redondear hacia abajo al múltiplo más próximo del tamaño de búfer de la sesión.</span><span class="sxs-lookup"><span data-stu-id="3bd2e-123">When max_file_size is set to a size larger than the size of the session buffers, it may be rounded down to the nearest multiple of the session buffer size.</span></span> <span data-ttu-id="3bd2e-124">De esta forma puede crearse un archivo de destino que sea menor que el valor especificado para max_file_size.</span><span class="sxs-lookup"><span data-stu-id="3bd2e-124">This may create a target file that is smaller than the specified value of max_file_size.</span></span> <span data-ttu-id="3bd2e-125">Por ejemplo, si el tamaño del búfer es de 100 MB y max_file_size está establecido en 150 MB, el tamaño de archivo resultante se redondea hacia abajo a 100 MB porque un segundo búfer no cabría en los 50 MB de espacio restantes.</span><span class="sxs-lookup"><span data-stu-id="3bd2e-125">For example, if the buffer size is 100MB and max_file_size is set to 150MB, the resultant file size is rounded down to 100MB because a second buffer would not fit in the remaining 50MB of space.</span></span><br /><br /> <span data-ttu-id="3bd2e-126">Si el tamaño de archivo predeterminado es menor que el tamaño de búfer de la sesión, se recomienda establecer max_file_size en el valor de la columna max_memory de la vista de catálogo [sys.server_event_sessions](/sql/relational-databases/system-catalog-views/sys-server-event-sessions-transact-sql) .</span><span class="sxs-lookup"><span data-stu-id="3bd2e-126">If the default file size is smaller than the session buffer size, we recommend setting max_file_size to the value in the max_memory column in the [sys.server_event_sessions](/sql/relational-databases/system-catalog-views/sys-server-event-sessions-transact-sql) catalog view.</span></span>|  
|<span data-ttu-id="3bd2e-127">max_rollover_files</span><span class="sxs-lookup"><span data-stu-id="3bd2e-127">max_rollover_files</span></span>|<span data-ttu-id="3bd2e-128">Cualquier entero de 32 bits.</span><span class="sxs-lookup"><span data-stu-id="3bd2e-128">Any 32 bit integer.</span></span> <span data-ttu-id="3bd2e-129">Este valor es opcional.</span><span class="sxs-lookup"><span data-stu-id="3bd2e-129">This value is optional.</span></span>|<span data-ttu-id="3bd2e-130">El número máximo de archivos que se desean conservar en el sistema de archivos.</span><span class="sxs-lookup"><span data-stu-id="3bd2e-130">The maximum number of files to retain in the file system.</span></span> <span data-ttu-id="3bd2e-131">El valor predeterminado es 5.</span><span class="sxs-lookup"><span data-stu-id="3bd2e-131">The default value is 5.</span></span>|  
|<span data-ttu-id="3bd2e-132">incremento</span><span class="sxs-lookup"><span data-stu-id="3bd2e-132">increment</span></span>|<span data-ttu-id="3bd2e-133">Cualquier entero de 32 bits.</span><span class="sxs-lookup"><span data-stu-id="3bd2e-133">Any 32 bit integer.</span></span> <span data-ttu-id="3bd2e-134">Este valor es opcional.</span><span class="sxs-lookup"><span data-stu-id="3bd2e-134">This value is optional.</span></span>|<span data-ttu-id="3bd2e-135">El crecimiento incremental, en megabytes (MB), para el archivo.</span><span class="sxs-lookup"><span data-stu-id="3bd2e-135">The incremental growth, in megabytes (MB), for the file.</span></span> <span data-ttu-id="3bd2e-136">Si no se especifica, el valor predeterminado para el incremento es dos veces el tamaño del búfer de la sesión.</span><span class="sxs-lookup"><span data-stu-id="3bd2e-136">If unspecified, the default value for increment is twice the session buffer size.</span></span>|  
  
 <span data-ttu-id="3bd2e-137">La primera vez que se crea un destino de archivo de eventos, al nombre de archivo que especifique se le anexa _0\_ y un valor entero largo.</span><span class="sxs-lookup"><span data-stu-id="3bd2e-137">The first time that an event file target is created, the filename you specify is appended with _0\_ and a long integer value.</span></span> <span data-ttu-id="3bd2e-138">El valor entero se calcula como el número de milisegundos entre el 1 de enero de 1601 y la fecha y la hora en que se creó el archivo.</span><span class="sxs-lookup"><span data-stu-id="3bd2e-138">The integer value is calculated as the number of milliseconds between January 1, 1601 and the date and time the file is created.</span></span> <span data-ttu-id="3bd2e-139">Los archivos de sustitución incremental siguientes también utilizan este formato.</span><span class="sxs-lookup"><span data-stu-id="3bd2e-139">Subsequent rollover files also use this format.</span></span> <span data-ttu-id="3bd2e-140">Al examinar el valor del entero largo, puede determinar el archivo más actual.</span><span class="sxs-lookup"><span data-stu-id="3bd2e-140">From examining the value of the long integer, you can determine the most current file.</span></span> <span data-ttu-id="3bd2e-141">En el ejemplo siguiente se muestra cómo se denominan los archivos de sustitución incremental en un escenario en el que la opción de nombre de archivo se especifica como C:\OutputFiles\MyOutput.xel:</span><span class="sxs-lookup"><span data-stu-id="3bd2e-141">The following example illustrates how files are named in a scenario where you specify the filename option as C:\OutputFiles\MyOutput.xel:</span></span>  
  
-   <span data-ttu-id="3bd2e-142">primer archivo creado - C:\OutputFiles\MyOutput_0_128500310259380000.xel</span><span class="sxs-lookup"><span data-stu-id="3bd2e-142">first file created - C:\OutputFiles\MyOutput_0_128500310259380000.xel</span></span>  
  
-   <span data-ttu-id="3bd2e-143">primer archivo de sustitución incremental - C:\OutputFiles\MyOutput_0_128505831770890000.xel</span><span class="sxs-lookup"><span data-stu-id="3bd2e-143">first rollover file - C:\OutputFiles\MyOutput_0_128505831770890000.xel</span></span>  
  
-   <span data-ttu-id="3bd2e-144">segundo archivo de sustitución incremental - C:\OutputFiles\MyOutput_0_132410772966237000.xel</span><span class="sxs-lookup"><span data-stu-id="3bd2e-144">second rollover file - C:\OutputFiles\MyOutput_0_132410772966237000.xel</span></span>  
  
## <a name="adding-the-target-to-a-session"></a><span data-ttu-id="3bd2e-145">Agregar el destino a una sesión</span><span class="sxs-lookup"><span data-stu-id="3bd2e-145">Adding the Target to a Session</span></span>  
 <span data-ttu-id="3bd2e-146">Para agregar el archivo de evento de destino a una sesión de Eventos extendidos, incluiría las siguientes instrucciones al crear o modificar una sesión de eventos, reemplazando *file_name* por el nombre de archivo y la ruta de acceso que quiera:</span><span class="sxs-lookup"><span data-stu-id="3bd2e-146">To add the event file target to an Extended Events session, you would include the following statements when you create or alter an event session, replacing *file_name* with the desired file name and path:</span></span>  
  
```  
ADD TARGET package0.event_file(  
   SET filename='file_name.xel')  
```  
  
## <a name="reviewing-the-target-output"></a><span data-ttu-id="3bd2e-147">Revisar la salida del destino</span><span class="sxs-lookup"><span data-stu-id="3bd2e-147">Reviewing the Target Output</span></span>  
 <span data-ttu-id="3bd2e-148">Para revisar el resultado del destino del archivo, debe usar la función sys.fn_xe_file_target_read_file.</span><span class="sxs-lookup"><span data-stu-id="3bd2e-148">To review the output from the file target, you must use the sys.fn_xe_file_target_read_file function.</span></span> <span data-ttu-id="3bd2e-149">Recomendamos convertir los datos en XML.</span><span class="sxs-lookup"><span data-stu-id="3bd2e-149">We recommend that you cast the data as XML.</span></span> <span data-ttu-id="3bd2e-150">Puede usar la siguiente sintaxis, reemplazando *file_name* por el nombre de archivo y la ruta de acceso que especificó cuando agregó el destino:</span><span class="sxs-lookup"><span data-stu-id="3bd2e-150">You can use the following syntax, replacing *file_name* with the file name and path that you specified when you added the target:</span></span>  
  
```  
SELECT *, CAST(event_data AS XML) AS 'event_data_XML'  
FROM sys.fn_xe_file_target_read_file('file_name*.xel', NULL, NULL, NULL)  
```  
  
## <a name="see-also"></a><span data-ttu-id="3bd2e-151">Consulte también</span><span class="sxs-lookup"><span data-stu-id="3bd2e-151">See Also</span></span>  
 <span data-ttu-id="3bd2e-152">[Destinos de SQL Server Extended Events](../../2014/database-engine/sql-server-extended-events-targets.md) </span><span class="sxs-lookup"><span data-stu-id="3bd2e-152">[SQL Server Extended Events Targets](../../2014/database-engine/sql-server-extended-events-targets.md) </span></span>  
 <span data-ttu-id="3bd2e-153">[Sys. fn_xe_file_target_read_file &#40;Transact-SQL&#41;](/sql/relational-databases/system-functions/sys-fn-xe-file-target-read-file-transact-sql) </span><span class="sxs-lookup"><span data-stu-id="3bd2e-153">[sys.fn_xe_file_target_read_file &#40;Transact-SQL&#41;](/sql/relational-databases/system-functions/sys-fn-xe-file-target-read-file-transact-sql) </span></span>  
 <span data-ttu-id="3bd2e-154">[CREATE EVENT SESSION &#40;Transact-SQL&#41;](/sql/t-sql/statements/create-event-session-transact-sql) </span><span class="sxs-lookup"><span data-stu-id="3bd2e-154">[CREATE EVENT SESSION &#40;Transact-SQL&#41;](/sql/t-sql/statements/create-event-session-transact-sql) </span></span>  
 [<span data-ttu-id="3bd2e-155">ALTER EVENT SESSION &#40;Transact-SQL&#41;</span><span class="sxs-lookup"><span data-stu-id="3bd2e-155">ALTER EVENT SESSION &#40;Transact-SQL&#41;</span></span>](/sql/t-sql/statements/alter-event-session-transact-sql)  
  
  
