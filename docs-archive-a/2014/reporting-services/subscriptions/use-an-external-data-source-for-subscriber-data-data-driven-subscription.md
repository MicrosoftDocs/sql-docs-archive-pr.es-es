---
title: Usar un origen de datos externo para obtener información de los suscriptores (suscripción controlada por datos) | Microsoft Docs
ms.custom: ''
ms.date: 03/06/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: reporting-services-native
ms.topic: conceptual
helpviewer_keywords:
- subscriber data sources [Reporting Services]
- subscriptions [Reporting Services], external data sources
- query-based subscriptions [Reporting Services]
- external data sources [Reporting Services]
- data-driven subscriptions
- data sources [Reporting Services], subscriptions
ms.assetid: 1cade8ec-729c-4df8-a428-e75c9ad86369
author: maggiesMSFT
ms.author: maggies
manager: kfile
ms.openlocfilehash: e23da709289ffb6ca345bb6211f40388877a1a87
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 08/04/2020
ms.locfileid: "87749024"
---
# <a name="use-an-external-data-source-for-subscriber-data-data-driven-subscription"></a><span data-ttu-id="7a373-102">Usar un origen de datos externo para obtener información de los suscriptores (suscripción controlada por datos)</span><span class="sxs-lookup"><span data-stu-id="7a373-102">Use an External Data Source for Subscriber Data (Data-Driven Subscription)</span></span>
  <span data-ttu-id="7a373-103">En una suscripción controlada por datos, los datos de suscripción dinámica se proporcionan mediante una consulta o un comando que recupera los datos desde un origen de datos externo.</span><span class="sxs-lookup"><span data-stu-id="7a373-103">In a data-driven subscription, dynamic subscription data is provided by a query or command that retrieves data from an external data source.</span></span> <span data-ttu-id="7a373-104">Los datos de suscripción se pueden recuperar desde cualquier origen de datos compatible que satisfaga los requisitos del procesamiento de suscripciones controladas por datos.</span><span class="sxs-lookup"><span data-stu-id="7a373-104">Subscription data can be retrieved from any supported data source that meets the requirements for data-driven subscription processing.</span></span> <span data-ttu-id="7a373-105">La sintaxis de la consulta o el comando debe ser válida para una extensión de procesamiento de datos instalada en el servidor de informes.</span><span class="sxs-lookup"><span data-stu-id="7a373-105">The query or command syntax must be valid for a data processing extension installed with your report server.</span></span>  
  
## <a name="data-processing-requirements"></a><span data-ttu-id="7a373-106">Requisitos del procesamiento de datos</span><span class="sxs-lookup"><span data-stu-id="7a373-106">Data Processing Requirements</span></span>  
 [!INCLUDE[ssRSnoversion](../../includes/ssrsnoversion-md.md)] <span data-ttu-id="7a373-107">usa extensiones de procesamiento de datos para recuperar datos de suscripción.</span><span class="sxs-lookup"><span data-stu-id="7a373-107">uses data processing extensions to retrieve subscription data.</span></span> <span data-ttu-id="7a373-108">Entre los tipos de orígenes de datos recomendados, se incluyen los siguientes:</span><span class="sxs-lookup"><span data-stu-id="7a373-108">Recommended data source types include the following:</span></span>  
  
-   [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] <span data-ttu-id="7a373-109">bases de datos relacionales</span><span class="sxs-lookup"><span data-stu-id="7a373-109">relational databases</span></span>  
  
-   <span data-ttu-id="7a373-110">bases de datos Oracle</span><span class="sxs-lookup"><span data-stu-id="7a373-110">Oracle databases</span></span>  
  
-   [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] <span data-ttu-id="7a373-111">orígenes de datos multidimensionales y de minería de datos</span><span class="sxs-lookup"><span data-stu-id="7a373-111">multidimensional and data mining data sources</span></span>  
  
-   <span data-ttu-id="7a373-112">Orígenes de datos XML</span><span class="sxs-lookup"><span data-stu-id="7a373-112">XML data sources</span></span>  
  
     <span data-ttu-id="7a373-113">Cuando se utilice la extensión de procesamiento de datos XML para datos de suscriptor, asegúrese de aumentar el valor del tiempo de espera de consulta en la suscripción.</span><span class="sxs-lookup"><span data-stu-id="7a373-113">When using the XML data processing extension for subscriber data, be sure to increase the query timeout settings in the subscription.</span></span> <span data-ttu-id="7a373-114">La extensión de procesamiento de datos XML utiliza milisegundos en lugar de segundos para los valores de tiempo de espera de consulta.</span><span class="sxs-lookup"><span data-stu-id="7a373-114">The XML data processing extension uses milliseconds rather than seconds for query timeout values.</span></span> <span data-ttu-id="7a373-115">Si no se aumenta el valor de tiempo de espera, es posible que se produzca un error en la suscripción debido a que el tiempo de procesamiento no es suficiente.</span><span class="sxs-lookup"><span data-stu-id="7a373-115">If you do not increase the timeout value, the subscription might fail due to insufficient processing time.</span></span>  
  
     <span data-ttu-id="7a373-116">Evite utilizar la opción **No se necesitan credenciales** al configurar la conexión al origen de datos de suscriptor.</span><span class="sxs-lookup"><span data-stu-id="7a373-116">Avoid using the **Credentials are not required** option when configuring the connection to the subscriber data source.</span></span> <span data-ttu-id="7a373-117">Se recomienda el uso de credenciales almacenadas cuando se utilice la extensión de procesamiento de datos XML para recuperar datos de suscripción en tiempo de ejecución.</span><span class="sxs-lookup"><span data-stu-id="7a373-117">Stored credentials are recommended when using the XML data processing extension to retrieve subscription data at run time.</span></span>  
  
 <span data-ttu-id="7a373-118">Quizás se puedan utilizar otros tipos de origen de datos admitidos, pero no se garantiza que todos ellos funcionen.</span><span class="sxs-lookup"><span data-stu-id="7a373-118">You might be able to use other supported data source types, but not all of them are guaranteed to work.</span></span> <span data-ttu-id="7a373-119">Por ejemplo, los tipos de origen de datos siguientes no se pueden utilizar para datos de suscriptor:</span><span class="sxs-lookup"><span data-stu-id="7a373-119">For example, the following data source types cannot be used for subscriber data:</span></span>  
  
-   <span data-ttu-id="7a373-120">Bases de datos SAP Netweaver BI</span><span class="sxs-lookup"><span data-stu-id="7a373-120">SAP Netweaver BI databases</span></span>  
  
-   <span data-ttu-id="7a373-121">Modelos de informe</span><span class="sxs-lookup"><span data-stu-id="7a373-121">report models</span></span>  
  
 <span data-ttu-id="7a373-122">Si tiene una extensión de procesamiento de datos personalizada que quiere usar en las suscripciones controladas por datos, es necesario que implemente las interfaces <xref:Microsoft.ReportingServices.DataProcessing.IDbCommand> y <xref:Microsoft.ReportingServices.DataProcessing.IDataReader> .</span><span class="sxs-lookup"><span data-stu-id="7a373-122">If you have a custom data processing extension that you want to use in data-driven subscriptions, it must implement the <xref:Microsoft.ReportingServices.DataProcessing.IDbCommand> and the <xref:Microsoft.ReportingServices.DataProcessing.IDataReader> interfaces.</span></span> <span data-ttu-id="7a373-123">La extensión de procesamiento de datos debe admitir la ejecución de una consulta solo de esquema.</span><span class="sxs-lookup"><span data-stu-id="7a373-123">The data processing extension must support a schema-only query execution.</span></span> <span data-ttu-id="7a373-124">Esta consulta se utiliza para recuperar metadatos de columna en tiempo de diseño, de manera que los usuarios puedan asignar columnas a opciones de entrega y parámetros de informe en la definición de la suscripción.</span><span class="sxs-lookup"><span data-stu-id="7a373-124">This query is used to retrieve column metadata at design-time so that users can map columns to delivery options and report parameters in the subscription definition.</span></span> <span data-ttu-id="7a373-125">La ejecución de la consulta solo de esquema se produce en una etapa inicial, cuando el usuario define la suscripción.</span><span class="sxs-lookup"><span data-stu-id="7a373-125">Schema-only query execution occurs at an early stage when the user is defining the subscription.</span></span>  
  
## <a name="query-requirements"></a><span data-ttu-id="7a373-126">Requisitos de consulta</span><span class="sxs-lookup"><span data-stu-id="7a373-126">Query Requirements</span></span>  
 <span data-ttu-id="7a373-127">Cuando se crea una consulta que recupera datos de suscripción, deben tenerse en cuenta los puntos siguientes:</span><span class="sxs-lookup"><span data-stu-id="7a373-127">When creating query that retrieves subscription data, keep the following points in mind:</span></span>  
  
-   <span data-ttu-id="7a373-128">Solo se puede crear una consulta para la suscripción.</span><span class="sxs-lookup"><span data-stu-id="7a373-128">You can only create one query for the subscription.</span></span>  
  
-   <span data-ttu-id="7a373-129">La consulta debe devolver todos los valores que se desea utilizar para las opciones de entrega y para especificar parámetros de informe.</span><span class="sxs-lookup"><span data-stu-id="7a373-129">The query must return all of the values that you want to use for delivery options and for specifying report parameters.</span></span>  
  
-   <span data-ttu-id="7a373-130">El servidor de informes creará una entrega de informe para cada fila del conjunto de resultados.</span><span class="sxs-lookup"><span data-stu-id="7a373-130">The report server will create a report delivery for every row in the result set.</span></span> <span data-ttu-id="7a373-131">Si el conjunto de resultados está formado por trescientas filas, el servidor de informes intentará entregar trescientos informes.</span><span class="sxs-lookup"><span data-stu-id="7a373-131">If the result set consists of three hundred rows, the report server will attempt to deliver three hundred reports.</span></span>  
  
## <a name="setting-delivery-options-using-variable-data-from-a-subscriber-database"></a><span data-ttu-id="7a373-132">Configurar las opciones de entrega con datos variables procedentes de una base de datos de suscriptor</span><span class="sxs-lookup"><span data-stu-id="7a373-132">Setting Delivery Options Using Variable Data from a Subscriber Database</span></span>  
 <span data-ttu-id="7a373-133">Se pueden utilizar los datos de la base de datos de suscriptor para personalizar las opciones de entrega de cada destinatario.</span><span class="sxs-lookup"><span data-stu-id="7a373-133">You can use data in the subscriber database to customize delivery options for each recipient.</span></span> <span data-ttu-id="7a373-134">La clase de extensión de entrega que se utilice determina las opciones disponibles.</span><span class="sxs-lookup"><span data-stu-id="7a373-134">The kind of delivery extension you are using determines which options are available.</span></span> <span data-ttu-id="7a373-135">Si utiliza la extensión de entrega por correo electrónico del servidor de informes, la consulta debería contener un alias de correo electrónico para cada suscriptor.</span><span class="sxs-lookup"><span data-stu-id="7a373-135">If you are using the report server e-mail delivery extension, the query should contain an e-mail alias for each subscriber.</span></span> <span data-ttu-id="7a373-136">Si se está usando la entrega a recursos compartidos de archivos, los datos de suscriptor deberán incluir valores que puedan utilizarse para crear archivos de informe específicos del suscriptor o para proporcionar un destino para la entrega.</span><span class="sxs-lookup"><span data-stu-id="7a373-136">If you are using file share delivery, the subscriber data should include values that can be used to create subscriber-specific report files or to provide a destination for the delivery.</span></span> <span data-ttu-id="7a373-137">Para obtener más información, consulte [entrega de recursos compartidos de archivos en Reporting Services](file-share-delivery-in-reporting-services.md) y [entrega por correo electrónico en Reporting Services](e-mail-delivery-in-reporting-services.md).</span><span class="sxs-lookup"><span data-stu-id="7a373-137">For more information, see [File Share Delivery in Reporting Services](file-share-delivery-in-reporting-services.md) and [E-Mail Delivery in Reporting Services](e-mail-delivery-in-reporting-services.md).</span></span>  
  
## <a name="passing-parameter-values-from-the-subscriber-database-to-the-report"></a><span data-ttu-id="7a373-138">Pasar valores de parámetro desde la base de datos de suscriptores al informe</span><span class="sxs-lookup"><span data-stu-id="7a373-138">Passing Parameter Values from the Subscriber Database to the Report</span></span>  
 <span data-ttu-id="7a373-139">Si se va a crear una suscripción controlada por datos para un informe con parámetros, se pueden utilizar valores de parámetro variables para personalizar los resultados de cada informe.</span><span class="sxs-lookup"><span data-stu-id="7a373-139">If you are creating a data-driven subscription for a parameterized report, you can use variable parameter values to customize the output of each report.</span></span> <span data-ttu-id="7a373-140">Por ejemplo, la base de datos de suscriptores puede contener información sobre los números de identificación de los empleados, las fechas de contratación, los puestos de trabajo y la ubicación en la oficina que puede utilizarse para filtrar datos del informe.</span><span class="sxs-lookup"><span data-stu-id="7a373-140">For example, the subscriber database might contain employee identification numbers, hire dates, job titles, and office location information that can be used to filter report data.</span></span> <span data-ttu-id="7a373-141">Si el informe acepta parámetros basados en estos u otros datos de columnas disponibles, puede asignar el parámetro a la columna adecuada.</span><span class="sxs-lookup"><span data-stu-id="7a373-141">If the report accepts parameters that are based on these or other available column data, you can map the parameter to the appropriate column.</span></span>  
  
 <span data-ttu-id="7a373-142">Cuando asigne campos de suscriptor a parámetros de informe, asegúrese de que los tipos de datos sean compatibles con la longitud de las columnas.</span><span class="sxs-lookup"><span data-stu-id="7a373-142">When mapping subscriber fields to report parameters, make sure that the data types and column lengths are compatible.</span></span> <span data-ttu-id="7a373-143">Si hay discrepancias, se producirán errores al procesar las suscripciones.</span><span class="sxs-lookup"><span data-stu-id="7a373-143">If there is a data type mismatch, an error will occur during subscription processing.</span></span> <span data-ttu-id="7a373-144">Para más información sobre cómo usar los datos de suscriptor en un informe con parámetros, vea [Crear una suscripción controlada por datos &#40;Tutorial de SSRS&#41;](../create-a-data-driven-subscription-ssrs-tutorial.md).</span><span class="sxs-lookup"><span data-stu-id="7a373-144">To learn more about using subscriber data in a parameterized report, see [Create a Data-Driven Subscription &#40;SSRS Tutorial&#41;](../create-a-data-driven-subscription-ssrs-tutorial.md).</span></span>  
  
## <a name="modifying-the-subscriber-data-source"></a><span data-ttu-id="7a373-145">Modificar el origen de datos de suscriptores</span><span class="sxs-lookup"><span data-stu-id="7a373-145">Modifying the Subscriber Data Source</span></span>  
 <span data-ttu-id="7a373-146">Las siguientes modificaciones en el origen de datos de suscriptores pueden impedir que se ejecute la suscripción:</span><span class="sxs-lookup"><span data-stu-id="7a373-146">The following modifications to the subscriber data source can prevent the subscription from running:</span></span>  
  
-   <span data-ttu-id="7a373-147">Quitar columnas a las que se hace referencia en la suscripción.</span><span class="sxs-lookup"><span data-stu-id="7a373-147">Removing columns that are referenced in the subscription.</span></span>  
  
-   <span data-ttu-id="7a373-148">Modificar la estructura de tabla del origen de datos.</span><span class="sxs-lookup"><span data-stu-id="7a373-148">Modifying the table structure of the data source.</span></span>  
  
-   <span data-ttu-id="7a373-149">Cambiar el tipo de datos y otras propiedades de columna.</span><span class="sxs-lookup"><span data-stu-id="7a373-149">Changing data type and other column properties.</span></span>  
  
 <span data-ttu-id="7a373-150">Si realiza cualquiera de estos cambios, deberá actualizar la suscripción.</span><span class="sxs-lookup"><span data-stu-id="7a373-150">If you make any of these changes, you must update the subscription.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="7a373-151">Consulte también</span><span class="sxs-lookup"><span data-stu-id="7a373-151">See Also</span></span>  
 <span data-ttu-id="7a373-152">[Crear, modificar y eliminar una suscripción controlada por datos](data-driven-subscriptions.md) </span><span class="sxs-lookup"><span data-stu-id="7a373-152">[Create, Modify, and Delete a Data-Driven Subscription](data-driven-subscriptions.md) </span></span>  
 <span data-ttu-id="7a373-153">[Data-Driven Subscriptions](data-driven-subscriptions.md) </span><span class="sxs-lookup"><span data-stu-id="7a373-153">[Data-Driven Subscriptions](data-driven-subscriptions.md) </span></span>  
 [<span data-ttu-id="7a373-154">Suscripciones y entrega &#40;Reporting Services&#41;</span><span class="sxs-lookup"><span data-stu-id="7a373-154">Subscriptions and Delivery &#40;Reporting Services&#41;</span></span>](subscriptions-and-delivery-reporting-services.md)  
  
  
