---
title: Implementar un ensamblado personalizado | Microsoft Docs
ms.custom: ''
ms.date: 03/06/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: reporting-services
ms.topic: reference
helpviewer_keywords:
- deploying custom assemblies [Reporting Services]
- custom assemblies [Reporting Services], deploying
- custom assemblies [Reporting Services], updating
- updating custom assemblies
ms.assetid: c6674cd8-0de7-4a5a-9e7c-12ffa49f6fd2
author: maggiesMSFT
ms.author: maggies
manager: kfile
ms.openlocfilehash: 3d88e1db844304b5cbb51f4af52b4715ef7e8c1e
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 08/04/2020
ms.locfileid: "87750537"
---
# <a name="deploying-a-custom-assembly"></a><span data-ttu-id="5a50e-102">Implementar un ensamblado personalizado</span><span class="sxs-lookup"><span data-stu-id="5a50e-102">Deploying a Custom Assembly</span></span>
  <span data-ttu-id="5a50e-103">Para implementar un ensamblado personalizado en [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] [!INCLUDE[ssRSnoversion](../../includes/ssrsnoversion-md.md)] , coloque el ensamblado en las carpetas de aplicación de diseñador de informes y del servidor de informes.</span><span class="sxs-lookup"><span data-stu-id="5a50e-103">To deploy a custom assembly in [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] [!INCLUDE[ssRSnoversion](../../includes/ssrsnoversion-md.md)], place the assembly in the application folders of both Report Designer and the report server.</span></span> <span data-ttu-id="5a50e-104">De forma predeterminada, a los ensamblados personalizados se les concede el permiso `Execution` en [!INCLUDE[ssRSnoversion](../../includes/ssrsnoversion-md.md)].</span><span class="sxs-lookup"><span data-stu-id="5a50e-104">By default, custom assemblies are granted `Execution` permission in [!INCLUDE[ssRSnoversion](../../includes/ssrsnoversion-md.md)].</span></span> <span data-ttu-id="5a50e-105">Para conceder privilegios a los ensamblados personalizados a parte del permiso Ejecutar, tendrá que modificar el archivo de configuración rssrvpolicy.config para el servidor de informes y el archivo de configuración rspreviewpolicy.config para la ventana de vista previa del Diseñador de informes.</span><span class="sxs-lookup"><span data-stu-id="5a50e-105">To grant custom assemblies privileges beyond Execute permission, you will need to edit the rssrvpolicy.config configuration file for the report server and the rspreviewpolicy.config configuration file for the Report Designer preview window.</span></span> <span data-ttu-id="5a50e-106">Otra opción es instalar el ensamblado personalizado en la memoria caché de ensamblados global (GAC).</span><span class="sxs-lookup"><span data-stu-id="5a50e-106">Alternatively, you can install your custom assembly in the global assembly cache (GAC).</span></span>  
  
> [!NOTE]  
>  <span data-ttu-id="5a50e-107">Hay dos modos de vista previa para el Diseñador de informes: la pestaña Vista previa y la ventana de vista previa emergente que se inician cuando se inicia el proyecto de informe en modo `DebugLocal`.</span><span class="sxs-lookup"><span data-stu-id="5a50e-107">There are two preview modes for Report Designer: the Preview tab and the pop-up preview window that is launched when your report project is started in `DebugLocal` mode.</span></span> <span data-ttu-id="5a50e-108">La pestaña Vista previa ejecuta todas las expresiones de informe usando el conjunto de permisos `FullTrust` y no aplica la configuración de la directiva de seguridad.</span><span class="sxs-lookup"><span data-stu-id="5a50e-108">The Preview tab executes all report expressions using the `FullTrust` permission set and does not apply security policy settings.</span></span> <span data-ttu-id="5a50e-109">La ventana de vista previa emergente está pensada para simular la funcionalidad del servidor de informes y, por consiguiente, tiene un archivo de configuración de directiva que usted o un administrador deben modificar para utilizar ensamblados en el Diseñador de informes.</span><span class="sxs-lookup"><span data-stu-id="5a50e-109">The pop-up preview window is meant to simulate the report server functionality and therefore has a policy configuration file that you or an administrator must modify to use custom assemblies in Report Designer.</span></span> <span data-ttu-id="5a50e-110">Esta vista previa emergente también bloquea el ensamblado personalizado.</span><span class="sxs-lookup"><span data-stu-id="5a50e-110">This pop-up preview also locks the custom assembly.</span></span> <span data-ttu-id="5a50e-111">Por consiguiente, es necesario cerrar la ventana de vista previa para modificar o actualizar el código de ensamblado personalizado.</span><span class="sxs-lookup"><span data-stu-id="5a50e-111">Therefore, you need to close the preview window in order to modify or update your custom assembly code.</span></span>  
  
###### <a name="to-deploy-a-custom-assembly-in-reporting-services"></a><span data-ttu-id="5a50e-112">Para implementar un ensamblado personalizado en Reporting Services</span><span class="sxs-lookup"><span data-stu-id="5a50e-112">To deploy a custom assembly in Reporting Services</span></span>  
  
1.  <span data-ttu-id="5a50e-113">Copie el ensamblado personalizado desde la ubicación de compilación a la carpeta bin del servidor de informes o a la carpeta del Diseñador de informes.</span><span class="sxs-lookup"><span data-stu-id="5a50e-113">Copy your custom assembly from your build location to the report server bin folder or the Report Designer folder.</span></span> <span data-ttu-id="5a50e-114">La ubicación predeterminada de la carpeta bin del servidor de informes es %Archivos de programa%\Microsoft SQL Server\ MSRS10_50.MSSQLSERVER\Reporting Services\ReportServer\bin.</span><span class="sxs-lookup"><span data-stu-id="5a50e-114">The default location of the bin folder for the report server is %ProgramFiles%\Microsoft SQL Server\MSRS10_50.MSSQLSERVER\Reporting Services\ReportServer\bin.</span></span> <span data-ttu-id="5a50e-115">La ubicación predeterminada del Diseñador de informes es %Archivos de programa%\Microsoft Visual Studio 9.0\Common7\IDE\PrivateAssemblies.</span><span class="sxs-lookup"><span data-stu-id="5a50e-115">The default location of the Report Designer is %ProgramFiles%\Microsoft Visual Studio 9.0\Common7\IDE\PrivateAssemblies.</span></span>  
  
     <span data-ttu-id="5a50e-116">Si coloca el ensamblado personalizado en la carpeta bin del servidor de informes, podrá publicar informes que hagan referencia a ese ensamblado personalizado; si lo colocar en la carpeta del Diseñador de informes, podrá ejecutar y depurar informes que hagan referencia al ensamblado personalizado en el Diseñador de informes.</span><span class="sxs-lookup"><span data-stu-id="5a50e-116">Placing your custom assembly in the report server bin folder enables you to publish reports that reference your custom assembly, and placing it in the Report Designer folder enables you to run and debug reports that reference your custom assembly in Report Designer.</span></span>  
  
     <span data-ttu-id="5a50e-117">Si necesita conceder permisos de código de ensamblado personalizados además de los permisos de ejecución predeterminados:</span><span class="sxs-lookup"><span data-stu-id="5a50e-117">If you need to grant your custom assembly code permissions beyond the default execute permissions:</span></span>  
  
2.  <span data-ttu-id="5a50e-118">Abra el archivo de configuración adecuado.</span><span class="sxs-lookup"><span data-stu-id="5a50e-118">Open the appropriate configuration file.</span></span> <span data-ttu-id="5a50e-119">La ubicación predeterminada del archivo rssrvpolicy.config es %Archivos de programa%\Microsoft SQL Server\MSRS10_50.MSSQLSERVER\Reporting Services\ReportServer.</span><span class="sxs-lookup"><span data-stu-id="5a50e-119">The default location of rssrvpolicy.config is %ProgramFiles%\Microsoft SQL Server\MSRS10_50.MSSQLSERVER\Reporting Services\ReportServer.</span></span> <span data-ttu-id="5a50e-120">La ubicación predeterminada del archivo rspreviewpolicy.config es %Archivos de programa%\Microsoft Visual Studio 9.0\Common7\IDE\PrivateAssemblies.</span><span class="sxs-lookup"><span data-stu-id="5a50e-120">The default location of rspreviewpolicy.config is %ProgramFiles%\Microsoft Visual Studio 9.0\Common7\IDE\PrivateAssemblies.</span></span>  
  
3.  <span data-ttu-id="5a50e-121">Agregue un grupo de código para el ensamblado personalizado.</span><span class="sxs-lookup"><span data-stu-id="5a50e-121">Add a code group for your custom assembly.</span></span> <span data-ttu-id="5a50e-122">Para más información, vea [Desarrollo seguro &#40;Reporting Services&#41;](../extensions/secure-development/secure-development-reporting-services.md).</span><span class="sxs-lookup"><span data-stu-id="5a50e-122">For more information, see [Secure Development &#40;Reporting Services&#41;](../extensions/secure-development/secure-development-reporting-services.md).</span></span>  
  
## <a name="updating-custom-assemblies"></a><span data-ttu-id="5a50e-123">Actualizar ensamblados personalizados</span><span class="sxs-lookup"><span data-stu-id="5a50e-123">Updating Custom Assemblies</span></span>  
 <span data-ttu-id="5a50e-124">En algún momento, puede que tenga que actualizar una versión de un ensamblado personalizado al que varios informes publicados hagan referencia en ese instante.</span><span class="sxs-lookup"><span data-stu-id="5a50e-124">At some point, you may need to update a version of a custom assembly that is currently being referenced by several published reports.</span></span> <span data-ttu-id="5a50e-125">Si ese ensamblado ya existe en el directorio bin del servidor de informes o del Diseñador de informes, y el número de versión del ensamblado se incrementa o se cambia de alguna manera, los informes publicados actualmente ya no funcionarán de forma correcta.</span><span class="sxs-lookup"><span data-stu-id="5a50e-125">If that assembly already exists in the bin directory of the report server or Report Designer and the version number of the assembly is incremented or changed in some way, the currently published reports will no longer work properly.</span></span> <span data-ttu-id="5a50e-126">Tendrá que actualizar la versión del ensamblado al que se hace referencia en el elemento `CodeModules` de la definición de informe y volver a publicar los informes.</span><span class="sxs-lookup"><span data-stu-id="5a50e-126">You will need to update the version of the assembly that is referenced in the `CodeModules` element of the report definition and republish the reports.</span></span> <span data-ttu-id="5a50e-127">Si sabe que va a actualizar con frecuencia un ensamblado personalizado y los informes publicados actualmente necesitan hacer referencia al nuevo ensamblado, puede que sea conveniente usar el mismo número de versión a través de todas las actualizaciones de un ensamblado determinado.</span><span class="sxs-lookup"><span data-stu-id="5a50e-127">If you know that you will frequently update a custom assembly and your currently published reports need to reference the new assembly, you may want to consider using the same version number across all updates of a particular assembly.</span></span>  
  
 <span data-ttu-id="5a50e-128">Si no necesita que los informes publicados hagan referencia a la nueva versión del ensamblado, puede implementar el ensamblado personalizado en la memoria caché de ensamblados global.</span><span class="sxs-lookup"><span data-stu-id="5a50e-128">If you do not need your currently published reports to reference the new version of the assembly, you can deploy your custom assembly to the global assembly cache.</span></span> <span data-ttu-id="5a50e-129">La memoria caché de ensamblados global puede mantener varias versiones del mismo ensamblado, de modo que los informes actuales puedan hacer referencia a la versión anterior del ensamblado y los informes publicados recientemente puedan hacer referencia al ensamblado actualizado.</span><span class="sxs-lookup"><span data-stu-id="5a50e-129">The global assembly cache can maintain multiple versions of the same assembly, so that your current reports can reference the previous version of your assembly and your newly published reports can reference the updated assembly.</span></span> <span data-ttu-id="5a50e-130">Otro enfoque más sería establecer la redirección obligatoria del servidor de informes para forzar una redirección de todas las solicitudes para el ensamblado anterior al nuevo ensamblado.</span><span class="sxs-lookup"><span data-stu-id="5a50e-130">Yet another approach would be to set the binding redirect of the report server to force a redirect of all requests for the old assembly to the new assembly.</span></span> <span data-ttu-id="5a50e-131">Necesitaría modificar los archivos Web.config y ReportService.exe.config del servidor de informes.</span><span class="sxs-lookup"><span data-stu-id="5a50e-131">You would need to modify the report server Web.config file and the report server ReportService.exe.config file.</span></span> <span data-ttu-id="5a50e-132">La entrada podría tener la apariencia siguiente:</span><span class="sxs-lookup"><span data-stu-id="5a50e-132">The entry might look like the following:</span></span>  
  
```  
<configuration>  
   <runtime>  
      <assemblyBinding xmlns="urn:schemas-microsoft-com:asm.v1">  
         <dependentAssembly>  
            <assemblyIdentity name="myAssembly"  
                              publicKeyToken="32ab4ba45e0a69a1"  
                              culture="neutral" />  
            <bindingRedirect oldVersion="1.0.0.0"  
                             newVersion="2.0.0.0"/>  
         </dependentAssembly>  
      </assemblyBinding>  
   </runtime>  
</configuration>  
```  
  
## <a name="see-also"></a><span data-ttu-id="5a50e-133">Consulte también</span><span class="sxs-lookup"><span data-stu-id="5a50e-133">See Also</span></span>  
 <span data-ttu-id="5a50e-134">[Usar ensamblados personalizados con informes](using-custom-assemblies-with-reports.md) </span><span class="sxs-lookup"><span data-stu-id="5a50e-134">[Using Custom Assemblies with Reports](using-custom-assemblies-with-reports.md) </span></span>  
 [<span data-ttu-id="5a50e-135">Trabajar con ensamblados y la memoria caché global de ensamblados</span><span class="sxs-lookup"><span data-stu-id="5a50e-135">Working with Assemblies and the Global Assembly Cache</span></span>](https://go.microsoft.com/fwlink/?LinkId=63912)  
  
  
