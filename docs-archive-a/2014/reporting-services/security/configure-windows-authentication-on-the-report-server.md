---
title: Configurar la autenticación de Windows en el servidor de informes | Microsoft Docs
ms.custom: ''
ms.date: 06/13/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: reporting-services-native
ms.topic: conceptual
helpviewer_keywords:
- Windows authentication [Reporting Services]
- Reporting Services, configuration
ms.assetid: 4de9c3dd-0ee7-49b3-88bb-209465ca9d86
author: maggiesMSFT
ms.author: maggies
manager: kfile
ms.openlocfilehash: 879c036977f9a34528dbf38e42fa080e72617a14
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 08/04/2020
ms.locfileid: "87745663"
---
# <a name="configure-windows-authentication-on-the-report-server"></a><span data-ttu-id="17f02-102">Configurar la autenticación de Windows en el servidor de informes</span><span class="sxs-lookup"><span data-stu-id="17f02-102">Configure Windows Authentication on the Report Server</span></span>
  <span data-ttu-id="17f02-103">De forma predeterminada, [!INCLUDE[ssRSnoversion](../../includes/ssrsnoversion-md.md)] acepta solicitudes que especifican la autenticación NTLM o Negotiate.</span><span class="sxs-lookup"><span data-stu-id="17f02-103">By default, [!INCLUDE[ssRSnoversion](../../includes/ssrsnoversion-md.md)] accepts requests that specify Negotiate or NTLM authentication.</span></span> <span data-ttu-id="17f02-104">Si la implementación incluye aplicaciones cliente y exploradores que utilizan estos proveedores de seguridad, puede utilizar los valores predeterminados sin necesidad de ninguna configuración adicional.</span><span class="sxs-lookup"><span data-stu-id="17f02-104">If your deployment includes client applications and browsers that use these security providers, you can use the default values without additional configuration.</span></span> <span data-ttu-id="17f02-105">Si desea utilizar un proveedor de seguridad diferente para la seguridad integrada de Windows (por ejemplo, si desea utilizar directamente Kerberos) o si modificó los valores predeterminados y prefiere restaurar los originales, puede utilizar la información de este tema para especificar los valores de autenticación en el servidor de informes.</span><span class="sxs-lookup"><span data-stu-id="17f02-105">If you want to use a different security provider for Windows integrated security (for example, if you want to use Kerberos directly), or if you modified the default values and want to restore the original settings, you can use the information in this topic to specify authentication settings on the report server.</span></span>  
  
 <span data-ttu-id="17f02-106">Para utilizar la seguridad integrada de Windows, cada usuario que requiera acceso a un servidor de informes debe tener una cuenta de usuario de dominio o local de Windows válida, o ser miembro de una cuenta de grupo de dominio o local de Windows.</span><span class="sxs-lookup"><span data-stu-id="17f02-106">To use Windows integrated security, each user who requires access to a report server must have a valid Windows local or domain user account or be a member of a Windows local or domain group account.</span></span> <span data-ttu-id="17f02-107">Puede incluir cuentas de otros dominios siempre que sean de confianza.</span><span class="sxs-lookup"><span data-stu-id="17f02-107">You can include accounts from other domains as long as those domains are trusted.</span></span> <span data-ttu-id="17f02-108">Las cuentas deben tener acceso al equipo del servidor de informes y deben asignarse posteriormente a roles con el fin de lograr acceso a operaciones específicas del servidor de informes.</span><span class="sxs-lookup"><span data-stu-id="17f02-108">The accounts must have access to the report server computer, and must be subsequently assigned to roles in order to gain access to specific report server operations.</span></span>  
  
 <span data-ttu-id="17f02-109">Además, se deben cumplir los requisitos adicionales siguientes:</span><span class="sxs-lookup"><span data-stu-id="17f02-109">The following additional requirements must also be met:</span></span>  
  
-   <span data-ttu-id="17f02-110">Los archivos RSeportServer.config deben tener establecido `AuthenticationType` en `RSWindowsNegotiate`, `RSWindowsKerberos` o `RSWindowsNTLM`.</span><span class="sxs-lookup"><span data-stu-id="17f02-110">The RSeportServer.config files must have `AuthenticationType` set to `RSWindowsNegotiate`, `RSWindowsKerberos`, or `RSWindowsNTLM`.</span></span> <span data-ttu-id="17f02-111">De forma predeterminada, el archivo RSReportServer.config incluye el valor `RSWindowsNegotiate` si la cuenta de servicio del servidor de informes es NetworkService o LocalSystem; de lo contrario, se usa el valor `RSWindowsNTLM`.</span><span class="sxs-lookup"><span data-stu-id="17f02-111">By default, the RSReportServer.config file includes the `RSWindowsNegotiate` setting if the Report Server service account is either NetworkService or LocalSystem; otherwise, the `RSWindowsNTLM` setting is used.</span></span> <span data-ttu-id="17f02-112">Puede agregar `RSWindowsKerberos` si tiene aplicaciones que solo utilizan la autenticación Kerberos.</span><span class="sxs-lookup"><span data-stu-id="17f02-112">You can add `RSWindowsKerberos` if you have applications that only use Kerberos authentication.</span></span>  
  
    > [!IMPORTANT]  
    >  <span data-ttu-id="17f02-113">Al utilizar `RSWindowsNegotiate`, se producirá un error de autenticación Kerberos si configuró el servicio del servidor de informes para ejecutarse en una cuenta de usuario de dominio y no registró un nombre de la entidad de seguridad del servicio (SPN) para la cuenta.</span><span class="sxs-lookup"><span data-stu-id="17f02-113">Using `RSWindowsNegotiate` will result in a Kerberos authentication error if you configured the Report Server service to run under a domain user account and you did not register a Service Principal Name (SPN) for the account.</span></span> <span data-ttu-id="17f02-114">Para obtener más información, vea [Resolver los errores de autenticación Kerberos al conectarse a un servidor de informes](#proxyfirewallRSWindowsNegotiate) en este tema.</span><span class="sxs-lookup"><span data-stu-id="17f02-114">For more information, see [Resolving Kerberos Authentication Errors When Connecting to a report server](#proxyfirewallRSWindowsNegotiate) in this topic.</span></span>  
  
-   [!INCLUDE[vstecasp](../../includes/vstecasp-md.md)] <span data-ttu-id="17f02-115">se debe configurar para la autenticación de Windows.</span><span class="sxs-lookup"><span data-stu-id="17f02-115">must be configured for Windows Authentication.</span></span> <span data-ttu-id="17f02-116">De forma predeterminada, los archivos Web.config para el servicio Web del servidor de informes y Administrador de informes incluyen el \<authentication mode="Windows"> valor.</span><span class="sxs-lookup"><span data-stu-id="17f02-116">By default, the Web.config files for the Report Server Web service and Report Manager include the \<authentication mode="Windows"> setting.</span></span> <span data-ttu-id="17f02-117">Si lo cambia a \<authentication mode="Forms"> , [!INCLUDE[ssRSnoversion](../../includes/ssrsnoversion-md.md)] se producirá un error en la autenticación de Windows para.</span><span class="sxs-lookup"><span data-stu-id="17f02-117">If you change it to \<authentication mode="Forms">, the Windows Authentication for [!INCLUDE[ssRSnoversion](../../includes/ssrsnoversion-md.md)] will fail.</span></span>  
  
-   <span data-ttu-id="17f02-118">Los archivos Web.config para el servicio Web del servidor de informes y el Administrador de informes deben tener \<identity impersonate= "true" /> .</span><span class="sxs-lookup"><span data-stu-id="17f02-118">The Web.config files for the Report Server Web service and Report Manager must have \<identity impersonate= "true" />.</span></span>  
  
-   <span data-ttu-id="17f02-119">La aplicación cliente o el explorador deben admitir la seguridad integrada de Windows.</span><span class="sxs-lookup"><span data-stu-id="17f02-119">The client application or browser must support Windows integrated security.</span></span>  
  
 <span data-ttu-id="17f02-120">Para cambiar la configuración de autenticación del servidor de informes, modifique los valores y los elementos XML en el archivo RSReportServer.config.</span><span class="sxs-lookup"><span data-stu-id="17f02-120">To change the report server authentication settings, edit the XML elements and values in the RSReportServer.config file.</span></span> <span data-ttu-id="17f02-121">Puede copiar y pegar los ejemplos de este tema para implementar combinaciones concretas.</span><span class="sxs-lookup"><span data-stu-id="17f02-121">You can copy and paste the examples in this topic to implement specific combinations.</span></span>  
  
 <span data-ttu-id="17f02-122">La configuración predeterminada funciona mejor si todos los equipos cliente y servidor se encuentran en el mismo dominio o en un dominio de confianza, y el servidor de informes se implementa para el acceso a la intranet detrás de un firewall corporativo.</span><span class="sxs-lookup"><span data-stu-id="17f02-122">The default settings work best if all client and server computers are in the same domain or in a trusted domain and the report server is deployed for intranet access behind a corporate firewall.</span></span> <span data-ttu-id="17f02-123">Los dominios únicos y de confianza son un requisito necesario para pasar credenciales de Windows.</span><span class="sxs-lookup"><span data-stu-id="17f02-123">Trusted and single domains are a requirement for passing Windows credentials.</span></span> <span data-ttu-id="17f02-124">Las credenciales se pueden pasar más de una vez si se habilita la versión 5 del protocolo Kerberos para los servidores.</span><span class="sxs-lookup"><span data-stu-id="17f02-124">Credentials can be passed more than one time if you enable the Kerberos version 5 protocol for your servers.</span></span> <span data-ttu-id="17f02-125">De lo contrario, las credenciales se pueden pasar solo una vez antes de que expiren.</span><span class="sxs-lookup"><span data-stu-id="17f02-125">Otherwise, credentials can be passed only one time before they expire.</span></span> <span data-ttu-id="17f02-126">Para más información sobre cómo configurar credenciales para conexiones a varios equipos, vea [Especificar información de credenciales y conexión para los orígenes de datos de informes](../report-data/specify-credential-and-connection-information-for-report-data-sources.md).</span><span class="sxs-lookup"><span data-stu-id="17f02-126">For more information about configuring credentials for multiple computer connections, see [Specify Credential and Connection Information for Report Data Sources](../report-data/specify-credential-and-connection-information-for-report-data-sources.md).</span></span>  
  
 <span data-ttu-id="17f02-127">Las instrucciones siguientes están pensadas para un servidor de informes en modo nativo.</span><span class="sxs-lookup"><span data-stu-id="17f02-127">The following instructions are intended for a native mode report server.</span></span> <span data-ttu-id="17f02-128">Si el servidor de informes se implementa en modo integrado de SharePoint, se deben utilizar los valores de autenticación predeterminados que especifican la seguridad integrada de Windows.</span><span class="sxs-lookup"><span data-stu-id="17f02-128">If the report server is deployed in SharePoint integrated mode, you must use the default authentication settings that specify Windows integrated security.</span></span> <span data-ttu-id="17f02-129">El servidor de informes utiliza las características internas de la extensión de autenticación de Windows predeterminada para admitir los servidores de informes en modo integrado de SharePoint.</span><span class="sxs-lookup"><span data-stu-id="17f02-129">The report server uses internal features in the default Windows Authentication extension to support report servers in SharePoint integrated mode.</span></span>  
  
## <a name="extended-protection-for-authentication"></a><span data-ttu-id="17f02-130">Protección ampliada para la autenticación</span><span class="sxs-lookup"><span data-stu-id="17f02-130">Extended Protection for Authentication</span></span>  
 <span data-ttu-id="17f02-131">A partir de [!INCLUDE[ssKilimanjaro](../../includes/sskilimanjaro-md.md)], se admite la protección ampliada para autenticación.</span><span class="sxs-lookup"><span data-stu-id="17f02-131">Beginning with [!INCLUDE[ssKilimanjaro](../../includes/sskilimanjaro-md.md)], support for Extended Protection for Authentication is available.</span></span> <span data-ttu-id="17f02-132">La característica de [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] admite el uso del enlace de canal y del enlace de servicio para mejorar la protección de la autenticación.</span><span class="sxs-lookup"><span data-stu-id="17f02-132">The [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] feature supports the use of channel binding and service binding to enhance protection of authentication.</span></span> <span data-ttu-id="17f02-133">Las características de [!INCLUDE[ssRSnoversion](../../includes/ssrsnoversion-md.md)] tienen que usarse con un sistema operativo que admita la protección ampliada.</span><span class="sxs-lookup"><span data-stu-id="17f02-133">The [!INCLUDE[ssRSnoversion](../../includes/ssrsnoversion-md.md)] features need to be used with an operating system that supports Extended Protection.</span></span> [!INCLUDE[ssRSnoversion](../../includes/ssrsnoversion-md.md)] <span data-ttu-id="17f02-134">para la protección extendida viene determinada por la configuración del archivo RSReportServer.config.</span><span class="sxs-lookup"><span data-stu-id="17f02-134">configuration for extended protection is determined by settings in the RSReportServer.config file.</span></span> <span data-ttu-id="17f02-135">El archivo puede actualizarse modificando el archivo o usando las API WMI.</span><span class="sxs-lookup"><span data-stu-id="17f02-135">The file can be updated by either editing the file or using WMI APIs.</span></span> <span data-ttu-id="17f02-136">Para más información, consulte [Extended Protection for Authentication with Reporting Services](extended-protection-for-authentication-with-reporting-services.md).</span><span class="sxs-lookup"><span data-stu-id="17f02-136">For more information, see [Extended Protection for Authentication with Reporting Services](extended-protection-for-authentication-with-reporting-services.md).</span></span>  
  
### <a name="to-configure-a-report-server-to-use-windows-integrated-security"></a><span data-ttu-id="17f02-137">Para configurar un servidor de informes para usar la seguridad integrada de Windows</span><span class="sxs-lookup"><span data-stu-id="17f02-137">To configure a report server to use Windows integrated security</span></span>  
  
1.  <span data-ttu-id="17f02-138">Abra RSReportServer.config en un editor de texto.</span><span class="sxs-lookup"><span data-stu-id="17f02-138">Open RSReportServer.config in a text editor.</span></span>  
  
2.  <span data-ttu-id="17f02-139">Busque <`Authentication`>.</span><span class="sxs-lookup"><span data-stu-id="17f02-139">Find <`Authentication`>.</span></span>  
  
3.  <span data-ttu-id="17f02-140">De las estructuras XML siguientes, copie la que mejor se ajuste a sus necesidades.</span><span class="sxs-lookup"><span data-stu-id="17f02-140">Copy one of the following XML structures that best fits your needs.</span></span> <span data-ttu-id="17f02-141">Puede especificar `RSWindowsNegotiate`, `RSWindowsNTLM` y `RSWindowsKerberos` en cualquier orden.</span><span class="sxs-lookup"><span data-stu-id="17f02-141">You can specify `RSWindowsNegotiate`, `RSWindowsNTLM`, and `RSWindowsKerberos` in any order.</span></span> <span data-ttu-id="17f02-142">Debe habilitar la persistencia de autenticación si desea autenticar la conexión en lugar de cada solicitud individual.</span><span class="sxs-lookup"><span data-stu-id="17f02-142">You should enable authentication persistence if you want to authenticate the connection rather than each individual request.</span></span> <span data-ttu-id="17f02-143">Con la persistencia de autenticación, todas las solicitudes que requieran autenticación se permitirán mientras dure la conexión.</span><span class="sxs-lookup"><span data-stu-id="17f02-143">Under authentication persistence, all requests that require authentication will be allowed for the duration of the connection.</span></span>  
  
     <span data-ttu-id="17f02-144">La primera estructura XML es la configuración predeterminada cuando la cuenta de servicio del servidor de informes es NetworkService o LocalSystem:</span><span class="sxs-lookup"><span data-stu-id="17f02-144">The first XML structure is the default configuration when the Report Server service account is either NetworkService or LocalSystem:</span></span>  
  
    ```  
    <Authentication>  
          <AuthenticationTypes>  
                 <RSWindowsNegotiate />  
          </AuthenticationTypes>  
          <EnableAuthPersistence>true</EnableAuthPersistence>  
    </Authentication>  
    ```  
  
     <span data-ttu-id="17f02-145">La segunda estructura XML es la configuración predeterminada cuando la cuenta de servicio del servidor de informes no es NetworkService o LocalSystem:</span><span class="sxs-lookup"><span data-stu-id="17f02-145">The second XML structure is the default configuration when the Report Server service account is not NetworkService or LocalSystem:</span></span>  
  
    ```  
    <Authentication>  
          <AuthenticationTypes>  
                 <RSWindowsNTLM />  
          </AuthenticationTypes>  
          <EnableAuthPersistence>true</EnableAuthPersistence>  
    ```  
  
     \</Authentication>  
  
     <span data-ttu-id="17f02-146">La tercera estructura XML especifica todos los paquetes de seguridad que se utilizan en la seguridad integrada de Windows:</span><span class="sxs-lookup"><span data-stu-id="17f02-146">The third XML structure specifies all of the security packages that are used in Windows integrated security:</span></span>  
  
    ```  
          <AuthenticationTypes>  
                 <RSWindowsNegotiate />  
                 <RSWindowsKerberos />  
                 <RSWindowsNTLM />  
          </AuthenticationTypes>  
    ```  
  
     <span data-ttu-id="17f02-147">La cuarta estructura XML solo especifica NTLM para las implementaciones que no admiten Kerberos o para solucionar los errores de autenticación Kerberos:</span><span class="sxs-lookup"><span data-stu-id="17f02-147">The fourth XML structure specifies NTLM only for deployments that do not support Kerberos or to work around Kerberos authentication errors:</span></span>  
  
    ```  
          <AuthenticationTypes>  
                 <RSWindowsNTLM />  
          </AuthenticationTypes>  
    ```  
  
4.  <span data-ttu-id="17f02-148">Péguelo en las entradas existentes para <`Authentication`>.</span><span class="sxs-lookup"><span data-stu-id="17f02-148">Paste it over the existing entries for <`Authentication`>.</span></span>  
  
     <span data-ttu-id="17f02-149">Observe que no puede utilizar `Custom` con los tipos `RSWindows`.</span><span class="sxs-lookup"><span data-stu-id="17f02-149">Note that you cannot use `Custom` with the `RSWindows` types.</span></span>  
  
5.  <span data-ttu-id="17f02-150">Modifique los valores para la protección ampliada según corresponda.</span><span class="sxs-lookup"><span data-stu-id="17f02-150">Modify as appropriate the settings for extended protection.</span></span> <span data-ttu-id="17f02-151">La protección ampliada está deshabilitada de forma predeterminada.</span><span class="sxs-lookup"><span data-stu-id="17f02-151">Extended protection is disabled by default.</span></span>  <span data-ttu-id="17f02-152">Si estas entradas no están presentes, el equipo actual puede no estar ejecutando ninguna versión de [!INCLUDE[ssRSnoversion](../../includes/ssrsnoversion-md.md)] que admita la protección ampliada.</span><span class="sxs-lookup"><span data-stu-id="17f02-152">If these entries are not present, the current computer may not be running a version of [!INCLUDE[ssRSnoversion](../../includes/ssrsnoversion-md.md)] which supports extended protection.</span></span> <span data-ttu-id="17f02-153">Para obtener más información, vea [Extended Protection for Authentication with Reporting Services](extended-protection-for-authentication-with-reporting-services.md).</span><span class="sxs-lookup"><span data-stu-id="17f02-153">For more information, see [Extended Protection for Authentication with Reporting Services](extended-protection-for-authentication-with-reporting-services.md)</span></span>  
  
    ```  
          <RSWindowsExtendedProtectionLevel>Allow</RSWindowsExtendedProtectionLevel>  
          <RSWindowsExtendedProtectionScenario>Proxy</RSWindowsExtendedProtectionScenario>  
    ```  
  
6.  <span data-ttu-id="17f02-154">Guarde el archivo.</span><span class="sxs-lookup"><span data-stu-id="17f02-154">Save the file.</span></span>  
  
7.  <span data-ttu-id="17f02-155">Si configuró una implementación escalada, repita estos pasos con los demás servidores de informes de la implementación.</span><span class="sxs-lookup"><span data-stu-id="17f02-155">If you configured a scale-out deployment, repeat these steps for other report servers in the deployment.</span></span>  
  
8.  <span data-ttu-id="17f02-156">Reinicie el servidor de informes para borrar las sesiones que estén abiertas en ese momento.</span><span class="sxs-lookup"><span data-stu-id="17f02-156">Restart the report server to clear any sessions that are currently open.</span></span>  
  
##  <a name="resolving-kerberos-authentication-errors-when-connecting-to-a-report-server"></a><a name="proxyfirewallRSWindowsNegotiate"></a><span data-ttu-id="17f02-157">Resolver errores de autenticación Kerberos al conectarse a un servidor de informes</span><span class="sxs-lookup"><span data-stu-id="17f02-157">Resolving Kerberos Authentication Errors When Connecting to a Report Server</span></span>  
 <span data-ttu-id="17f02-158">En un servidor de informes que esté configurado para usar la autenticación Kerberos o Negotiate, se producirá un error en una conexión de cliente con el servidor de informes si hay un error de autenticación Kerberos.</span><span class="sxs-lookup"><span data-stu-id="17f02-158">On a report server that is configured for Negotiate or Kerberos authentication, a client connection to the report server will fail if there is a Kerberos authentication error.</span></span> <span data-ttu-id="17f02-159">Se producen errores de autenticación Kerberos cuando:</span><span class="sxs-lookup"><span data-stu-id="17f02-159">Kerberos authentication errors are known to occur when:</span></span>  
  
-   <span data-ttu-id="17f02-160">El servicio del servidor de informes se ejecuta como una cuenta de usuario de dominio de Windows y no se registró un nombre de la entidad de seguridad del servicio (SPN) para la cuenta.</span><span class="sxs-lookup"><span data-stu-id="17f02-160">The Report Server service runs as a Windows domain user account and you did not register a Service Principal Name (SPN) for the account.</span></span>  
  
-   <span data-ttu-id="17f02-161">El servidor de informes se configura con el valor `RSWindowsNegotiate`.</span><span class="sxs-lookup"><span data-stu-id="17f02-161">The report server is configured with the `RSWindowsNegotiate` setting.</span></span>  
  
-   <span data-ttu-id="17f02-162">El explorador elige Kerberos sobre NTLM en el encabezado de autenticación en la solicitud que envía al servidor de informes.</span><span class="sxs-lookup"><span data-stu-id="17f02-162">The browser chooses Kerberos over NTLM in the authentication header in the request it sends to the report server.</span></span>  
  
 <span data-ttu-id="17f02-163">Puede detectar el error si habilitó el registro de Kerberos.</span><span class="sxs-lookup"><span data-stu-id="17f02-163">You can detect the error if you enabled Kerberos logging.</span></span> <span data-ttu-id="17f02-164">Otro síntoma del error es que se solicitan varias veces las credenciales y, a continuación, aparece una ventana del explorador vacía.</span><span class="sxs-lookup"><span data-stu-id="17f02-164">Another symptom of the error is that you are prompted for credentials multiple times and then see an empty browser window.</span></span>  
  
 <span data-ttu-id="17f02-165">Puede confirmar que se está produciendo un error de autenticación de Kerberos quitando < `RSWindowsNegotiate` /> del archivo de configuración y reintentando la conexión.</span><span class="sxs-lookup"><span data-stu-id="17f02-165">You can confirm that you are encountering a Kerberos authentication error by removing < `RSWindowsNegotiate` /> from your configuration file and reattempting the connection.</span></span>  
  
 <span data-ttu-id="17f02-166">Después de confirmar el problema, puede abordarlo de las maneras siguientes:</span><span class="sxs-lookup"><span data-stu-id="17f02-166">After you confirm the problem, you can address it in the following ways:</span></span>  
  
-   <span data-ttu-id="17f02-167">Registre un SPN para el servicio del servidor de informes en la cuenta de usuario de dominio.</span><span class="sxs-lookup"><span data-stu-id="17f02-167">Register an SPN for the Report Server service under the domain user account.</span></span> <span data-ttu-id="17f02-168">Para más información, vea [Registrar un nombre de entidad de seguridad de servicio &#40;SPN&#41; para un servidor de informes](../report-server/register-a-service-principal-name-spn-for-a-report-server.md).</span><span class="sxs-lookup"><span data-stu-id="17f02-168">For more information, see [Register a Service Principal Name &#40;SPN&#41; for a Report Server](../report-server/register-a-service-principal-name-spn-for-a-report-server.md).</span></span>  
  
-   <span data-ttu-id="17f02-169">Cambie la cuenta de servicio para que se ejecute en una cuenta integrada como servicio de red.</span><span class="sxs-lookup"><span data-stu-id="17f02-169">Change the service account to run under a built-in account such as Network Service.</span></span> <span data-ttu-id="17f02-170">Las cuentas integradas asignan el SPN HTTP al SPN de host, que se define al unir un equipo a la red.</span><span class="sxs-lookup"><span data-stu-id="17f02-170">Built-in accounts map HTTP SPN to the Host SPN, which is defined when you join a computer to your network.</span></span> <span data-ttu-id="17f02-171">Para más información, vea [Configurar una cuenta de servicio &#40;Administrador de configuración de SSRS&#41;](../../sql-server/install/configure-a-service-account-ssrs-configuration-manager.md).</span><span class="sxs-lookup"><span data-stu-id="17f02-171">For more information, see [Configure a Service Account &#40;SSRS Configuration Manager&#41;](../../sql-server/install/configure-a-service-account-ssrs-configuration-manager.md).</span></span>  
  
-   <span data-ttu-id="17f02-172">Use NTLM.</span><span class="sxs-lookup"><span data-stu-id="17f02-172">Use NTLM.</span></span> <span data-ttu-id="17f02-173">Generalmente, NTLM funcionará en los casos en que no lo haga la autenticación Kerberos.</span><span class="sxs-lookup"><span data-stu-id="17f02-173">NTLM will generally work in cases where Kerberos authentication fails.</span></span> <span data-ttu-id="17f02-174">Para utilizar NTLM, quite `RSWindowsNegotiate` del archivo RSReportServer.config y compruebe que solo se especifica `RSWindowsNTLM`.</span><span class="sxs-lookup"><span data-stu-id="17f02-174">To use NTLM, remove `RSWindowsNegotiate` from the RSReportServer.config file and verify that only `RSWindowsNTLM` is specified.</span></span> <span data-ttu-id="17f02-175">Si elige esta solución, puede continuar utilizando una cuenta de usuario de dominio para el servicio del servidor de informes aunque no defina un SPN para él.</span><span class="sxs-lookup"><span data-stu-id="17f02-175">If you choose this approach, you can continue to use a domain user account for the Report Server service even if you do not define an SPN for it.</span></span>  
  
#### <a name="logging-information"></a><span data-ttu-id="17f02-176">Información de registro</span><span class="sxs-lookup"><span data-stu-id="17f02-176">Logging information</span></span>  
 <span data-ttu-id="17f02-177">Hay varios orígenes de información de registro que pueden servir de ayuda para resolver problemas relacionados con Kerberos.</span><span class="sxs-lookup"><span data-stu-id="17f02-177">There are several sources of logging information that can help resolve Kerberos related issues.</span></span>  
  
##### <a name="user-account-control-attribute"></a><span data-ttu-id="17f02-178">Atributo User-Account-Control</span><span class="sxs-lookup"><span data-stu-id="17f02-178">User-Account-Control Attribute</span></span>  
 <span data-ttu-id="17f02-179">Determine si la cuenta de servicio de [!INCLUDE[ssRSnoversion](../../includes/ssrsnoversion-md.md)] tiene el atributo suficiente establecido en Active Directory.</span><span class="sxs-lookup"><span data-stu-id="17f02-179">Determine if the [!INCLUDE[ssRSnoversion](../../includes/ssrsnoversion-md.md)] service account has the sufficient attribute set in Active Directory.</span></span> <span data-ttu-id="17f02-180">Revise el archivo de registro del seguimiento del servicio de informe de errores para encontrar el valor registrado para el atributo UserAccountControl.</span><span class="sxs-lookup"><span data-stu-id="17f02-180">Review the reporting services service trace log file to find the value logged for the UserAccountControl attribute.</span></span> <span data-ttu-id="17f02-181">El valor registrado está en formato decimal.</span><span class="sxs-lookup"><span data-stu-id="17f02-181">The value logged is in decimal form.</span></span> <span data-ttu-id="17f02-182">Necesita convertir el valor decimal al formato hexadecimal y, a continuación, buscar ese valor en el tema MSDN que describe el atributo User-Account-Control.</span><span class="sxs-lookup"><span data-stu-id="17f02-182">You need to convert the decimal value to hexadecimal form and then find that value in the MSDN topic describing User-Account-Control Attribute.</span></span>  
  
-   <span data-ttu-id="17f02-183">La entrada del registro de seguimiento del servicio de informe de errores será similar a la siguiente:</span><span class="sxs-lookup"><span data-stu-id="17f02-183">The reporting services service trace log entry will look similar to the following:</span></span>  
  
    ```  
    appdomainmanager!DefaultDomain!8f8!01/14/2010-14:42:28:: i INFO: The UserAccountControl value for the service account is 590336  
    ```  
  
-   <span data-ttu-id="17f02-184">Una opción para convertir el valor decimal al formato hexadecimal es usar la Calculadora de [!INCLUDE[msCoName](../../includes/msconame-md.md)] Windows.</span><span class="sxs-lookup"><span data-stu-id="17f02-184">One option for converting the value Decimal value to hexadecimal form is to us the [!INCLUDE[msCoName](../../includes/msconame-md.md)] Windows Calculator.</span></span> <span data-ttu-id="17f02-185">La Calculadora de Windows admite varios modos que muestran las opciones 'Dec' y 'Hexadecimal'.</span><span class="sxs-lookup"><span data-stu-id="17f02-185">Windows Calculator supports several modes that show the 'Dec' option and 'Hex' options.</span></span> <span data-ttu-id="17f02-186">Seleccione la opción 'Dec', pegue o escriba en ella el valor decimal que encuentre en el archivo de registro y, a continuación, seleccione la opción  'Hex'.</span><span class="sxs-lookup"><span data-stu-id="17f02-186">Select the 'Dec' option, paste or type in the decimal value you found in the log file and then select the 'Hex' option.</span></span>  
  
-   <span data-ttu-id="17f02-187">Después, vea el tema [User-Account-Control attribute](https://go.microsoft.com/fwlink/?LinkId=183366) (Atributo User-Account-Control) para derivar el atributo para la cuenta de servicio.</span><span class="sxs-lookup"><span data-stu-id="17f02-187">Then refer to the topic [User-Account-Control Attribute](https://go.microsoft.com/fwlink/?LinkId=183366) to derive the attribute for the service account.</span></span>  
  
##### <a name="spns-configured-in-active-directory-for-the-reporting-services-service-account"></a><span data-ttu-id="17f02-188">SPN configurados en Active Directory para la cuenta de servicio de Reporting Services.</span><span class="sxs-lookup"><span data-stu-id="17f02-188">SPNs Configured in Active Directory for the Reporting Services service account.</span></span>  
 <span data-ttu-id="17f02-189">Para registrar los SPN en el archivo de registro de seguimiento del servicio de [!INCLUDE[ssRSnoversion](../../includes/ssrsnoversion-md.md)] , puede habilitar temporalmente la característica Protección ampliada de [!INCLUDE[ssRSnoversion](../../includes/ssrsnoversion-md.md)] .</span><span class="sxs-lookup"><span data-stu-id="17f02-189">To log the SPNs in the [!INCLUDE[ssRSnoversion](../../includes/ssrsnoversion-md.md)] service trace log file, you can enable the [!INCLUDE[ssRSnoversion](../../includes/ssrsnoversion-md.md)] Extended Protection feature temporarily.</span></span>  
  
-   <span data-ttu-id="17f02-190">Modifique el archivo de configuración de `rsreportserver.config` estableciendo lo siguiente:</span><span class="sxs-lookup"><span data-stu-id="17f02-190">Modify the configuration file `rsreportserver.config` by setting the following:</span></span>  
  
    ```  
    <RSWindowsExtendedProtectionLevel>Allow</RSWindowsExtendedProtectionLevel>   
    <RSWindowsExtendedProtectionScenario>Any</RSWindowsExtendedProtectionScenario>  
    ```  
  
-   <span data-ttu-id="17f02-191">Reinicie el servicio [!INCLUDE[ssRSnoversion](../../includes/ssrsnoversion-md.md)] .</span><span class="sxs-lookup"><span data-stu-id="17f02-191">Restart the [!INCLUDE[ssRSnoversion](../../includes/ssrsnoversion-md.md)] service.</span></span>

 <span data-ttu-id="17f02-192">Si no desea seguir utilizando la protección ampliada, establezca de nuevo los valores de configuración predeterminados y reinicie la cuenta de servicio de [!INCLUDE[ssRSnoversion](../../includes/ssrsnoversion-md.md)] .</span><span class="sxs-lookup"><span data-stu-id="17f02-192">If you do not want continue using Extended Protection, then set the configuration values back to defaults and restart the [!INCLUDE[ssRSnoversion](../../includes/ssrsnoversion-md.md)] Service account.</span></span>  
  
```  
<RSWindowsExtendedProtectionLevel>Off</RSWindowsExtendedProtectionLevel>  
<RSWindowsExtendedProtectionScenario>Proxy</RSWindowsExtendedProtectionScenario>  
```  
  
 <span data-ttu-id="17f02-193">Para obtener más información, vea [protección ampliada para la autenticación con Reporting Services](extended-protection-for-authentication-with-reporting-services.md)</span><span class="sxs-lookup"><span data-stu-id="17f02-193">For more information see, [Extended Protection for Authentication with Reporting Services](extended-protection-for-authentication-with-reporting-services.md)</span></span>  
  
#### <a name="how-the-browser-chooses-negotiated-kerberos-or-negotiated-ntlm"></a><span data-ttu-id="17f02-194">Cómo el explorador elige Kerberos negociado o NTLM negociado</span><span class="sxs-lookup"><span data-stu-id="17f02-194">How the Browser Chooses Negotiated Kerberos or Negotiated NTLM</span></span>  
 <span data-ttu-id="17f02-195">Cuando se utiliza Internet Explorer para conectarse al servidor de informes, se especifica Kerberos negociado o NTLM negociado en el encabezado de autenticación.</span><span class="sxs-lookup"><span data-stu-id="17f02-195">When you use Internet Explorer to connect to the report server, it specifies either Negotiated Kerberos or NTLM on the authentication header.</span></span> <span data-ttu-id="17f02-196">NTLM se utiliza en lugar de Kerberos cuando:</span><span class="sxs-lookup"><span data-stu-id="17f02-196">NTLM is used instead of Kerberos when:</span></span>  
  
-   <span data-ttu-id="17f02-197">La solicitud se envía a un servidor de informes local.</span><span class="sxs-lookup"><span data-stu-id="17f02-197">The request is sent to a local report server.</span></span>  
  
-   <span data-ttu-id="17f02-198">La solicitud se envía a una dirección IP del equipo del servidor de informes en lugar de a un nombre de servidor o encabezado de host.</span><span class="sxs-lookup"><span data-stu-id="17f02-198">The request is sent to an IP address of the report server computer rather than a host header or server name.</span></span>  
  
-   <span data-ttu-id="17f02-199">El software de firewall bloquea los puertos que se usan para la autenticación Kerberos.</span><span class="sxs-lookup"><span data-stu-id="17f02-199">Firewall software blocks ports used for Kerberos authentication.</span></span>  
  
-   <span data-ttu-id="17f02-200">El sistema operativo de un servidor determinado no tiene habilitado Kerberos.</span><span class="sxs-lookup"><span data-stu-id="17f02-200">The operating system of a particular server does not have Kerberos enabled.</span></span>  
  
-   <span data-ttu-id="17f02-201">El dominio incluye versiones antiguas de los sistemas operativos Windows de servidor y de cliente que no admiten la característica de autenticación Kerberos integrada en las versiones más recientes del sistema operativo.</span><span class="sxs-lookup"><span data-stu-id="17f02-201">The domain includes older versions of Windows client and server operating systems that do not support the Kerberos authentication feature built into newer versions of the operating system.</span></span>  
  
 <span data-ttu-id="17f02-202">Además, Internet Explorer puede elegir Kerberos negociado o NTLM negociado, dependiendo de cómo se hayan configurado los valores de dirección URL, LAN y proxy.</span><span class="sxs-lookup"><span data-stu-id="17f02-202">In addition, Internet Explorer might choose either Negotiated Kerberos or NTLM depending on how you configured URL, LAN, and proxy settings.</span></span>  
  
###### <a name="report-server-url"></a><span data-ttu-id="17f02-203">Dirección URL del servidor de informes</span><span class="sxs-lookup"><span data-stu-id="17f02-203">Report Server URL</span></span>  
 <span data-ttu-id="17f02-204">Si la dirección URL incluye un nombre de dominio completo, Internet Explorer selecciona NTLM.</span><span class="sxs-lookup"><span data-stu-id="17f02-204">If the URL includes a fully qualified domain name, Internet Explorer selects NTLM.</span></span> <span data-ttu-id="17f02-205">Si la dirección URL especifica el host local, Internet Explorer selecciona NTLM.</span><span class="sxs-lookup"><span data-stu-id="17f02-205">If the URL specifies localhost, Internet Explorer selects NTLM.</span></span> <span data-ttu-id="17f02-206">Si la dirección URL especifica el nombre de red del equipo, Internet Explorer selecciona Negotiate; esto tendrá éxito o no dependiendo de que exista un SPN para la cuenta de servicio del servidor de informes.</span><span class="sxs-lookup"><span data-stu-id="17f02-206">If the URL specifies the network name of the computer, Internet Explorer selects Negotiate, which will succeed or fail depending on whether an SPN exists for the Report Server service account.</span></span>  
  
###### <a name="lan-and-proxy-settings-on-the-client"></a><span data-ttu-id="17f02-207">Configuración de LAN y proxy en el cliente</span><span class="sxs-lookup"><span data-stu-id="17f02-207">LAN and Proxy Settings on the Client</span></span>  
 <span data-ttu-id="17f02-208">La configuración de LAN y proxy que se establece en Internet Explorer puede determinar si se elige NTLM antes que Kerberos.</span><span class="sxs-lookup"><span data-stu-id="17f02-208">LAN and proxy settings that you set in Internet Explorer can determine whether NTLM is chosen over Kerberos.</span></span> <span data-ttu-id="17f02-209">Sin embargo, dado que la configuración de LAN y proxy varía a través de las organizaciones, no es posible determinar con precisión los valores exactos que contribuyen a los errores de autenticación Kerberos.</span><span class="sxs-lookup"><span data-stu-id="17f02-209">However, because LAN and proxy settings vary across organizations, it is not possible to precisely determine the exact settings that contribute to Kerberos authentication errors.</span></span> <span data-ttu-id="17f02-210">Por ejemplo, una organización puede exigir una configuración de proxy que transforme las direcciones URL de una intranet en direcciones URL de nombre de dominio completo que se resuelven a través de las conexiones a Internet.</span><span class="sxs-lookup"><span data-stu-id="17f02-210">For example, your organization might enforce proxy settings that transform URLs from intranet URLs to fully-qualified domain name URLs that resolve over Internet connections.</span></span> <span data-ttu-id="17f02-211">Si se usan proveedores de autenticación diferentes para tipos distintos de direcciones URL, puede suceder que algunas conexiones tengan éxito cuando se esperaba lo contrario.</span><span class="sxs-lookup"><span data-stu-id="17f02-211">If different authentication providers are used for different types of URLs, you might find that some connections succeed when you would have expected them to fail.</span></span>  
  
 <span data-ttu-id="17f02-212">Si se producen errores de conexión que considera que se deben a errores de autenticación, puede probar combinaciones diferentes de configuración de LAN y proxy para aislar el problema.</span><span class="sxs-lookup"><span data-stu-id="17f02-212">If you encounter connection errors that you think are due to authentication failures, you can try different combinations of LAN and proxy settings to isolate the problem.</span></span> <span data-ttu-id="17f02-213">En Internet Explorer, la configuración de LAN y proxy se encuentra en el cuadro de diálogo **Configuración de la red de área local (LAN)** , que se abre al hacer clic en **Configuración de LAN** en la pestaña **Conexión** de **Opciones de Internet**.</span><span class="sxs-lookup"><span data-stu-id="17f02-213">In Internet Explorer, LAN and proxy settings are on the **Local Area Network (LAN) Settings** dialog box, which you open by clicking **LAN settings** on the **Connection** tab of **Internet Options**.</span></span>  
  
## <a name="external-resources"></a><span data-ttu-id="17f02-214">Recursos externos</span><span class="sxs-lookup"><span data-stu-id="17f02-214">External resources</span></span>  
  
-   <span data-ttu-id="17f02-215">Para obtener información adicional con respecto a Kerberos y los servidores de informes, vea [Implementar una solución de Business Intelligence con SharePoint, Reporting Services y servidor de supervisión de PerformancePoint con Kerberos.](https://go.microsoft.com/fwlink/?LinkID=177751)</span><span class="sxs-lookup"><span data-stu-id="17f02-215">For additional information regarding Kerberos and report servers, see [Deploying a Business Intelligence Solution Using SharePoint, Reporting Services, and PerformancePoint Monitoring Server with Kerberos.](https://go.microsoft.com/fwlink/?LinkID=177751)</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="17f02-216">Consulte también</span><span class="sxs-lookup"><span data-stu-id="17f02-216">See Also</span></span>  
 <span data-ttu-id="17f02-217">[Autenticación con el servidor de informes](authentication-with-the-report-server.md) </span><span class="sxs-lookup"><span data-stu-id="17f02-217">[Authentication with the Report Server](authentication-with-the-report-server.md) </span></span>  
 <span data-ttu-id="17f02-218">[Conceder permisos en un servidor de informes en modo nativo](granting-permissions-on-a-native-mode-report-server.md) </span><span class="sxs-lookup"><span data-stu-id="17f02-218">[Granting Permissions on a Native Mode Report Server](granting-permissions-on-a-native-mode-report-server.md) </span></span>  
 <span data-ttu-id="17f02-219">[Archivo de configuración RSReportServer](../report-server/rsreportserver-config-configuration-file.md) </span><span class="sxs-lookup"><span data-stu-id="17f02-219">[RSReportServer Configuration File](../report-server/rsreportserver-config-configuration-file.md) </span></span>  
 <span data-ttu-id="17f02-220">[Configurar la autenticación básica en el servidor de informes](configure-basic-authentication-on-the-report-server.md) </span><span class="sxs-lookup"><span data-stu-id="17f02-220">[Configure Basic Authentication on the Report Server](configure-basic-authentication-on-the-report-server.md) </span></span>  
 <span data-ttu-id="17f02-221">[Configurar la autenticación de formularios o personalizada en el servidor de informes](configure-custom-or-forms-authentication-on-the-report-server.md) </span><span class="sxs-lookup"><span data-stu-id="17f02-221">[Configure Custom or Forms Authentication on the Report Server](configure-custom-or-forms-authentication-on-the-report-server.md) </span></span>  
 [<span data-ttu-id="17f02-222">Protección ampliada para la autenticación con Reporting Services</span><span class="sxs-lookup"><span data-stu-id="17f02-222">Extended Protection for Authentication with Reporting Services</span></span>](extended-protection-for-authentication-with-reporting-services.md)  
  
  
