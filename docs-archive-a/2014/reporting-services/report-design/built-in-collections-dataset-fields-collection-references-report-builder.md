---
title: Referencias a la colección de campos de conjunto de datos (Generador de informes y SSRS) | Microsoft Docs
ms.custom: ''
ms.date: 06/13/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: reporting-services-native
ms.topic: conceptual
ms.assetid: 006c6bd3-d776-4c20-9092-32e40688ac49
author: maggiesMSFT
ms.author: maggies
manager: kfile
ms.openlocfilehash: 9e4140c35f8035e3ac8fae37aefb9d7f2afcaecc
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 08/04/2020
ms.locfileid: "87676373"
---
# <a name="dataset-fields-collection-references-report-builder-and-ssrs"></a><span data-ttu-id="8532b-102">Referencias a la colección de campos de conjunto de datos (Generador de informes y SSRS)</span><span class="sxs-lookup"><span data-stu-id="8532b-102">Dataset Fields Collection References (Report Builder and SSRS)</span></span>
  <span data-ttu-id="8532b-103">Cada conjunto de datos de un informe contiene una colección Fields.</span><span class="sxs-lookup"><span data-stu-id="8532b-103">Each dataset in a report contains one Fields collection.</span></span> <span data-ttu-id="8532b-104">La colección Fields es el conjunto de campos especificados por la consulta de conjunto de datos, más los campos calculados adicionales que se hayan creado.</span><span class="sxs-lookup"><span data-stu-id="8532b-104">The Fields collection is the set of fields specified by the dataset query plus any additional calculated fields that you create.</span></span> <span data-ttu-id="8532b-105">Una vez creado el conjunto de datos, la colección de campos aparece en el panel **Datos de informe** .</span><span class="sxs-lookup"><span data-stu-id="8532b-105">After you create a dataset, the field collection appears in the **Report Data** pane.</span></span>  
  
 <span data-ttu-id="8532b-106">Una referencia de campo sencilla en una expresión se muestra en la superficie de diseño como una expresión simple.</span><span class="sxs-lookup"><span data-stu-id="8532b-106">A simple field reference in an expression displays on the design surface as a simple expression.</span></span> <span data-ttu-id="8532b-107">Por ejemplo, al arrastrar el campo `Sales` desde el panel Datos de informe hasta una celda de tabla en la superficie de diseño, se muestra `[Sales]` .</span><span class="sxs-lookup"><span data-stu-id="8532b-107">For example, when you drag the field `Sales` from the Report Data pane to a table cell on the design surface, `[Sales]` is displayed.</span></span> <span data-ttu-id="8532b-108">Esto representa la expresión subyacente `=Fields!Sales.Value` que se establece en la propiedad Value del cuadro de texto.</span><span class="sxs-lookup"><span data-stu-id="8532b-108">This represents the underlying expression `=Fields!Sales.Value` that is set on the text box Value property.</span></span> <span data-ttu-id="8532b-109">Cuando se ejecuta el informe, el procesador de informes evalúa esta expresión y muestra los datos reales del origen de datos en el cuadro de texto de la celda de tabla.</span><span class="sxs-lookup"><span data-stu-id="8532b-109">When the report runs, the report processor evaluates this expression and displays the actual data from the data source in the text box in the table cell.</span></span> <span data-ttu-id="8532b-110">Para más información, vea [Expresiones &#40;Generador de informes y SSRS&#41;](expressions-report-builder-and-ssrs.md) y [Colección Campos del conjunto de datos &#40;Generador de informes y SSRS&#41;](../report-data/dataset-fields-collection-report-builder-and-ssrs.md).</span><span class="sxs-lookup"><span data-stu-id="8532b-110">For more, see [Expressions &#40;Report Builder and SSRS&#41;](expressions-report-builder-and-ssrs.md) and [Dataset Fields Collection &#40;Report Builder and SSRS&#41;](../report-data/dataset-fields-collection-report-builder-and-ssrs.md).</span></span>  
  
> [!NOTE]  
>  [!INCLUDE[ssRBRDDup](../../includes/ssrbrddup-md.md)]  
  
## <a name="displaying-the-field-collection-for-a-dataset"></a><span data-ttu-id="8532b-111">Mostrar la colección de campos para un conjunto de datos</span><span class="sxs-lookup"><span data-stu-id="8532b-111">Displaying the Field Collection for a Dataset</span></span>  
 <span data-ttu-id="8532b-112">Para mostrar los valores individuales de una colección de campos, arrastre cada campo hasta una fila de detalles de tabla y ejecute el informe.</span><span class="sxs-lookup"><span data-stu-id="8532b-112">To display the individual values for a field collection, drag each field to a table detail row and run the report.</span></span> <span data-ttu-id="8532b-113">Las referencias desde la fila de detalles de una tabla o región de datos de lista muestran un valor para cada fila del conjunto de datos.</span><span class="sxs-lookup"><span data-stu-id="8532b-113">References from the detail row of a table or list data region display a value for each row in the dataset.</span></span>  
  
 <span data-ttu-id="8532b-114">Si desea mostrar los valores resumidos de un campo, arrastre cada campo numérico hasta el área de datos de una matriz.</span><span class="sxs-lookup"><span data-stu-id="8532b-114">To display summarized values for a field, drag each numeric field to the data area of a matrix.</span></span> <span data-ttu-id="8532b-115">La función de agregado predeterminada para la fila de totales es Sum; por ejemplo, `=Sum(Fields!Sales.Value)`.</span><span class="sxs-lookup"><span data-stu-id="8532b-115">The default aggregate function for the total row is Sum, for example, `=Sum(Fields!Sales.Value)`.</span></span> <span data-ttu-id="8532b-116">Puede cambiar la función predeterminada para calcular totales diferentes.</span><span class="sxs-lookup"><span data-stu-id="8532b-116">You can change the default function in order to calculate different totals.</span></span> <span data-ttu-id="8532b-117">Para más información, vea [Referencia a las funciones de agregado &#40;Generador de informes y SSRS&#41;](report-builder-functions-aggregate-functions-reference.md).</span><span class="sxs-lookup"><span data-stu-id="8532b-117">For more information, see [Aggregate Functions Reference &#40;Report Builder and SSRS&#41;](report-builder-functions-aggregate-functions-reference.md).</span></span>  
  
 <span data-ttu-id="8532b-118">Para mostrar los valores resumidos de una colección de campos en un cuadro de texto directamente en la superficie de diseño (que no sea parte de una región de datos), debe especificar el nombre del conjunto de datos como ámbito para la función de agregado.</span><span class="sxs-lookup"><span data-stu-id="8532b-118">To display summarized values for a field collection in a text box directly on the design surface (not part of a data region), you must specify the dataset name as a scope for the aggregate function.</span></span> <span data-ttu-id="8532b-119">Por ejemplo, para un conjunto de datos denominado `SalesData`, la expresión siguiente especifica el total de todos los valores para el campo `Sales`: `=Sum(Fields!Sales,"SalesData")`.</span><span class="sxs-lookup"><span data-stu-id="8532b-119">For example, for a dataset named `SalesData`, the following expression specifies the total of all values for the field `Sales`: `=Sum(Fields!Sales,"SalesData")`.</span></span>  
  
 <span data-ttu-id="8532b-120">Al usar el cuadro de diálogo **Expresión** para definir una referencia de campo sencilla, puede seleccionar la colección Fields en el panel Categoría y ver la lista de campos disponibles en el panel **Campo** .</span><span class="sxs-lookup"><span data-stu-id="8532b-120">When you use the **Expression** dialog box to define a simple field reference, you can select the Fields collection in the Category pane and see the list of available fields in the **Field** pane.</span></span> <span data-ttu-id="8532b-121">Cada campo tiene varias propiedades, entre las que se incluyen Value e IsMissing.</span><span class="sxs-lookup"><span data-stu-id="8532b-121">Each field has several properties, including Value and IsMissing.</span></span> <span data-ttu-id="8532b-122">Las demás son propiedades de campo extendidas predefinidas que pueden estar disponibles para el conjunto de datos dependiendo del tipo de origen de datos.</span><span class="sxs-lookup"><span data-stu-id="8532b-122">The remaining properties are predefined extended field properties that may be available to the dataset depending on the data source type.</span></span>  
  
### <a name="detecting-nulls-for-a-dataset-field"></a><span data-ttu-id="8532b-123">Detectar valores NULL en un campo de conjunto de datos</span><span class="sxs-lookup"><span data-stu-id="8532b-123">Detecting Nulls for a Dataset Field</span></span>  
 <span data-ttu-id="8532b-124">Para detectar un valor de campo NULL (`Nothing` en [!INCLUDE[vbprvb](../../includes/vbprvb-md.md)]), puede usar la función `IsNothing`.</span><span class="sxs-lookup"><span data-stu-id="8532b-124">To detect a field value that is null (`Nothing` in [!INCLUDE[vbprvb](../../includes/vbprvb-md.md)]), you can use the function `IsNothing`.</span></span> <span data-ttu-id="8532b-125">Cuando se coloca en un cuadro de texto de una fila de detalles de tabla, la expresión siguiente comprueba el valor del campo `MiddleName` y lo sustituye por el texto "No Middle Name" cuando dicho valor es NULL, y por el propio valor de campo en caso contrario:</span><span class="sxs-lookup"><span data-stu-id="8532b-125">When placed in a text box in a table details row, the following expression tests the field `MiddleName` and substitutes the text "No Middle Name" when the value is null, and the field value itself when the value is not null:</span></span>  
  
 `=IIF(IsNothing(Fields!MiddleName.Value),"No Middle Name",Fields!MiddleName.Value)`  
  
### <a name="detecting-missing-fields-for-dynamic-queries-at-run-time"></a><span data-ttu-id="8532b-126">Detectar campos inexistentes en las consultas dinámicas en tiempo de ejecución</span><span class="sxs-lookup"><span data-stu-id="8532b-126">Detecting Missing Fields for Dynamic Queries at Run Time</span></span>  
 <span data-ttu-id="8532b-127">De manera predeterminada, los elementos de la colección Fields tienen dos propiedades: Value e IsMissing.</span><span class="sxs-lookup"><span data-stu-id="8532b-127">By default, items in the Fields collection have two properties: Value and IsMissing.</span></span> <span data-ttu-id="8532b-128">La propiedad IsMissing indica si un campo que se ha definido para un conjunto de datos en tiempo de diseño se encuentra entre los campos recuperados en tiempo de ejecución.</span><span class="sxs-lookup"><span data-stu-id="8532b-128">The IsMissing property indicates whether a field that is defined for a dataset at design time is contained in the fields retrieved at run time.</span></span> <span data-ttu-id="8532b-129">Por ejemplo, la consulta podría llamar a un procedimiento almacenado en el que el conjunto de resultados varía con un parámetro de entrada, o la consulta podría ser `SELECT * FROM` *\<table>* donde la definición de tabla cambió.</span><span class="sxs-lookup"><span data-stu-id="8532b-129">For example, your query might call a stored procedure in which the result set varies with an input parameter, or your query might be `SELECT * FROM` *\<table>* where the table definition changed.</span></span>  
  
> [!NOTE]  
>  <span data-ttu-id="8532b-130">IsMissing detecta cambios en el esquema de conjunto de datos entre el tiempo de diseño y el de ejecución para cualquier tipo de origen de datos.</span><span class="sxs-lookup"><span data-stu-id="8532b-130">IsMissing detects changes in the dataset schema between design time and run time for any type of data source.</span></span> <span data-ttu-id="8532b-131">IsMissing no se puede usar para detectar miembros vacíos en un cubo multidimensional y no está relacionado con los conceptos del lenguaje de consulta MDX de `EMPTY` y `NON EMPTY` .</span><span class="sxs-lookup"><span data-stu-id="8532b-131">IsMissing cannot be used to detect empty members in a multidimensional cube and is not related to the MDX query language concepts of `EMPTY` and `NON EMPTY`.</span></span>  
  
 <span data-ttu-id="8532b-132">Puede probar la propiedad IsMissing en código personalizado para determinar si un campo se encuentra en el conjunto de resultados.</span><span class="sxs-lookup"><span data-stu-id="8532b-132">You can test the IsMissing property in custom code to determine if a field is present in the result set.</span></span> <span data-ttu-id="8532b-133">No puede comprobar su presencia usando una expresión con una llamada a una función de [!INCLUDE[vbprvb](../../includes/vbprvb-md.md)], como `IIF` o `SWITCH`, porque [!INCLUDE[vbprvb](../../includes/vbprvb-md.md)] evalúa todos los parámetros en la llamada a la función, lo que produce un error cuando se evalúa la referencia al campo que falta.</span><span class="sxs-lookup"><span data-stu-id="8532b-133">You cannot test for its presence using an expression with a [!INCLUDE[vbprvb](../../includes/vbprvb-md.md)] function call such as `IIF` or `SWITCH`, because [!INCLUDE[vbprvb](../../includes/vbprvb-md.md)] evaluates all parameters in the call to the function, which results in an error when the reference to the missing is evaluated.</span></span>  
  
#### <a name="example-for-controlling-the-visibility-of-a-dynamic-column-for-a-missing-field"></a><span data-ttu-id="8532b-134">Ejemplo de control de la visibilidad de una columna dinámica para un campo que no existe</span><span class="sxs-lookup"><span data-stu-id="8532b-134">Example for Controlling the Visibility of a Dynamic Column for a Missing Field</span></span>  
 <span data-ttu-id="8532b-135">Para establecer una expresión que controle la visibilidad de una columna que muestra un campo de un conjunto de datos, primero debe definir una función de código personalizada que devuelva un valor booleano que indique si el campo existe o no.</span><span class="sxs-lookup"><span data-stu-id="8532b-135">To set an expression that controls the visibility of a column that displays a field in a dataset, you must first define a custom code function that returns a Boolean value based on whether the field is missing.</span></span> <span data-ttu-id="8532b-136">Por ejemplo, la función de código personalizada siguiente devuelve true si el campo no existe y false en caso contrario.</span><span class="sxs-lookup"><span data-stu-id="8532b-136">For example, the following custom code function returns true if the field is missing and false if the field exists.</span></span>  
  
```  
Public Function IsFieldMissing(field as Field) as Boolean  
 If (field.IsMissing) Then  
 Return True  
  Else   
  Return False  
 End If  
End Function  
```  
  
 <span data-ttu-id="8532b-137">Si quiere usar esta función para controlar la visibilidad de una columna, establezca la propiedad Hidden de la columna en la expresión siguiente:</span><span class="sxs-lookup"><span data-stu-id="8532b-137">To use this function to control visibility of a column, set the Hidden property of the column to the following expression:</span></span>  
  
 `=Code.IsFieldMissing(Fields!FieldName)`  
  
 <span data-ttu-id="8532b-138">La columna se oculta si el campo no existe.</span><span class="sxs-lookup"><span data-stu-id="8532b-138">The column is hidden when the field does not exist.</span></span>  
  
#### <a name="example-for-controlling-the-text-box-value-for-a-missing-field"></a><span data-ttu-id="8532b-139">Ejemplo de control del valor del cuadro de texto para un campo que no existe</span><span class="sxs-lookup"><span data-stu-id="8532b-139">Example for Controlling the Text Box Value for a Missing Field</span></span>  
 <span data-ttu-id="8532b-140">Si desea sustituir el valor de un campo inexistente por un texto determinado, debe escribir código personalizado que devuelva el texto que puede usar en lugar del valor de campo cuando el campo no exista.</span><span class="sxs-lookup"><span data-stu-id="8532b-140">To substitute text that you write in place of the value of a missing field, you must write custom code that returns text you can use in place of a field value when the field is missing.</span></span> <span data-ttu-id="8532b-141">Por ejemplo, la función de código personalizada siguiente devuelve el valor del campo si el campo existe, y el mensaje especificado como segundo parámetro en caso contrario:</span><span class="sxs-lookup"><span data-stu-id="8532b-141">For example, the following custom code function returns the value of the field if the field exists, and the message that you specify as the second parameter if the field does not exist:</span></span>  
  
```  
Public Function IsFieldMissingThenString(field as Field, strMessage as String) as String  
 If (field.IsMissing) Then  
  Return strMessage  
 Else   
  Return field.Value  
  End If  
End Function  
```  
  
 <span data-ttu-id="8532b-142">Para usar esta función en un cuadro de texto, agregue la expresión siguiente a la propiedad Value:</span><span class="sxs-lookup"><span data-stu-id="8532b-142">To use this function in a text box, add the following expression to the Value property:</span></span>  
  
 `=Code.IsFieldMissingThenString(Fields!FieldName,"Missing")`  
  
 <span data-ttu-id="8532b-143">El cuadro de texto muestra el valor de campo o el texto especificado.</span><span class="sxs-lookup"><span data-stu-id="8532b-143">The text box displays either the field value or the text that you specified.</span></span>  
  
### <a name="using-extended-field-properties"></a><span data-ttu-id="8532b-144">Usar propiedades de campo extendidas</span><span class="sxs-lookup"><span data-stu-id="8532b-144">Using Extended Field Properties</span></span>  
 <span data-ttu-id="8532b-145">Las propiedades de campo extendidas son propiedades adicionales que la extensión de procesamiento de datos define en un campo, extensión que está determinada por el tipo de origen de datos del conjunto de datos.</span><span class="sxs-lookup"><span data-stu-id="8532b-145">Extended field properties are additional properties defined on a field by the data processing extension, which is determined by the data source type for the dataset.</span></span> <span data-ttu-id="8532b-146">Las propiedades de campo extendidas pueden ser predefinidas o específicas de un tipo de origen de datos.</span><span class="sxs-lookup"><span data-stu-id="8532b-146">Extended field properties are predefined or specific to a data source type.</span></span> <span data-ttu-id="8532b-147">Para obtener más información, vea [Propiedades de campo extendidas para una base de datos de Analysis Services &#40;SSRS&#41;](../report-data/extended-field-properties-for-an-analysis-services-database-ssrs.md).</span><span class="sxs-lookup"><span data-stu-id="8532b-147">For more information, see [Extended Field Properties for an Analysis Services Database &#40;SSRS&#41;](../report-data/extended-field-properties-for-an-analysis-services-database-ssrs.md).</span></span>  
  
 <span data-ttu-id="8532b-148">Si especifica una propiedad no admitida para ese campo, la expresión se evalúa como `null` (`Nothing` en [!INCLUDE[vbprvb](../../includes/vbprvb-md.md)]).</span><span class="sxs-lookup"><span data-stu-id="8532b-148">If you specify a property that is not supported for that field, the expression evaluates to `null` (`Nothing` in [!INCLUDE[vbprvb](../../includes/vbprvb-md.md)]).</span></span> <span data-ttu-id="8532b-149">Si un proveedor de datos no admite propiedades de campo extendidas o si no se encuentra el campo al ejecutar la consulta, el valor de la propiedad será `null` (`Nothing` en [!INCLUDE[vbprvb](../../includes/vbprvb-md.md)]) para las propiedades de tipo `String` y `Object`, y cero (0) para las propiedades de tipo `Integer`.</span><span class="sxs-lookup"><span data-stu-id="8532b-149">If a data provider does not support extended field properties, or if the field is not found when the query is executed, the value for the property is `null` (`Nothing` in [!INCLUDE[vbprvb](../../includes/vbprvb-md.md)]) for properties of type `String` and `Object`, and zero (0) for properties of type `Integer`.</span></span> <span data-ttu-id="8532b-150">Una extensión de procesamiento de datos puede sacar partido de las propiedades predefinidas optimizando consultas que incluyan esta sintaxis.</span><span class="sxs-lookup"><span data-stu-id="8532b-150">A data processing extension may take advantage of predefined properties by optimizing queries that include this syntax.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="8532b-151">Consulte también</span><span class="sxs-lookup"><span data-stu-id="8532b-151">See Also</span></span>  
 <span data-ttu-id="8532b-152">[Ejemplos de expresiones &#40;Generador de informes y SSRS&#41;](expression-examples-report-builder-and-ssrs.md) </span><span class="sxs-lookup"><span data-stu-id="8532b-152">[Expression Examples &#40;Report Builder and SSRS&#41;](expression-examples-report-builder-and-ssrs.md) </span></span>  
 [<span data-ttu-id="8532b-153">Agregar datos a un informe &#40;Generador de informes y SSRS&#41;</span><span class="sxs-lookup"><span data-stu-id="8532b-153">Add Data to a Report &#40;Report Builder and SSRS&#41;</span></span>](../report-data/report-datasets-ssrs.md)  
  
  
