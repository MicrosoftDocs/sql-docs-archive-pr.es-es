---
title: Actualizar una base de datos del servidor de informes | Microsoft Docs
ms.custom: ''
ms.date: 08/10/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: database-engine
ms.topic: conceptual
helpviewer_keywords:
- upgrading databases
- report server database
- upgrading Reporting Services
ms.assetid: 4091cf87-9d97-4048-a393-67f1f9207401
author: maggiesMSFT
ms.author: maggies
manager: kfile
ms.openlocfilehash: 28e382de505781f4155204fcc652d1308dacce76
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 08/04/2020
ms.locfileid: "87677429"
---
# <a name="upgrade-a-report-server-database"></a><span data-ttu-id="624a7-102">Actualizar una base de datos del servidor de informes</span><span class="sxs-lookup"><span data-stu-id="624a7-102">Upgrade a Report Server Database</span></span>
  <span data-ttu-id="624a7-103">La base de datos del servidor de informes proporciona almacenamiento para una o varias instancias del servidor de informes.</span><span class="sxs-lookup"><span data-stu-id="624a7-103">The report server database provides storage for one or more report server instances.</span></span> <span data-ttu-id="624a7-104">Dado que el esquema de la base de datos del servidor de informes puede cambiar con cada versión nueva de [!INCLUDE[ssRSnoversion](../../includes/ssrsnoversion-md.md)], es necesario que la versión de base de datos coincida con la versión de la instancia del servidor de informes que esté utilizando.</span><span class="sxs-lookup"><span data-stu-id="624a7-104">Because the report server database schema can change with each new release of [!INCLUDE[ssRSnoversion](../../includes/ssrsnoversion-md.md)], it is required that the database version match the version of the report server instance you are using.</span></span> <span data-ttu-id="624a7-105">En la mayoría de los casos, una base de datos del servidor de informes se puede actualizar automáticamente sin ninguna acción específica de su parte.</span><span class="sxs-lookup"><span data-stu-id="624a7-105">In most cases, a report server database can be upgraded automatically with no specific action on your part.</span></span>  
  
 <span data-ttu-id="624a7-106">**Modo nativo:** En [!INCLUDE[ssRSnoversion](../../includes/ssrsnoversion-md.md)] el modo nativo, la base de datos del servidor de informes se compone en realidad de dos bases de datos que tienen nombres predeterminados "ReportServer y ReportServerTempDB".</span><span class="sxs-lookup"><span data-stu-id="624a7-106">**Native Mode:** In [!INCLUDE[ssRSnoversion](../../includes/ssrsnoversion-md.md)] Native mode, the report server database is actually comprised of two database that have default names of "ReportServer and ReportServerTempDB".</span></span>  
  
 <span data-ttu-id="624a7-107">**Modo de SharePoint:** En [!INCLUDE[ssSQL11](../../includes/sssql11-md.md)] [!INCLUDE[ssRSnoversion](../../includes/ssrsnoversion-md.md)] el modo de SharePoint, la base de datos del servidor de informes es realmente una colección de bases de datos que se crea para cada instancia de la [!INCLUDE[ssRSnoversion](../../includes/ssrsnoversion-md.md)] aplicación de servicio.</span><span class="sxs-lookup"><span data-stu-id="624a7-107">**SharePoint mode:** In [!INCLUDE[ssSQL11](../../includes/sssql11-md.md)][!INCLUDE[ssRSnoversion](../../includes/ssrsnoversion-md.md)] SharePoint mode the report server database is actually a collection of databases that is created for each instance of the [!INCLUDE[ssRSnoversion](../../includes/ssrsnoversion-md.md)] service application.</span></span>  
  
## <a name="ways-to-upgrade-a-native-mode-report-server-database"></a><span data-ttu-id="624a7-108">Formas de actualizar una base de datos del servidor de informes en modo nativo</span><span class="sxs-lookup"><span data-stu-id="624a7-108">Ways to Upgrade a Native Mode Report Server Database</span></span>  
 <span data-ttu-id="624a7-109">En la lista siguiente se identifican las condiciones en las que se actualiza una base de datos del servidor de informes:</span><span class="sxs-lookup"><span data-stu-id="624a7-109">The following list identifies the conditions under which a report server database is upgraded:</span></span>  
  
-   [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] <span data-ttu-id="624a7-110">actualiza una única instancia de un servidor de informes.</span><span class="sxs-lookup"><span data-stu-id="624a7-110">Setup upgrades a single instance of a report server.</span></span> <span data-ttu-id="624a7-111">El esquema de la base de datos del servidor de informes se actualiza automáticamente después del inicio del servicio y el servidor de informes determina que la versión del esquema de la base de datos no coincide con la versión del servidor.</span><span class="sxs-lookup"><span data-stu-id="624a7-111">The report server database schema is automatically upgraded after service startup and the report server determines that the database schema version does not match the server version.</span></span>  
  
     <span data-ttu-id="624a7-112">Durante el inicio del servicio, el servidor de informes examina la versión del esquema de la base de datos para comprobar si coincide con la del servidor.</span><span class="sxs-lookup"><span data-stu-id="624a7-112">At service startup, the report server checks the database schema version to verify that it matches the server version.</span></span> <span data-ttu-id="624a7-113">Si la versión del esquema de la base de datos es anterior, se actualiza automáticamente a la versión que requiere el servidor de informes.</span><span class="sxs-lookup"><span data-stu-id="624a7-113">If the database schema version is an older version, it is automatically upgraded to the schema version that is required by the report server.</span></span> <span data-ttu-id="624a7-114">La actualización automática es especialmente útil si ha restaurado o adjuntado una base de datos del servidor de informes anterior.</span><span class="sxs-lookup"><span data-stu-id="624a7-114">Automatic upgrade is especially useful if you restored or attached an older report server database.</span></span> <span data-ttu-id="624a7-115">Se escribe un mensaje en el archivo de registro de seguimiento del servidor de informes para indicar que se ha actualizado la versión del esquema de la base de datos.</span><span class="sxs-lookup"><span data-stu-id="624a7-115">A message is entered in the report server trace log file indicating that the database schema version was upgraded.</span></span>  
  
-   <span data-ttu-id="624a7-116">El Administrador de configuración de [!INCLUDE[ssRSnoversion](../../includes/ssrsnoversion-md.md)] actualiza una base de datos del servidor de informes local o remota al seleccionar una versión anterior para usarla con una instancia más reciente del servidor de informes.</span><span class="sxs-lookup"><span data-stu-id="624a7-116">The [!INCLUDE[ssRSnoversion](../../includes/ssrsnoversion-md.md)] Configuration Manager upgrades a local or remote report server database when you select an older version to use with a newer report server instance.</span></span> <span data-ttu-id="624a7-117">En este caso, debe confirmar la acción de actualización antes de que tenga lugar.</span><span class="sxs-lookup"><span data-stu-id="624a7-117">In this case, you must confirm the upgrade action before it happens.</span></span>  
  
     <span data-ttu-id="624a7-118">El Administrador de [!INCLUDE[ssRSnoversion](../../includes/ssrsnoversion-md.md)] ya no dispone de un botón Actualizar independiente ni de un script de actualización.</span><span class="sxs-lookup"><span data-stu-id="624a7-118">The [!INCLUDE[ssRSnoversion](../../includes/ssrsnoversion-md.md)] Configuration Manager no longer provides a separate Upgrade button or upgrade script.</span></span> <span data-ttu-id="624a7-119">Esas características están obsoletas a partir de [!INCLUDE[ssKatmai](../../includes/sskatmai-md.md)] debido a la característica de actualización automática del servicio del servidor de informes.</span><span class="sxs-lookup"><span data-stu-id="624a7-119">Those features are obsolete starting with [!INCLUDE[ssKatmai](../../includes/sskatmai-md.md)] due to the automatic upgrade feature of the Report Server service.</span></span>  
  
 <span data-ttu-id="624a7-120">Una vez actualizado el esquema, no es posible revertir la actualización a una versión anterior.</span><span class="sxs-lookup"><span data-stu-id="624a7-120">After the schema is updated, you cannot rollback the upgrade to an earlier version.</span></span> <span data-ttu-id="624a7-121">Realice siempre una copia de seguridad de la base de datos del servidor de informes, por si necesita volver a crear una instalación previa.</span><span class="sxs-lookup"><span data-stu-id="624a7-121">Always backup the report server database in case you need to recreate a previous installation.</span></span>  
  
## <a name="how-the-schema-metadata-and-report-server-content-is-updated"></a><span data-ttu-id="624a7-122">Cómo se actualizan el esquema, los metadatos y el contenido del servidor de informes</span><span class="sxs-lookup"><span data-stu-id="624a7-122">How the Schema, Metadata, and Report Server Content is Updated</span></span>  
 <span data-ttu-id="624a7-123">La base de datos del servidor de informes se actualiza en tres etapas:</span><span class="sxs-lookup"><span data-stu-id="624a7-123">The report server database is upgraded in three stages:</span></span>  
  
1.  <span data-ttu-id="624a7-124">El esquema se actualiza automáticamente después de la instalación y del inicio del servicio, o al seleccionar una base de datos del servidor de informes en modo nativo de [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] en el Administrador de configuración de [!INCLUDE[ssRSnoversion](../../includes/ssrsnoversion-md.md)] que es de una versión anterior.</span><span class="sxs-lookup"><span data-stu-id="624a7-124">The schema is upgraded automatically after setup and service startup, or when you select a [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] Native mode report server database in the [!INCLUDE[ssRSnoversion](../../includes/ssrsnoversion-md.md)] Configuration Manager that is an older version.</span></span> <span data-ttu-id="624a7-125">Además, el servicio del servidor de informes comprueba la versión de la base de datos en el inicio.</span><span class="sxs-lookup"><span data-stu-id="624a7-125">In addition, the Report Server service checks the database version at startup.</span></span> <span data-ttu-id="624a7-126">Si el servidor de informes está conectado a una base de datos que es de una versión anterior, la actualizará durante el inicio.</span><span class="sxs-lookup"><span data-stu-id="624a7-126">If the report server is connected to a database that is an earlier version, the report server will update the database during startup.</span></span>  
  
2.  <span data-ttu-id="624a7-127">Los descriptores de seguridad se actualizan la primera vez que se usa la base de datos del servidor de informes después de haber actualizado el esquema.</span><span class="sxs-lookup"><span data-stu-id="624a7-127">Security descriptors are upgraded on first use of the report server database after the schema is updated.</span></span>  
  
3.  <span data-ttu-id="624a7-128">Los informes publicados y las instantáneas de informes compilados se actualizan la primera vez que se utilizan.</span><span class="sxs-lookup"><span data-stu-id="624a7-128">Published reports and compiled report snapshots are updated on first use.</span></span> <span data-ttu-id="624a7-129">Para más información, consulte [Upgrade Reports](upgrade-reports.md).</span><span class="sxs-lookup"><span data-stu-id="624a7-129">For more information, see [Upgrade Reports](upgrade-reports.md).</span></span>  
  
 <span data-ttu-id="624a7-130">Además de la base de datos del servidor de informes, un servidor de informes utiliza también una base de datos temporal.</span><span class="sxs-lookup"><span data-stu-id="624a7-130">In addition to the report server database, a report server also uses a temporary database.</span></span> <span data-ttu-id="624a7-131">La base de datos temporal se actualiza automáticamente al actualizar la base de datos del servidor de informes.</span><span class="sxs-lookup"><span data-stu-id="624a7-131">The temporary database is upgraded automatically when you upgrade the report server database.</span></span>  
  
## <a name="permissions-required-to-upgrade-a-report-server-database"></a><span data-ttu-id="624a7-132">Permisos necesarios para actualizar una base de datos del servidor de informes</span><span class="sxs-lookup"><span data-stu-id="624a7-132">Permissions required to upgrade a Report Server Database</span></span>  
 <span data-ttu-id="624a7-133">Si va a actualizar una instalación de [!INCLUDE[ssRSnoversion](../../includes/ssrsnoversion-md.md)] que incluye una base de datos del servidor de informes, puede aparecer un mensaje de error si la actualización de la base de datos se realiza sin los permisos adecuados.</span><span class="sxs-lookup"><span data-stu-id="624a7-133">If you are upgrading a [!INCLUDE[ssRSnoversion](../../includes/ssrsnoversion-md.md)] installation that includes a report server database, you may see an error message if the database upgrade is performed with insufficient permissions.</span></span> <span data-ttu-id="624a7-134">De manera predeterminada, el programa de instalación utiliza el token de seguridad del usuario que ejecuta el programa de instalación para conectarse a la instancia de [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] remota y actualizar el esquema.</span><span class="sxs-lookup"><span data-stu-id="624a7-134">By default, Setup uses the security token of the user who is running the Setup program to connect to the remote [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] instance and update the schema.</span></span> <span data-ttu-id="624a7-135">Si tiene permisos [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)]sysadmin**de** en el servidor de bases de datos donde se hospedan las bases de datos del servidor de informes, la actualización de la base de datos se realizará correctamente.</span><span class="sxs-lookup"><span data-stu-id="624a7-135">If you have [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] **sysadmin** permissions on the database server that hosts the report server databases, the database upgrade will succeed.</span></span> <span data-ttu-id="624a7-136">De manera similar, si ejecuta el programa de instalación desde el símbolo del sistema y se especifican los argumentos RSUPGRADEDATABASEACCOUNT y RSUPGRADEPASSWORD para una cuenta que tiene permiso **sysadmin** para modificar el esquema en el equipo remoto, la base de datos se actualizará correctamente.</span><span class="sxs-lookup"><span data-stu-id="624a7-136">Similarly, if you run Setup from the command prompt and specify the RSUPGRADEDATABASEACCOUNT and RSUPGRADEPASSWORD arguments for an account that has **sysadmin** permission to modify the schema on the remote computer, the database upgrade will succeed.</span></span>  
  
 <span data-ttu-id="624a7-137">Sin embargo, si no tiene permiso **sysadmin** para la base de datos del equipo remoto, se rechazará la conexión y aparecerá un error que indica lo siguiente:</span><span class="sxs-lookup"><span data-stu-id="624a7-137">However, if you do not have **sysadmin** permission to the database on the remote computer, the connection will be refused with the following error:</span></span>  
  
 `"Setup was not able to upgrade the report server database schema. You must update the database schema manually after setup is finished. To update the schema, run the Reporting Services Configuration Manager, open the Database Setup page, re-select the database, and click Apply. The database will be upgraded automatically."`  
  
 <span data-ttu-id="624a7-138">En este momento, los archivos de programa del servidor de informes se actualizarán, pero la base de datos del servidor de informes tendrá el formato de la versión anterior.</span><span class="sxs-lookup"><span data-stu-id="624a7-138">At this point, the report server program files will be upgraded, but the report server database will be in the format of the previous version.</span></span> <span data-ttu-id="624a7-139">El servidor de informes no estará disponible hasta que finalice el proceso de actualización actualizando la base de datos manualmente.</span><span class="sxs-lookup"><span data-stu-id="624a7-139">The report server will be unavailable until you finish the upgrade process by upgrading the database manually.</span></span>  
  
#### <a name="to-upgrade-a-native-mode-database-with-scripts"></a><span data-ttu-id="624a7-140">Para actualizar una base de datos en modo nativo con scripts</span><span class="sxs-lookup"><span data-stu-id="624a7-140">To upgrade a Native Mode database With Scripts</span></span>  
 <span data-ttu-id="624a7-141">Puede utilizar scripts de WMI para actualizar una base de datos del servidor de informes.</span><span class="sxs-lookup"><span data-stu-id="624a7-141">You can use WMI scripts to upgrade a report server database.</span></span> <span data-ttu-id="624a7-142">Para obtener más información, vea [Método GenerateDatabaseUpgradeScript &#40;WMI MSReportServer_ConfigurationSetting&#41;](../wmi-provider-library-reference/configurationsetting-method-generatedatabaseupgradescript.md).</span><span class="sxs-lookup"><span data-stu-id="624a7-142">For more information, see [GenerateDatabaseUpgradeScript Method &#40;WMI MSReportServer_ConfigurationSetting&#41;](../wmi-provider-library-reference/configurationsetting-method-generatedatabaseupgradescript.md)</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="624a7-143">Consulte también</span><span class="sxs-lookup"><span data-stu-id="624a7-143">See Also</span></span>  
 <span data-ttu-id="624a7-144">[Administrador de configuración de Reporting Services &#40;modo nativo&#41;](../../sql-server/install/reporting-services-configuration-manager-native-mode.md) </span><span class="sxs-lookup"><span data-stu-id="624a7-144">[Reporting Services Configuration Manager &#40;Native Mode&#41;](../../sql-server/install/reporting-services-configuration-manager-native-mode.md) </span></span>  
 <span data-ttu-id="624a7-145">[Crear una base de datos del servidor de informes &#40;SSRS Configuration Manager&#41;](../../sql-server/install/create-a-report-server-database-ssrs-configuration-manager.md) </span><span class="sxs-lookup"><span data-stu-id="624a7-145">[Create a Report Server Database  &#40;SSRS Configuration Manager&#41;](../../sql-server/install/create-a-report-server-database-ssrs-configuration-manager.md) </span></span>  
 <span data-ttu-id="624a7-146">[Asistente para cambiar base de datos &#40;el modo nativo de SSRS&#41;](../../sql-server/install/change-database-wizard-ssrs-native-mode.md) </span><span class="sxs-lookup"><span data-stu-id="624a7-146">[Change Database Wizard &#40;SSRS Native Mode&#41;](../../sql-server/install/change-database-wizard-ssrs-native-mode.md) </span></span>  
 <span data-ttu-id="624a7-147">[Actualizar y migrar Reporting Services](upgrade-and-migrate-reporting-services.md) </span><span class="sxs-lookup"><span data-stu-id="624a7-147">[Upgrade and Migrate Reporting Services](upgrade-and-migrate-reporting-services.md) </span></span>  
 [<span data-ttu-id="624a7-148">Migrar una instalación de Reporting Services &#40;modo nativo&#41;</span><span class="sxs-lookup"><span data-stu-id="624a7-148">Migrate a Reporting Services Installation &#40;Native Mode&#41;</span></span>](migrate-a-reporting-services-installation-native-mode.md)  
  
  
