---
title: Seguridad de acceso del código en Reporting Services | Microsoft Docs
ms.custom: ''
ms.date: 03/06/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: reporting-services
ms.topic: reference
helpviewer_keywords:
- code groups [Reporting Services]
- code access security [Reporting Services]
- permission sets [Reporting Services]
- evidence [Reporting Services]
- code access security [Reporting Services], about code access security
- named permission sets [Reporting Services]
ms.assetid: 97480368-1fc3-4c32-b1b0-63edfb54e472
author: maggiesMSFT
ms.author: maggies
manager: kfile
ms.openlocfilehash: ebe023b13a003895845bbb119f0bc93a0d01203a
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 08/04/2020
ms.locfileid: "87678063"
---
# <a name="code-access-security-in-reporting-services"></a><span data-ttu-id="6257f-102">Seguridad de acceso del código en Reporting Services</span><span class="sxs-lookup"><span data-stu-id="6257f-102">Code Access Security in Reporting Services</span></span>
  <span data-ttu-id="6257f-103">La seguridad de acceso del código se centra en torno a estos conceptos principales: evidencia, grupos de código y conjuntos de permisos con nombre.</span><span class="sxs-lookup"><span data-stu-id="6257f-103">Code access security centers on these core concepts: evidence, code groups, and named permission sets.</span></span> <span data-ttu-id="6257f-104">En [!INCLUDE[ssRSnoversion](../../../includes/ssrsnoversion-md.md)], los componentes Administrador de informes, Diseñador de informes y Servidor de informes tienen cada uno de ellos un archivo de directiva que configura la seguridad de acceso del código para los ensamblados personalizados así como los datos, la entrega, la representación y las extensiones de seguridad.</span><span class="sxs-lookup"><span data-stu-id="6257f-104">In [!INCLUDE[ssRSnoversion](../../../includes/ssrsnoversion-md.md)], the Report Manager, Report Designer, and Report Server components each have a policy file that configures code access security for custom assemblies as well as data, delivery, rendering, and security extensions.</span></span> <span data-ttu-id="6257f-105">Las secciones siguientes proporcionan información general de seguridad de acceso del código.</span><span class="sxs-lookup"><span data-stu-id="6257f-105">The following sections provide an overview of code access security.</span></span> <span data-ttu-id="6257f-106">Para información detallada sobre los temas tratados en esta sección, vea "Modelo de directiva de seguridad" en la documentación del SDK de [!INCLUDE[msCoName](../../../includes/msconame-md.md)] [!INCLUDE[dnprdnshort](../../../includes/dnprdnshort-md.md)].</span><span class="sxs-lookup"><span data-stu-id="6257f-106">For more detailed information about the topics covered in this section, see "Security Policy Model" in the [!INCLUDE[msCoName](../../../includes/msconame-md.md)] [!INCLUDE[dnprdnshort](../../../includes/dnprdnshort-md.md)] SDK documentation.</span></span>  
  
 [!INCLUDE[ssRSnoversion](../../../includes/ssrsnoversion-md.md)] <span data-ttu-id="6257f-107">usa seguridad de acceso del código porque, aunque el servidor de informes está generado sobre tecnología [!INCLUDE[vstecasp](../../../includes/vstecasp-md.md)], hay una diferencia sustancial entre una aplicación [!INCLUDE[vstecasp](../../../includes/vstecasp-md.md)] típica y el servidor de informes.</span><span class="sxs-lookup"><span data-stu-id="6257f-107">uses code access security because, although the report server is built on [!INCLUDE[vstecasp](../../../includes/vstecasp-md.md)] technology, there is a substantial difference between a typical [!INCLUDE[vstecasp](../../../includes/vstecasp-md.md)] application and the report server.</span></span> <span data-ttu-id="6257f-108">Una aplicación [!INCLUDE[vstecasp](../../../includes/vstecasp-md.md)] típica no ejecuta código de usuario.</span><span class="sxs-lookup"><span data-stu-id="6257f-108">A typical [!INCLUDE[vstecasp](../../../includes/vstecasp-md.md)] application does not execute user code.</span></span> <span data-ttu-id="6257f-109">Por el contrario, [!INCLUDE[ssRSnoversion](../../../includes/ssrsnoversion-md.md)] usa una arquitectura abierta y extensible que permite a los usuarios programar con los archivos de definición de informes mediante el elemento **Code** del lenguaje RDL (Report Definition Language) y desarrollar funciones especializadas en un ensamblado personalizado para su uso en informes.</span><span class="sxs-lookup"><span data-stu-id="6257f-109">In contrast, [!INCLUDE[ssRSnoversion](../../../includes/ssrsnoversion-md.md)] uses an open and extensible architecture that allows users to program against the report definition files using the **Code** element of the Report Definition Language and to develop specialized functionality into a custom assembly for use in reports.</span></span> <span data-ttu-id="6257f-110">Además, los programadores pueden diseñar e implementar extensiones eficaces que mejoran las capacidades del servidor de informes.</span><span class="sxs-lookup"><span data-stu-id="6257f-110">Furthermore, developers can design and deploy powerful extensions that enhance the capabilities of the report server.</span></span> <span data-ttu-id="6257f-111">Con esta eficacia y flexibilidad se hace necesario proporcionar tanta protección y seguridad como sea posible.</span><span class="sxs-lookup"><span data-stu-id="6257f-111">With this power and flexibility comes the need to provide as much protection and security as possible.</span></span>  
  
 <span data-ttu-id="6257f-112">Los programadores de [!INCLUDE[ssRSnoversion](../../../includes/ssrsnoversion-md.md)] pueden usar cualquier ensamblado de [!INCLUDE[dnprdnshort](../../../includes/dnprdnshort-md.md)] en sus informes y llamar en modo nativo a toda la funcionalidad de ensamblados implementados en la memoria caché de ensamblados global.</span><span class="sxs-lookup"><span data-stu-id="6257f-112">[!INCLUDE[ssRSnoversion](../../../includes/ssrsnoversion-md.md)] developers can use any [!INCLUDE[dnprdnshort](../../../includes/dnprdnshort-md.md)] assembly in their reports and natively call upon all of the functionality of assemblies deployed to the global assembly cache.</span></span> <span data-ttu-id="6257f-113">La única cosa que el servidor de informes puede controlar es qué permisos se proporcionan para las expresiones de informe y los ensamblados personalizados cargados.</span><span class="sxs-lookup"><span data-stu-id="6257f-113">The only thing that the report server can control is what permissions are given for report expressions and loaded custom assemblies.</span></span> <span data-ttu-id="6257f-114">En [!INCLUDE[ssRSnoversion](../../../includes/ssrsnoversion-md.md)], los ensamblados personalizados reciben permisos de solo **Ejecución** de forma predeterminada.</span><span class="sxs-lookup"><span data-stu-id="6257f-114">In [!INCLUDE[ssRSnoversion](../../../includes/ssrsnoversion-md.md)], custom assemblies receive **Execute**-only permissions by default.</span></span>  
  
## <a name="evidence"></a><span data-ttu-id="6257f-115">Evidencia</span><span class="sxs-lookup"><span data-stu-id="6257f-115">Evidence</span></span>  
 <span data-ttu-id="6257f-116">La evidencia es la información que usa Common Language Runtime (CLR) para determinar una directiva de seguridad para ensamblados de código.</span><span class="sxs-lookup"><span data-stu-id="6257f-116">Evidence is the information that the common language runtime (CLR) uses to determine a security policy for code assemblies.</span></span> <span data-ttu-id="6257f-117">La evidencia indica al motor en tiempo de ejecución que el código tiene una característica concreta.</span><span class="sxs-lookup"><span data-stu-id="6257f-117">Evidence indicates to the runtime that code has a particular characteristic.</span></span> <span data-ttu-id="6257f-118">Entre los tipos de evidencia normales están las firmas digitales y la ubicación de un ensamblado.</span><span class="sxs-lookup"><span data-stu-id="6257f-118">Common forms of evidence include digital signatures and the location of an assembly.</span></span> <span data-ttu-id="6257f-119">La evidencia también puede tener un diseño personalizado para representar otra información que sea significativa para la aplicación.</span><span class="sxs-lookup"><span data-stu-id="6257f-119">Evidence can also be custom designed to represent other information that is meaningful to the application.</span></span>  
  
 <span data-ttu-id="6257f-120">Tanto los ensamblados como los dominios de aplicación reciben permisos basándose en la evidencia.</span><span class="sxs-lookup"><span data-stu-id="6257f-120">Both assemblies and application domains receive permissions based on evidence.</span></span> <span data-ttu-id="6257f-121">Por ejemplo, la ubicación de un ensamblado al que [!INCLUDE[ssRSnoversion](../../../includes/ssrsnoversion-md.md)] intenta obtener acceso es una forma común de evidencia para los ensamblados sin nombres seguros.</span><span class="sxs-lookup"><span data-stu-id="6257f-121">For example, the location of an assembly that [!INCLUDE[ssRSnoversion](../../../includes/ssrsnoversion-md.md)] is attempting to access is one common form of evidence for weak-named assemblies.</span></span> <span data-ttu-id="6257f-122">Esto se conoce como evidencia de dirección URL.</span><span class="sxs-lookup"><span data-stu-id="6257f-122">This is known as URL evidence.</span></span> <span data-ttu-id="6257f-123">La evidencia de la dirección URL para una extensión de procesamiento de datos personalizada que se implementa en un servidor de informes podría ser "C:\Archivos de programa\Microsoft SQL Server\MSRS10_50.MSSQLSERVER\Reporting Services\ReportServer\bin\Microsoft.Samples.ReportingServices.FsiDataExtension.dll".</span><span class="sxs-lookup"><span data-stu-id="6257f-123">URL evidence for a custom data processing extension deployed to a report server might be "C:\Program Files\Microsoft SQL Server\MSRS10_50.MSSQLSERVER\Reporting Services\ReportServer\bin\Microsoft.Samples.ReportingServices.FsiDataExtension.dll".</span></span> <span data-ttu-id="6257f-124">El nombre seguro o la firma digital de un ensamblado es otra forma común de evidencia.</span><span class="sxs-lookup"><span data-stu-id="6257f-124">The strong name or digital signature of an assembly is another common form of evidence.</span></span> <span data-ttu-id="6257f-125">En este caso, la evidencia es la información de clave pública para un ensamblado.</span><span class="sxs-lookup"><span data-stu-id="6257f-125">In this case, the evidence is the public key information for an assembly.</span></span>  
  
## <a name="code-groups"></a><span data-ttu-id="6257f-126">Grupos de código</span><span class="sxs-lookup"><span data-stu-id="6257f-126">Code Groups</span></span>  
 <span data-ttu-id="6257f-127">Un grupo de código es una agrupación lógica de código que tiene una condición concreta para la pertenencia.</span><span class="sxs-lookup"><span data-stu-id="6257f-127">A code group is a logical grouping of code that has a specified condition for membership.</span></span> <span data-ttu-id="6257f-128">Todos los códigos que cumplen la condición de pertenencia se incluyen en el grupo.</span><span class="sxs-lookup"><span data-stu-id="6257f-128">Any code that meets the membership condition is included in the group.</span></span> <span data-ttu-id="6257f-129">Los administradores configuran una directiva de seguridad administrando los grupos de código y sus conjuntos de permisos asociados.</span><span class="sxs-lookup"><span data-stu-id="6257f-129">Administrators configure a security policy by managing code groups and their associated permission sets.</span></span>  
  
 <span data-ttu-id="6257f-130">Una condición de pertenencia para un grupo de código se basa en la evidencia.</span><span class="sxs-lookup"><span data-stu-id="6257f-130">A membership condition for a code group is based on evidence.</span></span> <span data-ttu-id="6257f-131">Por ejemplo, una pertenencia de dirección URL para un grupo de código se basa en la evidencia de dirección URL.</span><span class="sxs-lookup"><span data-stu-id="6257f-131">For example, a URL membership for a code group is based on URL evidence.</span></span> <span data-ttu-id="6257f-132">Common Language Runtime (CLR) usa características de identificación como la evidencia de dirección URL para describir el código y para determinar si se cumple la condición de pertenencia de un grupo.</span><span class="sxs-lookup"><span data-stu-id="6257f-132">The common language runtime (CLR) uses identifying characteristics such as URL evidence to describe the code and to determine whether a group's membership condition has been met.</span></span> <span data-ttu-id="6257f-133">Por ejemplo, si la condición de pertenencia de un grupo de código es el "código del ensamblado C:\Archivos de programa\Microsoft SQL Server\MSRS10_50.MSSQLSERVER\Reporting Services\ReportServer\bin\Microsoft.Samples.ReportingServices.FsiDataExtension.dll", el motor en tiempo de ejecución examina la evidencia para determinar si el código proviene de dicha ubicación.</span><span class="sxs-lookup"><span data-stu-id="6257f-133">For example, if the membership condition of a code group is "code in the assembly C:\Program Files\Microsoft SQL Server\MSRS10_50.MSSQLSERVER\Reporting Services\ReportServer\bin\Microsoft.Samples.ReportingServices.FsiDataExtension.dll", the runtime examines the evidence to determine whether the code originates from that location.</span></span> <span data-ttu-id="6257f-134">Un ejemplo de una entrada de configuración para este tipo de grupo de código podría ser similar al siguiente:</span><span class="sxs-lookup"><span data-stu-id="6257f-134">An example of a configuration entry for this type of code group might look like the following:</span></span>  
  
```  
<CodeGroup class="UnionCodeGroup"  
   version="1"  
   PermissionSetName="FullTrust"  
   Name="MyCodeGroup"  
   Description="Code group for my data processing extension">  
      <IMembershipCondition class="UrlMembershipCondition"  
         version="1"  
         Url="C:\Program Files\Microsoft SQL Server\MSRS10_50.MSSQLSERVER\Reporting Services\ReportServer\bin\Microsoft.Samples.ReportingServices.FsiDataExtension.dll"  
       />  
</CodeGroup>  
```  
  
 <span data-ttu-id="6257f-135">Debería trabajar con su administrador del sistema o su experto de implementación de aplicaciones para determinar el tipo de seguridad de acceso del código y los grupos de código que requieren sus extensiones de [!INCLUDE[ssRSnoversion](../../../includes/ssrsnoversion-md.md)] o ensamblados personalizados.</span><span class="sxs-lookup"><span data-stu-id="6257f-135">You should work with your system administrator or application deployment expert to determine the type of code access security and code groups that your custom assemblies or [!INCLUDE[ssRSnoversion](../../../includes/ssrsnoversion-md.md)] extensions require.</span></span>  
  
## <a name="named-permission-sets"></a><span data-ttu-id="6257f-136">Conjuntos de permisos con nombre</span><span class="sxs-lookup"><span data-stu-id="6257f-136">Named Permission Sets</span></span>  
 <span data-ttu-id="6257f-137">Un conjunto de permisos con nombre es un conjunto de permisos que los administradores pueden asociar a un grupo de código.</span><span class="sxs-lookup"><span data-stu-id="6257f-137">A named permission set is a set of permissions that administrators can associate with a code group.</span></span> <span data-ttu-id="6257f-138">La mayoría de los conjuntos de permisos con nombre están formados al menos por un permiso, un nombre y una descripción para el conjunto de permisos.</span><span class="sxs-lookup"><span data-stu-id="6257f-138">Most named permission sets consist of at least one permission, a name, and description for the permission set.</span></span> <span data-ttu-id="6257f-139">Los administradores pueden usar los conjuntos de permisos con nombre para establecer o modificar la directiva de seguridad para grupos de código.</span><span class="sxs-lookup"><span data-stu-id="6257f-139">Administrators can use named permission sets to establish or modify the security policy for code groups.</span></span> <span data-ttu-id="6257f-140">Con un conjunto de permisos con nombre se pueden asociar varios grupos de código.</span><span class="sxs-lookup"><span data-stu-id="6257f-140">More than one code group can be associated with the same named permission set.</span></span> <span data-ttu-id="6257f-141">El CLR proporciona conjuntos de permisos con nombre integrados; entre estos se encuentran **Nada**, **Ejecución**, **Internet**, **Intranet local**, **Todo** y **Plena confianza**.</span><span class="sxs-lookup"><span data-stu-id="6257f-141">The CLR provides built-in named permission sets; among these are **Nothing**, **Execution**, **Internet**, **LocalIntranet**, **Everything**, and **FullTrust**.</span></span>  
  
> [!NOTE]  
>  <span data-ttu-id="6257f-142">Las extensiones de datos personalizados, entrega, representación y seguridad en [!INCLUDE[ssRSnoversion](../../../includes/ssrsnoversion-md.md)] se deben ejecutar con el conjunto de permisos **Plena confianza**.</span><span class="sxs-lookup"><span data-stu-id="6257f-142">Custom data, delivery, rendering, and security extensions in [!INCLUDE[ssRSnoversion](../../../includes/ssrsnoversion-md.md)] must run under the **FullTrust** permission set.</span></span> <span data-ttu-id="6257f-143">Trabaje con su administrador del sistema para agregar el grupo de código y las condiciones de pertenencia adecuados para sus extensiones de [!INCLUDE[ssRSnoversion](../../../includes/ssrsnoversion-md.md)].</span><span class="sxs-lookup"><span data-stu-id="6257f-143">Work with your system administrator to add the appropriate code group and membership conditions for your [!INCLUDE[ssRSnoversion](../../../includes/ssrsnoversion-md.md)] extensions.</span></span>  
  
 <span data-ttu-id="6257f-144">Puede asociar sus propios niveles personalizados de permisos para los ensamblados personalizados que usa con informes.</span><span class="sxs-lookup"><span data-stu-id="6257f-144">You can associate your own custom levels of permissions for custom assemblies that you use with reports.</span></span> <span data-ttu-id="6257f-145">Por ejemplo, si desea permitir a un ensamblado el acceso a un archivo concreto, puede crear un nuevo conjunto de permisos con acceso de E/S de archivo concreto y, a continuación, asignar el conjunto de permisos a su grupo de código.</span><span class="sxs-lookup"><span data-stu-id="6257f-145">For example, if you want to allow an assembly to access a specific file, you can create a new named permission set with specific file I/O access and then assign the permission set to your code group.</span></span> <span data-ttu-id="6257f-146">El conjunto de permisos siguiente permite el acceso de solo lectura al archivo MyFile.xml:</span><span class="sxs-lookup"><span data-stu-id="6257f-146">The following permission set grants read-only access to the file MyFile.xml:</span></span>  
  
```  
<PermissionSet class="NamedPermissionSet"  
   version="1"  
   Name="MyNewFilePermissionSet"  
   Description="A special permission set that grants read access to my file.">  
    <IPermission class="FileIOPermission"  
       version="1"  
       Read="C:\MyFile.xml"/>  
    <IPermission class="SecurityPermission"  
       version="1"  
       Flags="Assertion, Execution"/>  
</PermissionSet>  
```  
  
 <span data-ttu-id="6257f-147">Un grupo de código al que concede este conjunto de permisos podría tener un aspecto similar al siguiente:</span><span class="sxs-lookup"><span data-stu-id="6257f-147">A code group that you grant this permission set might look like the following:</span></span>  
  
```  
<CodeGroup class="UnionCodeGroup"  
   version="1"  
   PermissionSetName="MyNewFilePermissionSet"  
   Name="MyNewCodeGroup"  
   Description="A special code group for my custom assembly.">  
   <IMembershipCondition class="UrlMembershipCondition"  
      version="1"  
      Url="C:\Program Files\Microsoft SQL Server\MSRS10_50.MSSQLSERVER\Reporting Services\ReportServer\bin\MyCustomAssembly.dll"/>  
</CodeGroup>  
```  
  
## <a name="see-also"></a><span data-ttu-id="6257f-148">Consulte también</span><span class="sxs-lookup"><span data-stu-id="6257f-148">See Also</span></span>  
 [<span data-ttu-id="6257f-149">Desarrollo seguro &#40;Reporting Services&#41;</span><span class="sxs-lookup"><span data-stu-id="6257f-149">Secure Development &#40;Reporting Services&#41;</span></span>](secure-development-reporting-services.md)  
  
  
