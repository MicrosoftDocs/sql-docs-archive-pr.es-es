---
title: Usar los archivos de directivas de seguridad de Reporting Services | Microsoft Docs
ms.custom: ''
ms.date: 03/06/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: reporting-services
ms.topic: reference
helpviewer_keywords:
- code groups [Reporting Services]
- CodeGroup elements
- configuration files [Reporting Services]
- code access security [Reporting Services], security policies
- security policies [Reporting Services]
- security configuration files [Reporting Services]
- named permission sets [Reporting Services]
ms.assetid: 2280fff6-3de7-44b1-87da-5db0ec975928
author: maggiesMSFT
ms.author: maggies
manager: kfile
ms.openlocfilehash: 15c5422741137505bc29a2de861fca1420e455d8
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 08/04/2020
ms.locfileid: "87677431"
---
# <a name="using-reporting-services-security-policy-files"></a><span data-ttu-id="5a522-102">Usar los archivos de directivas de seguridad de Reporting Services</span><span class="sxs-lookup"><span data-stu-id="5a522-102">Using Reporting Services Security Policy Files</span></span>
  [!INCLUDE[ssRSnoversion](../../../includes/ssrsnoversion-md.md)] <span data-ttu-id="5a522-103">almacena la información de los componentes de directiva de seguridad en tres archivos de configuración que se copian en el sistema de archivos durante la instalación.</span><span class="sxs-lookup"><span data-stu-id="5a522-103">stores component security policy information in three configuration files that are copied to the file system during setup.</span></span> <span data-ttu-id="5a522-104">Estos archivos de configuración pueden contener una combinación de uso interno y las directivas de seguridad definidas por el usuario para los ensamblados de código en [!INCLUDE[ssRSnoversion](../../../includes/ssrsnoversion-md.md)].</span><span class="sxs-lookup"><span data-stu-id="5a522-104">These configuration files can contain a combination of internal-use and user-defined security policies for code assemblies in [!INCLUDE[ssRSnoversion](../../../includes/ssrsnoversion-md.md)].</span></span> <span data-ttu-id="5a522-105">Los tres archivos de configuración corresponden a tres componentes protegibles de [!INCLUDE[ssRSnoversion](../../../includes/ssrsnoversion-md.md)]: el servidor de informes y el servicio de Windows, la aplicación web del Administrador de informes y la ventana de vista previa del Diseñador de Informes.</span><span class="sxs-lookup"><span data-stu-id="5a522-105">The three configuration files correspond to three securable components in [!INCLUDE[ssRSnoversion](../../../includes/ssrsnoversion-md.md)]: The report server and Windows service, the Report Manager Web application, and the Report Designer preview window.</span></span>  
  
> [!NOTE]  
>  <span data-ttu-id="5a522-106">Hay dos modos de vista previa para el Diseñador de informes: la pestaña de vista previa y la ventana de vista previa emergente que se inician cuando se inicia su Proyecto de informe en modo **DebugLocal**.</span><span class="sxs-lookup"><span data-stu-id="5a522-106">There are two preview modes for Report Designer: the preview tab and the pop-up preview window that is launched when your Report Project is started in **DebugLocal** mode.</span></span> <span data-ttu-id="5a522-107">La pestaña **Vista previa** no es un componente protegible y no aplica la configuración de directiva de seguridad.</span><span class="sxs-lookup"><span data-stu-id="5a522-107">The **Preview** tab is not a securable component and does not apply security policy settings.</span></span> <span data-ttu-id="5a522-108">La ventana de vista previa está pensada para simular la funcionalidad del servidor de informes y por consiguiente, tiene un archivo de configuración de directiva que usted o un administrador debe modificar para utilizar ensamblados y extensiones personalizadas en el Diseñador de informes.</span><span class="sxs-lookup"><span data-stu-id="5a522-108">The preview window is meant to simulate the report server functionality and therefore has a policy configuration file that you or an administrator must modify to use custom assemblies and custom extensions in Report Designer.</span></span>  
  
 <span data-ttu-id="5a522-109">Los archivos de configuración de directivas de seguridad contienen información de clase de seguridad, algunos conjuntos de permisos con nombre predeterminados y los grupos de código para los ensamblados en [!INCLUDE[ssRSnoversion](../../../includes/ssrsnoversion-md.md)].</span><span class="sxs-lookup"><span data-stu-id="5a522-109">The security policy configuration files contain security class information, some default named permission sets, and the code groups for assemblies in [!INCLUDE[ssRSnoversion](../../../includes/ssrsnoversion-md.md)].</span></span> <span data-ttu-id="5a522-110">Los archivos de configuración de directivas de [!INCLUDE[ssRSnoversion](../../../includes/ssrsnoversion-md.md)] son similares al archivo Security.config que determina los conjuntos de permisos y la jerarquía de grupos de código asociados a las directivas de nivel de equipos y de empresas de [!INCLUDE[dnprdnshort](../../../includes/dnprdnshort-md.md)].</span><span class="sxs-lookup"><span data-stu-id="5a522-110">The policy configuration files of [!INCLUDE[ssRSnoversion](../../../includes/ssrsnoversion-md.md)] are similar to the Security.config file that determines the code group hierarchy and permission sets associated with machine and enterprise level policies in the [!INCLUDE[dnprdnshort](../../../includes/dnprdnshort-md.md)].</span></span> <span data-ttu-id="5a522-111">La ubicación de este archivo es C:\WINDOWS\Microsoft.NET\Framework\v2.0.50727\CONFIG\security.config.</span><span class="sxs-lookup"><span data-stu-id="5a522-111">The location of this file is C:\WINDOWS\Microsoft.NET\Framework\v2.0.50727\CONFIG\security.config.</span></span>  
  
## <a name="policy-files-in-reporting-services"></a><span data-ttu-id="5a522-112">Archivos de directivas en Reporting Services</span><span class="sxs-lookup"><span data-stu-id="5a522-112">Policy Files in Reporting Services</span></span>  
 <span data-ttu-id="5a522-113">La tabla siguiente contiene una lista de los archivos de configuración de directivas en [!INCLUDE[ssRSnoversion](../../../includes/ssrsnoversion-md.md)], sus ubicaciones (para una instalación predeterminada) y sus funciones respectivas.</span><span class="sxs-lookup"><span data-stu-id="5a522-113">The following table lists the policy configuration files in [!INCLUDE[ssRSnoversion](../../../includes/ssrsnoversion-md.md)], their locations (assuming a default installation), and their respective functions.</span></span>  
  
|<span data-ttu-id="5a522-114">Nombre de archivo</span><span class="sxs-lookup"><span data-stu-id="5a522-114">File name</span></span>|<span data-ttu-id="5a522-115">Ubicación (instalación predeterminada)</span><span class="sxs-lookup"><span data-stu-id="5a522-115">Location (default installation)</span></span>|<span data-ttu-id="5a522-116">Descripción</span><span class="sxs-lookup"><span data-stu-id="5a522-116">Description</span></span>|  
|---------------|---------------------------------------|-----------------|  
|<span data-ttu-id="5a522-117">rssrvpolicy.config</span><span class="sxs-lookup"><span data-stu-id="5a522-117">rssrvpolicy.config</span></span>|<span data-ttu-id="5a522-118">C:\Archivos de programa\Microsoft SQL Server\MSRS10_50.MSSQLSERVER\Reporting Services\ReportServer</span><span class="sxs-lookup"><span data-stu-id="5a522-118">C:\Program Files\Microsoft SQL Server\MSRS10_50.MSSQLSERVER\Reporting Services\ReportServer</span></span>|<span data-ttu-id="5a522-119">El archivo de configuración de directivas del servidor de informes.</span><span class="sxs-lookup"><span data-stu-id="5a522-119">The report server policy configuration file.</span></span> <span data-ttu-id="5a522-120">Estas directivas de seguridad afectan principalmente a las expresiones de informe y a los ensamblados personalizados una vez que se implementa un informe en un servidor de informes.</span><span class="sxs-lookup"><span data-stu-id="5a522-120">These security policies primarily affect report expressions and custom assemblies once a report is deployed to a report server.</span></span> <span data-ttu-id="5a522-121">Este archivo de directivas también afecta a los datos personalizados, entregas, representaciones y extensiones de seguridad que se implementan en el servidor de informes.</span><span class="sxs-lookup"><span data-stu-id="5a522-121">This policy file also affects custom data, delivery, rendering and security extensions deployed to the report server.</span></span>|  
|<span data-ttu-id="5a522-122">rsmgrpolicy.config</span><span class="sxs-lookup"><span data-stu-id="5a522-122">rsmgrpolicy.config</span></span>|<span data-ttu-id="5a522-123">C:\Archivos de programa\Microsoft SQL Server\MSRS10_50.MSSQLSERVER\Reporting Services\ReportManager</span><span class="sxs-lookup"><span data-stu-id="5a522-123">C:\Program Files\Microsoft SQL Server\MSRS10_50.MSSQLSERVER\Reporting Services\ReportManager</span></span>|<span data-ttu-id="5a522-124">Archivo de configuración de directivas del Administrador de informes.</span><span class="sxs-lookup"><span data-stu-id="5a522-124">Report Manager policy configuration file.</span></span> <span data-ttu-id="5a522-125">Estas directivas de seguridad afectan a todos los ensamblados que abarca el Administrador de informes; por ejemplo, extensiones de interfaz de usuario de suscripciones para entregas personalizadas.</span><span class="sxs-lookup"><span data-stu-id="5a522-125">These security policies affect all assemblies that extend Report Manager; for example, subscription user interface extensions for custom delivery.</span></span>|  
|<span data-ttu-id="5a522-126">rspreviewpolicy.config</span><span class="sxs-lookup"><span data-stu-id="5a522-126">rspreviewpolicy.config</span></span>|<span data-ttu-id="5a522-127">C:\Archivos de programa\Microsoft Visual Studio 9.0\Common7\IDE\PrivateAssemblies</span><span class="sxs-lookup"><span data-stu-id="5a522-127">C:\Program Files\Microsoft Visual Studio 9.0\Common7\IDE\PrivateAssemblies</span></span>|<span data-ttu-id="5a522-128">El archivo de configuración de directivas de vista previa independiente del Diseñador de informes.</span><span class="sxs-lookup"><span data-stu-id="5a522-128">The Report Designer stand-alone preview policy configuration file.</span></span> <span data-ttu-id="5a522-129">Estas directivas de seguridad afectan a las expresiones de informe y a los ensamblados personalizados que se utilizan en los informes durante la vista previa y el desarrollo.</span><span class="sxs-lookup"><span data-stu-id="5a522-129">These security policies affect custom assemblies and report expressions that are used in reports during preview and development.</span></span> <span data-ttu-id="5a522-130">Estas directivas afectan también a las extensiones personalizadas, como las extensiones de procesamiento de datos, que se implementan en el Diseñador de informes.</span><span class="sxs-lookup"><span data-stu-id="5a522-130">These policies also affect custom extensions, such as data processing extensions, that are deployed to Report Designer.</span></span>|  
  
## <a name="modifying-configuration-files"></a><span data-ttu-id="5a522-131">Modificación de los archivos de configuración</span><span class="sxs-lookup"><span data-stu-id="5a522-131">Modifying Configuration Files</span></span>  
 <span data-ttu-id="5a522-132">Los parámetros de configuración se especifican como atributos o elementos XML.</span><span class="sxs-lookup"><span data-stu-id="5a522-132">Configuration settings are specified as either XML elements or attributes.</span></span> <span data-ttu-id="5a522-133">Si comprende XML y los archivos de configuración, puede utilizar un editor de texto o de código para modificar las opciones de configuración definibles por el usuario.</span><span class="sxs-lookup"><span data-stu-id="5a522-133">If you understand XML and configuration files, you can use a text or code editor to modify user-definable settings.</span></span> <span data-ttu-id="5a522-134">Los archivos de configuración de seguridad contienen información sobre los conjuntos de permisos y la jerarquía de grupos de código asociados a un nivel de directiva en [!INCLUDE[ssRSnoversion](../../../includes/ssrsnoversion-md.md)].</span><span class="sxs-lookup"><span data-stu-id="5a522-134">Security configuration files contain information about the code group hierarchy and permission sets associated with a policy level in [!INCLUDE[ssRSnoversion](../../../includes/ssrsnoversion-md.md)].</span></span> <span data-ttu-id="5a522-135">Se recomienda que utilice la utilidad de configuración de .NET Framework (Mscorcfg.msc) o la utilidad de directiva de seguridad de acceso del código (Caspol.exe) para modificar primero las directivas de seguridad en el archivo Security.config, de forma que los cambios de directiva correspondan a los elementos de configuración de XML válidos para los archivos de directivas.</span><span class="sxs-lookup"><span data-stu-id="5a522-135">It is recommended that you use the .NET Framework Configuration Utility (Mscorcfg.msc) or Code Access Security Policy Utility (Caspol.exe) to modify security policies in the Security.config file first, so that policy changes correspond to valid XML configuration elements for policy files.</span></span> <span data-ttu-id="5a522-136">Una vez finalizada esa tarea, puede cortar y pegar los nuevos grupos de código y conjuntos de permisos de Security.config en el archivo de directivas para el componente al que va a agregar los permisos de código.</span><span class="sxs-lookup"><span data-stu-id="5a522-136">Once you have done that, you can cut and paste the new code groups and permission sets from Security.config to the policy file for the component to which you are adding code permissions.</span></span>  
  
> [!IMPORTANT]  
>  <span data-ttu-id="5a522-137">Debería hacer una copia de seguridad de los archivos de configuración de directivas antes de realizar cualquier modificación.</span><span class="sxs-lookup"><span data-stu-id="5a522-137">You should backup your policy configuration files prior to making any changes.</span></span>  
  
 <span data-ttu-id="5a522-138">De esta manera se logran dos cosas.</span><span class="sxs-lookup"><span data-stu-id="5a522-138">Using this approach accomplishes two things.</span></span> <span data-ttu-id="5a522-139">Primero, permite utilizar una herramienta visual para construir grupos de código y conjuntos de permisos para [!INCLUDE[ssRSnoversion](../../../includes/ssrsnoversion-md.md)].</span><span class="sxs-lookup"><span data-stu-id="5a522-139">First, it enables you to use a visual tool to build your code groups and permission sets for [!INCLUDE[ssRSnoversion](../../../includes/ssrsnoversion-md.md)].</span></span> <span data-ttu-id="5a522-140">Esto es mucho más fácil que escribir elementos de configuración de XML desde el principio.</span><span class="sxs-lookup"><span data-stu-id="5a522-140">This is much easier than writing XML configuration elements from scratch.</span></span> <span data-ttu-id="5a522-141">En segundo lugar, garantiza que no se dañan los archivos de configuración de directivas de seguridad con elementos y atributos XML corruptos.</span><span class="sxs-lookup"><span data-stu-id="5a522-141">Secondly, it ensures that you do not corrupt the security policy configuration files with malformed XML elements and attributes.</span></span> <span data-ttu-id="5a522-142">Para obtener más información acerca de la utilidad de la directiva de seguridad de acceso del código, vea la sección sobre los archivos de directivas de seguridad de Reporting Services en MSDN.</span><span class="sxs-lookup"><span data-stu-id="5a522-142">For more information about the Code Access Security Policy Utility, see Using Reporting Services Security Policy Files on MSDN.</span></span>  
  
 <span data-ttu-id="5a522-143">Antes de modificar los archivos de configuración de directivas, debería leer toda la información disponible en esta sección y los temas relacionados.</span><span class="sxs-lookup"><span data-stu-id="5a522-143">Before modifying policy configuration files, you should read all the information available in this section and related topics.</span></span> <span data-ttu-id="5a522-144">Modificar la configuración de directivas de [!INCLUDE[ssRSnoversion](../../../includes/ssrsnoversion-md.md)] puede afectar significativamente a la seguridad acerca de cómo ejecutan los componentes de [!INCLUDE[ssRSnoversion](../../../includes/ssrsnoversion-md.md)] los módulos de código externo.</span><span class="sxs-lookup"><span data-stu-id="5a522-144">Modifying the policy configuration of [!INCLUDE[ssRSnoversion](../../../includes/ssrsnoversion-md.md)] can have a significant security impact on how [!INCLUDE[ssRSnoversion](../../../includes/ssrsnoversion-md.md)] components execute external code modules.</span></span>  
  
## <a name="placement-of-codegroup-elements-for-extensions"></a><span data-ttu-id="5a522-145">Colocación de los elementos CodeGroup para las extensiones</span><span class="sxs-lookup"><span data-stu-id="5a522-145">Placement of CodeGroup Elements for Extensions</span></span>  
 <span data-ttu-id="5a522-146">La colocación de los elementos CodeGroup en un archivo de directiva de seguridad es importante.</span><span class="sxs-lookup"><span data-stu-id="5a522-146">The placement of CodeGroup elements in a security policy file is important.</span></span> <span data-ttu-id="5a522-147">Para las extensiones y los ensamblados personalizados que desarrolla, se recomienda que coloque sus grupos de código personalizados directamente debajo de la entrada existente para la pertenencia de dirección URL "$CodeGen$/\*", como se indica a continuación:</span><span class="sxs-lookup"><span data-stu-id="5a522-147">For extensions and custom assemblies that you develop, it is recommended that you place your custom code groups directly below the existing entry for the URL membership "$CodeGen$/\*", as indicated by the following:</span></span>  
  
```  
<CodeGroup  
    class="UnionCodeGroup"  
    version="1"  
    PermissionSetName="FullTrust">  
    <IMembershipCondition   
        class="UrlMembershipCondition"  
        version="1"  
        Url="$CodeGen$/*"  
    />  
</CodeGroup>  
<CodeGroup   
    class="UnionCodeGroup"  
    version="1"  
    PermissionSetName="FullTrust"  
    Name="MyCustomCodeGroup"  
    Description="Code group for my custom extension">  
        <IMembershipCondition class="UrlMembershipCondition"  
        version="1"  
        Url="C:\Program Files\Microsoft SQL Server\MSSQL\Reporting Services\ReportServer\bin\MyAssembly.dll"  
        />  
</CodeGroup>  
```  
  
 <span data-ttu-id="5a522-148">Los grupos de código adicionales se pueden agregar uno después del otro.</span><span class="sxs-lookup"><span data-stu-id="5a522-148">Additional code groups can be added one after another.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="5a522-149">Consulte también</span><span class="sxs-lookup"><span data-stu-id="5a522-149">See Also</span></span>  
 [<span data-ttu-id="5a522-150">Descripción de las directivas de seguridad</span><span class="sxs-lookup"><span data-stu-id="5a522-150">Understanding Security Policies</span></span>](understanding-security-policies.md)  
  
  
