---
title: Implementar una clase Connection para una extensión de procesamiento de datos | Microsoft Docs
ms.custom: ''
ms.date: 03/06/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: reporting-services
ms.topic: reference
helpviewer_keywords:
- connections [Reporting Services], data processing extensions
- Connection class
- data processing extensions [Reporting Services], connections
ms.assetid: 7047d29e-a2c9-4e6f-ad02-635851a38ed7
author: maggiesMSFT
ms.author: maggies
manager: kfile
ms.openlocfilehash: 84caac40ec8df198d5c26ed89bf35fad71ad914f
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 08/04/2020
ms.locfileid: "87750486"
---
# <a name="implementing-a-connection-class-for-a-data-processing-extension"></a><span data-ttu-id="6d2e9-102">Implementar una clase Connection para una extensión de procesamiento de datos</span><span class="sxs-lookup"><span data-stu-id="6d2e9-102">Implementing a Connection Class for a Data Processing Extension</span></span>
  <span data-ttu-id="6d2e9-103">El objeto **Connection** representa una conexión a bases de datos o un recurso similar, y es el punto inicial para los usuarios de una extensión de procesamiento de datos de [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] [!INCLUDE[ssRSnoversion](../../../includes/ssrsnoversion-md.md)].</span><span class="sxs-lookup"><span data-stu-id="6d2e9-103">The **Connection** object represents a database connection or similar resource and is the starting point for users of a [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] [!INCLUDE[ssRSnoversion](../../../includes/ssrsnoversion-md.md)] data processing extension.</span></span> <span data-ttu-id="6d2e9-104">Representa las conexiones a los servidores de bases de datos, aunque cualquier entidad con un comportamiento similar se puede exponer como **Connection**.</span><span class="sxs-lookup"><span data-stu-id="6d2e9-104">It represents connections to database servers, though any entity with similar behavior can be exposed as a **Connection**.</span></span>  
  
 <span data-ttu-id="6d2e9-105">Para implementar un objeto **Connection**, cree una clase que implemente <xref:Microsoft.ReportingServices.DataProcessing.IDbConnection> y que implemente opcionalmente <xref:Microsoft.ReportingServices.DataProcessing.IDbConnectionExtension>.</span><span class="sxs-lookup"><span data-stu-id="6d2e9-105">To implement a **Connection** object, create a class that implements <xref:Microsoft.ReportingServices.DataProcessing.IDbConnection> and optionally implements <xref:Microsoft.ReportingServices.DataProcessing.IDbConnectionExtension>.</span></span>  
  
 <span data-ttu-id="6d2e9-106">En la implementación debe asegurarse de que se crea y se abre una conexión para que se puedan ejecutar los comandos.</span><span class="sxs-lookup"><span data-stu-id="6d2e9-106">In your implementation, you must ensure that a connection is created and opened before commands can be executed.</span></span> <span data-ttu-id="6d2e9-107">Asegúrese de que la implementación requiere que los clientes abran y cierren las conexiones explícitamente, en lugar de hacer que abra y cierre las conexiones para el cliente de forma implícita.</span><span class="sxs-lookup"><span data-stu-id="6d2e9-107">Ensure that your implementation requires clients to open and close connections explicitly, rather than having your implementation open and close connections implicitly for the client.</span></span> <span data-ttu-id="6d2e9-108">Realice comprobaciones de seguridad cuando se obtenga la conexión.</span><span class="sxs-lookup"><span data-stu-id="6d2e9-108">Perform your security checks when the connection is obtained.</span></span> <span data-ttu-id="6d2e9-109">Al requerir una conexión existente para las otras clases en la extensión de procesamiento de datos de [!INCLUDE[ssRS](../../../includes/ssrs.md)], se asegurará de que las comprobaciones de seguridad se realicen siempre al trabajar con el origen de datos.</span><span class="sxs-lookup"><span data-stu-id="6d2e9-109">Requiring an existing connection for the other classes in your [!INCLUDE[ssRS](../../../includes/ssrs.md)] data processing extension will then ensure that security checks are always performed when working with your data source.</span></span>  
  
 <span data-ttu-id="6d2e9-110">Las propiedades de la conexión deseada se representan como una cadena de conexión.</span><span class="sxs-lookup"><span data-stu-id="6d2e9-110">The properties of the desired connection are represented as a connection string.</span></span> <span data-ttu-id="6d2e9-111">Se recomienda encarecidamente que las extensiones de procesamiento de datos de [!INCLUDE[ssRS](../../../includes/ssrs.md)] admitan la propiedad <xref:Microsoft.ReportingServices.DataProcessing.IDbConnection.ConnectionString%2A> mediante el conocido sistema de par de nombre y valor definido por OLE DB.</span><span class="sxs-lookup"><span data-stu-id="6d2e9-111">It is strongly recommended that [!INCLUDE[ssRS](../../../includes/ssrs.md)] data processing extensions support the <xref:Microsoft.ReportingServices.DataProcessing.IDbConnection.ConnectionString%2A> property using the familiar name/value pair system defined by OLE DB.</span></span>  
  
> [!NOTE]  
>  <span data-ttu-id="6d2e9-112">Para obtener objetos **Connection**, a menudo se necesitan muchos recursos, de modo que puede ser conveniente que considere agrupar las conexiones u otras técnicas para mitigar esto.</span><span class="sxs-lookup"><span data-stu-id="6d2e9-112">**Connection** objects are often resource-intensive to obtain, so you may want to consider pooling connections or other techniques to mitigate this.</span></span>  
  
 <span data-ttu-id="6d2e9-113"><xref:Microsoft.ReportingServices.DataProcessing.IDbConnection> hereda de <xref:Microsoft.ReportingServices.Interfaces.IExtension>.</span><span class="sxs-lookup"><span data-stu-id="6d2e9-113"><xref:Microsoft.ReportingServices.DataProcessing.IDbConnection> inherits from <xref:Microsoft.ReportingServices.Interfaces.IExtension>.</span></span> <span data-ttu-id="6d2e9-114">Debe implementar la interfaz <xref:Microsoft.ReportingServices.Interfaces.IExtension> como parte de la implementación de la clase de conexión.</span><span class="sxs-lookup"><span data-stu-id="6d2e9-114">You must implement the <xref:Microsoft.ReportingServices.Interfaces.IExtension> interface as part of your connection class implementation.</span></span> <span data-ttu-id="6d2e9-115">La interfaz <xref:Microsoft.ReportingServices.Interfaces.IExtension> permite a una clase implementar un nombre de extensión localizado y procesar la información de configuración específica de la extensión que se almacena en el archivo de configuración de [!INCLUDE[ssRSnoversion](../../../includes/ssrsnoversion-md.md)].</span><span class="sxs-lookup"><span data-stu-id="6d2e9-115">The <xref:Microsoft.ReportingServices.Interfaces.IExtension> interface enables a class to implement a localized extension name and to process extension-specific configuration information stored in the [!INCLUDE[ssRSnoversion](../../../includes/ssrsnoversion-md.md)] configuration file.</span></span>  
  
 <span data-ttu-id="6d2e9-116">El objeto **Connection** contiene la propiedad <xref:Microsoft.ReportingServices.Interfaces.IExtension.LocalizedName%2A> a través de su implementación de <xref:Microsoft.ReportingServices.Interfaces.IExtension>.</span><span class="sxs-lookup"><span data-stu-id="6d2e9-116">Your **Connection** object contains the <xref:Microsoft.ReportingServices.Interfaces.IExtension.LocalizedName%2A> property through its implementation of <xref:Microsoft.ReportingServices.Interfaces.IExtension>.</span></span> <span data-ttu-id="6d2e9-117">Se recomienda encarecidamente que las extensiones de procesamiento de datos de [!INCLUDE[ssRSnoversion](../../../includes/ssrsnoversion-md.md)] admitan la propiedad <xref:Microsoft.ReportingServices.Interfaces.IExtension.LocalizedName%2A>, de forma que los usuarios encuentren un nombre traducido y conocido para la extensión en una interfaz de usuario, como el Administrador de informes.</span><span class="sxs-lookup"><span data-stu-id="6d2e9-117">It is strongly recommended that [!INCLUDE[ssRSnoversion](../../../includes/ssrsnoversion-md.md)] data processing extensions support the <xref:Microsoft.ReportingServices.Interfaces.IExtension.LocalizedName%2A> property, so that users encounter a familiar, localized name for the extension in a user interface, such as Report Manager.</span></span>  
  
 <span data-ttu-id="6d2e9-118"><xref:Microsoft.ReportingServices.Interfaces.IExtension> también permite que el objeto **Connection** recupere y procese los datos de configuración personalizados que se almacenan en el archivo RSReportServer.config.</span><span class="sxs-lookup"><span data-stu-id="6d2e9-118"><xref:Microsoft.ReportingServices.Interfaces.IExtension> also enables your **Connection** object to retrieve and process custom configuration data stored in the RSReportServer.config file.</span></span> <span data-ttu-id="6d2e9-119">Para obtener más información acerca de cómo procesar los datos de configuración personalizados, vea el método <xref:Microsoft.ReportingServices.Interfaces.IExtension.SetConfiguration%2A>.</span><span class="sxs-lookup"><span data-stu-id="6d2e9-119">For more information about processing custom configuration data, see the <xref:Microsoft.ReportingServices.Interfaces.IExtension.SetConfiguration%2A> method.</span></span>  
  
 <span data-ttu-id="6d2e9-120">La clase que implementa <xref:Microsoft.ReportingServices.Interfaces.IExtension> no se descarga de la memoria cuando se descarga el resto de las clases de extensión de procesamiento de datos.</span><span class="sxs-lookup"><span data-stu-id="6d2e9-120">The class that implements <xref:Microsoft.ReportingServices.Interfaces.IExtension> is not unloaded from memory when the rest of your data processing extension classes are unloaded.</span></span> <span data-ttu-id="6d2e9-121">Por ello, puede utilizar la clase **Extension** con el fin de almacenar información de estado a través de las conexiones o almacenar datos que pueden estar almacenados en la memoria caché.</span><span class="sxs-lookup"><span data-stu-id="6d2e9-121">Because of this, you can use your **Extension** class to store cross-connection state information or to store data that can be cached in memory.</span></span> <span data-ttu-id="6d2e9-122">La clase **Extension** permanece en la memoria siempre que se ejecuta el servidor de informes.</span><span class="sxs-lookup"><span data-stu-id="6d2e9-122">Your **Extension** class remains in memory as long as the report server is running.</span></span>  
  
 <span data-ttu-id="6d2e9-123">Puede extender la clase **Connection** para incluir compatibilidad con las credenciales de [!INCLUDE[ssRSnoversion](../../../includes/ssrsnoversion-md.md)] implementando <xref:Microsoft.ReportingServices.DataProcessing.IDbConnectionExtension>.</span><span class="sxs-lookup"><span data-stu-id="6d2e9-123">You can extend your **Connection** class to include support for credentials in [!INCLUDE[ssRSnoversion](../../../includes/ssrsnoversion-md.md)] by implementing <xref:Microsoft.ReportingServices.DataProcessing.IDbConnectionExtension>.</span></span> <span data-ttu-id="6d2e9-124">Al implementar las propiedades <xref:Microsoft.ReportingServices.DataProcessing.IDbConnectionExtension.IntegratedSecurity%2A>, <xref:Microsoft.ReportingServices.DataProcessing.IDbConnectionExtension.UserName%2A> y <xref:Microsoft.ReportingServices.DataProcessing.IDbConnectionExtension.Password%2A> de la interfaz <xref:Microsoft.ReportingServices.DataProcessing.IDbConnectionExtension>, habilita la casilla **Seguridad integrada** y los cuadros de texto **NombreDeUsuario** y **Contraseña** del cuadro de diálogo **Origen de datos** del Diseñador de informes.</span><span class="sxs-lookup"><span data-stu-id="6d2e9-124">When you implement the <xref:Microsoft.ReportingServices.DataProcessing.IDbConnectionExtension.IntegratedSecurity%2A>, <xref:Microsoft.ReportingServices.DataProcessing.IDbConnectionExtension.UserName%2A>, and <xref:Microsoft.ReportingServices.DataProcessing.IDbConnectionExtension.Password%2A> properties of the <xref:Microsoft.ReportingServices.DataProcessing.IDbConnectionExtension> interface, you enable the **Integrated Security** check box and **Username** and **Password** text boxes of the **Data Source** dialog in Report Designer.</span></span> <span data-ttu-id="6d2e9-125">Esto permite al Diseñador de informes almacenar y recuperar las credenciales de los orígenes de datos que admitan la autenticación.</span><span class="sxs-lookup"><span data-stu-id="6d2e9-125">This enables Report Designer to store and retrieve credentials for data sources that support authentication.</span></span> <span data-ttu-id="6d2e9-126">Las credenciales se almacenan seguras y se utilizan al representar los informes en el modo de vista previa.</span><span class="sxs-lookup"><span data-stu-id="6d2e9-126">The credentials are stored securely and used when rendering reports in preview mode.</span></span>  
  
> [!NOTE]  
>  <span data-ttu-id="6d2e9-127">Implementar de forma implícita <xref:Microsoft.ReportingServices.DataProcessing.IDbConnectionExtension> le exige que implemente los miembros de las interfaces <xref:Microsoft.ReportingServices.DataProcessing.IDbConnection> y <xref:Microsoft.ReportingServices.Interfaces.IExtension>.</span><span class="sxs-lookup"><span data-stu-id="6d2e9-127">Implementing <xref:Microsoft.ReportingServices.DataProcessing.IDbConnectionExtension> implicitly requires you to implement the members of the <xref:Microsoft.ReportingServices.DataProcessing.IDbConnection> and <xref:Microsoft.ReportingServices.Interfaces.IExtension> interfaces.</span></span>  
>   
>  <span data-ttu-id="6d2e9-128">Para obtener una muestra de la implementación de la clase **Connection**, vea [Muestras de productos de SQL Server Reporting Services](https://go.microsoft.com/fwlink/?LinkId=177889).</span><span class="sxs-lookup"><span data-stu-id="6d2e9-128">For a sample **Connection** class implementation, see [SQL Server Reporting Services Product Samples](https://go.microsoft.com/fwlink/?LinkId=177889).</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="6d2e9-129">Consulte también</span><span class="sxs-lookup"><span data-stu-id="6d2e9-129">See Also</span></span>  
 <span data-ttu-id="6d2e9-130">[Extensiones de Reporting Services](../reporting-services-extensions.md) </span><span class="sxs-lookup"><span data-stu-id="6d2e9-130">[Reporting Services Extensions](../reporting-services-extensions.md) </span></span>  
 <span data-ttu-id="6d2e9-131">[Implementar una extensión de procesamiento de datos](implementing-a-data-processing-extension.md) </span><span class="sxs-lookup"><span data-stu-id="6d2e9-131">[Implementing a Data Processing Extension](implementing-a-data-processing-extension.md) </span></span>  
 [<span data-ttu-id="6d2e9-132">Biblioteca de extensiones de Reporting Services</span><span class="sxs-lookup"><span data-stu-id="6d2e9-132">Reporting Services Extension Library</span></span>](../reporting-services-extension-library.md)  
  
  
