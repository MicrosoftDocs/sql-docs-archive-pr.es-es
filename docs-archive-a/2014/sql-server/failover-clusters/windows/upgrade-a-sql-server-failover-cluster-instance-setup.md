---
title: Actualizar una instancia de clúster de conmutación por error de SQL Server (programa de instalación) | Microsoft Docs
ms.custom: ''
ms.date: 06/13/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: high-availability
ms.topic: conceptual
helpviewer_keywords:
- upgrading clusters
- clusters [SQL Server], upgrading
- failover clustering [SQL Server], creating clusters
- clusters [SQL Server], creating
- failover clustering [SQL Server], upgrading
ms.assetid: ea8b7d66-e5a1-402f-9928-8f7310e84f5c
author: MashaMSFT
ms.author: mathoma
ms.openlocfilehash: a45628055ee12f5d771c863dec7a3368cdae5940
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 08/04/2020
ms.locfileid: "87749646"
---
# <a name="upgrade-a-sql-server-failover-cluster-instance-setup"></a><span data-ttu-id="83e96-102">Actualizar una instancia de clúster de conmutación por error de SQL Server (programa de instalación)</span><span class="sxs-lookup"><span data-stu-id="83e96-102">Upgrade a SQL Server Failover Cluster Instance (Setup)</span></span>
  <span data-ttu-id="83e96-103">Puede actualizar un clústeres de conmutación por error de [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] a un clústeres de conmutación por error de [!INCLUDE[ssSQL14](../../../includes/sssql14-md.md)] con el Asistente para la instalación de [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] o el símbolo del sistema.</span><span class="sxs-lookup"><span data-stu-id="83e96-103">You can upgrade a [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] failover cluster to a [!INCLUDE[ssSQL14](../../../includes/sssql14-md.md)] failover cluster by using the [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] Installation Wizard or a command prompt.</span></span>  
  
 <span data-ttu-id="83e96-104">Durante el proceso de actualización de los clústeres de conmutación por error, el tiempo de inactividad se limita al tiempo de conmutación por error y al tiempo necesario para ejecutar los scripts de actualización.</span><span class="sxs-lookup"><span data-stu-id="83e96-104">During the failover cluster upgrade, downtime is limited to failover time and the time that is required for upgrade scripts to run.</span></span> <span data-ttu-id="83e96-105">Si sigue el proceso de actualización gradual de los clústeres de conmutación por error, observará que el tiempo de inactividad es mínimo.</span><span class="sxs-lookup"><span data-stu-id="83e96-105">If you follow the failover cluster rolling upgrade process, your downtime is minimal.</span></span> <span data-ttu-id="83e96-106">Podría requerirse un tiempo de inactividad adicional para la instalación de todos los requisitos previos de los nodos de clúster de conmutación por error en caso de que no tuviese instalados estos requisitos previos.</span><span class="sxs-lookup"><span data-stu-id="83e96-106">Depending on whether you have all the prerequisites on the failover cluster nodes, you might incur additional downtime while you install these prerequisites.</span></span> <span data-ttu-id="83e96-107">Para obtener más información acerca de cómo minimizar el tiempo de inactividad durante la actualización, consulte la sección [prácticas recomendadas antes de actualizar un clúster de conmutación por error](#BestPractices) en esta página.</span><span class="sxs-lookup"><span data-stu-id="83e96-107">For more information about how to minimize the downtime during upgrade, see the [Best Practices Before Upgrading Failover Cluster](#BestPractices) section on this page.</span></span>  
  
 <span data-ttu-id="83e96-108">Para obtener más información sobre cómo actualizar, vea [actualizaciones de ediciones y versiones admitidas](../../../database-engine/install-windows/supported-version-and-edition-upgrades.md) y [actualización a SQL Server 2014](../../../database-engine/install-windows/upgrade-sql-server.md).</span><span class="sxs-lookup"><span data-stu-id="83e96-108">For more information about how to upgrade, see [Supported Version and Edition Upgrades](../../../database-engine/install-windows/supported-version-and-edition-upgrades.md) and [Upgrade to SQL Server 2014](../../../database-engine/install-windows/upgrade-sql-server.md).</span></span>  
  
 <span data-ttu-id="83e96-109">Para obtener más información acerca de la sintaxis de ejemplo para el uso del símbolo del sistema, consulte [Install SQL Server 2014 desde el símbolo del sistema](../../../database-engine/install-windows/install-sql-server-from-the-command-prompt.md).</span><span class="sxs-lookup"><span data-stu-id="83e96-109">For more information about sample syntax for command prompt usage, see [Install SQL Server 2014 from the Command Prompt](../../../database-engine/install-windows/install-sql-server-from-the-command-prompt.md).</span></span>  
  
## <a name="prerequisites"></a><span data-ttu-id="83e96-110">Requisitos previos</span><span class="sxs-lookup"><span data-stu-id="83e96-110">Prerequisites</span></span>  
 <span data-ttu-id="83e96-111">Antes de empezar, revise la siguiente información importante:</span><span class="sxs-lookup"><span data-stu-id="83e96-111">Before you begin, review the following important information:</span></span>  
  
-   [<span data-ttu-id="83e96-112">Antes de instalar los clústeres de conmutación por error</span><span class="sxs-lookup"><span data-stu-id="83e96-112">Before Installing Failover Clustering</span></span>](../install/before-installing-failover-clustering.md)  
  
-   <span data-ttu-id="83e96-113">[Use el asesor de actualizaciones para preparar las actualizaciones](../../install/use-upgrade-advisor-to-prepare-for-upgrades.md).</span><span class="sxs-lookup"><span data-stu-id="83e96-113">[Use Upgrade Advisor to Prepare for Upgrades](../../install/use-upgrade-advisor-to-prepare-for-upgrades.md).</span></span>  
  
-   [<span data-ttu-id="83e96-114">Actualizar el motor de base de datos</span><span class="sxs-lookup"><span data-stu-id="83e96-114">Upgrade Database Engine</span></span>](../../../database-engine/install-windows/upgrade-database-engine.md)  
  
-   <span data-ttu-id="83e96-115">El programa de instalación instala .NET Framework 4.0 en un sistema operativo en clúster.</span><span class="sxs-lookup"><span data-stu-id="83e96-115">Setup installs .NET Framework 4.0 on a clustered operating system.</span></span> <span data-ttu-id="83e96-116">Para reducir al mínimo el tiempo de inactividad, considere instalar .NET Framework 4.0 antes de ejecutar el programa de instalación.</span><span class="sxs-lookup"><span data-stu-id="83e96-116">To minimize any possible downtime, consider installing .NET Framework 4.0 before you run Setup.</span></span>  
  
-   <span data-ttu-id="83e96-117">[!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] le exige que instale una actualización para asegurarse de que se puede instalar correctamente el componente de Visual Studio.</span><span class="sxs-lookup"><span data-stu-id="83e96-117">To make sure that the Visual Studio component can be installed correctly, [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] requires you to install an update.</span></span> <span data-ttu-id="83e96-118">El programa de instalación de [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] comprueba la presencia de esta actualización y, a continuación, le exige que descargue e instale la actualización antes de continuar con la instalación de [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)].</span><span class="sxs-lookup"><span data-stu-id="83e96-118">[!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] Setup checks for the presence of this update and then requires you to download and install the update before you can continue with the [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] installation.</span></span> <span data-ttu-id="83e96-119">Para evitar la interrupción durante la instalación de [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] , puede descargar e instalar la actualización antes de ejecutar el programa de instalación de [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] , según se describe a continuación (o instalar todas las actualizaciones para .NET 3.5 SP1 disponibles en Windows Update):</span><span class="sxs-lookup"><span data-stu-id="83e96-119">To avoid the interruption during [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] Setup, you can download and install the update before running [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] Setup as described below (or install all the updates for .NET 3.5 SP1 available on Windows Update):</span></span>  
  
     <span data-ttu-id="83e96-120">Si instala [!INCLUDE[ssSQL14](../../../includes/sssql14-md.md)] en un equipo con el sistema operativo Windows Server 2008 SP2, puede obtener la actualización necesaria [aquí](https://go.microsoft.com/fwlink/?LinkId=198093) .</span><span class="sxs-lookup"><span data-stu-id="83e96-120">If you install [!INCLUDE[ssSQL14](../../../includes/sssql14-md.md)] on a computer with the Windows Server 2008 SP2 operating system, you can get the required update from [here](https://go.microsoft.com/fwlink/?LinkId=198093)</span></span>  
  
     <span data-ttu-id="83e96-121">Si instala [!INCLUDE[ssSQL14](../../../includes/sssql14-md.md)] en un equipo que tiene el sistema operativo [!INCLUDE[win7](../../../includes/win7-md.md)] SP1 o [!INCLUDE[winserver2008r2](../../../includes/winserver2008r2-md.md)] SP1, esta actualización ya está incluida.</span><span class="sxs-lookup"><span data-stu-id="83e96-121">If you install [!INCLUDE[ssSQL14](../../../includes/sssql14-md.md)] on a computer with the [!INCLUDE[win7](../../../includes/win7-md.md)] SP1 or [!INCLUDE[winserver2008r2](../../../includes/winserver2008r2-md.md)] SP1 operating system, this update in included.</span></span>  
  
-   <span data-ttu-id="83e96-122">El programa de instalación de [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] ya no instala .NET Framework 3.5 SP1 pero quizá se necesite al instalar [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] en [!INCLUDE[firstref_longhorn](../../../includes/firstref-longhorn-md.md)].</span><span class="sxs-lookup"><span data-stu-id="83e96-122">.NET Framework 3.5 SP1 is no longer installed by [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] Setup, but may be required while installing [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] on [!INCLUDE[firstref_longhorn](../../../includes/firstref-longhorn-md.md)].</span></span> <span data-ttu-id="83e96-123">Para obtener más información, consulte notas de la [!INCLUDE[ssSQL14](../../../includes/sssql14-md.md)] [versión](https://go.microsoft.com/fwlink/?LinkId=296445).</span><span class="sxs-lookup"><span data-stu-id="83e96-123">For more information, see [!INCLUDE[ssSQL14](../../../includes/sssql14-md.md)][Release Notes](https://go.microsoft.com/fwlink/?LinkId=296445).</span></span>  
  
-   <span data-ttu-id="83e96-124">En las instalaciones locales debe ejecutar el programa de instalación de [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] como administrador.</span><span class="sxs-lookup"><span data-stu-id="83e96-124">For local installations, you must run [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] Setup as an administrator.</span></span> <span data-ttu-id="83e96-125">Si instala [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] desde un recurso compartido remoto, deberá usar una cuenta de dominio que tenga permisos de lectura para dicho recurso.</span><span class="sxs-lookup"><span data-stu-id="83e96-125">If you install [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] from a remote share, you must use a domain account that has read permissions on the remote share.</span></span>  
  
-   <span data-ttu-id="83e96-126">Para actualizar una instancia de [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] a un [!INCLUDE[ssSQL14](../../../includes/sssql14-md.md)] clúster de conmutación por error, la instancia que se va a actualizar debe ser un clúster de conmutación por error.</span><span class="sxs-lookup"><span data-stu-id="83e96-126">To upgrade an instance of [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] to a [!INCLUDE[ssSQL14](../../../includes/sssql14-md.md)] failover cluster, the instance being upgraded must be a failover cluster.</span></span>  
  
     <span data-ttu-id="83e96-127">Para mover una instancia independiente de [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] a un clústeres de conmutación por error de [!INCLUDE[ssSQL14](../../../includes/sssql14-md.md)], instale un nuevo clústeres de conmutación por error de [!INCLUDE[ssSQL14](../../../includes/sssql14-md.md)] y luego migre las bases de datos de usuario desde la instancia independiente con el Asistente para copiar bases de datos.</span><span class="sxs-lookup"><span data-stu-id="83e96-127">To move a stand-alone instance of [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] to a [!INCLUDE[ssSQL14](../../../includes/sssql14-md.md)] failover cluster, install a new [!INCLUDE[ssSQL14](../../../includes/sssql14-md.md)] failover cluster, and then migrate user databases from the stand-alone instance by using the Copy Database Wizard.</span></span> <span data-ttu-id="83e96-128">Para más información, consulte [Use the Copy Database Wizard](../../../relational-databases/databases/use-the-copy-database-wizard.md).</span><span class="sxs-lookup"><span data-stu-id="83e96-128">For more information, see [Use the Copy Database Wizard](../../../relational-databases/databases/use-the-copy-database-wizard.md).</span></span>  
  
## <a name="rolling-upgrades"></a><span data-ttu-id="83e96-129">Actualizaciones sucesivas</span><span class="sxs-lookup"><span data-stu-id="83e96-129">Rolling Upgrades</span></span>  
 <span data-ttu-id="83e96-130">Para actualizar un clúster de conmutación por error de [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] a [!INCLUDE[ssSQL14](../../../includes/sssql14-md.md)], debe ejecutar el programa de instalación con una acción de actualización en cada nodo de clúster de conmutación por error, de uno en uno, comenzando por los nodos pasivos.</span><span class="sxs-lookup"><span data-stu-id="83e96-130">To upgrade a [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] failover cluster to [!INCLUDE[ssSQL14](../../../includes/sssql14-md.md)], you must run setup with upgrade action on each failover cluster node, one at a time, starting with the passive nodes.</span></span> <span data-ttu-id="83e96-131">A medida que se actualiza cada nodo, se excluye de los posibles propietarios del clúster de conmutación por error.</span><span class="sxs-lookup"><span data-stu-id="83e96-131">As you upgrade each node, it is left out of the possible owners of the failover cluster.</span></span> <span data-ttu-id="83e96-132">Si se produce una conmutación por error inesperada, los nodos actualizados no participan en ella hasta que el programa de instalación de [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] mueve la propiedad del grupo de recursos del clúster a un nodo actualizado.</span><span class="sxs-lookup"><span data-stu-id="83e96-132">If there is an unexpected failover, the upgraded nodes do not participate in the failover until cluster resource group ownership is moved to an upgraded node by [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] Setup.</span></span>  
  
 <span data-ttu-id="83e96-133">De forma predeterminada, el programa de instalación determina automáticamente cuándo debe realizarse la conmutación por error a un nodo actualizado.</span><span class="sxs-lookup"><span data-stu-id="83e96-133">By default, Setup automatically determines when to fail over to an upgraded node.</span></span> <span data-ttu-id="83e96-134">Para ello se basa en el número total de nodos de la instancia de los clústeres de conmutación por error y en el número de nodos que ya se han actualizado.</span><span class="sxs-lookup"><span data-stu-id="83e96-134">This depends on the total number of nodes in the failover cluster instance and the number of nodes that have already been upgraded.</span></span> <span data-ttu-id="83e96-135">Cuando se ha actualizado la mitad de los nodos o más, el programa de instalación realiza una conmutación por error a un nodo actualizado en el momento en que se realiza la actualización en el siguiente nodo.</span><span class="sxs-lookup"><span data-stu-id="83e96-135">When half of the nodes or more have already been upgraded, Setup causes a failover to an upgraded node when you perform upgrade on the next node.</span></span> <span data-ttu-id="83e96-136">Tras la conmutación por error a un nodo actualizado, el grupo de clústeres se mueve a un nodo actualizado.</span><span class="sxs-lookup"><span data-stu-id="83e96-136">Upon failover to an upgraded node, the cluster group is moved to an upgraded node.</span></span> <span data-ttu-id="83e96-137">Todos los nodos actualizados se colocan en la lista de propietarios posibles y todos los nodos que aún no se han actualizado se quitan de la lista.</span><span class="sxs-lookup"><span data-stu-id="83e96-137">All the upgraded nodes are put in the possible owners list and all the nodes that are not yet upgraded are removed from the possible owners list.</span></span> <span data-ttu-id="83e96-138">A medida que se actualiza cada uno de los nodos restantes, se agrega a los posibles propietarios de los clústeres de conmutación por error.</span><span class="sxs-lookup"><span data-stu-id="83e96-138">As you upgrade each remaining node, it is added to the possible owners of the failover cluster.</span></span>  
  
 <span data-ttu-id="83e96-139">Este proceso da lugar a un tiempo de inactividad limitado a un tiempo de conmutación por error y un tiempo de ejecución de script de actualización de bases de datos durante la actualización completa de los clústeres de conmutación por error.</span><span class="sxs-lookup"><span data-stu-id="83e96-139">This process results in downtime limited to one failover time and database upgrade script execution time during the whole failover cluster upgrade.</span></span>  
  
 <span data-ttu-id="83e96-140">Para controlar el comportamiento de la conmutación por error de los nodos en clúster durante el proceso de actualización, ejecute la operación de actualización en el símbolo del sistema y use el parámetro /FAILOVERCLUSTERROLLOWNERSHIP.</span><span class="sxs-lookup"><span data-stu-id="83e96-140">To control the failover behavior of cluster nodes during the upgrade process, run the upgrade operation at the command prompt and use the /FAILOVERCLUSTERROLLOWNERSHIP parameter.</span></span> <span data-ttu-id="83e96-141">Para obtener más información, vea [Instalar SQL Server 2014 desde el símbolo del sistema](../../../database-engine/install-windows/install-sql-server-from-the-command-prompt.md).</span><span class="sxs-lookup"><span data-stu-id="83e96-141">For more information, see [Install SQL Server 2014 from the Command Prompt](../../../database-engine/install-windows/install-sql-server-from-the-command-prompt.md).</span></span>  
  
 <span data-ttu-id="83e96-142">**Nota:** Si hay un clúster de conmutación por error de nodo único, [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] el programa de instalación desconecta el [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] grupo de recursos.</span><span class="sxs-lookup"><span data-stu-id="83e96-142">**Note** If there is a single-node failover cluster, [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] Setup takes the [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] resource group offline.</span></span>  
  
## <a name="considerations-when-upgrading-from-ssversion2005"></a><span data-ttu-id="83e96-143">Consideraciones al actualizar desde [!INCLUDE[ssVersion2005](../../../includes/ssversion2005-md.md)]</span><span class="sxs-lookup"><span data-stu-id="83e96-143">Considerations when Upgrading from [!INCLUDE[ssVersion2005](../../../includes/ssversion2005-md.md)]</span></span>  
 <span data-ttu-id="83e96-144">Si especificó grupos de dominio para la directiva de seguridad de clúster, no puede especificar el SID de servicio en [!INCLUDE[nextref_longhorn](../../../includes/nextref-longhorn-md.md)].</span><span class="sxs-lookup"><span data-stu-id="83e96-144">If you specified domain groups for the cluster security policy, you cannot specify service SID on [!INCLUDE[nextref_longhorn](../../../includes/nextref-longhorn-md.md)].</span></span> <span data-ttu-id="83e96-145">Si desea usar el SID de servicio, tendrá que realizar una actualización en paralelo.</span><span class="sxs-lookup"><span data-stu-id="83e96-145">If you want to use the service SID, you need to perform a side by side upgrade.</span></span>  
  
 <span data-ttu-id="83e96-146">Cuando se selecciona [!INCLUDE[ssDE](../../../includes/ssde-md.md)] para la actualización, se incluye la búsqueda de texto completo en la instalación con independencia de si se instaló en [!INCLUDE[ssVersion2005](../../../includes/ssversion2005-md.md)].</span><span class="sxs-lookup"><span data-stu-id="83e96-146">When you select [!INCLUDE[ssDE](../../../includes/ssde-md.md)] for upgrade, full-text search is included in the setup regardless of whether it was installed in [!INCLUDE[ssVersion2005](../../../includes/ssversion2005-md.md)].</span></span>  
  
 <span data-ttu-id="83e96-147">Si se habilitó la búsqueda de texto completo en [!INCLUDE[ssVersion2005](../../../includes/ssversion2005-md.md)], el programa de instalación vuelve a generar el catálogo de búsqueda de texto completo con independencia de las opciones disponibles.</span><span class="sxs-lookup"><span data-stu-id="83e96-147">If full-text search was enabled in [!INCLUDE[ssVersion2005](../../../includes/ssversion2005-md.md)], Setup rebuilds the full-text search catalog regardless of the options available to you.</span></span>  
  
## <a name="upgrading-to-a-sssql14-multi-subnet-failover-cluster"></a><span data-ttu-id="83e96-148">Actualización a un clústeres de conmutación por error de varias subredes de [!INCLUDE[ssSQL14](../../../includes/sssql14-md.md)]</span><span class="sxs-lookup"><span data-stu-id="83e96-148">Upgrading to a [!INCLUDE[ssSQL14](../../../includes/sssql14-md.md)] Multi-Subnet Failover Cluster</span></span>  
 <span data-ttu-id="83e96-149">Hay dos posibles escenarios para las actualizaciones:</span><span class="sxs-lookup"><span data-stu-id="83e96-149">There are two possible scenarios for upgrades:</span></span>  
  
1.  <span data-ttu-id="83e96-150">El clúster de conmutación por error de[!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] está configurado actualmente en una misma subred: Primero debe actualizar el clúster existente a [!INCLUDE[ssSQL14](../../../includes/sssql14-md.md)] iniciando de instalación y después del proceso de actualización.</span><span class="sxs-lookup"><span data-stu-id="83e96-150">[!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] failover cluster is currently configured on a single subnet: You must first upgrade the existing cluster to [!INCLUDE[ssSQL14](../../../includes/sssql14-md.md)] by launching Setup and following the upgrade process.</span></span> <span data-ttu-id="83e96-151">Después de completar la actualización del clúster de conmutación por error existente, agregue un nodo que esté en otra subred mediante la funcionalidad AddNode.</span><span class="sxs-lookup"><span data-stu-id="83e96-151">After completing the upgrade of the existing failover cluster, add a node that is on a different subnet using the AddNode functionality.</span></span> <span data-ttu-id="83e96-152">Confirme el cambio de dependencia de recurso de dirección IP a OR en la página de configuración de red en clúster.</span><span class="sxs-lookup"><span data-stu-id="83e96-152">Confirm the IP address resource dependency change to OR in the cluster network configuration page.</span></span> <span data-ttu-id="83e96-153">Tiene ahora un clústeres de conmutación por error de varias subredes de [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)].</span><span class="sxs-lookup"><span data-stu-id="83e96-153">You now have a [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] multi-subnet failover cluster.</span></span>  
  
2.  <span data-ttu-id="83e96-154">El clúster de conmutación por error de [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] está configurado actualmente en varias subredes mediante la tecnología de V-LAN elástica: debe actualizar primero el clúster existente a [!INCLUDE[ssSQL14](../../../includes/sssql14-md.md)].</span><span class="sxs-lookup"><span data-stu-id="83e96-154">[!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] failover cluster is currently configured on multiple subnets using the stretch V-LAN technology: You must first upgrade the existing cluster to [!INCLUDE[ssSQL14](../../../includes/sssql14-md.md)].</span></span> <span data-ttu-id="83e96-155">Dado que la tecnología de V-LAN elástica configura una subred única, se debe cambiar la configuración de red a varias subredes, cambiar la dependencia de recurso de dirección IP mediante la herramienta de administración de clúster de conmutación por error de Windows y cambiar la dependencia de IP a OR.</span><span class="sxs-lookup"><span data-stu-id="83e96-155">Because stretch V-LAN technology configures a single subnet, the network configuration must to be changed to multiple subnets, and change the IP address resource dependency using the Windows Failover Cluster administration tool and change the IP dependency to OR.</span></span>  
  
###  <a name="best-practices-before-upgrading-a-ssnoversion-failover-cluster"></a><a name="BestPractices"></a><span data-ttu-id="83e96-156">Prácticas recomendadas antes de actualizar un [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] clúster de conmutación por error</span><span class="sxs-lookup"><span data-stu-id="83e96-156">Best Practices Before Upgrading a [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] Failover Cluster</span></span>  
 <span data-ttu-id="83e96-157">Para eliminar el tiempo de inactividad inesperado debido al reinicio, instale por adelantado el paquete para no reiniciar de .NET Framework 4.0 en todos los nodos de clúster de conmutación por error antes de ejecutar la actualización en los nodos en clúster.</span><span class="sxs-lookup"><span data-stu-id="83e96-157">To eliminate unexpected downtime caused by a restart, preinstall the no-reboot package for .NET Framework 4.0 on all the failover cluster nodes before you run the upgrade on the cluster nodes.</span></span> <span data-ttu-id="83e96-158">Se recomienda seguir estos pasos para instalar por adelantado los requisitos previos:</span><span class="sxs-lookup"><span data-stu-id="83e96-158">We recommend the following steps to preinstall the prerequisites:</span></span>  
  
-   <span data-ttu-id="83e96-159">Instale el paquete para no reiniciar de .NET Framework 4.0 y actualice solo los componentes compartidos con los nodos pasivos.</span><span class="sxs-lookup"><span data-stu-id="83e96-159">Install the no-reboot package for .NET Framework 4.0, and upgrade only the shared components starting with the passive nodes.</span></span> <span data-ttu-id="83e96-160">De esta forma se instalan los archivos auxiliares de [!INCLUDE[dnprdnshort](../../../includes/dnprdnshort-md.md)] 4.0, Windows Installer 4.5 y [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)].</span><span class="sxs-lookup"><span data-stu-id="83e96-160">This installs [!INCLUDE[dnprdnshort](../../../includes/dnprdnshort-md.md)] 4.0, Windows Installer 4.5, and [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] support files.</span></span>  
  
-   <span data-ttu-id="83e96-161">Reinicie las veces que sean necesarias.</span><span class="sxs-lookup"><span data-stu-id="83e96-161">Restart one or more times, as required.</span></span>  
  
-   <span data-ttu-id="83e96-162">Realice la conmutación por error a un nodo actualizado.</span><span class="sxs-lookup"><span data-stu-id="83e96-162">Fail over to an upgraded node.</span></span>  
  
-   <span data-ttu-id="83e96-163">Actualice los componentes compartidos en el último nodo restante.</span><span class="sxs-lookup"><span data-stu-id="83e96-163">Upgrade the shared components on the last remaining node.</span></span>  
  
 <span data-ttu-id="83e96-164">Una vez actualizados todos los componentes compartidos y una vez instalados los requisitos previos, inicie el proceso de actualización de los clústeres de conmutación por error.</span><span class="sxs-lookup"><span data-stu-id="83e96-164">After all the shared components are upgraded and prerequisites are installed, start the failover cluster upgrade process.</span></span> <span data-ttu-id="83e96-165">Deberá ejecutar actualizaciones en cada nodo de clúster de conmutación por error, comenzando por los nodos pasivos en primer lugar y dirigiéndose hacia el nodo que posee el grupo de recursos del clúster.</span><span class="sxs-lookup"><span data-stu-id="83e96-165">You have to run upgrade on each failover cluster node, starting with the passive nodes first and making your way toward the node that owns the cluster resource group.</span></span>  
  
-   <span data-ttu-id="83e96-166">No es posible agregar características a un clústeres de conmutación por error existente.</span><span class="sxs-lookup"><span data-stu-id="83e96-166">You cannot add features to an existing failover cluster.</span></span>  
  
-   <span data-ttu-id="83e96-167">El cambio de edición de los clústeres de conmutación por error está limitado a determinados escenarios.</span><span class="sxs-lookup"><span data-stu-id="83e96-167">Changing the edition of the failover cluster is limited to certain scenarios.</span></span> <span data-ttu-id="83e96-168">Para obtener información detallada, vea [Actualizaciones de ediciones y versiones admitidas](../../../database-engine/install-windows/supported-version-and-edition-upgrades.md).</span><span class="sxs-lookup"><span data-stu-id="83e96-168">For more information, see [Supported Version and Edition Upgrades](../../../database-engine/install-windows/supported-version-and-edition-upgrades.md).</span></span>  
  
##  <a name="to-upgrade-a-ssnoversion-failover-cluster"></a><a name="UpgradeSteps"></a> <span data-ttu-id="83e96-169">Para actualizar un clústeres de conmutación por error de [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)]</span><span class="sxs-lookup"><span data-stu-id="83e96-169">To Upgrade a [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] Failover Cluster</span></span>  
  
#### <a name="to-upgrade-a-ssnoversion-failover-cluster"></a><span data-ttu-id="83e96-170">Para actualizar un clústeres de conmutación por error de [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)]</span><span class="sxs-lookup"><span data-stu-id="83e96-170">To upgrade a [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] failover cluster</span></span>  
  
1.  <span data-ttu-id="83e96-171">Inserte el disco de instalación de [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] y, en la carpeta raíz, haga doble clic en Setup.exe.</span><span class="sxs-lookup"><span data-stu-id="83e96-171">Insert the [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] installation media, and from the root folder, double-click Setup.exe.</span></span> <span data-ttu-id="83e96-172">Para realizar la instalación desde un recurso compartido de red, vaya a la carpeta raíz de dicho recurso y, a continuación, haga doble clic en Setup.exe.</span><span class="sxs-lookup"><span data-stu-id="83e96-172">To install from a network share, move to the root folder on the share, and then double-click Setup.exe.</span></span> <span data-ttu-id="83e96-173">Puede que se le solicite que instale los requisitos previos si no se han instalado previamente.</span><span class="sxs-lookup"><span data-stu-id="83e96-173">You may be asked to install the prerequisites, if they are not previously installed.</span></span>  
  
2.  > [!IMPORTANT]  
    >  <span data-ttu-id="83e96-174">Para obtener más información sobre los pasos 3 y 4, consulte la sección [prácticas recomendadas antes de actualizar un clúster de conmutación por error](#BestPractices) .</span><span class="sxs-lookup"><span data-stu-id="83e96-174">For more information about steps 3 and 4, see the [Best Practices Before Upgrading Failover Cluster](#BestPractices) section.</span></span>  
  
3.  <span data-ttu-id="83e96-175">Una vez instalados los requisitos previos, el Asistente para instalación inicia el Centro de instalación de [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] .</span><span class="sxs-lookup"><span data-stu-id="83e96-175">After prerequisites are installed, the Installation Wizard starts the [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] Installation Center.</span></span> <span data-ttu-id="83e96-176">Para actualizar una instancia existente de [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] , haga clic en **actualizar desde [!INCLUDE[ssVersion2005](../../../includes/ssversion2005-md.md)] ,, [!INCLUDE[ssKatmai](../../../includes/sskatmai-md.md)] [!INCLUDE[ssKilimanjaro](../../../includes/sskilimanjaro-md.md)] o [!INCLUDE[ssSQL11](../../../includes/sssql11-md.md)] .**</span><span class="sxs-lookup"><span data-stu-id="83e96-176">To upgrade an existing instance of [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)], click **Upgrade from [!INCLUDE[ssVersion2005](../../../includes/ssversion2005-md.md)], [!INCLUDE[ssKatmai](../../../includes/sskatmai-md.md)], [!INCLUDE[ssKilimanjaro](../../../includes/sskilimanjaro-md.md)], or [!INCLUDE[ssSQL11](../../../includes/sssql11-md.md)].**</span></span>  
  
4.  <span data-ttu-id="83e96-177">Si son necesarios los archivos auxiliares del programa de instalación de [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] , el citado programa se encarga de instalarlos.</span><span class="sxs-lookup"><span data-stu-id="83e96-177">If Setup support files are required, [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] Setup installs them.</span></span> <span data-ttu-id="83e96-178">Si se le solicita que reinicie el equipo, hágalo antes de continuar.</span><span class="sxs-lookup"><span data-stu-id="83e96-178">If you are instructed to restart your computer, restart before you continue.</span></span>  
  
5.  <span data-ttu-id="83e96-179">El Comprobador de configuración del sistema ejecuta una operación de detección en el equipo.</span><span class="sxs-lookup"><span data-stu-id="83e96-179">The System Configuration Checker runs a discovery operation on your computer.</span></span> <span data-ttu-id="83e96-180">Para continuar, [!INCLUDE[clickOK](../../../includes/clickok-md.md)].</span><span class="sxs-lookup"><span data-stu-id="83e96-180">To continue, [!INCLUDE[clickOK](../../../includes/clickok-md.md)].</span></span>  
  
6.  <span data-ttu-id="83e96-181">En la página Clave del producto, escriba la clave de PID de la nueva edición de la versión, que debe ser la misma edición que la de la versión anterior del producto.</span><span class="sxs-lookup"><span data-stu-id="83e96-181">On the Product Key page, enter the PID key for the new version edition that matches the edition of the old product version.</span></span> <span data-ttu-id="83e96-182">Por ejemplo, para actualizar un clústeres de conmutación por error de Enterprise, debe especificar la clave de PID de [!INCLUDE[ssEnterprise](../../../includes/ssenterprise-md.md)].</span><span class="sxs-lookup"><span data-stu-id="83e96-182">For example, to upgrade an Enterprise failover cluster, you must supply a PID key for [!INCLUDE[ssEnterprise](../../../includes/ssenterprise-md.md)].</span></span> <span data-ttu-id="83e96-183">Haga clic en **Siguiente** para continuar.</span><span class="sxs-lookup"><span data-stu-id="83e96-183">Click **Next** to continue.</span></span> <span data-ttu-id="83e96-184">Tenga en cuenta que la clave de PID que use para actualizar los clústeres de conmutación por error debe ser coherente en todos los nodos de clúster de conmutación por error de la misma instancia de [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] .</span><span class="sxs-lookup"><span data-stu-id="83e96-184">Be aware that the PID key that you use for a failover cluster upgrade must be consistent across all failover cluster nodes in the same [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] instance.</span></span> <span data-ttu-id="83e96-185">Para obtener más información, vea las [ediciones y los componentes de SQL Server 2014](../../editions-and-components-of-sql-server-2016.md) y las actualizaciones de ediciones [y versiones admitidas](../../../database-engine/install-windows/supported-version-and-edition-upgrades.md).</span><span class="sxs-lookup"><span data-stu-id="83e96-185">For more information, see [Editions and Components of SQL Server 2014](../../editions-and-components-of-sql-server-2016.md) and [Supported Version and Edition Upgrades](../../../database-engine/install-windows/supported-version-and-edition-upgrades.md).</span></span>  
  
7.  <span data-ttu-id="83e96-186">En la página Términos de licencia, lea el contrato de licencia y active la casilla para aceptar los términos y condiciones de la licencia.</span><span class="sxs-lookup"><span data-stu-id="83e96-186">On the License Terms page, read the license agreement, and then select the check box to accept the license terms and conditions.</span></span> <span data-ttu-id="83e96-187">Para ayudar a mejorar [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)], también puede habilitar la opción de uso de características y enviar informes a [!INCLUDE[msCoName](../../../includes/msconame-md.md)].</span><span class="sxs-lookup"><span data-stu-id="83e96-187">To help improve [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)], you can also enable the feature usage option and send reports to [!INCLUDE[msCoName](../../../includes/msconame-md.md)].</span></span> <span data-ttu-id="83e96-188">**Haga clic en siguiente para continuar**.</span><span class="sxs-lookup"><span data-stu-id="83e96-188">**Click Next to continue**.</span></span> <span data-ttu-id="83e96-189">Para salir del programa de instalación, haga clic en **Cancelar**.</span><span class="sxs-lookup"><span data-stu-id="83e96-189">To end Setup, click **Cancel**.</span></span>  
  
8.  <span data-ttu-id="83e96-190">En la página Seleccionar instancia, especifique la instancia de [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] que desea a actualizar a [!INCLUDE[ssSQL14](../../../includes/sssql14-md.md)].</span><span class="sxs-lookup"><span data-stu-id="83e96-190">On the Select Instance page, specify the [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] instance to upgrade to [!INCLUDE[ssSQL14](../../../includes/sssql14-md.md)].</span></span> <span data-ttu-id="83e96-191">**Haga clic en siguiente para continuar**.</span><span class="sxs-lookup"><span data-stu-id="83e96-191">**Click Next to continue**.</span></span>  
  
9. <span data-ttu-id="83e96-192">En la página Selección de características aparecen seleccionadas las características que van a actualizarse.</span><span class="sxs-lookup"><span data-stu-id="83e96-192">On the Feature Selection page, the features to upgrade are preselected.</span></span> <span data-ttu-id="83e96-193">Después de seleccionar el nombre de la característica se muestra una descripción de cada grupo de componentes en el panel derecho.</span><span class="sxs-lookup"><span data-stu-id="83e96-193">A description for each component group appears in the right pane after you select the feature name.</span></span> <span data-ttu-id="83e96-194">Tenga en cuenta que no puede cambiar las características que se van a actualizar, y no puede agregar características durante la operación de actualización.</span><span class="sxs-lookup"><span data-stu-id="83e96-194">Be aware that you cannot change the features to be upgraded, and you cannot add features during the upgrade operation.</span></span> <span data-ttu-id="83e96-195">Para agregar características a una instancia actualizada de [!INCLUDE[ssSQL14](../../../includes/sssql14-md.md)] una vez completada la operación de actualización, vea [Agregar características a una instancia de SQL Server 2014 &#40;&#41;de instalación ](../../../database-engine/install-windows/add-features-to-an-instance-of-sql-server-setup.md).</span><span class="sxs-lookup"><span data-stu-id="83e96-195">To add features to an upgraded instance of [!INCLUDE[ssSQL14](../../../includes/sssql14-md.md)] after the upgrade operation is complete, see [Add Features to an Instance of SQL Server 2014 &#40;Setup&#41;](../../../database-engine/install-windows/add-features-to-an-instance-of-sql-server-setup.md).</span></span>  
  
     <span data-ttu-id="83e96-196">Los requisitos previos para las características seleccionadas se muestran en el recuadro del lado derecho.</span><span class="sxs-lookup"><span data-stu-id="83e96-196">The prerequisites for the selected features are displayed on the right-hand pane.</span></span> <span data-ttu-id="83e96-197">La instalación de SQL Server instalará los requisitos previos que no se hayan instalado todavía durante el paso de instalación que se describe más adelante en este procedimiento.</span><span class="sxs-lookup"><span data-stu-id="83e96-197">SQL Server Setup will install the prerequisite that are not already installed during the installation step described later in this procedure.</span></span>  
  
10. <span data-ttu-id="83e96-198">En la página Configuración de instancia, los campos se rellenan automáticamente con los valores de la instancia anterior.</span><span class="sxs-lookup"><span data-stu-id="83e96-198">On the Instance Configuration page, fields are automatically populated from the old instance.</span></span> <span data-ttu-id="83e96-199">Si lo desea, puede especificar el nuevo valor de InstanceID.</span><span class="sxs-lookup"><span data-stu-id="83e96-199">You can choose to specify the new InstanceID value.</span></span>  
  
     <span data-ttu-id="83e96-200">**Id. de instancia** : de manera predeterminada, el nombre de instancia se usa como identificador de la instancia.</span><span class="sxs-lookup"><span data-stu-id="83e96-200">**Instance ID** - By default, the instance name is used as the Instance ID.</span></span> <span data-ttu-id="83e96-201">Se usa para identificar los directorios de instalación y las claves del Registro para la instancia de [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)].</span><span class="sxs-lookup"><span data-stu-id="83e96-201">This is used to identify installation directories and registry keys for your instance of [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)].</span></span> <span data-ttu-id="83e96-202">Es así en las instancias predeterminadas y en las instancias con nombre.</span><span class="sxs-lookup"><span data-stu-id="83e96-202">This is the case for default instances and named instances.</span></span> <span data-ttu-id="83e96-203">Con una instancia predeterminada, el nombre y el identificador serían MSSQLSERVER.</span><span class="sxs-lookup"><span data-stu-id="83e96-203">For a default instance, the instance name and instance ID would be MSSQLSERVER.</span></span> <span data-ttu-id="83e96-204">Para utilizar un identificador de instancia no predeterminado, active la casilla **Id. de instancia** y proporcione un valor.</span><span class="sxs-lookup"><span data-stu-id="83e96-204">To use a nondefault instance ID, select the **Instance ID** check box and provide a value.</span></span> <span data-ttu-id="83e96-205">Si invalida el valor predeterminado, deberá especificar el mismo identificador de instancia para la instancia que se está actualizando en todos los nodos de clúster de conmutación por error.</span><span class="sxs-lookup"><span data-stu-id="83e96-205">If you override the default value, you must specify the same Instance ID for the instance being upgraded on all the failover cluster nodes.</span></span> <span data-ttu-id="83e96-206">El identificador de la instancia actualizada debe coincidir en todos los nodos.</span><span class="sxs-lookup"><span data-stu-id="83e96-206">The Instance ID for the upgraded instance must match across the nodes.</span></span>  
  
     <span data-ttu-id="83e96-207">**Instancias y características detectadas** : la cuadrícula muestra las instancias de [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] que se encuentran en el equipo en el que se ejecuta el programa de instalación.</span><span class="sxs-lookup"><span data-stu-id="83e96-207">**Detected instances and features** - The grid shows instances of [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] that are on the computer where Setup is running.</span></span> <span data-ttu-id="83e96-208">**Haga clic en siguiente para continuar**.</span><span class="sxs-lookup"><span data-stu-id="83e96-208">**Click Next to continue**.</span></span>  
  
11. <span data-ttu-id="83e96-209">La página Requisitos de espacio en disco calcula el espacio en disco necesario para las características especificadas y compara los requisitos con el espacio en disco disponible en el equipo donde se ejecuta el programa de instalación.</span><span class="sxs-lookup"><span data-stu-id="83e96-209">The Disk Space Requirements page calculates the required disk space for the features that you specify, and compares requirements to the available disk space on the computer where Setup is running.</span></span>  
  
12. <span data-ttu-id="83e96-210">En la página Actualización de la búsqueda de texto completo, especifique las opciones de actualización para las bases de datos que van a actualizarse.</span><span class="sxs-lookup"><span data-stu-id="83e96-210">On the Full-Text Search Upgrade page, specify the upgrade options for the databases being upgraded.</span></span> <span data-ttu-id="83e96-211">Para obtener más información, vea [Opciones de actualización de búsqueda de texto completo](../../install/full-text-search-upgrade-options.md).</span><span class="sxs-lookup"><span data-stu-id="83e96-211">For more information, see [Full-Text Search Upgrade Options](../../install/full-text-search-upgrade-options.md).</span></span>  
  
13. <span data-ttu-id="83e96-212">En la página **Informes de errores** , especifique la información que desee enviar a [!INCLUDE[msCoName](../../../includes/msconame-md.md)] y que ayudará a mejorar [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)].</span><span class="sxs-lookup"><span data-stu-id="83e96-212">On the **Error Reporting** page, specify the information that you want to send to [!INCLUDE[msCoName](../../../includes/msconame-md.md)] that will help improve [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)].</span></span> <span data-ttu-id="83e96-213">De forma predeterminada, se habilitan las opciones de informes de errores.</span><span class="sxs-lookup"><span data-stu-id="83e96-213">By default, options for error reporting is enabled.</span></span>  
  
14. <span data-ttu-id="83e96-214">El Comprobador de configuración del sistema ejecuta uno o varios conjuntos de reglas para validar la configuración del equipo con las características de [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] que ha especificado antes de que comience la operación de actualización.</span><span class="sxs-lookup"><span data-stu-id="83e96-214">The System Configuration Checker runs one more set of rules to validate your computer configuration with the [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] features that you have specified, before the upgrade operation begins.</span></span>  
  
15. <span data-ttu-id="83e96-215">La página Informe de actualización de clúster muestra la lista de nodos de la instancia de los clústeres de conmutación por error y la información de versión de la instancia para los componentes de [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] de cada nodo.</span><span class="sxs-lookup"><span data-stu-id="83e96-215">The Cluster Upgrade Report page displays the list of nodes in the failover cluster instance and the instance version information for [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] components on each node.</span></span> <span data-ttu-id="83e96-216">También muestra el estado del script de base de datos y el estado del script de replicación.</span><span class="sxs-lookup"><span data-stu-id="83e96-216">It displays the database script status and replication script status.</span></span> <span data-ttu-id="83e96-217">Además, muestra mensajes informativos sobre lo que ocurrirá al hacer clic en **Siguiente**.</span><span class="sxs-lookup"><span data-stu-id="83e96-217">In addition, it also displays informational messages on what will occur when you click **Next**.</span></span> <span data-ttu-id="83e96-218">En función del número de nodos de clúster de conmutación por error que ya se hayan actualizado y del número total de nodos, el programa de instalación muestra el comportamiento de conmutación por error que se produce al hacer clic en **siguiente**.</span><span class="sxs-lookup"><span data-stu-id="83e96-218">Depending on the number of failover cluster nodes that have already been upgraded and total number of nodes, Setup displays the failover behavior that happens when you click **Next**.</span></span> <span data-ttu-id="83e96-219">También le advierte del posible tiempo de inactividad innecesario que puede producirse si aún no ha instalado los requisitos previos.</span><span class="sxs-lookup"><span data-stu-id="83e96-219">It also warns about potential unnecessary downtime if you have not installed the prerequisites already.</span></span>  
  
16. <span data-ttu-id="83e96-220">La página Listo para actualizar muestra una vista de árbol de las opciones de instalación que se especificaron durante la instalación.</span><span class="sxs-lookup"><span data-stu-id="83e96-220">The Ready to Upgrade page displays a tree view of installation options that were specified during Setup.</span></span> <span data-ttu-id="83e96-221">Para continuar, haga clic en **Actualizar**.</span><span class="sxs-lookup"><span data-stu-id="83e96-221">To continue, click **Upgrade**.</span></span> [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] <span data-ttu-id="83e96-222">El programa de instalación instalará primero los requisitos previos necesarios para las características seleccionadas y a continuación realizará la instalación de características.</span><span class="sxs-lookup"><span data-stu-id="83e96-222">Setup will first install the required prerequisites for the selected features followed by the feature installation.</span></span>  
  
17. <span data-ttu-id="83e96-223">Durante la actualización, la página Progreso muestra el estado para que pueda supervisar el progreso de la actualización en el nodo actual a medida que se ejecuta el programa de instalación.</span><span class="sxs-lookup"><span data-stu-id="83e96-223">During upgrade, the Progress page provides status so that you can monitor the upgrade progress on the current node as Setup continues.</span></span>  
  
18. <span data-ttu-id="83e96-224">Tras la actualización del nodo actual, la página Informe de actualización de clúster muestra información sobre el estado de actualización de todos los nodos de clúster de conmutación por error, las características de cada uno de los nodos de clúster de conmutación por error y su información de versión.</span><span class="sxs-lookup"><span data-stu-id="83e96-224">After the upgrade of the current node, the Cluster Upgrade Report page displays an upgrade status information for all the failover cluster nodes, features on each failover cluster node, and their version information.</span></span> <span data-ttu-id="83e96-225">Confirme la información de versión que se muestra y prosiga con la actualización de los nodos restantes.</span><span class="sxs-lookup"><span data-stu-id="83e96-225">Confirm the version information that is displayed and continue with the upgrade of the remaining nodes.</span></span> <span data-ttu-id="83e96-226">En la página de estado también se indicará si se ha producido la conmutación por error a los nodos actualizados.</span><span class="sxs-lookup"><span data-stu-id="83e96-226">If the failover to upgraded nodes occurred, this is also apparent on the status page.</span></span> <span data-ttu-id="83e96-227">También puede comprobarlo en la herramienta Administrador de clústeres de Windows de cara a una confirmación.</span><span class="sxs-lookup"><span data-stu-id="83e96-227">You can also check in the Windows Cluster administrator tool to confirm.</span></span>  
  
19. <span data-ttu-id="83e96-228">Después de la actualización, la página Operación completada proporciona un vínculo al archivo de registro de resumen para la instalación y otras notas importantes.</span><span class="sxs-lookup"><span data-stu-id="83e96-228">After upgrade, the Complete page provides a link to the summary log file for the installation and other important notes.</span></span> <span data-ttu-id="83e96-229">Para completar el proceso de instalación de [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] , haga clic en **Cerrar**.</span><span class="sxs-lookup"><span data-stu-id="83e96-229">To complete the [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] installation process, click **Close**.</span></span>  
  
20. <span data-ttu-id="83e96-230">Si el programa indica que se reinicie el equipo, hágalo ahora.</span><span class="sxs-lookup"><span data-stu-id="83e96-230">If you are instructed to restart the computer, do so now.</span></span> <span data-ttu-id="83e96-231">Es importante leer el mensaje del Asistente para la instalación tras finalizar el programa de instalación.</span><span class="sxs-lookup"><span data-stu-id="83e96-231">It is important to read the message from the Installation Wizard when you have finished with Setup.</span></span> <span data-ttu-id="83e96-232">Para obtener más información sobre los archivos de registro de instalación, vea [Ver y leer los archivos de registro de instalación de SQL Server](../../../database-engine/install-windows/view-and-read-sql-server-setup-log-files.md).</span><span class="sxs-lookup"><span data-stu-id="83e96-232">For more information about Setup log files, see [View and Read SQL Server Setup Log Files](../../../database-engine/install-windows/view-and-read-sql-server-setup-log-files.md).</span></span>  
  
21. <span data-ttu-id="83e96-233">Para completar el proceso de actualización, repita los pasos 1 a 21 en todos los demás nodos de los clústeres de conmutación por error de [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)].</span><span class="sxs-lookup"><span data-stu-id="83e96-233">To complete the upgrade process, repeat steps 1 to 21 on all the other nodes on the [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] failover cluster.</span></span>  
  
## <a name="to-upgrade-a-ssnoversion-multi-subnet-failover-cluster"></a><span data-ttu-id="83e96-234">Para actualizar un clústeres de conmutación por error de varias subredes de [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)]</span><span class="sxs-lookup"><span data-stu-id="83e96-234">To upgrade a [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] Multi-Subnet Failover Cluster</span></span>  
  
#### <a name="to-upgrade-to-a-ssnoversion-multi-subnet-failover-cluster-existing-ssnoversion-cluster-is-a-non-multi-subnet-cluster"></a><span data-ttu-id="83e96-235">Para actualizar a un clústeres de conmutación por error de [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] (el clúster de [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] existente es un clúster no de varias subredes).</span><span class="sxs-lookup"><span data-stu-id="83e96-235">To upgrade to a [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] multi-subnet failover Cluster (Existing [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] cluster is a non multi-subnet cluster).</span></span>  
  
1.  <span data-ttu-id="83e96-236">Siga los pasos del 1 al 24 descritos en la sección [para actualizar un clúster de conmutación por error de SQL Server](#UpgradeSteps) anterior para actualizar el clúster a [!INCLUDE[ssSQL14](../../../includes/sssql14-md.md)] .</span><span class="sxs-lookup"><span data-stu-id="83e96-236">Follow the steps 1 through 24 described in the [To upgrade a SQL Server failover cluster](#UpgradeSteps) section above to upgrade your cluster to [!INCLUDE[ssSQL14](../../../includes/sssql14-md.md)].</span></span>  
  
2.  <span data-ttu-id="83e96-237">Agregue un nodo en otra subred utilizando la acción AddNode Setup y confirme la dependencia de recurso de dirección IP a OR en la página **Configuración de red en clúster** .</span><span class="sxs-lookup"><span data-stu-id="83e96-237">Add a node on a different subnet using the AddNode Setup action and confirm the IP address resource dependency to OR on the **Cluster Network Configuration** page.</span></span> <span data-ttu-id="83e96-238">Para obtener más información, vea [Agregar o quitar nodos en un clúster de conmutación por error de SQL Server &#40;&#41;de instalación ](../install/add-or-remove-nodes-in-a-sql-server-failover-cluster-setup.md).</span><span class="sxs-lookup"><span data-stu-id="83e96-238">For more information, see [Add or Remove Nodes in a SQL Server Failover Cluster &#40;Setup&#41;](../install/add-or-remove-nodes-in-a-sql-server-failover-cluster-setup.md).</span></span>  
  
#### <a name="to-upgrade-a-multi-subnet-cluster-currently-using-stretch-v-lan"></a><span data-ttu-id="83e96-239">Para actualizar un clúster de varias subredes que actualmente usa la tecnología de V-Lan elástica.</span><span class="sxs-lookup"><span data-stu-id="83e96-239">To upgrade a multi-subnet cluster currently using Stretch V-Lan.</span></span>  
  
1.  <span data-ttu-id="83e96-240">Siga los pasos del 1 al 24 descritos en la sección [para actualizar un clúster de conmutación por error de SQL Server](#UpgradeSteps) anterior para actualizar el clúster a [!INCLUDE[ssCurrent](../../../includes/sscurrent-md.md)] .</span><span class="sxs-lookup"><span data-stu-id="83e96-240">Follow the steps 1 through 24 described in the [To upgrade a SQL Server failover cluster](#UpgradeSteps) section above to upgrade your cluster to [!INCLUDE[ssCurrent](../../../includes/sscurrent-md.md)].</span></span>  
  
2.  <span data-ttu-id="83e96-241">Cambie la configuración de red para mover el nodo remoto a una subred diferente.</span><span class="sxs-lookup"><span data-stu-id="83e96-241">Change the network settings to move the remote node to a different subnet.</span></span>  
  
3.  <span data-ttu-id="83e96-242">Con la herramienta de administración de clústeres de conmutación por error de Windows, agregue una nueva dirección IP para la nueva subred, establezca la dependencia de recurso de dirección IP en OR.</span><span class="sxs-lookup"><span data-stu-id="83e96-242">Using the Windows Failover Cluster management tool, add a new IP address for the new subnet set the IP address resource dependency to OR.</span></span>  
  
## <a name="next-steps"></a><span data-ttu-id="83e96-243">Pasos siguientes</span><span class="sxs-lookup"><span data-stu-id="83e96-243">Next Steps</span></span>  
 <span data-ttu-id="83e96-244">Después de actualizar a [!INCLUDE[ssSQL14](../../../includes/sssql14-md.md)], complete las tareas siguientes:</span><span class="sxs-lookup"><span data-stu-id="83e96-244">After you upgrade to [!INCLUDE[ssSQL14](../../../includes/sssql14-md.md)], complete the following tasks:</span></span>  
  
-   <span data-ttu-id="83e96-245">Registrar los servidores</span><span class="sxs-lookup"><span data-stu-id="83e96-245">Register your servers</span></span>  
  
     <span data-ttu-id="83e96-246">La actualización quita la configuración del Registro de la instancia anterior de [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)].</span><span class="sxs-lookup"><span data-stu-id="83e96-246">Upgrade removes registry settings for the previous [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] instance.</span></span> <span data-ttu-id="83e96-247">Tras la actualización, debe volver a registrar los servidores.</span><span class="sxs-lookup"><span data-stu-id="83e96-247">After you upgrade, you must reregister your servers.</span></span>  
  
-   <span data-ttu-id="83e96-248">Actualizar estadísticas</span><span class="sxs-lookup"><span data-stu-id="83e96-248">Update statistics</span></span>  
  
     <span data-ttu-id="83e96-249">Para ayudar a optimizar el rendimiento de las consultas, es recomendable actualizar las estadísticas de todas las bases de datos tras la actualización.</span><span class="sxs-lookup"><span data-stu-id="83e96-249">To help optimize query performance, we recommend that you update statistics on all databases following upgrade.</span></span> <span data-ttu-id="83e96-250">Use el procedimiento almacenado **sp_updatestats** para actualizar las estadísticas de las tablas definidas por el usuario en las bases de datos de [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)].</span><span class="sxs-lookup"><span data-stu-id="83e96-250">Use the **sp_updatestats** stored procedure to update statistics in user-defined tables in [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] databases.</span></span>  
  
-   <span data-ttu-id="83e96-251">Configurar la nueva instalación de [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)]</span><span class="sxs-lookup"><span data-stu-id="83e96-251">Configure your new [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] installation</span></span>  
  
     <span data-ttu-id="83e96-252">Para reducir el área expuesta de un sistema susceptible de recibir ataques, [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] instala y habilita de manera selectiva los servicios y características clave.</span><span class="sxs-lookup"><span data-stu-id="83e96-252">To reduce the attackable surface area of a system, [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] selectively installs and enables key services and features.</span></span> <span data-ttu-id="83e96-253">Para obtener más información sobre la configuración del área expuesta, vea el archivo Léame correspondiente a esta versión.</span><span class="sxs-lookup"><span data-stu-id="83e96-253">For more information about surface area configuration, see the readme file for this release.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="83e96-254">Consulte también</span><span class="sxs-lookup"><span data-stu-id="83e96-254">See Also</span></span>  
 <span data-ttu-id="83e96-255">[Instalación de SQL Server 2014 desde el símbolo del sistema](../../../database-engine/install-windows/install-sql-server-from-the-command-prompt.md) </span><span class="sxs-lookup"><span data-stu-id="83e96-255">[Install SQL Server 2014 from the Command Prompt](../../../database-engine/install-windows/install-sql-server-from-the-command-prompt.md) </span></span>  
 [<span data-ttu-id="83e96-256">Ver y leer los archivos de registro de instalación de SQL Server</span><span class="sxs-lookup"><span data-stu-id="83e96-256">View and Read SQL Server Setup Log Files</span></span>](../../../database-engine/install-windows/view-and-read-sql-server-setup-log-files.md)  
  
  
