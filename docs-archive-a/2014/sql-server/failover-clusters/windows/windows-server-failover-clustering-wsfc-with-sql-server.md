---
title: Clústeres de conmutación por error de Windows Server (WSFC), con SQL Server | Microsoft Docs
ms.custom: ''
ms.date: 06/13/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: high-availability
ms.topic: conceptual
helpviewer_keywords:
- Availability Groups [SQL Server], WSFC clusters
- Windows Server Failover Clustering (WSFC), with SQL Server
- WSFC, with SQL Server
- quorum [SQL Server]
- failover clustering [SQL Server], AlwaysOn Availability Groups
ms.assetid: 79d2ea5a-edd8-4b3b-9502-96202057b01a
author: MashaMSFT
ms.author: mathoma
ms.openlocfilehash: e1fec03d7eb7a63353fd8eaea8c1e7051a306049
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 08/04/2020
ms.locfileid: "87672547"
---
# <a name="windows-server-failover-clustering-wsfc-with-sql-server"></a><span data-ttu-id="78c5f-102">Clústeres de conmutación por error de Windows Server (WSFC) con SQL Server</span><span class="sxs-lookup"><span data-stu-id="78c5f-102">Windows Server Failover Clustering (WSFC) with SQL Server</span></span>
  <span data-ttu-id="78c5f-103">Un clúster de *clústeres de conmutación por error de Windows Server* (WSFC) es un grupo de servidores independientes que funcionan conjuntamente para aumentar la disponibilidad de aplicaciones y servicios.</span><span class="sxs-lookup"><span data-stu-id="78c5f-103">A *Windows Server Failover Clustering* (WSFC) cluster is a group of independent servers that work together to increase the availability of applications and services.</span></span> [!INCLUDE[ssCurrent](../../../includes/sscurrent-md.md)] <span data-ttu-id="78c5f-104">aprovecha los servicios y las capacidades de WSFC para admitir instancias de clúster de conmutación por error de [!INCLUDE[ssHADR](../../../includes/sshadr-md.md)] y [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] .</span><span class="sxs-lookup"><span data-stu-id="78c5f-104">takes advantage of WSFC services and capabilities to support [!INCLUDE[ssHADR](../../../includes/sshadr-md.md)] and [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] Failover Cluster Instances.</span></span>

 

##  <a name="terms-and-definitions"></a><a name="TermsAndDefs"></a> <span data-ttu-id="78c5f-105">Términos y definiciones</span><span class="sxs-lookup"><span data-stu-id="78c5f-105">Terms and Definitions</span></span>
 <span data-ttu-id="78c5f-106">Clúster WSFC un clúster de clústeres de conmutación por error de Windows Server (WSFC) es un grupo de servidores independientes que funcionan conjuntamente para aumentar la disponibilidad de las aplicaciones y los servicios.</span><span class="sxs-lookup"><span data-stu-id="78c5f-106">WSFC cluster A Windows Server Failover Clustering (WSFC) cluster is a group of independent servers that work together to increase the availability of applications and services.</span></span>

 <span data-ttu-id="78c5f-107">Instancia de clúster de conmutación por error instancia de un servicio de Windows que administra un recurso de dirección IP, un recurso de nombre de red y recursos adicionales necesarios para ejecutar una o varias aplicaciones o servicios.</span><span class="sxs-lookup"><span data-stu-id="78c5f-107">Failover cluster instance An instance of a Windows service that manages an IP address resource, a network name resource, and additional resources that are required to run one or more applications or services.</span></span> <span data-ttu-id="78c5f-108">Los clientes pueden utilizar el nombre de red para tener acceso a los recursos del grupo de modo similar a utilizar un nombre de equipo para tener acceso a los servicios en un servidor físico.</span><span class="sxs-lookup"><span data-stu-id="78c5f-108">Clients can use the network name to access the resources in the group, similar to using a computer name to access the services on a physical server.</span></span> <span data-ttu-id="78c5f-109">Sin embargo, dado que una instancia de clúster de conmutación por error es un grupo, puede ser objeto de conmutación por error a otro nodo sin que se vean afectados el nombre o la dirección subyacentes.</span><span class="sxs-lookup"><span data-stu-id="78c5f-109">However, because a failover cluster instance is a group, it can be failed over to another node without affecting the underlying name or address.</span></span>

 <span data-ttu-id="78c5f-110">Nodo un sistema de Microsoft Windows Server que es miembro activo o inactivo de un clúster de servidores.</span><span class="sxs-lookup"><span data-stu-id="78c5f-110">Node A Microsoft Windows Server system that is an active or inactive member of a server cluster.</span></span>

 <span data-ttu-id="78c5f-111">Recurso de clúster una entidad física o lógica que puede ser propiedad de un nodo, poner en línea y desconectarse, moverse entre nodos y administrarse como un objeto de clúster.</span><span class="sxs-lookup"><span data-stu-id="78c5f-111">Cluster resource A physical or logical entity that can be owned by a node, brought online and taken offline, moved between nodes, and managed as a cluster object.</span></span> <span data-ttu-id="78c5f-112">Un recurso de clúster puede ser propiedad de un único nodo en cualquier momento.</span><span class="sxs-lookup"><span data-stu-id="78c5f-112">A cluster resource can be owned by only a single node at any point in time.</span></span>

 <span data-ttu-id="78c5f-113">Grupo de recursos una colección de recursos de clúster administrados como un único objeto de clúster.</span><span class="sxs-lookup"><span data-stu-id="78c5f-113">Resource group A collection of cluster resources managed as a single cluster object.</span></span> <span data-ttu-id="78c5f-114">Normalmente, un grupo de recursos contiene todos los recursos de clúster necesarios para ejecutar una aplicación o un servicio específicos.</span><span class="sxs-lookup"><span data-stu-id="78c5f-114">Typically a resource group contains all of the cluster resources that are required to run a specific application or service.</span></span> <span data-ttu-id="78c5f-115">La conmutación por error y la conmutación por recuperación siempre actúan en grupos de recursos.</span><span class="sxs-lookup"><span data-stu-id="78c5f-115">Failover and failback always act on resource groups.</span></span>

 <span data-ttu-id="78c5f-116">Dependencia de recursos de un recurso del que depende otro recurso.</span><span class="sxs-lookup"><span data-stu-id="78c5f-116">Resource dependency A resource on which another resource depends.</span></span> <span data-ttu-id="78c5f-117">Si el recurso A depende del recurso B, B es una dependencia de A.</span><span class="sxs-lookup"><span data-stu-id="78c5f-117">If resource A depends on resource B, then B is a dependency of A.</span></span>

 <span data-ttu-id="78c5f-118">Recurso de nombre de red un nombre de servidor lógico que se administra como un recurso de clúster.</span><span class="sxs-lookup"><span data-stu-id="78c5f-118">Network name resource A logical server name that is managed as a cluster resource.</span></span> <span data-ttu-id="78c5f-119">Un recurso de nombre de red debe utilizarse con un recurso de dirección IP.</span><span class="sxs-lookup"><span data-stu-id="78c5f-119">A network name resource must be used with an IP address resource.</span></span>

 <span data-ttu-id="78c5f-120">Propietario preferido: nodo en el que prefiere ejecutarse un grupo de recursos.</span><span class="sxs-lookup"><span data-stu-id="78c5f-120">Preferred owner A node on which a resource group prefers to run.</span></span> <span data-ttu-id="78c5f-121">Cada grupo de recursos está asociado a una lista de propietarios preferidos clasificados en orden de preferencia.</span><span class="sxs-lookup"><span data-stu-id="78c5f-121">Each resource group is associated with a list of preferred owners sorted in order of preference.</span></span> <span data-ttu-id="78c5f-122">Durante la conmutación por error automática, el grupo de recursos se pasa al nodo preferido siguiente en la lista de propietarios preferidos.</span><span class="sxs-lookup"><span data-stu-id="78c5f-122">During automatic failover, the resource group is moved to the next preferred node in the preferred owner list.</span></span>

 <span data-ttu-id="78c5f-123">Posible propietario un nodo secundario en el que se puede ejecutar un recurso.</span><span class="sxs-lookup"><span data-stu-id="78c5f-123">Possible owner A secondary node on which a resource can run.</span></span> <span data-ttu-id="78c5f-124">Cada grupo de recursos está asociado a una lista de posibles propietarios.</span><span class="sxs-lookup"><span data-stu-id="78c5f-124">Each resource group is associated with a list of possible owners.</span></span> <span data-ttu-id="78c5f-125">Los grupos de recursos pueden ser objeto de conmutación por error solo en los nodos enumerados como posibles propietarios.</span><span class="sxs-lookup"><span data-stu-id="78c5f-125">Resource groups can fail over only to nodes that are listed as possible owners.</span></span>

 <span data-ttu-id="78c5f-126">Modo de cuórum la configuración de cuórum en un clúster de conmutación por error que determina el número de errores de nodo que el clúster puede admitir.</span><span class="sxs-lookup"><span data-stu-id="78c5f-126">Quorum mode The quorum configuration in a failover cluster that determines the number of node failures that the cluster can sustain.</span></span>

 <span data-ttu-id="78c5f-127">Quórum forzado el proceso para iniciar el clúster aunque solo una minoría de los elementos necesarios para el cuórum esté en comunicación.</span><span class="sxs-lookup"><span data-stu-id="78c5f-127">Forced quorum The process to start the cluster even though only a minority of the elements that are required for quorum are in communication.</span></span>

 <span data-ttu-id="78c5f-128">Para obtener más información, vea el [Glosario de clústeres de conmutación por error](/previous-versions/windows/desktop/MsCS/server-cluster-glossary)</span><span class="sxs-lookup"><span data-stu-id="78c5f-128">For more information, see: [Failover Cluster Glossary](/previous-versions/windows/desktop/MsCS/server-cluster-glossary)</span></span>

##  <a name="overview-of-windows-server-failover-clustering"></a><a name="Overview"></a> <span data-ttu-id="78c5f-129">Información general de clústeres de conmutación por error de Windows Server</span><span class="sxs-lookup"><span data-stu-id="78c5f-129">Overview of Windows Server Failover Clustering</span></span>
 <span data-ttu-id="78c5f-130">Los clústeres de conmutación por error de Windows Server proporcionan características de infraestructura que admiten escenarios de alta disponibilidad y recuperación ante desastres de aplicaciones de servidor hospedadas, como Microsoft [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] y Microsoft Exchange.</span><span class="sxs-lookup"><span data-stu-id="78c5f-130">Windows Server Failover Clustering provides infrastructure features that support the high-availability and disaster recovery scenarios of hosted server applications such as Microsoft [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] and Microsoft Exchange.</span></span> <span data-ttu-id="78c5f-131">Si un nodo o un servicio de clúster tiene un error, los servicios hospedados en ese nodo se pueden transferir automática o manualmente a otro nodo disponible en un proceso denominado *conmutación por error*.</span><span class="sxs-lookup"><span data-stu-id="78c5f-131">If a cluster node or service fails, the services that were hosted on that node can be automatically or manually transferred to another available node in a process known as *failover*.</span></span>

 <span data-ttu-id="78c5f-132">Los nodos del clúster de WSFC trabajan juntos para proporcionar colectivamente estos tipos de funciones:</span><span class="sxs-lookup"><span data-stu-id="78c5f-132">The nodes in the WSFC cluster work together to collectively provide these types of capabilities:</span></span>

-   <span data-ttu-id="78c5f-133">**Notificaciones y metadatos distribuidos.**</span><span class="sxs-lookup"><span data-stu-id="78c5f-133">**Distributed metadata and notifications.**</span></span> <span data-ttu-id="78c5f-134">El servicio de WSFC y lo metadatos de aplicaciones hospedadas se mantiene en cada nodo del clúster.</span><span class="sxs-lookup"><span data-stu-id="78c5f-134">WSFC service and hosted application metadata is maintained on each node in the cluster.</span></span> <span data-ttu-id="78c5f-135">Estos metadatos incluyen la configuración y el estado de WSFC además de la configuración de la aplicación hospedada.</span><span class="sxs-lookup"><span data-stu-id="78c5f-135">This metadata includes WSFC configuration and status in addition to hosted application settings.</span></span> <span data-ttu-id="78c5f-136">Los cambios en los metadatos o el estado de un nodo se propagan automáticamente a los demás nodos del clúster.</span><span class="sxs-lookup"><span data-stu-id="78c5f-136">Changes to a node's metadata or status are automatically propagated to the other nodes in the cluster.</span></span>

-   <span data-ttu-id="78c5f-137">**Administración de recursos.**</span><span class="sxs-lookup"><span data-stu-id="78c5f-137">**Resource management.**</span></span> <span data-ttu-id="78c5f-138">Los nodos individuales del clúster pueden proporcionar recursos físicos como almacenamiento asociado directo, interfaces de red y acceso al almacenamiento en disco compartido.</span><span class="sxs-lookup"><span data-stu-id="78c5f-138">Individual nodes in the cluster may provide physical resources such as direct-attached storage, network interfaces, and access to shared disk storage.</span></span> <span data-ttu-id="78c5f-139">Las aplicaciones hospedadas se registran como un recurso de clúster y pueden configurar dependencias de inicio y de estado en otros recursos.</span><span class="sxs-lookup"><span data-stu-id="78c5f-139">Hosted applications register themselves as a cluster resource, and may configure startup and health dependencies upon other resources.</span></span>

-   <span data-ttu-id="78c5f-140">**Seguimiento de estado.**</span><span class="sxs-lookup"><span data-stu-id="78c5f-140">**Health monitoring.**</span></span> <span data-ttu-id="78c5f-141">La detección del estado del nodo principal y entre nodos se realiza mediante una combinación de comunicaciones de red de tipo latido y supervisión de recursos.</span><span class="sxs-lookup"><span data-stu-id="78c5f-141">Inter-node and primary node health detection is accomplished through a combination of heartbeat-style network communications and resource monitoring.</span></span> <span data-ttu-id="78c5f-142">Los votos de un quórum de nodos del clúster determinan el estado general del clúster.</span><span class="sxs-lookup"><span data-stu-id="78c5f-142">The overall health of the cluster is determined by the votes of a quorum of nodes in the cluster.</span></span>

-   <span data-ttu-id="78c5f-143">**Coordinación de conmutación por error.**</span><span class="sxs-lookup"><span data-stu-id="78c5f-143">**Failover coordination.**</span></span> <span data-ttu-id="78c5f-144">Cada uno de los recursos se configura para ser hospedado en un nodo principal y se pueden transferir automática o manualmente a uno o varios nodos secundarios.</span><span class="sxs-lookup"><span data-stu-id="78c5f-144">Each resource is configured to be hosted on a primary node, and each can be automatically or manually transferred to one or more secondary nodes.</span></span> <span data-ttu-id="78c5f-145">Una directiva de conmutación por error basada en el estado controla la transferencia automática de la propiedad de recursos entre los nodos.</span><span class="sxs-lookup"><span data-stu-id="78c5f-145">A health-based failover policy controls automatic transfer of resource ownership between nodes.</span></span> <span data-ttu-id="78c5f-146">Los nodos y las aplicaciones hospedadas son informadas cuando se produce la conmutación por error para puedan reaccionar correctamente.</span><span class="sxs-lookup"><span data-stu-id="78c5f-146">Nodes and hosted applications are notified when failover occurs so that they may react appropriately.</span></span>

 <span data-ttu-id="78c5f-147">Para obtener más información, vea el tema sobre [clústeres de conmutación por error en Windows Server 2008 R2](https://technet.microsoft.com/library/ff182338\(WS.10\).aspx)</span><span class="sxs-lookup"><span data-stu-id="78c5f-147">For more information, see: [Failover Clusters in Windows Server 2008 R2](https://technet.microsoft.com/library/ff182338\(WS.10\).aspx)</span></span>

##  <a name="sql-server-alwayson-technologies-and-wsfc"></a><a name="AlwaysOnWsfcTech"></a><span data-ttu-id="78c5f-148">Tecnologías de SQL Server AlwaysOn y WSFC</span><span class="sxs-lookup"><span data-stu-id="78c5f-148">SQL Server AlwaysOn Technologies and WSFC</span></span>
 [!INCLUDE[ssCurrent](../../../includes/sscurrent-md.md)]<span data-ttu-id="78c5f-149">*AlwaysOn* es una nueva solución de alta disponibilidad y recuperación ante desastres que aprovecha las ventajas de WSFC.</span><span class="sxs-lookup"><span data-stu-id="78c5f-149">*AlwaysOn* is a new high availability and disaster recovery solution that takes advantage of WSFC.</span></span> <span data-ttu-id="78c5f-150">AlwaysOn proporciona una solución integrada y flexible que aumentar la disponibilidad de las aplicaciones, proporciona mejores réditos en inversiones de hardware y simplificar la implementación y administración de alta disponibilidad.</span><span class="sxs-lookup"><span data-stu-id="78c5f-150">AlwaysOn provides an integrated, flexible solution that increases application availability, provides better returns on hardware investments, and simplifies high availability deployment and management.</span></span>

 <span data-ttu-id="78c5f-151">Tanto las instancias de clúster de conmutación por error [!INCLUDE[ssHADR](../../../includes/sshadr-md.md)] como AlwaysOn usan WSFC como tecnología de plataforma, registrando los componentes como recursos de clúster de WSFC.</span><span class="sxs-lookup"><span data-stu-id="78c5f-151">Both [!INCLUDE[ssHADR](../../../includes/sshadr-md.md)] and AlwaysOn Failover Cluster Instances use WSFC as a platform technology, registering components as WSFC cluster resources.</span></span>  <span data-ttu-id="78c5f-152">Los recursos relacionados se combinan en un *grupo de recursos*que pueden hacerse dependientes de otros recursos de clúster de WSFC.</span><span class="sxs-lookup"><span data-stu-id="78c5f-152">Related resources are combined into a *resource group*, which can be made dependent upon other WSFC cluster resources.</span></span> <span data-ttu-id="78c5f-153">El servicio de clúster de WSFC puede detectar y designar la necesidad de reiniciar la instancia de [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] o realizar automáticamente la conmutación por error a otro nodo del servidor del clúster de WSFC.</span><span class="sxs-lookup"><span data-stu-id="78c5f-153">The WSFC cluster service can then sense and signal the need to restart the [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] instance or automatically fail it over to a different server node in the WSFC cluster.</span></span>

> [!IMPORTANT]
>  <span data-ttu-id="78c5f-154">Para aprovechar las tecnologías de [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] AlwaysOn, se deben aplicar varios requisitos previos relacionados con WSFC.</span><span class="sxs-lookup"><span data-stu-id="78c5f-154">To take full advantage of [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] AlwaysOn technologies, you should apply several WSFC-related prerequisites.</span></span>
> 
>  <span data-ttu-id="78c5f-155">Para obtener más información, vea: [requisitos previos, restricciones y recomendaciones para Grupos de disponibilidad AlwaysOn &#40;SQL Server&#41;](../../../database-engine/availability-groups/windows/prereqs-restrictions-recommendations-always-on-availability.md)</span><span class="sxs-lookup"><span data-stu-id="78c5f-155">For more information, see: [Prerequisites, Restrictions, and Recommendations for AlwaysOn Availability Groups &#40;SQL Server&#41;](../../../database-engine/availability-groups/windows/prereqs-restrictions-recommendations-always-on-availability.md)</span></span>

### <a name="instance-level-high-availability-with-alwayson-failover-cluster-instances"></a><span data-ttu-id="78c5f-156">Alta disponibilidad en el nivel de instancia con instancias de clúster de conmutación por error AlwaysOn</span><span class="sxs-lookup"><span data-stu-id="78c5f-156">Instance-level High Availability with AlwaysOn Failover Cluster Instances</span></span>
 <span data-ttu-id="78c5f-157">Una *instancia de clúster de conmutación por error* (FCI) de AlwaysOn es una instancia de [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] que está instalada en los nodos de un clúster de conmutación por error de WSFC.</span><span class="sxs-lookup"><span data-stu-id="78c5f-157">An AlwaysOn *Failover Cluster Instance* (FCI) is a [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] instance that is installed across nodes in a WSFC cluster.</span></span> <span data-ttu-id="78c5f-158">Este tipo de instancia tiene dependencias de recursos en un almacenamiento en disco compartido (a través de canal de fibra o SAN iSCSI) y en un nombre de red virtual.</span><span class="sxs-lookup"><span data-stu-id="78c5f-158">This type of instance has resource dependencies on shared disk storage (via Fibre Channel or iSCSI SAN) and on a virtual network name.</span></span> <span data-ttu-id="78c5f-159">El nombre de red virtual tiene una dependencia de recursos en una o más direcciones IP virtuales, cada una en una subred diferente.</span><span class="sxs-lookup"><span data-stu-id="78c5f-159">The virtual network name has a resource dependency on one or more virtual IP addresses, each in a different subnet.</span></span> <span data-ttu-id="78c5f-160">El servicio SQL Server y el servicio del Agente SQL Server se registran como recursos, y ambos se hacen dependientes del recurso de nombre de red virtual.</span><span class="sxs-lookup"><span data-stu-id="78c5f-160">The SQL Server service and the SQL Server Agent service are registered as resources, and both are made dependent upon the virtual network name resource.</span></span>

 <span data-ttu-id="78c5f-161">En caso de conmutación por error, el servicio de WSFC transfiere la propiedad de los recursos de la instancia a un nodo de conmutación por error designado.</span><span class="sxs-lookup"><span data-stu-id="78c5f-161">In the event of a failover, the WSFC service transfers ownership of instance's resources to a designated failover node.</span></span> <span data-ttu-id="78c5f-162">La instancia de [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] vuelve a iniciarse en el nodo de conmutación por error y las bases de datos se recuperan de la forma habitual.</span><span class="sxs-lookup"><span data-stu-id="78c5f-162">The [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] instance is then re-started on the failover node, and databases are recovered as usual.</span></span> <span data-ttu-id="78c5f-163">En cualquier momento determinado, solo un nodo del clúster puede hospedar la FCI y los recursos subyacentes.</span><span class="sxs-lookup"><span data-stu-id="78c5f-163">At any given moment, only a single node in the cluster can host the FCI and underlying resources.</span></span>

> [!NOTE]
>  <span data-ttu-id="78c5f-164">Una instancia de clúster de conmutación por error AlwaysOn requiere almacenamiento en disco compartido simétrico como una red de área de almacenamiento (SAN) o un recurso compartido de archivos SMB.</span><span class="sxs-lookup"><span data-stu-id="78c5f-164">An AlwaysOn Failover Cluster Instance requires symmetrical shared disk storage such as a storage area network (SAN) or SMB file share.</span></span>  <span data-ttu-id="78c5f-165">Los volúmenes de almacenamiento en disco compartido deben estar disponible para todos los nodos potenciales de conmutación por error en el clúster de WSFC.</span><span class="sxs-lookup"><span data-stu-id="78c5f-165">The shared disk storage volumes must be available to all potential failover nodes in the WSFC cluster.</span></span>

 <span data-ttu-id="78c5f-166">Para obtener más información, consulte: [instancias de clúster de conmutación por error de AlwaysOn](always-on-failover-cluster-instances-sql-server.md)</span><span class="sxs-lookup"><span data-stu-id="78c5f-166">For more information, see: [AlwaysOn Failover Cluster Instances](always-on-failover-cluster-instances-sql-server.md)</span></span>

### <a name="database-level-high-availability-with-sshadr"></a><span data-ttu-id="78c5f-167">Alta disponibilidad en el nivel de base de datos con [!INCLUDE[ssHADR](../../../includes/sshadr-md.md)]</span><span class="sxs-lookup"><span data-stu-id="78c5f-167">Database-level High Availability with [!INCLUDE[ssHADR](../../../includes/sshadr-md.md)]</span></span>
 <span data-ttu-id="78c5f-168">Un *grupo de disponibilidad* es un conjunto de bases de datos de usuario que realizan la conmutación por error conjuntamente.</span><span class="sxs-lookup"><span data-stu-id="78c5f-168">An *availability group* is a set of user databases that fail over together.</span></span> <span data-ttu-id="78c5f-169">Un grupo de disponibilidad consta de una *réplica de disponibilidad* principal y de una a cuatro réplicas secundarias que se mantienen mediante el movimiento de datos basado en registros de SQL Server para la protección de datos sin necesidad de almacenamiento compartido.</span><span class="sxs-lookup"><span data-stu-id="78c5f-169">An availability group consists of a primary *availability replica* and one to four secondary replicas that are maintained through SQL Server log-based data movement for data protection without the need for shared storage.</span></span> <span data-ttu-id="78c5f-170">Cada réplica está hospedada en una instancia de [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] en otro nodo del clúster de WSFC.</span><span class="sxs-lookup"><span data-stu-id="78c5f-170">Each replica is hosted by an instance of [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] on a different node of the WSFC cluster.</span></span> <span data-ttu-id="78c5f-171">El grupo de disponibilidad y un nombre de red virtual correspondiente se registran como recursos del clúster de WSFC.</span><span class="sxs-lookup"><span data-stu-id="78c5f-171">The availability group and a corresponding virtual network name are registered as resources in the WSFC cluster.</span></span>

 <span data-ttu-id="78c5f-172">Un *agente de escucha de grupo de disponibilidad* del nodo de la réplica principal responde a las solicitudes de cliente entrantes para conectarse al nombre de red virtual y, en función de los atributos de la cadena de conexión, redirige cada solicitud a la instancia adecuada de [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] .</span><span class="sxs-lookup"><span data-stu-id="78c5f-172">An *availability group listener* on the primary replica's node responds to incoming client requests to connect to the virtual network name, and based on attributes in the connection string, it redirects each request to the appropriate [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] instance.</span></span>

 <span data-ttu-id="78c5f-173">En el caso de una conmutación por error, en lugar de transferir la propiedad de los recursos físicos compartidos a otro nodo, WSFC aprovecha para volver a configurar una réplica secundaria en otra instancia de [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] y que se convierta en la réplica principal del grupo de disponibilidad.</span><span class="sxs-lookup"><span data-stu-id="78c5f-173">In the event of a failover, instead of transferring ownership of shared physical resources to another node, WSFC is leveraged to reconfigure a secondary replica on another [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] instance to become the availability group's primary replica.</span></span> <span data-ttu-id="78c5f-174">El recurso de nombre de red virtual del grupo de disponibilidad se transfiere después a esa instancia.</span><span class="sxs-lookup"><span data-stu-id="78c5f-174">The availability group's virtual network name resource is then transferred to that instance.</span></span>

 <span data-ttu-id="78c5f-175">En cualquier momento dado, solo una instancia de [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] puede hospedar la réplica principal de las bases de datos de un grupo de disponibilidad, todas las réplicas secundarias asociadas deben residir cada una en una instancia independiente, y cada instancia debe residir en nodos físicos distintos.</span><span class="sxs-lookup"><span data-stu-id="78c5f-175">At any given moment, only a single [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] instance may host the primary replica of an availability group's databases, all associated secondary replicas must each reside on a separate instance, and each instance must reside on separate physical nodes.</span></span>

> [!NOTE]
>  [!INCLUDE[ssHADR](../../../includes/sshadr-md.md)] <span data-ttu-id="78c5f-176">no necesita la implementación de una instancia de clúster de conmutación por error ni el uso de almacenamiento compartido simétrico (SAN o SMB).</span><span class="sxs-lookup"><span data-stu-id="78c5f-176">do not require deployment of a Failover Cluster Instance or use of symmetric shared storage (SAN or SMB).</span></span>
> 
>  <span data-ttu-id="78c5f-177">Una instancia de clúster de conmutación por error (FCI) se puede usar junto con un grupo de disponibilidad para mejorar la disponibilidad de una réplica de disponibilidad.</span><span class="sxs-lookup"><span data-stu-id="78c5f-177">A Failover Cluster Instance (FCI) may be used together with an availability group to enhance the availability of an availability replica.</span></span> <span data-ttu-id="78c5f-178">Sin embargo, para evitar posibles condiciones de carrera en el clúster de WSFC, la conmutación automática por error del grupo de disponibilidad no se admite en o desde una réplica de disponibilidad hospedada en una FCI.</span><span class="sxs-lookup"><span data-stu-id="78c5f-178">However, to prevent potential race conditions in the WSFC cluster, automatic failover of the availability group is not supported to or from an availability replica that is hosted on a FCI.</span></span>

 <span data-ttu-id="78c5f-179">Para obtener más información, vea: [Información general de los grupos de disponibilidad AlwaysOn &#40;SQL Server&#41;](../../../database-engine/availability-groups/windows/overview-of-always-on-availability-groups-sql-server.md).</span><span class="sxs-lookup"><span data-stu-id="78c5f-179">For more information, see: [Overview of AlwaysOn Availability Groups &#40;SQL Server&#41;](../../../database-engine/availability-groups/windows/overview-of-always-on-availability-groups-sql-server.md)</span></span>

##  <a name="wsfc-health-monitoring-and-failover"></a><a name="AlwaysOnWsfcHealth"></a><span data-ttu-id="78c5f-180">Supervisión de estado y conmutación por error de WSFC</span><span class="sxs-lookup"><span data-stu-id="78c5f-180">WSFC Health Monitoring and Failover</span></span>
 <span data-ttu-id="78c5f-181">La alta disponibilidad para una solución de AlwaysOn se consigue mediante la supervisión de estado proactiva de los recursos de clúster de WSFC físicos y lógicos, junto con la conmutación por error automática y la reconfiguración de hardware redundante.</span><span class="sxs-lookup"><span data-stu-id="78c5f-181">High availability for an AlwaysOn solution is accomplished though proactive health monitoring of physical and logical WSFC cluster resources, together with automatic failover onto and re-configuration of redundant hardware.</span></span>  <span data-ttu-id="78c5f-182">Un administrador del sistema también puede iniciar una *conmutación por error manual* de un grupo de disponibilidad o una instancia de [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] entre nodos.</span><span class="sxs-lookup"><span data-stu-id="78c5f-182">A system administrator can also initiate a *manual failover* of an availability group or [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] instance from one node to another.</span></span>

### <a name="failover-policies-for-nodes-failover-cluster-instances-and-availability-groups"></a><span data-ttu-id="78c5f-183">Directivas de conmutación por error para nodos, instancias de clúster de conmutación por error y grupos de disponibilidad</span><span class="sxs-lookup"><span data-stu-id="78c5f-183">Failover Policies for Nodes, Failover Cluster Instances, and Availability Groups</span></span>
 <span data-ttu-id="78c5f-184">Una *directiva de conmutación por error* se configura en los siguientes niveles: nodo de clúster de WSFC, instancia de clúster de conmutación por error (FCI) de [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] y grupo de disponibilidad.</span><span class="sxs-lookup"><span data-stu-id="78c5f-184">A *failover policy* is configured at the WSFC cluster node, the [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] Failover Cluster Instance (FCI), and the availability group levels.</span></span>  <span data-ttu-id="78c5f-185">Estas directivas, basadas en la gravedad, duración y frecuencia del estado incorrecto de los recursos de clúster y la capacidad de respuesta de los nodos, puede desencadenar el reinicio de un servicio o una *conmutación automática por error* de los recursos de clúster entre nodos, o puede desencadenar el paso de la réplica principal de un grupo de disponibilidad desde una instancia de [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] a otra.</span><span class="sxs-lookup"><span data-stu-id="78c5f-185">These policies, based on the severity, duration, and frequency of unhealthy cluster resource status and node responsiveness, can trigger a service restart or an *automatic failover* of cluster resources from one node to another, or can trigger the move of an availability group primary replica from one [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] instance to another.</span></span>

 <span data-ttu-id="78c5f-186">La conmutación por error de la réplica de un grupo de disponibilidad no afecta a la instancia de [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] subyacente.</span><span class="sxs-lookup"><span data-stu-id="78c5f-186">Failover of an availability group replica does not affect the underlying [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] instance.</span></span>  <span data-ttu-id="78c5f-187">La conmutación por error de una FCI mueve las réplicas hospedadas de grupo de disponibilidad con la instancia.</span><span class="sxs-lookup"><span data-stu-id="78c5f-187">Failover of a FCI moves the hosted availability group replicas with the instance.</span></span>

 <span data-ttu-id="78c5f-188">Para obtener más información, consulte: [Directiva de conmutación por error para instancias de clúster de conmutación por error](failover-policy-for-failover-cluster-instances.md)</span><span class="sxs-lookup"><span data-stu-id="78c5f-188">For more information, see: [Failover Policy for Failover Cluster Instances](failover-policy-for-failover-cluster-instances.md)</span></span>

### <a name="wsfc-resource-health-detection"></a><span data-ttu-id="78c5f-189">Detección del estado de los recursos de WSFC</span><span class="sxs-lookup"><span data-stu-id="78c5f-189">WSFC Resource Health Detection</span></span>
 <span data-ttu-id="78c5f-190">Cada recurso de un nodo de clúster de WSFC puede notificar su condición y estado periódicamente o a petición.</span><span class="sxs-lookup"><span data-stu-id="78c5f-190">Each resource in a WSFC cluster node can report its status and health, periodically or on-demand.</span></span> <span data-ttu-id="78c5f-191">Una variedad de circunstancias puede indicar el error de recursos. Por ejemplo, una interrupción del suministro eléctrico, errores de disco o de memoria, errores de la comunicación de red o servicios que no responden.</span><span class="sxs-lookup"><span data-stu-id="78c5f-191">A variety of circumstances may indicate resource failure; e.g. power failure, disk or memory errors, network communication errors, or non-responsive services.</span></span>

 <span data-ttu-id="78c5f-192">Los recursos de clúster de WSFC como redes, almacenamiento o servicios se pueden hacer dependientes unos de otros.</span><span class="sxs-lookup"><span data-stu-id="78c5f-192">WSFC cluster resources such as networks, storage, or services can be made dependent upon one another.</span></span> <span data-ttu-id="78c5f-193">El estado acumulativo de un recurso está determinado por la acumulación sucesiva de su condición con el estado de cada una de sus dependencias de recursos.</span><span class="sxs-lookup"><span data-stu-id="78c5f-193">The cumulative health of a resource is determined by successively rolling up its health with the health of each of its resource dependencies.</span></span>

### <a name="wsfc-inter-node-health-detection-and-quorum-voting"></a><span data-ttu-id="78c5f-194">Detección del estado entre nodos de WSFC y votos de quórum</span><span class="sxs-lookup"><span data-stu-id="78c5f-194">WSFC Inter-node Health Detection and Quorum Voting</span></span>
 <span data-ttu-id="78c5f-195">Cada nodo de un clúster WSFC participa en la comunicación periódica de latido para compartir el estado de mantenimiento del nodo con los demás nodos.</span><span class="sxs-lookup"><span data-stu-id="78c5f-195">Each node in a WSFC cluster participates in periodic heartbeat communication to share the node's health status with the other nodes.</span></span> <span data-ttu-id="78c5f-196">Los nodos que no responden se consideran que se encuentran en estado de error.</span><span class="sxs-lookup"><span data-stu-id="78c5f-196">Unresponsive nodes are considered to be in a failed state.</span></span>

 <span data-ttu-id="78c5f-197">Un conjunto de nodos de *quórum* es una mayoría de los nodos con derecho a voto y testigos en el clúster WSFC.</span><span class="sxs-lookup"><span data-stu-id="78c5f-197">A *quorum* node set is a majority of the voting nodes and witnesses in the WSFC cluster.</span></span> <span data-ttu-id="78c5f-198">Un *voto de quórum*periódico determina el estado general de un clúster WSFC.</span><span class="sxs-lookup"><span data-stu-id="78c5f-198">The overall health and status of a WSFC cluster is determined by a periodic *quorum vote*.</span></span> <span data-ttu-id="78c5f-199">La presencia de un quórum significa que el clúster es correcto y puede proporcionar tolerancia a errores de nivel de nodo.</span><span class="sxs-lookup"><span data-stu-id="78c5f-199">The presence of a quorum means that the cluster is healthy and able to provide node-level fault tolerance.</span></span>

 <span data-ttu-id="78c5f-200">En el nivel de clúster de WSFC se configura un *modo de quórum* que dicta la metodología empleada para los votos de quórum y cuándo se ha de realizar una conmutación por error automática o poner el clúster sin conexión.</span><span class="sxs-lookup"><span data-stu-id="78c5f-200">A *quorum mode* is configured at the WSFC cluster level that dictates the methodology used for quorum voting and when to perform an automatic failover or take the cluster offline.</span></span>

> [!TIP]
>  <span data-ttu-id="78c5f-201">Se recomienda tener siempre un número impar de votos de quórum en un clúster de WSFC.</span><span class="sxs-lookup"><span data-stu-id="78c5f-201">It is best practice to always have an odd number of quorum votes in a WSFC cluster.</span></span>  <span data-ttu-id="78c5f-202">A efectos de los votos de quórum, no es necesario que [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] esté instalado en todos los nodos del clúster.</span><span class="sxs-lookup"><span data-stu-id="78c5f-202">For the purposes of quorum voting, [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] does not have to be installed on all nodes in the cluster.</span></span> <span data-ttu-id="78c5f-203">Un servidor adicional puede actuar como miembro de quórum, o el modelo de quórum de WSFC se puede configurar para que se use un recurso compartido de archivos remoto como factor de desempate.</span><span class="sxs-lookup"><span data-stu-id="78c5f-203">An additional server can act as a quorum member, or the WSFC quorum model can be configured to use a remote file share as a tie-breaker.</span></span>
> 
>  <span data-ttu-id="78c5f-204">Para obtener más información, vea: [modos de cuórum de WSFC y configuración de votación &#40;SQL Server&#41;](wsfc-quorum-modes-and-voting-configuration-sql-server.md)</span><span class="sxs-lookup"><span data-stu-id="78c5f-204">For more information, see: [WSFC Quorum Modes and Voting Configuration &#40;SQL Server&#41;](wsfc-quorum-modes-and-voting-configuration-sql-server.md)</span></span>

### <a name="disaster-recovery-through-forced-quorum"></a><span data-ttu-id="78c5f-205">Recuperación ante desastres mediante quórum forzado</span><span class="sxs-lookup"><span data-stu-id="78c5f-205">Disaster Recovery Through Forced Quorum</span></span>
 <span data-ttu-id="78c5f-206">Dependiendo de las prácticas operativas y la configuración del clúster de WSFC, se puede incurrir en conmutaciones por error automáticas y manuales manteniendo al mismo tiempo una solución sólida y con tolerancia a errores de [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] AlwaysOn.</span><span class="sxs-lookup"><span data-stu-id="78c5f-206">Depending upon operational practices and WSFC cluster configuration, you can incur both automatic and manual failovers, and still maintain a robust, fault-tolerant [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] AlwaysOn solution.</span></span> <span data-ttu-id="78c5f-207">Sin embargo, si un quórum de los nodos con derecho a voto del clúster de WSFC no puede comunicarse con otro, o si el clúster de WSFC tiene un error en la validación del estado, el clúster de WSFC puede pasar a estar sin conexión.</span><span class="sxs-lookup"><span data-stu-id="78c5f-207">However, if a quorum of the eligible voting nodes in the WSFC cluster cannot communicate with one another, or if the WSFC cluster otherwise fails health validation, then the WSFC cluster may go offline.</span></span>

 <span data-ttu-id="78c5f-208">Si el clúster de WSFC pasa a estar sin conexión debido a un desastre imprevisto o debido a un error persistente de hardware o de comunicaciones, se requiere la intervención manual administrativa para *forzar un cuórum* y poner de nuevo en línea los nodos de clúster supervivientes en una configuración sin tolerancia a errores.</span><span class="sxs-lookup"><span data-stu-id="78c5f-208">If the WSFC cluster goes offline because of an unplanned disaster, or due to a persistent hardware or communications failure, then manual administrative intervention is required to *force a quorum* and bring the surviving cluster nodes back online in a non-fault-tolerant configuration.</span></span>

 <span data-ttu-id="78c5f-209">Posteriormente, también debe realizarse una serie de pasos para volver a configurar el clúster de WSFC, recuperar las réplicas de base de datos afectadas y restablecer un nuevo quórum.</span><span class="sxs-lookup"><span data-stu-id="78c5f-209">Afterwards, a series of steps must also be taken to reconfigure the WSFC cluster, recover the affected database replicas, and to re-establish a new quorum.</span></span>

 <span data-ttu-id="78c5f-210">Para obtener más información, vea: [Recuperación ante desastres del clúster WSFC mediante cuórum forzado &#40;SQL Server&#41;](wsfc-disaster-recovery-through-forced-quorum-sql-server.md).</span><span class="sxs-lookup"><span data-stu-id="78c5f-210">For more information, see: [WSFC Disaster Recovery through Forced Quorum &#40;SQL Server&#41;](wsfc-disaster-recovery-through-forced-quorum-sql-server.md)</span></span>

##  <a name="relationship-of-sql-server-alwayson-components-to-wsfc"></a><a name="AlwaysOnWsfcRelationship"></a> <span data-ttu-id="78c5f-211">Relación de los componentes de SQL Server AlwaysOn con WSFC</span><span class="sxs-lookup"><span data-stu-id="78c5f-211">Relationship of SQL Server AlwaysOn Components to WSFC</span></span>
 <span data-ttu-id="78c5f-212">Existen varios niveles de relaciones entre [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] AlwaysOn y las características y los componentes de WSFC.</span><span class="sxs-lookup"><span data-stu-id="78c5f-212">Several layers of relationships exist between [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] AlwaysOn and WSFC features and components.</span></span>

 <span data-ttu-id="78c5f-213">Los grupos de disponibilidad AlwaysOn se hospedan en instancias de [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] .</span><span class="sxs-lookup"><span data-stu-id="78c5f-213">AlwaysOn availability groups are hosted on [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] instances.</span></span>
<span data-ttu-id="78c5f-214">Una solicitud de cliente que especifica un nombre de red de agente de escucha del grupo de disponibilidad lógico para conectarse a la base de datos principal o secundaria se redirige al nombre de red de instancia adecuado de la instancia de [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] o de la Instancia de clúster de conmutación por error (FCI) de [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] subyacente.</span><span class="sxs-lookup"><span data-stu-id="78c5f-214">A client request that specifies a logical availability group listener network name to connect to a primary or secondary database is redirected to the appropriate instance network name of the underlying [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] instance or [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] Failover Cluster Instance (FCI).</span></span>

 <span data-ttu-id="78c5f-215">Las instancias de SQL Server se hospedan activamente en un solo nodo.</span><span class="sxs-lookup"><span data-stu-id="78c5f-215">SQL Server instances are actively hosted on a single node.</span></span>
<span data-ttu-id="78c5f-216">Si está presente, una Instancia de [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] independiente reside siempre en un único Nodo con un nombre de red de instancia estático.</span><span class="sxs-lookup"><span data-stu-id="78c5f-216">If present, a stand-alone [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] Instance always resides on a single Node with a static instance network name.</span></span>  <span data-ttu-id="78c5f-217">Si está presente, una FCI de [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] está activa en uno de dos o más nodos de conmutación por error posibles con un único Nombre de red de instancia virtual.</span><span class="sxs-lookup"><span data-stu-id="78c5f-217">If present, a [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] FCI is active on one of two or more possible failover nodes with a single virtual Instance Network Name.</span></span>

 <span data-ttu-id="78c5f-218">Los nodos son miembros de un clúster de WSFC.</span><span class="sxs-lookup"><span data-stu-id="78c5f-218">Nodes are members of a WSFC cluster.</span></span>
<span data-ttu-id="78c5f-219">Los metadatos de configuración de WSFC y el estado de todos los nodos se almacenan en cada nodo.</span><span class="sxs-lookup"><span data-stu-id="78c5f-219">WSFC configuration metadata and status for all nodes is stored on each node.</span></span> <span data-ttu-id="78c5f-220">Cada servidor puede proporcionar volúmenes asimétricos de almacenamiento o almacenamiento compartido (SAN) para las bases de datos del sistema o de usuario.</span><span class="sxs-lookup"><span data-stu-id="78c5f-220">Each server may provide asymmetric storage or shared storage (SAN) volumes for user or system databases.</span></span> <span data-ttu-id="78c5f-221">Cada servidor tiene al menos una interfaz de red física en una o varias subredes IP.</span><span class="sxs-lookup"><span data-stu-id="78c5f-221">Each server has at least one physical network interface on one or more IP subnets.</span></span>

 <span data-ttu-id="78c5f-222">El servicio WSFC supervisa el estado y administra la configuración de un grupo de servidores.</span><span class="sxs-lookup"><span data-stu-id="78c5f-222">The WSFC service monitors health and manages configuration for a group of servers.</span></span>
<span data-ttu-id="78c5f-223">El servicio de Clúster de conmutación por error de Windows Server (WSFC) propaga los cambios en los metadatos y el estado de Configuración de WSFC a todos los nodos del clúster.</span><span class="sxs-lookup"><span data-stu-id="78c5f-223">The Windows Server Failover Cluster (WSFC) service propagates changes to WSFC Configuration metadata and status to all nodes in the cluster.</span></span> <span data-ttu-id="78c5f-224">Los metadatos y el estado parciales se pueden almacenar en un recurso compartido de archivos remoto de testigo de quórum de WSFC.</span><span class="sxs-lookup"><span data-stu-id="78c5f-224">Partial metadata and status may be stored on a WSFC quorum-witness remote file share.</span></span> <span data-ttu-id="78c5f-225">Dos o más nodos o testigos activos constituyen un quórum para votar sobre el estado del clúster de WSFC.</span><span class="sxs-lookup"><span data-stu-id="78c5f-225">Two or more active nodes or witnesses constitute a quorum to vote on the health of the WSFC cluster.</span></span>

 [!INCLUDE[ssHADR](../../../includes/sshadr-md.md)] <span data-ttu-id="78c5f-226">son subclaves del clúster de WSFC.</span><span class="sxs-lookup"><span data-stu-id="78c5f-226">registry keys are subkeys of the WSFC cluster.</span></span>
<span data-ttu-id="78c5f-227">Si elimina y vuelve a crear un clúster de WSFC, debe deshabilitar y volver a habilitar la característica de [!INCLUDE[ssHADR](../../../includes/sshadr-md.md)] en cada instancia del servidor habilitada para [!INCLUDE[ssHADR](../../../includes/sshadr-md.md)] en el clúster de WSFC original.</span><span class="sxs-lookup"><span data-stu-id="78c5f-227">If you delete and re-create a WSFC cluster, you must disable and re-enable the [!INCLUDE[ssHADR](../../../includes/sshadr-md.md)] feature on each server instance that was enabled for [!INCLUDE[ssHADR](../../../includes/sshadr-md.md)] on the original WSFC cluster.</span></span> <span data-ttu-id="78c5f-228">Para obtener más información, vea [Habilitar y deshabilitar grupos de disponibilidad AlwaysOn &#40;SQL Server&#41;](../../../database-engine/availability-groups/windows/enable-and-disable-always-on-availability-groups-sql-server.md).</span><span class="sxs-lookup"><span data-stu-id="78c5f-228">For more information, see [Enable and Disable AlwaysOn Availability Groups &#40;SQL Server&#41;](../../../database-engine/availability-groups/windows/enable-and-disable-always-on-availability-groups-sql-server.md).</span></span>

 <span data-ttu-id="78c5f-229">![Diagrama de contexto de componentes de SQL Server AlwaysOn](../../../database-engine/media/alwaysoncomponentcontextdiagram.gif "Diagrama de contexto de componentes de SQL Server AlwaysOn")</span><span class="sxs-lookup"><span data-stu-id="78c5f-229">![SQL Server AlwaysOn Component Context Diagram](../../../database-engine/media/alwaysoncomponentcontextdiagram.gif "SQL Server AlwaysOn Component Context Diagram")</span></span>

##  <a name="related-tasks"></a><a name="RelatedTasks"></a> <span data-ttu-id="78c5f-230">Tareas relacionadas</span><span class="sxs-lookup"><span data-stu-id="78c5f-230">Related Tasks</span></span>

-   [<span data-ttu-id="78c5f-231">Ver la configuración de NodeWeight de cuórum de clúster</span><span class="sxs-lookup"><span data-stu-id="78c5f-231">View Cluster Quorum NodeWeight Settings</span></span>](view-cluster-quorum-nodeweight-settings.md)

-   [<span data-ttu-id="78c5f-232">Configurar los valores de NodeWeight de cuórum de clúster</span><span class="sxs-lookup"><span data-stu-id="78c5f-232">Configure Cluster Quorum NodeWeight Settings</span></span>](configure-cluster-quorum-nodeweight-settings.md)

-   [<span data-ttu-id="78c5f-233">Forzar el inicio de un clúster WSFC sin un quórum</span><span class="sxs-lookup"><span data-stu-id="78c5f-233">Force a WSFC Cluster to Start Without a Quorum</span></span>](force-a-wsfc-cluster-to-start-without-a-quorum.md)

##  <a name="related-content"></a><a name="RelatedContent"></a> <span data-ttu-id="78c5f-234">Contenido relacionado</span><span class="sxs-lookup"><span data-stu-id="78c5f-234">Related Content</span></span>

-   <span data-ttu-id="78c5f-235">[Tecnologías de Windows Server: clústeres de conmutación por error](https://technet.microsoft.com/library/cc732488\(v=WS.10\).aspx)</span><span class="sxs-lookup"><span data-stu-id="78c5f-235">[Windows Server Technologies:  Failover Clusters](https://technet.microsoft.com/library/cc732488\(v=WS.10\).aspx)</span></span>

-   <span data-ttu-id="78c5f-236">[Clústeres de conmutación por error de Windows Server 2008 R2](https://technet.microsoft.com/library/ff182338\(WS.10\).aspx)</span><span class="sxs-lookup"><span data-stu-id="78c5f-236">[Failover Clusters in Windows Server 2008 R2](https://technet.microsoft.com/library/ff182338\(WS.10\).aspx)</span></span>

-   <span data-ttu-id="78c5f-237">[View Events and Logs for a Failover Cluster](https://technet.microsoft.com/library/cc772342\(WS.10\).aspx)</span><span class="sxs-lookup"><span data-stu-id="78c5f-237">[View Events and Logs for a Failover Cluster](https://technet.microsoft.com/library/cc772342\(WS.10\).aspx)</span></span>

-   [<span data-ttu-id="78c5f-238">Cmdlet de clúster de conmutación por error Get-ClusterLog</span><span class="sxs-lookup"><span data-stu-id="78c5f-238">Get-ClusterLog Failover Cluster Cmdlet</span></span>](https://technet.microsoft.com/library/ee461045.aspx)

## <a name="see-also"></a><span data-ttu-id="78c5f-239">Consulte también</span><span class="sxs-lookup"><span data-stu-id="78c5f-239">See Also</span></span>
 <span data-ttu-id="78c5f-240">Introducción a [las instancias de clúster de conmutación por error de AlwaysOn (SQL Server)](always-on-failover-cluster-instances-sql-server.md) [de Grupos de disponibilidad AlwaysOn &#40;SQL Server&#41;](../../../database-engine/availability-groups/windows/overview-of-always-on-availability-groups-sql-server.md) [modos de cuórum de WSFC y configuración de votación](wsfc-quorum-modes-and-voting-configuration-sql-server.md) &#40;SQL Server [Directiva de conmutación por error para instancias de clúster de conmutación por error](failover-policy-for-failover-cluster-instances.md) [WSFC recuperación ante desastres mediante la&#41;de cuórum forzada](wsfc-disaster-recovery-through-forced-quorum-sql-server.md) &#40;</span><span class="sxs-lookup"><span data-stu-id="78c5f-240">[AlwaysOn Failover Cluster Instances (SQL Server)](always-on-failover-cluster-instances-sql-server.md) [Overview of AlwaysOn Availability Groups &#40;SQL Server&#41;](../../../database-engine/availability-groups/windows/overview-of-always-on-availability-groups-sql-server.md) [WSFC Quorum Modes and Voting Configuration &#40;SQL Server&#41;](wsfc-quorum-modes-and-voting-configuration-sql-server.md) [Failover Policy for Failover Cluster Instances](failover-policy-for-failover-cluster-instances.md) [WSFC Disaster Recovery through Forced Quorum &#40;SQL Server&#41;](wsfc-disaster-recovery-through-forced-quorum-sql-server.md)</span></span>


