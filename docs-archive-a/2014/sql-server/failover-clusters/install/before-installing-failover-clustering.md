---
title: Antes de instalar los clústeres de conmutación por error | Microsoft Docs
ms.custom: ''
ms.date: 06/13/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: install
ms.topic: conceptual
helpviewer_keywords:
- clusters [SQL Server], preinstallation checklist
- installing failover clusters
- failover clustering [SQL Server], preinstallation checklist
ms.assetid: a655225d-8c54-4b30-95fd-31f588167899
author: MashaMSFT
ms.author: mathoma
ms.openlocfilehash: 0ec04b567b7970b25aebeffaefc7bafaf1d56691
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 08/04/2020
ms.locfileid: "87672592"
---
# <a name="before-installing-failover-clustering"></a><span data-ttu-id="d17c7-102">Antes de instalar los clústeres de conmutación por error</span><span class="sxs-lookup"><span data-stu-id="d17c7-102">Before Installing Failover Clustering</span></span>
  <span data-ttu-id="d17c7-103">Antes de instalar un clústeres de conmutación por error de [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)], debe seleccionar el hardware y el sistema operativo en el que se ejecutará [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)].</span><span class="sxs-lookup"><span data-stu-id="d17c7-103">Before you install a [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] failover cluster, you must select the hardware and the operating system on which [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] will run.</span></span> <span data-ttu-id="d17c7-104">También deberá configurar el servicio de clústeres de conmutación por error de Windows Server (WSFC), así como revisar la red, la seguridad y las consideraciones relativas al resto del software que se ejecutará en los clústeres de conmutación por error.</span><span class="sxs-lookup"><span data-stu-id="d17c7-104">You must also configure Windows Server Failover Clustering (WSFC), and review network, security, and considerations for other software that will run on your failover cluster.</span></span>  
  
 <span data-ttu-id="d17c7-105">Si un clúster de Windows tiene una unidad de disco local y esa misma letra de unidad se usa también en uno o varios nodos del clúster como una unidad compartida, no puede instalar [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] en esa unidad.</span><span class="sxs-lookup"><span data-stu-id="d17c7-105">If a Windows cluster has a local disk drive and the same drive letter is also used on one or more cluster nodes as a shared drive, you cannot install [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] on that drive.</span></span>  
  
 <span data-ttu-id="d17c7-106">También puede consultar los temas siguientes para obtener más información sobre los conceptos, las características y las tareas de clústeres de conmutación por error de [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] .</span><span class="sxs-lookup"><span data-stu-id="d17c7-106">You may also want to review the following topics to learn more about [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] failover clustering concepts, features and tasks.</span></span>  
  
|<span data-ttu-id="d17c7-107">Descripción del tema</span><span class="sxs-lookup"><span data-stu-id="d17c7-107">Topic Description</span></span>|<span data-ttu-id="d17c7-108">Tema</span><span class="sxs-lookup"><span data-stu-id="d17c7-108">Topic</span></span>|  
|-----------------------|-----------|  
|<span data-ttu-id="d17c7-109">Describe los conceptos de clústeres de conmutación por error de [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] y proporciona vínculos a las tareas y contenido asociados.</span><span class="sxs-lookup"><span data-stu-id="d17c7-109">Describes [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] failover clustering concepts, and provides links to associated content and tasks.</span></span>|[<span data-ttu-id="d17c7-110">Instancias de clúster de conmutación por error de AlwaysOn (SQL Server)</span><span class="sxs-lookup"><span data-stu-id="d17c7-110">AlwaysOn Failover Cluster Instances (SQL Server)</span></span>](../windows/always-on-failover-cluster-instances-sql-server.md)|  
|<span data-ttu-id="d17c7-111">Describe los conceptos de la directiva de conmutación por error de [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] y proporciona vínculos para configurarla de modo que satisfaga los requisitos de su organización.</span><span class="sxs-lookup"><span data-stu-id="d17c7-111">Describes [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] failover policy concepts, and provides links to configuring the failover policy to suit your organizational requirements.</span></span>|[<span data-ttu-id="d17c7-112">Failover Policy for Failover Cluster Instances</span><span class="sxs-lookup"><span data-stu-id="d17c7-112">Failover Policy for Failover Cluster Instances</span></span>](../windows/failover-policy-for-failover-cluster-instances.md)|  
|<span data-ttu-id="d17c7-113">Describe cómo mantener el clúster de conmutación por error existente de [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] .</span><span class="sxs-lookup"><span data-stu-id="d17c7-113">Describes how to maintain and your existing [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] failover cluster.</span></span>|[<span data-ttu-id="d17c7-114">Administración y mantenimiento de la instancia de clúster de conmutación por error</span><span class="sxs-lookup"><span data-stu-id="d17c7-114">Failover Cluster Instance Administration and Maintenance</span></span>](../windows/failover-cluster-instance-administration-and-maintenance.md)|  
|<span data-ttu-id="d17c7-115">Explica cómo instalar [!INCLUDE[ssASnoversion](../../../includes/ssasnoversion-md.md)] en un Clúster de conmutación por error de Windows Server (WSFC).</span><span class="sxs-lookup"><span data-stu-id="d17c7-115">Explains how to install [!INCLUDE[ssASnoversion](../../../includes/ssasnoversion-md.md)] on a Windows Server Failover Cluster (WSFC).</span></span>|[<span data-ttu-id="d17c7-116">Organizar en clúster SQL Server Analysis Services</span><span class="sxs-lookup"><span data-stu-id="d17c7-116">How to Cluster SQL Server Analysis Services</span></span>](https://go.microsoft.com/fwlink/p/?LinkId=396548)|  
  
  
  
##  <a name="best-practices"></a><a name="BestPractices"></a> <span data-ttu-id="d17c7-117">Procedimientos recomendados</span><span class="sxs-lookup"><span data-stu-id="d17c7-117">Best Practices</span></span>  
  
-   <span data-ttu-id="d17c7-118">Revise las [Notas de la versión](https://go.microsoft.com/fwlink/?LinkId=296445) de [!INCLUDE[ssCurrent](../../../includes/sscurrent-md.md)]</span><span class="sxs-lookup"><span data-stu-id="d17c7-118">Review [!INCLUDE[ssCurrent](../../../includes/sscurrent-md.md)][Release Notes](https://go.microsoft.com/fwlink/?LinkId=296445)</span></span>  
  
-   <span data-ttu-id="d17c7-119">Instale el software previo requerido.</span><span class="sxs-lookup"><span data-stu-id="d17c7-119">Install prerequisite software.</span></span> <span data-ttu-id="d17c7-120">Antes de ejecutar el programa de instalación para instalar o actualizar a [!INCLUDE[ssCurrent](../../../includes/sscurrent-md.md)], instale el software previo siguiente para reducir el tiempo de instalación.</span><span class="sxs-lookup"><span data-stu-id="d17c7-120">Before running Setup to install or upgrade to [!INCLUDE[ssCurrent](../../../includes/sscurrent-md.md)], install the following prerequisites to reduce installation time.</span></span> <span data-ttu-id="d17c7-121">Puede instalar el software previo en cada nodo de clúster de conmutación por error y, a continuación, reiniciar los nodos una vez antes de ejecutar el programa de instalación.</span><span class="sxs-lookup"><span data-stu-id="d17c7-121">You can install prerequisite software on each failover cluster node and then restart nodes once before running Setup.</span></span>  
  
    -   <span data-ttu-id="d17c7-122">El programa de instalación de [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] ya no instala Windows PowerShell.</span><span class="sxs-lookup"><span data-stu-id="d17c7-122">Windows PowerShell is no longer installed by [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] Setup.</span></span> <span data-ttu-id="d17c7-123">Windows PowerShell 2.0 es un requisito previo para instalar los componentes de [!INCLUDE[ssCurrent](../../../includes/sscurrent-md.md)][!INCLUDE[ssDE](../../../includes/ssde-md.md)] y [!INCLUDE[ssManStudioFull](../../../includes/ssmanstudiofull-md.md)].</span><span class="sxs-lookup"><span data-stu-id="d17c7-123">Windows PowerShell 2.0 is a prerequisite for installing [!INCLUDE[ssCurrent](../../../includes/sscurrent-md.md)][!INCLUDE[ssDE](../../../includes/ssde-md.md)] components and [!INCLUDE[ssManStudioFull](../../../includes/ssmanstudiofull-md.md)].</span></span> <span data-ttu-id="d17c7-124">Si Windows PowerShell 2.0 no está presente en su equipo, puede habilitarlo mediante las instrucciones de la página [Windows Management Framework](https://go.microsoft.com/fwlink/?LinkId=186214).</span><span class="sxs-lookup"><span data-stu-id="d17c7-124">If Windows PowerShell 2.0 is not present on your computer, you can enable it by following the instructions on the [Windows Management Framework](https://go.microsoft.com/fwlink/?LinkId=186214) page.</span></span>  
  
    -   <span data-ttu-id="d17c7-125">El programa de instalación de [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] ya no instala .NET Framework 3.5 SP1 pero quizá se necesite al instalar [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] en los sistemas operativos Windows anteriores.</span><span class="sxs-lookup"><span data-stu-id="d17c7-125">.NET Framework 3.5 SP1 is no longer installed by [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] Setup, but may be required while installing [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] on older Windows operating systems.</span></span> <span data-ttu-id="d17c7-126">Para obtener más información, consulte notas de la [!INCLUDE[ssCurrent](../../../includes/sscurrent-md.md)] [versión](https://go.microsoft.com/fwlink/?LinkId=296445).</span><span class="sxs-lookup"><span data-stu-id="d17c7-126">For more information, see [!INCLUDE[ssCurrent](../../../includes/sscurrent-md.md)][Release Notes](https://go.microsoft.com/fwlink/?LinkId=296445).</span></span>  
  
    -   <span data-ttu-id="d17c7-127">\*\* [!INCLUDE[msCoName](../../../includes/msconame-md.md)] Paquete de actualización:\*\* para evitar el reinicio del equipo debido a la instalación de .NET Framework 4 durante la instalación, [!INCLUDE[ssCurrent](../../../includes/sscurrent-md.md)] el programa de instalación requiere [!INCLUDE[msCoName](../../../includes/msconame-md.md)] que se instale una actualización en el equipo.</span><span class="sxs-lookup"><span data-stu-id="d17c7-127">**[!INCLUDE[msCoName](../../../includes/msconame-md.md)] Update package:** To avoid computer restart due to .NET Framework 4 installation during setup, [!INCLUDE[ssCurrent](../../../includes/sscurrent-md.md)] setup requires a [!INCLUDE[msCoName](../../../includes/msconame-md.md)] update to be installed on the computer.</span></span>  <span data-ttu-id="d17c7-128">Si va a instalar [!INCLUDE[ssSQL14](../../../includes/sssql14-md.md)] en Windows 7 SP1 o [!INCLUDE[firstref_longhorn](../../../includes/firstref-longhorn-md.md)] SP2, esta actualización se incluye.</span><span class="sxs-lookup"><span data-stu-id="d17c7-128">If you are installing [!INCLUDE[ssSQL14](../../../includes/sssql14-md.md)] on Windows 7 SP1 or [!INCLUDE[firstref_longhorn](../../../includes/firstref-longhorn-md.md)] SP2 this update is included.</span></span> <span data-ttu-id="d17c7-129">Si instala en un sistema operativo Windows anterior, descárguelo desde [Microsoft Update para .NET Framework 4.0 en Windows Vista y Windows Server 2008](https://go.microsoft.com/fwlink/?LinkId=198093).</span><span class="sxs-lookup"><span data-stu-id="d17c7-129">If you are installing on an older Windows operating system, download it from [Microsoft Update for .NET Framework 4.0 on Windows Vista and Windows Server 2008](https://go.microsoft.com/fwlink/?LinkId=198093).</span></span>  
  
    -   <span data-ttu-id="d17c7-130">.NET Framework 4: el programa de instalación instala .NET Framework 4 en un sistema operativo en clúster.</span><span class="sxs-lookup"><span data-stu-id="d17c7-130">.NET Framework 4: Setup installs .NET Framework 4 on a clustered operating system.</span></span> <span data-ttu-id="d17c7-131">Para reducir el tiempo total de instalación, considere la instalación de .NET Framework 4 antes de ejecutar el programa de instalación principal.</span><span class="sxs-lookup"><span data-stu-id="d17c7-131">To reduce installation time, you may consider installing .NET Framework 4 before you run Setup.</span></span>  
  
    -   [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] <span data-ttu-id="d17c7-132">.</span><span class="sxs-lookup"><span data-stu-id="d17c7-132">Setup support files.</span></span> <span data-ttu-id="d17c7-133">Puede instalar estos archivos ejecutando el archivo SqlSupport.msi ubicado en el soporte físico de instalación de [!INCLUDE[ssCurrent](../../../includes/sscurrent-md.md)] .</span><span class="sxs-lookup"><span data-stu-id="d17c7-133">You can install these files by running SqlSupport.msi located on your [!INCLUDE[ssCurrent](../../../includes/sscurrent-md.md)] installation media.</span></span>  
  
-   <span data-ttu-id="d17c7-134">Compruebe que no tiene instalado software antivirus en el clúster WSFC.</span><span class="sxs-lookup"><span data-stu-id="d17c7-134">Verify that antivirus software is not installed on your WSFC cluster.</span></span> <span data-ttu-id="d17c7-135">Para obtener más información, vea el artículo de [!INCLUDE[msCoName](../../../includes/msconame-md.md)] Knowledge Base [Software antivirus que no es compatible con clúster puede causar problemas con servicios de Cluster Server](https://go.microsoft.com/fwlink/?LinkId=116986).</span><span class="sxs-lookup"><span data-stu-id="d17c7-135">For more information, see the [!INCLUDE[msCoName](../../../includes/msconame-md.md)] Knowledge Base article, [Antivirus software may cause problems with cluster services](https://go.microsoft.com/fwlink/?LinkId=116986).</span></span>  
  
-   <span data-ttu-id="d17c7-136">Cuando asigne nombre a un grupo de clústeres de la instalación de clústeres de conmutación por error, no debe utilizar ninguno de los caracteres siguientes:</span><span class="sxs-lookup"><span data-stu-id="d17c7-136">When naming a cluster group for your failover cluster installation, you must not use any of the following characters in the cluster group name:</span></span>  
  
    -   <span data-ttu-id="d17c7-137">Operador menor que (\<)</span><span class="sxs-lookup"><span data-stu-id="d17c7-137">Less than operator (\<)</span></span>  
  
    -   <span data-ttu-id="d17c7-138">Operador mayor que (>)</span><span class="sxs-lookup"><span data-stu-id="d17c7-138">Greater than operator (>)</span></span>  
  
    -   <span data-ttu-id="d17c7-139">Comillas dobles (")</span><span class="sxs-lookup"><span data-stu-id="d17c7-139">Double quote (")</span></span>  
  
    -   <span data-ttu-id="d17c7-140">Comillas simples (')</span><span class="sxs-lookup"><span data-stu-id="d17c7-140">Single quote (')</span></span>  
  
    -   <span data-ttu-id="d17c7-141">Símbolo de y comercial (&)</span><span class="sxs-lookup"><span data-stu-id="d17c7-141">Ampersand (&)</span></span>  
  
     <span data-ttu-id="d17c7-142">También compruebe que los nombres de los grupos de clústeres existentes no contienen los caracteres no compatibles.</span><span class="sxs-lookup"><span data-stu-id="d17c7-142">Also verify that existing cluster group names do not contain unsupported characters.</span></span>  
  
-   <span data-ttu-id="d17c7-143">Asegúrese de que todos los nodos del clúster están configurados de forma idéntica, lo que incluye COM+, letras de unidad de disco y usuarios del grupo de administradores.</span><span class="sxs-lookup"><span data-stu-id="d17c7-143">Ensure that all cluster nodes are configured identically, including COM+, disk drive letters, and users in the administrators group.</span></span>  
  
-   <span data-ttu-id="d17c7-144">Compruebe que ha borrado los registros del sistema en todos los nodos y ha consultado de nuevo los registros del sistema.</span><span class="sxs-lookup"><span data-stu-id="d17c7-144">Verify that you have cleared the system logs in all nodes and viewed the system logs again.</span></span> <span data-ttu-id="d17c7-145">Antes de continuar, asegúrese de que los registros no contienen mensajes de error.</span><span class="sxs-lookup"><span data-stu-id="d17c7-145">Ensure that the logs are free of any error messages before continuing.</span></span>  
  
-   <span data-ttu-id="d17c7-146">Antes de instalar o actualizar un clúster de conmutación por error de [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] , deshabilite todas las aplicaciones y servicios que puedan usar componentes de [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] durante la instalación, pero conserve los recursos de disco en línea.</span><span class="sxs-lookup"><span data-stu-id="d17c7-146">Before you install or update a [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] failover cluster, disable all applications and services that might use [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] components during installation, but leave the disk resources online.</span></span>  
  
-   [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] <span data-ttu-id="d17c7-147">establece automáticamente las dependencias entre el grupo de clúster de [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] y los discos que estarán en el clúster de conmutación por error.</span><span class="sxs-lookup"><span data-stu-id="d17c7-147">Setup automatically sets dependencies between the [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] cluster group and the disks that will be in the failover cluster.</span></span> <span data-ttu-id="d17c7-148">No establezca las dependencias para los discos antes de la instalación.</span><span class="sxs-lookup"><span data-stu-id="d17c7-148">Do not set dependencies for disks before Setup.</span></span>  
  
    -   <span data-ttu-id="d17c7-149">Durante la instalación de los clústeres de conmutación por error de [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] , se crea el objeto de equipo (cuentas de equipo de Active Directory) para el nombre de recurso de red de [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] .</span><span class="sxs-lookup"><span data-stu-id="d17c7-149">During [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] Failover Cluster installation, computer object (Active Directory computer accounts) for the [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] Network Resource Name is created.</span></span> <span data-ttu-id="d17c7-150">En un clúster de [!INCLUDE[firstref_longhorn](../../../includes/firstref-longhorn-md.md)] , la cuenta del nombre del clúster (cuenta de equipo del propio clúster) necesita tener permisos para crear objetos de equipo.</span><span class="sxs-lookup"><span data-stu-id="d17c7-150">In a [!INCLUDE[firstref_longhorn](../../../includes/firstref-longhorn-md.md)] cluster, the cluster name account (computer account of the cluster itself) needs to have permissions to create computer objects.</span></span> <span data-ttu-id="d17c7-151">Para obtener más información, vea [Configurar cuentas en Active Directory](https://technet.microsoft.com/library/cc731002\(WS.10\).aspx).</span><span class="sxs-lookup"><span data-stu-id="d17c7-151">For more information, see [Configuring Accounts in Active Directory](https://technet.microsoft.com/library/cc731002\(WS.10\).aspx).</span></span>  
  
    -   <span data-ttu-id="d17c7-152">Si está utilizando el recurso compartido de archivos SMB como opción de almacenamiento, la cuenta del programa de instalación de [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] debe tener SeSecurityPrivilege en el servidor de archivos.</span><span class="sxs-lookup"><span data-stu-id="d17c7-152">If you are using SMB File share as a storage option, the [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] Setup account must have SeSecurityPrivilege on the file server.</span></span> <span data-ttu-id="d17c7-153">Para ello, use la consola de directivas de seguridad local del servidor de archivos para agregar la cuenta de instalación de [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] a los derechos **Administrar registro de seguridad y auditoría** .</span><span class="sxs-lookup"><span data-stu-id="d17c7-153">To do this, using the Local Security Policy console on the file server, add the [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] setup account to **Manage auditing and security log** rights.</span></span>  
  
 
  
##  <a name="verify-your-hardware-solution"></a><a name="Hardware"></a> <span data-ttu-id="d17c7-154">Comprobar la solución de hardware</span><span class="sxs-lookup"><span data-stu-id="d17c7-154">Verify Your Hardware Solution</span></span>  
  
-   <span data-ttu-id="d17c7-155">Si la solución de clúster incluye nodos de clúster geográficamente dispersos, deben comprobarse elementos adicionales como la latencia de red y la compatibilidad con discos compartidos.</span><span class="sxs-lookup"><span data-stu-id="d17c7-155">If the cluster solution includes geographically dispersed cluster nodes, additional items like network latency and shared disk support must be verified.</span></span>  
  
    -   <span data-ttu-id="d17c7-156">Para obtener más información sobre [!INCLUDE[firstref_longhorn](../../../includes/firstref-longhorn-md.md)] y [!INCLUDE[winserver2008r2](../../../includes/winserver2008r2-md.md)], vea [Validar el hardware para un clúster de conmutación por error](https://go.microsoft.com/fwlink/?LinkId=196817) y [Directiva de compatibilidad para clústeres de conmutación por error de Windows](https://go.microsoft.com/fwlink/?LinkId=196818).</span><span class="sxs-lookup"><span data-stu-id="d17c7-156">For more information about [!INCLUDE[firstref_longhorn](../../../includes/firstref-longhorn-md.md)] and [!INCLUDE[winserver2008r2](../../../includes/winserver2008r2-md.md)], see [Validating Hardware for a failover cluster](https://go.microsoft.com/fwlink/?LinkId=196817) and [Support Policy for Windows Failover Clusters](https://go.microsoft.com/fwlink/?LinkId=196818).</span></span>  
  
-   <span data-ttu-id="d17c7-157">Compruebe que el disco en el que se instalará [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] no esté comprimido o cifrado.</span><span class="sxs-lookup"><span data-stu-id="d17c7-157">Verify that the disk where [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] will be installed is not compressed or encrypted.</span></span> <span data-ttu-id="d17c7-158">Si intenta instalar [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] en una unidad comprimida o en una unidad cifrada, se producirá un error en la instalación de [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] .</span><span class="sxs-lookup"><span data-stu-id="d17c7-158">If you attempt to install [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] to a compressed drive or an encrypted drive, [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] Setup fails.</span></span>  
  
-   <span data-ttu-id="d17c7-159">Las configuraciones SAN también se admiten en las ediciones Advanced Server y Datacenter Server de [!INCLUDE[firstref_longhorn](../../../includes/firstref-longhorn-md.md)] y [!INCLUDE[winserver2008r2](../../../includes/winserver2008r2-md.md)] .</span><span class="sxs-lookup"><span data-stu-id="d17c7-159">SAN configurations are also supported on [!INCLUDE[firstref_longhorn](../../../includes/firstref-longhorn-md.md)] and [!INCLUDE[winserver2008r2](../../../includes/winserver2008r2-md.md)] Advanced Server and Datacenter Server editions.</span></span> <span data-ttu-id="d17c7-160">En la categoría "Cluster/Multi-cluster Device" de Windows Catalog and Hardware Compatibility List se enumera el conjunto de dispositivos de almacenamiento habilitados para SAN que se han comprobado y se admiten como unidades de almacenamiento SAN con varios clústeres WSFC conectados.</span><span class="sxs-lookup"><span data-stu-id="d17c7-160">The Windows Catalog and Hardware Compatibility List category "Cluster/Multi-cluster Device" lists the set of SAN-capable storage devices that have been tested and are supported as SAN storage units with multiple WSFC clusters attached.</span></span> <span data-ttu-id="d17c7-161">Ejecute la validación del clúster después de encontrar los componentes certificados.</span><span class="sxs-lookup"><span data-stu-id="d17c7-161">Run cluster validation after finding the certified components.</span></span>  
  
-   <span data-ttu-id="d17c7-162">El recurso compartido de archivos de SMB también se admite para instalar los archivos de datos.</span><span class="sxs-lookup"><span data-stu-id="d17c7-162">SMB File Share is also supported for installing data files.</span></span> <span data-ttu-id="d17c7-163">Para obtener más información, vea [Storage Types for Data Files](../../install/hardware-and-software-requirements-for-installing-sql-server.md#StorageTypes).</span><span class="sxs-lookup"><span data-stu-id="d17c7-163">For more information, see [Storage Types for Data Files](../../install/hardware-and-software-requirements-for-installing-sql-server.md#StorageTypes).</span></span>  
  
    > [!WARNING]  
    >  <span data-ttu-id="d17c7-164">Si va a utilizar Servidor de archivos de Windows como almacenamiento de recursos compartidos de archivos de SMB, la cuenta del programa de instalación de [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] debe tener SeSecurityPrivilege en el servidor de archivos.</span><span class="sxs-lookup"><span data-stu-id="d17c7-164">If you are using Windows File Server as a SMB File Share storage, the [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] Setup account must have SeSecurityPrivilege on the file server.</span></span> <span data-ttu-id="d17c7-165">Para ello, use la consola de directivas de seguridad local del servidor de archivos para agregar la cuenta de instalación de [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] a los derechos **Administrar registro de seguridad y auditoría** .</span><span class="sxs-lookup"><span data-stu-id="d17c7-165">To do this, using the Local Security Policy console on the file server, add the [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] setup account to **Manage auditing and security log** rights.</span></span>  
    >   
    >  <span data-ttu-id="d17c7-166">Si utiliza un almacenamiento de recursos compartidos de archivos de SMB que no sea Servidor de archivos de Windows, solicite al proveedor de almacenamiento que le proporcione una configuración equivalente en el servidor de archivos.</span><span class="sxs-lookup"><span data-stu-id="d17c7-166">If you are using SMB file share storage other than Windows File server, please consult the storage vendor for an equivalent setting on the file server side.</span></span>  
  
-   [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] <span data-ttu-id="d17c7-167">admite puntos de montaje.</span><span class="sxs-lookup"><span data-stu-id="d17c7-167">supports mount points.</span></span>  
  
     <span data-ttu-id="d17c7-168">Un volumen montado, o punto de montaje, le permite utilizar una sola letra de unidad para hacer referencia a muchos discos o volúmenes.</span><span class="sxs-lookup"><span data-stu-id="d17c7-168">A mounted volume, or mount point, allows you to use a single drive letter to refer to many disks or volumes.</span></span> <span data-ttu-id="d17c7-169">Si tiene una letra de unidad D: para un disco o volumen normal, puede conectar o "montar" discos o volúmenes adicionales como directorios de la letra de unidad D: sin que dichos discos o volúmenes adicionales requieran letras de unidad propias.</span><span class="sxs-lookup"><span data-stu-id="d17c7-169">If you have a drive letter D: that refers to a regular disk or volume, you can connect or "mount" additional disks or volumes as directories under drive letter D: without the additional disks or volumes requiring drive letters of their own.</span></span>  
  
     <span data-ttu-id="d17c7-170">Consideraciones adicionales sobre puntos de montaje para los clústeres de conmutación por error de [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] :</span><span class="sxs-lookup"><span data-stu-id="d17c7-170">Additional mount point considerations for [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] failover clustering:</span></span>  
  
    -   [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] <span data-ttu-id="d17c7-171">requiere que la unidad base de una unidad montada tenga una letra de unidad asociada.</span><span class="sxs-lookup"><span data-stu-id="d17c7-171">Setup requires that the base drive of a mounted drive has an associated drive letter.</span></span> <span data-ttu-id="d17c7-172">En las instalaciones de clústeres de conmutación por error, esta unidad base debe ser una unidad de clúster.</span><span class="sxs-lookup"><span data-stu-id="d17c7-172">For failover cluster installations, this base drive must be a clustered drive.</span></span> <span data-ttu-id="d17c7-173">En esta versión no se admiten los GUID de volumen.</span><span class="sxs-lookup"><span data-stu-id="d17c7-173">Volume GUIDs are not supported in this release.</span></span>  
  
    -   <span data-ttu-id="d17c7-174">La unidad base, la que tiene la letra de unidad, no se puede compartir con otras instancias de clústeres de conmutación por error.</span><span class="sxs-lookup"><span data-stu-id="d17c7-174">The base drive, the one with the drive letter, cannot be shared among failover cluster instances.</span></span> <span data-ttu-id="d17c7-175">Se trata de una restricción normal para los clústeres de conmutación por error, pero no es una restricción en los servidores independientes con varias instancias.</span><span class="sxs-lookup"><span data-stu-id="d17c7-175">This is a normal restriction for failover clusters, but is not a restriction on stand-alone, multi-instance servers.</span></span>  
  
    -   <span data-ttu-id="d17c7-176">Las instalaciones en clúster de [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] están limitadas al número de letras de unidad disponibles.</span><span class="sxs-lookup"><span data-stu-id="d17c7-176">The clustered installations of [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] are limited to the number of available drive letters.</span></span> <span data-ttu-id="d17c7-177">En el supuesto de que solo utilice una letra de unidad para el sistema operativo y las demás letras estén disponibles como unidades de clúster normales o unidades de clúster que hospedan puntos de montaje, existe un límite máximo de 25 instancias de [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] por clústeres de conmutación por error.</span><span class="sxs-lookup"><span data-stu-id="d17c7-177">Assuming that you use only one drive letter for the operating system, and all other drive letters are available as normal cluster drives or cluster drives hosting mount points, you are limited to a maximum of 25 instances of [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] per failover cluster.</span></span>  
  
        > [!TIP]  
        >  <span data-ttu-id="d17c7-178">El límite de 25 instancias se puede superar utilizando la opción de recurso compartido de archivos de SMB.</span><span class="sxs-lookup"><span data-stu-id="d17c7-178">The 25 instance limit can be overcome by using SMB file share option.</span></span> <span data-ttu-id="d17c7-179">Si usa el recurso compartido de archivos de SMB como opción de almacenamiento, puede instalar hasta 50 instancias de clúster de conmutación por error de [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] .</span><span class="sxs-lookup"><span data-stu-id="d17c7-179">If you use SMB file share as the storage option, you can install up to 50 [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] failover cluster instances.</span></span>  
  
    -   <span data-ttu-id="d17c7-180">No se admite dar formato a una unidad después de montar unidades adicionales.</span><span class="sxs-lookup"><span data-stu-id="d17c7-180">Formatting a drive after mounting additional drives is not supported.</span></span>  
  
-   <span data-ttu-id="d17c7-181">La instalación de clústeres de conmutación por error de[!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] admite el disco local solo para instalar los archivos tempdb.</span><span class="sxs-lookup"><span data-stu-id="d17c7-181">[!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] failover cluster installation supports Local Disk only for installing the tempdb files.</span></span> <span data-ttu-id="d17c7-182">Asegúrese de que la ruta de acceso especificada para los archivos de datos y registro de tempdb es válida en todos los nodos del clúster.</span><span class="sxs-lookup"><span data-stu-id="d17c7-182">Ensure that the path specified for the tempdb data and log files is valid on all the cluster nodes.</span></span> <span data-ttu-id="d17c7-183">Durante la conmutación por error, si los directorios de tempdb no están disponibles en el nodo de destino de la conmutación por error, el recurso de [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] no podrá ponerse en línea.</span><span class="sxs-lookup"><span data-stu-id="d17c7-183">During failover, if the tempdb directories are not available on the failover target node, the [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] resource will fail to come online.</span></span> <span data-ttu-id="d17c7-184">Para obtener más información, vea [Tipos de almacenamiento para los archivos de datos](../../install/hardware-and-software-requirements-for-installing-sql-server.md#StorageTypes) y [Configuración del motor de base de datos - Directorios de datos](../../install/database-engine-configuration-data-directories.md).</span><span class="sxs-lookup"><span data-stu-id="d17c7-184">For more information, see [Storage Types for Data Files](../../install/hardware-and-software-requirements-for-installing-sql-server.md#StorageTypes) and [Database Engine Configuration - Data Directories](../../install/database-engine-configuration-data-directories.md).</span></span>  
  
-   <span data-ttu-id="d17c7-185">Si implementa un clúster de conmutación por error de [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] en componentes de tecnología de interfaz para pequeños equipos de Internet (iSCSI), se recomienda hacerlo con precaución.</span><span class="sxs-lookup"><span data-stu-id="d17c7-185">If you deploy a [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] failover cluster on iSCSI technology components, we recommend that you use appropriate caution.</span></span> <span data-ttu-id="d17c7-186">Para obtener más información, vea [Compatibilidad con SQL Server en componentes de tecnología iSCSI](https://go.microsoft.com/fwlink/?LinkId=116960).</span><span class="sxs-lookup"><span data-stu-id="d17c7-186">For more information, see [Support for SQL Server on iSCSI technology components](https://go.microsoft.com/fwlink/?LinkId=116960).</span></span>  
  
-   <span data-ttu-id="d17c7-187">Para obtener más información, vea [Directiva de compatibilidad de SQL Server para Clústeres de Microsoft](https://go.microsoft.com/fwlink/?LinkId=116958).</span><span class="sxs-lookup"><span data-stu-id="d17c7-187">For more information, see [SQL Server support policy for Microsoft Clustering](https://go.microsoft.com/fwlink/?LinkId=116958).</span></span>  
  
-   <span data-ttu-id="d17c7-188">Para obtener más información sobre la configuración correcta de unidades de quórum, vea el artículo de [Información de configuración de la unidad de cuórum](https://go.microsoft.com/fwlink/?LinkId=196816).</span><span class="sxs-lookup"><span data-stu-id="d17c7-188">For more information about proper quorum drive configuration, see [Quorum Drive Configuration Information](https://go.microsoft.com/fwlink/?LinkId=196816).</span></span>  
  
-   <span data-ttu-id="d17c7-189">Para instalar un clúster de conmutación por error de [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] cuando los archivos de instalación de origen de [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] y el clúster están en dominios diferentes, copie los archivos de instalación en el dominio actual disponible para los clústeres de conmutación por error de [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] .</span><span class="sxs-lookup"><span data-stu-id="d17c7-189">To install a [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] failover cluster when the [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] source installation files and the cluster exist on different domains, copy the installation files to the current domain available to the [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] failover cluster.</span></span>  
  
  
  
##  <a name="review-security-considerations"></a><a name="Security"></a> <span data-ttu-id="d17c7-190">Revisar las consideraciones relativas a la seguridad</span><span class="sxs-lookup"><span data-stu-id="d17c7-190">Review Security Considerations</span></span>  
  
-   <span data-ttu-id="d17c7-191">Para usar el cifrado, instale el certificado del servidor con el nombre DNS completo del clúster WSFC en todos los nodos de los clústeres de conmutación por error de [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] .</span><span class="sxs-lookup"><span data-stu-id="d17c7-191">To use encryption, install the server certificate with the fully qualified DNS name of the WSFC cluster on all nodes in the [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] failover cluster.</span></span> <span data-ttu-id="d17c7-192">Por ejemplo, si tiene un clúster con dos nodos cuyos nombres son "Test1.DomainName.com" y "Test2.DomainName.com" y una instancia de clústeres de conmutación por error de [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] denominada "Virtsql", debe obtener un certificado para "Virtsql.DomainName.com" e instalarlo en los nodos test1 y test2.</span><span class="sxs-lookup"><span data-stu-id="d17c7-192">For example, if you have a two-node cluster, with nodes named "Test1.DomainName.com" and "Test2.DomainName.com" and a [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] failover cluster instance named "Virtsql", you must get a certificate for "Virtsql.DomainName.com" and install the certificate on the test1 and test2 nodes.</span></span> <span data-ttu-id="d17c7-193">A continuación, puede activar la casilla **Forzar cifrado de protocolo** en el Administrador de configuración de [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] para configurar el cifrado en los clústeres de conmutación por error.</span><span class="sxs-lookup"><span data-stu-id="d17c7-193">Then you can select the **Force protocol encryption** check box on the [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] Configuration Manager to configure your failover cluster for encryption.</span></span>  
  
    > [!IMPORTANT]  
    >  <span data-ttu-id="d17c7-194"> No active la casilla **Forzar cifrado de protocolo** hasta que haya instalado certificados en todos los nodos participantes de la instancia de clústeres de conmutación por error.</span><span class="sxs-lookup"><span data-stu-id="d17c7-194">Do not select the **Force protocol encryption** check box until you have certificates installed on all participating nodes in your failover cluster instance.</span></span>  
  
-   <span data-ttu-id="d17c7-195">Para las instalaciones de [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] en configuraciones en paralelo con versiones anteriores, los servicios de [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] deben usar cuentas que solo se encuentran en el grupo de dominios global.</span><span class="sxs-lookup"><span data-stu-id="d17c7-195">For [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] installations in side-by-side configurations with previous versions, [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] services must use accounts found only in the global domains group.</span></span> <span data-ttu-id="d17c7-196">Además, las cuentas usadas por los servicios de [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] no deben aparecer en el grupo local de administradores.</span><span class="sxs-lookup"><span data-stu-id="d17c7-196">Additionally, accounts used by [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] services must not appear in the local Administrators group.</span></span> <span data-ttu-id="d17c7-197">Si no se sigue esta directriz, se producirán comportamientos inesperados con respecto a la seguridad.</span><span class="sxs-lookup"><span data-stu-id="d17c7-197">Failure to comply with this guideline will result in unexpected security behavior.</span></span>  
  
-   <span data-ttu-id="d17c7-198">Para crear un clústeres de conmutación por error, debe ser un administrador local con permisos para iniciar sesión como servicio y para actuar como parte del sistema operativo en todos los nodos de la instancia de clústeres de conmutación por error.</span><span class="sxs-lookup"><span data-stu-id="d17c7-198">To create a failover cluster, you must be a local administrator with permissions to log on as a service, and to act as part of the operating system on all nodes of the failover cluster instance.</span></span>  
  
-   <span data-ttu-id="d17c7-199">En [!INCLUDE[nextref_longhorn](../../../includes/nextref-longhorn-md.md)], se generan automáticamente identificadores de seguridad (SID) de servicios para su utilización con los servicios de [!INCLUDE[ssCurrent](../../../includes/sscurrent-md.md)] .</span><span class="sxs-lookup"><span data-stu-id="d17c7-199">On [!INCLUDE[nextref_longhorn](../../../includes/nextref-longhorn-md.md)], service SIDs are generated automatically for use with [!INCLUDE[ssCurrent](../../../includes/sscurrent-md.md)] services.</span></span> <span data-ttu-id="d17c7-200">Para las instancias de clústeres de conmutación por error de [!INCLUDE[ssCurrent](../../../includes/sscurrent-md.md)] actualizadas desde versiones anteriores de [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)], se conservarán los grupos de dominios y las configuraciones de las listas de control de acceso (ACL) existentes.</span><span class="sxs-lookup"><span data-stu-id="d17c7-200">For [!INCLUDE[ssCurrent](../../../includes/sscurrent-md.md)] failover cluster instances upgraded from previous versions of [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)], existing domain groups and ACL configurations will be preserved.</span></span>  
  
-   <span data-ttu-id="d17c7-201">Los grupos de dominio deben estar dentro del mismo dominio que las cuentas de equipo.</span><span class="sxs-lookup"><span data-stu-id="d17c7-201">Domain groups must be within the same domain as the machine accounts.</span></span> <span data-ttu-id="d17c7-202">Por ejemplo, si el equipo donde se va a instalar [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] se encuentra en el dominio SQLSVR que es un elemento secundario de MYDOMAIN, debe especificar un grupo del dominio SQLSVR.</span><span class="sxs-lookup"><span data-stu-id="d17c7-202">For example, if the machine where [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] will be installed is in the SQLSVR domain which is a child of MYDOMAIN, you must specify a group in the SQLSVR domain.</span></span> <span data-ttu-id="d17c7-203">El dominio SQLSVR puede contener cuentas de usuario de MYDOMAIN.</span><span class="sxs-lookup"><span data-stu-id="d17c7-203">The SQLSVR domain may contain user accounts from MYDOMAIN.</span></span>  
  
-   [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] <span data-ttu-id="d17c7-204">no se pueden instalar cuando los nodos de clúster son controladores de dominio.</span><span class="sxs-lookup"><span data-stu-id="d17c7-204">failover clustering cannot be installed where cluster nodes are domain controllers.</span></span>  
  
-   <span data-ttu-id="d17c7-205">Revise el contenido de [Security Considerations for a SQL Server Installation](../../install/security-considerations-for-a-sql-server-installation.md).</span><span class="sxs-lookup"><span data-stu-id="d17c7-205">Review content in [Security Considerations for a SQL Server Installation](../../install/security-considerations-for-a-sql-server-installation.md).</span></span>  
  
-   <span data-ttu-id="d17c7-206">Para habilitar la autenticación Kerberos con [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)], vea el artículo [Cómo utilizar la autenticación Kerberos en SQL Server](https://support.microsoft.com/kb/319723) de [!INCLUDE[msCoName](../../../includes/msconame-md.md)] Knowledge Base.</span><span class="sxs-lookup"><span data-stu-id="d17c7-206">To enable Kerberos authentication with [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)], see [How to use Kerberos authentication in SQL Server](https://support.microsoft.com/kb/319723) in the [!INCLUDE[msCoName](../../../includes/msconame-md.md)] Knowledge Base.</span></span>  
  
  
  
##  <a name="review-network-port-and-firewall-considerations"></a><a name="Network"></a> <span data-ttu-id="d17c7-207">Revisar las consideraciones sobre la red, los puertos y el firewall</span><span class="sxs-lookup"><span data-stu-id="d17c7-207">Review Network, Port, and Firewall Considerations</span></span>  
  
-   <span data-ttu-id="d17c7-208">Antes de iniciar el programa de instalación de [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] , compruebe que ha deshabilitado NetBIOS para todas las tarjetas de red privada.</span><span class="sxs-lookup"><span data-stu-id="d17c7-208">Verify that you have disabled NetBIOS for all private network cards before beginning [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] Setup.</span></span>  
  
-   <span data-ttu-id="d17c7-209">El nombre de red y la dirección IP del servidor [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] no deben utilizarse para ningún otro fin, por ejemplo el uso compartido de archivos.</span><span class="sxs-lookup"><span data-stu-id="d17c7-209">The network name and IP address of your [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] should not be used for any other purpose, such as file sharing.</span></span> <span data-ttu-id="d17c7-210">Si desea crear un recurso compartido de archivos, utilice un nombre de red y una dirección IP diferentes y únicos para el recurso.</span><span class="sxs-lookup"><span data-stu-id="d17c7-210">If you want to create a file share resource, use a different, unique network name and IP address for the resource.</span></span>  
  
    > [!IMPORTANT]  
    >  <span data-ttu-id="d17c7-211">Se recomienda no usar recursos compartidos de archivos en unidades de datos, porque pueden afectar al comportamiento y el rendimiento de [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] .</span><span class="sxs-lookup"><span data-stu-id="d17c7-211">We recommend that you do not use file shares on data drives, because they can affect [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] behavior and performance.</span></span>  
  
-   <span data-ttu-id="d17c7-212">Aunque [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] admite canalizaciones con nombre y Sockets TCP/IP sobre TCP/IP en un clúster, se recomienda utilizar Sockets TCP/IP en una configuración en clúster.</span><span class="sxs-lookup"><span data-stu-id="d17c7-212">Even though [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] supports both Named Pipes and TCP/IP Sockets over TCP/IP within a cluster, we recommend that you use TCP/IP Sockets in a clustered configuration.</span></span>  
  
-   <span data-ttu-id="d17c7-213">Observe que el servidor ISA no se admite en la agrupación en clústeres de Windows y, por consiguiente, tampoco se admite en los clústeres de conmutación por error de [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] .</span><span class="sxs-lookup"><span data-stu-id="d17c7-213">Note that ISA server is not supported on Windows Clustering and consequently is also not supported on [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] failover clusters.</span></span>  
  
-   <span data-ttu-id="d17c7-214">El Servicio de Registro remoto debe estar activado y en ejecución.</span><span class="sxs-lookup"><span data-stu-id="d17c7-214">The Remote Registry service must be up and running.</span></span>  
  
-   <span data-ttu-id="d17c7-215">La administración remota debe estar habilitada.</span><span class="sxs-lookup"><span data-stu-id="d17c7-215">Remote Administration must be enabled.</span></span>  
  
-   <span data-ttu-id="d17c7-216">Para el puerto de [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] , use el Administrador de configuración de [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] con objeto de comprobar la configuración de la red de [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] para el protocolo TCP/IP en la instancia que desea desbloquear.</span><span class="sxs-lookup"><span data-stu-id="d17c7-216">For the [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] port, use [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] Configuration Manager to check the [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] network configuration for the TCP/IP protocol for the instance you want to unblock.</span></span> <span data-ttu-id="d17c7-217">Debe habilitar el puerto TCP para IPALL si desea conectarse a [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] mediante TCP después de la instalación.</span><span class="sxs-lookup"><span data-stu-id="d17c7-217">You must enable the TCP port for IPALL if you want to connect to [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] using TCP after installation.</span></span> <span data-ttu-id="d17c7-218">De forma predeterminada, SQL Browser escucha en el puerto UDP 1434.</span><span class="sxs-lookup"><span data-stu-id="d17c7-218">By default, SQL Browser listens on UDP port 1434.</span></span>  
  
-   <span data-ttu-id="d17c7-219">Las operaciones de instalación de los clústeres de conmutación por error incluyen una regla que comprueba el orden de los enlaces de red.</span><span class="sxs-lookup"><span data-stu-id="d17c7-219">Failover cluster Setup operations include a rule that checks network binding order.</span></span> <span data-ttu-id="d17c7-220">Aunque el orden de los enlaces pueda parecer correcto, existe la posibilidad de haber deshabilitado configuraciones de NIC o haber dejado configuraciones de NIC "fantasma" en el sistema.</span><span class="sxs-lookup"><span data-stu-id="d17c7-220">Although binding orders might seem correct, you might have disabled or "ghosted" NIC configurations on the system.</span></span> <span data-ttu-id="d17c7-221">Las configuraciones de NIC "fantasma" pueden afectar al orden de los enlaces y hacer que la regla de orden de enlaces emita una advertencia.</span><span class="sxs-lookup"><span data-stu-id="d17c7-221">"Ghosted" NIC configurations can affect the binding order and cause the binding order rule to issue a warning.</span></span> <span data-ttu-id="d17c7-222">Para evitar esta situación, realice los pasos siguientes con el fin de identificar y quitar los adaptadores de red deshabilitados:</span><span class="sxs-lookup"><span data-stu-id="d17c7-222">To avoid this situation, use the following steps to identify and remove disabled network adapters:</span></span>  
  
    1.  <span data-ttu-id="d17c7-223">En un símbolo del sistema, escriba: set devmgr_Show_Nonpersistent_Devices=1.</span><span class="sxs-lookup"><span data-stu-id="d17c7-223">At a command prompt, type: set devmgr_Show_Nonpersistent_Devices=1.</span></span>  
  
    2.  <span data-ttu-id="d17c7-224">Escriba y ejecute: start Devmgmt.msc.</span><span class="sxs-lookup"><span data-stu-id="d17c7-224">Type and run: start Devmgmt.msc.</span></span>  
  
    3.  <span data-ttu-id="d17c7-225">Expanda la lista de adaptadores de red.</span><span class="sxs-lookup"><span data-stu-id="d17c7-225">Expand the list of network adapters.</span></span> <span data-ttu-id="d17c7-226">Solo los adaptadores físicos deben estar en la lista.</span><span class="sxs-lookup"><span data-stu-id="d17c7-226">Only the physical adapters should be in the list.</span></span> <span data-ttu-id="d17c7-227">Si tiene un adaptador de red deshabilitado, el programa de instalación notificará un error para la regla de orden de enlaces de red.</span><span class="sxs-lookup"><span data-stu-id="d17c7-227">If you have a disabled network adapter, Setup will report a failure for the network binding order rule.</span></span> <span data-ttu-id="d17c7-228">La utilidad Panel de control/Conexiones de red también mostrará que el adaptador estaba deshabilitado.</span><span class="sxs-lookup"><span data-stu-id="d17c7-228">Control Panel/Network Connections will also show that adapter was disabled.</span></span> <span data-ttu-id="d17c7-229">Confirme que Configuración de red, en el Panel de control, muestra la misma lista de adaptadores físicos habilitados que devmgmt.msc.</span><span class="sxs-lookup"><span data-stu-id="d17c7-229">Confirm that Network Settings in Control Panel shows the same list of enabled physical adapters that devmgmt.msc shows.</span></span>  
  
    4.  <span data-ttu-id="d17c7-230">Quite los adaptadores de red deshabilitados antes de ejecutar el programa de instalación de [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] .</span><span class="sxs-lookup"><span data-stu-id="d17c7-230">Remove disabled network adapters before you run [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] Setup.</span></span>  
  
    5.  <span data-ttu-id="d17c7-231">Una vez que el programa de instalación finalice, vuelva a Conexiones de red en el Panel de control y deshabilite los adaptadores de red que no se usen actualmente.</span><span class="sxs-lookup"><span data-stu-id="d17c7-231">After Setup finishes, return to Network Connections in Control Panel and disable any network adapters that are not currently in use.</span></span>  
  
  
  
##  <a name="verify-your-operating-system"></a><a name="OS_Support"></a><span data-ttu-id="d17c7-232">Comprobar el sistema operativo</span><span class="sxs-lookup"><span data-stu-id="d17c7-232">Verify Your Operating System</span></span>  
 <span data-ttu-id="d17c7-233">Asegúrese de que el sistema operativo esté correctamente instalado y diseñado para admitir los clústeres de conmutación por error.</span><span class="sxs-lookup"><span data-stu-id="d17c7-233">Make sure that your operating system is installed properly and is designed to support failover clustering.</span></span> <span data-ttu-id="d17c7-234">En la tabla siguiente se muestra una lista de las ediciones de [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] y de los sistemas operativos que las admiten.</span><span class="sxs-lookup"><span data-stu-id="d17c7-234">The following table is a list of [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] editions and the operating systems that support them.</span></span>  
  
|<span data-ttu-id="d17c7-235">Edición de[!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)]</span><span class="sxs-lookup"><span data-stu-id="d17c7-235">[!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] edition</span></span>|[!INCLUDE[firstref_longhorn](../../../includes/firstref-longhorn-md.md)] <span data-ttu-id="d17c7-236">Enterprise</span><span class="sxs-lookup"><span data-stu-id="d17c7-236">Enterprise</span></span>|[!INCLUDE[firstref_longhorn](../../../includes/firstref-longhorn-md.md)] <span data-ttu-id="d17c7-237">Datacenter Server</span><span class="sxs-lookup"><span data-stu-id="d17c7-237">Datacenter Server</span></span>|[!INCLUDE[winserver2008r2](../../../includes/winserver2008r2-md.md)] <span data-ttu-id="d17c7-238">Enterprise</span><span class="sxs-lookup"><span data-stu-id="d17c7-238">Enterprise</span></span>|[!INCLUDE[winserver2008r2](../../../includes/winserver2008r2-md.md)] <span data-ttu-id="d17c7-239">Datacenter Server</span><span class="sxs-lookup"><span data-stu-id="d17c7-239">Datacenter Server</span></span>|  
|---------------------------------------|------------------------------------------------|-------------------------------------------------------|----------------------------------------------|-----------------------------------------------------|  
|[!INCLUDE[ssSQL14](../../../includes/sssql14-md.md)]<span data-ttu-id="d17c7-240">Enterprise (64 bits) x64<sup>1</sup></span><span class="sxs-lookup"><span data-stu-id="d17c7-240">Enterprise (64-bit) x64<sup>1</sup></span></span>|<span data-ttu-id="d17c7-241">Sí</span><span class="sxs-lookup"><span data-stu-id="d17c7-241">Yes</span></span>|<span data-ttu-id="d17c7-242">Sí</span><span class="sxs-lookup"><span data-stu-id="d17c7-242">Yes</span></span>|<span data-ttu-id="d17c7-243">Sí<sup>2</sup></span><span class="sxs-lookup"><span data-stu-id="d17c7-243">Yes<sup>2</sup></span></span>|<span data-ttu-id="d17c7-244">Sí<sup>2</sup></span><span class="sxs-lookup"><span data-stu-id="d17c7-244">Yes<sup>2</sup></span></span>|  
|[!INCLUDE[ssSQL14](../../../includes/sssql14-md.md)] <span data-ttu-id="d17c7-245">Enterprise (32 bits)</span><span class="sxs-lookup"><span data-stu-id="d17c7-245">Enterprise (32-bit)</span></span>|<span data-ttu-id="d17c7-246">Sí</span><span class="sxs-lookup"><span data-stu-id="d17c7-246">Yes</span></span>|<span data-ttu-id="d17c7-247">Sí</span><span class="sxs-lookup"><span data-stu-id="d17c7-247">Yes</span></span>|||  
|[!INCLUDE[ssCurrent](../../../includes/sscurrent-md.md)] <span data-ttu-id="d17c7-248">Developer (64 bits)</span><span class="sxs-lookup"><span data-stu-id="d17c7-248">-bit) Developer (64</span></span>|<span data-ttu-id="d17c7-249">Sí</span><span class="sxs-lookup"><span data-stu-id="d17c7-249">Yes</span></span>|<span data-ttu-id="d17c7-250">Sí</span><span class="sxs-lookup"><span data-stu-id="d17c7-250">Yes</span></span>|<span data-ttu-id="d17c7-251">Sí <sup>2</sup></span><span class="sxs-lookup"><span data-stu-id="d17c7-251">Yes <sup>2</sup></span></span>|<span data-ttu-id="d17c7-252">Sí <sup>2</sup></span><span class="sxs-lookup"><span data-stu-id="d17c7-252">Yes <sup>2</sup></span></span>|  
|[!INCLUDE[ssCurrent](../../../includes/sscurrent-md.md)] <span data-ttu-id="d17c7-253">Developer (32 bits)</span><span class="sxs-lookup"><span data-stu-id="d17c7-253">Developer (32-bit)</span></span>|<span data-ttu-id="d17c7-254">Sí</span><span class="sxs-lookup"><span data-stu-id="d17c7-254">Yes</span></span>|<span data-ttu-id="d17c7-255">Sí</span><span class="sxs-lookup"><span data-stu-id="d17c7-255">Yes</span></span>|||  
|[!INCLUDE[ssCurrent](../../../includes/sscurrent-md.md)] <span data-ttu-id="d17c7-256">Standard (64 bits)</span><span class="sxs-lookup"><span data-stu-id="d17c7-256">Standard (64-bit)</span></span>|<span data-ttu-id="d17c7-257">Sí</span><span class="sxs-lookup"><span data-stu-id="d17c7-257">Yes</span></span>|<span data-ttu-id="d17c7-258">Sí</span><span class="sxs-lookup"><span data-stu-id="d17c7-258">Yes</span></span>|<span data-ttu-id="d17c7-259">Sí</span><span class="sxs-lookup"><span data-stu-id="d17c7-259">Yes</span></span>|<span data-ttu-id="d17c7-260">Sí</span><span class="sxs-lookup"><span data-stu-id="d17c7-260">Yes</span></span>|  
|[!INCLUDE[ssCurrent](../../../includes/sscurrent-md.md)] <span data-ttu-id="d17c7-261">Standard (32 bits)</span><span class="sxs-lookup"><span data-stu-id="d17c7-261">Standard (32-bit)</span></span>|<span data-ttu-id="d17c7-262">Sí</span><span class="sxs-lookup"><span data-stu-id="d17c7-262">Yes</span></span>|<span data-ttu-id="d17c7-263">Sí</span><span class="sxs-lookup"><span data-stu-id="d17c7-263">Yes</span></span>|||  
  
 <span data-ttu-id="d17c7-264"><sup>1</sup> los [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] clústeres no se admiten en el modo wow.</span><span class="sxs-lookup"><span data-stu-id="d17c7-264"><sup>1</sup> [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] clusters are not supported in WOW mode.</span></span> <span data-ttu-id="d17c7-265">Eso incluye las actualizaciones desde versiones anteriores de clústeres de conmutación por error de [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] que estaban instaladas originalmente en WOW.</span><span class="sxs-lookup"><span data-stu-id="d17c7-265">That includes upgrades from previous versions of [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] failover clusters that were originally installed in WOW.</span></span> <span data-ttu-id="d17c7-266">La única opción de actualización en estos casos es instalar la nueva versión en paralelo y migrar.</span><span class="sxs-lookup"><span data-stu-id="d17c7-266">For those the only upgrade option is to install the new version side by side and migrate.</span></span>  
  
 <span data-ttu-id="d17c7-267"><sup>2</sup> compatible con los [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] clústeres de conmutación por error de múltiples subredes.</span><span class="sxs-lookup"><span data-stu-id="d17c7-267"><sup>2</sup> Supported for [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] multi-subnet failover clustering.</span></span>  
  
  
  
##  <a name="additional-considerations-for-multi-subnet-configurations"></a><a name="MultiSubnet"></a> <span data-ttu-id="d17c7-268">Consideraciones adicionales para configuraciones de varias subredes</span><span class="sxs-lookup"><span data-stu-id="d17c7-268">Additional Considerations for Multi-Subnet Configurations</span></span>  
 <span data-ttu-id="d17c7-269">Las secciones siguientes describen los requisitos que se han de tener en cuenta al instalar un clúster de conmutación por error de varias subredes de [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] .</span><span class="sxs-lookup"><span data-stu-id="d17c7-269">The sections below describe the requirements to keep in mind when installing a [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] multi-subnet failover cluster.</span></span> <span data-ttu-id="d17c7-270">La configuración de varias subredes implica la agrupación en clústeres a través de varias subredes; por lo tanto, implica el uso de múltiples direcciones IP y cambios en las dependencias de recursos de dirección IP.</span><span class="sxs-lookup"><span data-stu-id="d17c7-270">A multi-subnet configuration involves clustering across multiple subnets, therefore involves using multiple IP addresses and changes to IP address resource dependencies.</span></span>  
  
### <a name="ssnoversion-edition-and-operating-system-considerations"></a>[!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] <span data-ttu-id="d17c7-271">Consideraciones sobre el sistema operativo y las ediciones</span><span class="sxs-lookup"><span data-stu-id="d17c7-271">Edition and Operating System Considerations</span></span>  
  
-   <span data-ttu-id="d17c7-272">Para más información sobre las ediciones de [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] que admiten un clúster de conmutación por error de múltiples subredes de [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)], vea [Características compatibles con las ediciones de SQL Server 2014](../../../getting-started/features-supported-by-the-editions-of-sql-server-2014.md).</span><span class="sxs-lookup"><span data-stu-id="d17c7-272">For information about the editions of [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] that support a [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] multi-subnet failover cluster, see [Features Supported by the Editions of SQL Server 2014](../../../getting-started/features-supported-by-the-editions-of-sql-server-2014.md).</span></span>  
  
-   <span data-ttu-id="d17c7-273">Para crear un clúster de conmutación por error de varias subredes de [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] , primero debe crear el clúster de conmutación por error de varias subredes de [!INCLUDE[winserver2008r2](../../../includes/winserver2008r2-md.md)] en varias subredes.</span><span class="sxs-lookup"><span data-stu-id="d17c7-273">To create a [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] multi-subnet failover cluster, you must first create the [!INCLUDE[winserver2008r2](../../../includes/winserver2008r2-md.md)] multi-site failover cluster on multiple subnets.</span></span>  
  
-   [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] <span data-ttu-id="d17c7-274">depende del clúster de conmutación por error de Windows Server para garantizar que las condiciones de dependencia de IP sean válidas si se produce una conmutación por error.</span><span class="sxs-lookup"><span data-stu-id="d17c7-274">failover cluster depends on the Windows Server failover cluster to make sure that the IP dependency conditions are valid if there is a failover.</span></span>  
  
-   [!INCLUDE[winserver2008r2](../../../includes/winserver2008r2-md.md)] <span data-ttu-id="d17c7-275">requiere que todos los servidores del clúster estén en el mismo dominio de Active Directory.</span><span class="sxs-lookup"><span data-stu-id="d17c7-275">requires that all the cluster servers must be in the same Active Directory domain.</span></span> <span data-ttu-id="d17c7-276">En consecuencia, el clúster de conmutación por error de varias subredes de [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] requiere que todos los nodos de clúster estén en el mismo dominio de Active Directory aunque estén en subredes distintas.</span><span class="sxs-lookup"><span data-stu-id="d17c7-276">Therefore, [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] multi-subnet failover cluster requires that all the cluster nodes be in the same Active Directory domain even if they are in different subnets.</span></span>  
  
#### <a name="ip-address-and-ip-address-resource-dependencies"></a><span data-ttu-id="d17c7-277">Dependencias de dirección IP y de recursos de dirección IP</span><span class="sxs-lookup"><span data-stu-id="d17c7-277">IP Address and IP Address Resource Dependencies</span></span>  
  
1.  <span data-ttu-id="d17c7-278">La dependencia de recursos de dirección IP se establece en OR en una configuración de varias subredes.</span><span class="sxs-lookup"><span data-stu-id="d17c7-278">The IP Address resource dependency is set to OR in a multi-subnet configuration.</span></span> <span data-ttu-id="d17c7-279">Para obtener más información, vea [Create a New SQL Server failover Cluster &#40;Setup&#41;](create-a-new-sql-server-failover-cluster-setup.md)</span><span class="sxs-lookup"><span data-stu-id="d17c7-279">For more information, see [Create a New SQL Server Failover Cluster &#40;Setup&#41;](create-a-new-sql-server-failover-cluster-setup.md)</span></span>  
  
2.  <span data-ttu-id="d17c7-280">No se admiten las dependencias mixtas AND-OR de direcciones IP.</span><span class="sxs-lookup"><span data-stu-id="d17c7-280">Mixed AND-OR IP address dependencies are not supported.</span></span> <span data-ttu-id="d17c7-281">Por ejemplo, \<IP1> y \<IP2> o \<IP3> no se admiten.</span><span class="sxs-lookup"><span data-stu-id="d17c7-281">For example, \<IP1> AND \<IP2> OR \<IP3> is not supported.</span></span>  
  
3.  <span data-ttu-id="d17c7-282">No se admite más de una dirección IP por cada subred.</span><span class="sxs-lookup"><span data-stu-id="d17c7-282">More than one IP address per subnet is not supported.</span></span>  
  
     <span data-ttu-id="d17c7-283">Si decide usar más de una dirección IP configurada para la misma subred, puede experimentar errores de conexión de cliente durante el inicio de [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)].</span><span class="sxs-lookup"><span data-stu-id="d17c7-283">If you decide to use more than one IP address configured for the same subnet, you may experience client connection failures during [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] startup.</span></span>  
  
#### <a name="related-content"></a><span data-ttu-id="d17c7-284">Contenido relacionado</span><span class="sxs-lookup"><span data-stu-id="d17c7-284">Related Content</span></span>  
 <span data-ttu-id="d17c7-285">Para obtener más información sobre la conmutación por error de varios sitios de [!INCLUDE[winserver2008r2](../../../includes/winserver2008r2-md.md)] , vea [Failover Clusters in Windows Server 2008 R2](https://technet.microsoft.com/library/ff182338\(v=WS.10\).aspx) (Clústeres de conmutación por error de Windows Server 2008 R2) y [Design for a Clustered Service or Application in a Multi-Site Failover Cluster](https://go.microsoft.com/fwlink/?LinkId=177873)(Diseño de una aplicación o un servicio de clúster en un clúster de conmutación por error de varios sitios).</span><span class="sxs-lookup"><span data-stu-id="d17c7-285">For more information about [!INCLUDE[winserver2008r2](../../../includes/winserver2008r2-md.md)] multi-site failover, see [Windows Server 2008 R2 Failover Clustering Site](https://technet.microsoft.com/library/ff182338\(v=WS.10\).aspx) and [Design for a Clustered Service or Application in a Multi-Site Failover Cluster](https://go.microsoft.com/fwlink/?LinkId=177873).</span></span>  
  
##  <a name="configure-windows-server-failover-cluster"></a><a name="WSFC"></a><span data-ttu-id="d17c7-286">Configurar el clúster de conmutación por error de Windows Server</span><span class="sxs-lookup"><span data-stu-id="d17c7-286">Configure Windows Server Failover Cluster</span></span>  
  
-   [!INCLUDE[msCoName](../../../includes/msconame-md.md)] <span data-ttu-id="d17c7-287">Cluster Service (WSFC) debe configurarse al menos en un nodo del clúster de servidores.</span><span class="sxs-lookup"><span data-stu-id="d17c7-287">Cluster Service (WSFC) must be configured on at least one node of your server cluster.</span></span> <span data-ttu-id="d17c7-288">También debe ejecutar [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] Enterprise, [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] Business Intelligence o [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] Standard en combinación con WSFC.</span><span class="sxs-lookup"><span data-stu-id="d17c7-288">You must also run [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] Enterprise, [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] Business Intelligence, or [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] Standard in conjunction with WSFC.</span></span> [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] <span data-ttu-id="d17c7-289">Enterprise admite clústeres de conmutación por error con un máximo de 16 nodos.</span><span class="sxs-lookup"><span data-stu-id="d17c7-289">Enterprise support failover clusters with up to 16 nodes.</span></span> [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] <span data-ttu-id="d17c7-290">Business Intelligence y [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] Standard admiten clústeres de conmutación por error de dos nodos.</span><span class="sxs-lookup"><span data-stu-id="d17c7-290">Business Intelligence and [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] Standard supports two-node failover clusters.</span></span>  
  
-   <span data-ttu-id="d17c7-291">La DLL de recursos para el servicio [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] exporta dos funciones usadas por el Administrador de clústeres de WSFC para comprobar la disponibilidad del recurso de [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] .</span><span class="sxs-lookup"><span data-stu-id="d17c7-291">The resource DLL for the [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] service exports two functions used by WSFC Cluster Manager to check for availability of the [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] resource.</span></span> <span data-ttu-id="d17c7-292">Para obtener más información, vea [Directiva de conmutación por error para instancias de clústeres de conmutación por error](../windows/failover-policy-for-failover-cluster-instances.md).</span><span class="sxs-lookup"><span data-stu-id="d17c7-292">For more information, see [Failover Policy for Failover Cluster Instances](../windows/failover-policy-for-failover-cluster-instances.md).</span></span>  
  
-   <span data-ttu-id="d17c7-293">WSFC debe poder comprobar que la instancia en clústeres de conmutación por error está en ejecución mediante la comprobación IsAlive.</span><span class="sxs-lookup"><span data-stu-id="d17c7-293">WSFC must be able to verify that the failover clustered instance is running by using the IsAlive check.</span></span> <span data-ttu-id="d17c7-294">Esto requiere conectarse al servidor mediante una conexión de confianza.</span><span class="sxs-lookup"><span data-stu-id="d17c7-294">This requires connecting to the server by using a trusted connection.</span></span> <span data-ttu-id="d17c7-295">De forma predeterminada, la cuenta que ejecuta el servicio de clúster no está configurada como administrador en los nodos del clúster y el grupo BUILTIN\Administradores no tiene permiso para iniciar sesión en [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)].</span><span class="sxs-lookup"><span data-stu-id="d17c7-295">By default, the account that runs the cluster service is not configured as an administrator on nodes in the cluster, and the BUILTIN\Administrators group does not have permission to log into [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)].</span></span> <span data-ttu-id="d17c7-296">Esta configuración solo cambia si se cambian los permisos para los nodos del clúster.</span><span class="sxs-lookup"><span data-stu-id="d17c7-296">These settings change only if you change permissions on the cluster nodes.</span></span>  
  
-   <span data-ttu-id="d17c7-297">Configure el Servicio de nombres de dominio (DNS) o el Servicio de nombres Internet de Windows (WINS).</span><span class="sxs-lookup"><span data-stu-id="d17c7-297">Configure Domain Name Service (DNS) or Windows Internet Name Service (WINS).</span></span> <span data-ttu-id="d17c7-298">En el entorno donde se va a instalar los clústeres de conmutación por error de [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] debe estar ejecutándose un servidor DNS o WINS.</span><span class="sxs-lookup"><span data-stu-id="d17c7-298">A DNS server or WINS server must be running in the environment where your [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] failover cluster will be installed.</span></span> [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] <span data-ttu-id="d17c7-299">requiere el registro del servicio de nombres de dominio dinámicos de la referencia virtual de la interfaz IP de [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] .</span><span class="sxs-lookup"><span data-stu-id="d17c7-299">Setup requires dynamic domain name service registration of the [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] IP interface virtual reference.</span></span> <span data-ttu-id="d17c7-300">La configuración del servidor DNS debe permitir que los nodos de clúster registren dinámicamente un mapa de direcciones IP en línea en el nombre de red.</span><span class="sxs-lookup"><span data-stu-id="d17c7-300">DNS server configuration should allow cluster nodes to dynamically register an online IP address map to Network Name.</span></span> <span data-ttu-id="d17c7-301">Si no se puede completar el registro dinámico, se produce un error en el programa de instalación y esta se revierte.</span><span class="sxs-lookup"><span data-stu-id="d17c7-301">If the dynamic registration cannot be completed, Setup fails and the installation is rolled back.</span></span> <span data-ttu-id="d17c7-302">Para obtener más información, vea [este artículo de Knowledge Base](https://support.microsoft.com/kb/947048).</span><span class="sxs-lookup"><span data-stu-id="d17c7-302">For more information, see [this knowledgebase article](https://support.microsoft.com/kb/947048)</span></span>  
  
  
  
##  <a name="install-msconame-distributed-transaction-coordinator"></a><a name="MSDTC"></a> <span data-ttu-id="d17c7-303">Instalar el Coordinador de transacciones distribuidas de [!INCLUDE[msCoName](../../../includes/msconame-md.md)]</span><span class="sxs-lookup"><span data-stu-id="d17c7-303">Install [!INCLUDE[msCoName](../../../includes/msconame-md.md)] Distributed Transaction Coordinator</span></span>  
 <span data-ttu-id="d17c7-304">Antes de instalar [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] en un clúster de conmutación por error, determine si debe crearse el recurso de clúster de [!INCLUDE[msCoName](../../../includes/msconame-md.md)] DTC (Coordinador de transacciones distribuidas).</span><span class="sxs-lookup"><span data-stu-id="d17c7-304">Before installing [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] on a failover cluster, determine whether the [!INCLUDE[msCoName](../../../includes/msconame-md.md)] Distributed Transaction Coordinator (MSDTC) cluster resource must be created.</span></span> <span data-ttu-id="d17c7-305">Si solo instala el [!INCLUDE[ssDE](../../../includes/ssde-md.md)], no será necesario el recurso de clúster de MSDTC.</span><span class="sxs-lookup"><span data-stu-id="d17c7-305">If you are installing only the [!INCLUDE[ssDE](../../../includes/ssde-md.md)], the MSDTC cluster resource is not required.</span></span> <span data-ttu-id="d17c7-306">Si está instalando el [!INCLUDE[ssDE](../../../includes/ssde-md.md)] y SSIS o Componentes de la estación de trabajo o si va a usar transacciones distribuidas, debe instalar MSDTC.</span><span class="sxs-lookup"><span data-stu-id="d17c7-306">If you are installing the [!INCLUDE[ssDE](../../../includes/ssde-md.md)] and SSIS, Workstation Components, or if you will use distributed transactions, you must install MSDTC.</span></span> <span data-ttu-id="d17c7-307">Observe que MSDTC no se requiere para las instancias que son solo para [!INCLUDE[ssASnoversion](../../../includes/ssasnoversion-md.md)].</span><span class="sxs-lookup"><span data-stu-id="d17c7-307">Note that MSDTC is not required for [!INCLUDE[ssASnoversion](../../../includes/ssasnoversion-md.md)]-only instances.</span></span>  
  
 <span data-ttu-id="d17c7-308">En [!INCLUDE[firstref_longhorn](../../../includes/firstref-longhorn-md.md)] y [!INCLUDE[winserver2008r2](../../../includes/winserver2008r2-md.md)], puede instalar varias instancias de MSDTC en un único clúster de conmutación por error.</span><span class="sxs-lookup"><span data-stu-id="d17c7-308">On [!INCLUDE[firstref_longhorn](../../../includes/firstref-longhorn-md.md)] and [!INCLUDE[winserver2008r2](../../../includes/winserver2008r2-md.md)], you can install multiple instances of MSDTC on a single failover cluster.</span></span> <span data-ttu-id="d17c7-309">La primera instancia de MSDTC instalada será la instancia predeterminada del clúster de MSDTC.</span><span class="sxs-lookup"><span data-stu-id="d17c7-309">The first instance of MSDTC that is installed will be the cluster default instance of MSDTC.</span></span> [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] <span data-ttu-id="d17c7-310">aprovechará una instancia de MSDTC instalada en el grupo de recursos del clúster local de [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] utilizando automáticamente la instancia de MSDTC.</span><span class="sxs-lookup"><span data-stu-id="d17c7-310">will take advantage of an instance of MSDTC installed to the [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] local cluster resource group by automatically using the instance of MSDTC.</span></span> <span data-ttu-id="d17c7-311">Sin embargo, las aplicaciones individuales pueden estar asignadas a cualquier instancia de MSDTC en el clúster.</span><span class="sxs-lookup"><span data-stu-id="d17c7-311">However, individual applications can be mapped to any instance of MSDTC on the cluster.</span></span>  
  
 <span data-ttu-id="d17c7-312">A la hora de que [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)]elija una instancia de MSDTC, se aplican las siguientes reglas:</span><span class="sxs-lookup"><span data-stu-id="d17c7-312">The following rules are applied for an instance of MSDTC to be chosen by [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)]:</span></span>  
  
-   <span data-ttu-id="d17c7-313">Usar la instancia de MSDTC instalada en el grupo local; si no es posible,</span><span class="sxs-lookup"><span data-stu-id="d17c7-313">Use MSDTC installed to the local group, else</span></span>  
  
-   <span data-ttu-id="d17c7-314">usar la instancia asignada de MSDTC; si no es posible,</span><span class="sxs-lookup"><span data-stu-id="d17c7-314">Use the mapped instance of MSDTC, else</span></span>  
  
-   <span data-ttu-id="d17c7-315">usar la instancia predeterminada del clúster de MSDTC; si no es posible,</span><span class="sxs-lookup"><span data-stu-id="d17c7-315">Use the cluster's default instance of MSDTC, else</span></span>  
  
-   <span data-ttu-id="d17c7-316">Usar la instancia de MSDTC instalada del equipo local</span><span class="sxs-lookup"><span data-stu-id="d17c7-316">Use the local machine's installed instance of MSDTC</span></span>  
  
> [!IMPORTANT]  
>  <span data-ttu-id="d17c7-317">Si la instancia de MSDTC que se instala en el grupo de clústeres local de [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] produce un error, [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] no intenta automáticamente utilizar la instancia del clúster predeterminado o la instancia del equipo local de MSDTC.</span><span class="sxs-lookup"><span data-stu-id="d17c7-317">If the MSDTC instance that is installed to the local cluster group of [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] fails, [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] does not automatically attempt to use the default cluster instance or the local machine instance of MSDTC.</span></span> <span data-ttu-id="d17c7-318">Para poder utilizar otra instancia de MSDTC, se debería quitar completamente del grupo de [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] la instancia de MSDTC que produjo el error .</span><span class="sxs-lookup"><span data-stu-id="d17c7-318">You would need to completely remove the failed instance of MSDTC from the [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] group to use another instance of MSDTC.</span></span> <span data-ttu-id="d17c7-319">Igualmente, si crea una asignación para [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] y la instancia asignada de MSDTC produce un error, las transacciones distribuidas también producirán un error.</span><span class="sxs-lookup"><span data-stu-id="d17c7-319">Likewise, if you create a mapping for [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] and the mapped instance of MSDTC fails, your distributed transactions will also fail.</span></span> <span data-ttu-id="d17c7-320">Si desea que [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] utilice una instancia diferente de MSDTC, deberá agregar una instancia de MSDTC al grupo de clústeres local de [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] o eliminar la asignación.</span><span class="sxs-lookup"><span data-stu-id="d17c7-320">If you want [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] to use a different instance of MSDTC, you must either add an instance of MSDTC to the local cluster group of the [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] or delete the mapping.</span></span>  
  
### <a name="configure-msconame-distributed-transaction-coordinator"></a><span data-ttu-id="d17c7-321">Configurar el Coordinador de transacciones distribuidas de [!INCLUDE[msCoName](../../../includes/msconame-md.md)]</span><span class="sxs-lookup"><span data-stu-id="d17c7-321">Configure [!INCLUDE[msCoName](../../../includes/msconame-md.md)] Distributed Transaction Coordinator</span></span>  
 <span data-ttu-id="d17c7-322">Tras instalar el sistema operativo y configurar el clúster, debe configurar MSDTC para que funcione en un clúster mediante el Administrador de clústeres.</span><span class="sxs-lookup"><span data-stu-id="d17c7-322">After you install the operating system and configure your cluster, you must configure MSDTC to work in a cluster by using the Cluster Administrator.</span></span> <span data-ttu-id="d17c7-323">Si no logra crear el clúster de MSDTC, no se bloqueará el programa de instalación de [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] , pero la funcionalidad de la aplicación [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] puede verse afectada si MSDTC no se configura correctamente.</span><span class="sxs-lookup"><span data-stu-id="d17c7-323">Failure to cluster MSDTC will not block [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] Setup, but [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] application functionality may be affected if MSDTC is not properly configured.</span></span>  
  
  
  
## <a name="see-also"></a><span data-ttu-id="d17c7-324">Consulte también</span><span class="sxs-lookup"><span data-stu-id="d17c7-324">See Also</span></span>  
 <span data-ttu-id="d17c7-325">[Requisitos de hardware y software para la instalación de SQL Server 2014](../../install/hardware-and-software-requirements-for-installing-sql-server.md) </span><span class="sxs-lookup"><span data-stu-id="d17c7-325">[Hardware and Software Requirements for Installing SQL Server 2014](../../install/hardware-and-software-requirements-for-installing-sql-server.md) </span></span>  
 <span data-ttu-id="d17c7-326">[Comprobar los parámetros del comprobador de configuración del sistema](../../../database-engine/install-windows/check-parameters-for-the-system-configuration-checker.md) </span><span class="sxs-lookup"><span data-stu-id="d17c7-326">[Check Parameters for the System Configuration Checker](../../../database-engine/install-windows/check-parameters-for-the-system-configuration-checker.md) </span></span>  
 [<span data-ttu-id="d17c7-327">Administración y mantenimiento de la instancia de clúster de conmutación por error</span><span class="sxs-lookup"><span data-stu-id="d17c7-327">Failover Cluster Instance Administration and Maintenance</span></span>](../windows/failover-cluster-instance-administration-and-maintenance.md)  
  
  
