---
title: Crear una regla entre dominios | Microsoft Docs
ms.custom: ''
ms.date: 06/13/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: data-quality-services
ms.topic: conceptual
f1_keywords:
- sql12.dqs.dm.testcdrule.f1
- sql12.dqs.dm.cdrules.f1
ms.assetid: 0f3f5ba4-cc47-4d66-866e-371a042d1f21
author: lrtoyou1223
ms.author: lle
ms.openlocfilehash: cddcd9bbd2fc8d95fe8645781de5fe4e936050a9
ms.sourcegitcommit: ad4d92dce894592a259721a1571b1d8736abacdb
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 08/04/2020
ms.locfileid: "87744312"
---
# <a name="create-a-cross-domain-rule"></a><span data-ttu-id="c0048-102">Crear una regla entre dominios</span><span class="sxs-lookup"><span data-stu-id="c0048-102">Create a Cross-Domain Rule</span></span>
  <span data-ttu-id="c0048-103">En este tema se describe cómo crear una regla entre dominios para un dominio compuesto en una base de conocimiento de [!INCLUDE[ssDQSnoversion](../includes/ssdqsnoversion-md.md)] (DQS).</span><span class="sxs-lookup"><span data-stu-id="c0048-103">This topic describes how to create a cross-domain rule for a composite domain in a knowledge base in [!INCLUDE[ssDQSnoversion](../includes/ssdqsnoversion-md.md)] (DQS).</span></span> <span data-ttu-id="c0048-104">Una regla entre dominios comprueba la relación entre los valores de los dominios individuales incluidos en un dominio compuesto.</span><span class="sxs-lookup"><span data-stu-id="c0048-104">A cross-domain rule tests the relationship between values in single domains that are included in a composite domain.</span></span> <span data-ttu-id="c0048-105">Una regla entre dominios debe cumplirse en todo el dominio compuesto para que los valores de dominio se consideren precisos y compatibles con los requisitos empresariales.</span><span class="sxs-lookup"><span data-stu-id="c0048-105">A cross-domain rule must hold true across a composite domain in order for domain values to be considered accurate and conformant to business requirements.</span></span> <span data-ttu-id="c0048-106">Las reglas entre dominios se utilizan para validar, corregir y normalizar valores de dominio.</span><span class="sxs-lookup"><span data-stu-id="c0048-106">A cross-domain rule is used to validate, correct, and standardize domain values.</span></span>  
  
 <span data-ttu-id="c0048-107">La cláusula If de una regla entre dominios se define para uno de los dominios individuales del dominio compuesto y la cláusula Then para otro distinto.</span><span class="sxs-lookup"><span data-stu-id="c0048-107">The If clause and Then clause of a cross-domain rule are each defined for one of the single domains in the composite domain.</span></span> <span data-ttu-id="c0048-108">Se debe definir cada una de las cláusulas para un dominio individual distinto.</span><span class="sxs-lookup"><span data-stu-id="c0048-108">Each clause must be defined for a different single domain.</span></span> <span data-ttu-id="c0048-109">Una regla entre dominios debe estar relacionada con varios dominios individuales; no es posible definir una regla de dominio simple (solo para un dominio individual) para un dominio compuesto.</span><span class="sxs-lookup"><span data-stu-id="c0048-109">A cross-domain rule must relate to multiple single domains; you cannot define a simple domain rule (for only a single domain) for a composite domain.</span></span> <span data-ttu-id="c0048-110">Para ello, deberá definir una regla de dominio para un dominio individual.</span><span class="sxs-lookup"><span data-stu-id="c0048-110">You would do so by defining a domain rule for a single domain.</span></span> <span data-ttu-id="c0048-111">Cada una de las cláusulas If y Then puede contener una o varias condiciones.</span><span class="sxs-lookup"><span data-stu-id="c0048-111">The If clause and the Then clause can each contain one or more conditions.</span></span>  
  
 <span data-ttu-id="c0048-112">Una regla entre dominios que tenga condiciones definitivas aplicará la lógica de la regla a los sinónimos del valor en las condiciones, así como a los propios valores.</span><span class="sxs-lookup"><span data-stu-id="c0048-112">A cross-domain rule that has definitive conditions will apply the rules logic to synonyms of the value in the conditions, as well the values themselves.</span></span> <span data-ttu-id="c0048-113">Las condiciones definitivas para las cláusulas If y Then son El valor es igual a, El valor no es igual a, El valor está en o El valor no está en.</span><span class="sxs-lookup"><span data-stu-id="c0048-113">The definitive conditions for the If and Then clauses are Value is equal to, Value is not equal to, Value is in, or Value is not in.</span></span> <span data-ttu-id="c0048-114">Por ejemplo, imagine que dispone de la siguiente regla entre dominios para un dominio compuesto: "Para "City", si el valor es igual a "Los Angeles", entonces para "State", el valor es igual a "CA"".</span><span class="sxs-lookup"><span data-stu-id="c0048-114">For example, suppose that you have the following cross-domain rule for a composite domain: "For 'City', if Value is equal to 'Los Angeles', then for 'State', Value is equal to 'CA'.</span></span> <span data-ttu-id="c0048-115">Si "Los Angeles" y "LA" son sinónimos, esta regla dará un resultado correcto para "Los Angeles CA" y "LA CA", y un error para "Los Angeles WA" y "LA WA".</span><span class="sxs-lookup"><span data-stu-id="c0048-115">"If 'Los Angeles' and 'LA' are synonyms, this rule will return correct for 'Los Angeles CA' and 'LA CA' and in error for 'Los Angeles WA' and 'LA WA'.</span></span>  
  
 <span data-ttu-id="c0048-116">Además de permitirle conocer la validez de una regla entre dominios, la cláusula *Then* definitiva **El valor es igual a**de una regla entre dominios también corrige los datos durante la actividad de limpieza de datos.</span><span class="sxs-lookup"><span data-stu-id="c0048-116">Apart from just letting you know about the validity of a cross-domain rule, the definitive *Then* clause in a cross-domain rule, **Value is equal to**, also corrects the data during the data-cleansing activity.</span></span> <span data-ttu-id="c0048-117">Para obtener más información, vea [Data Correction using Definitive Cross-Domain Rules](../../2014/data-quality-services/cleanse-data-in-a-composite-domain.md#CDCorrection) en [Cleanse Data in a Composite Domain](../../2014/data-quality-services/cleanse-data-in-a-composite-domain.md).</span><span class="sxs-lookup"><span data-stu-id="c0048-117">For more information, see [Data Correction using Definitive Cross-Domain Rules](../../2014/data-quality-services/cleanse-data-in-a-composite-domain.md#CDCorrection) in [Cleanse Data in a Composite Domain](../../2014/data-quality-services/cleanse-data-in-a-composite-domain.md).</span></span>  
  
 <span data-ttu-id="c0048-118">Las reglas entre dominios se tienen en consideración una vez aplicadas todas las reglas sencillas que afectan únicamente a un dominio individual.</span><span class="sxs-lookup"><span data-stu-id="c0048-118">Cross-domain rules are taken into consideration after all simple rules that affect only a single domain.</span></span> <span data-ttu-id="c0048-119">La regla entre dominios solo se aplica si un valor pasa las reglas de dominio individual (si estas existen).</span><span class="sxs-lookup"><span data-stu-id="c0048-119">Only if a value passes single domain rules (if they exist) is the cross-domain rule applied.</span></span> <span data-ttu-id="c0048-120">El dominio compuesto y los dominios individuales en los que se ejecuta una regla deben haberse definido con anterioridad a la ejecución de la regla.</span><span class="sxs-lookup"><span data-stu-id="c0048-120">The composite domain and the single domains that a rule is run on must all be defined before the rule can be executed.</span></span>  
  
##  <a name="before-you-begin"></a><a name="BeforeYouBegin"></a> <span data-ttu-id="c0048-121">Antes de comenzar</span><span class="sxs-lookup"><span data-stu-id="c0048-121">Before You Begin</span></span>  
  
###  <a name="prerequisites"></a><a name="Prerequisites"></a> <span data-ttu-id="c0048-122">Requisitos previos</span><span class="sxs-lookup"><span data-stu-id="c0048-122">Prerequisites</span></span>  
 <span data-ttu-id="c0048-123">Para poder crear una regla entre dominios, debe haber creado y abierto un dominio compuesto.</span><span class="sxs-lookup"><span data-stu-id="c0048-123">To create a cross-domain rule, you must have created and opened a composite domain.</span></span>  
  
###  <a name="security"></a><a name="Security"></a> <span data-ttu-id="c0048-124">Seguridad</span><span class="sxs-lookup"><span data-stu-id="c0048-124">Security</span></span>  
  
####  <a name="permissions"></a><a name="Permissions"></a> <span data-ttu-id="c0048-125">Permisos</span><span class="sxs-lookup"><span data-stu-id="c0048-125">Permissions</span></span>  
 <span data-ttu-id="c0048-126">Debe disponer del rol dqs_kb_editor o dqs_administrator en la base de datos DQS_MAIN para crear una regla entre dominios.</span><span class="sxs-lookup"><span data-stu-id="c0048-126">You must have the dqs_kb_editor or the dqs_administrator role on the DQS_MAIN database to create a cross-domain rule.</span></span>  
  
##  <a name="create-cross-domain-rules"></a><a name="Create"></a> <span data-ttu-id="c0048-127">Crear reglas entre dominios</span><span class="sxs-lookup"><span data-stu-id="c0048-127">Create Cross-Domain Rules</span></span>  
  
1.  [!INCLUDE[ssDQSInitialStep](../includes/ssdqsinitialstep-md.md)]<span data-ttu-id="c0048-128">[Ejecute la aplicación Data Quality Client](../../2014/data-quality-services/run-the-data-quality-client-application.md).</span><span class="sxs-lookup"><span data-stu-id="c0048-128">[Run the Data Quality Client Application](../../2014/data-quality-services/run-the-data-quality-client-application.md).</span></span>  
  
2.  <span data-ttu-id="c0048-129">En la página de inicio de [!INCLUDE[ssDQSClient](../includes/ssdqsclient-md.md)] , abra o cree una base de conocimiento.</span><span class="sxs-lookup"><span data-stu-id="c0048-129">In the [!INCLUDE[ssDQSClient](../includes/ssdqsclient-md.md)] home screen, open or create a knowledge base.</span></span> <span data-ttu-id="c0048-130">Seleccione **Administración de dominios** como actividad y, a continuación, haga clic en **Abrir** o en **Crear**.</span><span class="sxs-lookup"><span data-stu-id="c0048-130">Select **Domain Management** as the activity, and then click **Open** or **Create**.</span></span> <span data-ttu-id="c0048-131">Para obtener más información, consulte [Crear una base de conocimiento](../../2014/data-quality-services/create-a-knowledge-base.md) o [Abrir una base de conocimiento](../../2014/data-quality-services/open-a-knowledge-base.md).</span><span class="sxs-lookup"><span data-stu-id="c0048-131">For more information, see [Create a Knowledge Base](../../2014/data-quality-services/create-a-knowledge-base.md) or [Open a Knowledge Base](../../2014/data-quality-services/open-a-knowledge-base.md).</span></span>  
  
    > [!NOTE]  
    >  <span data-ttu-id="c0048-132">La administración de dominios se realiza en una página del cliente de Data Quality Services que contiene cinco pestañas para distintas operaciones de administración de dominios.</span><span class="sxs-lookup"><span data-stu-id="c0048-132">Domain management is performed in a page of the Data Quality Service client that contains five tabs for separate domain management operations.</span></span> <span data-ttu-id="c0048-133">No se trata de un proceso controlado mediante asistentes; cada una de las operaciones de administración se puede realizar por separado.</span><span class="sxs-lookup"><span data-stu-id="c0048-133">It is not a wizard-driven process; any management operation can be performed separately.</span></span>  
  
3.  <span data-ttu-id="c0048-134">En la **Lista de dominios** de la página **Administración de dominios** , seleccione el dominio compuesto para el que desea crear una regla de dominio, o cree un nuevo dominio compuesto.</span><span class="sxs-lookup"><span data-stu-id="c0048-134">From the **Domain list** on the **Domain Management** page, select the composite domain that you want to create a domain rule for, or create a new composite domain.</span></span> <span data-ttu-id="c0048-135">Si necesita crear un nuevo dominio, vea [Create a Composite Domain](../../2014/data-quality-services/create-a-composite-domain.md).</span><span class="sxs-lookup"><span data-stu-id="c0048-135">If you have to create a new domain, see [Create a Composite Domain](../../2014/data-quality-services/create-a-composite-domain.md).</span></span>  
  
4.  <span data-ttu-id="c0048-136">Haga clic en la pestaña **Reglas de CD** .</span><span class="sxs-lookup"><span data-stu-id="c0048-136">Click the **CD Rules** tab.</span></span>  
  
5.  <span data-ttu-id="c0048-137">Haga clic en **Agregar una nueva regla de dominio**y escriba un nombre y una descripción para la regla.</span><span class="sxs-lookup"><span data-stu-id="c0048-137">Click **Add a new domain rule**, and then enter a name and description for the rule.</span></span>  
  
6.  <span data-ttu-id="c0048-138">Active la casilla **Activa** para especificar que la regla se debe ejecutar (el valor predeterminado) o anule dicha selección para impedir su ejecución.</span><span class="sxs-lookup"><span data-stu-id="c0048-138">Select **Active** to specify that the rule will be run (the default), and deselect to prevent the rule from running.</span></span>  
  
7.  <span data-ttu-id="c0048-139">Cree la cláusula If de la manera siguiente:</span><span class="sxs-lookup"><span data-stu-id="c0048-139">Create the If clause as follows:</span></span>  
  
    1.  <span data-ttu-id="c0048-140">En la lista de dominios del panel de cláusulas If, seleccione uno de los dominios individuales incluidos en el dominio compuesto como el sujeto de la cláusula If.</span><span class="sxs-lookup"><span data-stu-id="c0048-140">In the domain list in the If clause pane, select one of the single domains included in the composite domain to be the subject of the If clause.</span></span> <span data-ttu-id="c0048-141">Puede seleccionar cualquier dominio individual del dominio compuesto.</span><span class="sxs-lookup"><span data-stu-id="c0048-141">You can select any single domain in the composite domain.</span></span>  
  
    2.  <span data-ttu-id="c0048-142">Seleccione una condición en la lista desplegable para la primera condición de la cláusula.</span><span class="sxs-lookup"><span data-stu-id="c0048-142">Select a condition from the drop-down list for the first condition of the clause.</span></span>  
  
    3.  <span data-ttu-id="c0048-143">Si la condición requiere un valor, escríbalo en el cuadro de texto asociado con la condición.</span><span class="sxs-lookup"><span data-stu-id="c0048-143">If the condition requires a value, enter the value in the text box associated with the condition.</span></span>  
  
    4.  <span data-ttu-id="c0048-144">Si la cláusula If requiere otra condición, haga clic en **Agrega una nueva condición a la cláusula seleccionada**.</span><span class="sxs-lookup"><span data-stu-id="c0048-144">If the If clause requires another condition, click **Adds a new condition to the selected clause**.</span></span> <span data-ttu-id="c0048-145">Seleccione el operador, seleccione una condición y escriba un valor para esta, si es necesario.</span><span class="sxs-lookup"><span data-stu-id="c0048-145">Select the operator, select a condition, and enter a value for the condition, if necessary.</span></span>  
  
    5.  <span data-ttu-id="c0048-146">Para cambiar el orden de las condiciones, seleccione una de ellas haciendo clic a su izquierda y, a continuación, haga clic en la flecha arriba o en la flecha abajo.</span><span class="sxs-lookup"><span data-stu-id="c0048-146">To change the order of the conditions, select a condition by clicking to its left, and then click the up or down arrow.</span></span>  
  
    6.  <span data-ttu-id="c0048-147">Para ocultar las condiciones, haga clic en el signo menos situado a la izquierda del nombre del dominio.</span><span class="sxs-lookup"><span data-stu-id="c0048-147">To hide the conditions, click the minus sign to the left of the domain name.</span></span> <span data-ttu-id="c0048-148">Haga clic en el signo más para mostrar las condiciones.</span><span class="sxs-lookup"><span data-stu-id="c0048-148">Click the plus ign to display the conditions.</span></span>  
  
8.  <span data-ttu-id="c0048-149">Cree la cláusula Then seleccionando un dominio individual, distinto del sujeto de la cláusula If, en la lista de dominios que aparece en el panel de cláusulas Then.</span><span class="sxs-lookup"><span data-stu-id="c0048-149">Create the Then clause by selecting a single domain, other than the subject of the If clause, in the domain list in the Then clause pane.</span></span> <span data-ttu-id="c0048-150">A continuación, genere la cláusula Then siguiendo los mismos pasos utilizados para la cláusula If.</span><span class="sxs-lookup"><span data-stu-id="c0048-150">Then build the Then clause using the same steps that you did in building the If clause.</span></span>  
  
9. <span data-ttu-id="c0048-151">Continúe con el procedimiento de prueba descrito a continuación.</span><span class="sxs-lookup"><span data-stu-id="c0048-151">Proceed to the testing procedure below.</span></span>  
  
##  <a name="test-cross-domain-rules"></a><a name="Test"></a> <span data-ttu-id="c0048-152">Probar reglas entre dominios</span><span class="sxs-lookup"><span data-stu-id="c0048-152">Test Cross-Domain Rules</span></span>  
  
1.  <span data-ttu-id="c0048-153">Pruebe la regla entre dominios de la manera siguiente:</span><span class="sxs-lookup"><span data-stu-id="c0048-153">Test the cross-domain rule as follows:</span></span>  
  
    1.  <span data-ttu-id="c0048-154">Haga clic en el icono **Ejecutar la regla de dominio seleccionada en los datos de prueba** en la esquina superior derecha del panel de dominios compuestos.</span><span class="sxs-lookup"><span data-stu-id="c0048-154">Click the **Run the selected domain rule on test data to** icon in the upper right-hand corner of the composite domain pane.</span></span>  
  
    2.  <span data-ttu-id="c0048-155">En el cuadro de diálogo **Probar regla de dominio** , haga clic en el icono **Agrega un nuevo término de prueba para la regla de dominio** .</span><span class="sxs-lookup"><span data-stu-id="c0048-155">In the **Test Domain Rule** dialog box, click the **Adds a New Testing Term for the Domain Rule** icon.</span></span>  
  
    3.  <span data-ttu-id="c0048-156">Escriba los valores de prueba para los dominios individuales asociados con las cláusulas If y Then.</span><span class="sxs-lookup"><span data-stu-id="c0048-156">Enter test values for the single domain associated with the If clause and the single domain associated with the Then clause.</span></span> <span data-ttu-id="c0048-157">Los valores de prueba escritos en la cláusula If deben cumplir las condiciones de dicha cláusula; en caso contrario, se incluirá un signo de interrogación en la columna **Validez** que indicará que la regla entre dominios no se aplica a los datos de prueba.</span><span class="sxs-lookup"><span data-stu-id="c0048-157">The test values entered in the If clause must meet the conditions for that clause, or a question mark will be entered in the **Validity** column indicating that the cross-domain rule does not apply to the test data.</span></span>  
  
    4.  <span data-ttu-id="c0048-158">Haga clic de nuevo en el icono **Agrega un nuevo término de prueba para la regla de dominio** para agregar otro conjunto de valores de prueba.</span><span class="sxs-lookup"><span data-stu-id="c0048-158">Click the **Adds a new testing term for the domain rule** icon again to add another set of test values.</span></span>  
  
    5.  <span data-ttu-id="c0048-159">Haga clic en el icono **probar la regla de dominio en todos los términos** .</span><span class="sxs-lookup"><span data-stu-id="c0048-159">Click the **Test the Domain Rule on All the Terms** icon.</span></span> <span data-ttu-id="c0048-160">Si un conjunto de valores de prueba es válido, DQS incluirá una marca de comprobación en la columna **Validez** de la fila.</span><span class="sxs-lookup"><span data-stu-id="c0048-160">If a set of test values is valid, DQS will enter a check in the **Validity** column for the row.</span></span> <span data-ttu-id="c0048-161">Si el conjunto de valores de prueba no es válido, DQS incluirá un triángulo con un signo de exclamación en la columna Validez de la fila.</span><span class="sxs-lookup"><span data-stu-id="c0048-161">If the set of test values is not valid, DQS will enter a triangle with an exclamation point in the Validity column for the row.</span></span>  
  
    6.  <span data-ttu-id="c0048-162">Una vez finalizada la prueba, haga clic en **Cerrar** en el cuadro de diálogo **Probar regla de dominio compuesto** .</span><span class="sxs-lookup"><span data-stu-id="c0048-162">After your testing is complete, click **Close** in the **Test Composite Domain Rule** dialog box.</span></span>  
  
2.  <span data-ttu-id="c0048-163">Cuando haya terminado de definir las reglas entre dominios, haga clic en **Finalizar** para finalizar la actividad de administración de dominios, tal como se describe en [End the Domain Management Activity](../../2014/data-quality-services/end-the-domain-management-activity.md).</span><span class="sxs-lookup"><span data-stu-id="c0048-163">When you have completed your cross-domain rules, click **Finish** to complete the domain management activity, as described in [End the Domain Management Activity](../../2014/data-quality-services/end-the-domain-management-activity.md).</span></span>  
  
##  <a name="follow-up-after-creating-a-cross-domain-rule"></a><a name="FollowUp"></a> <span data-ttu-id="c0048-164">Seguimiento: después de crear una regla entre dominios</span><span class="sxs-lookup"><span data-stu-id="c0048-164">Follow Up: After Creating a Cross-Domain Rule</span></span>  
 <span data-ttu-id="c0048-165">Una vez creada una regla entre dominios, puede realizar otras tareas de administración en el dominio, ejecutar la detección de conocimiento para agregar conocimiento al dominio o agregar a este una directiva de coincidencia.</span><span class="sxs-lookup"><span data-stu-id="c0048-165">After you create a cross-down rule, you can perform other domain management tasks on the domain, you can perform knowledge discovery to add knowledge to the domain, or you can add a matching policy to the domain.</span></span> <span data-ttu-id="c0048-166">Para más información, vea [Realizar la detección de conocimiento](../../2014/data-quality-services/perform-knowledge-discovery.md), [Administrar un dominio](../../2014/data-quality-services/managing-a-domain.md) o [Crear una directiva de coincidencia](../../2014/data-quality-services/create-a-matching-policy.md).</span><span class="sxs-lookup"><span data-stu-id="c0048-166">For more information, see [Perform Knowledge Discovery](../../2014/data-quality-services/perform-knowledge-discovery.md), [Managing a Domain](../../2014/data-quality-services/managing-a-domain.md), or [Create a Matching Policy](../../2014/data-quality-services/create-a-matching-policy.md).</span></span>  
  
  
